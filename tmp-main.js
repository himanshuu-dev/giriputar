const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/agent-session.js-DIlIAoFt.js","chunks/chunk--QM2LZfv.js","chunks/chunk-BPB3WYz4.js","chunks/chunk-CMjeC7eR.js","chunks/chunk-vO_5M3iW.js","assets/monaco-editor-BetWCQm5.css","chunks/chunk-JLrZeVHh.js","chunks/chunk-Cszvwt2r.js","chunks/chunk-DVijDBuK.js","chunks/chunk-DHmc-0SL.js","chunks/chunk-CXnPTvSO.js","chunks/chunk-CgwgwzaB.js","chunks/chunk-DD0HJyST.js","chunks/index.js-BC465f5m.js","chunks/chunk-BJJZNqVX.js","chunks/chunk-BprxSAKq.js","chunks/chunk-Bl2_78NI.js","chunks/chunk-eK1h-Lch.js","chunks/chunk-NxZUMnNA.js","chunks/chunk-eGeoT8Mx.js","chunks/index.js-D6NuCA2F.js","chunks/chunk-OZ8Lt7PY.js","chunks/chunk-Bb7irpQQ.js","chunks/index.js-y2-ETJU-.js","chunks/chunk-PalxAwQ_.js","chunks/index.js-Dq-pKeSn.js","chunks/index.js-tlNw6X2E.js","chunks/chunk-BVQCr-HH.js","chunks/index.js-FLYuO0gA.js","chunks/index.js-B0dO9pzj.js","chunks/index.js-Di3ydvRH.js","chunks/chunk-BBUPGI_n.js","chunks/recorder.js-DRwfR3RO.js","chunks/index.js-BWPlPFqf.js","chunks/index.js-B7EEm2pY.js","chunks/index.js-Di54BPOq.js","chunks/Slider.tsx-D6eSpIAN.js","chunks/index.tsx-BY8TQO2K.js","chunks/AddMemberModal.tsx-Cp2NsI6n.js","chunks/chunk-BiEjrY9D.js","chunks/chunk-BB4PGev3.js","chunks/chunk-DQH7BYDR.js","chunks/TeamWorkspaceModal.tsx-CjlpQ-7C.js","chunks/chunk-DQ64UI8D.js","chunks/OneMillionModal.tsx-bsw1GTmz.js","chunks/JobIDModal.tsx-CVFwlyHM.js","chunks/ReferralModal.tsx-nq-MY1dc.js","chunks/chunk-BJNOuOYl.js","chunks/TeamIntroduction.tsx-Bgvk_H4n.js","chunks/DataDetailsModal.tsx-Dp-z9J1M.js","chunks/UltraThinkingModal.tsx-ebfmsx5y.js","chunks/NewMCPServerModal.tsx-DCcuhLja.js","assets/NewMCPServerModal-CgE8EJLd.css","chunks/MCPToolsModal.tsx-HTJ24CIs.js","chunks/MCPIntroductionModal.tsx-Bj1ed51h.js","chunks/BroModeIntroductionModal.tsx-Cz_eI475.js","chunks/DailyCreditModal.tsx-iSxLRSSi.js","chunks/ShareModal.tsx-yzYmZ2co.js","chunks/chunk-lsVR7fVE.js","chunks/FundingIntroduction.tsx-B_8GZ9BR.js","chunks/chunk-wT6PzpSA.js","chunks/ProModal.tsx-DSndqWab.js","chunks/LockinPriceModal.tsx-CECok7lL.js","chunks/TestModeModal.tsx-D-PyNXcJ.js","chunks/AllWorkspacesModal.tsx-CMIo-pgU.js","chunks/BetaThankYouModal.tsx-l9VZo6zs.js","chunks/PromotionalModalManager.tsx-BbwpamM0.js","chunks/FreeWeekendModal.tsx-CYUWZMGY.js","chunks/DeploymentSuccessModal.tsx-Ddqdl8IF.js","chunks/OpusIntroduction.tsx-CR3FpxTY.js","chunks/Opus46Introduction.tsx-B6hqlIDl.js","chunks/GiftingModal.tsx-D1KfWKIi.js","chunks/DnsDetailsModal.tsx-D53Hz9z7.js","chunks/RepositorySelectorModal.tsx-CuzW6PM8.js","chunks/PublishMoltbotModal.tsx-BZPjM8WG.js","chunks/MoltbotPublishedModal.tsx-BG0wswRa.js","chunks/chunk-CHHHtuWd.js","chunks/LandingIndex.tsx-BErU3-l4.js","chunks/chunk-BK2iLkKy.js","chunks/authentication.tsx-C7KnWedc.js","chunks/email-verfication.tsx-CEeQytBn.js","chunks/passwordReset.tsx-CwVUnTz0.js","chunks/privacy-policy.tsx-D5N8edev.js","chunks/terms-and-service.tsx-mWeEbt8S.js","chunks/oauth.tsx-BCBDDzxC.js","chunks/PreviewLoading.tsx-B1yfO-Mx.js","chunks/PreviewNotFound.tsx-Ch_zgsib.js","chunks/GitHubCallback.tsx-CIK5mPAB.js","chunks/MobileGitHubCallback.tsx-BBtevhOf.js","chunks/PartnersTerms.tsx-lvdu-VX9.js","chunks/share-app.tsx-D8pxeGjx.js","chunks/chunk-DKrrnGUl.js","chunks/share-preview.tsx-BES5e9RT.js","chunks/mobile-app-redirect.tsx-CJFHIuAI.js","chunks/mobile-app-download.tsx-BetZDzeO.js"])))=>i.map(i=>d[i]);
var Zq=Object.defineProperty;var B_=e=>{throw TypeError(e)};var Jq=(e,n,s)=>n in e?Zq(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s;var Vt=(e,n,s)=>Jq(e,typeof n!="symbol"?n+"":n,s),b4=(e,n,s)=>n.has(e)||B_("Cannot "+s);var y4=(e,n,s)=>(b4(e,n,"read from private field"),s?s.call(e):n.get(e)),bd=(e,n,s)=>n.has(e)?B_("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,s),U_=(e,n,s,r)=>(b4(e,n,"write to private field"),r?r.call(e,s):n.set(e,s),s),Ir=(e,n,s)=>(b4(e,n,"access private method"),s);import{j as t,T as z8,a as F5,O as Ff,P as Yh,C as Ef,b as E5,D as W8,R as S5,c as pM,I as Xq,S as fM,d as mM,e as Qq,f as hM,V as eK,L as xM,g as gM,h as tK,i as nK,k as bM,l as sK,m as rK,n as iK,o as yM,p as aK,q as vM,r as wM,t as oK,u as CM,v as _M,w as jM,x as NM,y as FM,z as EM,A as SM,B as lK,E as cK,F as ri,G as ii,H as $a,J as qr,K as na,M as Rp,N as G8,Q as kM,U as IM,W as q8,X as K8,Y as Y8,Z as Z8,s as dK,_ as uK,$ as J8,a0 as pK,a1 as fK,a2 as mK,a3 as TM,a4 as hK,a5 as xK,a6 as AM,a7 as gK,a8 as DM,a9 as MM,aa as RM,ab as bK,ac as yK,ad as LM,ae as PM,af as OM,ag as vK,ah as wK,ai as CK,aj as BM,ak as UM,al as HM,am as VM,an as _K,ao as jK,ap as NK,aq as FK,ar as EK,as as SK,at as $M,au as zM}from"./chunks/chunk-BPB3WYz4.js";import{j as kK,e as ga,a as d,u as Ea,h as Mi,d as et,i as Fu,b as Lp,R as IK,L as H_,c as ig,k as TK,l as Ci,N as AK,B as DK}from"./chunks/chunk-CMjeC7eR.js";import{_ as vn,w as zg,F as Wg}from"./chunks/chunk-vO_5M3iW.js";import{c as MK}from"./chunks/chunk-JLrZeVHh.js";import{i as eh,w as V_,n as WM,f as GM,e as RK,c as Sf,b as X8,p as Q8,d as Yc,g as Ca,h as fm,j as Gg,k as e9,l as uu,m as $_,o as qM,S as KM,q as v4,r as t9,s as YM,t as LK,v as ZM,x as PK,y as z_,z as OK,A as BK,B as UK,C as HK,a as br,u as ba,D as Oc,E as VK,F as W_,G as $K,R as zK,P as WK,H as GK,I as qK,J as KK,K as YK,L as ZK}from"./chunks/chunk-Cszvwt2r.js";import{a as JK,r as XK,v as QK}from"./chunks/chunk-DVijDBuK.js";import{u as en,T as G_,i as N1,B as eY,a as tY}from"./chunks/chunk-DHmc-0SL.js";import{m as fe,A as Kn,L as nY,d as sY}from"./chunks/chunk-CXnPTvSO.js";import{q as rY}from"./chunks/chunk-CgwgwzaB.js";import{M as JM,r as XM}from"./chunks/chunk-DD0HJyST.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var V0={},q_;function iY(){if(q_)return V0;q_=1;var e=kK();return V0.createRoot=e.createRoot,V0.hydrateRoot=e.hydrateRoot,V0}var aY=iY();const oY=ga(aY),lY={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://api.emergent.sh",VITE_API_BASE_URL_APP_PUBLIC_POSTHOG_KEY:"phc_xAvL2Iq4tFmANRE7kzbKwaSqp1HJjN7x48s3vr0CMjs",VITE_APP_BLITZ_API_KEY:"key_BW17ja9hEvA2Mym",VITE_APP_CDN_URL:"preview.static.emergentagent.com",VITE_APP_PUBLIC_POSTHOG_HOST:"https://ap.emergent.sh",VITE_APP_PUBLIC_POSTHOG_KEY:"phc_xAvL2Iq4tFmANRE7kzbKwaSqp1HJjN7x48s3vr0CMjs",VITE_APP_PUSHER_CLUSTER:"us2",VITE_APP_PUSHER_KEY:"6c79f46bf9937b9d82df",VITE_APP_UPLOAD_URL:"https://files.emergent.sh",VITE_APP_VERSION:"1.0.466",VITE_CLOUDINARY_CLOUD_NAME:"dedwy4r6x",VITE_ENTRI_APP_ID:"",VITE_FINGERPRINT_API_KEY:"bjLV9OY0jn9FyljSQFMn",VITE_FINGERPRINT_ENDPOINT:"https://app.emergent.sh/yYu6hLHLpQEW2ELz/BJnqq7CRgAe18QLk",VITE_GITHUB_APP_URL:"https://github.com/apps/emergent-sh/installations/new",VITE_GITHUB_CLIENT_ID:"Iv23liv4X4UqMyubvvul",VITE_GOOGLE_CLIENT_ID:"201274743812-rbtii4pvbnhsfh5f0tg26qo31hcrfmg5.apps.googleusercontent.com",VITE_NEWRELIC_ACCOUNT_ID:"7256303",VITE_NEWRELIC_AGENT_ID:"1589150949",VITE_NEWRELIC_APPLICATION_ID:"1589150949",VITE_NEWRELIC_LICENSE_KEY:"NRBR-5532f07fcd7ef7d45ce",VITE_NEWRELIC_TRUST_KEY:"7256303",VITE_PADDLE_CLIENT_TOKEN:"live_b30093d99d7846644b2e678861f",VITE_PREVIEW_QR_API_URL:"https://qr.emergent.host",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNua3N4d2t5dW1oZHlreXJoaGNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ3NzI2NDYsImV4cCI6MjA0MDM0ODY0Nn0.3unO6zdz2NilPL2xdxt7OjvZA19copj3Q7ulIjPVDLQ",VITE_SUPABASE_URL:"https://snksxwkyumhdykyrhhch.supabase.co"};function cY(){const n=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_API_BASE_URL","VITE_GITHUB_APP_URL","VITE_GITHUB_CLIENT_ID","VITE_API_BASE_URL_APP_PUBLIC_POSTHOG_KEY","VITE_APP_PUBLIC_POSTHOG_HOST","VITE_APP_UPLOAD_URL","VITE_CLOUDINARY_CLOUD_NAME","VITE_FINGERPRINT_API_KEY","VITE_FINGERPRINT_ENDPOINT"].filter(s=>!lY[s]);if(n.length>0)throw new Error(`Missing required environment variables: ${n.join(", ")}`)}cY();const so={supabaseUrl:"https://snksxwkyumhdykyrhhch.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNua3N4d2t5dW1oZHlreXJoaGNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ3NzI2NDYsImV4cCI6MjA0MDM0ODY0Nn0.3unO6zdz2NilPL2xdxt7OjvZA19copj3Q7ulIjPVDLQ",googleClientId:"201274743812-rbtii4pvbnhsfh5f0tg26qo31hcrfmg5.apps.googleusercontent.com",githubToken:void 0,_pluginLibraryVersion:"1.0.6-beta",_apiBaseUrl:"https://api.emergent.sh",_file_upload_url:"https://files.emergent.sh",_cdn_url:"preview.static.emergentagent.com",get apiBaseUrl(){return this._apiBaseUrl},set apiBaseUrl(e){this._apiBaseUrl=e,localStorage.setItem("apiBaseUrl",e)},get cdnUrl(){return this._cdn_url}},th={appUrl:"https://github.com/apps/emergent-sh/installations/new",mobileAppUrl:void 0,clientId:"Iv23liv4X4UqMyubvvul",getCallbackUrl:()=>`${window.location.origin}/github-callback`,getMobileCallbackUrl:()=>`${window.location.origin}/mobile-github-callback`},QM={apiKey:"phc_xAvL2Iq4tFmANRE7kzbKwaSqp1HJjN7x48s3vr0CMjs",apiHost:"https://ap.emergent.sh"},ORe={enableProductHuntChanges:!1},dY={pixelId:void 0},w4={clientToken:"live_b30093d99d7846644b2e678861f",environment:"live_b30093d99d7846644b2e678861f".startsWith("test_")?"sandbox":"production"},K_={apiKey:"bjLV9OY0jn9FyljSQFMn",endpoint:"https://app.emergent.sh/yYu6hLHLpQEW2ELz/BJnqq7CRgAe18QLk"},pi=MK(so.supabaseUrl,so.supabaseAnonKey),uY=Object.freeze(Object.defineProperty({__proto__:null,supabase:pi},Symbol.toStringTag,{value:"Module"})),pY=5,eR=5e3;let C4=0;function fY(){return C4=(C4+1)%Number.MAX_SAFE_INTEGER,C4.toString()}const _4=new Map,Y_=e=>{if(_4.has(e))return;const n=setTimeout(()=>{_4.delete(e),F1({type:"REMOVE_TOAST",toastId:e})},eR);_4.set(e,n)},mY=(e,n)=>{switch(n.type){case"ADD_TOAST":return{...e,toasts:[n.toast,...e.toasts].slice(0,pY)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===n.toast.id?{...s,...n.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=n;return s?Y_(s):e.toasts.forEach(r=>{Y_(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==n.toastId)}}},ag=[];let og={toasts:[]};function F1(e){og=mY(og,e),ag.forEach(n=>{n(og)})}function Ds({...e}){const n=fY(),s=e.duration||eR,r=a=>F1({type:"UPDATE_TOAST",toast:{...a,id:n}}),i=()=>F1({type:"DISMISS_TOAST",toastId:n});return F1({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:a=>{a||i()}}}),s!==1/0&&setTimeout(i,s),{id:n,dismiss:i,update:r}}function ns(){const[e,n]=d.useState(og);return d.useEffect(()=>(ag.push(n),()=>{const s=ag.indexOf(n);s>-1&&ag.splice(s,1)}),[e]),{...e,toast:Ds,dismiss:s=>F1({type:"DISMISS_TOAST",toastId:s})}}var st=typeof window<"u"?window:void 0,Ua=typeof globalThis<"u"?globalThis:st,tR=Array.prototype,Z_=tR.forEach,J_=tR.indexOf,eo=Ua?.navigator,fn=Ua?.document,La=Ua?.location,iv=Ua?.fetch,av=Ua!=null&&Ua.XMLHttpRequest&&"withCredentials"in new Ua.XMLHttpRequest?Ua.XMLHttpRequest:void 0,X_=Ua?.AbortController,Ma=eo?.userAgent,bs=st??{},Ol={DEBUG:!1,LIB_VERSION:"1.298.0"};function Q_(e,n,s,r,i,a,o){try{var l=e[a](o),c=l.value}catch(u){return void s(u)}l.done?n(c):Promise.resolve(c).then(r,i)}function ej(e){return function(){var n=this,s=arguments;return new Promise((function(r,i){var a=e.apply(n,s);function o(c){Q_(a,r,i,o,l,"next",c)}function l(c){Q_(a,r,i,o,l,"throw",c)}o(void 0)}))}}function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Dn.apply(null,arguments)}function nR(e,n){if(e==null)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;s[r]=e[r]}return s}var hY=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],tj=function(e,n){if(n===void 0&&(n=[]),!e)return!1;var s=e.toLowerCase();return hY.concat(n).some((r=>{var i=r.toLowerCase();return s.indexOf(i)!==-1}))},xY=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function Ys(e,n){return e.indexOf(n)!==-1}var k5=function(e){return e.trim()},ov=function(e){return e.replace(/^\$/,"")},gY=Array.isArray,sR=Object.prototype,rR=sR.hasOwnProperty,I5=sR.toString,Mr=gY||function(e){return I5.call(e)==="[object Array]"},Bc=e=>typeof e=="function",ta=e=>e===Object(e)&&!Mr(e),gp=e=>{if(ta(e)){for(var n in e)if(rR.call(e,n))return!1;return!0}return!1},cn=e=>e===void 0,Bi=e=>I5.call(e)=="[object String]",lv=e=>Bi(e)&&e.trim().length===0,ic=e=>e===null,Or=e=>cn(e)||ic(e),vl=e=>I5.call(e)=="[object Number]",Uc=e=>I5.call(e)==="[object Boolean]",bY=e=>e instanceof FormData,yY=e=>Ys(xY,e);function cv(e){return e===null||typeof e!="object"}function qg(e,n){return Object.prototype.toString.call(e)==="[object "+n+"]"}function iR(e){return!cn(Event)&&(function(n,s){try{return n instanceof s}catch{return!1}})(e,Event)}var vY=[!0,"true",1,"1","yes"],j4=e=>Ys(vY,e),wY=[!1,"false",0,"0","no"];function ol(e,n,s,r,i){return n>s&&(r.warn("min cannot be greater than max."),n=s),vl(e)?e>s?(r.warn(" cannot be  greater than max: "+s+". Using max value instead."),s):e<n?(r.warn(" cannot be less than min: "+n+". Using min value instead."),n):e:(r.warn(" must be a number. using max or fallback. max: "+s+", fallback: "+i),ol(i||s,n,s,r))}let CY=class{constructor(n){this.t={},this.i=n.i,this.o=ol(n.bucketSize,0,100,n.h),this.m=ol(n.refillRate,0,this.o,n.h),this.$=ol(n.refillInterval,0,864e5,n.h)}S(n,s){var r=s-n.lastAccess,i=Math.floor(r/this.$);if(i>0){var a=i*this.m;n.tokens=Math.min(n.tokens+a,this.o),n.lastAccess=n.lastAccess+i*this.$}}consumeRateLimit(n){var s,r=Date.now(),i=String(n),a=this.t[i];return a?this.S(a,r):(a={tokens:this.o,lastAccess:r},this.t[i]=a),a.tokens===0||(a.tokens--,a.tokens===0&&((s=this.i)==null||s.call(this,n)),a.tokens===0)}stop(){this.t={}}};var $0,nj,N4,_Y=e=>e instanceof Error;function jY(e){var n=globalThis._posthogChunkIds;if(n){var s=Object.keys(n);return N4&&s.length===nj||(nj=s.length,N4=s.reduce(((r,i)=>{$0||($0={});var a=$0[i];if(a)r[a[0]]=a[1];else for(var o=e(i),l=o.length-1;l>=0;l--){var c=o[l],u=c?.filename,p=n[i];if(u&&p){r[u]=p,$0[i]=[u,p];break}}return r}),{})),N4}}let NY=class{constructor(n,s,r){r===void 0&&(r=[]),this.coercers=n,this.stackParser=s,this.modifiers=r}buildFromUnknown(n,s){s===void 0&&(s={});var r=s&&s.mechanism||{handled:!0,type:"generic"},i=this.buildCoercingContext(r,s,0).apply(n),a=this.buildParsingContext(),o=this.parseStacktrace(i,a);return{$exception_list:this.convertToExceptionList(o,r),$exception_level:"error"}}modifyFrames(n){var s=this;return ej((function*(){for(var r of n)r.stacktrace&&r.stacktrace.frames&&Mr(r.stacktrace.frames)&&(r.stacktrace.frames=yield s.applyModifiers(r.stacktrace.frames));return n}))()}coerceFallback(n){var s;return{type:"Error",value:"Unknown error",stack:(s=n.syntheticException)==null?void 0:s.stack,synthetic:!0}}parseStacktrace(n,s){var r,i;return n.cause!=null&&(r=this.parseStacktrace(n.cause,s)),n.stack!=""&&n.stack!=null&&(i=this.applyChunkIds(this.stackParser(n.stack,n.synthetic?1:0),s.chunkIdMap)),Dn({},n,{cause:r,stack:i})}applyChunkIds(n,s){return n.map((r=>(r.filename&&s&&(r.chunk_id=s[r.filename]),r)))}applyCoercers(n,s){for(var r of this.coercers)if(r.match(n))return r.coerce(n,s);return this.coerceFallback(s)}applyModifiers(n){var s=this;return ej((function*(){var r=n;for(var i of s.modifiers)r=yield i(r);return r}))()}convertToExceptionList(n,s){var r,i,a,o={type:n.type,value:n.value,mechanism:{type:(r=s.type)!==null&&r!==void 0?r:"generic",handled:(i=s.handled)===null||i===void 0||i,synthetic:(a=n.synthetic)!==null&&a!==void 0&&a}};n.stack&&(o.stacktrace={type:"raw",frames:n.stack});var l=[o];return n.cause!=null&&l.push(...this.convertToExceptionList(n.cause,Dn({},s,{handled:!0}))),l}buildParsingContext(){return{chunkIdMap:jY(this.stackParser)}}buildCoercingContext(n,s,r){r===void 0&&(r=0);var i=(a,o)=>{if(o<=4){var l=this.buildCoercingContext(n,s,o);return this.applyCoercers(a,l)}};return Dn({},s,{syntheticException:r==0?s.syntheticException:void 0,mechanism:n,apply:a=>i(a,r),next:a=>i(a,r+1)})}};var Jp="?";function dv(e,n,s,r,i){var a={platform:e,filename:n,function:s==="<anonymous>"?Jp:s,in_app:!0};return cn(r)||(a.lineno=r),cn(i)||(a.colno=i),a}var aR=(e,n)=>{var s=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return s||r?[e.indexOf("@")!==-1?e.split("@")[0]:Jp,s?"safari-extension:"+n:"safari-web-extension:"+n]:[e,n]},FY=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,EY=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,SY=/\((\S*)(?::(\d+))(?::(\d+))\)/,kY=(e,n)=>{var s=FY.exec(e);if(s){var[,r,i,a]=s;return dv(n,r,Jp,+i,+a)}var o=EY.exec(e);if(o){if(o[2]&&o[2].indexOf("eval")===0){var l=SY.exec(o[2]);l&&(o[2]=l[1],o[3]=l[2],o[4]=l[3])}var[c,u]=aR(o[1]||Jp,o[2]);return dv(n,u,c,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}},IY=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,TY=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,AY=(e,n)=>{var s=IY.exec(e);if(s){if(s[3]&&s[3].indexOf(" > eval")>-1){var r=TY.exec(s[3]);r&&(s[1]=s[1]||"eval",s[3]=r[1],s[4]=r[2],s[5]="")}var i=s[3],a=s[1]||Jp;return[a,i]=aR(a,i),dv(n,i,a,s[4]?+s[4]:void 0,s[5]?+s[5]:void 0)}},sj=/\(error: (.*)\)/,rj=50;function DY(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return function(i,a){a===void 0&&(a=0);for(var o=[],l=i.split(`
`),c=a;c<l.length;c++){var u=l[c];if(!(u.length>1024)){var p=sj.test(u)?u.replace(sj,"$1"):u;if(!p.match(/\S*Error: /)){for(var f of s){var m=f(p,e);if(m){o.push(m);break}}if(o.length>=rj)break}}}return(function(h){if(!h.length)return[];var x=Array.from(h);return x.reverse(),x.slice(0,rj).map((g=>{return Dn({},g,{filename:g.filename||(v=x,v[v.length-1]||{}).filename,function:g.function||Jp});var v}))})(o)}}let MY=class{match(n){return this.isDOMException(n)||this.isDOMError(n)}coerce(n,s){var r=Bi(n.stack);return{type:this.getType(n),value:this.getValue(n),stack:r?n.stack:void 0,cause:n.cause?s.next(n.cause):void 0,synthetic:!1}}getType(n){return this.isDOMError(n)?"DOMError":"DOMException"}getValue(n){var s=n.name||(this.isDOMError(n)?"DOMError":"DOMException");return n.message?s+": "+n.message:s}isDOMException(n){return qg(n,"DOMException")}isDOMError(n){return qg(n,"DOMError")}},RY=class{match(n){return(s=>s instanceof Error)(n)}coerce(n,s){return{type:this.getType(n),value:this.getMessage(n,s),stack:this.getStack(n),cause:n.cause?s.next(n.cause):void 0,synthetic:!1}}getType(n){return n.name||n.constructor.name}getMessage(n,s){var r=n.message;return r.error&&typeof r.error.message=="string"?String(r.error.message):String(r)}getStack(n){return n.stacktrace||n.stack||void 0}};class LY{constructor(){}match(n){return qg(n,"ErrorEvent")&&n.error!=null}coerce(n,s){var r,i=s.apply(n.error);return i||{type:"ErrorEvent",value:n.message,stack:(r=s.syntheticException)==null?void 0:r.stack,synthetic:!0}}}var PY=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let OY=class{match(n){return typeof n=="string"}coerce(n,s){var r,[i,a]=this.getInfos(n);return{type:i??"Error",value:a??n,stack:(r=s.syntheticException)==null?void 0:r.stack,synthetic:!0}}getInfos(n){var s="Error",r=n,i=n.match(PY);return i&&(s=i[1],r=i[2]),[s,r]}};var BY=["fatal","error","warning","log","info","debug"];function oR(e,n){n===void 0&&(n=40);var s=Object.keys(e);if(s.sort(),!s.length)return"[object has no keys]";for(var r=s.length;r>0;r--){var i=s.slice(0,r).join(", ");if(!(i.length>n))return r===s.length||i.length<=n?i:i.slice(0,n)+"..."}return""}class UY{match(n){return typeof n=="object"&&n!==null}coerce(n,s){var r,i=this.getErrorPropertyFromObject(n);return i?s.apply(i):{type:this.getType(n),value:this.getValue(n),stack:(r=s.syntheticException)==null?void 0:r.stack,level:this.isSeverityLevel(n.level)?n.level:"error",synthetic:!0}}getType(n){return iR(n)?n.constructor.name:"Error"}getValue(n){if("name"in n&&typeof n.name=="string"){var s="'"+n.name+"' captured as exception";return"message"in n&&typeof n.message=="string"&&(s+=" with message: '"+n.message+"'"),s}if("message"in n&&typeof n.message=="string")return n.message;var r=this.getObjectClassName(n);return(r&&r!=="Object"?"'"+r+"'":"Object")+" captured as exception with keys: "+oR(n)}isSeverityLevel(n){return Bi(n)&&!lv(n)&&BY.indexOf(n)>=0}getErrorPropertyFromObject(n){for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var r=n[s];if(_Y(r))return r}}getObjectClassName(n){try{var s=Object.getPrototypeOf(n);return s?s.constructor.name:void 0}catch{return}}}class HY{match(n){return iR(n)}coerce(n,s){var r,i=n.constructor.name;return{type:i,value:i+" captured as exception with keys: "+oR(n),stack:(r=s.syntheticException)==null?void 0:r.stack,synthetic:!0}}}class VY{match(n){return cv(n)}coerce(n,s){var r;return{type:"Error",value:"Primitive value captured as exception: "+String(n),stack:(r=s.syntheticException)==null?void 0:r.stack,synthetic:!0}}}class $Y{match(n){return qg(n,"PromiseRejectionEvent")}coerce(n,s){var r,i=this.getUnhandledRejectionReason(n);return cv(i)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i),stack:(r=s.syntheticException)==null?void 0:r.stack,synthetic:!0}:s.apply(i)}getUnhandledRejectionReason(n){if(cv(n))return n;try{if("reason"in n)return n.reason;if("detail"in n&&"reason"in n.detail)return n.detail.reason}catch{}return n}}var lR=function(e,n){var{debugEnabled:s}=n===void 0?{}:n,r={k:function(i){if(st&&(Ol.DEBUG||bs.POSTHOG_DEBUG||s)&&!cn(st.console)&&st.console){for(var a=("__rrweb_original__"in st.console[i])?st.console[i].__rrweb_original__:st.console[i],o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];a(e,...l)}},info:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r.k("log",...a)},warn:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r.k("warn",...a)},error:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r.k("error",...a)},critical:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o]},uninitializedWarning:i=>{r.error("You must initialize PostHog before calling "+i)},createLogger:(i,a)=>lR(e+" "+i,a)};return r},hn=lR("[PostHog.js]"),Hi=hn.createLogger,zY=Hi("[ExternalScriptsLoader]"),ij=(e,n,s)=>{if(e.config.disable_external_dependency_loading)return zY.warn(n+" was requested but loading of external scripts is disabled."),s("Loading of external scripts is disabled");var r=fn?.querySelectorAll("script");if(r){for(var i,a=function(){if(r[o].src===n){var c=r[o];return c.__posthog_loading_callback_fired?{v:s()}:(c.addEventListener("load",(u=>{c.__posthog_loading_callback_fired=!0,s(void 0,u)})),c.onerror=u=>s(u),{v:void 0})}},o=0;o<r.length;o++)if(i=a())return i.v}var l=()=>{if(!fn)return s("document not found");var c=fn.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=n,c.onload=f=>{c.__posthog_loading_callback_fired=!0,s(void 0,f)},c.onerror=f=>s(f),e.config.prepare_external_dependency_script&&(c=e.config.prepare_external_dependency_script(c)),!c)return s("prepare_external_dependency_script returned null");var u,p=fn.querySelectorAll("body > script");p.length>0?(u=p[0].parentNode)==null||u.insertBefore(c,p[0]):fn.body.appendChild(c)};fn!=null&&fn.body?l():fn?.addEventListener("DOMContentLoaded",l)};bs.__PosthogExtensions__=bs.__PosthogExtensions__||{},bs.__PosthogExtensions__.loadExternalDependency=(e,n,s)=>{var r="/static/"+n+".js?v="+e.version;if(n==="remote-config"&&(r="/array/"+e.config.token+"/config.js"),n==="toolbar"){var i=3e5;r=r+"&t="+Math.floor(Date.now()/i)*i}var a=e.requestRouter.endpointFor("assets",r);ij(e,a,s)},bs.__PosthogExtensions__.loadSiteApp=(e,n,s)=>{var r=e.requestRouter.endpointFor("api",n);ij(e,r,s)};var Kg={};function Hc(e,n,s){if(Mr(e)){if(Z_&&e.forEach===Z_)e.forEach(n,s);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&n.call(s,e[r],r)===Kg)return}}}function Dr(e,n,s){if(!Or(e)){if(Mr(e))return Hc(e,n,s);if(bY(e)){for(var r of e.entries())if(n.call(s,r[1],r[0])===Kg)return}else for(var i in e)if(rR.call(e,i)&&n.call(s,e[i],i)===Kg)return}}var Ni=function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return Hc(s,(function(i){for(var a in i)i[a]!==void 0&&(e[a]=i[a])})),e},kf=function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return Hc(s,(function(i){Hc(i,(function(a){e.push(a)}))})),e};function lg(e){for(var n=Object.keys(e),s=n.length,r=new Array(s);s--;)r[s]=[n[s],e[n[s]]];return r}var aj=function(e){try{return e()}catch{return}},WY=function(e){return function(){try{for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e.apply(this,s)}catch(i){hn.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),hn.critical(i)}}},n9=function(e){var n={};return Dr(e,(function(s,r){(Bi(s)&&s.length>0||vl(s))&&(n[r]=s)})),n};function GY(e,n){return s=e,r=a=>Bi(a)&&!ic(n)?a.slice(0,n):a,i=new Set,(function a(o,l){return o!==Object(o)?r?r(o,l):o:i.has(o)?void 0:(i.add(o),Mr(o)?(c=[],Hc(o,(u=>{c.push(a(u))}))):(c={},Dr(o,((u,p)=>{i.has(u)||(c[p]=a(u,p))}))),c);var c})(s);var s,r,i}var qY=["herokuapp.com","vercel.app","netlify.app"];function KY(e){var n=e?.hostname;if(!Bi(n))return!1;var s=n.split(".").slice(-2).join(".");for(var r of qY)if(s===r)return!1;return!0}function cR(e,n){for(var s=0;s<e.length;s++)if(n(e[s]))return e[s]}function Ti(e,n,s,r){var{capture:i=!1,passive:a=!0}=r??{};e?.addEventListener(n,s,{capture:i,passive:a})}var dR="$people_distinct_id",r1="__alias",i1="__timers",oj="$autocapture_disabled_server_side",uv="$heatmaps_enabled_server_side",lj="$exception_capture_enabled_server_side",pv="$error_tracking_suppression_rules",cj="$error_tracking_capture_extension_exceptions",dj="$web_vitals_enabled_server_side",uR="$dead_clicks_enabled_server_side",uj="$web_vitals_allowed_metrics",F4="$session_recording_remote_config",Yg="$sesid",pR="$session_is_sampled",bp="$enabled_feature_flags",a1="$early_access_features",fv="$feature_flag_details",o1="$stored_person_properties",Hd="$stored_group_properties",mv="$surveys",z0="$surveys_activated",Zg="$flag_call_reported",Bl="$user_state",hv="$client_session_props",xv="$capture_rate_limit",gv="$initial_campaign_params",bv="$initial_referrer_info",Jg="$initial_person_info",Xg="$epp",fR="__POSTHOG_TOOLBAR__",mm="$posthog_cookieless",YY=[dR,r1,"__cmpns",i1,"$session_recording_enabled_server_side",uv,Yg,bp,pv,Bl,a1,fv,Hd,o1,mv,Zg,hv,xv,gv,bv,Xg,Jg];function pj(e){return e instanceof Element&&(e.id===fR||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function T5(e){return!!e&&e.nodeType===1}function Vc(e,n){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===n.toLowerCase()}function mR(e){return!!e&&e.nodeType===3}function hR(e){return!!e&&e.nodeType===11}function s9(e){return e?k5(e).split(/\s+/):[]}function fj(e){var n=st?.location.href;return!!(n&&e&&e.some((s=>n.match(s))))}function Qg(e){var n="";switch(typeof e.className){case"string":n=e.className;break;case"object":n=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:n=""}return s9(n)}function xR(e){return Or(e)?null:k5(e).split(/(\s+)/).filter((n=>nh(n))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Zh(e){var n="";return yv(e)&&!wR(e)&&e.childNodes&&e.childNodes.length&&Dr(e.childNodes,(function(s){var r;mR(s)&&s.textContent&&(n+=(r=xR(s.textContent))!==null&&r!==void 0?r:"")})),k5(n)}function gR(e){return cn(e.target)?e.srcElement||null:(n=e.target)!=null&&n.shadowRoot?e.composedPath()[0]||null:e.target||null;var n}var r9=["a","button","form","input","select","textarea","label"];function bR(e,n){if(cn(n))return!0;var s,r=function(a){if(n.some((o=>a.matches(o))))return{v:!0}};for(var i of e)if(s=r(i))return s.v;return!1}function yR(e){var n=e.parentNode;return!(!n||!T5(n))&&n}var ZY=["next","previous","prev",">","<"],mj=10,hj=[".ph-no-rageclick",".ph-no-capture"];function JY(e,n){if(!st||i9(e))return!1;var s,r,i;if(Uc(n)?(s=!!n&&hj,r=void 0):(s=(i=n?.css_selector_ignorelist)!==null&&i!==void 0?i:hj,r=n?.content_ignorelist),s===!1)return!1;var{targetElementList:a}=vR(e,!1);return!(function(o,l){if(o===!1||cn(o))return!1;var c;if(o===!0)c=ZY;else{if(!Mr(o))return!1;if(o.length>mj)return hn.error("[PostHog] content_ignorelist array cannot exceed "+mj+" items. Use css_selector_ignorelist for more complex matching."),!1;c=o.map((u=>u.toLowerCase()))}return l.some((u=>{var{safeText:p,ariaLabel:f}=u;return c.some((m=>p.includes(m)||f.includes(m)))}))})(r,a.map((o=>{var l;return{safeText:Zh(o).toLowerCase(),ariaLabel:((l=o.getAttribute("aria-label"))==null?void 0:l.toLowerCase().trim())||""}})))&&!bR(a,s)}var i9=e=>!e||Vc(e,"html")||!T5(e),vR=(e,n)=>{if(!st||i9(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var s=!1,r=[e],i=e;i.parentNode&&!Vc(i,"body");)if(hR(i.parentNode))r.push(i.parentNode.host),i=i.parentNode.host;else{var a=yR(i);if(!a)break;if(n||r9.indexOf(a.tagName.toLowerCase())>-1)s=!0;else{var o=st.getComputedStyle(a);o&&o.getPropertyValue("cursor")==="pointer"&&(s=!0)}r.push(a),i=a}return{parentIsUsefulElement:s,targetElementList:r}};function XY(e,n,s,r,i){var a,o,l,c;if(s===void 0&&(s=void 0),!st||i9(e)||(a=s)!=null&&a.url_allowlist&&!fj(s.url_allowlist)||(o=s)!=null&&o.url_ignorelist&&fj(s.url_ignorelist))return!1;if((l=s)!=null&&l.dom_event_allowlist){var u=s.dom_event_allowlist;if(u&&!u.some((x=>n.type===x)))return!1}var{parentIsUsefulElement:p,targetElementList:f}=vR(e,r);if(!(function(x,g){var v=g?.element_allowlist;if(cn(v))return!0;var b,y=function(_){if(v.some((N=>_.tagName.toLowerCase()===N)))return{v:!0}};for(var w of x)if(b=y(w))return b.v;return!1})(f,s)||!bR(f,(c=s)==null?void 0:c.css_selector_allowlist))return!1;var m=st.getComputedStyle(e);if(m&&m.getPropertyValue("cursor")==="pointer"&&n.type==="click")return!0;var h=e.tagName.toLowerCase();switch(h){case"html":return!1;case"form":return(i||["submit"]).indexOf(n.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(n.type)>=0;default:return p?(i||["click"]).indexOf(n.type)>=0:(i||["click"]).indexOf(n.type)>=0&&(r9.indexOf(h)>-1||e.getAttribute("contenteditable")==="true")}}function yv(e){for(var n=e;n.parentNode&&!Vc(n,"body");n=n.parentNode){var s=Qg(n);if(Ys(s,"ph-sensitive")||Ys(s,"ph-no-capture"))return!1}if(Ys(Qg(e),"ph-include"))return!0;var r=e.type||"";if(Bi(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(Bi(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function wR(e){return!!(Vc(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Vc(e,"select")||Vc(e,"textarea")||e.getAttribute("contenteditable")==="true")}var CR="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",QY=new RegExp("^(?:"+CR+")$"),eZ=new RegExp(CR),_R="\\d{3}-?\\d{2}-?\\d{4}",tZ=new RegExp("^("+_R+")$"),nZ=new RegExp("("+_R+")");function nh(e,n){return n===void 0&&(n=!0),!(Or(e)||Bi(e)&&(e=k5(e),(n?QY:eZ).test((e||"").replace(/[- ]/g,""))||(n?tZ:nZ).test(e)))}function jR(e){var n=Zh(e);return nh(n=(n+" "+NR(e)).trim())?n:""}function NR(e){var n="";return e&&e.childNodes&&e.childNodes.length&&Dr(e.childNodes,(function(s){var r;if(s&&((r=s.tagName)==null?void 0:r.toLowerCase())==="span")try{var i=Zh(s);n=(n+" "+i).trim(),s.childNodes&&s.childNodes.length&&(n=(n+" "+NR(s)).trim())}catch(a){hn.error("[AutoCapture]",a)}})),n}function sZ(e){return(function(n){var s=n.map((r=>{var i,a,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class)for(var l of(r.attr_class.sort(),r.attr_class))o+="."+l.replace(/"/g,"");var c=Dn({},r.text?{text:r.text}:{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(a=r.nth_of_type)!==null&&a!==void 0?a:0},r.href?{href:r.href}:{},r.attr_id?{attr_id:r.attr_id}:{},r.attributes),u={};return lg(c).sort(((p,f)=>{var[m]=p,[h]=f;return m.localeCompare(h)})).forEach((p=>{var[f,m]=p;return u[xj(f.toString())]=xj(m.toString())})),o+=":",o+=lg(u).map((p=>{var[f,m]=p;return f+'="'+m+'"'})).join("")}));return s.join(";")})((function(n){return n.map((s=>{var r,i,a={text:(r=s.$el_text)==null?void 0:r.slice(0,400),tag_name:s.tag_name,href:(i=s.attr__href)==null?void 0:i.slice(0,2048),attr_class:rZ(s),attr_id:s.attr__id,nth_child:s.nth_child,nth_of_type:s.nth_of_type,attributes:{}};return lg(s).filter((o=>{var[l]=o;return l.indexOf("attr__")===0})).forEach((o=>{var[l,c]=o;return a.attributes[l]=c})),a}))})(e))}function xj(e){return e.replace(/"|\\"/g,'\\"')}function rZ(e){var n=e.attr__class;return n?Mr(n)?n:s9(n):void 0}class FR{constructor(n){this.disabled=n===!1;var s=ta(n)?n:{};this.thresholdPx=s.threshold_px||30,this.timeoutMs=s.timeout_ms||1e3,this.clickCount=s.click_count||3,this.clicks=[]}isRageClick(n,s,r){if(this.disabled)return!1;var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(n-i.x)+Math.abs(s-i.y)<this.thresholdPx&&r-i.timestamp<this.timeoutMs){if(this.clicks.push({x:n,y:s,timestamp:r}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:n,y:s,timestamp:r}];return!1}}var E4="$copy_autocapture",Hl=(function(e){return e.GZipJS="gzip-js",e.Base64="base64",e})({}),e2=e=>{var n=fn?.createElement("a");return cn(n)?null:(n.href=e,n)},iZ=function(e,n){var s,r;n===void 0&&(n="&");var i=[];return Dr(e,(function(a,o){cn(a)||cn(o)||o==="undefined"||(s=encodeURIComponent((l=>l instanceof File)(a)?a.name:a.toString()),r=encodeURIComponent(o),i[i.length]=r+"="+s)})),i.join(n)},t2=function(e,n){for(var s,r=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<r.length;i++){var a=r[i].split("=");if(a[0]===n){s=a;break}}if(!Mr(s)||s.length<2)return"";var o=s[1];try{o=decodeURIComponent(o)}catch{hn.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},Jh=function(e,n,s){if(!e||!n||!n.length)return e;for(var r=e.split("#"),i=r[0]||"",a=r[1],o=i.split("?"),l=o[1],c=o[0],u=(l||"").split("&"),p=[],f=0;f<u.length;f++){var m=u[f].split("=");Mr(m)&&(n.includes(m[0])?p.push(m[0]+"="+s):p.push(u[f]))}var h=c;return l!=null&&(h+="?"+p.join("&")),a!=null&&(h+="#"+a),h},n2=function(e,n){var s=e.match(new RegExp(n+"=([^&]*)"));return s?s[1]:null},gj=Hi("[AutoCapture]");function S4(e,n){return n.length>e?n.slice(0,e)+"...":n}function aZ(e){if(e.previousElementSibling)return e.previousElementSibling;var n=e;do n=n.previousSibling;while(n&&!T5(n));return n}function oZ(e,n,s,r){var i=e.tagName.toLowerCase(),a={tag_name:i};r9.indexOf(i)>-1&&!s&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?a.$el_text=S4(1024,jR(e)):a.$el_text=S4(1024,Zh(e)));var o=Qg(e);o.length>0&&(a.classes=o.filter((function(p){return p!==""}))),Dr(e.attributes,(function(p){var f;if((!wR(e)||["name","id","class","aria-label"].indexOf(p.name)!==-1)&&(r==null||!r.includes(p.name))&&!n&&nh(p.value)&&(f=p.name,!Bi(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var m=p.value;p.name==="class"&&(m=s9(m).join(" ")),a["attr__"+p.name]=S4(1024,m)}}));for(var l=1,c=1,u=e;u=aZ(u);)l++,u.tagName===e.tagName&&c++;return a.nth_child=l,a.nth_of_type=c,a}function lZ(e,n){for(var s,r,{e:i,maskAllElementAttributes:a,maskAllText:o,elementAttributeIgnoreList:l,elementsChainAsString:c}=n,u=[e],p=e;p.parentNode&&!Vc(p,"body");)hR(p.parentNode)?(u.push(p.parentNode.host),p=p.parentNode.host):(u.push(p.parentNode),p=p.parentNode);var f,m=[],h={},x=!1,g=!1;if(Dr(u,(_=>{var N=yv(_);_.tagName.toLowerCase()==="a"&&(x=_.getAttribute("href"),x=N&&x&&nh(x)&&x),Ys(Qg(_),"ph-no-capture")&&(g=!0),m.push(oZ(_,a,o,l));var j=(function(C){if(!yv(C))return{};var S={};return Dr(C.attributes,(function(F){if(F.name&&F.name.indexOf("data-ph-capture-attribute")===0){var E=F.name.replace("data-ph-capture-attribute-",""),I=F.value;E&&I&&nh(I)&&(S[E]=I)}})),S})(_);Ni(h,j)})),g)return{props:{},explicitNoCapture:g};if(o||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?m[0].$el_text=jR(e):m[0].$el_text=Zh(e)),x){var v,b;m[0].attr__href=x;var y=(v=e2(x))==null?void 0:v.host,w=st==null||(b=st.location)==null?void 0:b.host;y&&w&&y!==w&&(f=x)}return{props:Ni({$event_type:i.type,$ce_version:1},c?{}:{$elements:m},{$elements_chain:sZ(m)},(s=m[0])!=null&&s.$el_text?{$el_text:(r=m[0])==null?void 0:r.$el_text}:{},f&&i.type==="click"?{$external_click_url:f}:{},h)}}class cZ{constructor(n){this.P=!1,this.T=null,this.I=!1,this.instance=n,this.rageclicks=new FR(n.config.rageclick),this.R=null}get F(){var n,s,r=ta(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(n=r.url_allowlist)==null?void 0:n.map((i=>new RegExp(i))),r.url_ignorelist=(s=r.url_ignorelist)==null?void 0:s.map((i=>new RegExp(i))),r}C(){if(this.isBrowserSupported()){if(st&&fn){var n=r=>{r=r||st?.event;try{this.O(r)}catch(i){gj.error("Failed to capture event",i)}};if(Ti(fn,"submit",n,{capture:!0}),Ti(fn,"change",n,{capture:!0}),Ti(fn,"click",n,{capture:!0}),this.F.capture_copied_text){var s=r=>{r=r||st?.event,this.O(r,E4)};Ti(fn,"copy",s,{capture:!0}),Ti(fn,"cut",s,{capture:!0})}}}else gj.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.C(),this.P=!0)}onRemoteConfig(n){n.elementsChainAsString&&(this.I=n.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[oj]:!!n.autocapture_opt_out}),this.T=!!n.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(n){this.R=n}getElementSelectors(n){var s,r=[];return(s=this.R)==null||s.forEach((i=>{var a=fn?.querySelectorAll(i);a?.forEach((o=>{n===o&&r.push(i)}))})),r}get isEnabled(){var n,s,r=(n=this.instance.persistence)==null?void 0:n.props[oj],i=this.T;if(ic(i)&&!Uc(r)&&!this.instance.M())return!1;var a=(s=this.T)!==null&&s!==void 0?s:!!r;return!!this.instance.config.autocapture&&!a}O(n,s){if(s===void 0&&(s="$autocapture"),this.isEnabled){var r,i=gR(n);mR(i)&&(i=i.parentNode||null),s==="$autocapture"&&n.type==="click"&&n instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!=null&&r.isRageClick(n.clientX,n.clientY,n.timeStamp||new Date().getTime())&&JY(i,this.instance.config.rageclick)&&this.O(n,"$rageclick");var a=s===E4;if(i&&XY(i,n,this.F,a,a?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:l}=lZ(i,{e:n,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.F.element_attribute_ignorelist,elementsChainAsString:this.I});if(l)return!1;var c=this.getElementSelectors(i);if(c&&c.length>0&&(o.$element_selectors=c),s===E4){var u,p=xR(st==null||(u=st.getSelection())==null?void 0:u.toString()),f=n.type||"clipboard";if(!p)return!1;o.$selected_content=p,o.$copy_type=f}return this.instance.capture(s,o),!0}}}isBrowserSupported(){return Bc(fn?.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return vl(e)&&isFinite(e)&&Math.floor(e)===e});var bj="0123456789abcdef";class s2{constructor(n){if(this.bytes=n,n.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(n,s,r,i){if(!Number.isInteger(n)||!Number.isInteger(s)||!Number.isInteger(r)||!Number.isInteger(i)||n<0||s<0||r<0||i<0||n>0xffffffffffff||s>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var a=new Uint8Array(16);return a[0]=n/Math.pow(2,40),a[1]=n/Math.pow(2,32),a[2]=n/Math.pow(2,24),a[3]=n/Math.pow(2,16),a[4]=n/Math.pow(2,8),a[5]=n,a[6]=112|s>>>8,a[7]=s,a[8]=128|r>>>24,a[9]=r>>>16,a[10]=r>>>8,a[11]=r,a[12]=i>>>24,a[13]=i>>>16,a[14]=i>>>8,a[15]=i,new s2(a)}toString(){for(var n="",s=0;s<this.bytes.length;s++)n=n+bj.charAt(this.bytes[s]>>>4)+bj.charAt(15&this.bytes[s]),s!==3&&s!==5&&s!==7&&s!==9||(n+="-");if(n.length!==36)throw new Error("Invalid UUIDv7 was generated");return n}clone(){return new s2(this.bytes.slice(0))}equals(n){return this.compareTo(n)===0}compareTo(n){for(var s=0;s<16;s++){var r=this.bytes[s]-n.bytes[s];if(r!==0)return Math.sign(r)}return 0}}class dZ{constructor(){this.A=0,this.D=0,this.j=new uZ}generate(){var n=this.generateOrAbort();if(cn(n)){this.A=0;var s=this.generateOrAbort();if(cn(s))throw new Error("Could not generate UUID after timestamp reset");return s}return n}generateOrAbort(){var n=Date.now();if(n>this.A)this.A=n,this.L();else{if(!(n+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return s2.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var yj,ER=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var n=0;n<e.length;n++)e[n]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};st&&!cn(st.crypto)&&crypto.getRandomValues&&(ER=e=>crypto.getRandomValues(e));class uZ{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(ER(this.N),this.U=0),this.N[this.U++]}}var Tc=()=>pZ().toString(),pZ=()=>(yj||(yj=new dZ)).generate(),hm="",fZ=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function mZ(e,n){if(n){var s=(function(i,a){if(a===void 0&&(a=fn),hm)return hm;if(!a||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),l=Math.min(o.length,8),c="dmn_chk_"+Tc();!hm&&l--;){var u=o.slice(l).join("."),p=c+"=1;domain=."+u+";path=/";a.cookie=p+";max-age=3",a.cookie.includes(c)&&(a.cookie=p+";max-age=0",hm=u)}return hm})(e);if(!s){var r=(i=>{var a=i.match(fZ);return a?a[0]:""})(e);r!==s&&hn.info("Warning: cookie subdomain discovery mismatch",r,s),s=r}return s?"; domain=."+s:""}return""}var fl={H:()=>!!fn,B:function(e){hn.error("cookieStore error: "+e)},q:function(e){if(fn){try{for(var n=e+"=",s=fn.cookie.split(";").filter((a=>a.length)),r=0;r<s.length;r++){for(var i=s[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0)return decodeURIComponent(i.substring(n.length,i.length))}}catch{}return null}},W:function(e){var n;try{n=JSON.parse(fl.q(e))||{}}catch{}return n},G:function(e,n,s,r,i){if(fn)try{var a="",o="",l=mZ(fn.location.hostname,r);if(s){var c=new Date;c.setTime(c.getTime()+24*s*60*60*1e3),a="; expires="+c.toUTCString()}i&&(o="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(n))+a+"; SameSite=Lax; path=/"+l+o;return u.length>3686.4&&hn.warn("cookieStore warning: large cookie, len="+u.length),fn.cookie=u,u}catch{return}},V:function(e,n){if(fn!=null&&fn.cookie)try{fl.G(e,"",-1,n)}catch{return}}},k4=null,si={H:function(){if(!ic(k4))return k4;var e=!0;if(cn(st))e=!1;else try{var n="__mplssupport__";si.G(n,"xyz"),si.q(n)!=='"xyz"'&&(e=!1),si.V(n)}catch{e=!1}return e||hn.error("localStorage unsupported; falling back to cookie store"),k4=e,e},B:function(e){hn.error("localStorage error: "+e)},q:function(e){try{return st?.localStorage.getItem(e)}catch(n){si.B(n)}return null},W:function(e){try{return JSON.parse(si.q(e))||{}}catch{}return null},G:function(e,n){try{st?.localStorage.setItem(e,JSON.stringify(n))}catch(s){si.B(s)}},V:function(e){try{st?.localStorage.removeItem(e)}catch(n){si.B(n)}}},hZ=["distinct_id",Yg,pR,Xg,Jg],W0=Dn({},si,{W:function(e){try{var n={};try{n=fl.W(e)||{}}catch{}var s=Ni(n,JSON.parse(si.q(e)||"{}"));return si.G(e,s),s}catch{}return null},G:function(e,n,s,r,i,a){try{si.G(e,n,void 0,void 0,a);var o={};hZ.forEach((l=>{n[l]&&(o[l]=n[l])})),Object.keys(o).length&&fl.G(e,o,s,r,i,a)}catch(l){si.B(l)}},V:function(e,n){try{st?.localStorage.removeItem(e),fl.V(e,n)}catch(s){si.B(s)}}}),G0={},xZ={H:function(){return!0},B:function(e){hn.error("memoryStorage error: "+e)},q:function(e){return G0[e]||null},W:function(e){return G0[e]||null},G:function(e,n){G0[e]=n},V:function(e){delete G0[e]}},yd=null,Xi={H:function(){if(!ic(yd))return yd;if(yd=!0,cn(st))yd=!1;else try{var e="__support__";Xi.G(e,"xyz"),Xi.q(e)!=='"xyz"'&&(yd=!1),Xi.V(e)}catch{yd=!1}return yd},B:function(e){hn.error("sessionStorage error: ",e)},q:function(e){try{return st?.sessionStorage.getItem(e)}catch(n){Xi.B(n)}return null},W:function(e){try{return JSON.parse(Xi.q(e))||null}catch{}return null},G:function(e,n){try{st?.sessionStorage.setItem(e,JSON.stringify(n))}catch(s){Xi.B(s)}},V:function(e){try{st?.sessionStorage.removeItem(e)}catch(n){Xi.B(n)}}},Ul=(function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e})({});class gZ{constructor(n){this._instance=n}get F(){return this._instance.config}get consent(){return this.J()?Ul.DENIED:this.K}isOptedOut(){return this.F.cookieless_mode==="always"||this.consent===Ul.DENIED||this.consent===Ul.PENDING&&(this.F.opt_out_capturing_by_default||this.F.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===Ul.DENIED}optInOut(n){this.Y.G(this.X,n?1:0,this.F.cookie_expiration,this.F.cross_subdomain_cookie,this.F.secure_cookie)}reset(){this.Y.V(this.X,this.F.cross_subdomain_cookie)}get X(){var{token:n,opt_out_capturing_cookie_prefix:s,consent_persistence_name:r}=this._instance.config;return r||(s?s+n:"__ph_opt_in_out_"+n)}get K(){var n=this.Y.q(this.X);return j4(n)?Ul.GRANTED:Ys(wY,n)?Ul.DENIED:Ul.PENDING}get Y(){if(!this.Z){var n=this.F.opt_out_capturing_persistence_type;this.Z=n==="localStorage"?si:fl;var s=n==="localStorage"?fl:si;s.q(this.X)&&(this.Z.q(this.X)||this.optInOut(j4(s.q(this.X))),s.V(this.X,this.F.cross_subdomain_cookie))}return this.Z}J(){return!!this.F.respect_dnt&&!!cR([eo?.doNotTrack,eo?.msDoNotTrack,bs.doNotTrack],(n=>j4(n)))}}var q0=Hi("[Dead Clicks]"),bZ=()=>!0,yZ=e=>{var n,s=!((n=e.instance.persistence)==null||!n.get_property(uR)),r=e.instance.config.capture_dead_clicks;return Uc(r)?r:s};class SR{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(n,s,r){this.instance=n,this.isEnabled=s,this.onCapture=r,this.startIfEnabled()}onRemoteConfig(n){this.instance.persistence&&this.instance.persistence.register({[uR]:n?.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(n){var s,r;(s=bs.__PosthogExtensions__)!=null&&s.initDeadClicksAutocapture&&n(),(r=bs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this.instance,"dead-clicks-autocapture",(i=>{i?q0.error("failed to load script",i):n()}))}et(){var n;if(fn){if(!this.tt&&(n=bs.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture){var s=ta(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};s.__onCapture=this.onCapture,this.tt=bs.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,s),this.tt.start(fn),q0.info("starting...")}}else q0.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,q0.info("stopping..."))}}var xm=Hi("[ExceptionAutocapture]");class vZ{constructor(n){var s,r,i;this.rt=()=>{var a;if(st&&this.isEnabled&&(a=bs.__PosthogExtensions__)!=null&&a.errorWrappingFunctions){var o=bs.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,l=bs.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,c=bs.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.F.capture_unhandled_errors&&(this.st=o(this.captureException.bind(this))),!this.nt&&this.F.capture_unhandled_rejections&&(this.nt=l(this.captureException.bind(this))),!this.ot&&this.F.capture_console_errors&&(this.ot=c(this.captureException.bind(this)))}catch(u){xm.error("failed to start",u),this.lt()}}},this._instance=n,this.ut=!((s=this._instance.persistence)==null||!s.props[lj]),this.F=this.ht(),this.dt=new CY({refillRate:(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&r!==void 0?r:1,bucketSize:(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&i!==void 0?i:10,refillInterval:1e4,h:xm}),this.startIfEnabled()}ht(){var n=this._instance.config.capture_exceptions,s={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return ta(n)?s=Dn({},s,n):(cn(n)?this.ut:n)&&(s=Dn({},s,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),s}get isEnabled(){return this.F.capture_console_errors||this.F.capture_unhandled_errors||this.F.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(xm.info("enabled"),this.it(this.rt))}it(n){var s,r;(s=bs.__PosthogExtensions__)!=null&&s.errorWrappingFunctions&&n(),(r=bs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"exception-autocapture",(i=>{if(i)return xm.error("failed to load script",i);n()}))}lt(){var n,s,r;(n=this.st)==null||n.call(this),this.st=void 0,(s=this.nt)==null||s.call(this),this.nt=void 0,(r=this.ot)==null||r.call(this),this.ot=void 0}onRemoteConfig(n){var s=n.autocaptureExceptions;this.ut=!!s||!1,this.F=this.ht(),this._instance.persistence&&this._instance.persistence.register({[lj]:this.ut}),this.startIfEnabled()}captureException(n){var s,r,i=(s=n==null||(r=n.$exception_list)==null||(r=r[0])==null?void 0:r.type)!==null&&s!==void 0?s:"Exception";this.dt.consumeRateLimit(i)?xm.info("Skipping exception capture because of client rate limiting.",{exception:i}):this._instance.exceptions.sendExceptionEvent(n)}}function vj(e,n,s){try{if(!(n in e))return()=>{};var r=e[n],i=s(r);return Bc(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[n]=i,()=>{e[n]=r}}catch{return()=>{}}}class wZ{constructor(n){var s;this._instance=n,this.vt=(st==null||(s=st.location)==null?void 0:s.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(hn.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,hn.info("History API monitoring stopped")}monitorHistoryChanges(){var n,s;if(st&&st.history){var r=this;(n=st.history.pushState)!=null&&n.__posthog_wrapped__||vj(st.history,"pushState",(i=>function(a,o,l){i.call(this,a,o,l),r.ft("pushState")})),(s=st.history.replaceState)!=null&&s.__posthog_wrapped__||vj(st.history,"replaceState",(i=>function(a,o,l){i.call(this,a,o,l),r.ft("replaceState")})),this.gt()}}ft(n){try{var s,r=st==null||(s=st.location)==null?void 0:s.pathname;if(!r)return;r!==this.vt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:n}),this.vt=r}catch(i){hn.error("Error capturing "+n+" pageview",i)}}gt(){if(!this.ct){var n=()=>{this.ft("popstate")};Ti(st,"popstate",n),this.ct=()=>{st&&st.removeEventListener("popstate",n)}}}}var I4=Hi("[SegmentIntegration]");function CZ(e,n){var s=e.config.segment;if(!s)return n();(function(r,i){var a=r.config.segment;if(!a)return i();var o=c=>{var u=()=>c.anonymousId()||Tc();r.config.get_device_id=u,c.id()&&(r.register({distinct_id:c.id(),$device_id:u()}),r.persistence.set_property(Bl,"identified")),i()},l=a.user();"then"in l&&Bc(l.then)?l.then((c=>o(c))):o(l)})(e,(()=>{s.register((r=>{Promise&&Promise.resolve||I4.warn("This browser does not have Promise support, and can not use the segment integration");var i=(a,o)=>{if(!o)return a;a.event.userId||a.event.anonymousId===r.get_distinct_id()||(I4.info("No userId set, resetting PostHog"),r.reset()),a.event.userId&&a.event.userId!==r.get_distinct_id()&&(I4.info("UserId set, identifying with PostHog"),r.identify(a.event.userId));var l=r.calculateEventProperties(o,a.event.properties);return a.event.properties=Object.assign({},l,a.event.properties),a};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:a=>i(a,a.event.event),page:a=>i(a,"$pageview"),identify:a=>i(a,"$identify"),screen:a=>i(a,"$screen")}})(e)).then((()=>{n()}))}))}var kR="posthog-js";function IR(e,n){var{organization:s,projectId:r,prefix:i,severityAllowList:a=["error"],sendExceptionsToPostHog:o=!0}=n===void 0?{}:n;return l=>{var c,u,p,f,m;if(!(a==="*"||a.includes(l.level))||!e.__loaded)return l;l.tags||(l.tags={});var h=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());l.tags["PostHog Person URL"]=h,e.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var x=((c=l.exception)==null?void 0:c.values)||[],g=x.map((b=>Dn({},b,{stacktrace:b.stacktrace?Dn({},b.stacktrace,{type:"raw",frames:(b.stacktrace.frames||[]).map((y=>Dn({},y,{platform:"web:javascript"})))}):void 0}))),v={$exception_message:((u=x[0])==null?void 0:u.value)||l.message,$exception_type:(p=x[0])==null?void 0:p.type,$exception_level:l.level,$exception_list:g,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:((f=x[0])==null?void 0:f.value)||l.message,$sentry_exception_type:(m=x[0])==null?void 0:m.type,$sentry_tags:l.tags};return s&&r&&(v.$sentry_url=(i||"https://sentry.io/organizations/")+s+"/issues/?project="+r+"&query="+l.event_id),o&&e.exceptions.sendExceptionEvent(v),l}}class _Z{constructor(n,s,r,i,a,o){this.name=kR,this.setupOnce=function(l){l(IR(n,{organization:s,projectId:r,prefix:i,severityAllowList:a,sendExceptionsToPostHog:o==null||o}))}}}var jZ=st!=null&&st.location?n2(st.location.hash,"__posthog")||n2(location.hash,"state"):null,wj="_postHogToolbarParams",Cj=Hi("[Toolbar]"),jc=(function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e})(jc||{});class NZ{constructor(n){this.instance=n}_t(n){bs.ph_toolbar_state=n}yt(){var n;return(n=bs.ph_toolbar_state)!==null&&n!==void 0?n:jc.UNINITIALIZED}maybeLoadToolbar(n,s,r){if(n===void 0&&(n=void 0),s===void 0&&(s=void 0),r===void 0&&(r=void 0),!st||!fn)return!1;n=n??st.location,r=r??st.history;try{if(!s){try{st.localStorage.setItem("test","test"),st.localStorage.removeItem("test")}catch{return!1}s=st?.localStorage}var i,a=jZ||n2(n.hash,"__posthog")||n2(n.hash,"state"),o=a?aj((()=>JSON.parse(atob(decodeURIComponent(a)))))||aj((()=>JSON.parse(decodeURIComponent(a)))):null;return o&&o.action==="ph_authorize"?((i=o).source="url",i&&Object.keys(i).length>0&&(o.desiredHash?n.hash=o.desiredHash:r?r.replaceState(r.state,"",n.pathname+n.search):n.hash="")):((i=JSON.parse(s.getItem(wj)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}bt(n){var s=bs.ph_load_toolbar||bs.ph_load_editor;!Or(s)&&Bc(s)?s(n,this.instance):Cj.warn("No toolbar load function found")}loadToolbar(n){var s=!(fn==null||!fn.getElementById(fR));if(!st||s)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Dn({token:this.instance.config.token},n,{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(st.localStorage.setItem(wj,JSON.stringify(Dn({},i,{source:void 0}))),this.yt()===jc.LOADED)this.bt(i);else if(this.yt()===jc.UNINITIALIZED){var a;this._t(jc.LOADING),(a=bs.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this.instance,"toolbar",(o=>{if(o)return Cj.error("[Toolbar] Failed to load",o),void this._t(jc.UNINITIALIZED);this._t(jc.LOADED),this.bt(i)})),Ti(st,"turbolinks:load",(()=>{this._t(jc.UNINITIALIZED),this.loadToolbar(i)}))}return!0}wt(n){return this.loadToolbar(n)}maybeLoadEditor(n,s,r){return n===void 0&&(n=void 0),s===void 0&&(s=void 0),r===void 0&&(r=void 0),this.maybeLoadToolbar(n,s,r)}}var FZ=Hi("[TracingHeaders]");class EZ{constructor(n){this.xt=void 0,this.$t=void 0,this.rt=()=>{var s,r;cn(this.xt)&&((s=bs.__PosthogExtensions__)==null||(s=s.tracingHeadersPatchFns)==null||s._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),cn(this.$t)&&((r=bs.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=n}it(n){var s,r;(s=bs.__PosthogExtensions__)!=null&&s.tracingHeadersPatchFns&&n(),(r=bs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"tracing-headers",(i=>{if(i)return FZ.error("failed to load script",i);n()}))}startIfEnabledOrStop(){var n,s;this._instance.config.__add_tracing_headers?this.it(this.rt):((n=this.xt)==null||n.call(this),(s=this.$t)==null||s.call(this),this.xt=void 0,this.$t=void 0)}}var bo="Mobile",r2="iOS",ll="Android",sh="Tablet",TR=ll+" "+sh,AR="iPad",DR="Apple",MR=DR+" Watch",rh="Safari",Xp="BlackBerry",RR="Samsung",LR=RR+"Browser",PR=RR+" Internet",pu="Chrome",SZ=pu+" OS",OR=pu+" "+r2,a9="Internet Explorer",BR=a9+" "+bo,o9="Opera",kZ=o9+" Mini",l9="Edge",UR="Microsoft "+l9,Pp="Firefox",HR=Pp+" "+r2,ih="Nintendo",ah="PlayStation",Op="Xbox",VR=ll+" "+bo,$R=bo+" "+rh,l1="Windows",vv=l1+" Phone",_j="Nokia",wv="Ouya",zR="Generic",IZ=zR+" "+bo.toLowerCase(),WR=zR+" "+sh.toLowerCase(),Cv="Konqueror",wa="(\\d+(\\.\\d+)?)",T4=new RegExp("Version/"+wa),TZ=new RegExp(Op,"i"),AZ=new RegExp(ah+" \\w+","i"),DZ=new RegExp(ih+" \\w+","i"),c9=new RegExp(Xp+"|PlayBook|BB10","i"),MZ={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},RZ=(e,n)=>n&&Ys(n,DR)||(function(s){return Ys(s,rh)&&!Ys(s,pu)&&!Ys(s,ll)})(e),GR=function(e,n){return n=n||"",Ys(e," OPR/")&&Ys(e,"Mini")?kZ:Ys(e," OPR/")?o9:c9.test(e)?Xp:Ys(e,"IE"+bo)||Ys(e,"WPDesktop")?BR:Ys(e,LR)?PR:Ys(e,l9)||Ys(e,"Edg/")?UR:Ys(e,"FBIOS")?"Facebook "+bo:Ys(e,"UCWEB")||Ys(e,"UCBrowser")?"UC Browser":Ys(e,"CriOS")?OR:Ys(e,"CrMo")||Ys(e,pu)?pu:Ys(e,ll)&&Ys(e,rh)?VR:Ys(e,"FxiOS")?HR:Ys(e.toLowerCase(),Cv.toLowerCase())?Cv:RZ(e,n)?Ys(e,bo)?$R:rh:Ys(e,Pp)?Pp:Ys(e,"MSIE")||Ys(e,"Trident/")?a9:Ys(e,"Gecko")?Pp:""},LZ={[BR]:[new RegExp("rv:"+wa)],[UR]:[new RegExp(l9+"?\\/"+wa)],[pu]:[new RegExp("("+pu+"|CrMo)\\/"+wa)],[OR]:[new RegExp("CriOS\\/"+wa)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+wa)],[rh]:[T4],[$R]:[T4],[o9]:[new RegExp("(Opera|OPR)\\/"+wa)],[Pp]:[new RegExp(Pp+"\\/"+wa)],[HR]:[new RegExp("FxiOS\\/"+wa)],[Cv]:[new RegExp("Konqueror[:/]?"+wa,"i")],[Xp]:[new RegExp(Xp+" "+wa),T4],[VR]:[new RegExp("android\\s"+wa,"i")],[PR]:[new RegExp(LR+"\\/"+wa)],[a9]:[new RegExp("(rv:|MSIE )"+wa)],Mozilla:[new RegExp("rv:"+wa)]},PZ=function(e,n){var s=GR(e,n),r=LZ[s];if(cn(r))return null;for(var i=0;i<r.length;i++){var a=r[i],o=e.match(a);if(o)return parseFloat(o[o.length-2])}return null},jj=[[new RegExp(Op+"; "+Op+" (.*?)[);]","i"),e=>[Op,e&&e[1]||""]],[new RegExp(ih,"i"),[ih,""]],[new RegExp(ah,"i"),[ah,""]],[c9,[Xp,""]],[new RegExp(l1,"i"),(e,n)=>{if(/Phone/.test(n)||/WPDesktop/.test(n))return[vv,""];if(new RegExp(bo).test(n)&&!/IEMobile\b/.test(n))return[l1+" "+bo,""];var s=/Windows NT ([0-9.]+)/i.exec(n);if(s&&s[1]){var r=s[1],i=MZ[r]||"";return/arm/i.test(n)&&(i="RT"),[l1,i]}return[l1,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var n=[e[3],e[4],e[5]||"0"];return[r2,n.join(".")]}return[r2,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var n="";return e&&e.length>=3&&(n=cn(e[2])?e[3]:e[2]),["watchOS",n]}],[new RegExp("("+ll+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+ll+")","i"),e=>{if(e&&e[2]){var n=[e[2],e[3],e[4]||"0"];return[ll,n.join(".")]}return[ll,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var n=["Mac OS X",""];if(e&&e[1]){var s=[e[1],e[2],e[3]||"0"];n[1]=s.join(".")}return n}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[SZ,""]],[/Linux|debian/i,["Linux",""]]],Nj=function(e){return DZ.test(e)?ih:AZ.test(e)?ah:TZ.test(e)?Op:new RegExp(wv,"i").test(e)?wv:new RegExp("("+vv+"|WPDesktop)","i").test(e)?vv:/iPad/.test(e)?AR:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?MR:c9.test(e)?Xp:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(_j,"i").test(e)?_j:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(bo).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?ll:TR:ll:new RegExp("(pda|"+bo+")","i").test(e)?IZ:new RegExp(sh,"i").test(e)&&!new RegExp(sh+" pc","i").test(e)?WR:""},K0="https?://(.*)",If=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],OZ=kf(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],If),Xh="<masked>",BZ=["li_fat_id"];function qR(e,n,s){if(!fn)return{};var r,i=n?kf([],If,s||[]):[],a=KR(Jh(fn.URL,i,Xh),e),o=(r={},Dr(BZ,(function(l){var c=fl.q(l);r[l]=c||null})),r);return Ni(o,a)}function KR(e,n){var s=OZ.concat(n||[]),r={};return Dr(s,(function(i){var a=t2(e,i);r[i]=a||null})),r}function YR(e){var n=(function(a){return a?a.search(K0+"google.([^/?]*)")===0?"google":a.search(K0+"bing.com")===0?"bing":a.search(K0+"yahoo.com")===0?"yahoo":a.search(K0+"duckduckgo.com")===0?"duckduckgo":null:null})(e),s=n!="yahoo"?"q":"p",r={};if(!ic(n)){r.$search_engine=n;var i=fn?t2(fn.referrer,s):"";i.length&&(r.ph_keyword=i)}return r}function Fj(){return navigator.language||navigator.userLanguage}function ZR(){return fn?.referrer||"$direct"}function JR(e,n){var s=e?kf([],If,n||[]):[],r=La?.href.substring(0,1e3);return{r:ZR().substring(0,1e3),u:r?Jh(r,s,Xh):void 0}}function XR(e){var n,{r:s,u:r}=e,i={$referrer:s,$referring_domain:s==null?void 0:s=="$direct"?"$direct":(n=e2(s))==null?void 0:n.host};if(r){i.$current_url=r;var a=e2(r);i.$host=a?.host,i.$pathname=a?.pathname;var o=KR(r);Ni(i,o)}if(s){var l=YR(s);Ni(i,l)}return i}function QR(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function UZ(){try{return new Date().getTimezoneOffset()}catch{return}}function HZ(e,n){if(!Ma)return{};var s,r,i,a=e?kf([],If,n||[]):[],[o,l]=(function(c){for(var u=0;u<jj.length;u++){var[p,f]=jj[u],m=p.exec(c),h=m&&(Bc(f)?f(m,c):f);if(h)return h}return["",""]})(Ma);return Ni(n9({$os:o,$os_version:l,$browser:GR(Ma,navigator.vendor),$device:Nj(Ma),$device_type:(r=Ma,i=Nj(r),i===AR||i===TR||i==="Kobo"||i==="Kindle Fire"||i===WR?sh:i===ih||i===Op||i===ah||i===wv?"Console":i===MR?"Wearable":i?bo:"Desktop"),$timezone:QR(),$timezone_offset:UZ()}),{$current_url:Jh(La?.href,a,Xh),$host:La?.host,$pathname:La?.pathname,$raw_user_agent:Ma.length>1e3?Ma.substring(0,997)+"...":Ma,$browser_version:PZ(Ma,navigator.vendor),$browser_language:Fj(),$browser_language_prefix:(s=Fj(),typeof s=="string"?s.split("-")[0]:void 0),$screen_height:st?.screen.height,$screen_width:st?.screen.width,$viewport_height:st?.innerHeight,$viewport_width:st?.innerWidth,$lib:"web",$lib_version:Ol.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var xc=Hi("[Web Vitals]"),Ej=9e5;class VZ{constructor(n){var s;this.Et=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.St=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce(((r,i)=>Dn({},r,{["$web_vitals_"+i.name+"_event"]:Dn({},i),["$web_vitals_"+i.name+"_value"]:i.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=r=>{var i,a=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(cn(a))xc.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=this.Tt();cn(o)||(Or(r?.name)||Or(r?.value)?xc.error("Invalid metric received",r):this.It&&r.value>=this.It?xc.error("Ignoring metric with value >= "+this.It,r):(this.N.url!==o&&(this.St(),this.kt=setTimeout(this.St,this.flushToCaptureTimeoutMs)),cn(this.N.url)&&(this.N.url=o),this.N.firstMetricTimestamp=cn(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.N.metrics.push(Dn({},r,{$current_url:o,$session_id:a.sessionId,$window_id:a.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.St()))}},this.rt=()=>{var r,i,a,o,l=bs.__PosthogExtensions__;cn(l)||cn(l.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:a,onINP:o}=l.postHogWebVitalsCallbacks),r&&i&&a&&o?(this.allowedMetrics.indexOf("LCP")>-1&&r(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&a(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&o(this.Pt.bind(this)),this.P=!0):xc.error("web vitals callbacks not loaded - not starting")},this._instance=n,this.Et=!((s=this._instance.persistence)==null||!s.props[dj]),this.startIfEnabled()}get allowedMetrics(){var n,s,r=ta(this._instance.config.capture_performance)?(n=this._instance.config.capture_performance)==null?void 0:n.web_vitals_allowed_metrics:void 0;return cn(r)?((s=this._instance.persistence)==null?void 0:s.props[uj])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(ta(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get It(){var n=ta(this._instance.config.capture_performance)&&vl(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Ej;return 0<n&&n<=6e4?Ej:n}get isEnabled(){var n=La?.protocol;if(n!=="http:"&&n!=="https:")return xc.info("Web Vitals are disabled on non-http/https protocols"),!1;var s=ta(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Uc(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Uc(s)?s:this.Et}startIfEnabled(){this.isEnabled&&!this.P&&(xc.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(n){var s=ta(n.capturePerformance)&&!!n.capturePerformance.web_vitals,r=ta(n.capturePerformance)?n.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[dj]:s}),this._instance.persistence.register({[uj]:r})),this.Et=s,this.startIfEnabled()}it(n){var s,r;(s=bs.__PosthogExtensions__)!=null&&s.postHogWebVitalsCallbacks&&n(),(r=bs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"web-vitals",(i=>{i?xc.error("failed to load script",i):n()}))}Tt(){var n=st?st.location.href:void 0;if(n){var s=this._instance.config.mask_personal_data_properties,r=this._instance.config.custom_personal_data_properties,i=s?kf([],If,r||[]):[];return Jh(n,i,Xh)}xc.error("Could not determine current URL")}}var $Z=Hi("[Heatmaps]");function Sj(e){return ta(e)&&"clientX"in e&&"clientY"in e&&vl(e.clientX)&&vl(e.clientY)}class zZ{constructor(n){var s;this.Et=!1,this.P=!1,this.Rt=null,this.instance=n,this.Et=!((s=this.instance.persistence)==null||!s.props[uv]),this.rageclicks=new FR(n.config.rageclick)}get flushIntervalMilliseconds(){var n=5e3;return ta(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(n=this.instance.config.capture_heatmaps.flush_interval_milliseconds),n}get isEnabled(){return cn(this.instance.config.capture_heatmaps)?cn(this.instance.config.enable_heatmaps)?this.Et:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;$Z.info("starting..."),this.Ft(),this.Ct()}else{var n;clearInterval((n=this.Rt)!==null&&n!==void 0?n:void 0),this.Ot(),this.getAndClearBuffer()}}onRemoteConfig(n){var s=!!n.heatmaps;this.instance.persistence&&this.instance.persistence.register({[uv]:s}),this.Et=s,this.startIfEnabled()}getAndClearBuffer(){var n=this.N;return this.N=void 0,n}Mt(n){this.At(n.originalEvent,"deadclick")}Ct(){this.Rt&&clearInterval(this.Rt),this.Rt=(function(n){return n?.visibilityState==="visible"})(fn)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}Ft(){st&&fn&&(this.jt=this.Dt.bind(this),Ti(st,"beforeunload",this.jt),this.Lt=n=>this.At(n||st?.event),Ti(fn,"click",this.Lt,{capture:!0}),this.Nt=n=>this.Ut(n||st?.event),Ti(fn,"mousemove",this.Nt,{capture:!0}),this.zt=new SR(this.instance,bZ,this.Mt.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ct.bind(this),Ti(fn,"visibilitychange",this.Ht),this.P=!0)}Ot(){var n;st&&fn&&(this.jt&&st.removeEventListener("beforeunload",this.jt),this.Lt&&fn.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&fn.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&fn.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(n=this.zt)==null||n.stop(),this.P=!1)}qt(n,s){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),a=this.instance.scrollManager.scrollElement(),o=(function(l,c,u){for(var p=l;p&&T5(p)&&!Vc(p,"body");){if(p===u)return!1;if(Ys(c,st?.getComputedStyle(p).position))return!0;p=yR(p)}return!1})(gR(n),["fixed","sticky"],a);return{x:n.clientX+(o?0:i),y:n.clientY+(o?0:r),target_fixed:o,type:s}}At(n,s){var r;if(s===void 0&&(s="click"),!pj(n.target)&&Sj(n)){var i=this.qt(n,s);(r=this.rageclicks)!=null&&r.isRageClick(n.clientX,n.clientY,new Date().getTime())&&this.Wt(Dn({},i,{type:"rageclick"})),this.Wt(i)}}Ut(n){!pj(n.target)&&Sj(n)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Wt(this.qt(n,"mousemove"))}),500))}Wt(n){if(st){var s=st.location.href,r=this.instance.config.mask_personal_data_properties,i=this.instance.config.custom_personal_data_properties,a=r?kf([],If,i||[]):[],o=Jh(s,a,Xh);this.N=this.N||{},this.N[o]||(this.N[o]=[]),this.N[o].push(n)}}Dt(){this.N&&!gp(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class WZ{constructor(n){this._instance=n}doPageView(n,s){var r,i=this.Gt(n,s);return this.Vt={pathname:(r=st?.location.pathname)!==null&&r!==void 0?r:"",pageViewId:s,timestamp:n},this._instance.scrollManager.resetContext(),i}doPageLeave(n){var s;return this.Gt(n,(s=this.Vt)==null?void 0:s.pageViewId)}doEvent(){var n;return{$pageview_id:(n=this.Vt)==null?void 0:n.pageViewId}}Gt(n,s){var r=this.Vt;if(!r)return{$pageview_id:s};var i={$pageview_id:s,$prev_pageview_id:r.pageViewId},a=this._instance.scrollManager.getContext();if(a&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:o,lastScrollY:l,maxScrollY:c,maxContentHeight:u,lastContentY:p,maxContentY:f}=a;if(!(cn(o)||cn(l)||cn(c)||cn(u)||cn(p)||cn(f))){o=Math.ceil(o),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),p=Math.ceil(p),f=Math.ceil(f);var m=o<=1?1:ol(l/o,0,1,hn),h=o<=1?1:ol(c/o,0,1,hn),x=u<=1?1:ol(p/u,0,1,hn),g=u<=1?1:ol(f/u,0,1,hn);i=Ni(i,{$prev_pageview_last_scroll:l,$prev_pageview_last_scroll_percentage:m,$prev_pageview_max_scroll:c,$prev_pageview_max_scroll_percentage:h,$prev_pageview_last_content:p,$prev_pageview_last_content_percentage:x,$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:g})}}return r.pathname&&(i.$prev_pageview_pathname=r.pathname),r.timestamp&&(i.$prev_pageview_duration=(n.getTime()-r.timestamp.getTime())/1e3),i}}var yo=Uint8Array,Ha=Uint16Array,Qp=Uint32Array,d9=new yo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u9=new yo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kj=new yo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eL=function(e,n){for(var s=new Ha(31),r=0;r<31;++r)s[r]=n+=1<<e[r-1];var i=new Qp(s[30]);for(r=1;r<30;++r)for(var a=s[r];a<s[r+1];++a)i[a]=a-s[r]<<5|r;return[s,i]},tL=eL(d9,2),GZ=tL[0],_v=tL[1];GZ[28]=258,_v[258]=28;for(var Ij=eL(u9,0)[1],nL=new Ha(32768),Br=0;Br<32768;++Br){var vd=(43690&Br)>>>1|(21845&Br)<<1;vd=(61680&(vd=(52428&vd)>>>2|(13107&vd)<<2))>>>4|(3855&vd)<<4,nL[Br]=((65280&vd)>>>8|(255&vd)<<8)>>>1}var E1=function(e,n,s){for(var r=e.length,i=0,a=new Ha(n);i<r;++i)++a[e[i]-1];var o,l=new Ha(n);for(i=0;i<n;++i)l[i]=l[i-1]+a[i-1]<<1;for(o=new Ha(r),i=0;i<r;++i)o[i]=nL[l[e[i]-1]++]>>>15-e[i];return o},fu=new yo(288);for(Br=0;Br<144;++Br)fu[Br]=8;for(Br=144;Br<256;++Br)fu[Br]=9;for(Br=256;Br<280;++Br)fu[Br]=7;for(Br=280;Br<288;++Br)fu[Br]=8;var i2=new yo(32);for(Br=0;Br<32;++Br)i2[Br]=5;var qZ=E1(fu,9),KZ=E1(i2,5),sL=function(e){return(e/8>>0)+(7&e&&1)},rL=function(e,n,s){(s==null||s>e.length)&&(s=e.length);var r=new(e instanceof Ha?Ha:e instanceof Qp?Qp:yo)(s-n);return r.set(e.subarray(n,s)),r},kl=function(e,n,s){s<<=7&n;var r=n/8>>0;e[r]|=s,e[r+1]|=s>>>8},gm=function(e,n,s){s<<=7&n;var r=n/8>>0;e[r]|=s,e[r+1]|=s>>>8,e[r+2]|=s>>>16},A4=function(e,n){for(var s=[],r=0;r<e.length;++r)e[r]&&s.push({s:r,f:e[r]});var i=s.length,a=s.slice();if(!i)return[new yo(0),0];if(i==1){var o=new yo(s[0].s+1);return o[s[0].s]=1,[o,1]}s.sort((function(N,j){return N.f-j.f})),s.push({s:-1,f:25001});var l=s[0],c=s[1],u=0,p=1,f=2;for(s[0]={s:-1,f:l.f+c.f,l,r:c};p!=i-1;)l=s[s[u].f<s[f].f?u++:f++],c=s[u!=p&&s[u].f<s[f].f?u++:f++],s[p++]={s:-1,f:l.f+c.f,l,r:c};var m=a[0].s;for(r=1;r<i;++r)a[r].s>m&&(m=a[r].s);var h=new Ha(m+1),x=jv(s[p-1],h,0);if(x>n){r=0;var g=0,v=x-n,b=1<<v;for(a.sort((function(N,j){return h[j.s]-h[N.s]||N.f-j.f}));r<i;++r){var y=a[r].s;if(!(h[y]>n))break;g+=b-(1<<x-h[y]),h[y]=n}for(g>>>=v;g>0;){var w=a[r].s;h[w]<n?g-=1<<n-h[w]++-1:++r}for(;r>=0&&g;--r){var _=a[r].s;h[_]==n&&(--h[_],++g)}x=n}return[new yo(h),x]},jv=function(e,n,s){return e.s==-1?Math.max(jv(e.l,n,s+1),jv(e.r,n,s+1)):n[e.s]=s},Tj=function(e){for(var n=e.length;n&&!e[--n];);for(var s=new Ha(++n),r=0,i=e[0],a=1,o=function(c){s[r++]=c},l=1;l<=n;++l)if(e[l]==i&&l!=n)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return[s.subarray(0,r),n]},bm=function(e,n){for(var s=0,r=0;r<n.length;++r)s+=e[r]*n[r];return s},Nv=function(e,n,s){var r=s.length,i=sL(n+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=s[a];return 8*(i+4+r)},Aj=function(e,n,s,r,i,a,o,l,c,u,p){kl(n,p++,s),++i[256];for(var f=A4(i,15),m=f[0],h=f[1],x=A4(a,15),g=x[0],v=x[1],b=Tj(m),y=b[0],w=b[1],_=Tj(g),N=_[0],j=_[1],C=new Ha(19),S=0;S<y.length;++S)C[31&y[S]]++;for(S=0;S<N.length;++S)C[31&N[S]]++;for(var F=A4(C,7),E=F[0],I=F[1],T=19;T>4&&!E[kj[T-1]];--T);var A,D,O,M,L=u+5<<3,P=bm(i,fu)+bm(a,i2)+o,B=bm(i,m)+bm(a,g)+o+14+3*T+bm(C,E)+(2*C[16]+3*C[17]+7*C[18]);if(L<=P&&L<=B)return Nv(n,p,e.subarray(c,c+u));if(kl(n,p,1+(B<P)),p+=2,B<P){A=E1(m,h),D=m,O=E1(g,v),M=g;var G=E1(E,I);for(kl(n,p,w-257),kl(n,p+5,j-1),kl(n,p+10,T-4),p+=14,S=0;S<T;++S)kl(n,p+3*S,E[kj[S]]);p+=3*T;for(var $=[y,N],te=0;te<2;++te){var U=$[te];for(S=0;S<U.length;++S){var oe=31&U[S];kl(n,p,G[oe]),p+=E[oe],oe>15&&(kl(n,p,U[S]>>>5&127),p+=U[S]>>>12)}}}else A=qZ,D=fu,O=KZ,M=i2;for(S=0;S<l;++S)if(r[S]>255){oe=r[S]>>>18&31,gm(n,p,A[oe+257]),p+=D[oe+257],oe>7&&(kl(n,p,r[S]>>>23&31),p+=d9[oe]);var Y=31&r[S];gm(n,p,O[Y]),p+=M[Y],Y>3&&(gm(n,p,r[S]>>>5&8191),p+=u9[Y])}else gm(n,p,A[r[S]]),p+=D[r[S]];return gm(n,p,A[256]),p+D[256]},YZ=new Qp([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ZZ=(function(){for(var e=new Qp(256),n=0;n<256;++n){for(var s=n,r=9;--r;)s=(1&s&&3988292384)^s>>>1;e[n]=s}return e})(),JZ=function(e,n,s,r,i){return(function(a,o,l,c,u,p){var f=a.length,m=new yo(c+f+5*(1+Math.floor(f/7e3))+u),h=m.subarray(c,m.length-u),x=0;if(!o||f<8)for(var g=0;g<=f;g+=65535){var v=g+65535;v<f?x=Nv(h,x,a.subarray(g,v)):(h[g]=p,x=Nv(h,x,a.subarray(g,f)))}else{for(var b=YZ[o-1],y=b>>>13,w=8191&b,_=(1<<l)-1,N=new Ha(32768),j=new Ha(_+1),C=Math.ceil(l/3),S=2*C,F=function(xe){return(a[xe]^a[xe+1]<<C^a[xe+2]<<S)&_},E=new Qp(25e3),I=new Ha(288),T=new Ha(32),A=0,D=0,O=(g=0,0),M=0,L=0;g<f;++g){var P=F(g),B=32767&g,G=j[P];if(N[B]=G,j[P]=B,M<=g){var $=f-g;if((A>7e3||O>24576)&&$>423){x=Aj(a,h,0,E,I,T,D,O,L,g-L,x),O=A=D=0,L=g;for(var te=0;te<286;++te)I[te]=0;for(te=0;te<30;++te)T[te]=0}var U=2,oe=0,Y=w,W=B-G&32767;if($>2&&P==F(g-W))for(var Z=Math.min(y,$)-1,le=Math.min(32767,g),q=Math.min(258,$);W<=le&&--Y&&B!=G;){if(a[g+U]==a[g+U-W]){for(var Q=0;Q<q&&a[g+Q]==a[g+Q-W];++Q);if(Q>U){if(U=Q,oe=W,Q>Z)break;var he=Math.min(W,Q-2),me=0;for(te=0;te<he;++te){var ce=g-W+te+32768&32767,ee=ce-N[ce]+32768&32767;ee>me&&(me=ee,G=ce)}}}W+=(B=G)-(G=N[B])+32768&32767}if(oe){E[O++]=268435456|_v[U]<<18|Ij[oe];var J=31&_v[U],re=31&Ij[oe];D+=d9[J]+u9[re],++I[257+J],++T[re],M=g+U,++A}else E[O++]=a[g],++I[a[g]]}}x=Aj(a,h,p,E,I,T,D,O,L,g-L,x)}return rL(m,0,c+sL(x)+u)})(e,n.level==null?6:n.level,n.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+n.mem,s,r,!0)},D4=function(e,n,s){for(;s;++n)e[n]=s,s>>>=8};function XZ(e,n){n===void 0&&(n={});var s=(function(){var l=4294967295;return{p:function(c){for(var u=l,p=0;p<c.length;++p)u=ZZ[255&u^c[p]]^u>>>8;l=u},d:function(){return 4294967295^l}}})(),r=e.length;s.p(e);var i,a=JZ(e,n,10+((i=n).filename&&i.filename.length+1||0),8),o=a.length;return(function(l,c){var u=c.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=c.level<2?4:c.level==9?2:0,l[9]=3,c.mtime!=0&&D4(l,4,Math.floor(new Date(c.mtime||Date.now())/1e3)),u){l[3]=8;for(var p=0;p<=u.length;++p)l[p+10]=u.charCodeAt(p)}})(a,n),D4(a,o-8,s.d()),D4(a,o-4,r),a}var QZ=function(e){var n,s,r,i,a="";for(n=s=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=e.charCodeAt(i),l=null;o<128?s++:l=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),ic(l)||(s>n&&(a+=e.substring(n,s)),a+=l,n=s=i+1)}return s>n&&(a+=e.substring(n,e.length)),a},eJ=!!av||!!iv,Dj="text/plain",a2=function(e,n,s){var r;s===void 0&&(s=!0);var[i,a]=e.split("?"),o=Dn({},n),l=(r=a?.split("&").map((u=>{var p,[f,m]=u.split("="),h=s&&(p=o[f])!==null&&p!==void 0?p:m;return delete o[f],f+"="+h})))!==null&&r!==void 0?r:[],c=iZ(o);return c&&l.push(c),i+"?"+l.join("&")},c1=(e,n)=>JSON.stringify(e,((s,r)=>typeof r=="bigint"?r.toString():r),n),M4=e=>{var{data:n,compression:s}=e;if(n){if(s===Hl.GZipJS){var r=XZ((function(c,u){var p=c.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(c);for(var f=new yo(c.length+(c.length>>>1)),m=0,h=function(b){f[m++]=b},x=0;x<p;++x){if(m+5>f.length){var g=new yo(m+8+(p-x<<1));g.set(f),f=g}var v=c.charCodeAt(x);v<128||u?h(v):v<2048?(h(192|v>>>6),h(128|63&v)):v>55295&&v<57344?(h(240|(v=65536+(1047552&v)|1023&c.charCodeAt(++x))>>>18),h(128|v>>>12&63),h(128|v>>>6&63),h(128|63&v)):(h(224|v>>>12),h(128|v>>>6&63),h(128|63&v))}return rL(f,0,m)})(c1(n)),{mtime:0}),i=new Blob([r],{type:Dj});return{contentType:Dj,body:i,estimatedSize:i.size}}if(s===Hl.Base64){var a=(function(c){var u,p,f,m,h,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=0,v=0,b="",y=[];if(!c)return c;c=QZ(c);do u=(h=c.charCodeAt(g++)<<16|c.charCodeAt(g++)<<8|c.charCodeAt(g++))>>18&63,p=h>>12&63,f=h>>6&63,m=63&h,y[v++]=x.charAt(u)+x.charAt(p)+x.charAt(f)+x.charAt(m);while(g<c.length);switch(b=y.join(""),c.length%3){case 1:b=b.slice(0,-2)+"==";break;case 2:b=b.slice(0,-1)+"="}return b})(c1(n)),o=(c=>"data="+encodeURIComponent(typeof c=="string"?c:c1(c)))(a);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var l=c1(n);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},cg=[];iv&&cg.push({transport:"fetch",method:e=>{var n,s,{contentType:r,body:i,estimatedSize:a}=(n=M4(e))!==null&&n!==void 0?n:{},o=new Headers;Dr(e.headers,(function(p,f){o.append(f,p)})),r&&o.append("Content-Type",r);var l=e.url,c=null;if(X_){var u=new X_;c={signal:u.signal,timeout:setTimeout((()=>u.abort()),e.timeout)}}iv(l,Dn({method:e?.method||"GET",headers:o,keepalive:e.method==="POST"&&(a||0)<52428.8,body:i,signal:(s=c)==null?void 0:s.signal},e.fetchOptions)).then((p=>p.text().then((f=>{var m={statusCode:p.status,text:f};if(p.status===200)try{m.json=JSON.parse(f)}catch(h){hn.error(h)}e.callback==null||e.callback(m)})))).catch((p=>{hn.error(p),e.callback==null||e.callback({statusCode:0,text:p})})).finally((()=>c?clearTimeout(c.timeout):null))}}),av&&cg.push({transport:"XHR",method:e=>{var n,s=new av;s.open(e.method||"GET",e.url,!0);var{contentType:r,body:i}=(n=M4(e))!==null&&n!==void 0?n:{};Dr(e.headers,(function(a,o){s.setRequestHeader(o,a)})),r&&s.setRequestHeader("Content-Type",r),e.timeout&&(s.timeout=e.timeout),e.disableXHRCredentials||(s.withCredentials=!0),s.onreadystatechange=()=>{if(s.readyState===4){var a={statusCode:s.status,text:s.responseText};if(s.status===200)try{a.json=JSON.parse(s.responseText)}catch{}e.callback==null||e.callback(a)}},s.send(i)}}),eo!=null&&eo.sendBeacon&&cg.push({transport:"sendBeacon",method:e=>{var n=a2(e.url,{beacon:"1"});try{var s,{contentType:r,body:i}=(s=M4(e))!==null&&s!==void 0?s:{},a=typeof i=="string"?new Blob([i],{type:r}):i;eo.sendBeacon(n,a)}catch{}}});var ef=function(e,n){if(!(function(s){try{new RegExp(s)}catch{return!1}return!0})(n))return!1;try{return new RegExp(n).test(e)}catch{return!1}};function Mj(e,n,s){return c1({distinct_id:e,userPropertiesToSet:n,userPropertiesToSetOnce:s})}var iL={exact:(e,n)=>n.some((s=>e.some((r=>s===r)))),is_not:(e,n)=>n.every((s=>e.every((r=>s!==r)))),regex:(e,n)=>n.some((s=>e.some((r=>ef(s,r))))),not_regex:(e,n)=>n.every((s=>e.every((r=>!ef(s,r))))),icontains:(e,n)=>n.map(Y0).some((s=>e.map(Y0).some((r=>s.includes(r))))),not_icontains:(e,n)=>n.map(Y0).every((s=>e.map(Y0).every((r=>!s.includes(r)))))},Y0=e=>e.toLowerCase(),R4=Hi("[Error tracking]");class tJ{constructor(n){var s,r;this.Jt=[],this.Kt=new NY([new MY,new $Y,new LY,new RY,new HY,new UY,new OY,new VY],DY("web:javascript",kY,AY)),this._instance=n,this.Jt=(s=(r=this._instance.persistence)==null?void 0:r.get_property(pv))!==null&&s!==void 0?s:[]}onRemoteConfig(n){var s,r,i,a=(s=(r=n.errorTracking)==null?void 0:r.suppressionRules)!==null&&s!==void 0?s:[],o=(i=n.errorTracking)==null?void 0:i.captureExtensionExceptions;this.Jt=a,this._instance.persistence&&this._instance.persistence.register({[pv]:this.Jt,[cj]:o})}get Yt(){var n,s=!!this._instance.get_property(cj),r=this._instance.config.error_tracking.captureExtensionExceptions;return(n=r??s)!==null&&n!==void 0&&n}buildProperties(n,s){return this.Kt.buildFromUnknown(n,{syntheticException:s?.syntheticException,mechanism:{handled:s?.handled}})}sendExceptionEvent(n){var s=n.$exception_list;if(this.Xt(s)){if(this.Qt(s))return void R4.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(s))return void R4.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(s))return void R4.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",n,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(n){if(n.length===0)return!1;var s=n.reduce(((r,i)=>{var{type:a,value:o}=i;return Bi(a)&&a.length>0&&r.$exception_types.push(a),Bi(o)&&o.length>0&&r.$exception_values.push(o),r}),{$exception_types:[],$exception_values:[]});return this.Jt.some((r=>{var i=r.values.map((a=>{var o,l=iL[a.operator],c=Mr(a.value)?a.value:[a.value],u=(o=s[a.key])!==null&&o!==void 0?o:[];return c.length>0&&l(c,u)}));return r.type==="OR"?i.some(Boolean):i.every(Boolean)}))}Zt(n){return n.flatMap((s=>{var r,i;return(r=(i=s.stacktrace)==null?void 0:i.frames)!==null&&r!==void 0?r:[]})).some((s=>s.filename&&s.filename.startsWith("chrome-extension://")))}ti(n){if(n.length>0){var s,r,i,a,o=(s=(r=n[0].stacktrace)==null?void 0:r.frames)!==null&&s!==void 0?s:[],l=o[o.length-1];return(i=l==null||(a=l.filename)==null?void 0:a.includes("posthog.com/static"))!==null&&i!==void 0&&i}return!1}Xt(n){return!Or(n)&&Mr(n)}}var ko=Hi("[FeatureFlags]"),ym=Hi("[FeatureFlags]",{debugEnabled:!0}),L4="$active_feature_flags",qu="$override_feature_flags",Rj="$feature_flag_payloads",vm="$override_feature_flag_payloads",Lj="$feature_flag_request_id",Pj=e=>{var n={};for(var[s,r]of lg(e||{}))r&&(n[s]=r);return n},nJ=e=>{var n=e.flags;return n?(e.featureFlags=Object.fromEntries(Object.keys(n).map((s=>{var r;return[s,(r=n[s].variant)!==null&&r!==void 0?r:n[s].enabled]}))),e.featureFlagPayloads=Object.fromEntries(Object.keys(n).filter((s=>n[s].enabled)).filter((s=>{var r;return(r=n[s].metadata)==null?void 0:r.payload})).map((s=>{var r;return[s,(r=n[s].metadata)==null?void 0:r.payload]})))):ko.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},sJ=(function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e})({});class rJ{constructor(n){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=n,this.featureFlagEventHandlers=[]}li(){var n=this._instance.config.evaluation_environments;return n!=null&&n.length?n.filter((s=>{var r=s&&typeof s=="string"&&s.trim().length>0;return r||ko.error("Invalid evaluation environment found:",s,"Expected non-empty string"),r})):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var n=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:n})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var n=this._instance.get_property(fv),s=this._instance.get_property(qu),r=this._instance.get_property(vm);if(!r&&!s)return n||{};var i=Ni({},n||{}),a=[...new Set([...Object.keys(r||{}),...Object.keys(s||{})])];for(var o of a){var l,c,u=i[o],p=s?.[o],f=cn(p)?(l=u?.enabled)!==null&&l!==void 0&&l:!!p,m=cn(p)?u.variant:typeof p=="string"?p:void 0,h=r?.[o],x=Dn({},u,{enabled:f,variant:f?m??u?.variant:void 0});f!==u?.enabled&&(x.original_enabled=u?.enabled),m!==u?.variant&&(x.original_variant=u?.variant),h&&(x.metadata=Dn({},u?.metadata,{payload:h,original_payload:u==null||(c=u.metadata)==null?void 0:c.payload})),i[o]=x}return this.ii||(ko.warn(" Overriding feature flag details!",{flagDetails:n,overriddenPayloads:r,finalDetails:i}),this.ii=!0),i}getFlagVariants(){var n=this._instance.get_property(bp),s=this._instance.get_property(qu);if(!s)return n||{};for(var r=Ni({},n),i=Object.keys(s),a=0;a<i.length;a++)r[i[a]]=s[i[a]];return this.ii||(ko.warn(" Overriding feature flags!",{enabledFlags:n,overriddenFlags:s,finalFlags:r}),this.ii=!0),r}getFlagPayloads(){var n=this._instance.get_property(Rj),s=this._instance.get_property(vm);if(!s)return n||{};for(var r=Ni({},n||{}),i=Object.keys(s),a=0;a<i.length;a++)r[i[a]]=s[i[a]];return this.ii||(ko.warn(" Overriding feature flag payloads!",{flagPayloads:n,overriddenPayloads:s,finalPayloads:r}),this.ii=!0),r}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout((()=>{this.di()}),5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(n){this.$anon_distinct_id=n}setReloadingPaused(n){this.si=n}di(n){var s;if(this.vi(),!this._instance.M())if(this.ri)this.ni=!0;else{var r={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Dn({},((s=this._instance.persistence)==null?void 0:s.get_initial_props())||{},this._instance.get_property(o1)||{}),group_properties:this._instance.get_property(Hd)};(n!=null&&n.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0),this.ui()&&(r.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,a=i?"/flags/?v=2":"/flags/?v=2&config=true",o=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",l=this._instance.requestRouter.endpointFor("flags",a+o);i&&(r.timezone=QR()),this.ri=!0,this._instance.ci({method:"POST",url:l,data:r,compression:this._instance.config.disable_compression?void 0:Hl.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:c=>{var u,p,f=!0;if(c.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),f=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.fi((p=c.json)!==null&&p!==void 0?p:{})),!r.disable_flags||this.ni)if(this.ai=!f,c.json&&(u=c.json.quotaLimited)!=null&&u.includes(sJ.FeatureFlags))ko.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var m;r.disable_flags||this.receivedFeatureFlags((m=c.json)!==null&&m!==void 0?m:{},f),this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(n,s){if(s===void 0&&(s={}),this.ei||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[n],i=""+r,a=this._instance.get_property(Lj)||void 0,o=this._instance.get_property(Zg)||{};if((s.send_event||!("send_event"in s))&&(!(n in o)||!o[n].includes(i))){var l,c,u,p,f,m,h,x,g;Mr(o[n])?o[n].push(i):o[n]=[i],(l=this._instance.persistence)==null||l.register({[Zg]:o});var v=this.getFeatureFlagDetails(n),b={$feature_flag:n,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(n)||null,$feature_flag_request_id:a,$feature_flag_bootstrapped_response:((c=this._instance.config.bootstrap)==null||(c=c.featureFlags)==null?void 0:c[n])||null,$feature_flag_bootstrapped_payload:((u=this._instance.config.bootstrap)==null||(u=u.featureFlagPayloads)==null?void 0:u[n])||null,$used_bootstrap_value:!this.ai};cn(v==null||(p=v.metadata)==null?void 0:p.version)||(b.$feature_flag_version=v.metadata.version);var y,w=(f=v==null||(m=v.reason)==null?void 0:m.description)!==null&&f!==void 0?f:v==null||(h=v.reason)==null?void 0:h.code;w&&(b.$feature_flag_reason=w),v!=null&&(x=v.metadata)!=null&&x.id&&(b.$feature_flag_id=v.metadata.id),cn(v?.original_variant)&&cn(v?.original_enabled)||(b.$feature_flag_original_response=cn(v.original_variant)?v.original_enabled:v.original_variant),v!=null&&(g=v.metadata)!=null&&g.original_payload&&(b.$feature_flag_original_payload=v==null||(y=v.metadata)==null?void 0:y.original_payload),this._instance.capture("$feature_flag_called",b)}return r}ko.warn('getFeatureFlag for key "'+n+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(n){return this.getFlagsWithDetails()[n]}getFeatureFlagPayload(n){return this.getFlagPayloads()[n]}getRemoteConfigPayload(n,s){var r=this._instance.config.token,i={distinct_id:this._instance.get_distinct_id(),token:r};this.ui()&&(i.evaluation_environments=this.li()),this._instance.ci({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:i,compression:this._instance.config.disable_compression?void 0:Hl.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:a=>{var o,l=(o=a.json)==null?void 0:o.featureFlagPayloads;s(l?.[n]||void 0)}})}isFeatureEnabled(n,s){if(s===void 0&&(s={}),this.ei||this.getFlags()&&this.getFlags().length>0){var r=this.getFeatureFlag(n,s);return cn(r)?void 0:!!r}ko.warn('isFeatureEnabled for key "'+n+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(n){this.featureFlagEventHandlers.push(n)}removeFeatureFlagsHandler(n){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((s=>s!==n))}receivedFeatureFlags(n,s){if(this._instance.persistence){this.ei=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads(),a=this.getFlagsWithDetails();(function(o,l,c,u,p){c===void 0&&(c={}),u===void 0&&(u={}),p===void 0&&(p={});var f=nJ(o),m=f.flags,h=f.featureFlags,x=f.featureFlagPayloads;if(h){var g=o.requestId;if(Mr(h)){ko.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var v={};if(h)for(var b=0;b<h.length;b++)v[h[b]]=!0;l&&l.register({[L4]:h,[bp]:v})}else{var y=h,w=x,_=m;o.errorsWhileComputingFlags&&(y=Dn({},c,y),w=Dn({},u,w),_=Dn({},p,_)),l&&l.register(Dn({[L4]:Object.keys(Pj(y)),[bp]:y||{},[Rj]:w||{},[fv]:_||{}},g?{[Lj]:g}:{}))}}})(n,this._instance.persistence,r,i,a),this.pi(s)}}override(n,s){s===void 0&&(s=!1),ko.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:n,suppressWarning:s})}overrideFeatureFlags(n){if(!this._instance.__loaded||!this._instance.persistence)return ko.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(n===!1)return this._instance.persistence.unregister(qu),this._instance.persistence.unregister(vm),this.pi(),ym.info("All overrides cleared");if(n&&typeof n=="object"&&("flags"in n||"payloads"in n)){var s,r=n;if(this.ii=!!((s=r.suppressWarning)!==null&&s!==void 0&&s),"flags"in r){if(r.flags===!1)this._instance.persistence.unregister(qu),ym.info("Flag overrides cleared");else if(r.flags){if(Mr(r.flags)){for(var i={},a=0;a<r.flags.length;a++)i[r.flags[a]]=!0;this._instance.persistence.register({[qu]:i})}else this._instance.persistence.register({[qu]:r.flags});ym.info("Flag overrides set",{flags:r.flags})}}return"payloads"in r&&(r.payloads===!1?(this._instance.persistence.unregister(vm),ym.info("Payload overrides cleared")):r.payloads&&(this._instance.persistence.register({[vm]:r.payloads}),ym.info("Payload overrides set",{payloads:r.payloads}))),void this.pi()}this.pi()}onFeatureFlags(n){if(this.addFeatureFlagsHandler(n),this.ei){var{flags:s,flagVariants:r}=this.gi();n(s,r)}return()=>this.removeFeatureFlagsHandler(n)}updateEarlyAccessFeatureEnrollment(n,s,r){var i,a=(this._instance.get_property(a1)||[]).find((u=>u.flagKey===n)),o={["$feature_enrollment/"+n]:s},l={$feature_flag:n,$feature_enrollment:s,$set:o};a&&(l.$early_access_feature_name=a.name),r&&(l.$feature_enrollment_stage=r),this._instance.capture("$feature_enrollment_update",l),this.setPersonPropertiesForFlags(o,!1);var c=Dn({},this.getFlagVariants(),{[n]:s});(i=this._instance.persistence)==null||i.register({[L4]:Object.keys(Pj(c)),[bp]:c}),this.pi()}getEarlyAccessFeatures(n,s,r){s===void 0&&(s=!1);var i=this._instance.get_property(a1),a=r?"&"+r.map((o=>"stage="+o)).join("&"):"";if(i&&!s)return n(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+a),method:"GET",callback:o=>{var l,c;if(o.json){var u=o.json.earlyAccessFeatures;return(l=this._instance.persistence)==null||l.unregister(a1),(c=this._instance.persistence)==null||c.register({[a1]:u}),n(u)}}})}gi(){var n=this.getFlags(),s=this.getFlagVariants();return{flags:n.filter((r=>s[r])),flagVariants:Object.keys(s).filter((r=>s[r])).reduce(((r,i)=>(r[i]=s[i],r)),{})}}pi(n){var{flags:s,flagVariants:r}=this.gi();this.featureFlagEventHandlers.forEach((i=>i(s,r,{errorsLoading:n})))}setPersonPropertiesForFlags(n,s){s===void 0&&(s=!0);var r=this._instance.get_property(o1)||{};this._instance.register({[o1]:Dn({},r,n)}),s&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(o1)}setGroupPropertiesForFlags(n,s){s===void 0&&(s=!0);var r=this._instance.get_property(Hd)||{};Object.keys(r).length!==0&&Object.keys(r).forEach((i=>{r[i]=Dn({},r[i],n[i]),delete n[i]})),this._instance.register({[Hd]:Dn({},r,n)}),s&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(n){if(n){var s=this._instance.get_property(Hd)||{};this._instance.register({[Hd]:Dn({},s,{[n]:{}})})}else this._instance.unregister(Hd)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var iJ=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class P4{constructor(n,s){this.F=n,this.props={},this.mi=!1,this.yi=(r=>{var i="";return r.token&&(i=r.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),r.persistence_name?"ph_"+r.persistence_name:"ph_"+i+"_posthog"})(n),this.Y=this.bi(n),this.load(),n.debug&&hn.info("Persistence loaded",n.persistence,Dn({},this.props)),this.update_config(n,n,s),this.save()}isDisabled(){return!!this.wi}bi(n){iJ.indexOf(n.persistence.toLowerCase())===-1&&(hn.critical("Unknown persistence type "+n.persistence+"; falling back to localStorage+cookie"),n.persistence="localStorage+cookie");var s=n.persistence.toLowerCase();return s==="localstorage"&&si.H()?si:s==="localstorage+cookie"&&W0.H()?W0:s==="sessionstorage"&&Xi.H()?Xi:s==="memory"?xZ:s==="cookie"?fl:W0.H()?W0:fl}properties(){var n={};return Dr(this.props,(function(s,r){if(r===bp&&ta(s))for(var i=Object.keys(s),a=0;a<i.length;a++)n["$feature/"+i[a]]=s[i[a]];else l=r,c=!1,(ic(o=YY)?c:J_&&o.indexOf===J_?o.indexOf(l)!=-1:(Dr(o,(function(u){if(c||(c=u===l))return Kg})),c))||(n[r]=s);var o,l,c})),n}load(){if(!this.wi){var n=this.Y.W(this.yi);n&&(this.props=Ni({},n))}}save(){this.wi||this.Y.G(this.yi,this.props,this.xi,this.$i,this.Ei,this.F.debug)}remove(){this.Y.V(this.yi,!1),this.Y.V(this.yi,!0)}clear(){this.remove(),this.props={}}register_once(n,s,r){if(ta(n)){cn(s)&&(s="None"),this.xi=cn(r)?this.Si:r;var i=!1;if(Dr(n,((a,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==s||(this.props[o]=a,i=!0)})),i)return this.save(),!0}return!1}register(n,s){if(ta(n)){this.xi=cn(s)?this.Si:s;var r=!1;if(Dr(n,((i,a)=>{n.hasOwnProperty(a)&&this.props[a]!==i&&(this.props[a]=i,r=!0)})),r)return this.save(),!0}return!1}unregister(n){n in this.props&&(delete this.props[n],this.save())}update_campaign_params(){if(!this.mi){var n=qR(this.F.custom_campaign_params,this.F.mask_personal_data_properties,this.F.custom_personal_data_properties);gp(n9(n))||this.register(n),this.mi=!0}}update_search_keyword(){var n;this.register((n=fn?.referrer)?YR(n):{})}update_referrer_info(){var n;this.register_once({$referrer:ZR(),$referring_domain:fn!=null&&fn.referrer&&((n=e2(fn.referrer))==null?void 0:n.host)||"$direct"},void 0)}set_initial_person_info(){this.props[gv]||this.props[bv]||this.register_once({[Jg]:JR(this.F.mask_personal_data_properties,this.F.custom_personal_data_properties)},void 0)}get_initial_props(){var n={};Dr([bv,gv],(o=>{var l=this.props[o];l&&Dr(l,(function(c,u){n["$initial_"+ov(u)]=c}))}));var s,r,i=this.props[Jg];if(i){var a=(s=XR(i),r={},Dr(s,(function(o,l){r["$initial_"+ov(l)]=o})),r);Ni(n,a)}return n}safe_merge(n){return Dr(this.props,(function(s,r){r in n||(n[r]=s)})),n}update_config(n,s,r){if(this.Si=this.xi=n.cookie_expiration,this.set_disabled(n.disable_persistence||!!r),this.set_cross_subdomain(n.cross_subdomain_cookie),this.set_secure(n.secure_cookie),n.persistence!==s.persistence){var i=this.bi(n),a=this.props;this.clear(),this.Y=i,this.props=a,this.save()}}set_disabled(n){this.wi=n,this.wi?this.remove():this.save()}set_cross_subdomain(n){n!==this.$i&&(this.$i=n,this.remove(),this.save())}set_secure(n){n!==this.Ei&&(this.Ei=n,this.remove(),this.save())}set_event_timer(n,s){var r=this.props[i1]||{};r[n]=s,this.props[i1]=r,this.save()}remove_event_timer(n){var s=(this.props[i1]||{})[n];return cn(s)||(delete this.props[i1][n],this.save()),s}get_property(n){return this.props[n]}set_property(n,s){this.props[n]=s,this.save()}}(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var O4=(function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e})({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var dg=(function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e})({}),Oj=(function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e})({}),aL=(function(e){return e.Popover="popover",e.Inline="inline",e})({});class p9{constructor(){this.ki={},this.ki={}}on(n,s){return this.ki[n]||(this.ki[n]=[]),this.ki[n].push(s),()=>{this.ki[n]=this.ki[n].filter((r=>r!==s))}}emit(n,s){for(var r of this.ki[n]||[])r(s);for(var i of this.ki["*"]||[])i(n,s)}}class Wd{constructor(n){this.Pi=new p9,this.Ti=(s,r)=>this.Ii(s,r)&&this.Ri(s,r)&&this.Fi(s,r),this.Ii=(s,r)=>r==null||!r.event||s?.event===r?.event,this._instance=n,this.Ci=new Set,this.Oi=new Set}init(){var n;if(!cn((n=this._instance)==null?void 0:n.Mi)){var s;(s=this._instance)==null||s.Mi(((r,i)=>{this.on(r,i)}))}}register(n){var s,r;if(!cn((s=this._instance)==null?void 0:s.Mi)&&(n.forEach((o=>{var l,c;(l=this.Oi)==null||l.add(o),(c=o.steps)==null||c.forEach((u=>{var p;(p=this.Ci)==null||p.add(u?.event||"")}))})),(r=this._instance)!=null&&r.autocapture)){var i,a=new Set;n.forEach((o=>{var l;(l=o.steps)==null||l.forEach((c=>{c!=null&&c.selector&&a.add(c?.selector)}))})),(i=this._instance)==null||i.autocapture.setElementSelectors(a)}}on(n,s){var r;s!=null&&n.length!=0&&(this.Ci.has(n)||this.Ci.has(s?.event))&&this.Oi&&((r=this.Oi)==null?void 0:r.size)>0&&this.Oi.forEach((i=>{this.Ai(s,i)&&this.Pi.emit("actionCaptured",i.name)}))}Di(n){this.onAction("actionCaptured",(s=>n(s)))}Ai(n,s){if(s?.steps==null)return!1;for(var r of s.steps)if(this.Ti(n,r))return!0;return!1}onAction(n,s){return this.Pi.on(n,s)}Ri(n,s){if(s!=null&&s.url){var r,i=n==null||(r=n.properties)==null?void 0:r.$current_url;if(!i||typeof i!="string"||!Wd.ji(i,s?.url,s?.url_matching||"contains"))return!1}return!0}static ji(n,s,r){switch(r){case"regex":return!!st&&ef(n,s);case"exact":return s===n;case"contains":var i=Wd.Li(s).replace(/_/g,".").replace(/%/g,".*");return ef(n,i);default:return!1}}static Li(n){return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Fi(n,s){if((s!=null&&s.href||s!=null&&s.tag_name||s!=null&&s.text)&&!this.Ni(n).some((a=>!(s!=null&&s.href&&!Wd.ji(a.href||"",s?.href,s?.href_matching||"exact"))&&(s==null||!s.tag_name||a.tag_name===s?.tag_name)&&!(s!=null&&s.text&&!Wd.ji(a.text||"",s?.text,s?.text_matching||"exact")&&!Wd.ji(a.$el_text||"",s?.text,s?.text_matching||"exact")))))return!1;if(s!=null&&s.selector){var r,i=n==null||(r=n.properties)==null?void 0:r.$element_selectors;if(!i||!i.includes(s?.selector))return!1}return!0}Ni(n){return n?.properties.$elements==null?[]:n?.properties.$elements}}var _r=Hi("[Surveys]"),Fv="seenSurvey_",aJ=(e,n)=>{var s="$survey_"+n+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(s="$survey_"+n+"/"+e.id+"/"+e.current_iteration),s},Bj=e=>{var n=""+Fv+e.id;return e.current_iteration&&e.current_iteration>0&&(n=""+Fv+e.id+"_"+e.current_iteration),n},oJ=[O4.Popover,O4.Widget,O4.API],lJ={ignoreConditions:!1,ignoreDelay:!1,displayType:aL.Popover};class cJ{constructor(n){this._instance=n,this.Ui=new Map,this.zi=new Map}register(n){var s;cn((s=this._instance)==null?void 0:s.Mi)||(this.Hi(n),this.Bi(n))}Bi(n){var s=n.filter((r=>{var i,a;return((i=r.conditions)==null?void 0:i.actions)&&((a=r.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0}));s.length!==0&&(this.qi==null&&(this.qi=new Wd(this._instance),this.qi.init(),this.qi.Di((r=>{this.onAction(r)}))),s.forEach((r=>{var i,a,o,l,c;r.conditions&&(i=r.conditions)!=null&&i.actions&&(a=r.conditions)!=null&&(a=a.actions)!=null&&a.values&&((o=r.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0&&((l=this.qi)==null||l.register(r.conditions.actions.values),(c=r.conditions)==null||(c=c.actions)==null||(c=c.values)==null||c.forEach((u=>{if(u&&u.name){var p=this.zi.get(u.name);p&&p.push(r.id),this.zi.set(u.name,p||[r.id])}})))})))}Hi(n){var s;n.filter((r=>{var i,a;return((i=r.conditions)==null?void 0:i.events)&&((a=r.conditions)==null||(a=a.events)==null||(a=a.values)==null?void 0:a.length)>0})).length!==0&&((s=this._instance)==null||s.Mi(((r,i)=>{this.onEvent(r,i)})),n.forEach((r=>{var i;(i=r.conditions)==null||(i=i.events)==null||(i=i.values)==null||i.forEach((a=>{if(a&&a.name){var o=this.Ui.get(a.name);o&&o.push(r.id),this.Ui.set(a.name,o||[r.id])}}))})))}onEvent(n,s){var r,i,a=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[z0])||[];if(dg.SHOWN===n&&s&&a.length>0){var o;_r.info("survey event matched, removing survey from activated surveys",{event:n,eventPayload:s,existingActivatedSurveys:a});var l=s==null||(o=s.properties)==null?void 0:o.$survey_id;if(l){var c=a.indexOf(l);c>=0&&(a.splice(c,1),this.Wi(a))}}else if(this.Ui.has(n)){_r.info("survey event name matched",{event:n,eventPayload:s,surveys:this.Ui.get(n)});var u=[];(i=this._instance)==null||i.getSurveys((f=>{u=f.filter((m=>{var h;return(h=this.Ui.get(n))==null?void 0:h.includes(m.id)}))}));var p=u.filter((f=>{var m,h=(m=f.conditions)==null||(m=m.events)==null||(m=m.values)==null?void 0:m.find((x=>x.name===n));return!!h&&(!h.propertyFilters||Object.entries(h.propertyFilters).every((x=>{var g,[v,b]=x,y=s==null||(g=s.properties)==null?void 0:g[v];if(cn(y)||ic(y))return!1;var w=[String(y)],_=iL[b.operator];return _?_(b.values,w):(_r.warn("Unknown property comparison operator: "+b.operator),!1)})))}));this.Wi(a.concat(p.map((f=>f.id))||[]))}}onAction(n){var s,r=((s=this._instance)==null||(s=s.persistence)==null?void 0:s.props[z0])||[];this.zi.has(n)&&this.Wi(r.concat(this.zi.get(n)||[]))}Wi(n){var s;_r.info("updating activated surveys",{activatedSurveys:n}),(s=this._instance)==null||(s=s.persistence)==null||s.register({[z0]:[...new Set(n)]})}getSurveys(){var n,s=(n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[z0];return s||[]}getEventToSurveys(){return this.Ui}Gi(){return this.qi}}class dJ{constructor(n){this.Vi=void 0,this._surveyManager=null,this.Ji=!1,this.Ki=!1,this.Yi=[],this._instance=n,this._surveyEventReceiver=null}onRemoteConfig(n){if(!this._instance.config.disable_surveys){var s=n.surveys;if(Or(s))return _r.warn("Flags not loaded yet. Not loading surveys.");var r=Mr(s);this.Vi=r?s.length>0:s,_r.info("flags response received, isSurveysEnabled: "+this.Vi),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var n=[],s=0;s<localStorage.length;s++){var r=localStorage.key(s);(r!=null&&r.startsWith(Fv)||r!=null&&r.startsWith("inProgressSurvey_"))&&n.push(r)}n.forEach((i=>localStorage.removeItem(i)))}loadIfEnabled(){if(!this._surveyManager)if(this.Ki)_r.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)_r.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())_r.info("Not loading surveys in cookieless mode without consent.");else{var n=bs?.__PosthogExtensions__;if(n){if(!cn(this.Vi)||this._instance.config.advanced_enable_surveys){var s=this.Vi||this._instance.config.advanced_enable_surveys;this.Ki=!0;try{var r=n.generateSurveys;if(r)return void this.Xi(r,s);var i=n.loadExternalDependency;if(!i)return void this.Qi("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",(a=>{a||!n.generateSurveys?this.Qi("Could not load surveys script",a):this.Xi(n.generateSurveys,s)}))}catch(a){throw this.Qi("Error initializing surveys",a),a}finally{this.Ki=!1}}}else _r.error("PostHog Extensions not found.")}}Xi(n,s){this._surveyManager=n(this._instance,s),this._surveyEventReceiver=new cJ(this._instance),_r.info("Surveys loaded successfully"),this.Zi({isLoaded:!0})}Qi(n,s){_r.error(n,s),this.Zi({isLoaded:!1,error:n})}onSurveysLoaded(n){return this.Yi.push(n),this._surveyManager&&this.Zi({isLoaded:!0}),()=>{this.Yi=this.Yi.filter((s=>s!==n))}}getSurveys(n,s){if(s===void 0&&(s=!1),this._instance.config.disable_surveys)return _r.info("Disabled. Not loading surveys."),n([]);var r=this._instance.get_property(mv);if(r&&!s)return n(r,{isLoaded:!0});if(this.Ji)return n([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Ji=!0,this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var a;this.Ji=!1;var o=i.statusCode;if(o!==200||!i.json){var l="Surveys API could not be loaded, status: "+o;return _r.error(l),n([],{isLoaded:!1,error:l})}var c,u=i.json.surveys||[],p=u.filter((f=>(function(m){return!(!m.start_date||m.end_date)})(f)&&((function(m){var h;return!((h=m.conditions)==null||(h=h.events)==null||(h=h.values)==null||!h.length)})(f)||(function(m){var h;return!((h=m.conditions)==null||(h=h.actions)==null||(h=h.values)==null||!h.length)})(f))));return p.length>0&&((c=this._surveyEventReceiver)==null||c.register(p)),(a=this._instance.persistence)==null||a.register({[mv]:u}),n(u,{isLoaded:!0})}})}catch(i){throw this.Ji=!1,i}}Zi(n){for(var s of this.Yi)try{if(!n.isLoaded)return s([],n);this.getSurveys(s)}catch(r){_r.error("Error in survey callback",r)}}getActiveMatchingSurveys(n,s){if(s===void 0&&(s=!1),!Or(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(n,s);_r.warn("init was not called")}te(n){var s=null;return this.getSurveys((r=>{var i;s=(i=r.find((a=>a.id===n)))!==null&&i!==void 0?i:null})),s}ie(n){if(Or(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var s=typeof n=="string"?this.te(n):n;return s?this._surveyManager.checkSurveyEligibility(s):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(n){if(Or(this._surveyManager))return _r.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var s=this.ie(n);return{visible:s.eligible,disabledReason:s.reason}}canRenderSurveyAsync(n,s){return Or(this._surveyManager)?(_r.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((r=>{this.getSurveys((i=>{var a,o=(a=i.find((c=>c.id===n)))!==null&&a!==void 0?a:null;if(o){var l=this.ie(o);r({visible:l.eligible,disabledReason:l.reason})}else r({visible:!1,disabledReason:"Survey not found"})}),s)}))}renderSurvey(n,s){var r;if(Or(this._surveyManager))_r.warn("init was not called");else{var i=typeof n=="string"?this.te(n):n;if(i!=null&&i.id)if(oJ.includes(i.type)){var a=fn?.querySelector(s);if(a)return(r=i.appearance)!=null&&r.surveyPopupDelaySeconds?(_r.info("Rendering survey "+i.id+" with delay of "+i.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var o,l;_r.info("Rendering survey "+i.id+" with delay of "+((o=i.appearance)==null?void 0:o.surveyPopupDelaySeconds)+" seconds"),(l=this._surveyManager)==null||l.renderSurvey(i,a),_r.info("Survey "+i.id+" rendered")}),1e3*i.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(i,a);_r.warn("Survey element not found")}else _r.warn("Surveys of type "+i.type+" cannot be rendered in the app");else _r.warn("Survey not found")}}displaySurvey(n,s){var r;if(Or(this._surveyManager))_r.warn("init was not called");else{var i=this.te(n);if(i){var a=i;if((r=i.appearance)!=null&&r.surveyPopupDelaySeconds&&s.ignoreDelay&&(a=Dn({},i,{appearance:Dn({},i.appearance,{surveyPopupDelaySeconds:0})})),s.ignoreConditions===!1){var o=this.canRenderSurvey(i);if(!o.visible)return void _r.warn("Survey is not eligible to be displayed: ",o.disabledReason)}s.displayType!==aL.Inline?this._surveyManager.handlePopoverSurvey(a):this.renderSurvey(a,s.selector)}else _r.warn("Survey not found")}}}var Uj=Hi("[RateLimiter]");class uJ{constructor(n){var s,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var a=i.text;if(a&&a.length)try{(JSON.parse(a).quota_limited||[]).forEach((o=>{Uj.info((o||"events")+" is quota limited."),this.serverLimits[o]=new Date().getTime()+6e4}))}catch(o){return void Uj.warn('could not rate limit - continuing. Error: "'+o?.message+'"',{text:a})}},this.instance=n,this.captureEventsPerSecond=((s=n.config.rate_limiting)==null?void 0:s.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=n.config.rate_limiting)==null?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(n){var s,r,i;n===void 0&&(n=!1);var a=new Date().getTime(),o=(s=(r=this.instance.persistence)==null?void 0:r.get_property(xv))!==null&&s!==void 0?s:{tokens:this.captureEventsBurstLimit,last:a};o.tokens+=(a-o.last)/1e3*this.captureEventsPerSecond,o.last=a,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var l=o.tokens<1;return l||n||(o.tokens=Math.max(0,o.tokens-1)),!l||this.lastEventRateLimited||n||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=l,(i=this.instance.persistence)==null||i.set_property(xv,o),{isRateLimited:l,remainingTokens:o.tokens}}isServerRateLimited(n){var s=this.serverLimits[n||"events"]||!1;return s!==!1&&new Date().getTime()<s}}var wd=Hi("[RemoteConfig]");class pJ{constructor(n){this._instance=n}get remoteConfig(){var n;return(n=bs._POSTHOG_REMOTE_CONFIG)==null||(n=n[this._instance.config.token])==null?void 0:n.config}ee(n){var s,r;(s=bs.__PosthogExtensions__)!=null&&s.loadExternalDependency?(r=bs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"remote-config",(()=>n(this.remoteConfig))):(wd.error("PostHog Extensions not found. Cannot load remote config."),n())}re(n){this._instance.ci({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:s=>{n(s.json)}})}load(){try{if(this.remoteConfig)return wd.info("Using preloaded remote config",this.remoteConfig),void this.fi(this.remoteConfig);if(this._instance.M())return void wd.warn("Remote config is disabled. Falling back to local config.");this.ee((n=>{if(!n)return wd.info("No config found after loading remote JS config. Falling back to JSON."),void this.re((s=>{this.fi(s)}));this.fi(n)}))}catch(n){wd.error("Error loading remote config",n)}}fi(n){n?this._instance.config.__preview_remote_config?(this._instance.fi(n),n.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):wd.info("__preview_remote_config is disabled. Logging config instead",n):wd.error("Failed to fetch remote config from PostHog.")}}var Ev=3e3;class fJ{constructor(n,s){this.se=!0,this.ne=[],this.oe=ol(s?.flush_interval_ms||Ev,250,5e3,hn.createLogger("flush interval"),Ev),this.ae=n}enqueue(n){this.ne.push(n),this.le||this.ue()}unload(){this.he();var n=this.ne.length>0?this.de():{},s=Object.values(n);[...s.filter((r=>r.url.indexOf("/e")===0)),...s.filter((r=>r.url.indexOf("/e")!==0))].map((r=>{this.ae(Dn({},r,{transport:"sendBeacon"}))}))}enable(){this.se=!1,this.ue()}ue(){var n=this;this.se||(this.le=setTimeout((()=>{if(this.he(),this.ne.length>0){var s=this.de(),r=function(){var a=s[i],o=new Date().getTime();a.data&&Mr(a.data)&&Dr(a.data,(l=>{l.offset=Math.abs(l.timestamp-o),delete l.timestamp})),n.ae(a)};for(var i in s)r()}}),this.oe))}he(){clearTimeout(this.le),this.le=void 0}de(){var n={};return Dr(this.ne,(s=>{var r,i=s,a=(i?i.batchKey:null)||i.url;cn(n[a])&&(n[a]=Dn({},i,{data:[]})),(r=n[a].data)==null||r.push(i.data)})),this.ne=[],n}}var mJ=["retriesPerformedSoFar"];class hJ{constructor(n){this.ve=!1,this.ce=3e3,this.ne=[],this._instance=n,this.ne=[],this.fe=!0,!cn(st)&&"onLine"in st.navigator&&(this.fe=st.navigator.onLine,this.pe=()=>{this.fe=!0,this.Dt()},this.ge=()=>{this.fe=!1},Ti(st,"online",this.pe),Ti(st,"offline",this.ge))}get length(){return this.ne.length}retriableRequest(n){var{retriesPerformedSoFar:s}=n,r=nR(n,mJ);vl(s)&&s>0&&(r.url=a2(r.url,{retry_count:s})),this._instance.ci(Dn({},r,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(s??0)<10?this._e(Dn({retriesPerformedSoFar:s},r)):r.callback==null||r.callback(i)}}))}_e(n){var s=n.retriesPerformedSoFar||0;n.retriesPerformedSoFar=s+1;var r=(function(o){var l=3e3*Math.pow(2,o),c=l/2,u=Math.min(18e5,l),p=(Math.random()-.5)*(u-c);return Math.ceil(u+p)})(s),i=Date.now()+r;this.ne.push({retryAt:i,requestOptions:n});var a="Enqueued failed request for retry in "+r;navigator.onLine||(a+=" (Browser is offline)"),hn.warn(a),this.ve||(this.ve=!0,this.me())}me(){if(this.ye&&clearTimeout(this.ye),this.ne.length===0)return this.ve=!1,void(this.ye=void 0);this.ye=setTimeout((()=>{this.fe&&this.ne.length>0&&this.Dt(),this.me()}),this.ce)}Dt(){var n=Date.now(),s=[],r=this.ne.filter((a=>a.retryAt<n||(s.push(a),!1)));if(this.ne=s,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:n}of(this.ye&&(clearTimeout(this.ye),this.ye=void 0),this.ve=!1,cn(st)||(this.pe&&(st.removeEventListener("online",this.pe),this.pe=void 0),this.ge&&(st.removeEventListener("offline",this.ge),this.ge=void 0)),this.ne))try{this._instance.ci(Dn({},n,{transport:"sendBeacon"}))}catch(s){hn.error(s)}this.ne=[]}}class xJ{constructor(n){this.be=()=>{var s,r,i,a;this.we||(this.we={});var o=this.scrollElement(),l=this.scrollY(),c=o?Math.max(0,o.scrollHeight-o.clientHeight):0,u=l+(o?.clientHeight||0),p=o?.scrollHeight||0;this.we.lastScrollY=Math.ceil(l),this.we.maxScrollY=Math.max(l,(s=this.we.maxScrollY)!==null&&s!==void 0?s:0),this.we.maxScrollHeight=Math.max(c,(r=this.we.maxScrollHeight)!==null&&r!==void 0?r:0),this.we.lastContentY=u,this.we.maxContentY=Math.max(u,(i=this.we.maxContentY)!==null&&i!==void 0?i:0),this.we.maxContentHeight=Math.max(p,(a=this.we.maxContentHeight)!==null&&a!==void 0?a:0)},this._instance=n}getContext(){return this.we}resetContext(){var n=this.we;return setTimeout(this.be,0),n}startMeasuringScrollPosition(){Ti(st,"scroll",this.be,{capture:!0}),Ti(st,"scrollend",this.be,{capture:!0}),Ti(st,"resize",this.be)}scrollElement(){if(!this._instance.config.scroll_root_selector)return st?.document.documentElement;var n=Mr(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var s of n){var r=st?.document.querySelector(s);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var n=this.scrollElement();return n&&n.scrollTop||0}return st&&(st.scrollY||st.pageYOffset||st.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var n=this.scrollElement();return n&&n.scrollLeft||0}return st&&(st.scrollX||st.pageXOffset||st.document.documentElement.scrollLeft)||0}}var gJ=e=>JR(e?.config.mask_personal_data_properties,e?.config.custom_personal_data_properties);class Hj{constructor(n,s,r,i){this.xe=a=>{var o=this.$e();if(!o||o.sessionId!==a){var l={sessionId:a,props:this.Ee(this._instance)};this.Se.register({[hv]:l})}},this._instance=n,this.ke=s,this.Se=r,this.Ee=i||gJ,this.ke.onSessionId(this.xe)}$e(){return this.Se.props[hv]}getSetOnceProps(){var n,s=(n=this.$e())==null?void 0:n.props;return s?"r"in s?XR(s):{$referring_domain:s.referringDomain,$pathname:s.initialPathName,utm_source:s.utm_source,utm_campaign:s.utm_campaign,utm_medium:s.utm_medium,utm_content:s.utm_content,utm_term:s.utm_term}:{}}getSessionProps(){var n={};return Dr(n9(this.getSetOnceProps()),((s,r)=>{r==="$current_url"&&(r="url"),n["$session_entry_"+ov(r)]=s})),n}}var B4=Hi("[SessionId]");class Vj{on(n,s){return this.Pe.on(n,s)}constructor(n,s,r){var i;if(this.Te=[],this.Ie=void 0,this.Pe=new p9,this.Re=(p,f)=>Math.abs(p-f)>this.sessionTimeoutMs,!n.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(n.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.F=n.config,this.Se=n.persistence,this.Fe=void 0,this.Ce=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Oe=s||Tc,this.Me=r||Tc;var a=this.F.persistence_name||this.F.token,o=this.F.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*ol(o,60,36e3,B4.createLogger("session_idle_timeout_seconds"),1800),n.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ae(),this.De="ph_"+a+"_window_id",this.je="ph_"+a+"_primary_window_exists",this.Le()){var l=Xi.W(this.De),c=Xi.W(this.je);l&&!c?this.Fe=l:Xi.V(this.De),Xi.G(this.je,!0)}if((i=this.F.bootstrap)!=null&&i.sessionID)try{var u=(p=>{var f=p.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.F.bootstrap.sessionID);this.Ne(this.F.bootstrap.sessionID,new Date().getTime(),u)}catch(p){B4.error("Invalid sessionID in bootstrap",p)}this.Ue()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(n){return cn(this.Te)&&(this.Te=[]),this.Te.push(n),this.Ce&&n(this.Ce,this.Fe),()=>{this.Te=this.Te.filter((s=>s!==n))}}Le(){return this.F.persistence!=="memory"&&!this.Se.wi&&Xi.H()}ze(n){n!==this.Fe&&(this.Fe=n,this.Le()&&Xi.G(this.De,n))}He(){return this.Fe?this.Fe:this.Le()?Xi.W(this.De):null}Ne(n,s,r){n===this.Ce&&s===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=s,this.Ce=n,this.Se.register({[Yg]:[s,n,r]}))}Be(){if(this.Ce&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ce,this._sessionStartTimestamp];var n=this.Se.props[Yg];return Mr(n)&&n.length===2&&n.push(n[0]),n||[0,null,0]}resetSessionId(){this.Ne(null,null,null)}destroy(){clearTimeout(this.qe),this.qe=void 0,this.Ie&&st&&(st.removeEventListener("beforeunload",this.Ie,{capture:!1}),this.Ie=void 0),this.Te=[]}Ue(){this.Ie=()=>{this.Le()&&Xi.V(this.je)},Ti(st,"beforeunload",this.Ie,{capture:!1})}checkAndGetSessionAndWindowId(n,s){if(n===void 0&&(n=!1),s===void 0&&(s=null),this.F.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var r=s||new Date().getTime(),[i,a,o]=this.Be(),l=this.He(),c=vl(o)&&o>0&&Math.abs(r-o)>864e5,u=!1,p=!a,f=!p&&!n&&this.Re(r,i);p||f||c?(a=this.Oe(),l=this.Me(),B4.info("new session ID generated",{sessionId:a,windowId:l,changeReason:{noSessionId:p,activityTimeout:f,sessionPastMaximumLength:c}}),o=r,u=!0):l||(l=this.Me(),u=!0);var m=i===0||!n||c?r:i,h=o===0?new Date().getTime():o;return this.ze(l),this.Ne(a,m,h),n||this.Ae(),u&&this.Te.forEach((x=>x(a,l,u?{noSessionId:p,activityTimeout:f,sessionPastMaximumLength:c}:void 0))),{sessionId:a,windowId:l,sessionStartTimestamp:h,changeReason:u?{noSessionId:p,activityTimeout:f,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:i}}Ae(){clearTimeout(this.qe),this.qe=setTimeout((()=>{var[n]=this.Be();if(this.Re(new Date().getTime(),n)){var s=this.Ce;this.resetSessionId(),this.Pe.emit("forcedIdleReset",{idleSessionId:s})}}),1.1*this.sessionTimeoutMs)}}var bJ=["$set_once","$set"],gc=Hi("[SiteApps]");class yJ{constructor(n){this._instance=n,this.We=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Ge(n,s){if(s){var r=this.globalsForEvent(s);this.We.push(r),this.We.length>1e3&&(this.We=this.We.slice(10))}}get siteAppLoaders(){var n;return(n=bs._POSTHOG_REMOTE_CONFIG)==null||(n=n[this._instance.config.token])==null?void 0:n.siteApps}init(){if(this.isEnabled){var n=this._instance.Mi(this.Ge.bind(this));this.Ve=()=>{n(),this.We=[],this.Ve=void 0}}}globalsForEvent(n){var s,r,i,a,o,l,c;if(!n)throw new Error("Event payload is required");var u={},p=this._instance.get_property("$groups")||[],f=this._instance.get_property("$stored_group_properties")||{};for(var[m,h]of Object.entries(f))u[m]={id:p[m],type:m,properties:h};var{$set_once:x,$set:g}=n;return{event:Dn({},nR(n,bJ),{properties:Dn({},n.properties,g?{$set:Dn({},(s=(r=n.properties)==null?void 0:r.$set)!==null&&s!==void 0?s:{},g)}:{},x?{$set_once:Dn({},(i=(a=n.properties)==null?void 0:a.$set_once)!==null&&i!==void 0?i:{},x)}:{}),elements_chain:(o=(l=n.properties)==null?void 0:l.$elements_chain)!==null&&o!==void 0?o:"",distinct_id:(c=n.properties)==null?void 0:c.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(n){var s=this.apps[n.id],r=()=>{var l;!s.errored&&this.We.length&&(gc.info("Processing "+this.We.length+" events for site app with id "+n.id),this.We.forEach((c=>s.processEvent==null?void 0:s.processEvent(c))),s.processedBuffer=!0),Object.values(this.apps).every((c=>c.processedBuffer||c.errored))&&((l=this.Ve)==null||l.call(this))},i=!1,a=l=>{s.errored=!l,s.loaded=!0,gc.info("Site app with id "+n.id+" "+(l?"loaded":"errored")),i&&r()};try{var{processEvent:o}=n.init({posthog:this._instance,callback:l=>{a(l)}});o&&(s.processEvent=o),i=!0}catch(l){gc.error("Error while initializing PostHog app with config id "+n.id,l),a(!1)}if(i&&s.loaded)try{r()}catch(l){gc.error("Error while processing buffered events PostHog app with config id "+n.id,l),s.errored=!0}}Je(){var n=this.siteAppLoaders||[];for(var s of n)this.apps[s.id]={id:s.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of n)this.setupSiteApp(r)}Ke(n){if(Object.keys(this.apps).length!==0){var s=this.globalsForEvent(n);for(var r of Object.values(this.apps))try{r.processEvent==null||r.processEvent(s)}catch(i){gc.error("Error while processing event "+n.event+" for site app "+r.id,i)}}}onRemoteConfig(n){var s,r,i,a=this;if((s=this.siteAppLoaders)!=null&&s.length)return this.isEnabled?(this.Je(),void this._instance.on("eventCaptured",(u=>this.Ke(u)))):void gc.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((r=this.Ve)==null||r.call(this),(i=n.siteApps)!=null&&i.length)if(this.isEnabled){var o=function(u){var p;bs["__$$ph_site_app_"+u]=a._instance,(p=bs.__PosthogExtensions__)==null||p.loadSiteApp==null||p.loadSiteApp(a._instance,c,(f=>{if(f)return gc.error("Error while initializing PostHog app with config id "+u,f)}))};for(var{id:l,url:c}of n.siteApps)o(l)}else gc.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var oL=function(e,n){if(!e)return!1;var s=e.userAgent;if(s&&tj(s,n))return!0;try{var r=e?.userAgentData;if(r!=null&&r.brands&&r.brands.some((i=>tj(i?.brand,n))))return!0}catch{}return!!e.webdriver},d1=(function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e})({}),$j="i.posthog.com";class vJ{constructor(n){this.Ye={},this.instance=n}get apiHost(){var n=this.instance.config.api_host.trim().replace(/\/$/,"");return n==="https://app.posthog.com"?"https://us.i.posthog.com":n}get flagsApiHost(){var n=this.instance.config.flags_api_host;return n?n.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var n,s=(n=this.instance.config.ui_host)==null?void 0:n.replace(/\/$/,"");return s||(s=this.apiHost.replace("."+$j,".posthog.com")),s==="https://app.posthog.com"?"https://us.posthog.com":s}get region(){return this.Ye[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Ye[this.apiHost]=d1.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Ye[this.apiHost]=d1.EU:this.Ye[this.apiHost]=d1.CUSTOM),this.Ye[this.apiHost]}endpointFor(n,s){if(s===void 0&&(s=""),s&&(s=s[0]==="/"?s:"/"+s),n==="ui")return this.uiHost+s;if(n==="flags")return this.flagsApiHost+s;if(this.region===d1.CUSTOM)return this.apiHost+s;var r=$j+s;switch(n){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}}var wJ={icontains:(e,n)=>!!st&&n.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,n)=>!!st&&n.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,n)=>!!st&&ef(n.href,e),not_regex:(e,n)=>!!st&&!ef(n.href,e),exact:(e,n)=>n.href===e,is_not:(e,n)=>n.href!==e};class ia{constructor(n){var s=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(r){r===void 0&&(r=!1),s.getWebExperiments((i=>{ia.Xe("retrieved web experiments from the server"),s.Qe=new Map,i.forEach((a=>{if(a.feature_flag_key){var o;s.Qe&&(ia.Xe("setting flag key ",a.feature_flag_key," to web experiment ",a),(o=s.Qe)==null||o.set(a.feature_flag_key,a));var l=s._instance.getFeatureFlag(a.feature_flag_key);Bi(l)&&a.variants[l]&&s.Ze(a.name,l,a.variants[l].transforms)}else if(a.variants)for(var c in a.variants){var u=a.variants[c];ia.tr(u)&&s.Ze(a.name,c,u.transforms)}}))}),r)},this._instance=n,this._instance.onFeatureFlags((r=>{this.onFeatureFlags(r)}))}onFeatureFlags(n){if(this._is_bot())ia.Xe("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Or(this.Qe))return this.Qe=new Map,this.loadIfEnabled(),void this.previewWebExperiment();ia.Xe("applying feature flags",n),n.forEach((s=>{var r;if(this.Qe&&(r=this.Qe)!=null&&r.has(s)){var i,a=this._instance.getFeatureFlag(s),o=(i=this.Qe)==null?void 0:i.get(s);a&&o!=null&&o.variants[a]&&this.Ze(o.name,a,o.variants[a].transforms)}}))}}previewWebExperiment(){var n=ia.getWindowLocation();if(n!=null&&n.search){var s=t2(n?.search,"__experiment_id"),r=t2(n?.search,"__experiment_variant");s&&r&&(ia.Xe("previewing web experiments "+s+" && "+r),this.getWebExperiments((i=>{this.ir(parseInt(s),r,i)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(n,s,r){if(this._instance.config.disable_web_experiments&&!r)return n([]);var i=this._instance.get_property("$web_experiments");if(i&&!s)return n(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:a=>{if(a.statusCode!==200||!a.json)return n([]);var o=a.json.experiments||[];return n(o)}})}ir(n,s,r){var i=r.filter((a=>a.id===n));i&&i.length>0&&(ia.Xe("Previewing web experiment ["+i[0].name+"] with variant ["+s+"]"),this.Ze(i[0].name,s,i[0].variants[s].transforms))}static tr(n){return!Or(n.conditions)&&ia.er(n)&&ia.rr(n)}static er(n){var s;if(Or(n.conditions)||Or((s=n.conditions)==null?void 0:s.url))return!0;var r,i,a,o=ia.getWindowLocation();return!!o&&((r=n.conditions)==null||!r.url||wJ[(i=(a=n.conditions)==null?void 0:a.urlMatchType)!==null&&i!==void 0?i:"icontains"](n.conditions.url,o))}static getWindowLocation(){return st?.location}static rr(n){var s;if(Or(n.conditions)||Or((s=n.conditions)==null?void 0:s.utm))return!0;var r=qR();if(r.utm_source){var i,a,o,l,c,u,p,f,m=(i=n.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((a=n.conditions)==null||(a=a.utm)==null?void 0:a.utm_campaign)==r.utm_campaign,h=(o=n.conditions)==null||(o=o.utm)==null||!o.utm_source||((l=n.conditions)==null||(l=l.utm)==null?void 0:l.utm_source)==r.utm_source,x=(c=n.conditions)==null||(c=c.utm)==null||!c.utm_medium||((u=n.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==r.utm_medium,g=(p=n.conditions)==null||(p=p.utm)==null||!p.utm_term||((f=n.conditions)==null||(f=f.utm)==null?void 0:f.utm_term)==r.utm_term;return m&&x&&g&&h}return!1}static Xe(n){for(var s=arguments.length,r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];hn.info("[WebExperiments] "+n,r)}Ze(n,s,r){this._is_bot()?ia.Xe("Refusing to render web experiment since the viewer is a likely bot"):s!=="control"?r.forEach((i=>{if(i.selector){var a;ia.Xe("applying transform of variant "+s+" for experiment "+n+" ",i);var o=(a=document)==null?void 0:a.querySelectorAll(i.selector);o?.forEach((l=>{var c=l;i.html&&(c.innerHTML=i.html),i.css&&c.setAttribute("style",i.css)}))}})):ia.Xe("Control variants leave the page unmodified.")}_is_bot(){return eo&&this._instance?oL(eo,this._instance.config.custom_blocked_useragents):void 0}}var CJ=Hi("[PostHog ExternalIntegrations]"),_J={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class jJ{constructor(n){this._instance=n}it(n,s){var r;(r=bs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,n,(i=>{if(i)return CJ.error("failed to load script",i);s()}))}startIfEnabledOrStop(){var n=this,s=function(o){var l,c,u;!i||(l=bs.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[o]||n.it(_J[o],(()=>{var p;(p=bs.__PosthogExtensions__)==null||(p=p.integrations)==null||(p=p[o])==null||p.start(n._instance)})),!i&&(c=bs.__PosthogExtensions__)!=null&&(c=c.integrations)!=null&&c[o]&&((u=bs.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[o])==null||u.stop())};for(var[r,i]of Object.entries((a=this._instance.config.integrations)!==null&&a!==void 0?a:{})){var a;s(r)}}}var Sv="[SessionRecording]",wm=Hi(Sv);class zj{get started(){var n;return!((n=this.sr)==null||!n.isStarted)}get status(){return this.sr?this.sr.status:this.nr&&!this.ar?"disabled":"lazy_loading"}constructor(n){if(this._forceAllowLocalhostNetworkCapture=!1,this.nr=!1,this.lr=void 0,this._instance=n,!this._instance.sessionManager)throw wm.error("started without valid sessionManager"),new Error(Sv+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(Sv+' cannot be used with cookieless_mode="always"')}get ar(){var n,s=!((n=this._instance.get_property(F4))==null||!n.enabled),r=!this._instance.config.disable_session_recording,i=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return st&&s&&r&&!i}startIfEnabledOrStop(n){var s;if(!this.ar||(s=this.sr)==null||!s.isStarted){var r=!cn(Object.assign)&&!cn(Array.from);this.ar&&r?(this.ur(n),wm.info("starting")):this.stopRecording()}}ur(n){var s,r,i;this.ar&&(bs!=null&&(s=bs.__PosthogExtensions__)!=null&&(s=s.rrweb)!=null&&s.record&&(r=bs.__PosthogExtensions__)!=null&&r.initSessionRecording?this.hr(n):(i=bs.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,this.dr,(a=>{if(a)return wm.error("could not load recorder",a);this.hr(n)})))}stopRecording(){var n,s;(n=this.lr)==null||n.call(this),this.lr=void 0,(s=this.sr)==null||s.stop()}vr(){var n;(n=this._instance.persistence)==null||n.unregister(pR)}cr(n){if(this._instance.persistence){var s,r,i=this._instance.persistence,a=()=>{var o=n.sessionRecording===!1?void 0:n.sessionRecording,l=o?.sampleRate,c=Or(l)?null:parseFloat(l);Or(c)&&this.vr();var u=o?.minimumDurationMilliseconds;i.register({[F4]:Dn({enabled:!!o},o,{networkPayloadCapture:Dn({capturePerformance:n.capturePerformance},o?.networkPayloadCapture),canvasRecording:{enabled:o?.recordCanvas,fps:o?.canvasFps,quality:o?.canvasQuality},sampleRate:c,minimumDurationMilliseconds:cn(u)?null:u,endpoint:o?.endpoint,triggerMatchType:o?.triggerMatchType,masking:o?.masking,urlTriggers:o?.urlTriggers})})};a(),(s=this.lr)==null||s.call(this),this.lr=(r=this._instance.sessionManager)==null?void 0:r.onSessionId(a)}}onRemoteConfig(n){"sessionRecording"in n?n.sessionRecording!==!1?(this.cr(n),this.nr=!0,this.startIfEnabledOrStop()):this.nr=!0:wm.info("skipping remote config with no sessionRecording",n)}log(n,s){var r;s===void 0&&(s="log"),(r=this.sr)!=null&&r.log?this.sr.log(n,s):wm.warn("log called before recorder was ready")}get dr(){var n,s,r=(n=this._instance)==null||(n=n.persistence)==null?void 0:n.get_property(F4);return(r==null||(s=r.scriptConfig)==null?void 0:s.script)||"lazy-recorder"}hr(n){var s,r;if((s=bs.__PosthogExtensions__)==null||!s.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.sr||(this.sr=(r=bs.__PosthogExtensions__)==null?void 0:r.initSessionRecording(this._instance),this.sr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.sr.start(n)}onRRwebEmit(n){var s;(s=this.sr)==null||s.onRRwebEmit==null||s.onRRwebEmit(n)}overrideLinkedFlag(){var n,s;this.sr||(s=this._instance.persistence)==null||s.register({$replay_override_linked_flag:!0}),(n=this.sr)==null||n.overrideLinkedFlag()}overrideSampling(){var n,s;this.sr||(s=this._instance.persistence)==null||s.register({$replay_override_sampling:!0}),(n=this.sr)==null||n.overrideSampling()}overrideTrigger(n){var s,r;this.sr||(r=this._instance.persistence)==null||r.register({[n==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(s=this.sr)==null||s.overrideTrigger(n)}get sdkDebugProperties(){var n;return((n=this.sr)==null?void 0:n.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(n,s){var r;return!((r=this.sr)==null||!r.tryAddCustomEvent(n,s))}}var S1={},kv=()=>{},hp="posthog",lL=!eJ&&Ma?.indexOf("MSIE")===-1&&Ma?.indexOf("Mozilla")===-1,Wj=e=>{var n;return Dn({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:KY(fn?.location),persistence:"localStorage+cookie",persistence_name:"",loaded:kv,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:La&&Bi(La?.search)&&La.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(st==null||(n=st.location)==null?void 0:n.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:s=>{var r="Bad HTTP status: "+s.statusCode+" "+s.text;hn.error(r)},get_device_id:s=>s,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:Ev},error_tracking:{},_onCapture:kv,__preview_eager_load_replay:!1},(s=>({rageclick:!(s&&s>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(s&&s>="2025-05-24")||"history_change",session_recording:s&&s>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},Gj=e=>{var n={};cn(e.process_person)||(n.person_profiles=e.process_person),cn(e.xhr_headers)||(n.request_headers=e.xhr_headers),cn(e.cookie_name)||(n.persistence_name=e.cookie_name),cn(e.disable_cookie)||(n.disable_persistence=e.disable_cookie),cn(e.store_google)||(n.save_campaign_params=e.store_google),cn(e.verbose)||(n.debug=e.verbose);var s=Ni({},n,e);return Mr(e.property_blacklist)&&(cn(e.property_denylist)?s.property_denylist=e.property_blacklist:Mr(e.property_denylist)?s.property_denylist=[...e.property_blacklist,...e.property_denylist]:hn.error("Invalid value for property_denylist config: "+e.property_denylist)),s};class NJ{constructor(){this.__forceAllowLocalhost=!1}get pr(){return this.__forceAllowLocalhost}set pr(n){hn.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=n}}class A5{get decideEndpointWasHit(){var n,s;return(n=(s=this.featureFlags)==null?void 0:s.hasLoadedFlags)!==null&&n!==void 0&&n}get flagsEndpointWasHit(){var n,s;return(n=(s=this.featureFlags)==null?void 0:s.hasLoadedFlags)!==null&&n!==void 0&&n}constructor(){this.webPerformance=new NJ,this.gr=!1,this.version=Ol.LIB_VERSION,this._r=new p9,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=Wj(),this.SentryIntegration=_Z,this.sentryIntegration=n=>(function(s,r){var i=IR(s,r);return{name:kR,processEvent:a=>i(a)}})(this,n),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.mr=!1,this.yr=null,this.br=null,this.wr=null,this.featureFlags=new rJ(this),this.toolbar=new NZ(this),this.scrollManager=new xJ(this),this.pageViewManager=new WZ(this),this.surveys=new dJ(this),this.experiments=new ia(this),this.exceptions=new tJ(this),this.rateLimiter=new uJ(this),this.requestRouter=new vJ(this),this.consent=new gZ(this),this.externalIntegrations=new jJ(this),this.people={set:(n,s,r)=>{var i=Bi(n)?{[n]:s}:n;this.setPersonProperties(i),r?.({})},set_once:(n,s,r)=>{var i=Bi(n)?{[n]:s}:n;this.setPersonProperties(void 0,i),r?.({})}},this.on("eventCaptured",(n=>hn.info('send "'+n?.event+'"',n)))}init(n,s,r){if(r&&r!==hp){var i,a=(i=S1[r])!==null&&i!==void 0?i:new A5;return a._init(n,s,r),S1[r]=a,S1[hp][r]=a,a}return this._init(n,s,r)}_init(n,s,r){var i;if(s===void 0&&(s={}),cn(n)||lv(n))return hn.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return this;this.__loaded=!0,this.config={},s.debug=this.$r(s.debug),this.Er=s,this.Sr=[],s.person_profiles&&(this.br=s.person_profiles),this.set_config(Ni({},Wj(s.defaults),Gj(s),{name:r,token:n})),this.config.on_xhr_error&&hn.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=s.disable_compression?void 0:Hl.GZipJS;var a=this.kr();this.persistence=new P4(this.config,a),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new P4(Dn({},this.config,{persistence:"sessionStorage"}),a);var o=Dn({},this.persistence.props),l=Dn({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Pr=new fJ((y=>this.Tr(y)),this.config.request_queue_config),this.Ir=new hJ(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new Vj(this),this.sessionPropsManager=new Hj(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(hn.info("Deferring extension initialization to improve startup performance"),setTimeout((()=>{this.Rr(c)}),0)):(hn.info("Initializing extensions synchronously"),this.Rr(c)),Ol.DEBUG=Ol.DEBUG||this.config.debug,Ol.DEBUG&&hn.info("Starting in debug mode",{this:this,config:s,thisC:Dn({},this.config),p:o,s:l}),((i=s.bootstrap)==null?void 0:i.distinctID)!==void 0){var u,p,f=this.config.get_device_id(Tc()),m=(u=s.bootstrap)!=null&&u.isIdentifiedID?f:s.bootstrap.distinctID;this.persistence.set_property(Bl,(p=s.bootstrap)!=null&&p.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:m})}if(this.Fr()){var h,x,g=Object.keys(((h=s.bootstrap)==null?void 0:h.featureFlags)||{}).filter((y=>{var w;return!((w=s.bootstrap)==null||(w=w.featureFlags)==null||!w[y])})).reduce(((y,w)=>{var _;return y[w]=((_=s.bootstrap)==null||(_=_.featureFlags)==null?void 0:_[w])||!1,y}),{}),v=Object.keys(((x=s.bootstrap)==null?void 0:x.featureFlagPayloads)||{}).filter((y=>g[y])).reduce(((y,w)=>{var _,N;return(_=s.bootstrap)!=null&&(_=_.featureFlagPayloads)!=null&&_[w]&&(y[w]=(N=s.bootstrap)==null||(N=N.featureFlagPayloads)==null?void 0:N[w]),y}),{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:v})}if(c)this.register_once({distinct_id:mm,$device_id:null},"");else if(!this.get_distinct_id()){var b=this.config.get_device_id(Tc());this.register_once({distinct_id:b,$device_id:b},""),this.persistence.set_property(Bl,"anonymous")}return Ti(st,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),s.segment?CZ(this,(()=>this.Cr())):this.Cr(),Bc(this.config._onCapture)&&this.config._onCapture!==kv&&(hn.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(y=>this.config._onCapture(y.event,y)))),this.config.ip&&hn.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Rr(n){var s=performance.now();this.historyAutocapture=new wZ(this),this.historyAutocapture.startIfEnabled();var r=[];r.push((()=>{new EZ(this).startIfEnabledOrStop()})),r.push((()=>{var i;this.siteApps=new yJ(this),(i=this.siteApps)==null||i.init()})),n||r.push((()=>{this.sessionRecording=new zj(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||r.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),r.push((()=>{this.autocapture=new cZ(this),this.autocapture.startIfEnabled()})),r.push((()=>{this.surveys.loadIfEnabled()})),r.push((()=>{this.heatmaps=new zZ(this),this.heatmaps.startIfEnabled()})),r.push((()=>{this.webVitalsAutocapture=new VZ(this)})),r.push((()=>{this.exceptionObserver=new vZ(this),this.exceptionObserver.startIfEnabled()})),r.push((()=>{this.deadClicksAutocapture=new SR(this,yZ),this.deadClicksAutocapture.startIfEnabled()})),r.push((()=>{if(this.Or){var i=this.Or;this.Or=void 0,this.fi(i)}})),this.Mr(r,s)}Mr(n,s){for(;n.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-s>=30&&n.length>0)return void setTimeout((()=>{this.Mr(n,s)}),0);var r=n.shift();if(r)try{r()}catch(a){hn.error("Error initializing extension:",a)}}var i=Math.round(performance.now()-s);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:i}),this.config.__preview_deferred_init_extensions&&hn.info("PostHog extensions initialized ("+i+"ms)")}fi(n){var s,r,i,a,o,l,c,u;if(!fn||!fn.body)return hn.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.fi(n)}),500);this.config.__preview_deferred_init_extensions&&(this.Or=n),this.compression=void 0,n.supportedCompression&&!this.config.disable_compression&&(this.compression=Ys(n.supportedCompression,Hl.GZipJS)?Hl.GZipJS:Ys(n.supportedCompression,Hl.Base64)?Hl.Base64:void 0),(s=n.analytics)!=null&&s.endpoint&&(this.analyticsDefaultEndpoint=n.analytics.endpoint),this.set_config({person_profiles:this.br?this.br:"identified_only"}),(r=this.siteApps)==null||r.onRemoteConfig(n),(i=this.sessionRecording)==null||i.onRemoteConfig(n),(a=this.autocapture)==null||a.onRemoteConfig(n),(o=this.heatmaps)==null||o.onRemoteConfig(n),this.surveys.onRemoteConfig(n),(l=this.webVitalsAutocapture)==null||l.onRemoteConfig(n),(c=this.exceptionObserver)==null||c.onRemoteConfig(n),this.exceptions.onRemoteConfig(n),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(n)}Cr(){try{this.config.loaded(this)}catch(n){hn.critical("`loaded` function failed",n)}this.Ar(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Dr()}),1),new pJ(this).load(),this.featureFlags.flags()}Ar(){var n;this.is_capturing()&&this.config.request_batching&&((n=this.Pr)==null||n.enable())}_dom_loaded(){this.is_capturing()&&Hc(this.__request_queue,(n=>this.Tr(n))),this.__request_queue=[],this.Ar()}_handle_unload(){var n,s;this.config.request_batching?(this.jr()&&this.capture("$pageleave"),(n=this.Pr)==null||n.unload(),(s=this.Ir)==null||s.unload()):this.jr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}ci(n){this.__loaded&&(lL?this.__request_queue.push(n):this.rateLimiter.isServerRateLimited(n.batchKey)||(n.transport=n.transport||this.config.api_transport,n.url=a2(n.url,{ip:this.config.ip?1:0}),n.headers=Dn({},this.config.request_headers),n.compression=n.compression==="best-available"?this.compression:n.compression,n.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(n.disableTransport=["sendBeacon"]),n.fetchOptions=n.fetchOptions||this.config.fetch_options,(s=>{var r,i,a,o=Dn({},s);o.timeout=o.timeout||6e4,o.url=a2(o.url,{_:new Date().getTime().toString(),ver:Ol.LIB_VERSION,compression:o.compression});var l=(r=o.transport)!==null&&r!==void 0?r:"fetch",c=cg.filter((p=>!o.disableTransport||!p.transport||!o.disableTransport.includes(p.transport))),u=(i=(a=cR(c,(p=>p.transport===l)))==null?void 0:a.method)!==null&&i!==void 0?i:c[0].method;if(!u)throw new Error("No available transport method");u(o)})(Dn({},n,{callback:s=>{var r,i;this.rateLimiter.checkForLimiting(s),s.statusCode>=400&&((r=(i=this.config).on_request_error)==null||r.call(i,s)),n.callback==null||n.callback(s)}}))))}Tr(n){this.Ir?this.Ir.retriableRequest(n):this.ci(n)}_execute_array(n){var s,r=[],i=[],a=[];Hc(n,(l=>{l&&(s=l[0],Mr(s)?a.push(l):Bc(l)?l.call(this):Mr(l)&&s==="alias"?r.push(l):Mr(l)&&s.indexOf("capture")!==-1&&Bc(this[s])?a.push(l):i.push(l))}));var o=function(l,c){Hc(l,(function(u){if(Mr(u[0])){var p=c;Dr(u,(function(f){p=p[f[0]].apply(p,f.slice(1))}))}else this[u[0]].apply(this,u.slice(1))}),c)};o(r,this),o(i,this),o(a,this)}Fr(){var n,s;return((n=this.config.bootstrap)==null?void 0:n.featureFlags)&&Object.keys((s=this.config.bootstrap)==null?void 0:s.featureFlags).length>0||!1}push(n){this._execute_array([n])}capture(n,s,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Pr){if(this.is_capturing())if(!cn(n)&&Bi(n)){var a=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(a&&!this.config.__preview_capture_bot_pageviews)){var o=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(o==null||!o.isRateLimited){s!=null&&s.$current_url&&!Bi(s?.$current_url)&&(hn.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),s==null||delete s.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,c=r?.timestamp||l,u=Tc(),p={uuid:u,event:n,properties:this.calculateEventProperties(n,s||{},c,u)};n==="$pageview"&&this.config.__preview_capture_bot_pageviews&&a&&(p.event="$bot_pageview",p.properties.$browser_type="bot"),o&&(p.properties.$lib_rate_limit_remaining_tokens=o.remainingTokens),r?.$set&&(p.$set=r?.$set);var f,m=this.Lr(r?.$set_once);if(m&&(p.$set_once=m),(p=GY(p,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,cn(r?.timestamp)||(p.properties.$event_time_override_provided=!0,p.properties.$event_time_override_system_time=l),n===dg.DISMISSED||n===dg.SENT){var h=s?.[Oj.SURVEY_ID],x=s?.[Oj.SURVEY_ITERATION];f={id:h,current_iteration:x},localStorage.getItem(Bj(f))||localStorage.setItem(Bj(f),"true"),p.$set=Dn({},p.$set,{[aJ({id:h,current_iteration:x},n===dg.SENT?"responded":"dismissed")]:!0})}var g=Dn({},p.properties.$set,p.$set);if(gp(g)||this.setPersonPropertiesForFlags(g),!Or(this.config.before_send)){var v=this.Nr(p);if(!v)return;p=v}this._r.emit("eventCaptured",p);var b={method:"POST",url:(i=r?._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:p,compression:"best-available",batchKey:r?._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this.Tr(b):this.Pr.enqueue(b),p}hn.critical("This capture call is ignored due to client rate limiting.")}}else hn.error("No event name provided to posthog.capture")}else hn.uninitializedWarning("posthog.capture")}Mi(n){return this.on("eventCaptured",(s=>n(s.event,s)))}calculateEventProperties(n,s,r,i,a){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return s;var o=a?void 0:this.persistence.remove_event_timer(n),l=Dn({},s);if(l.token=this.config.token,l.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(l.$cookieless_mode=!0),n==="$snapshot"){var c=Dn({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=c.distinct_id,(!Bi(l.distinct_id)&&!vl(l.distinct_id)||lv(l.distinct_id))&&hn.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var u,p=HZ(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:f,windowId:m}=this.sessionManager.checkAndGetSessionAndWindowId(a,r.getTime());l.$session_id=f,l.$window_id=m}this.sessionPropsManager&&Ni(l,this.sessionPropsManager.getSessionProps());try{var h;this.sessionRecording&&Ni(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=(h=this.Ir)==null?void 0:h.length}catch(b){l.$sdk_debug_error_capturing_properties=String(b)}if(this.requestRouter.region===d1.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),u=n!=="$pageview"||a?n!=="$pageleave"||a?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(r):this.pageViewManager.doPageView(r,i),l=Ni(l,u),n==="$pageview"&&fn&&(l.title=fn.title),!cn(o)){var x=r.getTime()-o;l.$duration=parseFloat((x/1e3).toFixed(3))}Ma&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=Ni({},p,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),Mr(this.config.property_denylist)?Dr(this.config.property_denylist,(function(b){delete l[b]})):hn.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var g=this.config.sanitize_properties;g&&(hn.error("sanitize_properties is deprecated. Use before_send instead"),l=g(l,n));var v=this.Ur();return l.$process_person_profile=v,v&&!a&&this.zr("_calculate_event_properties"),l}Lr(n){var s;if(!this.persistence||!this.Ur()||this.gr)return n;var r=this.persistence.get_initial_props(),i=(s=this.sessionPropsManager)==null?void 0:s.getSetOnceProps(),a=Ni({},r,i||{},n||{}),o=this.config.sanitize_properties;return o&&(hn.error("sanitize_properties is deprecated. Use before_send instead"),a=o(a,"$set_once")),this.gr=!0,gp(a)?void 0:a}register(n,s){var r;(r=this.persistence)==null||r.register(n,s)}register_once(n,s,r){var i;(i=this.persistence)==null||i.register_once(n,s,r)}register_for_session(n){var s;(s=this.sessionPersistence)==null||s.register(n)}unregister(n){var s;(s=this.persistence)==null||s.unregister(n)}unregister_for_session(n){var s;(s=this.sessionPersistence)==null||s.unregister(n)}Hr(n,s){this.register({[n]:s})}getFeatureFlag(n,s){return this.featureFlags.getFeatureFlag(n,s)}getFeatureFlagPayload(n){var s=this.featureFlags.getFeatureFlagPayload(n);try{return JSON.parse(s)}catch{return s}}isFeatureEnabled(n,s){return this.featureFlags.isFeatureEnabled(n,s)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(n,s,r){this.featureFlags.updateEarlyAccessFeatureEnrollment(n,s,r)}getEarlyAccessFeatures(n,s,r){return s===void 0&&(s=!1),this.featureFlags.getEarlyAccessFeatures(n,s,r)}on(n,s){return this._r.on(n,s)}onFeatureFlags(n){return this.featureFlags.onFeatureFlags(n)}onSurveysLoaded(n){return this.surveys.onSurveysLoaded(n)}onSessionId(n){var s,r;return(s=(r=this.sessionManager)==null?void 0:r.onSessionId(n))!==null&&s!==void 0?s:()=>{}}getSurveys(n,s){s===void 0&&(s=!1),this.surveys.getSurveys(n,s)}getActiveMatchingSurveys(n,s){s===void 0&&(s=!1),this.surveys.getActiveMatchingSurveys(n,s)}renderSurvey(n,s){this.surveys.renderSurvey(n,s)}displaySurvey(n,s){s===void 0&&(s=lJ),this.surveys.displaySurvey(n,s)}canRenderSurvey(n){return this.surveys.canRenderSurvey(n)}canRenderSurveyAsync(n,s){return s===void 0&&(s=!1),this.surveys.canRenderSurveyAsync(n,s)}identify(n,s,r){if(!this.__loaded||!this.persistence)return hn.uninitializedWarning("posthog.identify");if(vl(n)&&(n=n.toString(),hn.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),n)if(["distinct_id","distinctid"].includes(n.toLowerCase()))hn.critical('The string "'+n+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(n!==mm){if(this.zr("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:n}),!this.get_property("$device_id")){var a=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:a},"")}n!==i&&n!==this.get_property(r1)&&(this.unregister(r1),this.register({distinct_id:n}));var o=(this.persistence.get_property(Bl)||"anonymous")==="anonymous";n!==i&&o?(this.persistence.set_property(Bl,"identified"),this.setPersonPropertiesForFlags(Dn({},r||{},s||{}),!1),this.capture("$identify",{distinct_id:n,$anon_distinct_id:i},{$set:s||{},$set_once:r||{}}),this.wr=Mj(n,s,r),this.featureFlags.setAnonymousDistinctId(i)):(s||r)&&this.setPersonProperties(s,r),n!==i&&(this.reloadFeatureFlags(),this.unregister(Zg))}}else hn.critical('The string "'+mm+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else hn.error("Unique user id has not been set in posthog.identify")}setPersonProperties(n,s){if((n||s)&&this.zr("posthog.setPersonProperties")){var r=Mj(this.get_distinct_id(),n,s);this.wr!==r?(this.setPersonPropertiesForFlags(Dn({},s||{},n||{})),this.capture("$set",{$set:n||{},$set_once:s||{}}),this.wr=r):hn.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(n,s,r){if(n&&s){if(this.zr("posthog.group")){var i=this.getGroups();i[n]!==s&&this.resetGroupPropertiesForFlags(n),this.register({$groups:Dn({},i,{[n]:s})}),r&&(this.capture("$groupidentify",{$group_type:n,$group_key:s,$group_set:r}),this.setGroupPropertiesForFlags({[n]:r})),i[n]===s||r||this.reloadFeatureFlags()}}else hn.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(n,s){s===void 0&&(s=!0),this.featureFlags.setPersonPropertiesForFlags(n,s)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(n,s){s===void 0&&(s=!0),this.zr("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(n,s)}resetGroupPropertiesForFlags(n){this.featureFlags.resetGroupPropertiesForFlags(n)}reset(n){var s,r,i,a;if(hn.info("reset"),!this.__loaded)return hn.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");if(this.consent.reset(),(s=this.persistence)==null||s.clear(),(r=this.sessionPersistence)==null||r.clear(),this.surveys.reset(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(Bl,"anonymous"),(a=this.sessionManager)==null||a.resetSessionId(),this.wr=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:mm,$device_id:null},"");else{var l=this.config.get_device_id(Tc());this.register_once({distinct_id:l,$device_id:n?l:o},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var n,s;return(n=(s=this.sessionManager)==null?void 0:s.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&n!==void 0?n:""}get_session_replay_url(n){if(!this.sessionManager)return"";var{sessionId:s,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+s);if(n!=null&&n.withTimestamp&&r){var a,o=(a=n.timestampLookBack)!==null&&a!==void 0?a:10;if(!r)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-r)/1e3)-o,0)}return i}alias(n,s){return n===this.get_property(dR)?(hn.critical("Attempting to create alias for existing People user - aborting."),-2):this.zr("posthog.alias")?(cn(s)&&(s=this.get_distinct_id()),n!==s?(this.Hr(r1,n),this.capture("$create_alias",{alias:n,distinct_id:s})):(hn.warn("alias matches current distinct_id - skipping api call."),this.identify(n),-1)):void 0}set_config(n){var s=Dn({},this.config);if(ta(n)){var r,i,a,o,l;Ni(this.config,Gj(n));var c=this.kr();(r=this.persistence)==null||r.update_config(this.config,s,c),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new P4(Dn({},this.config,{persistence:"sessionStorage"}),c);var u=this.$r(this.config.debug);Uc(u)&&(this.config.debug=u),Uc(this.config.debug)&&(this.config.debug?(Ol.DEBUG=!0,si.H()&&si.G("ph_debug","true"),hn.info("set_config",{config:n,oldConfig:s,newConfig:Dn({},this.config)})):(Ol.DEBUG=!1,si.H()&&si.V("ph_debug"))),(i=this.sessionRecording)==null||i.startIfEnabledOrStop(),(a=this.autocapture)==null||a.startIfEnabled(),(o=this.heatmaps)==null||o.startIfEnabled(),this.surveys.loadIfEnabled(),this.Br(),(l=this.externalIntegrations)==null||l.startIfEnabledOrStop()}}startSessionRecording(n){var s=n===!0,r={sampling:s||!(n==null||!n.sampling),linked_flag:s||!(n==null||!n.linked_flag),url_trigger:s||!(n==null||!n.url_trigger),event_trigger:s||!(n==null||!n.event_trigger)};if(Object.values(r).some(Boolean)){var i,a,o,l,c;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),r.sampling&&((a=this.sessionRecording)==null||a.overrideSampling()),r.linked_flag&&((o=this.sessionRecording)==null||o.overrideLinkedFlag()),r.url_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("url")),r.event_trigger&&((c=this.sessionRecording)==null||c.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var n;return!((n=this.sessionRecording)==null||!n.started)}captureException(n,s){var r=new Error("PostHog syntheticException"),i=this.exceptions.buildProperties(n,{handled:!0,syntheticException:r});return this.exceptions.sendExceptionEvent(Dn({},i,s))}loadToolbar(n){return this.toolbar.loadToolbar(n)}get_property(n){var s;return(s=this.persistence)==null?void 0:s.props[n]}getSessionProperty(n){var s;return(s=this.sessionPersistence)==null?void 0:s.props[n]}toString(){var n,s=(n=this.config.name)!==null&&n!==void 0?n:hp;return s!==hp&&(s=hp+"."+s),s}_isIdentified(){var n,s;return((n=this.persistence)==null?void 0:n.get_property(Bl))==="identified"||((s=this.sessionPersistence)==null?void 0:s.get_property(Bl))==="identified"}Ur(){var n,s;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&gp(this.getGroups())&&((n=this.persistence)==null||(n=n.props)==null||!n[r1])&&((s=this.persistence)==null||(s=s.props)==null||!s[Xg]))}jr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Ur()||this.zr("posthog.createPersonProfile")&&this.setPersonProperties({},{})}zr(n){return this.config.person_profiles==="never"?(hn.error(n+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Hr(Xg,!0),!0)}kr(){if(this.config.cookieless_mode==="always")return!0;var n=this.consent.isOptedOut(),s=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||n&&!!s}Br(){var n,s,r,i,a=this.kr();return((n=this.persistence)==null?void 0:n.wi)!==a&&((r=this.persistence)==null||r.set_disabled(a)),((s=this.sessionPersistence)==null?void 0:s.wi)!==a&&((i=this.sessionPersistence)==null||i.set_disabled(a)),a}opt_in_capturing(n){if(this.config.cookieless_mode!=="always"){var s,r;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(s=this.sessionManager)==null||s.destroy(),this.sessionManager=new Vj(this),this.persistence&&(this.sessionPropsManager=new Hj(this,this.sessionManager,this.persistence)),this.sessionRecording=new zj(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Br(),this.Ar(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(cn(n?.captureEventName)||n!=null&&n.captureEventName)&&this.capture((r=n?.captureEventName)!==null&&r!==void 0?r:"$opt_in",n?.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Dr()}else hn.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var n,s;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Br(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:mm,$device_id:null}),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(s=this.sessionRecording)==null||s.stopRecording(),this.sessionRecording=void 0,this.Dr())):hn.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var n=this.consent.consent;return n===Ul.GRANTED?"granted":n===Ul.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Br()}_is_bot(){return eo?oL(eo,this.config.custom_blocked_useragents):void 0}Dr(){fn&&(fn.visibilityState==="visible"?this.mr||(this.mr=!0,this.capture("$pageview",{title:fn.title},{send_instantly:!0}),this.yr&&(fn.removeEventListener("visibilitychange",this.yr),this.yr=null)):this.yr||(this.yr=this.Dr.bind(this),Ti(fn,"visibilitychange",this.yr)))}debug(n){n===!1?(st?.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(st?.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}M(){var n,s,r,i,a,o,l,c=this.Er||{};return"advanced_disable_flags"in c?!!c.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(hn.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(r="advanced_disable_decide",i=!1,a=hn,o=(s="advanced_disable_flags")in(n=c)&&!cn(n[s]),l=r in n&&!cn(n[r]),o?n[s]:l?(a&&a.warn("Config field '"+r+"' is deprecated. Please use '"+s+"' instead. The old field will be removed in a future major version."),n[r]):i)}Nr(n){if(Or(this.config.before_send))return n;var s=Mr(this.config.before_send)?this.config.before_send:[this.config.before_send],r=n;for(var i of s){if(r=i(r),Or(r)){var a="Event '"+n.event+"' was rejected in beforeSend function";return yY(n.event)?hn.warn(a+". This can cause unexpected behavior."):hn.info(a),null}r.properties&&!gp(r.properties)||hn.warn("Event '"+n.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var n;return(n=this.pageViewManager.Vt)==null?void 0:n.pageViewId}captureTraceFeedback(n,s){this.capture("$ai_feedback",{$ai_trace_id:String(n),$ai_feedback_text:s})}captureTraceMetric(n,s,r){this.capture("$ai_metric",{$ai_trace_id:String(n),$ai_metric_name:s,$ai_metric_value:String(r)})}$r(n){var s=Uc(n)&&!n,r=si.H()&&si.q("ph_debug")==="true";return!s&&(!!r||n)}}(function(e,n){for(var s=0;s<n.length;s++)e.prototype[n[s]]=WY(e.prototype[n[s]])})(A5,["identify"]);var qj,Wt=(qj=S1[hp]=new A5,(function(){function e(){e.done||(e.done=!0,lL=!1,Dr(S1,(function(n){n._dom_loaded()})))}fn!=null&&fn.addEventListener?fn.readyState==="complete"?e():Ti(fn,"DOMContentLoaded",e,{capture:!1}):st&&hn.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),qj),FJ=class extends Error{constructor(n){super(n[0].message);Vt(this,"issues");this.name="SchemaError",this.issues=n}},cL=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(cL||{});function Kj(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var Yj=eh;function f9(e,n){if(e===n||!(Yj(e)&&Yj(n)||Array.isArray(e)&&Array.isArray(n)))return n;const s=Object.keys(n),r=Object.keys(e);let i=s.length===r.length;const a=Array.isArray(n)?[]:{};for(const o of s)a[o]=f9(e[o],n[o]),i&&(i=e[o]===a[o]);return i?e:a}function U4(e){let n=0;for(const s in e)n++;return n}var Zj=e=>[].concat(...e);function EJ(e){return new RegExp("(^|:)//").test(e)}function SJ(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function o2(e){return e!=null}function kJ(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var IJ=e=>e.replace(/\/$/,""),TJ=e=>e.replace(/^\//,"");function AJ(e,n){if(!e)return n;if(!n)return e;if(EJ(n))return n;const s=e.endsWith("/")||!n.startsWith("?")?"/":"";return e=IJ(e),n=TJ(n),`${e}${s}${n}`}function DJ(e,n,s){return e.has(n)?e.get(n):e.set(n,s).get(n)}function Iv(e,n,s){return e.has(n)?e.get(n):e.set(n,s(n)).get(n)}var Tv=()=>new Map,Jj=(...e)=>fetch(...e),MJ=e=>e.status>=200&&e.status<=299,RJ=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function Xj(e){if(!eh(e))return e;const n={...e};for(const[s,r]of Object.entries(n))r===void 0&&delete n[s];return n}function Qh({baseUrl:e,prepareHeaders:n=f=>f,fetchFn:s=Jj,paramsSerializer:r,isJsonContentType:i=RJ,jsonContentType:a="application/json",jsonReplacer:o,timeout:l,responseHandler:c,validateStatus:u,...p}={}){return async(m,h,x)=>{const{getState:g,extra:v,endpoint:b,forced:y,type:w}=h;let _,{url:N,headers:j=new Headers(p.headers),params:C=void 0,responseHandler:S=c??"json",validateStatus:F=u??MJ,timeout:E=l,...I}=typeof m=="string"?{url:m}:m,T,A=h.signal;E&&(T=new AbortController,h.signal.addEventListener("abort",T.abort),A=T.signal);let D={...p,signal:A,...I};j=new Headers(Xj(j)),D.headers=await n(j,{getState:g,arg:m,extra:v,endpoint:b,forced:y,type:w,extraOptions:x})||j;const O=oe=>typeof oe=="object"&&(eh(oe)||Array.isArray(oe)||typeof oe.toJSON=="function");if(!D.headers.has("content-type")&&O(D.body)&&D.headers.set("content-type",a),O(D.body)&&i(D.headers)&&(D.body=JSON.stringify(D.body,o)),C){const oe=~N.indexOf("?")?"&":"?",Y=r?r(C):new URLSearchParams(Xj(C));N+=oe+Y}N=AJ(e,N);const M=new Request(N,D);_={request:new Request(N,D)};let P,B=!1,G=T&&setTimeout(()=>{B=!0,T.abort()},E);try{P=await s(M)}catch(oe){return{error:{status:B?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(oe)},meta:_}}finally{G&&clearTimeout(G),T?.signal.removeEventListener("abort",T.abort)}const $=P.clone();_.response=$;let te,U="";try{let oe;if(await Promise.all([f(P,S).then(Y=>te=Y,Y=>oe=Y),$.text().then(Y=>U=Y,()=>{})]),oe)throw oe}catch(oe){return{error:{status:"PARSING_ERROR",originalStatus:P.status,data:U,error:String(oe)},meta:_}}return F(P,te)?{data:te,meta:_}:{error:{status:P.status,data:te},meta:_}};async function f(m,h){if(typeof h=="function")return h(m);if(h==="content-type"&&(h=i(m.headers)?"json":"text"),h==="json"){const x=await m.text();return x.length?JSON.parse(x):null}return m.text()}}var Qj=class{constructor(e,n=void 0){this.value=e,this.meta=n}},D5=Sf("__rtkq/focused"),m9=Sf("__rtkq/unfocused"),M5=Sf("__rtkq/online"),h9=Sf("__rtkq/offline"),H4=!1;function LJ(e,n){function s(){const r=()=>e(D5()),i=()=>e(m9()),a=()=>e(M5()),o=()=>e(h9()),l=()=>{window.document.visibilityState==="visible"?r():i()};return H4||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",r,!1),window.addEventListener("online",a,!1),window.addEventListener("offline",o,!1),H4=!0),()=>{window.removeEventListener("focus",r),window.removeEventListener("visibilitychange",l),window.removeEventListener("online",a),window.removeEventListener("offline",o),H4=!1}}return s()}function R5(e){return e.type==="query"}function PJ(e){return e.type==="mutation"}function L5(e){return e.type==="infinitequery"}function l2(e){return R5(e)||L5(e)}function x9(e,n,s,r,i,a){return OJ(e)?e(n,s,r,i).filter(o2).map(Av).map(a):Array.isArray(e)?e.map(Av).map(a):[]}function OJ(e){return typeof e=="function"}function Av(e){return typeof e=="string"?{type:e}:e}function BJ(e,n){return e.catch(n)}var oh=Symbol("forceQueryFn"),Dv=e=>typeof e[oh]=="function";function UJ({serializeQueryArgs:e,queryThunk:n,infiniteQueryThunk:s,mutationThunk:r,api:i,context:a,internalState:o}){const{runningQueries:l,runningMutations:c}=o,{unsubscribeQueryResult:u,removeMutationResult:p,updateSubscriptionOptions:f}=i.internalActions;return{buildInitiateQuery:b,buildInitiateInfiniteQuery:y,buildInitiateMutation:w,getRunningQueryThunk:m,getRunningMutationThunk:h,getRunningQueriesThunk:x,getRunningMutationsThunk:g};function m(_,N){return j=>{const C=a.endpointDefinitions[_],S=e({queryArgs:N,endpointDefinition:C,endpointName:_});return l.get(j)?.[S]}}function h(_,N){return j=>c.get(j)?.[N]}function x(){return _=>Object.values(l.get(_)||{}).filter(o2)}function g(){return _=>Object.values(c.get(_)||{}).filter(o2)}function v(_,N){const j=(C,{subscribe:S=!0,forceRefetch:F,subscriptionOptions:E,[oh]:I,...T}={})=>(A,D)=>{const O=e({queryArgs:C,endpointDefinition:N,endpointName:_});let M;const L={...T,type:"query",subscribe:S,forceRefetch:F,subscriptionOptions:E,endpointName:_,originalArgs:C,queryCacheKey:O,[oh]:I};if(R5(N))M=n(L);else{const{direction:Z,initialPageParam:le}=T;M=s({...L,direction:Z,initialPageParam:le})}const P=i.endpoints[_].select(C),B=A(M),G=P(D()),{requestId:$,abort:te}=B,U=G.requestId!==$,oe=l.get(A)?.[O],Y=()=>P(D()),W=Object.assign(I?B.then(Y):U&&!oe?Promise.resolve(G):Promise.all([oe,B]).then(Y),{arg:C,requestId:$,subscriptionOptions:E,queryCacheKey:O,abort:te,async unwrap(){const Z=await W;if(Z.isError)throw Z.error;return Z.data},refetch:()=>A(j(C,{subscribe:!1,forceRefetch:!0})),unsubscribe(){S&&A(u({queryCacheKey:O,requestId:$}))},updateSubscriptionOptions(Z){W.subscriptionOptions=Z,A(f({endpointName:_,requestId:$,queryCacheKey:O,options:Z}))}});if(!oe&&!U&&!I){const Z=DJ(l,A,{});Z[O]=W,W.then(()=>{delete Z[O],U4(Z)||l.delete(A)})}return W};return j}function b(_,N){return v(_,N)}function y(_,N){return v(_,N)}function w(_){return(N,{track:j=!0,fixedCacheKey:C}={})=>(S,F)=>{const E=r({type:"mutation",endpointName:_,originalArgs:N,track:j,fixedCacheKey:C}),I=S(E),{requestId:T,abort:A,unwrap:D}=I,O=BJ(I.unwrap().then(B=>({data:B})),B=>({error:B})),M=()=>{S(p({requestId:T,fixedCacheKey:C}))},L=Object.assign(O,{arg:I.arg,requestId:T,abort:A,unwrap:D,reset:M}),P=c.get(S)||{};return c.set(S,P),P[T]=L,L.then(()=>{delete P[T],U4(P)||c.delete(S)}),C&&(P[C]=L,L.then(()=>{P[C]===L&&(delete P[C],U4(P)||c.delete(S))})),L}}}var dL=class extends FJ{constructor(e,n,s,r){super(e),this.value=n,this.schemaName=s,this._bqMeta=r}},Cd=(e,n)=>Array.isArray(e)?e.includes(n):!!e;async function _d(e,n,s,r){const i=await e["~standard"].validate(n);if(i.issues)throw new dL(i.issues,n,s,r);return i.value}function eN(e){return e}var Cm=(e={})=>({...e,[KM]:!0});function HJ({reducerPath:e,baseQuery:n,context:{endpointDefinitions:s},serializeQueryArgs:r,api:i,assertTagType:a,selectors:o,onSchemaFailure:l,catchSchemaFailure:c,skipSchemaValidation:u}){const p=(I,T,A,D)=>(O,M)=>{const L=s[I],P=r({queryArgs:T,endpointDefinition:L,endpointName:I});if(O(i.internalActions.queryResultPatched({queryCacheKey:P,patches:A})),!D)return;const B=i.endpoints[I].select(T)(M()),G=x9(L.providesTags,B.data,void 0,T,{},a);O(i.internalActions.updateProvidedBy([{queryCacheKey:P,providedTags:G}]))};function f(I,T,A=0){const D=[T,...I];return A&&D.length>A?D.slice(0,-1):D}function m(I,T,A=0){const D=[...I,T];return A&&D.length>A?D.slice(1):D}const h=(I,T,A,D=!0)=>(O,M)=>{const P=i.endpoints[I].select(T)(M()),B={patches:[],inversePatches:[],undo:()=>O(i.util.patchQueryData(I,T,B.inversePatches,D))};if(P.status==="uninitialized")return B;let G;if("data"in P)if(LK(P.data)){const[$,te,U]=ZM(P.data,A);B.patches.push(...te),B.inversePatches.push(...U),G=$}else G=A(P.data),B.patches.push({op:"replace",path:[],value:G}),B.inversePatches.push({op:"replace",path:[],value:P.data});return B.patches.length===0||O(i.util.patchQueryData(I,T,B.patches,D)),B},x=(I,T,A)=>D=>D(i.endpoints[I].initiate(T,{subscribe:!1,forceRefetch:!0,[oh]:()=>({data:A})})),g=(I,T)=>I.query&&I[T]?I[T]:eN,v=async(I,{signal:T,abort:A,rejectWithValue:D,fulfillWithValue:O,dispatch:M,getState:L,extra:P})=>{const B=s[I.endpointName],{metaSchema:G,skipSchemaValidation:$=u}=B;try{let te=eN;const U={signal:T,abort:A,dispatch:M,getState:L,extra:P,endpoint:I.endpointName,type:I.type,forced:I.type==="query"?b(I,L()):void 0,queryCacheKey:I.type==="query"?I.queryCacheKey:void 0},oe=I.type==="query"?I[oh]:void 0;let Y;const W=async(le,q,Q,he)=>{if(q==null&&le.pages.length)return Promise.resolve({data:le});const me={queryArg:I.originalArgs,pageParam:q},ce=await Z(me),ee=he?f:m;return{data:{pages:ee(le.pages,ce.data,Q),pageParams:ee(le.pageParams,q,Q)},meta:ce.meta}};async function Z(le){let q;const{extraOptions:Q,argSchema:he,rawResponseSchema:me,responseSchema:ce}=B;if(he&&!Cd($,"arg")&&(le=await _d(he,le,"argSchema",{})),oe?q=oe():B.query?(te=g(B,"transformResponse"),q=await n(B.query(le),U,Q)):q=await B.queryFn(le,U,Q,re=>n(re,U,Q)),typeof process<"u",q.error)throw new Qj(q.error,q.meta);let{data:ee}=q;me&&!Cd($,"rawResponse")&&(ee=await _d(me,q.data,"rawResponseSchema",q.meta));let J=await te(ee,q.meta,le);return ce&&!Cd($,"response")&&(J=await _d(ce,J,"responseSchema",q.meta)),{...q,data:J}}if(I.type==="query"&&"infiniteQueryOptions"in B){const{infiniteQueryOptions:le}=B,{maxPages:q=1/0}=le;let Q;const he={pages:[],pageParams:[]},me=o.selectQueryEntry(L(),I.queryCacheKey)?.data,ee=b(I,L())&&!I.direction||!me?he:me;if("direction"in I&&I.direction&&ee.pages.length){const J=I.direction==="backward",xe=(J?uL:Mv)(le,ee,I.originalArgs);Q=await W(ee,xe,q,J)}else{const{initialPageParam:J=le.initialPageParam}=I,re=me?.pageParams??[],xe=re[0]??J,ae=re.length;Q=await W(ee,xe,q),oe&&(Q={data:Q.data.pages[0]});for(let Fe=1;Fe<ae;Fe++){const se=Mv(le,Q.data,I.originalArgs);Q=await W(Q.data,se,q)}}Y=Q}else Y=await Z(I.originalArgs);return G&&!Cd($,"meta")&&Y.meta&&(Y.meta=await _d(G,Y.meta,"metaSchema",Y.meta)),O(Y.data,Cm({fulfilledTimeStamp:Date.now(),baseQueryMeta:Y.meta}))}catch(te){let U=te;if(U instanceof Qj){let oe=g(B,"transformErrorResponse");const{rawErrorResponseSchema:Y,errorResponseSchema:W}=B;let{value:Z,meta:le}=U;try{Y&&!Cd($,"rawErrorResponse")&&(Z=await _d(Y,Z,"rawErrorResponseSchema",le)),G&&!Cd($,"meta")&&(le=await _d(G,le,"metaSchema",le));let q=await oe(Z,le,I.originalArgs);return W&&!Cd($,"errorResponse")&&(q=await _d(W,q,"errorResponseSchema",le)),D(q,Cm({baseQueryMeta:le}))}catch(q){U=q}}try{if(U instanceof dL){const oe={endpoint:I.endpointName,arg:I.originalArgs,type:I.type,queryCacheKey:I.type==="query"?I.queryCacheKey:void 0};B.onSchemaFailure?.(U,oe),l?.(U,oe);const{catchSchemaFailure:Y=c}=B;if(Y)return D(Y(U,oe),Cm({baseQueryMeta:U._bqMeta}))}}catch(oe){U=oe}throw U}};function b(I,T){const A=o.selectQueryEntry(T,I.queryCacheKey),D=o.selectConfig(T).refetchOnMountOrArgChange,O=A?.fulfilledTimeStamp,M=I.forceRefetch??(I.subscribe&&D);return M?M===!0||(Number(new Date)-Number(O))/1e3>=M:!1}const y=()=>Yc(`${e}/executeQuery`,v,{getPendingMeta({arg:T}){const A=s[T.endpointName];return Cm({startedTimeStamp:Date.now(),...L5(A)?{direction:T.direction}:{}})},condition(T,{getState:A}){const D=A(),O=o.selectQueryEntry(D,T.queryCacheKey),M=O?.fulfilledTimeStamp,L=T.originalArgs,P=O?.originalArgs,B=s[T.endpointName],G=T.direction;return Dv(T)?!0:O?.status==="pending"?!1:b(T,D)||R5(B)&&B?.forceRefetch?.({currentArg:L,previousArg:P,endpointState:O,state:D})?!0:!(M&&!G)},dispatchConditionRejection:!0}),w=y(),_=y(),N=Yc(`${e}/executeMutation`,v,{getPendingMeta(){return Cm({startedTimeStamp:Date.now()})}}),j=I=>"force"in I,C=I=>"ifOlderThan"in I,S=(I,T,A)=>(D,O)=>{const M=j(A)&&A.force,L=C(A)&&A.ifOlderThan,P=(G=!0)=>{const $={forceRefetch:G,isPrefetch:!0};return i.endpoints[I].initiate(T,$)},B=i.endpoints[I].select(T)(O());if(M)D(P());else if(L){const G=B?.fulfilledTimeStamp;if(!G){D(P());return}(Number(new Date)-Number(new Date(G)))/1e3>=L&&D(P())}else D(P(!1))};function F(I){return T=>T?.meta?.arg?.endpointName===I}function E(I,T){return{matchPending:v4(YM(I),F(T)),matchFulfilled:v4(uu(I),F(T)),matchRejected:v4(t9(I),F(T))}}return{queryThunk:w,mutationThunk:N,infiniteQueryThunk:_,prefetch:S,updateQueryData:h,upsertQueryData:x,patchQueryData:p,buildMatchThunkActions:E}}function Mv(e,{pages:n,pageParams:s},r){const i=n.length-1;return e.getNextPageParam(n[i],n,s[i],s,r)}function uL(e,{pages:n,pageParams:s},r){return e.getPreviousPageParam?.(n[0],n,s[0],s,r)}function pL(e,n,s,r){return x9(s[e.meta.arg.endpointName][n],uu(e)?e.payload:void 0,e9(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function Z0(e,n,s){const r=e[n];r&&s(r)}function lh(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function tN(e,n,s){const r=e[lh(n)];r&&s(r)}var J0={};function VJ({reducerPath:e,queryThunk:n,mutationThunk:s,serializeQueryArgs:r,context:{endpointDefinitions:i,apiUid:a,extractRehydrationInfo:o,hasRehydrationInfo:l},assertTagType:c,config:u}){const p=Sf(`${e}/resetApiState`);function f(F,E,I,T){var A;F[A=E.queryCacheKey]??(F[A]={status:"uninitialized",endpointName:E.endpointName}),Z0(F,E.queryCacheKey,D=>{D.status="pending",D.requestId=I&&D.requestId?D.requestId:T.requestId,E.originalArgs!==void 0&&(D.originalArgs=E.originalArgs),D.startedTimeStamp=T.startedTimeStamp;const O=i[T.arg.endpointName];L5(O)&&"direction"in E&&(D.direction=E.direction)})}function m(F,E,I,T){Z0(F,E.arg.queryCacheKey,A=>{if(A.requestId!==E.requestId&&!T)return;const{merge:D}=i[E.arg.endpointName];if(A.status="fulfilled",D)if(A.data!==void 0){const{fulfilledTimeStamp:O,arg:M,baseQueryMeta:L,requestId:P}=E;let B=Q8(A.data,G=>D(G,I,{arg:M.originalArgs,baseQueryMeta:L,fulfilledTimeStamp:O,requestId:P}));A.data=B}else A.data=I;else A.data=i[E.arg.endpointName].structuralSharing??!0?f9(BK(A.data)?OK(A.data):A.data,I):I;delete A.error,A.fulfilledTimeStamp=E.fulfilledTimeStamp})}const h=Ca({name:`${e}/queries`,initialState:J0,reducers:{removeQueryResult:{reducer(F,{payload:{queryCacheKey:E}}){delete F[E]},prepare:fm()},cacheEntriesUpserted:{reducer(F,E){for(const I of E.payload){const{queryDescription:T,value:A}=I;f(F,T,!0,{arg:T,requestId:E.meta.requestId,startedTimeStamp:E.meta.timestamp}),m(F,{arg:T,requestId:E.meta.requestId,fulfilledTimeStamp:E.meta.timestamp,baseQueryMeta:{}},A,!0)}},prepare:F=>({payload:F.map(T=>{const{endpointName:A,arg:D,value:O}=T,M=i[A];return{queryDescription:{type:"query",endpointName:A,originalArgs:T.arg,queryCacheKey:r({queryArgs:D,endpointDefinition:M,endpointName:A})},value:O}}),meta:{[KM]:!0,requestId:WM(),timestamp:Date.now()}})},queryResultPatched:{reducer(F,{payload:{queryCacheKey:E,patches:I}}){Z0(F,E,T=>{T.data=$_(T.data,I.concat())})},prepare:fm()}},extraReducers(F){F.addCase(n.pending,(E,{meta:I,meta:{arg:T}})=>{const A=Dv(T);f(E,T,A,I)}).addCase(n.fulfilled,(E,{meta:I,payload:T})=>{const A=Dv(I.arg);m(E,I,T,A)}).addCase(n.rejected,(E,{meta:{condition:I,arg:T,requestId:A},error:D,payload:O})=>{Z0(E,T.queryCacheKey,M=>{if(!I){if(M.requestId!==A)return;M.status="rejected",M.error=O??D}})}).addMatcher(l,(E,I)=>{const{queries:T}=o(I);for(const[A,D]of Object.entries(T))(D?.status==="fulfilled"||D?.status==="rejected")&&(E[A]=D)})}}),x=Ca({name:`${e}/mutations`,initialState:J0,reducers:{removeMutationResult:{reducer(F,{payload:E}){const I=lh(E);I in F&&delete F[I]},prepare:fm()}},extraReducers(F){F.addCase(s.pending,(E,{meta:I,meta:{requestId:T,arg:A,startedTimeStamp:D}})=>{A.track&&(E[lh(I)]={requestId:T,status:"pending",endpointName:A.endpointName,startedTimeStamp:D})}).addCase(s.fulfilled,(E,{payload:I,meta:T})=>{T.arg.track&&tN(E,T,A=>{A.requestId===T.requestId&&(A.status="fulfilled",A.data=I,A.fulfilledTimeStamp=T.fulfilledTimeStamp)})}).addCase(s.rejected,(E,{payload:I,error:T,meta:A})=>{A.arg.track&&tN(E,A,D=>{D.requestId===A.requestId&&(D.status="rejected",D.error=I??T)})}).addMatcher(l,(E,I)=>{const{mutations:T}=o(I);for(const[A,D]of Object.entries(T))(D?.status==="fulfilled"||D?.status==="rejected")&&A!==D?.requestId&&(E[A]=D)})}}),g={tags:{},keys:{}},v=Ca({name:`${e}/invalidation`,initialState:g,reducers:{updateProvidedBy:{reducer(F,E){var I,T,A;for(const{queryCacheKey:D,providedTags:O}of E.payload){b(F,D);for(const{type:M,id:L}of O){const P=(T=(I=F.tags)[M]??(I[M]={}))[A=L||"__internal_without_id"]??(T[A]=[]);P.includes(D)||P.push(D)}F.keys[D]=O}},prepare:fm()}},extraReducers(F){F.addCase(h.actions.removeQueryResult,(E,{payload:{queryCacheKey:I}})=>{b(E,I)}).addMatcher(l,(E,I)=>{var A,D,O;const{provided:T}=o(I);for(const[M,L]of Object.entries(T.tags??{}))for(const[P,B]of Object.entries(L)){const G=(D=(A=E.tags)[M]??(A[M]={}))[O=P||"__internal_without_id"]??(D[O]=[]);for(const $ of B)G.includes($)||G.push($),E.keys[$]=T.keys[$]}}).addMatcher(Gg(uu(n),e9(n)),(E,I)=>{y(E,[I])}).addMatcher(h.actions.cacheEntriesUpserted.match,(E,I)=>{const T=I.payload.map(({queryDescription:A,value:D})=>({type:"UNKNOWN",payload:D,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:A}}));y(E,T)})}});function b(F,E){const I=F.keys[E]??[];for(const T of I){const A=T.type,D=T.id??"__internal_without_id",O=F.tags[A]?.[D];O&&(F.tags[A][D]=O.filter(M=>M!==E))}delete F.keys[E]}function y(F,E){const I=E.map(T=>{const A=pL(T,"providesTags",i,c),{queryCacheKey:D}=T.meta.arg;return{queryCacheKey:D,providedTags:A}});v.caseReducers.updateProvidedBy(F,v.actions.updateProvidedBy(I))}const w=Ca({name:`${e}/subscriptions`,initialState:J0,reducers:{updateSubscriptionOptions(F,E){},unsubscribeQueryResult(F,E){},internal_getRTKQSubscriptions(){}}}),_=Ca({name:`${e}/internalSubscriptions`,initialState:J0,reducers:{subscriptionsUpdated:{reducer(F,E){return $_(F,E.payload)},prepare:fm()}}}),N=Ca({name:`${e}/config`,initialState:{online:kJ(),focused:SJ(),middlewareRegistered:!1,...u},reducers:{middlewareRegistered(F,{payload:E}){F.middlewareRegistered=F.middlewareRegistered==="conflict"||a!==E?"conflict":!0}},extraReducers:F=>{F.addCase(M5,E=>{E.online=!0}).addCase(h9,E=>{E.online=!1}).addCase(D5,E=>{E.focused=!0}).addCase(m9,E=>{E.focused=!1}).addMatcher(l,E=>({...E}))}}),j=qM({queries:h.reducer,mutations:x.reducer,provided:v.reducer,subscriptions:_.reducer,config:N.reducer}),C=(F,E)=>j(p.match(E)?void 0:F,E),S={...N.actions,...h.actions,...w.actions,..._.actions,...x.actions,...v.actions,resetApiState:p};return{reducer:C,actions:S}}var Do=Symbol.for("RTKQ/skipToken"),fL={status:"uninitialized"},nN=Q8(fL,()=>{}),sN=Q8(fL,()=>{});function $J({serializeQueryArgs:e,reducerPath:n,createSelector:s}){const r=w=>nN,i=w=>sN;return{buildQuerySelector:m,buildInfiniteQuerySelector:h,buildMutationSelector:x,selectInvalidatedBy:g,selectCachedArgsForQuery:v,selectApiState:o,selectQueries:l,selectMutations:u,selectQueryEntry:c,selectConfig:p};function a(w){return{...w,...Kj(w.status)}}function o(w){return w[n]}function l(w){return o(w)?.queries}function c(w,_){return l(w)?.[_]}function u(w){return o(w)?.mutations}function p(w){return o(w)?.config}function f(w,_,N){return j=>{if(j===Do)return s(r,N);const C=e({queryArgs:j,endpointDefinition:_,endpointName:w});return s(F=>c(F,C)??nN,N)}}function m(w,_){return f(w,_,a)}function h(w,_){const{infiniteQueryOptions:N}=_;function j(C){const S={...C,...Kj(C.status)},{isLoading:F,isError:E,direction:I}=S,T=I==="forward",A=I==="backward";return{...S,hasNextPage:b(N,S.data,S.originalArgs),hasPreviousPage:y(N,S.data,S.originalArgs),isFetchingNextPage:F&&T,isFetchingPreviousPage:F&&A,isFetchNextPageError:E&&T,isFetchPreviousPageError:E&&A}}return f(w,_,j)}function x(){return w=>{let _;return typeof w=="object"?_=lh(w)??Do:_=w,s(_===Do?i:C=>o(C)?.mutations?.[_]??sN,a)}}function g(w,_){const N=w[n],j=new Set;for(const C of _.filter(o2).map(Av)){const S=N.provided.tags[C.type];if(!S)continue;let F=(C.id!==void 0?S[C.id]:Zj(Object.values(S)))??[];for(const E of F)j.add(E)}return Zj(Array.from(j.values()).map(C=>{const S=N.queries[C];return S?[{queryCacheKey:C,endpointName:S.endpointName,originalArgs:S.originalArgs}]:[]}))}function v(w,_){return Object.values(l(w)).filter(N=>N?.endpointName===_&&N.status!=="uninitialized").map(N=>N.originalArgs)}function b(w,_,N){return _?Mv(w,_,N)!=null:!1}function y(w,_,N){return!_||!w.getPreviousPageParam?!1:uL(w,_,N)!=null}}var rN=WeakMap?new WeakMap:void 0,iN=({endpointName:e,queryArgs:n})=>{let s="";const r=rN?.get(n);if(typeof r=="string")s=r;else{const i=JSON.stringify(n,(a,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=eh(o)?Object.keys(o).sort().reduce((l,c)=>(l[c]=o[c],l),{}):o,o));eh(n)&&rN?.set(n,i),s=i}return`${e}(${s})`};function mL(...e){return function(s){const r=V_(u=>s.extractRehydrationInfo?.(u,{reducerPath:s.reducerPath??"api"})),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...s,extractRehydrationInfo:r,serializeQueryArgs(u){let p=iN;if("serializeQueryArgs"in u.endpointDefinition){const f=u.endpointDefinition.serializeQueryArgs;p=m=>{const h=f(m);return typeof h=="string"?h:iN({...m,queryArgs:h})}}else s.serializeQueryArgs&&(p=s.serializeQueryArgs);return p(u)},tagTypes:[...s.tagTypes||[]]},a={endpointDefinitions:{},batch(u){u()},apiUid:WM(),extractRehydrationInfo:r,hasRehydrationInfo:V_(u=>r(u)!=null)},o={injectEndpoints:c,enhanceEndpoints({addTagTypes:u,endpoints:p}){if(u)for(const f of u)i.tagTypes.includes(f)||i.tagTypes.push(f);if(p)for(const[f,m]of Object.entries(p))typeof m=="function"?m(a.endpointDefinitions[f]):Object.assign(a.endpointDefinitions[f]||{},m);return o}},l=e.map(u=>u.init(o,i,a));function c(u){const p=u.endpoints({query:f=>({...f,type:"query"}),mutation:f=>({...f,type:"mutation"}),infiniteQuery:f=>({...f,type:"infinitequery"})});for(const[f,m]of Object.entries(p)){if(u.overrideExisting!==!0&&f in a.endpointDefinitions){if(u.overrideExisting==="throw")throw new Error(GM(39));continue}a.endpointDefinitions[f]=m;for(const h of l)h.injectEndpoint(f,m)}return o}return o.injectEndpoints({endpoints:s.endpoints})}}function Il(e,...n){return Object.assign(e,...n)}var zJ=({api:e,queryThunk:n,internalState:s,mwApi:r})=>{const i=`${e.reducerPath}/subscriptions`;let a=null,o=null;const{updateSubscriptionOptions:l,unsubscribeQueryResult:c}=e.internalActions,u=(g,v)=>{if(l.match(v)){const{queryCacheKey:y,requestId:w,options:_}=v.payload,N=g.get(y);return N?.has(w)&&N.set(w,_),!0}if(c.match(v)){const{queryCacheKey:y,requestId:w}=v.payload,_=g.get(y);return _&&_.delete(w),!0}if(e.internalActions.removeQueryResult.match(v))return g.delete(v.payload.queryCacheKey),!0;if(n.pending.match(v)){const{meta:{arg:y,requestId:w}}=v,_=Iv(g,y.queryCacheKey,Tv);return y.subscribe&&_.set(w,y.subscriptionOptions??_.get(w)??{}),!0}let b=!1;if(n.rejected.match(v)){const{meta:{condition:y,arg:w,requestId:_}}=v;if(y&&w.subscribe){const N=Iv(g,w.queryCacheKey,Tv);N.set(_,w.subscriptionOptions??N.get(_)??{}),b=!0}}return b},p=()=>s.currentSubscriptions,h={getSubscriptions:p,getSubscriptionCount:g=>p().get(g)?.size??0,isRequestSubscribed:(g,v)=>!!p()?.get(g)?.get(v)};function x(g){return JSON.parse(JSON.stringify(Object.fromEntries([...g].map(([v,b])=>[v,Object.fromEntries(b)]))))}return(g,v)=>{if(a||(a=x(s.currentSubscriptions)),e.util.resetApiState.match(g))return a={},s.currentSubscriptions.clear(),o=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(g))return[!1,h];const b=u(s.currentSubscriptions,g);let y=!0;if(b){o||(o=setTimeout(()=>{const N=x(s.currentSubscriptions),[,j]=ZM(a,()=>N);v.next(e.internalActions.subscriptionsUpdated(j)),a=N,o=null},500));const w=typeof g.type=="string"&&!!g.type.startsWith(i),_=n.rejected.match(g)&&g.meta.condition&&!!g.meta.arg.subscribe;y=!w&&!_}return[y,!1]}},WJ=2147483647/1e3-1,GJ=({reducerPath:e,api:n,queryThunk:s,context:r,internalState:i,selectors:{selectQueryEntry:a,selectConfig:o},getRunningQueryThunk:l,mwApi:c})=>{const{removeQueryResult:u,unsubscribeQueryResult:p,cacheEntriesUpserted:f}=n.internalActions,m=i.runningQueries.get(c.dispatch),h=Gg(p.match,s.fulfilled,s.rejected,f.match);function x(w){const _=i.currentSubscriptions.get(w);if(!_)return!1;const N=_.size>0,j=m?.[w]!==void 0;return N||j}const g={},v=(w,_,N)=>{const j=_.getState(),C=o(j);if(h(w)){let S;if(f.match(w))S=w.payload.map(F=>F.queryDescription.queryCacheKey);else{const{queryCacheKey:F}=p.match(w)?w.payload:w.meta.arg;S=[F]}b(S,_,C)}if(n.util.resetApiState.match(w))for(const[S,F]of Object.entries(g))F&&clearTimeout(F),delete g[S];if(r.hasRehydrationInfo(w)){const{queries:S}=r.extractRehydrationInfo(w);b(Object.keys(S),_,C)}};function b(w,_,N){const j=_.getState();for(const C of w){const S=a(j,C);S?.endpointName&&y(C,S.endpointName,_,N)}}function y(w,_,N,j){const S=r.endpointDefinitions[_]?.keepUnusedDataFor??j.keepUnusedDataFor;if(S===1/0)return;const F=Math.max(0,Math.min(S,WJ));if(!x(w)){const E=g[w];E&&clearTimeout(E),g[w]=setTimeout(()=>{if(!x(w)){const I=a(N.getState(),w);I?.endpointName&&N.dispatch(l(I.endpointName,I.originalArgs))?.abort(),N.dispatch(u({queryCacheKey:w}))}delete g[w]},F*1e3)}}return v},aN=new Error("Promise never resolved before cacheEntryRemoved."),qJ=({api:e,reducerPath:n,context:s,queryThunk:r,mutationThunk:i,internalState:a,selectors:{selectQueryEntry:o,selectApiState:l}})=>{const c=z_(r),u=z_(i),p=uu(r,i),f={};function m(b,y,w){const _=f[b];_?.valueResolved&&(_.valueResolved({data:y,meta:w}),delete _.valueResolved)}function h(b){const y=f[b];y&&(delete f[b],y.cacheEntryRemoved())}const x=(b,y,w)=>{const _=g(b);function N(j,C,S,F){const E=o(w,C),I=o(y.getState(),C);!E&&I&&v(j,F,C,y,S)}if(r.pending.match(b))N(b.meta.arg.endpointName,_,b.meta.requestId,b.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(b))for(const{queryDescription:j,value:C}of b.payload){const{endpointName:S,originalArgs:F,queryCacheKey:E}=j;N(S,E,b.meta.requestId,F),m(E,C,{})}else if(i.pending.match(b))y.getState()[n].mutations[_]&&v(b.meta.arg.endpointName,b.meta.arg.originalArgs,_,y,b.meta.requestId);else if(p(b))m(_,b.payload,b.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(b)||e.internalActions.removeMutationResult.match(b))h(_);else if(e.util.resetApiState.match(b))for(const j of Object.keys(f))h(j)};function g(b){return c(b)?b.meta.arg.queryCacheKey:u(b)?b.meta.arg.fixedCacheKey??b.meta.requestId:e.internalActions.removeQueryResult.match(b)?b.payload.queryCacheKey:e.internalActions.removeMutationResult.match(b)?lh(b.payload):""}function v(b,y,w,_,N){const j=s.endpointDefinitions[b],C=j?.onCacheEntryAdded;if(!C)return;const S={},F=new Promise(O=>{S.cacheEntryRemoved=O}),E=Promise.race([new Promise(O=>{S.valueResolved=O}),F.then(()=>{throw aN})]);E.catch(()=>{}),f[w]=S;const I=e.endpoints[b].select(l2(j)?y:w),T=_.dispatch((O,M,L)=>L),A={..._,getCacheEntry:()=>I(_.getState()),requestId:N,extra:T,updateCachedData:l2(j)?O=>_.dispatch(e.util.updateQueryData(b,y,O)):void 0,cacheDataLoaded:E,cacheEntryRemoved:F},D=C(y,A);Promise.resolve(D).catch(O=>{if(O!==aN)throw O})}return x},KJ=({api:e,context:{apiUid:n},reducerPath:s})=>(r,i)=>{e.util.resetApiState.match(r)&&i.dispatch(e.internalActions.middlewareRegistered(n))},YJ=({reducerPath:e,context:n,context:{endpointDefinitions:s},mutationThunk:r,queryThunk:i,api:a,assertTagType:o,refetchQuery:l,internalState:c})=>{const{removeQueryResult:u}=a.internalActions,p=Gg(uu(r),e9(r)),f=Gg(uu(r,i),t9(r,i));let m=[];const h=(v,b)=>{p(v)?g(pL(v,"invalidatesTags",s,o),b):f(v)?g([],b):a.util.invalidateTags.match(v)&&g(x9(v.payload,void 0,void 0,void 0,void 0,o),b)};function x(v){const{queries:b,mutations:y}=v;for(const w of[b,y])for(const _ in w)if(w[_]?.status==="pending")return!0;return!1}function g(v,b){const y=b.getState(),w=y[e];if(m.push(...v),w.config.invalidationBehavior==="delayed"&&x(w))return;const _=m;if(m=[],_.length===0)return;const N=a.util.selectInvalidatedBy(y,_);n.batch(()=>{const j=Array.from(N.values());for(const{queryCacheKey:C}of j){const S=w.queries[C],F=Iv(c.currentSubscriptions,C,Tv);S&&(F.size===0?b.dispatch(u({queryCacheKey:C})):S.status!=="uninitialized"&&b.dispatch(l(S)))}})}return h},ZJ=({reducerPath:e,queryThunk:n,api:s,refetchQuery:r,internalState:i})=>{const{currentPolls:a,currentSubscriptions:o}=i,l=new Set;let c=null;const u=(v,b)=>{(s.internalActions.updateSubscriptionOptions.match(v)||s.internalActions.unsubscribeQueryResult.match(v))&&p(v.payload.queryCacheKey,b),(n.pending.match(v)||n.rejected.match(v)&&v.meta.condition)&&p(v.meta.arg.queryCacheKey,b),(n.fulfilled.match(v)||n.rejected.match(v)&&!v.meta.condition)&&f(v.meta.arg,b),s.util.resetApiState.match(v)&&(x(),c&&(clearTimeout(c),c=null),l.clear())};function p(v,b){l.add(v),c||(c=setTimeout(()=>{for(const y of l)m({queryCacheKey:y},b);l.clear(),c=null},0))}function f({queryCacheKey:v},b){const y=b.getState()[e],w=y.queries[v],_=o.get(v);if(!w||w.status==="uninitialized")return;const{lowestPollingInterval:N,skipPollingIfUnfocused:j}=g(_);if(!Number.isFinite(N))return;const C=a.get(v);C?.timeout&&(clearTimeout(C.timeout),C.timeout=void 0);const S=Date.now()+N;a.set(v,{nextPollTimestamp:S,pollingInterval:N,timeout:setTimeout(()=>{(y.config.focused||!j)&&b.dispatch(r(w)),f({queryCacheKey:v},b)},N)})}function m({queryCacheKey:v},b){const w=b.getState()[e].queries[v],_=o.get(v);if(!w||w.status==="uninitialized")return;const{lowestPollingInterval:N}=g(_);if(!Number.isFinite(N)){h(v);return}const j=a.get(v),C=Date.now()+N;(!j||C<j.nextPollTimestamp)&&f({queryCacheKey:v},b)}function h(v){const b=a.get(v);b?.timeout&&clearTimeout(b.timeout),a.delete(v)}function x(){for(const v of a.keys())h(v)}function g(v=new Map){let b=!1,y=Number.POSITIVE_INFINITY;for(const w of v.values())w.pollingInterval&&(y=Math.min(w.pollingInterval,y),b=w.skipPollingIfUnfocused||b);return{lowestPollingInterval:y,skipPollingIfUnfocused:b}}return u},JJ=({api:e,context:n,queryThunk:s,mutationThunk:r})=>{const i=YM(s,r),a=t9(s,r),o=uu(s,r),l={};return(u,p)=>{if(i(u)){const{requestId:f,arg:{endpointName:m,originalArgs:h}}=u.meta,x=n.endpointDefinitions[m],g=x?.onQueryStarted;if(g){const v={},b=new Promise((N,j)=>{v.resolve=N,v.reject=j});b.catch(()=>{}),l[f]=v;const y=e.endpoints[m].select(l2(x)?h:f),w=p.dispatch((N,j,C)=>C),_={...p,getCacheEntry:()=>y(p.getState()),requestId:f,extra:w,updateCachedData:l2(x)?N=>p.dispatch(e.util.updateQueryData(m,h,N)):void 0,queryFulfilled:b};g(h,_)}}else if(o(u)){const{requestId:f,baseQueryMeta:m}=u.meta;l[f]?.resolve({data:u.payload,meta:m}),delete l[f]}else if(a(u)){const{requestId:f,rejectedWithValue:m,baseQueryMeta:h}=u.meta;l[f]?.reject({error:u.payload??u.error,isUnhandledError:!m,meta:h}),delete l[f]}}},XJ=({reducerPath:e,context:n,api:s,refetchQuery:r,internalState:i})=>{const{removeQueryResult:a}=s.internalActions,o=(c,u)=>{D5.match(c)&&l(u,"refetchOnFocus"),M5.match(c)&&l(u,"refetchOnReconnect")};function l(c,u){const p=c.getState()[e],f=p.queries,m=i.currentSubscriptions;n.batch(()=>{for(const h of m.keys()){const x=f[h],g=m.get(h);if(!g||!x)continue;const v=[...g.values()];(v.some(y=>y[u]===!0)||v.every(y=>y[u]===void 0)&&p.config[u])&&(g.size===0?c.dispatch(a({queryCacheKey:h})):x.status!=="uninitialized"&&c.dispatch(r(x)))}})}return o};function QJ(e){const{reducerPath:n,queryThunk:s,api:r,context:i,internalState:a}=e,{apiUid:o}=i,l={invalidateTags:Sf(`${n}/invalidateTags`)},c=m=>m.type.startsWith(`${n}/`),u=[KJ,GJ,YJ,ZJ,qJ,JJ];return{middleware:m=>{let h=!1;const x={...e,internalState:a,refetchQuery:f,isThisApiSliceAction:c,mwApi:m},g=u.map(y=>y(x)),v=zJ(x),b=XJ(x);return y=>w=>{if(!PK(w))return y(w);h||(h=!0,m.dispatch(r.internalActions.middlewareRegistered(o)));const _={...m,next:y},N=m.getState(),[j,C]=v(w,_,N);let S;if(j?S=y(w):S=C,m.getState()[n]&&(b(w,_,N),c(w)||i.hasRehydrationInfo(w)))for(const F of g)F(w,_,N);return S}},actions:l};function f(m){return e.api.endpoints[m.endpointName].initiate(m.originalArgs,{subscribe:!1,forceRefetch:!0})}}var oN=Symbol(),hL=({createSelector:e=X8}={})=>({name:oN,init(n,{baseQuery:s,tagTypes:r,reducerPath:i,serializeQueryArgs:a,keepUnusedDataFor:o,refetchOnMountOrArgChange:l,refetchOnFocus:c,refetchOnReconnect:u,invalidationBehavior:p,onSchemaFailure:f,catchSchemaFailure:m,skipSchemaValidation:h},x){RK();const g=W=>W;Object.assign(n,{reducerPath:i,endpoints:{},internalActions:{onOnline:M5,onOffline:h9,onFocus:D5,onFocusLost:m9},util:{}});const v=$J({serializeQueryArgs:a,reducerPath:i,createSelector:e}),{selectInvalidatedBy:b,selectCachedArgsForQuery:y,buildQuerySelector:w,buildInfiniteQuerySelector:_,buildMutationSelector:N}=v;Il(n.util,{selectInvalidatedBy:b,selectCachedArgsForQuery:y});const{queryThunk:j,infiniteQueryThunk:C,mutationThunk:S,patchQueryData:F,updateQueryData:E,upsertQueryData:I,prefetch:T,buildMatchThunkActions:A}=HJ({baseQuery:s,reducerPath:i,context:x,api:n,serializeQueryArgs:a,assertTagType:g,selectors:v,onSchemaFailure:f,catchSchemaFailure:m,skipSchemaValidation:h}),{reducer:D,actions:O}=VJ({context:x,queryThunk:j,mutationThunk:S,serializeQueryArgs:a,reducerPath:i,assertTagType:g,config:{refetchOnFocus:c,refetchOnReconnect:u,refetchOnMountOrArgChange:l,keepUnusedDataFor:o,reducerPath:i,invalidationBehavior:p}});Il(n.util,{patchQueryData:F,updateQueryData:E,upsertQueryData:I,prefetch:T,resetApiState:O.resetApiState,upsertQueryEntries:O.cacheEntriesUpserted}),Il(n.internalActions,O);const M={currentSubscriptions:new Map,currentPolls:new Map,runningQueries:new Map,runningMutations:new Map},{buildInitiateQuery:L,buildInitiateInfiniteQuery:P,buildInitiateMutation:B,getRunningMutationThunk:G,getRunningMutationsThunk:$,getRunningQueriesThunk:te,getRunningQueryThunk:U}=UJ({queryThunk:j,mutationThunk:S,infiniteQueryThunk:C,api:n,serializeQueryArgs:a,context:x,internalState:M});Il(n.util,{getRunningMutationThunk:G,getRunningMutationsThunk:$,getRunningQueryThunk:U,getRunningQueriesThunk:te});const{middleware:oe,actions:Y}=QJ({reducerPath:i,context:x,queryThunk:j,mutationThunk:S,infiniteQueryThunk:C,api:n,assertTagType:g,selectors:v,getRunningQueryThunk:U,internalState:M});return Il(n.util,Y),Il(n,{reducer:D,middleware:oe}),{name:oN,injectEndpoint(W,Z){var Q;const q=(Q=n.endpoints)[W]??(Q[W]={});R5(Z)&&Il(q,{name:W,select:w(W,Z),initiate:L(W,Z)},A(j,W)),PJ(Z)&&Il(q,{name:W,select:N(),initiate:B(W)},A(S,W)),L5(Z)&&Il(q,{name:W,select:_(W,Z),initiate:P(W,Z)},A(j,W))}}}});hL();var _m={},X0={},Q0={},lN;function eX(){if(lN)return Q0;lN=1,Q0.__esModule=!0,Q0.default=i;function e(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(l){return typeof l}:e=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(a)}function n(){}var s={getItem:n,setItem:n,removeItem:n};function r(a){if((typeof self>"u"?"undefined":e(self))!=="object"||!(a in self))return!1;try{var o=self[a],l="redux-persist ".concat(a," test");o.setItem(l,"test"),o.getItem(l),o.removeItem(l)}catch{return!1}return!0}function i(a){var o="".concat(a,"Storage");return r(o)?self[o]:s}return Q0}var cN;function xL(){if(cN)return X0;cN=1,X0.__esModule=!0,X0.default=s;var e=n(eX());function n(r){return r&&r.__esModule?r:{default:r}}function s(r){var i=(0,e.default)(r);return{getItem:function(o){return new Promise(function(l,c){l(i.getItem(o))})},setItem:function(o,l){return new Promise(function(c,u){c(i.setItem(o,l))})},removeItem:function(o){return new Promise(function(l,c){l(i.removeItem(o))})}}}return X0}var dN;function tX(){if(dN)return _m;dN=1,_m.__esModule=!0,_m.default=void 0;var e=n(xL());function n(r){return r&&r.__esModule?r:{default:r}}var s=(0,e.default)("local");return _m.default=s,_m}var nX=tX();const sX=ga(nX);var jm={},uN;function rX(){if(uN)return jm;uN=1,jm.__esModule=!0,jm.default=void 0;var e=n(xL());function n(r){return r&&r.__esModule?r:{default:r}}var s=(0,e.default)("session");return jm.default=s,jm}var iX=rX();const aX=ga(iX),Nm={isVisible:!1,progress:0,title:"",description:"",error:void 0,steps:[],currentStep:-1},oX={tabProgress:{},activeTabId:null},gL=Ca({name:"progress",initialState:oX,reducers:{setActiveTabId:(e,n)=>{e.activeTabId=n.payload},showProgress:(e,n)=>{const{tabId:s,title:r,description:i,steps:a}=n.payload;e.tabProgress[s]||(e.tabProgress[s]={...Nm});const o=e.tabProgress[s];o.isVisible=!0,o.progress=0,o.title=r,o.description=i,o.error=void 0,o.steps=a,o.currentStep=a.findIndex(l=>l.status==="in_progress")},updateProgress:(e,n)=>{const{tabId:s,progress:r}=n.payload;e.tabProgress[s]||(e.tabProgress[s]={...Nm});const i=e.tabProgress[s];i.progress=r,r===100&&(i.steps=i.steps.map(a=>({...a,status:"completed"})),i.currentStep=i.steps.length)},nextStep:(e,n)=>{const s=n.payload;e.tabProgress[s]||(e.tabProgress[s]={...Nm});const r=e.tabProgress[s];r.currentStep>=0&&r.currentStep<r.steps.length&&(r.steps[r.currentStep].status="completed",r.currentStep++,r.progress=r.currentStep/r.steps.length*100,r.currentStep<r.steps.length?r.steps[r.currentStep].status="in_progress":r.isVisible=!1)},hideProgress:(e,n)=>{const s=n.payload;e.tabProgress[s]||(e.tabProgress[s]={...Nm});const r=e.tabProgress[s];r.steps=r.steps.map(i=>({...i,status:"completed"})),r.isVisible=!1,r.error=void 0,r.steps=[],r.currentStep=-1},setError:(e,n)=>{const{tabId:s,error:r}=n.payload;e.tabProgress[s]||(e.tabProgress[s]={...Nm});const i=e.tabProgress[s];i.error=r,i.isVisible=!0,i.progress=100,i.currentStep>=0&&i.currentStep<i.steps.length&&(i.steps[i.currentStep].status="completed")}}}),{setActiveTabId:zRe,showProgress:WRe,updateProgress:GRe,hideProgress:qRe,setError:KRe,nextStep:YRe}=gL.actions,lX=gL.reducer,pN={isInitialized:!1,isJobPolling:!1,jobDetails:void 0,trajectory:[],lastProcessedStep:-1,taskState:null},cX={activeContainerId:null,containers:{},tabContainers:{}},bL=Ca({name:"container",initialState:cX,reducers:{initializeContainer:(e,n)=>{const s=n.payload;s&&(e.containers||(e.containers={}),e.containers[s]||(e.containers[s]={...pN}),e.activeContainerId=s)},setInitialized:(e,n)=>{const{containerId:s,isInitialized:r}=n.payload;s&&(e.containers||(e.containers={}),e.containers[s]||(e.containers[s]={...pN}),e.containers[s].isInitialized=r)},setJobPolling:(e,n)=>{const{containerId:s,value:r}=n.payload;e.containers[s]&&(e.containers[s].isJobPolling=r)},setJobDetails:(e,n)=>{const{containerId:s,details:r}=n.payload;e.containers[s]&&(e.containers[s].jobDetails=r)},setTrajectory:(e,n)=>{const{containerId:s,trajectory:r}=n.payload;e.containers[s]&&(e.containers[s].trajectory=r)},setLastProcessedStep:(e,n)=>{const{containerId:s,step:r}=n.payload;e.containers[s]&&(e.containers[s].lastProcessedStep=r)},setTaskState:(e,n)=>{const{containerId:s,taskState:r}=n.payload;e.containers[s]&&(e.containers[s].taskState=r)},updateTaskState:(e,n)=>{const{containerId:s,taskState:r}=n.payload;if(e.containers[s]){const i=e.containers[s];i.taskState=i.taskState?{...i.taskState,...r}:r}},resetContainer:(e,n)=>{const s=n.payload,{[s]:r,...i}=e.containers;e.containers=i,e.activeContainerId===s&&(e.activeContainerId=null)},resetAllContainers:e=>{e.containers={},e.activeContainerId=null,e.tabContainers={}},setTabContainer:(e,n)=>{const{tabId:s,containerId:r}=n.payload;e.tabContainers[s]=r},removeTabContainer:(e,n)=>{const s=n.payload;delete e.tabContainers[s]},setActiveContainerForTab:(e,n)=>{const s=n.payload,r=e.tabContainers[s];r&&(e.activeContainerId=r)}}}),{initializeContainer:dX,setInitialized:uX,setJobPolling:ZRe,setJobDetails:fN,setTrajectory:pX,setLastProcessedStep:JRe,setTaskState:XRe,updateTaskState:QRe,resetContainer:eLe,resetAllContainers:tLe,setTabContainer:fX,removeTabContainer:nLe,setActiveContainerForTab:mX}=bL.actions,hX=bL.reducer,xX={pendingCommands:{}},yL=Ca({name:"commandQueue",initialState:xX,reducers:{enqueueCommand:(e,n)=>{const{commandId:s,type:r,payload:i}=n.payload;(!e.pendingCommands[s]||e.pendingCommands[s].status==="failed")&&(e.pendingCommands[s]={status:"pending",command:{type:r,payload:i},timestamp:Date.now()})},setCommandStatus:(e,n)=>{const{commandId:s,status:r}=n.payload;e.pendingCommands[s]&&(e.pendingCommands[s].status=r)},removeCommand:(e,n)=>{delete e.pendingCommands[n.payload]}}}),{enqueueCommand:sLe,setCommandStatus:rLe,removeCommand:iLe}=yL.actions,gX=yL.reducer,u1={showLogsPanel:!1,showSubagentPanel:!1,showInfoPanel:!1,showUrlPreviewPanel:!1,showDeployPanel:!1},bX={activeTab:"home",tabs:[{id:"home",title:"Home",path:"/"}],isActive:!0,tabStates:{}},vL=Ca({name:"tabs",initialState:bX,reducers:{setActiveTab:(e,n)=>{e.activeTab=n.payload,e.isActive=!0,Object.keys(e.tabStates).forEach(s=>{e.tabStates[s]={...e.tabStates[s],isActive:s===n.payload}}),e.tabStates[n.payload]||(e.tabStates[n.payload]={isActive:!0,activeTab:n.payload})},setTabs:(e,n)=>{const s=n.payload.filter(a=>a.path!=="/not-defined"),r=n.payload.filter(a=>a.path==="/not-defined");e.tabs=[...s,...r];const i=new Set(n.payload.map(a=>a.id));Object.keys(e.tabStates).forEach(a=>{if(!i.has(a)&&a!=="home"){const o=e.tabStates[a];o?.createAgentFormData||o?.createSubagentFormData||delete e.tabStates[a]}})},updateTabState:(e,n)=>{const{tabId:s,state:r}=n.payload,i=s in e.tabStates;e.tabStates[s]={...i?e.tabStates[s]:{status:!1,isCloudFlow:!0},...r}},removeTab:(e,n)=>{const s=n.payload;e.tabStates[s]&&(e.tabStates[s].pendingArtifacts||[]).forEach(i=>{i.local_preview_url&&i.local_preview_url.startsWith("blob:")&&URL.revokeObjectURL(i.local_preview_url)}),e.tabs=e.tabs.filter(r=>r.id!==s),delete e.tabStates[s],e.activeTab===s&&(e.activeTab="home")},cleanupTabStates:e=>{const n=new Set(e.tabs.map(s=>s.id));Object.keys(e.tabStates).forEach(s=>{!n.has(s)&&s!=="home"&&delete e.tabStates[s]})},setPendingMessage:(e,n)=>{const{tabId:s,messageId:r,content:i,base64_image_list:a,artifacts:o}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].pendingMessage={id:r,content:i,timestamp:new Date().toISOString().replace(/\.\d{3}Z$/,l=>l.replace("Z","000+00:00")),base64_image_list:a,artifacts:o}},clearPendingMessage:(e,n)=>{const{tabId:s,content:r}=n.payload;if(e.tabStates[s]){if(r){const i=e.tabStates[s]?.pendingMessage;if(!i||i.content!==r)return}e.tabStates[s]={...e.tabStates[s],pendingMessage:void 0}}},removePendingMessage:(e,n)=>{const{tabId:s,messageId:r,content:i}=n.payload;if(e.tabStates[s]){const a=e.tabStates[s]?.pendingMessage;a&&a.content===i&&(e.tabStates[s]={...e.tabStates[s],pendingMessage:void 0})}},addPendingArtifacts:(e,n)=>{const{tabId:s,artifacts:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={});const i=e.tabStates[s].pendingArtifacts||[];e.tabStates[s].pendingArtifacts=[...i,...r]},clearPendingArtifacts:(e,n)=>{const{tabId:s}=n.payload;e.tabStates[s]&&((e.tabStates[s].pendingArtifacts||[]).forEach(i=>{i.local_preview_url&&i.local_preview_url.startsWith("blob:")&&URL.revokeObjectURL(i.local_preview_url)}),e.tabStates[s].pendingArtifacts=[])},removePendingArtifact:(e,n)=>{const{tabId:s,artifactId:r}=n.payload;if(e.tabStates[s]?.pendingArtifacts){const i=e.tabStates[s].pendingArtifacts.find(a=>a.artifact_id===r);i?.local_preview_url&&i.local_preview_url.startsWith("blob:")&&URL.revokeObjectURL(i.local_preview_url),e.tabStates[s].pendingArtifacts=e.tabStates[s].pendingArtifacts.filter(a=>a.artifact_id!==r)}},setChatInputText:(e,n)=>{const{tabId:s,text:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].chatInputText=r},clearChatInputText:(e,n)=>{const{tabId:s}=n.payload;e.tabStates[s]&&(e.tabStates[s].chatInputText="")},setCreateAgentFormData:(e,n)=>{const{tabId:s,formData:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].createAgentFormData=r},clearCreateAgentFormData:(e,n)=>{const{tabId:s}=n.payload;e.tabStates[s]&&delete e.tabStates[s].createAgentFormData},setCreateSubagentFormData:(e,n)=>{const{tabId:s,formData:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].createSubagentFormData=r},clearCreateSubagentFormData:(e,n)=>{const{tabId:s}=n.payload;e.tabStates[s]&&delete e.tabStates[s].createSubagentFormData},setTabDeployState:(e,n)=>{const{tabId:s,deployState:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].deployState||(e.tabStates[s].deployState={deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],deploymentHistory:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,modifiedEnvs:[],customDomain:null,deployLogs:[]}),e.tabStates[s].deployState={...e.tabStates[s].deployState,...r}},resetTabDeployState:(e,n)=>{const{tabId:s}=n.payload;e.tabStates[s]&&(e.tabStates[s].deployState={deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],deploymentHistory:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,modifiedEnvs:[],customDomain:null,deployLogs:[]})},updateHomeTabPath:(e,n)=>{const s=e.tabs.find(r=>r.id==="home");s&&(s.path=n.payload)},setTabAgentStatus:(e,n)=>{const{tabId:s,agentStatus:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].agentStatus=r},toggleTabPanel:(e,n)=>{const{tabId:s,panelName:r,value:i}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].panelState||(e.tabStates[s].panelState={...u1});const a=e.tabStates[s].panelState;i!=null?e.tabStates[s].panelState={...u1,[r]:i}:a[r]?e.tabStates[s].panelState={...a,[r]:!1}:e.tabStates[s].panelState={...u1,[r]:!0}},closeAllTabPanels:(e,n)=>{const{tabId:s}=n.payload;e.tabStates[s]&&(e.tabStates[s].panelState={...u1})}}}),{setActiveTab:wL,setTabs:CL,updateTabState:yX,removeTab:vX,setPendingMessage:wX,clearPendingMessage:CX,removePendingMessage:_L,cleanupTabStates:jL,addPendingArtifacts:NL,clearPendingArtifacts:Rv,removePendingArtifact:_X,setChatInputText:jX,clearChatInputText:mN,setCreateAgentFormData:NX,clearCreateAgentFormData:FX,setCreateSubagentFormData:EX,clearCreateSubagentFormData:SX,setTabDeployState:ci,resetTabDeployState:aLe,updateHomeTabPath:kX,setTabAgentStatus:IX,toggleTabPanel:TX,closeAllTabPanels:AX}=vL.actions,P5=e=>e.tabs.activeTab,DX=e=>e.tabs.tabs,g9=(e,n)=>e.tabs.tabStates[n]?.pendingArtifacts||[],MX=(e,n)=>e.tabs.tabStates[n]?.chatInputText||"",RX=e=>{const n=e.tabs.activeTab,s=e.tabs.tabs.find(r=>r.id===n);if(!s||!n){const r=e.tabs.tabs.find(i=>i.id==="home");if(r)return r}return s||e.tabs.tabs[0]},LX=(e,n)=>e.tabs.tabStates[n]?.createAgentFormData,PX=(e,n)=>e.tabs.tabStates[n]?.createSubagentFormData,b9=(e,n)=>e.tabs.tabStates[n]?.deployState,OX=(e,n)=>e.tabs.tabStates[n]?.panelState||u1,BX=(e,n)=>{const s=e.tabs.tabStates[n]?.panelState;return s?Object.values(s).some(r=>r===!0):!1},UX=vL.reducer;function FL(){try{const e=sessionStorage.getItem("persist:tabs");if(!e)return;const n=JSON.parse(e),s=JSON.parse(n.tabs||"[]"),r=JSON.parse(n.tabStates||"{}"),i=new Set(s.map(l=>l.id));let a=0;const o={};return Object.keys(r).forEach(l=>{i.has(l)||l==="home"?o[l]=r[l]:a++}),n.tabStates=JSON.stringify(o),sessionStorage.setItem("persist:tabs",JSON.stringify(n)),a}catch{return 0}}const Eu="emergent_modal_states";function Su(){try{const e=localStorage.getItem(Eu);return e?JSON.parse(e):{}}catch{return{}}}function $n(e,n){try{const r={...Su(),[e]:n};localStorage.setItem(Eu,JSON.stringify(r))}catch{}}function xi(e,n=!1){return Su()[e]??n}function HX(){return xi("hasSeenUniversalKeyIntroModal",!1)}function VX(){return xi("hasSeenForkIntro",!1)}function $X(){$n("hasSeenForkIntro",!0)}function EL(){return xi("hasSeenMobileAgentIntro",!1)}function SL(){$n("hasSeenMobileAgentIntro",!0)}function zX(){return xi("hasSeenUniversalKeyIntroTooltip",!1)}function WX(){$n("hasSeenUniversalKeyIntroTooltip",!0)}const ch="emergent_invitation_states";function GX(e){try{const n=localStorage.getItem(ch);return(n?JSON.parse(n):{})[e]===!0}catch{return!1}}function kL(e){try{const n=localStorage.getItem(ch),s=n?JSON.parse(n):{};s[e]=!0,localStorage.setItem(ch,JSON.stringify(s))}catch{}}function hN(e){try{const n=localStorage.getItem(ch),s=n?JSON.parse(n):{};delete s[e],localStorage.setItem(ch,JSON.stringify(s))}catch{}}function qX(){return xi("hasSeenClaude45AnnouncementModal",!1)}function oLe(){$n("hasSeenClaude45AnnouncementModal",!0)}function xN(){return xi("hasSeenOpus46Nudge",!1)}function gN(){$n("hasSeenOpus46Nudge",!0)}function lLe(){$n("hasSeenTeamIntroductionModal",!0)}function cLe(){$n("hasSeenUltraThinkingModal",!0)}function bN(){$n("hasSeenStandardDiscountModal",!0)}function KX(){$n("hasSeenMCPIntroductionModal",!0)}function dLe(){$n("hasSeenBroModeIntroductionModal",!0)}function uLe(){$n("hasSeenTestModeModal",!0)}function IL(){return xi("hasSeenVisualEditsModalNew",!1)}function ug(){$n("hasSeenVisualEditsModalNew",!0)}function YX(){try{localStorage.removeItem(Eu)}catch{}}function ZX(){$n("hasSeenFeatureModal",!1)}function JX(){$n("hasSeenForkIntro",!1)}function XX(){$n("hasSeenMobileAgentIntro",!1)}function QX(){$n("hasSeenProIntroductionModal",!1)}function eQ(){$n("hasSeenUniversalKeyIntroTooltip",!1)}function tQ(){$n("hasSeenClaude45AnnouncementModal",!1)}function yp(){$n("hasSeenModelSelectorTooltip",!1)}function nQ(){$n("hasSeenTeamIntroductionModal",!1)}function sQ(){$n("hasSeenUltraThinkingModal",!1)}function rQ(){$n("hasSeenStandardDiscountModal",!1)}function iQ(){$n("hasSeenMCPIntroductionModal",!1)}function aQ(){$n("hasSeenBroModeIntroductionModal",!1)}function oQ(){$n("hasSeenTestModeModal",!1)}function lQ(){$n("hasSeenVisualEditsModalNew",!1)}function cQ(){$n("hasSeenLockinPriceModal",!1)}function dQ(){$n("hasSeenBuyCreditsAutoPopup",!1)}function uQ(){$n("hasAcceptedBetaProgram",!1)}function pLe(){$n("25milmodal",!0)}function V4(){return xi("pixmodal",!1)}function pQ(){$n("pixmodal",!0)}function fQ(){$n("25milmodal",!1)}function mQ(){return xi("hasAcceptedBetaProgram",!1)}function hQ(){$n("hasAcceptedBetaProgram",!0)}function xQ(e){try{return Su().promotionalModals?.[e]??!1}catch{return!1}}function fLe(e){try{const n=Su(),s={...n,promotionalModals:{...n.promotionalModals,[e]:!0}};localStorage.setItem(Eu,JSON.stringify(s)),q9(e)}catch{}}function gQ(e){try{const n=Su();if(n.promotionalModals&&n.promotionalModals[e]){const s={...n.promotionalModals};delete s[e];const r={...n,promotionalModals:s};localStorage.setItem(Eu,JSON.stringify(r))}}catch{}}function bQ(){$n("hasSeenFreeWeekendTurkeyModal",!1)}function yQ(){$n("hasSeenFreeWeekendCanadaModal",!1)}function vQ(){return xi("hasSeenOpusModal",!1)}function mLe(){$n("hasSeenOpusModal",!0)}function wQ(){$n("hasSeenOpusModal",!1)}function pg(){return xi("hasSeenOpus46Modal",!1)}function hLe(){$n("hasSeenOpus46Modal",!0)}function CQ(){$n("hasSeenOpus46Modal",!1)}function _Q(){return xi("hasSeenFreeCreditsModal",!1)}function jQ(){$n("hasSeenFreeCreditsModal",!0)}function NQ(){$n("hasSeenFreeCreditsModal",!1)}function FQ(){return xi("hasSeenValentineCreditsModalV2",!1)}function EQ(){$n("hasSeenValentineCreditsModalV2",!0)}function SQ(){$n("hasSeenValentineCreditsModalV2",!1)}function kQ(){return xi("hasSeenOneDollarModal",!1)}function IQ(){$n("hasSeenOneDollarModal",!0)}function TQ(){$n("hasSeenOneDollarModal",!1)}function AQ(){return xi("hasSeenGFFModal",!1)}function DQ(){$n("hasSeenGFFModal",!0)}function MQ(){return xi("hasSeenPagBrasilModal",!1)}function RQ(){$n("hasSeenPagBrasilModal",!0)}function LQ(){return xi("hasSeenGFFINModal",!1)}function PQ(){$n("hasSeenGFFINModal",!0)}function OQ(){$n("hasSeenGFFINModal",!1)}function TL(){return xi("hasSeenFreeStandardPlanModal",!1)}function yN(){$n("hasSeenFreeStandardPlanModal",!0)}function BQ(){$n("hasSeenFreeStandardPlanModal",!1)}function UQ(){$n("hasSeenChristmasGiftingModal",!1)}function HQ(){return xi("hasSeenWarmupMailGiftingModal",!1)}function VQ(){$n("hasSeenWarmupMailGiftingModal",!0)}function $Q(){$n("hasSeenWarmupMailGiftingModal",!1)}function fg(){return xi("hasSeenProjectsIntroductionModal",!1)}function ex(){$n("hasSeenProjectsIntroductionModal",!0)}function zQ(){$n("hasSeenProjectsIntroductionModal",!1)}function WQ(){try{const n={...Su(),projectsIntroVisitCount:0};localStorage.setItem(Eu,JSON.stringify(n))}catch{}}function Bp(){return xi("hasSeenProjectOnboardingTour",!1)}function $4(){$n("hasSeenProjectOnboardingTour",!0)}function GQ(){$n("hasSeenProjectOnboardingTour",!1)}function k1(){return xi("hasCreatedFirstProject",!1)}function AL(){$n("hasCreatedFirstProject",!0)}function qQ(){$n("hasCreatedFirstProject",!1)}const y9="emergent_pending_onboarding_tour";function v9(){try{localStorage.setItem(y9,"true")}catch{}}function KQ(){try{return localStorage.getItem(y9)==="true"}catch{return!1}}function vN(){try{localStorage.removeItem(y9)}catch{}}function w9(){try{const e=DL(),n=C9();localStorage.clear(),ML(e),_9(n)}catch{localStorage.clear()}}function Lv(){try{const e=DL(),n=C9();localStorage.clear(),sessionStorage.clear(),ML(e),_9(n)}catch{localStorage.clear(),sessionStorage.clear()}}typeof window<"u"&&(window.resetFeatureModal=ZX,window.resetForkIntro=JX,window.resetMobileAgentIntro=XX,window.resetProIntroductionModal=QX,window.resetUniversalKeyIntroTooltip=eQ,window.resetOneMillionModal=tQ,window.resetModelSelectorTooltip=yp,window.resetTeamIntroductionModal=nQ,window.resetUltraThinkingModal=sQ,window.resetStandardDiscountModal=rQ,window.resetMCPIntroductionModal=iQ,window.resetBroModeIntroductionModal=aQ,window.resetTestModeModal=oQ,window.resetLockinPriceModal=cQ,window.resetBuyCreditsAutoPopup=dQ,window.resetFundingIntroductionModal=fQ,window.resetVisualEditsModal=lQ,window.resetBetaProgram=uQ,window.resetPromotionalModal=gQ,window.resetFreeWeekendTurkeyModal=bQ,window.resetFreeWeekendCanadaModal=yQ,window.resetOpusModal=wQ,window.resetOpus46Modal=CQ,window.resetFreeCreditsModal=NQ,window.resetValentineCreditsModal=SQ,window.resetOneDollarModal=TQ,window.resetFreeStandardPlanModal=BQ,window.resetGFFINModal=OQ,window.resetChristmasGiftingModal=UQ,window.resetWarmupMailGiftingModal=$Q,window.resetProjectsIntroductionModal=zQ,window.resetProjectsIntroVisitCount=WQ,window.resetProjectOnboardingTour=GQ,window.resetFirstProjectCreated=qQ,window.resetAllModals=YX,window.clearStorageSafely=w9,window.clearAllStorageSafely=Lv,window.preserveTrackingData=C9,window.restoreTrackingData=_9);function DL(){try{return Su()}catch{return null}}function C9(){try{const e=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","campaign_id","utm_id","gclid","gad_source","gad_campaignid","gbraid","wbraid","fbclid","fbc","fbp","ttclid","li_fat_id","twclid","sc_click_id","epik","rdt_cid","msclkid","amznclickid","user_referrer","first_login_completed","pending_referral_code","referral_applied","referral_modal_data"],n={};return e.forEach(s=>{const r=localStorage.getItem(s);r!==null&&(n[s]=r)}),Object.keys(n).length>0?n:null}catch{return null}}function ML(e){if(e)try{localStorage.setItem(Eu,JSON.stringify(e))}catch{}}function _9(e){if(e)try{Object.entries(e).forEach(([n,s])=>{s!==void 0&&localStorage.setItem(n,s)})}catch{}}const YQ=()=>{};function Js(){return Math.floor(performance.now())}const ro=typeof window<"u"&&!!window.document,ZQ=typeof WorkerGlobalScope<"u"&&(typeof self<"u"&&self instanceof WorkerGlobalScope&&self.navigator instanceof WorkerNavigator||typeof globalThis<"u"&&globalThis instanceof WorkerGlobalScope&&globalThis.navigator instanceof WorkerNavigator),Vn=ro?window:typeof WorkerGlobalScope<"u"&&(typeof self<"u"&&self instanceof WorkerGlobalScope&&self||typeof globalThis<"u"&&globalThis instanceof WorkerGlobalScope&&globalThis),xLe=Vn?.document?.readyState==="complete",gLe=Vn?.document?.visibilityState==="hidden",bLe=""+Vn?.location,JQ=/iPad|iPhone|iPod/.test(Vn.navigator?.userAgent),yLe=JQ&&typeof SharedWorker>"u",XQ=(()=>{const e=Vn.navigator?.userAgent?.match(/Firefox[/\s](\d+\.\d+)/);return Array.isArray(e)&&e.length>=2?+e[1]:0})(),c2=Date.now()-Js(),QQ="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function Pv(e,n){return e?e[n]&15:Math.random()*16|0}function eee(){const e=Vn?.crypto||Vn?.msCrypto;let n,s=0;return e&&e.getRandomValues&&(n=e.getRandomValues(new Uint8Array(30))),QQ.split("").map(r=>r==="x"?Pv(n,s++).toString(16):r==="y"?(Pv()&3|8).toString(16):r).join("")}function j9(e){const n=Vn?.crypto||Vn?.msCrypto;let s,r=0;n&&n.getRandomValues&&(s=n.getRandomValues(new Uint8Array(e)));const i=[];for(var a=0;a<e;a++)i.push(Pv(s,r++).toString(16));return i.join("")}function tee(){return j9(16)}function nee(){return j9(32)}const see="newrelic";function mu(e={}){try{Vn.dispatchEvent(new CustomEvent(see,{detail:e}))}catch{}}function yr(e,n){typeof console.debug=="function"&&mu({agentIdentifier:null,drained:null,type:"data",name:"warn",feature:"warn",data:{code:e,secondary:n}})}const ac="api-",z4=ac+"ixn-",O5="addPageAction",RL="addToTrace",LL="addRelease",p1="finished",PL="interaction",OL="log",BL="noticeError",Ov="pauseReplay",Bv="recordCustomEvent",Uv="recordReplay",UL="register",Hv="setApplicationVersion",HL="setCurrentRouteName",Vv="setCustomAttribute",VL="setErrorHandler",$v="setPageViewName",zv="setUserId",$L="start",zL="wrapLogger",Wv="measure";var ei,_i;const s_=class s_{constructor(){bd(this,ei)}addPageAction(n,s){return Ir(this,ei,_i).call(this,O5,n,s)}register(n){return Ir(this,ei,_i).call(this,UL,n)}recordCustomEvent(n,s){return Ir(this,ei,_i).call(this,Bv,n,s)}setPageViewName(n,s){return Ir(this,ei,_i).call(this,$v,n,s)}setCustomAttribute(n,s,r){return Ir(this,ei,_i).call(this,Vv,n,s,r)}noticeError(n,s){return Ir(this,ei,_i).call(this,BL,n,s)}setUserId(n){return Ir(this,ei,_i).call(this,zv,n)}setApplicationVersion(n){return Ir(this,ei,_i).call(this,Hv,n)}setErrorHandler(n){return Ir(this,ei,_i).call(this,VL,n)}addRelease(n,s){return Ir(this,ei,_i).call(this,LL,n,s)}log(n,s){return Ir(this,ei,_i).call(this,OL,n,s)}start(){return Ir(this,ei,_i).call(this,$L)}finished(n){return Ir(this,ei,_i).call(this,p1,n)}recordReplay(){return Ir(this,ei,_i).call(this,Uv)}pauseReplay(){return Ir(this,ei,_i).call(this,Ov)}addToTrace(n){return Ir(this,ei,_i).call(this,RL,n)}setCurrentRouteName(n){return Ir(this,ei,_i).call(this,HL,n)}interaction(){return Ir(this,ei,_i).call(this,PL)}wrapLogger(n,s,r){return Ir(this,ei,_i).call(this,zL,n,s,r)}measure(n,s){return Ir(this,ei,_i).call(this,Wv,n,s)}};ei=new WeakSet,_i=function(n,...s){if(this[n]===s_.prototype[n])yr(35,n);else return this[n](...s)};let dh=s_;class WL extends dh{constructor(){super(...arguments);Vt(this,"agentIdentifier",j9(16))}}const tx="events",Gv="jserrors",wN="browser/blobs",ree="rum",iee="browser/logs",rn={ajax:"ajax",genericEvents:"generic_events",jserrors:Gv,logging:"logging",metrics:"metrics",pageAction:"page_action",pageViewEvent:"page_view_event",pageViewTiming:"page_view_timing",sessionReplay:"session_replay",sessionTrace:"session_trace",softNav:"soft_navigations",spa:"spa"},qv={[rn.pageViewEvent]:1,[rn.pageViewTiming]:2,[rn.metrics]:3,[rn.jserrors]:4,[rn.spa]:5,[rn.ajax]:6,[rn.sessionTrace]:7,[rn.softNav]:8,[rn.sessionReplay]:9,[rn.logging]:10,[rn.genericEvents]:11},vLe={[rn.pageViewEvent]:ree,[rn.pageViewTiming]:tx,[rn.ajax]:tx,[rn.spa]:tx,[rn.softNav]:tx,[rn.metrics]:Gv,[rn.jserrors]:Gv,[rn.sessionTrace]:wN,[rn.sessionReplay]:wN,[rn.logging]:iee,[rn.genericEvents]:"ins"},aee=Object.values(rn);function oee(e){const n={};return aee.forEach(s=>{n[s]=!!e[s]?.enabled}),n}const W4=new Map;function GL(...e){return e.every(n=>{if(W4.has(n))return W4.get(n);const s=typeof n=="function"&&n.toString().includes("[native code]");return s||yr(64,n?.name||n?.toString()),W4.set(n,s),s})}const d2={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net"};function oc(){return Vn.NREUM||(Vn.NREUM={}),typeof Vn.newrelic>"u"&&(Vn.newrelic=Vn.NREUM),Vn.NREUM}function lee(){let e=oc();const n=e.info||{};return e.info={beacon:d2.beacon,errorBeacon:d2.errorBeacon,...n},e}function cee(){let e=oc();const n=e.loader_config||{};return e.loader_config={...n},e}function dee(){let e=oc();const n=e.init||{};return e.init={...n},e}function Zc(){let e=oc();return e.o||(e.o={ST:Vn.setTimeout,SI:Vn.setImmediate||Vn.setInterval,CT:Vn.clearTimeout,XHR:Vn.XMLHttpRequest,REQ:Vn.Request,EV:Vn.Event,PR:Vn.Promise,MO:Vn.MutationObserver,FETCH:Vn.fetch,WS:Vn.WebSocket},GL(...Object.values(e.o))),e}function uee(e,n){let s=oc();s.initializedAgents??(s.initializedAgents={}),n.initializedAt={ms:Js(),date:new Date},s.initializedAgents[e]=n}function pee(e,n){let s=oc();s[e]=n}function qL(){return lee(),dee(),Zc(),cee(),oc()}function fee(e){const n=qL();Object.getOwnPropertyNames(dh.prototype).forEach(s=>{const r=dh.prototype[s];if(typeof r!="function"||r==="constructor")return;let i=n[s];!e[s]||e.exposed===!1||e.runtime?.loaderType==="micro-agent"||(n[s]=(...a)=>{const o=e[s](...a);return i?i(...a):o})})}function e0(e,n){try{if(!e||typeof e!="object")return yr(3);if(!n||typeof n!="object")return yr(4);const s=Object.create(Object.getPrototypeOf(n),Object.getOwnPropertyDescriptors(n)),r=Object.keys(s).length===0?e:s;for(let i in r)if(e[i]!==void 0)try{if(e[i]===null){s[i]=null;continue}Array.isArray(e[i])&&Array.isArray(n[i])?s[i]=Array.from(new Set([...e[i],...n[i]])):typeof e[i]=="object"&&typeof n[i]=="object"?s[i]=e0(e[i],n[i]):s[i]=e[i]}catch(a){s[i]||yr(1,a)}return s}catch(s){yr(2,s)}}const mee={beacon:d2.beacon,errorBeacon:d2.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0};function wLe(e){try{return!!e.licenseKey&&!!e.errorBeacon&&!!e.applicationID}catch{return!1}}const hee=e=>e0(e,mee),CN=rn.genericEvents,xee=["auxclick","click","copy","keydown","paste","scrollend"],gee=["focus","blur"],CLe=4,_Le=1e3,jLe=2e3,NLe=["PageAction","UserAction","BrowserPerformance"],G4={MARKS:"experimental.marks",MEASURES:"experimental.measures",RESOURCES:"experimental.resources"},_N=e=>{if(!e||typeof e!="string")return!1;try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0},bee="NRBA",yee="SESSION",vee=144e5,wee=18e5,Cee={STARTED:"session-started",PAUSE:"session-pause",RESET:"session-reset",RESUME:"session-resume",UPDATE:"session-update"},FLe={SAME_TAB:"same-tab",CROSS_TAB:"cross-tab"},Ec={OFF:0,FULL:1,ERROR:2},jN="[data-nr-mask]",_ee=()=>{const e={feature_flags:[],experimental:{marks:!1,measures:!1,resources:!1},mask_selector:"*",block_selector:"[data-nr-block]",mask_input_options:{color:!1,date:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:!1,search:!1,tel:!1,text:!1,time:!1,url:!1,week:!1,textarea:!1,select:!1,password:!0}};return{ajax:{deny_list:void 0,block_internal:!0,enabled:!0,autoStart:!0},api:{allow_registered_children:!0,duplicate_registered_data:!1},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},get feature_flags(){return e.feature_flags},set feature_flags(n){e.feature_flags=n},generic_events:{enabled:!0,autoStart:!0},harvest:{interval:30},jserrors:{enabled:!0,autoStart:!0},logging:{enabled:!0,autoStart:!0},metrics:{enabled:!0,autoStart:!0},obfuscate:void 0,page_action:{enabled:!0},page_view_event:{enabled:!0,autoStart:!0},page_view_timing:{enabled:!0,autoStart:!0},performance:{get capture_marks(){return e.feature_flags.includes(G4.MARKS)||e.experimental.marks},set capture_marks(n){e.experimental.marks=n},get capture_measures(){return e.feature_flags.includes(G4.MEASURES)||e.experimental.measures},set capture_measures(n){e.experimental.measures=n},capture_detail:!0,resources:{get enabled(){return e.feature_flags.includes(G4.RESOURCES)||e.experimental.resources},set enabled(n){e.experimental.resources=n},asset_types:[],first_party_domains:[],ignore_newrelic:!0}},privacy:{cookies_enabled:!0},proxy:{assets:void 0,beacon:void 0},session:{expiresMs:vee,inactiveMs:wee},session_replay:{autoStart:!0,enabled:!1,preload:!1,sampling_rate:10,error_sampling_rate:100,collect_fonts:!1,inline_images:!1,fix_stylesheets:!0,mask_all_inputs:!0,get mask_text_selector(){return e.mask_selector},set mask_text_selector(n){_N(n)?e.mask_selector="".concat(n,",").concat(jN):n===""||n===null?e.mask_selector=jN:yr(5,n)},get block_class(){return"nr-block"},get ignore_class(){return"nr-ignore"},get mask_text_class(){return"nr-mask"},get block_selector(){return e.block_selector},set block_selector(n){_N(n)?e.block_selector+=",".concat(n):n!==""&&yr(6,n)},get mask_input_options(){return e.mask_input_options},set mask_input_options(n){n&&typeof n=="object"?e.mask_input_options={...n,password:!0}:yr(7,n)}},session_trace:{enabled:!0,autoStart:!0},soft_navigations:{enabled:!0,autoStart:!0},spa:{enabled:!0,autoStart:!0},ssl:void 0,user_actions:{enabled:!0,elementAttributes:["id","className","tagName","type"]}}},jee=e=>e0(e,_ee()),Nee="1.299.0",Fee="NPM",Eee="NPM",ELe="^2.0.0-alpha.18";let See=0;const NN={buildEnv:Fee,distMethod:Eee,version:Nee,originTime:c2},kee={appMetadata:{},customTransaction:void 0,denyList:void 0,disabled:!1,entityManager:void 0,harvester:void 0,isolatedBacklog:!1,isRecording:!1,loaderType:void 0,maxBytes:3e4,obfuscator:void 0,onerror:void 0,ptid:void 0,releaseIds:{},session:void 0,timeKeeper:void 0,jsAttributesMetadata:{bytes:0},get harvestCount(){return++See}},Iee=e=>{const n=e0(e,kee),s=Object.keys(NN).reduce((r,i)=>(r[i]={value:NN[i],writable:!1,configurable:!0,enumerable:!0},r),{});return Object.defineProperties(n,s)},FN=new Set,qd={};function SLe(e,n){const s=n.agentIdentifier;qd[s]??(qd[s]={}),!(!e||typeof e!="object")&&(FN.has(s)||(n.ee.emit("rumresp",[e]),qd[s]=e,FN.add(s),mu({agentIdentifier:s,loaded:!0,drained:!0,type:"lifecycle",name:"load",feature:void 0,data:e})))}var Tee=Object.prototype.hasOwnProperty;function N9(e,n,s){if(Tee.call(e,n))return e[n];var r=s();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch{}return e[n]=r,r}class I1{constructor(n){this.contextId=n}}const KL=eee(),$c="nr@context:".concat(KL),Ai=YL(void 0,"globalEE"),Kv=oc();Kv.ee||(Kv.ee=Ai);function YL(e,n){var s={},r={},i={},a=!1;try{a=n.length!==16?!1:Kv.initializedAgents?.[n]?.runtime.isolatedBacklog}catch{}var o={on:p,addEventListener:p,removeEventListener:f,emit:u,get:h,listeners:m,context:c,buffer:x,abort:l,isBuffering:g,debugId:n,backlog:a?{}:e&&typeof e.backlog=="object"?e.backlog:{},isolatedBacklog:a};function l(){o._aborted=!0,Object.keys(o.backlog).forEach(b=>{delete o.backlog[b]})}return Object.defineProperty(o,"aborted",{get:()=>{let b=o._aborted||!1;return b||(e&&(b=e.aborted),b)}}),o;function c(b){return b&&b instanceof I1?b:b?N9(b,$c,()=>new I1($c)):new I1($c)}function u(b,y,w,_,N){if(N!==!1&&(N=!0),!(Ai.aborted&&!_)){e&&N&&e.emit(b,y,w);var j=c(w),C=m(b);C.forEach(F=>{F.apply(j,y)});var S=v()[r[b]];return S&&S.push([o,b,y,j]),j}}function p(b,y){s[b]=m(b).concat(y)}function f(b,y){var w=s[b];if(w)for(var _=0;_<w.length;_++)w[_]===y&&w.splice(_,1)}function m(b){return s[b]||[]}function h(b){return i[b]=i[b]||YL(o,b)}function x(b,y){const w=v();y=y||"feature",!o.aborted&&Object.entries(b||{}).forEach(([_,N])=>{r[N]=y,y in w||(w[y]=[])})}function g(b){var y=v()[r[b]];return!!y}function v(){return o.backlog}}const Aee={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},Dee=e=>e0(e,Aee),q4=new Set;function Mee(e,n={},s,r){let{init:i,info:a,loader_config:o,runtime:l={},exposed:c=!0}=n;if(!a){const f=qL();i=f.init,a=f.info,o=f.loader_config}e.init=jee(i||{}),e.loader_config=Dee(o||{}),a.jsAttributes??(a.jsAttributes={}),ZQ&&(a.jsAttributes.isWorker=!0),e.info=hee(a);const u=e.init,p=[a.beacon,a.errorBeacon];q4.has(e.agentIdentifier)||(u.proxy.assets&&(YQ(u.proxy.assets),p.push(u.proxy.assets)),u.proxy.beacon&&p.push(u.proxy.beacon),e.beacons=[...p],fee(e),pee("activatedFeatures",qd),e.runSoftNavOverSpa&&(e.runSoftNavOverSpa=u.soft_navigations.enabled===!0&&u.feature_flags.includes("soft_nav"))),l.denyList=[...u.ajax.deny_list||[],...u.ajax.block_internal?p:[]],l.ptid=e.agentIdentifier,l.loaderType=s,e.runtime=Iee(l),q4.has(e.agentIdentifier)||(e.ee=Ai.get(e.agentIdentifier),e.exposed=c,mu({agentIdentifier:e.agentIdentifier,drained:!!qd?.[e.agentIdentifier],type:"lifecycle",name:"initialize",feature:void 0,data:e.config})),q4.add(e.agentIdentifier)}function Ree(e){switch(e){case rn.ajax:return[rn.jserrors];case rn.sessionTrace:return[rn.ajax,rn.pageViewEvent];case rn.sessionReplay:return[rn.sessionTrace];case rn.pageViewTiming:return[rn.pageViewEvent];default:return[]}}var u2=Ai.get("handle");function Cs(e,n,s,r,i){i?(i.buffer([e],r),i.emit(e,n,s)):(u2.buffer([e],r),u2.emit(e,n,s))}function Ii(e,n){return{capture:e,passive:!1,signal:n}}function hu(e,n,s=!1,r){window.addEventListener(e,n,Ii(s,r))}function ZL(e,n,s=!1,r){document.addEventListener(e,n,Ii(s,r))}function F9(){return typeof document>"u"||document.readyState==="complete"}function JL(e,n){if(F9())return e();hu("load",e,n)}function Lee(e){if(F9())return e();ZL("DOMContentLoaded",e)}function Pee(e){if(F9())return e();hu("popstate",e)}const EN=rn.metrics,Oee="sm",kLe="cm",t0="storeSupportabilityMetrics",Bee="storeEventMetrics";function Fi(e,n,s,r){const i=r||s;!i||i[e]&&i[e]!==WL.prototype[e]||(i[e]=function(){Cs(t0,["API/"+e+"/called"],void 0,rn.metrics,s.ee),mu({agentIdentifier:s.agentIdentifier,drained:!!qd?.[s.agentIdentifier],type:"data",name:"api",feature:ac+e,data:{}});try{return n.apply(this,arguments)}catch(a){yr(23,a)}})}function E9(e,n,s,r,i){const a=e.info;s===null?delete a.jsAttributes[n]:a.jsAttributes[n]=s,(i||s===null)&&Cs(ac+r,[Js(),n,s],void 0,"session",e.ee)}function Uee(e){Fi($v,function(n,s){typeof n=="string"&&(n.charAt(0)!=="/"&&(n="/"+n),e.runtime.customTransaction=(s||"http://custom.transaction")+n,Cs(ac+$v,[Js()],void 0,void 0,e.ee))},e)}S9.on=XL;var Hee=S9.handlers={};function S9(e,n,s,r){XL(r||u2,Hee,e,n,s)}function XL(e,n,s,r,i){i||(i="feature"),e||(e=u2);var a=n[i]=n[i]||{},o=a[s]=a[s]||[];o.push([e,r])}const mo={};function SN(e,n){const s={staged:!1,priority:qv[n]||0};QL(e),mo[e].get(n)||mo[e].set(n,s)}function Vee(e,n){!e||!mo[e]||(mo[e].get(n)&&mo[e].delete(n),k9(e,n,!1),mo[e].size&&eP(e))}function QL(e){if(!e)throw new Error("agentIdentifier required");mo[e]||(mo[e]=new Map)}function kN(e="",n="feature",s=!1){if(QL(e),!e||!mo[e].get(n)||s)return k9(e,n);mo[e].get(n).staged=!0,eP(e)}function eP(e){const n=Array.from(mo[e]);n.every(([s,r])=>r.staged)&&(n.sort((s,r)=>s[1].priority-r[1].priority),n.forEach(([s])=>{mo[e].delete(s),k9(e,s)}))}function k9(e,n,s=!0){const r=e?Ai.get(e):Ai,i=S9.handlers;if(!(r.aborted||!r.backlog||!i)){if(mu({agentIdentifier:e,type:"lifecycle",name:"drain",feature:n}),s){const a=r.backlog[n],o=i[n];if(o){for(let l=0;a&&l<a.length;++l)$ee(a[l],o);Object.entries(o).forEach(([l,c])=>{Object.values(c||{}).forEach(u=>{u[0]?.on&&u[0]?.context()instanceof I1&&u[0].on(l,u[1])})})}}r.isolatedBacklog||delete i[n],r.backlog[n]=null,r.emit("drain-"+n,[])}}function $ee(e,n){var s=e[1];Object.values(n[s]||{}).forEach(r=>{var i=e[0],a=r[0];if(a===i){var o=r[1],l=e[3],c=e[2];o.apply(l,c)}})}class zee{constructor(n,s){this.agentIdentifier=n,this.ee=Ai.get(n),this.featureName=s,this.blocked=!1}deregisterDrain(){Vee(this.agentIdentifier,this.featureName)}}const I9=e=>ro&&e?.privacy.cookies_enabled===!0;function T9(e){return!!Zc().o.MO&&I9(e)&&e?.session_trace.enabled===!0}function IN(e){return e?.session_replay.preload===!0&&T9(e)}function ILe(e,n){try{if(typeof n?.type=="string"){if(n.type.toLowerCase()==="password")return"*".repeat(e?.length||0);if(n?.dataset?.nrUnmask!==void 0||n?.classList?.contains("nr-unmask"))return e}}catch{}return typeof e=="string"?e.replace(/[\S]/g,"*"):"*".repeat(e?.length||0)}function tP(e,n=500,s={}){const r=s?.leading||!1;let i;return(...a)=>{r&&i===void 0&&(e.apply(this,a),i=setTimeout(()=>{i=clearTimeout(i)},n)),r||(clearTimeout(i),i=setTimeout(()=>{e.apply(this,a)},n))}}function Wee(e){let n=!1;return(...s)=>{n||(n=!0,e.apply(this,s))}}const TLe=16e3,ALe=1e6,DLe="NR_CONTAINER_AGENT",Gee="SESSION_ERROR";var _5,nP;class Vo extends zee{constructor(s,r){super(s.agentIdentifier,r);bd(this,_5);this.agentRef=s,this.abortHandler=void 0,this.featAggregate=void 0,this.onAggregateImported=void 0,this.deferred=Promise.resolve(),s.init[this.featureName].autoStart===!1?this.deferred=new Promise((i,a)=>{this.ee.on("manual-start-all",Wee(()=>{SN(s.agentIdentifier,this.featureName),i()}))}):SN(s.agentIdentifier,r)}importAggregator(s,r,i={}){if(this.featAggregate)return;let a;this.onAggregateImported=new Promise(l=>{a=l});const o=async()=>{await this.deferred;let l;try{if(I9(s.init)){const{setupAgentSession:c}=await vn(async()=>{const{setupAgentSession:u}=await import("./chunks/agent-session.js-DIlIAoFt.js");return{setupAgentSession:u}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]));l=c(s)}}catch(c){yr(20,c),this.ee.emit("internal-error",[c]),Cs(Gee,[c],void 0,this.featureName,this.ee)}try{if(!Ir(this,_5,nP).call(this,this.featureName,l,s.init)){kN(this.agentIdentifier,this.featureName),a(!1);return}const{Aggregate:c}=await r();this.featAggregate=new c(s,i),s.runtime.harvester.initializedAggregates.push(this.featAggregate),a(!0)}catch(c){yr(34,c),this.abortHandler?.(),kN(this.agentIdentifier,this.featureName,!0),a(!1),this.ee&&this.ee.abort()}};ro?JL(()=>o(),!0):o()}}_5=new WeakSet,nP=function(s,r,i){if(this.blocked)return!1;switch(s){case rn.sessionReplay:return T9(i)&&!!r;case rn.sessionTrace:return!!r;default:return!0}};const TN=rn.pageViewEvent;var Yy;let sP=(Yy=class extends Vo{constructor(n){super(n,TN),this.setupInspectionEvents(n.agentIdentifier),Uee(n),this.ee.on("api-send-rum",(s,r)=>Cs("send-rum",[s,r],void 0,this.featureName,this.ee)),this.importAggregator(n,()=>vn(()=>import("./chunks/index.js-BC465f5m.js"),__vite__mapDeps([13,14,15,16,17,18,19,2,3,4,5,6,7,8,9,10,11,12])))}setupInspectionEvents(n){const s=(r,i)=>{r&&mu({agentIdentifier:n,timeStamp:r.timeStamp,loaded:r.target.readyState==="complete",type:"window",name:i,data:r.target.location+""})};Lee(r=>{s(r,"DOMContentLoaded")}),JL(r=>{s(r,"load")}),Pee(r=>{s(r,"navigate")}),this.ee.on(Cee.UPDATE,(r,i)=>{mu({agentIdentifier:n,type:"lifecycle",name:"session",data:i})})}},Vt(Yy,"featureName",TN),Yy);function qee(e){Fi(Vv,function(n,s,r=!1){if(typeof n!="string"){yr(39,typeof n);return}if(!(["string","number","boolean"].includes(typeof s)||s===null)){yr(40,typeof s);return}return E9(e,n,s,Vv,r)},e)}function Kee(e){Fi(zv,function(n){if(!(typeof n=="string"||n===null)){yr(41,typeof n);return}return E9(e,"enduser.id",n,zv,!0)},e)}function Yee(e){Fi(Hv,function(n){if(!(typeof n=="string"||n===null)){yr(42,typeof n);return}return E9(e,"application.version",n,Hv,!1)},e)}function Zee(e){Fi($L,function(){e.ee.emit("manual-start-all")},e)}class Jee extends WL{constructor(n){if(super(),!Vn){yr(21);return}this.features={},uee(this.agentIdentifier,this),this.desiredFeatures=new Set(n.features||[]),this.desiredFeatures.add(sP),this.runSoftNavOverSpa=[...this.desiredFeatures].some(s=>s.featureName===rn.softNav),Mee(this,n,n.loaderType||"agent"),qee(this),Kee(this),Yee(this),Zee(this),this.run()}get config(){return{info:this.info,init:this.init,loader_config:this.loader_config,runtime:this.runtime}}get api(){return this}run(){try{const n=oee(this.init),s=[...this.desiredFeatures];s.sort((r,i)=>qv[r.featureName]-qv[i.featureName]),s.forEach(r=>{if(!n[r.featureName]&&r.featureName!==rn.pageViewEvent||this.runSoftNavOverSpa&&r.featureName===rn.spa||!this.runSoftNavOverSpa&&r.featureName===rn.softNav)return;const a=Ree(r.featureName).filter(o=>!(o in this.features));a.length>0&&yr(36,{targetFeature:r.featureName,missingDependencies:a}),this.features[r.featureName]=new r(this)})}catch(n){yr(22,n);for(const i in this.features)this.features[i].abortHandler?.();const s=oc();return delete s.initializedAgents[this.agentIdentifier]?.features,delete this.sharedAggregator,s.ee.get(this.agentIdentifier).abort(),!1}}}function Xee(e,n=!1,s,r){ZL("visibilitychange",i,s,r);function i(){if(n){document.visibilityState==="hidden"&&e();return}e(document.visibilityState)}}const nx=rn.pageViewTiming;var Zy;let Qee=(Zy=class extends Vo{constructor(n){super(n,nx),ro&&(Xee(()=>Cs("docHidden",[Js()],void 0,nx,this.ee),!0),hu("pagehide",()=>Cs("winPagehide",[Js()],void 0,nx,this.ee)),this.importAggregator(n,()=>vn(()=>import("./chunks/index.js-D6NuCA2F.js"),__vite__mapDeps([20,21,15,16,17,18,22,2,3,4,5,6,7,8,9,10,11,12]))))}},Vt(Zy,"featureName",nx),Zy);var Jy;let ete=(Jy=class extends Vo{constructor(n){super(n,EN),ro&&document.addEventListener("securitypolicyviolation",s=>{Cs(t0,["Generic/CSPViolation/Detected"],void 0,this.featureName,this.ee)}),this.importAggregator(n,()=>vn(()=>import("./chunks/index.js-y2-ETJU-.js"),__vite__mapDeps([23,15,16,24,2,3,4,5,6,7,8,9,10,11,12])))}},Vt(Jy,"featureName",EN),Jy);const AN=rn.jserrors,tte=()=>{const e=new WeakSet;return(n,s)=>{if(typeof s=="object"&&s!==null){if(e.has(s))return;e.add(s)}return s}};function A9(e){try{return JSON.stringify(e,tte())??""}catch(n){try{Ai.emit("internal-error",[n])}catch{}return""}}class rP{constructor(n,s,r,i,a){this.name="UncaughtError",this.message=typeof n=="string"?n:A9(n),this.sourceURL=s,this.line=r,this.column=i,this.__newrelic=a}}function p2(e){return D9(e)?e:new rP(e?.message!==void 0?e.message:e,e?.filename||e?.sourceURL,e?.lineno||e?.line,e?.colno||e?.col,e?.__newrelic,e?.cause)}function nte(e){const n="Unhandled Promise Rejection: ";if(!e?.reason)return;if(D9(e.reason)){try{e.reason.message.startsWith(n)||(e.reason.message=n+e.reason.message)}catch{}return p2(e.reason)}const s=p2(e.reason);return(s.message||"").startsWith(n)||(s.message=n+s.message),s}function ste(e){if(e.error instanceof SyntaxError&&!/:\d+$/.test(e.error.stack?.trim())){const n=new rP(e.message,e.filename,e.lineno,e.colno,e.error.__newrelic,e.cause);return n.name=SyntaxError.name,n}return D9(e.error)?e.error:p2(e)}function D9(e){return e instanceof Error&&!!e.stack}function rte(e){Fi(BL,(n,s)=>iP(n,s,e),e)}function iP(e,n,s,r,i=Js()){typeof e=="string"&&(e=new Error(e)),Cs("err",[e,i,!1,n,s.runtime.isRecording,void 0,r],void 0,rn.jserrors,s.ee),Cs("uaErr",[],void 0,rn.genericEvents,s.ee)}function ite(e){Fi(VL,function(n){e.runtime.onerror=n},e)}function ate(e){let n=0;Fi(LL,function(s,r){++n>10||(this.runtime.releaseIds[s.slice(-200)]=(""+r).slice(-200))},e)}function ote(e){return e?!!(e.licenseKey&&e.applicationID):!0}function lte(e,n){return e?e.licenseKey===n.info.licenseKey&&e.applicationID===n.info.applicationID:!0}const B5={ERROR:"ERROR",WARN:"WARN",INFO:"INFO",DEBUG:"DEBUG",TRACE:"TRACE"},PLe={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},cte="log",DN=rn.logging;function aP(e,n,s={},r=B5.INFO,i,a=Js()){Cs(t0,["API/logging/".concat(r.toLowerCase(),"/called")],void 0,rn.metrics,e),Cs(cte,[a,n,s,r,i],void 0,rn.logging,e)}function OLe(e){return typeof e!="string"?!1:Object.values(B5).some(n=>n===e.toUpperCase().trim())}function dte(e){Fi(OL,(n,s)=>oP(n,s,e),e)}function oP(e,{customAttributes:n={},level:s=B5.INFO}={},r,i,a=Js()){aP(r.ee,e,n,s,i,a)}function ute(e){Fi(O5,(n,s)=>lP(n,s,e),e)}function lP(e,n,s,r,i=Js()){Cs(ac+O5,[i,e,n,r],void 0,rn.genericEvents,s.ee)}function M9(e){Fi(UL,function(n){return pte(e,n)},e)}function pte(e,n){const s={};yr(54,"newrelic.register");let r,i;e.init.api.allow_registered_children||(r=()=>yr(55)),(!n||!ote(n))&&(r=()=>yr(48,n));const a={addPageAction:(l,c={})=>{o(lP,[l,{...s,...c},e],n)},log:(l,c={})=>{o(oP,[l,{...c,customAttributes:{...s,...c.customAttributes||{}}},e],n)},noticeError:(l,c={})=>{o(iP,[l,{...s,...c},e],n)},setApplicationVersion:l=>{s["application.version"]=l},setCustomAttribute:(l,c)=>{s[l]=c},setUserId:l=>{s["enduser.id"]=l},metadata:{customAttributes:s,target:n,get connected(){return i||Promise.reject(new Error("Failed to connect"))}}};r?r():i=new Promise((l,c)=>{try{const u=e.runtime?.entityManager;let p=!!u?.get().entityGuid,f=u?.getEntityGuidFor(n.licenseKey,n.applicationID),m=!!f;if(p&&m)n.entityGuid=f,l(a);else{let x=function(g){lte(g,e)?p||(p=!0):n.licenseKey===g.licenseKey&&n.applicationID===g.applicationID&&(m=!0,n.entityGuid=g.entityGuid),p&&m&&(clearTimeout(h),e.ee.removeEventListener("entity-added",x),l(a))};const h=setTimeout(()=>c(new Error("Failed to connect - Timeout")),15e3);e.ee.emit("api-send-rum",[s,n]),e.ee.on("entity-added",x)}}catch(u){c(u)}});const o=async(l,c,u)=>{if(r)return r();const p=Js();Cs(t0,["API/register/".concat(l.name,"/called")],void 0,rn.metrics,e.ee);try{await i;const f=e.init.api.duplicate_registered_data;(f===!0||Array.isArray(f)&&f.includes(u.entityGuid))&&l(...c,void 0,p),l(...c,u.entityGuid,p)}catch(f){yr(50,f)}};return a}var Xy,j5,cP;let fte=(Xy=class extends Vo{constructor(s){super(s,AN);bd(this,j5);rte(s),ite(s),ate(s),M9(s);try{this.removeOnAbort=new AbortController}catch{}this.ee.on("internal-error",(r,i)=>{this.abortHandler&&Cs("ierr",[p2(r),Js(),!0,{},s.runtime.isRecording,i],void 0,this.featureName,this.ee)}),Vn.addEventListener("unhandledrejection",r=>{this.abortHandler&&Cs("err",[nte(r),Js(),!1,{unhandledPromiseRejection:1},s.runtime.isRecording],void 0,this.featureName,this.ee)},Ii(!1,this.removeOnAbort?.signal)),Vn.addEventListener("error",r=>{this.abortHandler&&Cs("err",[ste(r),Js(),!1,{},s.runtime.isRecording],void 0,this.featureName,this.ee)},Ii(!1,this.removeOnAbort?.signal)),this.abortHandler=Ir(this,j5,cP),this.importAggregator(s,()=>vn(()=>import("./chunks/index.js-Dq-pKeSn.js"),__vite__mapDeps([25,15,16,19,2,3,4,5,6,7,8,9,10,11,12])))}},j5=new WeakSet,cP=function(){this.removeOnAbort?.abort(),this.abortHandler=void 0},Vt(Xy,"featureName",AN),Xy),mte=1;const hte="nr@id";function MN(e){const n=typeof e;return!e||!(n==="object"||n==="function")?-1:e===Vn?0:N9(e,hte,function(){return mte++})}function f2(e){if(typeof e=="string"&&e.length)return e.length;if(typeof e=="object"){if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if(typeof Blob<"u"&&e instanceof Blob&&e.size)return e.size;if(!(typeof FormData<"u"&&e instanceof FormData))try{return A9(e).length}catch{return}}}const uh="nr@original:".concat(KL),xte=50;var gte=Object.prototype.hasOwnProperty,sx=!1;function rd(e,n){return e||(e=Ai),s.inPlace=r,s.flag=uh,s;function s(a,o,l,c,u){if(RN(a))return a;return o||(o=""),p[uh]=a,bte(a,p,e),p;function p(){var f,m,h,x;let g;try{m=this,f=[...arguments],typeof l=="function"?h=l(f,m):h=l||{}}catch(y){Yv([y,"",[f,m,c],h],e)}i(o+"start",[f,m,c],h,u);const v=performance.now();let b;try{return x=a.apply(m,f),b=performance.now(),x}catch(y){throw b=performance.now(),i(o+"err",[f,m,y],h,u),g=y,g}finally{const y=b-v,w={start:v,end:b,duration:y,isLongTask:y>=xte,methodName:c,thrownError:g};w.isLongTask&&i("long-task",[w,m],h,u),i(o+"end",[f,m,x],h,u)}}}function r(a,o,l,c,u){l||(l="");const p=l.charAt(0)==="-";for(let f=0;f<o.length;f++){const m=o[f],h=a[m];RN(h)||(a[m]=s(h,p?m+l:l,c,m,u))}}function i(a,o,l,c){if(!(sx&&!n)){var u=sx;sx=!0;try{e.emit(a,o,l,n,c)}catch(p){Yv([p,a,o,l],e)}sx=u}}}function Yv(e,n){n||(n=Ai);try{n.emit("internal-error",e)}catch{}}function bte(e,n,s){if(Object.defineProperty&&Object.keys)try{var r=Object.keys(e);return r.forEach(function(a){Object.defineProperty(n,a,{get:function(){return e[a]},set:function(o){return e[a]=o,o}})}),n}catch(a){Yv([a],s)}for(var i in e)gte.call(e,i)&&(n[i]=e[i]);return n}function RN(e){return!(e&&typeof e=="function"&&e.apply&&!e[uh])}const LN={},PN=Vn.XMLHttpRequest,Zv="addEventListener",ON="removeEventListener",yte="nr@wrapped:".concat($c);function dP(e){var n=vte(e);if(LN[n.debugId]++)return n;LN[n.debugId]=1;var s=rd(n,!0);"getPrototypeOf"in Object&&(ro&&K4(document,r),PN&&K4(PN.prototype,r),K4(Vn,r)),n.on(Zv+"-start",function(a,o){var l=a[1];if(!(l===null||typeof l!="function"&&typeof l!="object"||a[0]==="newrelic")){var c=N9(l,yte,function(){var u={object:p,function:l}[typeof l];return u?s(u,"fn-",null,u.name||"anonymous"):l;function p(){if(typeof l.handleEvent=="function")return l.handleEvent.apply(l,arguments)}});this.wrapped=a[1]=c}}),n.on(ON+"-start",function(a){a[1]=this.wrapped||a[1]});function r(a){s.inPlace(a,[Zv,ON],"-",i)}function i(a,o){return a[1]}return n}function K4(e,n,...s){let r=e;for(;typeof r=="object"&&!Object.prototype.hasOwnProperty.call(r,Zv);)r=Object.getPrototypeOf(r);r&&n(r,...s)}function vte(e){return(e||Ai).get("events")}const BN={},wte=["open","send"];function R9(e){var n=e||Ai;const s=Cte(n);if(typeof Vn.XMLHttpRequest>"u"||BN[s.debugId]++)return s;BN[s.debugId]=1,dP(n);var r=rd(s),i=Vn.XMLHttpRequest,a=Vn.MutationObserver,o=Vn.Promise,l=Vn.setInterval,c="readystatechange",u=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],p=[],f=Vn.XMLHttpRequest=m;function m(j){const C=new i(j),S=s.context(C);try{s.emit("new-xhr",[C],S),C.addEventListener(c,x(S),Ii(!1))}catch(F){yr(15,F);try{s.emit("internal-error",[F])}catch{}}return C}N(i,f),f.prototype=i.prototype,r.inPlace(f.prototype,wte,"-xhr-",_),s.on("send-xhr-start",function(j,C){h(j,C),y(C)}),s.on("open-xhr-start",h);function h(j,C){r.inPlace(C,["onreadystatechange"],"fn-",_)}function x(j){return function(){var C=this;C.readyState>3&&!j.resolved&&(j.resolved=!0,s.emit("xhr-resolved",[],C)),r.inPlace(C,u,"fn-",_)}}if(a){var g=o&&o.resolve();if(!l&&!o){var v=1,b=document.createTextNode(v);new a(w).observe(b,{characterData:!0})}}else n.on("fn-end",function(j){j[0]&&j[0].type===c||w()});function y(j){p.push(j),a&&(g?g.then(w):l?l(w):(v=-v,b.data=v))}function w(){for(var j=0;j<p.length;j++)h([],p[j]);p.length&&(p=[])}function _(j,C){return C}function N(j,C){for(var S in j)C[S]=j[S];return C}return s}function Cte(e){return(e||Ai).get("xhr")}var f1="fetch-",UN=f1+"body-",_te=["arrayBuffer","blob","json","text","formData"],HN=Vn.Request,VN=Vn.Response,$N="prototype";const zN={};function L9(e){const n=jte(e);if(!(HN&&VN&&Vn.fetch)||zN[n.debugId]++)return n;zN[n.debugId]=1,_te.forEach(r=>{s(HN[$N],r,UN),s(VN[$N],r,UN)}),s(Vn,"fetch",f1),n.on(f1+"end",function(r,i){var a=this;if(i){var o=i.headers.get("content-length");o!==null&&(a.rxSize=o),n.emit(f1+"done",[null,i],a)}else n.emit(f1+"done",[r],a)});function s(r,i,a){var o=r[i];typeof o=="function"&&(r[i]=function(){var l=[...arguments],c={};n.emit(a+"before-start",[l],c);var u;c[$c]&&c[$c].dt&&(u=c[$c].dt);var p=o.apply(this,l);return n.emit(a+"start",[l,u],p),p.then(function(f){return n.emit(a+"end",[null,f],p),f},function(f){throw n.emit(a+"end",[f],p),f})})}return n}function jte(e){return(e||Ai).get("fetch")}function U5(e){if((e||"").indexOf("data:")===0)return{protocol:"data"};try{const n=new URL(e,location.href),s={port:n.port,hostname:n.hostname,pathname:n.pathname,search:n.search,protocol:n.protocol.slice(0,n.protocol.indexOf(":")),sameOrigin:n.protocol===Vn?.location?.protocol&&n.host===Vn?.location?.host};return(!s.port||s.port==="")&&(n.protocol==="http:"&&(s.port="80"),n.protocol==="https:"&&(s.port="443")),!s.pathname||s.pathname===""?s.pathname="/":s.pathname.startsWith("/")||(s.pathname="/".concat(s.pathname)),s}catch{return{}}}class Nte{constructor(n){this.agentRef=n}generateTracePayload(n){const s=this.agentRef.loader_config;if(!this.shouldGenerateTrace(n)||!s)return null;var r=(s.accountID||"").toString()||null,i=(s.agentID||"").toString()||null,a=(s.trustKey||"").toString()||null;if(!r||!i)return null;var o=tee(),l=nee(),c=Date.now(),u={spanId:o,traceId:l,timestamp:c};return(n.sameOrigin||this.isAllowedOrigin(n)&&this.useTraceContextHeadersForCors())&&(u.traceContextParentHeader=this.generateTraceContextParentHeader(o,l),u.traceContextStateHeader=this.generateTraceContextStateHeader(o,c,r,i,a)),(n.sameOrigin&&!this.excludeNewrelicHeader()||!n.sameOrigin&&this.isAllowedOrigin(n)&&this.useNewrelicHeaderForCors())&&(u.newrelicHeader=this.generateTraceHeader(o,l,c,r,i,a)),u}generateTraceContextParentHeader(n,s){return"00-"+s+"-"+n+"-01"}generateTraceContextStateHeader(n,s,r,i,a){var o=0,l="",c=1,u="",p="";return a+"@nr="+o+"-"+c+"-"+r+"-"+i+"-"+n+"-"+l+"-"+u+"-"+p+"-"+s}generateTraceHeader(n,s,r,i,a,o){var l=typeof Vn?.btoa=="function";if(!l)return null;var c={v:[0,1],d:{ty:"Browser",ac:i,ap:a,id:n,tr:s,ti:r}};return o&&i!==o&&(c.d.tk=o),btoa(A9(c))}shouldGenerateTrace(n){return this.agentRef.init?.distributed_tracing?.enabled&&this.isAllowedOrigin(n)}isAllowedOrigin(n){var s=!1;const r=this.agentRef.init?.distributed_tracing;if(n.sameOrigin)s=!0;else if(r?.allowed_origins instanceof Array)for(var i=0;i<r.allowed_origins.length;i++){var a=U5(r.allowed_origins[i]);if(n.hostname===a.hostname&&n.protocol===a.protocol&&n.port===a.port){s=!0;break}}return s}excludeNewrelicHeader(){var n=this.agentRef.init?.distributed_tracing;return n?!!n.exclude_newrelic_header:!1}useNewrelicHeaderForCors(){var n=this.agentRef.init?.distributed_tracing;return n?n.cors_use_newrelic_header!==!1:!1}useTraceContextHeadersForCors(){var n=this.agentRef.init?.distributed_tracing;return n?!!n.cors_use_tracecontext_headers:!1}}function Fte(e,n){var s=e.responseType;return s==="json"&&n!==null?n:s==="arraybuffer"||s==="blob"||s==="json"?f2(e.response):s==="text"||s===""||s===void 0?f2(e.responseText):void 0}const WN=rn.ajax;var T1=[];function ULe(e){if(!e||Jv(e))return!1;if(T1.length===0)return!0;for(var n=0;n<T1.length;n++){var s=T1[n];if(s.hostname==="*"||Ete(s.hostname,e.hostname)&&Ste(s.pathname,e.pathname))return!1}return!0}function Jv(e){return e.hostname===void 0}function HLe(e){if(T1=[],!(!e||!e.length))for(var n=0;n<e.length;n++){let s=e[n];if(!s)continue;s.indexOf("http://")===0?s=s.substring(7):s.indexOf("https://")===0&&(s=s.substring(8));const r=s.indexOf("/");let i,a;r>0?(i=s.substring(0,r),a=s.substring(r)):(i=s,a="");let[o]=i.split(":");T1.push({hostname:o,pathname:a})}}function Ete(e,n){return e.length>n.length?!1:n.indexOf(e)===n.length-e.length}function Ste(e,n){return e.indexOf("/")===0&&(e=e.substring(1)),n.indexOf("/")===0&&(n=n.substring(1)),e===""?!0:e===n}function uP(e){if(typeof e=="string")return e;if(e instanceof Zc().o.REQ)return e.url;if(Vn?.URL&&e instanceof URL)return e.href}var Xv=["load","error","abort","timeout"],GN=Xv.length,kte=Zc().o.REQ,Y4=Zc().o.XHR;const qN="X-NewRelic-App-Data";var Qy;let Ite=(Qy=class extends Vo{constructor(n){super(n,WN),this.dt=new Nte(n),this.handler=(s,r,i,a)=>Cs(s,r,i,a,this.ee);try{const s={xmlhttprequest:"xhr",fetch:"fetch",beacon:"beacon"};Vn?.performance?.getEntriesByType("resource").forEach(r=>{if(r.initiatorType in s&&r.responseStatus!==0){const i={status:r.responseStatus},a={rxSize:r.transferSize,duration:Math.floor(r.duration),cbTime:0};Qv(i,r.name),this.handler("xhr",[i,a,r.startTime,r.responseEnd,s[r.initiatorType]],void 0,rn.ajax)}})}catch{}L9(this.ee),R9(this.ee),Tte(n,this.ee,this.handler,this.dt),this.importAggregator(n,()=>vn(()=>import("./chunks/index.js-tlNw6X2E.js"),__vite__mapDeps([26,15,16,27,21,2,3,4,5,6,7,8,9,10,11,12])))}},Vt(Qy,"featureName",WN),Qy);function Tte(e,n,s,r){n.on("new-xhr",i),n.on("open-xhr-start",a),n.on("open-xhr-end",o),n.on("send-xhr-start",l),n.on("xhr-cb-time",c),n.on("xhr-load-added",u),n.on("xhr-load-removed",p),n.on("xhr-resolved",f),n.on("addEventListener-end",m),n.on("removeEventListener-end",h),n.on("fn-end",g),n.on("fetch-before-start",v),n.on("fetch-start",b),n.on("fn-start",x),n.on("fetch-done",y);function i(N){var j=this;j.totalCbs=0,j.called=0,j.cbTime=0,j.end=w,j.ended=!1,j.xhrGuids={},j.lastSize=null,j.loadCaptureCalled=!1,j.params=this.params||{},j.metrics=this.metrics||{},j.latestLongtaskEnd=0,N.addEventListener("load",function(C){_(j,N)},Ii(!1)),!XQ&&N.addEventListener("progress",function(C){j.lastSize=C.loaded},Ii(!1))}function a(N){this.params={method:N[0]},Qv(this,N[1]),this.metrics={}}function o(N,j){e.loader_config.xpid&&this.sameOrigin&&j.setRequestHeader("X-NewRelic-ID",e.loader_config.xpid);var C=r.generateTracePayload(this.parsedOrigin);if(C){var S=!1;C.newrelicHeader&&(j.setRequestHeader("newrelic",C.newrelicHeader),S=!0),C.traceContextParentHeader&&(j.setRequestHeader("traceparent",C.traceContextParentHeader),C.traceContextStateHeader&&j.setRequestHeader("tracestate",C.traceContextStateHeader),S=!0),S&&(this.dt=C)}}function l(N,j){var C=this.metrics,S=N[0],F=this;if(C&&S){var E=f2(S);E&&(C.txSize=E)}this.startTime=Js(),this.body=S,this.listener=function(T){try{T.type==="abort"&&!F.loadCaptureCalled&&(F.params.aborted=!0),(T.type!=="load"||F.called===F.totalCbs&&(F.onloadCalled||typeof j.onload!="function")&&typeof F.end=="function")&&F.end(j)}catch(A){try{n.emit("internal-error",[A])}catch{}}};for(var I=0;I<GN;I++)j.addEventListener(Xv[I],this.listener,Ii(!1))}function c(N,j,C){this.cbTime+=N,j?this.onloadCalled=!0:this.called+=1,this.called===this.totalCbs&&(this.onloadCalled||typeof C.onload!="function")&&typeof this.end=="function"&&this.end(C)}function u(N,j){var C=""+MN(N)+!!j;!this.xhrGuids||this.xhrGuids[C]||(this.xhrGuids[C]=!0,this.totalCbs+=1)}function p(N,j){var C=""+MN(N)+!!j;!this.xhrGuids||!this.xhrGuids[C]||(delete this.xhrGuids[C],this.totalCbs-=1)}function f(){this.endTime=Js()}function m(N,j){j instanceof Y4&&N[0]==="load"&&n.emit("xhr-load-added",[N[1],N[2]],j)}function h(N,j){j instanceof Y4&&N[0]==="load"&&n.emit("xhr-load-removed",[N[1],N[2]],j)}function x(N,j,C){j instanceof Y4&&(C==="onload"&&(this.onload=!0),((N[0]&&N[0].type)==="load"||this.onload)&&(this.xhrCbStart=Js()))}function g(N,j){this.xhrCbStart&&n.emit("xhr-cb-time",[Js()-this.xhrCbStart,this.onload,j],j)}function v(N){var j=N[1]||{},C;if(typeof N[0]=="string"?(C=N[0],C.length===0&&ro&&(C=""+Vn.location.href)):N[0]&&N[0].url?C=N[0].url:Vn?.URL&&N[0]&&N[0]instanceof URL?C=N[0].href:typeof N[0].toString=="function"&&(C=N[0].toString()),typeof C!="string"||C.length===0)return;C&&(this.parsedOrigin=U5(C),this.sameOrigin=this.parsedOrigin.sameOrigin);var S=r.generateTracePayload(this.parsedOrigin);if(!S||!S.newrelicHeader&&!S.traceContextParentHeader)return;if(N[0]&&N[0].headers)I(N[0].headers,S)&&(this.dt=S);else{var F={};for(var E in j)F[E]=j[E];F.headers=new Headers(j.headers||{}),I(F.headers,S)&&(this.dt=S),N.length>1?N[1]=F:N.push(F)}function I(T,A){var D=!1;return A.newrelicHeader&&(T.set("newrelic",A.newrelicHeader),D=!0),A.traceContextParentHeader&&(T.set("traceparent",A.traceContextParentHeader),A.traceContextStateHeader&&T.set("tracestate",A.traceContextStateHeader),D=!0),D}}function b(N,j){this.params={},this.metrics={},this.startTime=Js(),this.dt=j,N.length>=1&&(this.target=N[0]),N.length>=2&&(this.opts=N[1]);var C=this.opts||{},S=this.target;Qv(this,uP(S));var F=(""+(S&&S instanceof kte&&S.method||C.method||"GET")).toUpperCase();this.params.method=F,this.body=C.body,this.txSize=f2(C.body)||0}function y(N,j){if(this.endTime=Js(),this.params||(this.params={}),Jv(this.params))return;this.params.status=j?j.status:0;let C;typeof this.rxSize=="string"&&this.rxSize.length>0&&(C=+this.rxSize);const S={txSize:this.txSize,rxSize:C,duration:Js()-this.startTime};s("xhr",[this.params,S,this.startTime,this.endTime,"fetch"],this,rn.ajax)}function w(N){const j=this.params,C=this.metrics;if(!this.ended){this.ended=!0;for(let S=0;S<GN;S++)N.removeEventListener(Xv[S],this.listener,!1);j.aborted||Jv(j)||(C.duration=Js()-this.startTime,!this.loadCaptureCalled&&N.readyState===4?_(this,N):j.status==null&&(j.status=0),C.cbTime=this.cbTime,s("xhr",[j,C,this.startTime,this.endTime,"xhr"],this,rn.ajax))}}function _(N,j){N.params.status=j.status;var C=Fte(j,N.lastSize);if(C&&(N.metrics.rxSize=C),N.sameOrigin&&j.getAllResponseHeaders().indexOf(qN)>=0){var S=j.getResponseHeader(qN);S&&(Cs(Oee,["Ajax/CrossApplicationTracing/Header/Seen"],void 0,rn.metrics,n),N.params.cat=S.split(", ").pop())}N.loadCaptureCalled=!0}}function Qv(e,n){var s=U5(n),r=e.params||e;r.hostname=s.hostname,r.port=s.port,r.protocol=s.protocol,r.host=s.hostname+":"+s.port,r.pathname=s.pathname,e.parsedOrigin=s,e.sameOrigin=s.sameOrigin}const KN={},Ate=["pushState","replaceState"];function H5(e){const n=Dte(e);if(!ro||KN[n.debugId]++)return n;KN[n.debugId]=1;var s=rd(n);return s.inPlace(window.history,Ate,"-"),n}function Dte(e){return(e||Ai).get("history")}const Mte=rn.sessionTrace,Rte="bstResource",Lte="resource",pP="-start",fP="-end",Pte="fn"+pP,Ote="fn"+fP,Bte="pushState",Ute=1e3,Hte=30*1e3,Vte=Object.freeze(Object.defineProperty({__proto__:null,BST_RESOURCE:Rte,END:fP,ERROR_MODE_SECONDS_WINDOW:Hte,FEATURE_NAME:Mte,FN_END:Ote,FN_START:Pte,MAX_NODES_PER_HARVEST:Ute,PUSH_STATE:Bte,RESOURCE:Lte,START:pP},Symbol.toStringTag,{value:"Module"}));function $te(e){Fi(RL,function(n){if(!(n&&typeof n=="object"&&n.name&&n.start))return;const s={n:n.name,s:n.start-c2,e:(n.end||n.start)-c2,o:n.origin||"",t:"api"};if(s.s<0||s.e<0||s.e<s.s){yr(61,{start:s.s,end:s.e});return}Cs("bstApi",[s],void 0,rn.sessionTrace,e.ee)},e)}function mP(e){Fi(p1,function(n=Date.now()){const s=n-c2;s<0&&yr(62,n),Cs(Bee,[p1,{time:s}],void 0,rn.metrics,e.ee),e.addToTrace({name:p1,start:n,origin:"nr"}),Cs(ac+O5,[s,p1],void 0,rn.genericEvents,e.ee)},e)}const{BST_RESOURCE:zte,RESOURCE:Wte,START:Gte,END:qte,FEATURE_NAME:YN,FN_END:Kte,FN_START:Yte,PUSH_STATE:ZN}=Vte;var ev;let Zte=(ev=class extends Vo{constructor(n){if(super(n,YN),$te(n),mP(n),!I9(n.init)){this.deregisterDrain();return}const r=this.ee;H5(r),this.eventsEE=dP(r),this.eventsEE.on(Yte,function(a,o){this.bstStart=Js()}),this.eventsEE.on(Kte,function(a,o){Cs("bst",[a[0],o,this.bstStart,Js()],void 0,rn.sessionTrace,r)}),r.on(ZN+Gte,function(a){this.time=Js(),this.startPath=location.pathname+location.hash}),r.on(ZN+qte,function(a){Cs("bstHist",[location.pathname+location.hash,this.startPath,this.time],void 0,rn.sessionTrace,r)});let i;try{i=new PerformanceObserver(a=>{const o=a.getEntries();Cs(zte,[o],void 0,rn.sessionTrace,r)}),i.observe({type:Wte,buffered:!0})}catch{}this.importAggregator(n,()=>vn(()=>import("./chunks/index.js-FLYuO0gA.js"),__vite__mapDeps([28,15,16,22,19,2,3,4,5,6,7,8,9,10,11,12])),{resourceObserver:i})}},Vt(ev,"featureName",YN),ev);const Jte=rn.spa,Xte=["click","submit","keypress","keydown","keyup","change"],Qte=999,ene="fn-start",tne="fn-end",nne="cb-start",sne="api-ixn-",rne="remaining",ine="interaction",ane="spaNode",one="jsonpNode",lne="fetch-start",cne="fetch-done",dne="fetch-body-",une="jsonp-end",pne=Zc().o.ST,fne="-start",hP="-end",mne="-body",hne="cb"+hP,xne="jsTime",gne="fetch",bne=Object.freeze(Object.defineProperty({__proto__:null,BODY:mne,CB_END:hne,CB_START:nne,END:hP,FEATURE_NAME:Jte,FETCH:gne,FETCH_BODY:dne,FETCH_DONE:cne,FETCH_START:lne,FN_END:tne,FN_START:ene,INTERACTION:ine,INTERACTION_API:sne,INTERACTION_EVENTS:Xte,JSONP_END:une,JSONP_NODE:one,JS_TIME:xne,MAX_TIMER_BUDGET:Qte,REMAINING:rne,SPA_NODE:ane,START:fne,originalSetTimeout:pne},Symbol.toStringTag,{value:"Module"})),JN={},yne=["appendChild","insertBefore","replaceChild"];function vne(e){const n=wne(e);if(!ro||JN[n.debugId])return n;JN[n.debugId]=!0;var s=rd(n),r=/[?&](?:callback|cb)=([^&#]+)/,i=/(.*)\.([^.]+)/,a=/^(\w+)(\.|$)(.*)$/;s.inPlace(Node.prototype,yne,"dom-"),n.on("dom-start",function(p){o(p[0])});function o(p){var f=p&&typeof p.nodeName=="string"&&p.nodeName.toLowerCase()==="script";if(!f)return;var m=typeof p.addEventListener=="function";if(!m)return;var h=l(p.src);if(!h)return;var x=u(h),g=typeof x.parent[x.key]=="function";if(!g)return;var v={};s.inPlace(x.parent,[x.key],"cb-",v),p.addEventListener("load",b,Ii(!1)),p.addEventListener("error",y,Ii(!1)),n.emit("new-jsonp",[p.src],v);function b(){n.emit("jsonp-end",[],v),p.removeEventListener("load",b,Ii(!1)),p.removeEventListener("error",y,Ii(!1))}function y(){n.emit("jsonp-error",[],v),n.emit("jsonp-end",[],v),p.removeEventListener("load",b,Ii(!1)),p.removeEventListener("error",y,Ii(!1))}}function l(p){var f=p.match(r);return f?f[1]:null}function c(p,f){if(!p)return f;const m=p.match(a),h=m[1],x=m[3];return c(x,f[h])}function u(p){var f=p.match(i);return f&&f.length>=3?{key:f[2],parent:c(f[1],window)}:{key:p,parent:window}}return n}function wne(e){return(e||Ai).get("jsonp")}const XN={};function Cne(e){const n=_ne(e);if(XN[n.debugId])return n;XN[n.debugId]=!0;var s=n.context,r=rd(n),i=Vn.Promise;i&&a();function a(){Vn.Promise=o,Object.defineProperty(o,"name",{value:"Promise"}),o.toString=function(){return i.toString()};function o(c){var u=n.context(),p=r(c,"executor-",u,null,!1);const f=Reflect.construct(i,[p],o);return n.context(f).getCtx=function(){return u},f}Object.setPrototypeOf(o,i),["all","race"].forEach(function(c){const u=i[c];o[c]=function(p){let f=!1;[...p||[]].forEach(x=>{this.resolve(x).then(h(c==="all"),h(!1))});const m=u.apply(this,arguments);return m;function h(x){return function(){n.emit("propagate",[null,!f],m,!1,!1),f=f||!x}}}}),["resolve","reject"].forEach(function(c){const u=i[c];o[c]=function(p){const f=u.apply(this,arguments);return p!==f&&n.emit("propagate",[p,!0],f,!1,!1),f}}),o.prototype=i.prototype;const l=i.prototype.then;i.prototype.then=function(...u){var p=this,f=s(p);f.promise=p,u[0]=r(u[0],"cb-",f,null,!1),u[1]=r(u[1],"cb-",f,null,!1);const m=l.apply(this,u);return f.nextPromise=m,n.emit("propagate",[p,!0],m,!1,!1),m},i.prototype.then[uh]=l,n.on("executor-start",function(c){c[0]=r(c[0],"resolve-",this,null,!1),c[1]=r(c[1],"resolve-",this,null,!1)}),n.on("executor-err",function(c,u,p){c[1](p)}),n.on("cb-end",function(c,u,p){n.emit("propagate",[p,!0],this.nextPromise,!1,!1)}),n.on("propagate",function(c,u,p){(!this.getCtx||u)&&(this.getCtx=function(){if(c instanceof Promise)var f=n.context(c);return f&&f.getCtx?f.getCtx():this})})}return n}function _ne(e){return(e||Ai).get("promise")}const QN={},ew="setTimeout",tw="setInterval",xP="clearTimeout",eF="-start",Z4="-",J4=[ew,"setImmediate",tw,xP,"clearImmediate"];function jne(e){const n=Nne(e);if(QN[n.debugId]++)return n;QN[n.debugId]=1;var s=rd(n);s.inPlace(Vn,J4.slice(0,2),ew+Z4),s.inPlace(Vn,J4.slice(2,3),tw+Z4),s.inPlace(Vn,J4.slice(3),xP+Z4),n.on(tw+eF,r),n.on(ew+eF,i);function r(a,o,l){a[0]=s(a[0],"fn-",null,l)}function i(a,o,l){this.method=l,this.timerDuration=isNaN(a[1])?0:+a[1],a[0]=s(a[0],"fn-",this,l)}return n}function Nne(e){return(e||Ai).get("timer")}const tF={};function Fne(e){const n=Ene(e);if(!ro||tF[n.debugId])return n;tF[n.debugId]=!0;var s=rd(n),r=Vn.MutationObserver;return r&&(window.MutationObserver=function(a){return this instanceof r?new r(s(a,"fn-")):r.apply(this,arguments)},MutationObserver.prototype=r.prototype),n}function Ene(e){return(e||Ai).get("mutation")}function gP(e){const n=e.ee.get("tracer");Fi(PL,function(i){return new s().get(typeof i=="object"?i:{})},e);function s(){}const r=s.prototype={createTracer:function(i,a){var o={},l=this,c=typeof a=="function";return Cs(t0,["API/createTracer/called"],void 0,rn.metrics,e.ee),e.runSoftNavOverSpa||Cs(z4+"tracer",[Js(),i,o],l,rn.spa,e.ee),function(){if(n.emit((c?"":"no-")+"fn-start",[Js(),l,c],o),c)try{return a.apply(this,arguments)}catch(u){const p=typeof u=="string"?new Error(u):u;throw n.emit("fn-err",[arguments,this,p],o),p}finally{n.emit("fn-end",[Js()],o)}}}};["actionText","setName","setAttribute","save","ignore","onEnd","getContext","end","get"].forEach(i=>{Fi.apply(this,[i,function(){return Cs(z4+i,[Js(),...arguments],this,e.runSoftNavOverSpa?rn.softNav:rn.spa,e.ee),this},e,r])}),Fi(HL,function(){e.runSoftNavOverSpa?Cs(z4+"routeName",[performance.now(),...arguments],void 0,rn.softNav,e.ee):Cs(ac+"routeName",[Js(),...arguments],this,rn.spa,e.ee)},e)}const{FEATURE_NAME:nF,START:Ku,END:sF,BODY:rF,CB_END:X4,JS_TIME:iF,FETCH:Yu,FN_START:Qo,CB_START:Q4,FN_END:eb}=bne;var tv,N5,bP;let Sne=(tv=class extends Vo{constructor(s){super(s,nF);bd(this,N5);if(gP(s),!ro)return;try{this.removeOnAbort=new AbortController}catch{}let r=0,i;const a=this.ee.get("tracer"),o=vne(this.ee),l=Cne(this.ee),c=jne(this.ee),u=R9(this.ee),p=this.ee.get("events"),f=L9(this.ee),m=H5(this.ee),h=Fne(this.ee);this.ee.on(Qo,g),l.on(Q4,g),o.on(Q4,g),this.ee.on(eb,v),l.on(X4,v),o.on(X4,v),this.ee.on("fn-err",(...y)=>{y[2]?.__newrelic?.[s.agentIdentifier]||Cs("function-err",[...y],void 0,this.featureName,this.ee)}),this.ee.buffer([Qo,eb,"xhr-resolved"],this.featureName),p.buffer([Qo],this.featureName),c.buffer(["setTimeout"+sF,"clearTimeout"+Ku,Qo],this.featureName),u.buffer([Qo,"new-xhr","send-xhr"+Ku],this.featureName),f.buffer([Yu+Ku,Yu+"-done",Yu+rF+Ku,Yu+rF+sF],this.featureName),m.buffer(["newURL"],this.featureName),h.buffer([Qo],this.featureName),l.buffer(["propagate",Q4,X4,"executor-err","resolve"+Ku],this.featureName),a.buffer([Qo,"no-"+Qo],this.featureName),o.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"],this.featureName),b(f,Yu+Ku),b(f,Yu+"-done"),b(o,"new-jsonp"),b(o,"jsonp-end"),b(o,"cb-start"),m.on("pushState-end",x),m.on("replaceState-end",x),window.addEventListener("hashchange",x,Ii(!0,this.removeOnAbort?.signal)),window.addEventListener("load",x,Ii(!0,this.removeOnAbort?.signal)),window.addEventListener("popstate",function(){x(0,r>1)},Ii(!0,this.removeOnAbort?.signal));function x(y,w){m.emit("newURL",[""+window.location,w])}function g(){r++,i=window.location.hash,this[Qo]=Js()}function v(){r--,window.location.hash!==i&&x(0,!0);var y=Js();this[iF]=~~this[iF]+y-this[Qo],this[eb]=y}function b(y,w){y.on(w,function(){this[w]=Js()})}this.abortHandler=Ir(this,N5,bP),this.importAggregator(s,()=>vn(()=>import("./chunks/index.js-B0dO9pzj.js"),__vite__mapDeps([29,14,15,16,21,17,2,3,4,5,6,7,8,9,10,11,12])))}},N5=new WeakSet,bP=function(){this.removeOnAbort?.abort(),this.abortHandler=void 0},Vt(tv,"featureName",nF),tv);const aF=rn.sessionReplay,oF={RECORD:"recordReplay",PAUSE:"pauseReplay",ERROR_DURING_REPLAY:"errorDuringReplay"},WLe=.12,GLe={FullSnapshot:2,Meta:4},qLe={[Ec.ERROR]:15e3,[Ec.FULL]:3e5,[Ec.OFF]:0},KLe={RESET:{message:"Session was reset",sm:"Reset"},IMPORT:{message:"Recorder failed to import",sm:"Import"},TOO_MANY:{message:"429: Too Many Requests",sm:"Too-Many"},TOO_BIG:{message:"Payload was too large",sm:"Too-Big"},CROSS_TAB:{message:"Session Entity was set to OFF on another tab",sm:"Cross-Tab"},ENTITLEMENTS:{message:"Session Replay is not allowed and will not be started",sm:"Entitlement"}},YLe=5e3,tb={API:"api",RESUME:"resume",SWITCH_TO_FULL:"switchToFull",INITIALIZE:"initialize",PRELOAD:"preload"};function kne(e){Fi(Uv,function(){Cs(Uv,[],void 0,rn.sessionReplay,e.ee)},e)}function Ine(e){Fi(Ov,function(){Cs(Ov,[],void 0,rn.sessionReplay,e.ee)},e)}var nv,Kh,Nf,yP,vP;let Tne=(nv=class extends Vo{constructor(s){super(s,aF);bd(this,Nf);bd(this,Kh);Vt(this,"recorder");kne(s),Ine(s);let r;try{r=JSON.parse(localStorage.getItem("".concat(bee,"_").concat(yee)))}catch{}T9(s.init)&&this.ee.on(oF.RECORD,()=>Ir(this,Nf,vP).call(this)),Ir(this,Nf,yP).call(this,r)&&this.importRecorder().then(i=>{i.startRecording(tb.PRELOAD,r?.sessionReplayMode)}),this.importAggregator(this.agentRef,()=>vn(()=>import("./chunks/index.js-Di3ydvRH.js"),__vite__mapDeps([30,4,3,5,15,16,31,2,6,7,8,9,10,11,12])),this),this.ee.on("err",i=>{this.blocked||this.agentRef.runtime.isRecording&&(this.errorNoticed=!0,Cs(oF.ERROR_DURING_REPLAY,[i],void 0,this.featureName,this.ee))})}importRecorder(){return this.recorder?Promise.resolve(this.recorder):(y4(this,Kh)??U_(this,Kh,vn(async()=>{const{Recorder:s}=await import("./chunks/recorder.js-DRwfR3RO.js");return{Recorder:s}},__vite__mapDeps([32,16,31,2,3,4,5,6,7,8,9,10,11,12])).then(({Recorder:s})=>(this.recorder=new s(this),this.recorder)).catch(s=>{throw this.ee.emit("internal-error",[s]),this.blocked=!0,s})),y4(this,Kh))}},Kh=new WeakMap,Nf=new WeakSet,yP=function(s){return s?s.sessionReplayMode===Ec.FULL||s.sessionReplayMode===Ec.ERROR?!0:IN(this.agentRef.init):IN(this.agentRef.init)},vP=function(){this.blocked||(this.featAggregate?this.featAggregate.mode!==Ec.FULL&&this.featAggregate.initializeRecording(Ec.FULL,!0,tb.API):this.importRecorder().then(()=>{this.recorder.startRecording(tb.API,Ec.FULL)}))},Vt(nv,"featureName",aF),nv);function Ane(e){Fi(Bv,function(){Cs(ac+Bv,[Js(),...arguments],void 0,rn.genericEvents,e.ee)},e)}function Dne(e){Fi(Wv,function(n,s){const r=Js(),{start:i,end:a,customAttributes:o}=s||{},l={customAttributes:o||{}};if(typeof l.customAttributes!="object"||typeof n!="string"||n.length===0){yr(57);return}const c=(u,p)=>u==null?p:typeof u=="number"?u:u instanceof PerformanceMark?u.startTime:Number.NaN;if(l.start=c(i,0),l.end=c(a,r),Number.isNaN(l.start)||Number.isNaN(l.end)){yr(57);return}if(l.duration=l.end-l.start,l.duration<0){yr(58);return}return Cs(ac+Wv,[l,n],void 0,rn.genericEvents,e.ee),l},e)}var sv;let Mne=(sv=class extends Vo{constructor(n){super(n,CN);const s=[n.init.page_action.enabled,n.init.performance.capture_marks,n.init.performance.capture_measures,n.init.user_actions.enabled,n.init.performance.resources.enabled];if(ute(n),Ane(n),mP(n),M9(n),Dne(n),ro){let a=function(){i.emit("navChange")};n.init.user_actions.enabled&&(xee.forEach(o=>hu(o,l=>Cs("ua",[l],void 0,this.featureName,this.ee),!0)),gee.forEach(o=>{const l=tP(c=>{Cs("ua",[c],void 0,this.featureName,this.ee)},500,{leading:!0});hu(o,l)})),n.init.performance.resources.enabled&&Vn.PerformanceObserver?.supportedEntryTypes.includes("resource")&&new PerformanceObserver(l=>{l.getEntries().forEach(c=>{Cs("browserPerformance.resource",[c],void 0,this.featureName,this.ee)})}).observe({type:"resource",buffered:!0});const i=H5(this.ee);i.on("pushState-end",a),i.on("replaceState-end",a),window.addEventListener("hashchange",a,Ii(!0,this.removeOnAbort?.signal)),window.addEventListener("popstate",a,Ii(!0,this.removeOnAbort?.signal))}try{this.removeOnAbort=new AbortController}catch{}this.abortHandler=()=>{this.removeOnAbort?.abort(),this.abortHandler=void 0},Vn.addEventListener("error",()=>{Cs("uaErr",[],void 0,rn.genericEvents,this.ee)},Ii(!1,this.removeOnAbort?.signal)),L9(this.ee),R9(this.ee),this.ee.on("open-xhr-start",(i,a)=>{r(i[1])||a.addEventListener("readystatechange",()=>{a.readyState===2&&Cs("uaXhr",[],void 0,rn.genericEvents,this.ee)})}),this.ee.on("fetch-start",i=>{i.length>=1&&!r(uP(i[0]))&&Cs("uaXhr",[],void 0,rn.genericEvents,this.ee)});function r(i){const a=U5(i);return n.beacons.includes(a.hostname+":"+a.port)}s.some(i=>i)?this.importAggregator(n,()=>vn(()=>import("./chunks/index.js-BWPlPFqf.js"),__vite__mapDeps([33,15,16,19,1,24,27,2,3,4,5,6,7,8,9,10,11,12]))):this.deregisterDrain()}},Vt(sv,"featureName",CN),sv);const lF=new Map;function wP(e,n,s,r){if(!(typeof n=="object"&&n&&typeof s=="string"&&s&&typeof n[s]=="function"))return yr(29);const i=Rne(e),a=rd(i),o=new I1($c);o.level=r.level,o.customAttributes=r.customAttributes;const l=n[s]?.[uh]||n[s];return lF.set(l,o),a.inPlace(n,[s],"wrap-logger-",()=>lF.get(l)),i}function Rne(e){return(e||Ai).get("logger")}function Lne(e){Fi(zL,(n,s,{customAttributes:r={},level:i=B5.INFO}={})=>{wP(e.ee,n,s,{customAttributes:r,level:i})},e)}var rv;let Pne=(rv=class extends Vo{constructor(n){super(n,DN),dte(n),Lne(n),M9(n);const s=this.ee;["log","error","warn","info","debug","trace"].forEach(i=>{GL(Vn.console[i]),wP(s,Vn.console,i,{level:i==="log"?"info":i})}),this.ee.on("wrap-logger-end",function([a]){const{level:o,customAttributes:l}=this;aP(s,a,l,o)}),this.importAggregator(n,()=>vn(()=>import("./chunks/index.js-B7EEm2pY.js"),__vite__mapDeps([34,15,16,19,2,3,4,5,6,7,8,9,10,11,12])))}},Vt(rv,"featureName",DN),rv);const One=["click","keydown","submit"],Bne="popstate",QLe="api",ePe="initialPageLoad",cF=rn.softNav,tPe=5e3,nPe=500,sPe={INITIAL_PAGE_LOAD:"",ROUTE_CHANGE:1,UNSPECIFIED:2},rPe={INTERACTION:1,AJAX:2},iPe={IP:"in progress",PF:"pending finish",FIN:"finished",CAN:"cancelled"},Une=1/10*1e3;class CP extends Vo{constructor(n){if(super(n,cF),gP(n),!ro||!Zc().o.MO)return;const s=H5(this.ee);try{this.removeOnAbort=new AbortController}catch{}One.forEach(c=>{hu(c,u=>{o(u)},!0,this.removeOnAbort?.signal)});const r=()=>Cs("newURL",[Js(),""+window.location],void 0,this.featureName,this.ee);s.on("pushState-end",r),s.on("replaceState-end",r),hu(Bne,c=>{o(c),Cs("newURL",[c.timeStamp,""+window.location],void 0,this.featureName,this.ee)},!0,this.removeOnAbort?.signal);let i=!1;const a=new(Zc()).o.MO((c,u)=>{i||(i=!0,requestAnimationFrame(()=>{Cs("newDom",[Js()],void 0,this.featureName,this.ee),i=!1}))}),o=tP(c=>{Cs("newUIEvent",[c],void 0,this.featureName,this.ee),a.observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0})},Une,{leading:!0});this.abortHandler=l,this.importAggregator(n,()=>vn(()=>import("./chunks/index.js-Di54BPOq.js"),__vite__mapDeps([35,18,17,15,16,21,14,2,3,4,5,6,7,8,9,10,11,12])),{domObserver:a});function l(){this.removeOnAbort?.abort(),a.disconnect(),this.abortHandler=void 0}}}Vt(CP,"featureName",cF);class Hne extends Jee{constructor(n){super({...n,features:[Ite,sP,Qee,Zte,ete,fte,Sne,CP,Tne,Mne,Pne],loaderType:"browser-agent"})}}class Vne{constructor(){Vt(this,"browserAgent")}normalizeError(n){if(n instanceof Error)return n;if(typeof n=="string")return new Error(n);try{return new Error(JSON.stringify(n))}catch{return new Error("Unknown error")}}init(){const n={init:{distributed_tracing:{enabled:!1},privacy:{cookies_enabled:!0},ajax:{deny_list:[]}},info:{beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"NRBR-5532f07fcd7ef7d45ce",applicationID:"1589150949",sa:1},loader_config:{accountID:"7256303",trustKey:"7256303",agentID:"1589150949",licenseKey:"NRBR-5532f07fcd7ef7d45ce",applicationID:"1589150949"}};this.browserAgent=new Hne(n),this.browserAgent.addRelease("frontend","1.0.466"),this.browserAgent.setApplicationVersion("1.0.466"),this.browserAgent.setErrorHandler(s=>{const r=s?.message?.toLowerCase()||"",i=s?.stack||"",a=s?.fileName||"";return!!(["chrome-extension://","moz-extension://","webkit-masked-url://","safari-extension://"].some(u=>i.includes(u)||a.includes(u))||i.includes("anonymous")||[/line-1:-1/,/:-1:-1/,/@:1:1/,/<anonymous>:1:1/,/at :1:1/].some(u=>u.test(i))||(r==="script error"||r==="script error.")&&!a&&i.length<50||["ResizeObserver loop","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications","non-error promise rejection captured with keys"].some(u=>r.includes(u.toLowerCase())))})}noticeError(n,s){this.browserAgent?.noticeError(this.normalizeError(n),s)}noticeErrorWithEvent(n,s,r={}){this.noticeError(s,{eventKey:n,...r})}setCustomAttribute(n,s){this.browserAgent?.setCustomAttribute(n,s)}setUserId(n){this.browserAgent?.setUserId(n)}setUser(n,s,r){this.setUserId(n),this.setCustomAttribute("userId",n),s&&this.setCustomAttribute("userEmail",s),r&&this.setCustomAttribute("userName",r)}clearUser(){this.setUserId(null),this.setCustomAttribute("userId",null),this.setCustomAttribute("userEmail",null),this.setCustomAttribute("userName",null)}}const A1=new Vne,$ne=()=>{A1.init()},jt=(e,n,s={})=>A1.noticeErrorWithEvent(e,n,s),nb=(e,{email:n,name:s,...r}={})=>{e?(A1.setUser(e,n,s),Object.entries(r).forEach(([i,a])=>{a!==void 0&&A1.setCustomAttribute(i,a)})):A1.clearUser()},zne={GITHUB_USER_DETAILS:"api_github_user_details_error",AGENT_API:"agent_api_error"},Wne={SUBMISSION:"job_submission_error"},Gne={SERVER_SAVE:"mcp_server_save_error"},qne={AGENT_MESSAGES_FETCH:"agent_messages_fetch_error"},Kne={IS_AUTH_ERROR:"is_auth_error_invoked",INITIALIZATION:"auth_initialization_error",SIGN_IN:"auth_sign_in_error",SIGN_UP:"auth_sign_up_error",SIGN_OUT:"auth_sign_out_error",OAUTH_SIGN_IN:"auth_oauth_sign_in_error",RESET_PASSWORD:"auth_reset_password_error",UPDATE_PASSWORD:"auth_update_password_error",RESEND_VERIFICATION:"auth_resend_verification_error",VERIFY_INVITE:"auth_verify_invite_error",REFRESH_SESSION:"auth_refresh_session_error",UPDATE_UTM_METADATA:"auth_update_utm_metadata_error"},_P={ONBOARDING_FETCH:"onboarding_form_fetch_error"},Yne={NO_VSCODE_PASSWORD:"visual_edit_no_vscode_password",NO_PREVIEW_URL:"visual_edit_no_preview_url",CHANGES_ERROR:"visual_edit_changes_error",EDIT_RESPONSE_PARSE_ERROR:"visual_edit_edit_response_parse_error",SAVE_CHANGES_ERROR:"visual_edit_save_changes_error",TEST_MODE_START_ERROR:"visual_edit_test_mode_start_error",PREVIEW_IFRAME_LOAD_ERROR:"visual_edit_preview_iframe_load_error"},Zne={VERIFY:"coupon_verify_error"},tf={CHANGE_PAYMENT_METHOD:"handle_change_payment_method_error",QUICK_UPGRADE:"quick_upgrade_error",QUICK_UPGRADE_FALLBACK:"quick_upgrade_stripe_fallback_error",INCOMPLETE_TRACKING_DATA:"incomplete_payment_data_for_tracking",TRACKING_ERROR:"payment_tracking_error",CREDITS_REFRESH_AFTER_PAYMENT:"credits_refresh_after_payment_error",CREDITS_REFRESH_ON_MODAL_CLOSE:"credits_refresh_on_modal_close_error",CREDITS_PURCHASE:"credits_purchase_error",CHECKOUT_SESSION_API:"checkout_session_api_error",CHECKOUT_SESSION_CREATION:"checkout_session_creation_error",RESUME_SUBSCRIPTION:"resume_subscription_error"},Jne={MISSING_TRANSACTION_ID:"paddle_missing_transaction_id",NOT_INITIALIZED:"paddle_not_initialized",INITIALIZATION:"paddle_initialization_error",PIXEL_TRACKING:"paddle_pixel_tracking_error",CHECKOUT:"paddle_checkout_error",CHECKOUT_LOAD_TIMEOUT:"paddle_checkout_load_timeout"},Xne={QUICK_UPGRADE:"get_quick_upgrade_feature_flag_error"},jP={INIT:"i18n_init_error"},Qne={TOGGLE:"universal_key_toggle_error",REGENERATE:"universal_key_regenerate_error",TRANSFER_CREDITS:"universal_key_transfer_credits_error",AUTO_RECHARGE_TOGGLE:"universal_key_auto_recharge_toggle_error",CONFIRM_AUTO_RECHARGE:"universal_key_confirm_auto_recharge_error",SAVE_AUTO_RECHARGE_AMOUNT:"universal_key_save_auto_recharge_amount_error"},ese={CADDY_TO_CLOUDFLARE_JOB_FETCH:"caddy_to_cloudflare_job_fetch_error"},tse={EXPO_QR_GENERATION:"expo_qr_code_generation_error"},nse={CHECKOUT:"promotional_setup_checkout_error"},NP={PUBLISH_APP:"publish_app_error"},sse={RENDER_CRASH:"preview_panel_render_crash",CONTENT_NULL_RENDER:"preview_panel_content_null_render",IFRAME_STATE_ANOMALY:"preview_panel_iframe_state_anomaly"},rse={CONFIG_FETCH:"dynamo_config_fetch_error",CONFIG_INIT:"dynamo_config_init_error",API_RESPONSE:"dynamo_api_response_error",API_TIMEOUT:"dynamo_api_timeout_error",API_REQUEST:"dynamo_api_request_error",HTML_FETCH:"dynamo_html_fetch_error",HTML_MISSING:"dynamo_html_missing_error",FORM_SUBMIT:"dynamo_form_submit_error",IFRAME_LOAD:"dynamo_iframe_load_error",PAGE_NODE_INJECT:"dynamo_page_node_inject_error",STORAGE_MARK_SEEN:"dynamo_storage_mark_seen_error",COUPON_GENERATE:"dynamo_coupon_generate_error",CALL_API:"dynamo_call_api_error"},ise={CREATE_USER:"survey_create_user_error",SET_USER_EMAIL:"survey_set_user_email_error",TRIGGER_EVENT:"survey_trigger_event_error"},ase={SDK_CALL:"fingerprint_sdk_call_error",IDENTIFY_API:"fingerprint_identify_api_error",SYNC:"fingerprint_sync_error",TRIGGER:"fingerprint_trigger_error"},Zt={API:zne,JOB:Wne,MCP:Gne,POLLING:qne,AUTH:Kne,FORM:_P,VISUAL_EDIT:Yne,COUPON:Zne,PAYMENT:tf,PADDLE:Jne,FEATURE_FLAG:Xne,I18N:jP,UNIVERSAL_KEY:Qne,MIGRATION:ese,QR_CODE:tse,PROMOTIONAL_SETUP:nse,PUBLISH:NP,PREVIEW_PANEL:sse,DYNAMO:rse,SURVEY:ise,FINGERPRINT:ase};let dF=!1;async function P9(e="You are unauthorized to use this application",n=!1){if(dF||window.location.pathname==="/landing"||window.location.pathname==="/login")return;dF=!0;try{FL(),Qi.dispatch(CL([{id:"home",title:"Home",path:"/"}])),Qi.dispatch(wL("home")),Qi.dispatch(jL()),n&&await pi.auth.signOut(),Lv()}catch{if(n)try{await pi.auth.signOut()}catch{}Lv()}const s=e.replace(/^\d{3}:\s*/,"").trim(),r=encodeURIComponent(s);window.location.href=`/landing?showError=${r}`}function FP(e,n="You are unauthorized to use this application"){const s=e?.message,r=e?.detail;if(r){const i=typeof r=="string"?r:JSON.stringify(r);if(i.includes("SSO user is not authorized")||i.includes("403:"))return i.replace(/^\d{3}:\s*/,"").trim();if(i.includes("already exists with different ID"))return"Your account has authentication conflicts. Please contact support or try signing in with a different method."}return s||r||n}function EP(e){jt(Zt.AUTH.IS_AUTH_ERROR,e);const n=e?.status||e?.response?.status;if(n===401)return!0;if(n===500){const r=e?.error||e?.data?.detail||e?.response?.data?.detail;if(r){const i=typeof r=="string"?r:JSON.stringify(r),a=i.includes("SSO user is not authorized"),o=i.includes("403:"),l=i.includes("already exists with different ID");return a||o||l}return!0}return e?.error?.includes("SSO user is not authorized")||e?.error?.includes("already exists with different ID")||!1}const ose={HOME_PREVIEW_CLICKED:"home_preview_clicked"},xu={BANNER_CLICKED:"promotional_setup_banner_clicked",MODAL_CTA_CLICKED:"promotional_setup_modal_cta_clicked",MODAL_DISMISSED:"promotional_setup_modal_dismissed",CHECKOUT_INITIATED:"promotional_setup_checkout_initiated",CHECKOUT_REDIRECT:"promotional_setup_checkout_redirect",FREE_TRIAL_MODAL_CTA_CLICKED:"free_trial_modal_cta_clicked",FREE_TRIAL_MODAL_EXPLORE_PLANS:"free_trial_modal_explore_plans",FREE_TRIAL_MODAL_DISMISSED:"free_trial_modal_dismissed",JOB_CREATED_WITHOUT_UPGRADE:"promotional_setup_job_created_without_upgrade"},$r={MCP_INTRODUCTION_MODAL_OPENED:"mcp_introduction_modal_opened",MCP_INTRODUCTION_MODAL_CLOSED:"mcp_introduction_modal_closed",PROJECTS_INTRODUCTION_MODAL_OPENED:"projects_introduction_modal_opened",PROJECTS_INTRODUCTION_MODAL_CLOSED:"projects_introduction_modal_closed",BRO_MODE_INTRODUCTION_MODAL_OPENED:"bro_mode_introduction_modal_opened",BRO_MODE_INTRODUCTION_MODAL_CLOSED:"bro_mode_introduction_modal_closed",BRO_MODE_INTRODUCTION_TRY_CLICKED:"bro_mode_introduction_try_clicked",BRO_MODE_INTRODUCTION_LEARN_MORE_CLICKED:"bro_mode_introduction_learn_more_clicked",VISUAL_EDITS_MODAL_OPENED:"visual_edits_modal_opened",VISUAL_EDITS_MODAL_CLOSED:"visual_edits_modal_closed",VISUAL_EDITS_MODAL_GOT_IT_CLICKED:"visual_edits_modal_got_it_clicked",VISUAL_EDITS_MODAL_LEARN_MORE_CLICKED:"visual_edits_modal_learn_more_clicked",SUBSCRIPTION_PAYMENT_RESULT_MODAL_EVENTS:{PAYMENT_STATUS_POLLING_STARTED:"payment_status_polling_started",PAYMENT_SUCCESS:"subscription_payment_success",PAYMENT_FAILED:"subscription_payment_failed",PAYMENT_CANCELLED:"subscription_payment_cancelled",PAYMENT_STUCK:"subscription_payment_stuck",RETRY_PAYMENT_CLICKED:"subscription_retry_payment_clicked"},PAYMENT_LOADING_MODAL_OPENED:"payment_loading_modal_opened",UPDATE_TIER_CLICKED:"update_tier_clicked",UPGRADE_TIER_MODAL_EVENTS:{MODAL_CLOSED:"upgrade_tier_modal_closed",BILLING_MODE_SWITCHED:"upgrade_tier_billing_mode_switched",COUPON_INPUT_SHOWN:"upgrade_tier_coupon_input_shown",COUPON_APPLIED:"upgrade_tier_coupon_applied",COUPON_APPLY_FAILED:"upgrade_tier_coupon_apply_failed",COUPON_REMOVED:"upgrade_tier_coupon_removed",PLAN_VARIANT_SELECTED:"upgrade_tier_plan_variant_selected",CONTACT_SALES_CLICKED:"upgrade_tier_contact_sales_clicked",CHECKOUT_INITIATED:"upgrade_tier_checkout_initiated",CHECKOUT_FAILED:"upgrade_tier_checkout_failed"},ONBOARDING_SURVEY_EVENTS:{SUBMITTED:"onboarding_survey_submitted",CLOSED:"onboarding_survey_closed"},CANCELLATION_FLOW_EVENTS:{ORG_MODE_CLICKED:"cancel_subscription_org_mode_clicked",RESUME_CLICKED:"resume_subscription_clicked",SURVEY_INITIATED:"cancel_subscription_survey_initiated",SURVEY_SUBMITTED:"cancel_survey_proceed_cancel_clicked",SURVEY_CLOSED:"cancel_survey_modal_closed",WARNING_SHOWN:"cancel_warning_modal_shown",WARNING_CLOSED:"cancel_warning_modal_closed",WARNING_CANCEL_CONFIRMED:"cancel_confirmed_from_warning",RETENTION_SHOWN:"retention_modal_shown",RETENTION_CLOSED:"retention_modal_closed",RETENTION_CANCEL_CONFIRMED:"cancel_confirmed_from_retention",RETENTION_CLAIM_SUCCESS:"retention_offer_claimed_success",RETENTION_CLAIM_FAILURE:"retention_offer_claimed_failure",RETENTION_CLAIM_API_ERROR:"retention_offer_claimed_api_error"}},Ra={CREDIT_BALANCE_BUTTON_CLICKED:"credit_balance_button_clicked",BUY_CREDITS_BUTTON_CLICKED:"buy_credits_button_clicked",TIER_UPGRADE_BUTTON_CLICKED:"tier_upgrade_button_clicked",PLAN_UPGRADE_BUTTON_CLICKED:"plan_upgrade_button_clicked",CONTACT_US_BUTTON_CLICKED:"payment_modal_contact_us_button_clicked",BUY_CREDITS_MODAL_EVENTS:{MODAL_OPENED:"buy_credits_modal_opened",MODAL_CLOSED:"buy_credits_modal_closed",BUNDLE_SELECTED:"credit_bundle_selected",BUNDLE_PURCHASE_CLICKED:"credit_bundle_purchase_clicked",BUY_CREDITS_CLICKED:"buy_credits_clicked",CUSTOM_AMOUNT_INPUT_CHANGED:"custom_amount_input_changed",CUSTOM_AMOUNT_PURCHASE_CLICKED:"custom_amount_purchase_clicked",CUSTOM_AMOUNT_VALIDATION_ERROR:"custom_amount_validation_error",PRICING_INFO_LEARN_MORE_CLICKED:"pricing_info_learn_more_clicked",PAYMENT_LOADING_MODAL_OPENED:"payment_loading_modal_opened"},PAYMENT_STATUS_MODAL_EVENTS:{PAYMENT_SUCCESS:"credit_topup_payment_success",PAYMENT_FAILED:"credit_topup_payment_failed",PAYMENT_CANCELLED:"credit_topup_payment_cancelled",PAYMENT_STUCK:"credit_topup_payment_stuck"},BUY_CREDITS_AUTO_POPUP_SHOWN:"buy_credits_auto_popup_shown"},lse={PAYMENT_SUCCESS:"gifting_payment_success",PAYMENT_FAILED:"gifting_payment_failed"},cse={ADVANCED_CONTROL_CLICKED:"advanced_control_button_clicked",CUSTOM_AGENT_SELECTED:"custom_agent_selected",ATTACH_FILE_CLICKED:"attach_file_button_clicked",ATTACHMENT_REMOVED:"attachment_removed",SELECT_TEMPLATE_UPDATED:"select_template_value_updated",BUDGET_VALUE_UPDATED:"budget_value_updated",MODEL_VALUE_UPDATED:"model_value_updated",RECENT_TASK_OPENED:"recent_task_clicked",REFERRAL_ICON_CLICKED:"referral_icon_clicked",REFERRAL_TERM_CONDITION_CLICKED:"referral_terms_and_condition_clicked",FILE_UPLOAD_SUCCESS:"file_upload_success",FILE_UPLOAD_CANCELLED:"file_upload_cancelled",FOOTER_EVENTS:{HOME_BUTTON_CLICKED:"footer_home_button_clicked",AFFILIATES_BUTTON_CLICKED:"footer_affiliates_button_clicked",ENTERPRISE_BUTTON_CLICKED:"footer_enterprise_button_clicked",PRIVACY_POLICY_BUTTON_CLICKED:"footer_privacy_policy_button_clicked",TERM_OF_SERVICE_BUTTON_CLICKED:"footer_term_of_service_button_clicked",IP_ADDRESSES_BUTTON_CLICKED:"footer_ip_addresses_button_clicked"},GITHUB_EVENTS:{CONNECT_TO_GITHUB_ICON_CLICKED:"connect_to_github_icon_clicked",CONNECT_TO_GITHUB_CTA_CLICKED:"connect_to_github_cta_clicked",GITHUB_REPO_TAB_CHANGED:"github_repo_category_changed"},USER_MENU_EVENTS:{ACCOUNT_SETTING_CLICKED:"user_menu_account_setting_clicked",HELP_CENTER_CLICKED:"user_menu_help_center_clicked",JOIN_DISCORD_CLICKED:"user_menu_join_discord_clicked",LANGUAGE_CLICKED:"user_menu_language_clicked"}},SP={UPGRADE_PLAN_CLICKED:"setting_upgrade_plan_clicked",UNIVERSAL_KEYS_EVENTS:{UNIVERSAL_KEY_TAB_OPENED:"universal_key_tab_opened",UNIVERSAL_KEY_COPIED:"copied_universal_key",UNIVERSAL_KEY_TOGGLED:"toggled_universal_key",UNIVERSAL_KEY_REGENERATE_CTA_CLICKED:"regenerate_universal_key_cta_clicked",UNIVERSAL_KEY_REGENERATED:"regenerated_universal_key",ADD_BALANCE_CTA_CLICKED:"add_balance_cta_clicked",TRANSFER_CREDIT_UPDATED:"updated_transfer_credit_value",CREDIT_TRANSFERED:"transfer_credit_cta_clicked",AUTO_RECHARGE_TOGGLE_CLICKED:"auto_recharge_toggle_clicked",AUTO_RECHARGE_CONFIRMED:"auto_recharge_credit_save_cta_clicked",AUTO_RECHARGE_UPDATED_VALUE:"auto_recharge_updated_value",KEY_DETAILS_TAB_CLICKED:"universal_key_details_tab_clicked",LLM_PROVIDERS_TAB_CLICKED:"universal_key_llm_providers_tab_clicked"},MANAGE_AGENTS_EVENTS:{MANAGE_AGENTS_TAB_OPENED:"manage_agents_tab_opened",MANAGE_AGENTS_TAB_CHANGED:"manage_agents_tab_changed",NEW_AGENT_CREATION:"creating_new_agent",NEW_SUB_AGENT_CREATION:"creating_new_sub_agent",EXISTING_AGENT_OPENED:"existing_agent_opened",NEW_MCP_CREATED:"new_mcp_created"},LLM_PROVIDER_TOGGLED:"llm_provider_toggled",LANGUAGE_SELECTED:"language_selected"},dse={WAKE_UP_AGENT:"wake_up_agent_clicked"},vp={JOB_NAME_UPDATED:"job_name_updated",JOB_REMOVED:"job_deleted",JOB_ID_MODAL_SUBMIT:"job_id_modal_submit"},aPe={SOCIAL_SHARE_CLICKED:"social_share_clicked"},use={TOUR_STARTED:"guided_tour_started",TOUR_COMPLETED:"guided_tour_completed",TOUR_SKIPPED:"guided_tour_skipped",TOUR_STEP_COMPLETED:"guided_tour_step_completed"},kP={USER_STATS_UPDATED:"user_stats_updated"},qn={AUTH_EVENTS:ose,MODAL_EVENTS:$r,CREDIT_EVENTS:Ra,GIFT_EVENTS:lse,HOME_PAGE_EVENTS:cse,USER_SETTING_EVENTS:SP,AGENT_EVENTS:dse,PROMOTIONAL_SETUP_EVENTS:xu,TOUR_EVENTS:use,GTM_EVENTS:kP},Za={BUY_CREDITS_BUTTON_CLICKED:"chat_screen_buy_credits_button_clicked",ADD_MORE_CREDITS_BUTTON_CLICKED:"chat_screen_add_more_credits_button_clicked",PREVIEW_BUTTON_CLICKED:"chat_screen_preview_button_clicked",SCROLL_TO_BOTTOM_CLICKED:"chat_scroll_to_bottom_clicked",ULTRA_MODE_ENABLED:"ultra_mode_enabled",ULTRA_MODE_DISABLED:"ultra_mode_disabled",ULTRA_MODE_UPGRADE_REQUIRED:"ultra_mode_upgrade_required"},mg={REQUEST_INITIATED:"streaming_api_request_initiated",RESPONSE_NULL:"streaming_api_response_null",JSON_PARSED:"streaming_api_json_parsed",DATA_READY_FOR_RENDER:"streaming_api_data_ready_for_render"},nw={UPLOAD_ASSETS_CLICKED:"upload_assets_clicked",SOURCE_REPOSITORY_CLICKED:"chat_info_source_repository_clicked",MOST_RECENT_EXPORT_CLICKED:"chat_info_most_recent_export_clicked"},ki={WORKSPACE_CREATED_SUCCESSFULLY:"workspace_created_successfully",CREATE_NEW_PROJECT_CLICKED:"create_new_project_clicked",CREATE_PROJECT_MODAL_OPENED:"create_project_modal_opened",CREATE_PROJECT_SUBMIT_CLICKED:"create_project_submit_clicked",ONBOARDING_CREATE_FIRST_PROJECT_CLICKED:"onboarding_create_first_project_clicked",ONBOARDING_LEARN_MORE_CLICKED:"onboarding_learn_more_clicked",PROJECT_SWITCHER_CLICKED:"project_switcher_clicked",PROJECT_SWITCH_CLICKED:"project_switch_clicked",PROJECT_SETTINGS_CLICKED:"project_settings_clicked",PROJECT_INVITE_MEMBER_CLICKED:"project_invite_member_clicked",PROJECT_SEARCH_USED:"project_search_used",TEAMS_INTRO_SEE_WHATS_NEW_CLICKED:"teams_intro_see_whats_new_clicked",TEAMS_INTRO_OKAY_GOT_IT_CLICKED:"teams_intro_okay_got_it_clicked",TEAMS_INTRO_LEARN_MORE_CLICKED:"teams_intro_learn_more_clicked"},sw={PREVIEW_ON_MOBILE_CLICKED:"preview_on_mobile_clicked",PREVIEW_CLOSE_CLICKED:"preview_close_clicked",RENDER_CRASH:"preview_panel_render_crash"},dr={CHAT_TRAJ_DEPLOY_CLICKED:"chat_traj_deploy_clicked",CHAT_HEADER_DEPLOY_CLICKED:"chat_header_deploy_clicked",CHAT_HEADER_REDEPLOY_CLICKED:"chat_header_redeploy_clicked",DEPLOYMENT_BLOCKED:"deployment_blocked",START_DEPLOYMENT_CLICKED:"deploy_panel_start_deployment_clicked",DEPLOYMENT_CONFIRMATION_DEPLOY_CLICKED:"deployment_confirmation_deploy_clicked",DEPLOYMENT_CONFIRMATION_CANCEL_CLICKED:"deployment_confirmation_cancel_clicked",DEPLOYMENT_FOOTER_SHUTDOWN_CLICKED:"deployment_footer_shutdown_clicked",DEPLOYMENT_FOOTER_REDEPLOY_CLICKED:"deployment_footer_redeploy_clicked",DEPLOYMENT_FOOTER_START_DEPLOYMENT_CLICKED:"deployment_footer_start_deployment_clicked",REDEPLOY_MODAL_CONFIRM_CLICKED:"redeploy_modal_confirm_clicked",REDEPLOY_MODAL_CANCEL_CLICKED:"redeploy_modal_cancel_clicked",SHUTDOWN_MODAL_CONFIRM_CLICKED:"shutdown_modal_confirm_clicked",SHUTDOWN_MODAL_CANCEL_CLICKED:"shutdown_modal_cancel_clicked",DEPLOYMENT_ROLLBACK_CLICKED:"deployment_rollback_clicked",ROLLBACK_MODAL_CONFIRM_CLICKED:"rollback_modal_confirm_clicked",ROLLBACK_MODAL_CANCEL_CLICKED:"rollback_modal_cancel_clicked",REPLACE_DEPLOYMENT_CLICKED:"replace_deployment_clicked",REPLACE_MODAL_VISIT_CLICKED:"replace_modal_visit_clicked",REPLACE_MODAL_REPLACE_CLICKED:"replace_modal_replace_clicked",REPLACE_MODAL_VIEW_TASK_CLICKED:"replace_modal_view_task_clicked",REPLACE_CONFIRM_GO_BACK_CLICKED:"replace_confirm_go_back_clicked",REPLACE_CONFIRM_REPLACE_CLICKED:"replace_confirm_replace_clicked",FREE_USER_DEPLOY_ATTEMPTED:"free_user_deploy_attempted",DEPLOYMENT_FAILURE_LOGS_CLICKED:"deployment_failure_logs_clicked",DEPLOYMENT_LIVE_LOGS_CLICKED:"deployment_live_logs_clicked",DEPLOYMENT_LIVE_FIX_WITH_AGENT_CLICKED:"deployment_live_fix_with_agent_clicked",DEPLOYMENT_FAILURE_FIX_WITH_AGENT_CLICKED:"deployment_failure_fix_with_agent_clicked",UNPUBLISHED_CHANGES_MODAL_SHOWN:"unpublished_changes_modal_shown",UNPUBLISHED_CHANGES_MODAL_REDEPLOY_AND_BUILD_CLICKED:"unpublished_changes_modal_redeploy_and_build_clicked",UNPUBLISHED_CHANGES_MODAL_CANCEL_CLICKED:"unpublished_changes_modal_cancel_clicked"},V5={TAB_CLICKED:"v2_deployment_tab_clicked",REDEPLOY_CLICKED:"v2_deployment_redeploy_clicked"},m2={CHAT_HEADER_PUBLISH_CLICKED:"chat_header_publish_clicked",CHAT_TRAJ_PUBLISH_CLICKED:"chat_traj_publish_clicked",CHAT_TRAJ_PREVIEW_CLICKED:"chat_traj_preview_clicked",MODAL_PUBLISH_CLICKED:"publish_modal_publish_clicked",MODAL_CANCEL_CLICKED:"publish_modal_cancel_clicked",MODAL_AUTO_RECHARGE_TOGGLED:"publish_modal_auto_recharge_toggled"},pse={SYSTEM_THEME_DETECTED:"system_theme_detected"},fse={DEPLOYED_APP_CLICKED:"deployed_app_clicked"},uF={KEEP_BUILDING_CLICKED:"landing_keep_building_clicked",GET_STARTED_CLICKED:"landing_get_started_clicked"},mse={SERVER_CONFIGURE_CLICKED:"mcp_server_configure_clicked"},Up={DEBUG_CLICKED:"message_debug_clicked",ROLLBACK_CLICKED:"message_rollback_clicked",COPY_CLICKED:"message_copy_clicked",ACTION_EXPANDED:"message_action_expanded",ACTION_COLLAPSED:"message_action_collapsed"},ql={REFRESH_CLICKED:"suggestion_chips_refresh_clicked",CHIP_CLICKED:"suggestion_chip_clicked"},sb={RECENT_TASKS_VIEWED:"recent_tasks_viewed",DEPLOYED_TASKS_VIEWED:"deployed_tasks_viewed",RELOAD_CLICKED:"recent_tasks_reload_clicked"},O9={PREVIOUS_SESSION_CLICKED:"fork_previous_session_clicked",SUMMARIZATION_CLICKED:"fork_summarization_clicked"},h2={LINK_COPIED:"vscode_link_copied",PASSWORD_COPIED:"vscode_password_copied",FREE_USER_CODE_ATTEMPTED:"free_user_code_attempted"},ur={ENTRI_SUCCESS:"custom_domain_entri_success",ENTRI_CANCELLED:"custom_domain_entri_cancelled",STATUS_REFRESH_CLICKED:"custom_domain_status_refresh_clicked",AUTO_LINK_CLICKED:"custom_domain_auto_link_clicked",AUTO_LINK_FAILED:"custom_domain_auto_link_failed",MANUAL_LINK_CLICKED:"custom_domain_manual_link_clicked",MANUAL_LINK_FAILED:"custom_domain_manual_link_failed",LINK_CLICKED:"custom_domain_link_clicked",LINK_CANCELED:"custom_domain_link_canceled",SWITCH_DOMAIN_CLICKED:"custom_domain_switch_domain_clicked",SWITCH_DOMAIN_CANCELLED:"custom_domain_switch_domain_cancelled",UNLINK_DOMAIN_CLICKED:"custom_domain_unlink_domain_clicked",UNLINK_DOMAIN_CANCELLED:"custom_domain_unlink_domain_cancelled",UNLINK_DOMAIN_CONFIRMED:"custom_domain_unlink_domain_confirmed",MANUAL_LINK_CONFIRMED:"custom_domain_manual_link_confirmed",MANUAL_LINK_CANCELLED:"custom_domain_manual_link_cancelled",DNS_RECORD_COPIED:"custom_domain_dns_record_copied",DNS_ADDED_CONFIRMED:"custom_domain_dns_added_confirmed",MANUAL_MODAL_CLOSED:"custom_domain_manual_modal_closed"},Fm={TAB_SWITCHED:"tab_switched",TAB_CLOSED:"tab_closed"},Xt={TEXT_CHANGED:"visual_edit_text_changed",COLOR_CHANGED:"visual_edit_color_changed",FONT_CHANGED:"visual_edit_font_changed",LAYOUT_CHANGED:"visual_edit_layout_changed",SESSION_SAVED:"visual_edit_changes_saved",SESSION_DISCARDED:"visual_edit_changes_discarded",VISUAL_EDIT_ENABLED:"visual_edit_enabled",VISUAL_EDIT_DISABLED:"visual_edit_disabled",VISUAL_EDIT_DISCARDED:"visual_edit_discarded",VISUAL_EDIT_SAVED:"visual_edit_saved",VISUAL_EDIT_UNDO:"visual_edit_undo",VISUAL_EDIT_REDO:"visual_edit_redo",VISUAL_EDIT_ELEMENT_SELECTOR_MODE:"visual_edit_element_selector_mode",VISUAL_EDIT_INTERACTIVE_MODE:"visual_edit_interactive_mode",VISUAL_EDIT_DEVICE_PC:"visual_edit_device_pc",VISUAL_EDIT_DEVICE_TABLET:"visual_edit_device_tablet",VISUAL_EDIT_DEVICE_MOBILE:"visual_edit_device_mobile",VISUAL_EDIT_FULLSCREEN:"visual_edit_fullscreen",VISUAL_EDIT_EXIT_FULLSCREEN:"visual_edit_exit_fullscreen",VISUAL_EDIT_CLOSE_WITH_UNSAVED:"visual_edit_close_with_unsaved",VISUAL_EDIT_INLINE_EDIT_STARTED:"visual_edit_inline_edit_started",VISUAL_EDIT_INLINE_EDIT_SAVED:"visual_edit_inline_edit_saved",VISUAL_EDIT_INLINE_EDIT_CANCELLED:"visual_edit_inline_edit_cancelled",VISUAL_EDIT_COLOR_PICKER_OPENED:"visual_edit_color_picker_opened",VISUAL_EDIT_TEXT_COLOR_TOGGLED:"visual_edit_text_color_toggled",VISUAL_EDIT_BG_COLOR_TOGGLED:"visual_edit_bg_color_toggled",VISUAL_EDIT_ELEMENT_SELECTED:"visual_edit_element_selected",VISUAL_EDIT_ELEMENT_DESELECTED:"visual_edit_element_deselected",VISUAL_EDIT_WIDGET_CLOSED:"visual_edit_widget_closed",VISUAL_EDIT_TAB_CONTENT_CLICKED:"visual_edit_tab_content_clicked",VISUAL_EDIT_TAB_APPEARANCE_CLICKED:"visual_edit_tab_appearance_clicked",VISUAL_EDIT_TAB_TYPE_CLICKED:"visual_edit_tab_type_clicked",VISUAL_EDIT_TAB_LAYOUT_CLICKED:"visual_edit_tab_layout_clicked",VISUAL_EDIT_CONTENT_TEXTAREA_FOCUSED:"visual_edit_content_textarea_focused",VISUAL_EDIT_TAILWIND_CLASSES_FOCUSED:"visual_edit_tailwind_classes_focused",VISUAL_EDIT_FONT_FAMILY_CHANGED:"visual_edit_font_family_changed",VISUAL_EDIT_FONT_WEIGHT_CHANGED:"visual_edit_font_weight_changed",VISUAL_EDIT_FONT_SIZE_CHANGED:"visual_edit_font_size_changed",VISUAL_EDIT_LINE_HEIGHT_FOCUSED:"visual_edit_line_height_focused",VISUAL_EDIT_LETTER_SPACING_FOCUSED:"visual_edit_letter_spacing_focused",VISUAL_EDIT_TEXT_ALIGN_CLICKED:"visual_edit_text_align_clicked",VISUAL_EDIT_TEXT_DECORATION_CLICKED:"visual_edit_text_decoration_clicked",VISUAL_EDIT_CORNER_RADIUS_FOCUSED:"visual_edit_corner_radius_focused",VISUAL_EDIT_CORNER_RADIUS_TOGGLE:"visual_edit_corner_radius_toggle",VISUAL_EDIT_OPACITY_FOCUSED:"visual_edit_opacity_focused",VISUAL_EDIT_SHADOW_CHANGED:"visual_edit_shadow_changed",VISUAL_EDIT_MARGIN_FOCUSED:"visual_edit_margin_focused",VISUAL_EDIT_MARGIN_TOGGLE:"visual_edit_margin_toggle",VISUAL_EDIT_PADDING_FOCUSED:"visual_edit_padding_focused",VISUAL_EDIT_PADDING_TOGGLE:"visual_edit_padding_toggle",VISUAL_EDIT_GAP_FOCUSED:"visual_edit_gap_focused"},jd={CREATE_SUBAGENT:"#DD99FF",CREATE_AGENT:"#F8FF99",INDICATOR_BG_CREATE:"#161617",INDICATOR_BG_DEFAULT:"#0F0F10",INDICATOR_BORDER_SUBAGENT:"rgba(221,153,255,0.5)",INDICATOR_BORDER_AGENT:"rgba(248,255,153,0.5)",INDICATOR_BORDER_DEFAULT:"rgba(255,255,255,0.15)"},Zu={TRANSFER_INITIATED:"move_to_project_transfer_initiated",TRANSFER_SUCCESS:"move_to_project_transfer_success",TRANSFER_FAILED:"move_to_project_transfer_failed"},wp={QR_CTA_HOVER:"mobile_app_qr_cta_hover",QR_CTA_CLICK:"mobile_app_qr_cta_click",SOFT_BLOCK_SHOWN:"mweb_soft_block_shown",SOFT_BLOCK_DISMISSED:"mweb_soft_block_dismissed",SOFT_BLOCK_OPEN_APP:"mweb_soft_block_open_app",SOFT_BLOCK_CONTINUE_WEB:"mweb_soft_block_continue_web",DOWNLOAD_PAGE_VISITED:"mobile_app_download_page_visited",DOWNLOAD_BUTTON_CLICKED:"mobile_app_download_button_clicked"},Ll={ICON_CLICKED:"notification_icon_clicked",TAB_CHANGED:"notification_tab_changed",ALERTS:{LOW_CREDITS_CLICKED:"notification_low_credits_clicked",LOW_CREDITS_ADD_CREDITS_CLICKED:"notification_low_credits_add_credits_clicked",WORKSPACE_INVITE_CLICKED:"notification_workspace_invite_clicked",WORKSPACE_INVITE_ACCEPTED:"notification_workspace_invite_accepted",WORKSPACE_INVITE_DECLINED:"notification_workspace_invite_declined"},OFFER_CLICKED:"notification_offer_clicked",UPDATE_CLICKED:"notification_update_clicked"},IP={TAB_OPENED:"perceived_ux_tab_opened",FIRST_MESSAGE_SENT:"perceived_ux_first_message_sent"},rw="perceived_ux_enabled",$i={REPLACE_DEPLOYMENT_CLICKED:"replace_deployment_clicked_v2",CHANGE_APP_CLICKED:"change_app_clicked_v2",NEW_DEPLOYMENT_CLICKED:"new_deployment_clicked_v2",CARD_EXTERNAL_LINK_CLICKED:"replace_card_external_link_clicked_v2",CARD_JOB_TITLE_CLICKED:"replace_card_job_title_clicked_v2",SELECT_MODAL_OPENED:"replace_select_modal_opened_v2",SELECT_APP_SELECTED:"replace_select_app_selected_v2",SELECT_CONFIRM_CLICKED:"replace_select_confirm_clicked_v2",SELECT_CLOSE_CLICKED:"replace_select_close_clicked_v2",CONFIRM_MODAL_OPENED:"replace_confirm_modal_opened_v2",CONFIRM_DB_MODE_SELECTED:"replace_confirm_db_mode_selected_v2",CONFIRM_URL_CLICKED:"replace_confirm_url_clicked_v2",CONFIRM_CLOSE_CLICKED:"replace_confirm_close_clicked_v2",CONFIRM_REPLACE_CLICKED:"replace_confirm_replace_clicked_v2",CONFIRM_CANCEL_CLICKED:"replace_confirm_cancel_clicked_v2",APP_CARD_CLICKED:"app_selection_card_clicked_v2",APP_JOB_TITLE_CLICKED:"app_selection_job_title_clicked_v2",APP_EXTERNAL_LINK_CLICKED:"app_selection_external_link_clicked_v2"},ua={RESOURCES_UPGRADE_BUTTON_CLICKED:"resources_upgrade_button_clicked",RESOURCES_DOWNGRADE_BUTTON_CLICKED:"resources_downgrade_button_clicked",CHOOSE_RESOURCES_MODAL_OPENED:"choose_resources_modal_opened",CHOOSE_RESOURCES_TIER_SELECTED:"choose_resources_tier_selected",CHOOSE_RESOURCES_KEEP_CURRENT_CLICKED:"choose_resources_keep_current_clicked",CHOOSE_RESOURCES_UPGRADE_CLICKED:"choose_resources_upgrade_clicked",CHOOSE_RESOURCES_DOWNGRADE_CLICKED:"choose_resources_downgrade_clicked",CHOOSE_RESOURCES_MODAL_CLOSED:"choose_resources_modal_closed",CONFIRM_RESOURCE_CHANGE_MODAL_OPENED:"confirm_resource_change_modal_opened",CONFIRM_RESOURCE_UPGRADE_CLICKED:"confirm_resource_upgrade_clicked",CONFIRM_RESOURCE_DOWNGRADE_CLICKED:"confirm_resource_downgrade_clicked",CONFIRM_RESOURCE_CHANGE_MODAL_CLOSED:"confirm_resource_change_modal_closed",CREDITS_INFO_MODAL_OPENED:"credits_info_modal_opened"},cs={APPLE_LOGIN_CLICKED:"mobile_deploy_apple_login_clicked",APPLE_LOGIN_SUCCESS:"mobile_deploy_apple_login_success",APPLE_LOGIN_FAILED:"mobile_deploy_apple_login_failed",APPLE_LOGIN_CANCELLED:"mobile_deploy_apple_login_cancelled",APPLE_LOGIN_2FA_CLICKED:"mobile_deploy_apple_login_2fa_clicked",APPLE_LOGIN_2FA_SUCCESS:"mobile_deploy_apple_login_2fa_success",APPLE_LOGIN_2FA_FAILED:"mobile_deploy_apple_login_2fa_failed",APPLE_LOGIN_2FA_CANCELLED:"mobile_deploy_apple_login_2fa_cancelled",GET_BUILD_CLICK:"get_build_click",ANDROID_BUILDS_SCREEN_OPENED:"android_builds_screen_opened",ANDROID_BUILDS_OK_CLICKED:"android_builds_ok_clicked",ANDROID_BUILDS_BACK_CLICKED:"android_builds_back_clicked",ANDROID_BUILDS_CREATE_CLICKED:"android_builds_create_clicked",ANDROID_BUILD_DOWNLOAD_CLICKED:"android_build_download_clicked",ANDROID_BUILD_STARTED:"android_build_started",ANDROID_BUILD_COMPLETED:"android_build_completed",ANDROID_BUILD_LOGS_CLICKED:"android_build_logs_clicked",ANDROID_BUILD_SHARE_LOGS_CLICKED:"android_build_share_logs_clicked",ANDROID_BUILD_FIX_WITH_AGENT_CLICKED:"android_build_fix_with_agent_clicked",IOS_BUILDS_SCREEN_OPENED:"ios_builds_screen_opened",IOS_BUILDS_CREATE_CLICKED:"ios_builds_create_clicked",IOS_BUILDS_BACK_CLICKED:"ios_builds_back_clicked",IOS_DEVELOPER_DETAILS_SCREEN_OPENED:"ios_developer_details_screen_opened",IOS_DEVELOPER_DETAILS_CONTINUE_CLICKED:"ios_developer_details_continue_clicked",IOS_DEVELOPER_DETAILS_BACK_CLICKED:"ios_developer_details_back_clicked",IOS_DEVELOPER_DETAILS_CLOSE_CLICKED:"ios_developer_details_close_clicked",IOS_BUILD_DOWNLOAD_CLICKED:"ios_build_download_clicked",IOS_BUILD_STARTED:"ios_build_started",IOS_BUILD_COMPLETED:"ios_build_completed",IOS_BUILD_LOGS_CLICKED:"ios_build_logs_clicked",IOS_BUILD_SHARE_LOGS_CLICKED:"ios_build_share_logs_clicked",IOS_BUILD_FIX_WITH_AGENT_CLICKED:"ios_build_fix_with_agent_clicked",BUNDLE_ID_CHANGED:"mobile_deploy_bundle_id_changed",BUNDLE_ID_EDIT_CLICKED:"mobile_deploy_bundle_id_edit_clicked",BUNDLE_ID_CHANGE_CONFIRMED:"mobile_deploy_bundle_id_change_confirmed",BUNDLE_ID_CHANGE_DISMISSED:"mobile_deploy_bundle_id_change_dismissed",IOS_BUILD_FAILED_BUNDLE_ID:"mobile_deploy_ios_build_failed_bundle_id",ANDROID_BUILD_FAILED_BUNDLE_ID:"mobile_deploy_android_build_failed_bundle_id",BUILD_SUPPORT_REQUESTED:"build_support_requested",BUILD_SUPPORT_MODAL_CLOSED:"build_support_modal_closed",BUILD_SUPPORT_MAYBE_LATER_CLICKED:"build_support_maybe_later_clicked",BUILD_SUPPORT_KNOW_MORE_CLICKED:"build_support_know_more_clicked"},hg={DATABASE_ACCESS_CLICKED:"database_access_clicked",DATABASE_MONGO_URL_COPIED:"database_mongo_url_copied"};function iu(e,n,s=30,r="/"){try{const i=new Date;i.setTime(i.getTime()+s*24*60*60*1e3);const a=`expires=${i.toUTCString()}`,o=encodeURIComponent(n);document.cookie=`${e}=${o};${a};path=${r};SameSite=Lax`}catch{}}function ho(e){try{const n=e+"=",s=document.cookie.split(";");for(let r=0;r<s.length;r++){let i=s[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0){const a=i.substring(n.length,i.length);return decodeURIComponent(a)}}return null}catch{return null}}function xg(e,n="/",s){try{const r=s?`;domain=${s}`:"";document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=${n}${r};`}catch{}}function hse(){try{const e={},n=document.cookie.split(";");for(let s=0;s<n.length;s++){let r=n[s];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);const i=r.indexOf("=");if(i>0){const a=r.substring(0,i),o=r.substring(i+1);e[a]=decodeURIComponent(o)}}return e}catch{return{}}}const ph="tracked_query_params";function xse(e,n=30){try{const s=new Set,r=ho(ph);if(r)try{JSON.parse(r).forEach(o=>s.add(o))}catch{}const i=e.get("fbclid");if(i&&!ho("_fbc")){const a=gse(i);a&&(iu("_fbc",a,n),s.add("_fbc"))}e.forEach((a,o)=>{a!=null&&a!==""&&(iu(o,a,n),s.add(o))}),iu(ph,JSON.stringify(Array.from(s)),n)}catch{}}function gse(e){try{if(!e)return null;const n=window.location.hostname;let s=0;if(n.includes(".")){const a=n.split(".");a.length>=2&&(s=a.length-1)}const r=Date.now();return`fb.${s}.${r}.${e}`}catch{return null}}function bse(e=30){try{if(typeof window>"u"||!window.Rewardful)return!1;const n=window.Rewardful;if(n.affiliate||n.referral){const s={};n.affiliate&&(s.affiliate=n.affiliate),n.referral&&(s.referral=n.referral);const r=JSON.stringify(s);iu("rewardful_affiliate",r,e);const i=ho(ph),a=new Set(i?JSON.parse(i):[]);return a.add("rewardful_affiliate"),iu(ph,JSON.stringify(Array.from(a)),e),!0}return!1}catch{return!1}}function rx(e){try{const n=JSON.parse(e);return typeof n=="object"&&n!==null?n:e}catch{return e}}function Io(){const e={app_version:"1.0.466"},n=["_fbp","_fcp","_ttp","_fbc"],s=ho(ph);if(s)try{return JSON.parse(s).forEach(a=>{const o=ho(a);o&&(e[a]=rx(o))}),n.forEach(a=>{const o=ho(a);if(o){const l=a.startsWith("_")?a.substring(1):a;e[l]=rx(o)}}),e}catch{}const r=hse();return Object.entries(r).forEach(([i,a])=>{const o=i.toLowerCase();o.includes("session")||o.includes("token")||o.startsWith("sb-")||(e[i]=rx(a))}),n.forEach(i=>{const a=ho(i);if(a){const o=i.startsWith("_")?i.substring(1):i;e[o]=rx(a)}}),e}const yse="cjId",x2=()=>{if(!(typeof window>"u"))try{const e=document.cookie.split(";");for(let n of e){const[s,r]=n.trim().split("=");if(s===yse)return decodeURIComponent(r)}}catch{}},wl=(e,n)=>{if(typeof window<"u"&&window.dataLayer){const s=x2(),r=ho("rewardful_affiliate"),i=ho("utm_source"),a={event:e,...n,timestamp:new Date().toISOString(),...s&&{cj_event_id:s},...r&&{rewardful_affiliate:r},...i&&{utm_source:i}};window.dataLayer.push(a)}},rb=(e,n,s,r)=>{const i=localStorage.getItem("utm_source")||void 0,a=localStorage.getItem("utm_campaign")||void 0,o=localStorage.getItem("utm_medium")||void 0,l=localStorage.getItem("utm_content")||void 0,c=localStorage.getItem("utm_term")||void 0,u=localStorage.getItem("user_referrer")||void 0,p=new URLSearchParams(window.location.search),f=p.get("referral")||p.get("ref")||void 0;wl("sign_up",{method:e,user_id:n,user_email:s,utm_source:i,utm_campaign:a,utm_medium:o,utm_content:l,utm_term:c,referrer:u,referral_code:f,signup_page:window.location.pathname,signup_url:window.location.href,...r})},ib=(e,n,s)=>{if(!(typeof window>"u"||!document.cookie.match(/(^| )ps_partner_key=([^;]+)/))&&window.growsumo?.createSignup)try{window.growsumo.data.email=e,window.growsumo.data.customer_key=n,s&&(window.growsumo.data.name=s),window.growsumo.createSignup(i=>{})}catch{}},vse=(e,n,s)=>{wl("login",{method:e,user_id:n,user_email:s,login_page:window.location.pathname})},pF=(e,n,s,r,i=!1,a)=>{const o=localStorage.getItem("utm_source")||void 0,l=localStorage.getItem("utm_campaign")||void 0,c=localStorage.getItem("utm_medium")||void 0;wl("topup_intent",{user_id:e,credits_amount:n,price_usd:s,user_tier:r,is_custom_amount:i,organization_id:a||"personal",checkout_type:"stripe",utm_source:o,utm_campaign:l,utm_medium:c,page_url:window.location.href,page_path:window.location.pathname})},wse=(e,n,s,r)=>{const i=localStorage.getItem("utm_source")||void 0,a=localStorage.getItem("utm_campaign")||void 0,o=localStorage.getItem("utm_medium")||void 0,l=localStorage.getItem("utm_term")||void 0,c=localStorage.getItem("utm_content")||void 0,u=localStorage.getItem("referral_code")||void 0;wl("topup_success",{user_id:e,credits_purchased:n,amount:s,currency:r,utm_source:i,utm_campaign:a,utm_medium:o,utm_term:l,utm_content:c,referral_code:u,purchase_date:new Date().toISOString()})},gg=(e,n,s,r,i,a,o,l,c)=>{const u=localStorage.getItem("utm_source")||void 0,p=localStorage.getItem("utm_campaign")||void 0,f=localStorage.getItem("utm_medium")||void 0,m=localStorage.getItem("utm_term")||void 0,h=localStorage.getItem("utm_content")||void 0,x=localStorage.getItem("referral_code")||void 0;wl("upgrade_intent",{user_id:e,current_tier:n||"free",target_tier:s,billing_period:r,is_organization:i,organization_id:a||void 0,trigger_location:o||"upgrade_modal",utm_source:u,utm_campaign:p,utm_medium:f,utm_term:m,utm_content:h,referral_code:x,currency:l||"USD",amount:c,intent_date:new Date().toISOString()})},Cse=({userId:e,planName:n,tierName:s,credits:r,billingPeriod:i,isOrganization:a,organizationId:o,organizationName:l,paymentId:c,isRazorpayFlow:u,amount:p,currency:f})=>{const m=localStorage.getItem("utm_source")||void 0,h=localStorage.getItem("utm_campaign")||void 0,x=localStorage.getItem("utm_medium")||void 0,g=localStorage.getItem("utm_term")||void 0,v=localStorage.getItem("utm_content")||void 0,b=localStorage.getItem("referral_code")||void 0;wl("subscription_success",{user_id:e,plan_name:n,tier_name:s,credits_per_month:r,billing_period:i||"monthly",is_organization:a||!1,organization_id:o||void 0,organization_name:l||void 0,payment_id:c||void 0,is_razorpay_flow:!!u,amount:p,currency:f,utm_source:m,utm_campaign:h,utm_medium:x,utm_term:g,utm_content:v,referral_code:b,subscription_date:new Date().toISOString()})},_se=(e,n,s,r)=>{const i=localStorage.getItem("utm_source")||void 0,a=localStorage.getItem("utm_campaign")||void 0,o=localStorage.getItem("utm_medium")||void 0,l=localStorage.getItem("utm_content")||void 0,c=localStorage.getItem("utm_term")||void 0,u=localStorage.getItem("user_referrer")||void 0,p=new URLSearchParams(window.location.search),f=p.get("referral")||p.get("ref")||void 0;wl("first_job_created",{user_id:e,job_id:n,task_description:s.substring(0,500),task_length:s.length,utm_source:i,utm_campaign:a,utm_medium:o,utm_content:l,utm_term:c,referrer:u,referral_code:f,creation_page:window.location.pathname,creation_url:window.location.href,...r})},Ju=(e,n,s,r)=>{if(!(typeof window>"u"))try{const i={amount:n,currency:s,category:r,timestamp:Date.now()};sessionStorage.setItem(`payment_details_${e}`,JSON.stringify(i))}catch{}},fF=e=>{if(typeof window>"u")return null;try{const n=sessionStorage.getItem(`payment_details_${e}`);if(!n)return null;const s=JSON.parse(n);return Date.now()-s.timestamp>1440*60*1e3?(sessionStorage.removeItem(`payment_details_${e}`),null):s}catch{return null}},mF=e=>{if(!(typeof window>"u"))try{sessionStorage.removeItem(`payment_details_${e}`)}catch{}},hF=(e,n,s,r="USD",i="credits")=>{if(!(typeof window>"u"))try{if(!Number.isFinite(s)||s<=0)return;const a=r?.toUpperCase()||"USD",o=x2(),l="";if(window.cj||(window.cj={}),window.cj.order={enterpriseId:1592779,pageType:"conversionConfirmation",userId:e,emailHash:l,orderId:n,actionTrackerId:501794,currency:a,amount:s,category:i,cjeventOrder:o||""},document.getElementById("cjapitag")){wl("cj_conversion_tracked",{order_id:n,amount:s,currency:a,category:i,cj_event_id:o});return}const u=document.createElement("script");u.type="text/javascript",u.async=!0,u.id="cjapitag",u.src="https://api.emergent.sh/proxydirectory/tags/1171454318801/tag.js",u.onload=()=>{wl("cj_conversion_tracked",{order_id:n,amount:s,currency:a,category:i,cj_event_id:o})},u.onerror=()=>{};const p=document.getElementsByTagName("script")[0];p&&p.parentNode?p.parentNode.insertBefore(u,p):document.head.appendChild(u)}catch{}},jse=(e,n,s,r,i)=>{const a=r!=="free";wl(kP.USER_STATS_UPDATED,{user_id:e,job_count:n,deployment_count:s,user_tier:r,is_paid_user:a,has_jobs:n>0,has_deployments:s>0,organization_id:i||"personal"})},Nse=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.endsWith(".test"),Fse={activeCount:0,lastHistoryAt:null,lastStreamAt:null,lastRequestId:null,handoffCount:0,lastHandoffAt:null},Ese=()=>typeof window>"u"?!1:Nse(),D1=e=>{if(!Ese())return;const s=window.__trajectoryStreamProbe??{...Fse};e(s),window.__trajectoryStreamProbe=s};function au(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}function TP(e,n){const s=n?`_${n}`:"";return`tiktok_pixel_event_${e}${s}`}function B9(e,n){const s=TP(e,n),r=sessionStorage.getItem(s);if(!r)return!1;try{const i=JSON.parse(r),a=Date.now()-i.timestamp,o=1440*60*1e3;return a>o?(sessionStorage.removeItem(s),!1):i.tracked===!0}catch{return!1}}function U9(e,n,s){const r=TP(e,s);sessionStorage.setItem(r,JSON.stringify({eventId:n,timestamp:Date.now(),tracked:!0}))}function Tf(){return typeof window<"u"&&typeof window.ttq<"u"}function ab(e,n,s){if(Tf())try{const r={};e&&(r.email=e.toLowerCase().trim()),n&&(r.external_id=n),Object.keys(r).length>0&&window.ttq&&window.ttq.identify(r)}catch{}}function Sse(e,n){const s=au();if(B9("StartTrial",e)||!Tf())return s;try{window.ttq&&window.ttq.track("StartTrial",{content_id:n?.[0]||"home_page",content_type:"product"},{event_id:s}),e&&U9("StartTrial",s,e)}catch{}return s}const g2="tiktok_registration_event_id";function kse(e){sessionStorage.setItem(g2,JSON.stringify({eventId:e,timestamp:Date.now()}))}function AP(){const e=sessionStorage.getItem(g2);if(!e)return null;try{const n=JSON.parse(e),s=300*1e3;return Date.now()-n.timestamp>s?(sessionStorage.removeItem(g2),null):n.eventId||null}catch{return null}}function DP(){sessionStorage.removeItem(g2)}function ob(e,n,s,r){const i=r||au();if(B9("CompleteRegistration",e)||(kse(i),!Tf()))return i;try{window.ttq&&window.ttq.track("CompleteRegistration",{content_type:"product",content_id:s||"email"},{event_id:i}),U9("CompleteRegistration",i,e)}catch{}return i}function Ise(e,n,s,r){const i=au();if(!Tf())return i;try{const a={content_type:"product",content_id:n||e};window.ttq&&window.ttq.track("ViewContent",a,{event_id:i})}catch{}return i}function M1(e,n,s){const r=au();if(!Tf())return r;try{window.ttq&&window.ttq.track("InitiateCheckout",{content_type:"product",content_id:e,value:n,currency:s.toUpperCase()},{event_id:r})}catch{}return r}function b2(e,n,s,r){if(!B9("Subscribe",n)&&Tf())try{window.ttq&&window.ttq.track("Subscribe",{content_type:"product",content_id:"subscription",value:s,currency:r.toUpperCase()},{event_id:e}),U9("Subscribe",e,n)}catch{}}const H9=()=>!!(typeof window<"u"&&window.electron),Tse=e=>{H9()?window.electron.openExternal(e):window.open(e,"_blank")},Af={listContainers:async()=>await window.electron.ipcRenderer.invoke("docker:list-containers"),listImages:async()=>await window.electron.ipcRenderer.invoke("docker:list-images"),executeCommand:async(e,n)=>await window.electron.ipcRenderer.invoke("docker:execute-command",{command:n,containerId:e}),createContainer:async(e,n,s,r,i)=>await window.electron.ipcRenderer.invoke("docker:create-container",{image:e,containerName:n,portMappings:s,volumePath:r,copyToApp:i}),pullImage:async(e,n)=>{if(n){const s=()=>{window.electron.ipcRenderer.removeAllListeners("docker:pull-progress")};window.electron.ipcRenderer.on("docker:pull-progress",r=>{if(r&&typeof r=="object"){const i={layer:r.layer||"",progress:typeof r.progress=="number"?r.progress:0,status:r.status||"downloading",error:r.error||void 0};n(i),(i.status==="finished"||i.status==="error")&&s()}})}try{return await window.electron.ipcRenderer.invoke("docker:pull-image",{image:e})}catch(s){throw n&&window.electron.ipcRenderer.removeAllListeners("docker:pull-progress"),s}},cloneRepository:async(e,n,s)=>await window.electron.ipcRenderer.invoke("git:clone",{repoUrl:e,targetPath:n,branch:s}),getProjectPath:async e=>await window.electron.ipcRenderer.invoke("path:get-project-path",e),openTerminal:async e=>await window.electron.ipcRenderer.invoke("terminal:open",{containerId:e}),removeContainer:async e=>await window.electron.ipcRenderer.invoke("docker:remove-container",{containerId:e}),checkPorts:async e=>await window.electron.ipcRenderer.invoke("check-ports",e),writeFile:async(e,n)=>await window.electron.ipcRenderer.invoke("fs:write-file",{filePath:e,content:n}),showDirectoryPicker:async()=>window.electron.ipcRenderer.invoke("show-directory-picker"),showInputDialog:async e=>window.electron.ipcRenderer.invoke("show-input-dialog",e),commitContainer:async e=>await window.electron.ipcRenderer.invoke("docker:commit-container",{containerId:e}),copyToHost:async(e,n)=>await window.electron.ipcRenderer.invoke("docker:copy-to-host",{containerId:e,hostDir:n}),generateRandomPorts:async e=>await window.electron.ipcRenderer.invoke("docker:generate-random-ports",{count:e}),isDockerInstalled:()=>window.electron.ipcRenderer.invoke("docker:is-installed"),isDockerRunning:()=>window.electron.ipcRenderer.invoke("docker:is-running"),startDocker:()=>window.electron.ipcRenderer.invoke("open-docker-app"),async executeNeonAction(e,n){return await window.electron.ipcRenderer.invoke("neon:execute",{containerId:e,config:n})},generateNeonScript(e,n){return window.electron.ipcRenderer.invoke("neon:generate-script",e,n)},getDefaultWorkspaceDir(){return window.electron.ipcRenderer.invoke("neon:get-default-workspace-dir")},getGitStatus:async(e,n)=>{const s=await window.electron.ipcRenderer.invoke("git:get-status",{containerId:e,initialCommitId:n});if(s.error)throw new Error(s.error);return!s.output||s.output.trim()===""?[]:s.output.trim().split(`
`).filter(r=>r.trim()!=="").map(r=>{const[i,a]=r.split("	");return{fileName:a||"",status:i||""}}).filter(r=>r.fileName&&r.fileName.trim()!=="")},getGitDiff:async(e,n,s)=>{const r=await window.electron.ipcRenderer.invoke("git:get-diff",{containerId:e,fileName:n,initialCommitId:s});if(r.error)throw new Error(r.error);return r.output},checkDockerAvailability(){return window.electron.ipcRenderer.invoke("docker:check-availability")},checkForUpdates:async()=>await window.electron.ipcRenderer.invoke("update:check"),downloadUpdate:async()=>await window.electron.ipcRenderer.invoke("update:download"),quitAndInstall:async()=>await window.electron.ipcRenderer.invoke("update:quit-and-install"),setSentryUser:async e=>await window.electron.ipcRenderer.invoke("sentry:setUser",e),openExternal:e=>{Tse(e)},initiateGitHubAuth:async()=>await window.electron.ipcRenderer.invoke("github:initiate-auth"),getGitHubRepositories(){return window.electron.ipcRenderer.invoke("github:repositories")}},xF=()=>{try{return window?.Rewardful?.referral}catch{return}};let Em=null,Nd=null;const Ase=e=>{const n=e;return n?.name==="AbortError"||n?.code==="ERR_CANCELED"};async function MP(e,n){const s=e.response?.status,r=parseInt(s)===401?"You are unauthorized to use this application":FP(e);return await P9(r,!0),new Promise(()=>{})}function Dse(e){const n=JK.create({baseURL:e,headers:{"Content-Type":"application/json"}});return n.interceptors.request.use(async s=>{const{data:{session:r}}=await pi.auth.getSession();if(r?.access_token&&(s.headers.Authorization=`Bearer ${r.access_token}`),!s.headers["X-Ads-Event-ID"]){const i=AP();i&&(s.headers["X-Ads-Event-ID"]=i,DP())}return s}),n.interceptors.request.use(s=>s),n.interceptors.response.use(s=>s,async s=>{let r=null;if(s.config?.url)try{s.config.url.startsWith("http")?r=new URL(s.config.url).pathname:r=s.config.url.split("?")[0]}catch{r=s.config.url}jt(Zt.API.AGENT_API,s,{url:s.config?.url,method:s.config?.method?.toUpperCase(),status:s.response?.status,endpoint:r??void 0});const i=s.config?.url?.includes("/ios/apple/");return EP(s)&&!i?MP(s):Promise.reject(s)}),n}let Rt=Dse(so.apiBaseUrl);const vt={getRepositories:async()=>({data:await Af.listImages()}),getPrompts:()=>Rt.get("/prompts"),getJobs:()=>Rt.get("/jobs/?limit=50"),getJob:async e=>Rt.get(`/jobs/v0/${e}/`),getActions:e=>Rt.get("/actions/",{params:e}),pauseJob:e=>Rt.post("/actions/pause/",{job_id:e.job_id,agent_type:e.agent_name}),resumeJob:e=>Rt.post("/jobs/resume",e),stopJob:e=>Rt.post("/jobs/stop",e),pauseEnvironment:async e=>{const n=await Rt.post(`/jobs/v0/${e}/pause-environment`);if(!n.data.success)throw new Error(n.data.data.error);return n.data.data},restartEnvironment:async(e,n)=>{const s=n?"?upgrade=true":"",r=await Rt.post(`/jobs/v0/${e}/restart-environment${s}`);if(r.status!=200)throw new Error(r.data.error);return r.data},getBudget:async e=>{const n=await Rt.get(`/budget/${e}`);if(!n.data.success)throw new Error(n.data.data.error);return n.data.data},updateBudget:async(e,n)=>{const s=await Rt.put(`/budget/${e}`,{amount:n});if(!s.data.success)throw new Error(s.data.data.error);return s.data.data},getSkills:async()=>{try{return await Rt.get("/skills/")}catch(e){return{data:[],error:e.message}}},getConfig:(e="1.0.21")=>Rt.get("/repositories/config",{params:{app_version:e||"1.0.21"}}).then(n=>n.data),getTrajectory:(e,n,s)=>{const r=n?{Authorization:`Bearer ${n}`}:void 0,i=new URLSearchParams({job_id:e});return s&&i.append("last_request_id",s),Rt.get(`/trajectories/v0/?${i.toString()}`,{headers:r})},submitCloudJob:async(e,n,s=!1,r,i)=>{try{const a={client_ref_id:n,payload:{processor_type:"env_only",is_cloud:!0,env_image:e.env_image,branch:"",repository:"",enable_visual_edit:!0,...e,...e.testMode&&{test_mode_on:"true"}},model_name:e.model_name,resume:s},o=Io();if(e?.organization_id&&(a.organization_id=e.organization_id),a.ads_metadata=o,r&&(a.finalize_artifact_upload=r),s&&(a.id=n),!n)throw new Error("Either job_id or client_ref_id must be provided");const l={};return i&&(l["X-Ads-Event-ID"]=i),(await Rt.post("/jobs/v0/submit-queue/",a,{headers:l})).data}catch(a){throw a}},getChatPreview:async(e,n,s=!1,r)=>{try{const i={client_ref_id:n,payload:{processor_type:"env_only",is_cloud:!0,env_image:e.env_image,branch:"",repository:"",...e,...e.testMode&&{test_mode_on:"true"}},model_name:e.model_name,resume:s},a=Io();if(e?.organization_id&&(i.organization_id=e.organization_id),i.ads_metadata=a,r&&(i.finalize_artifact_upload=r),s&&(i.id=n),!n)throw new Error("Either job_id or client_ref_id must be provided");return(await Rt.post("/jobs/v0/chat/preview",i)).data}catch(i){throw i}},submitHITL:async(e,n,s=!1,r)=>{try{const i={client_ref_id:n,payload:{processor_type:"env_only",is_cloud:!0,env_image:e.env_image,branch:"",repository:"",...e,...e.testMode&&{test_mode_on:"true"}},model_name:e.model_name,resume:s};if(r&&(i.finalize_artifact_upload=r),s&&(i.id=n),!n)throw new Error("Either job_id or client_ref_id must be provided");return(await Rt.post("/jobs/v0/hitl-queue/",i)).data}catch(i){throw i}},getJobByClientRef:async e=>{try{return(await Rt.get(`/jobs/v0/ref/${e}`)).data}catch{return{}}},getJobPreviewUrl:async e=>{try{return(await Rt.get(`/jobs/v0/${e}/preview`)).data}catch(n){throw n}},getCloudGitDiff:async(e,n,s)=>Rt.get(`/jobs/v0/diff/${e}`,{params:{file_path:n||"",initial_commit_id:s||""}}),rollbackToRequestId:async(e,n,s="EmergentAssistant",r="all",i=!1)=>{try{const a={job_id:e,request_id:n,base_url:so.apiBaseUrl,agent_name:s};return r==="messages"&&(a.checkout=!1),r==="all"&&(a.checkout=!0),i&&(a.retry=!0),(await Rt.post("/jobs/v0/rollback/cloud/",a)).data}catch(a){throw a}},getUserDetails:async()=>{const e=Io(),n=Object.keys(e).length>0?{ads_metadata:e}:{};try{return(await Rt.post("/user/details",n)).data}catch(s){if(EP(s))return MP(s);throw s}},getGitHubInstallations:async()=>{try{return(await Rt.get("/github/installations")).data}catch(e){return{installations:[],error:e.message}}},saveGitHubInstallation:async(e,n)=>{try{return(await Rt.post("/github/installation",{installation_id:e,code:n})).data}catch(s){return{success:!1,error:s.message}}},getGitHubRepositories:async()=>{try{return(await Rt.get("/github/repositories")).data}catch(e){return{repositories:[],error:e.message}}},getGitHubBranches:async(e,n)=>{try{const s=encodeURIComponent(e),r=encodeURIComponent(n),i=await Rt.get(`/github/branches/${s}/${r}`);return Array.isArray(i.data),i.data}catch(s){return{branches:[],error:s.message}}},createGitHubRepository:async e=>{try{return(await Rt.post("/github/repositories",e)).data}catch(n){throw n}},pushToGitHub:async(e,n)=>{try{return(await Rt.post(`/jobs/v0/push_to_github/${e}`,n)).data}catch(s){if(s.response&&s.response.data?.detail?.toLowerCase?.()?.includes("updates were rejected because the remote contains work that you do not have locally")){const i=`Conflict Detected
Your changes conflict with the remote branch '${n.branch_name||"main"}'. We recommend creating a new branch and pushing changes to that instead.`;throw new Error(i)}if(s.response){const r=s.response.status;let i;try{s.response.data?.error?i=typeof s.response.data.error=="object"?JSON.stringify(s.response.data.error):s.response.data.error:s.response.data?i=typeof s.response.data=="object"?JSON.stringify(s.response.data):s.response.data:i=s.message||"Unknown error"}catch{i="Error parsing error data"}const a=`Error (${r}): ${i}`;throw new Error(a)}throw s}},getRollbackStatus:async(e,n)=>{try{const s=n?`/${e}/rollback/status?request_id=${n}`:`/${e}/rollback/status`;return(await Rt.get(s)).data}catch(s){throw s}},getTrajectoryHistory:async(e,n,s=50)=>{try{const r=new URLSearchParams;return n&&r.append("cursor",n),r.append("limit",String(s)),await Rt.get(`/trajectories/v0/${e}/history?${r.toString()}`)}catch(r){throw r}},fetchTrajectory:async(e,n,s)=>{const r=new AbortController,i=Symbol("fetchTrajectory");Nd=i;const a=new URLSearchParams;a.append("job_id",e),n&&a.append("last_request_id",n);const o=`${so.apiBaseUrl}/trajectories/v0/stream?${a.toString()}`;n||H(mg.REQUEST_INITIATED,{jobId:e});try{const l=Em,c=await Rt.get(o,{headers:{Accept:"text/event-stream","Cache-Control":"no-cache"},responseType:"stream",adapter:"fetch",signal:r.signal});if(!c.data)throw n||H(mg.RESPONSE_NULL,{jobId:e}),new Error("Failed to fetch trajectory: No data returned");const u=c.data.getReader();if(!u)throw new Error("Stream reader could not be created");let p={trajectories:{data:[],updated_data:[],chat_mode:null}},f="";if(!(Nd===i||Nd===null&&Em===null)){try{await u.cancel()}catch{}return r.abort(),p}if(Nd===i&&(Nd=null),l){if(l.cancel)try{await Promise.resolve(l.cancel())}catch{}try{l.controller.abort()}catch{}}for(Em={controller:r,jobId:e,cancel:()=>u.cancel()},D1(h=>{h.activeCount=1,h.lastStreamAt=Date.now()}),l&&D1(h=>{h.handoffCount+=1,h.lastHandoffAt=Date.now()});;){const{done:h,value:x}=await u.read();if(h){if(f.trim())try{const b=f.split(`
`);for(const y of b)if(y.startsWith("data: ")){const w=y.substring(6),_=JSON.parse(w);_.trajectories?.data&&(p=_)}}catch{}break}const g=new TextDecoder().decode(x);f+=g;const v=f.split(`
`);f=v.pop()||"";for(const b of v)if(b.startsWith("data: "))try{const y=b.substring(6),w=JSON.parse(y);if(n||H(mg.JSON_PARSED,{jobId:e,trajectoryDataCount:w.trajectories?.data?.length||0}),w.trajectories?.data&&s?.onTrajectoryResult&&s?.cache){const N=w.trajectories.data.sort((j,C)=>new Date(j.created_at).getTime()-new Date(C.created_at).getTime()).map(j=>({...j.traj_payload,id:j.id,request_id:j.request_id,job_id:j.job_id,traj_payload:j.traj_payload,commit_id:j.commit_id,parent_request_id:j.parent_request_id,status:j.status,created_at:j.created_at,updated_at:j.updated_at})).filter(j=>!s?.cache?.current.trajectory.some(S=>S.id===j.id));N.length>0&&s?.cache&&s?.onTrajectoryResult&&(s.cache.current.trajectory=[...s.cache.current.trajectory,...N],s.onTrajectoryResult(s.cache.current.trajectory)),p=w}else w.trajectories?.data&&(p=w);w.chunk&&s?.onCurrentChunkResult&&s?.cache&&(s.cache.current.trajectory.some(N=>N.request_id===w.chunk.request_id)&&w.chunk.completed?s.onCurrentChunkResult(""):s.onCurrentChunkResult(w))}catch{}}return p}catch(l){throw Nd===i&&(Nd=null),Ase(l)||Em?.controller===r&&(Em=null),l}},handleHimMessage:async(e,n)=>{try{return(await Rt.post(`/api/v0/tim/${e}`,{message:n})).data}catch(s){throw s}},initializeHimSession:async e=>{try{return(await Rt.post("/actions/tim/",{job_id:e})).data}catch(n){throw n}},createCheckoutSession:async(e,n=!1,s,r,i="usd",a,o,l=!1,c,u)=>{try{const p=Io(),f=new URLSearchParams(window.location.search);f.delete("payment_id"),f.delete("payment_status"),f.delete("subscription_status");const m=f.toString(),h=`${window.location.origin}${window.location.pathname}${m?`?${m}`:""}`,x={currency:i.toLowerCase(),metadata:{hostname:h,is_subscription:n?"true":"false"}};Object.keys(p).length>0&&(x.ads_metadata=p);const g=x2();g&&(x.cj_event_id=g),n&&s?(x.plan_id=s,x.mode="subscription"):x.amount=e;const v=xF();if(v&&(x.client_reference_id=v),r&&(x.organization_id=r),o)x.coupon_name=o;else if(u)x.promo_code=u;else{const w=localStorage.getItem("promoCouponCode");w&&(x.coupon_name=w)}l&&(x.is_promotional_setup=!0),x.litmus_config=c?{experiment_id:c.experiment_id||null,variant_id:c.variant_id||null}:null;const b={};a&&(b["X-Ads-Event-ID"]=a);const y=await Rt.post("/payments/checkout-sessions",x,{headers:b});if(!y.data.sessionId||!y.data.url)throw new Error("Invalid response from checkout session creation");return y.data}catch(p){throw p}},createGiftingCheckoutSession:async e=>{try{const{planId:n,amount:s,recipientEmail:r,recipientName:i,gifterName:a,gifterEmail:o,customNote:l,couponCode:c,currency:u="usd",cardImageName:p,litmusConfig:f}=e,m=Io(),h=new URLSearchParams(window.location.search);h.delete("payment_id"),h.delete("payment_status"),h.delete("subscription_status");const x=h.toString(),g=`${window.location.origin}${window.location.pathname}${x?`?${x}`:""}`,v={mode:"payment",amount:s,currency:u.toLowerCase(),plan_id:n,metadata:{hostname:g,recipient_email:r,recipient_name:i,gifter_name:a,gifter_email:o,is_gift:!0,...l&&{custom_note:l},...p&&{card_image_name:p}}};Object.keys(m).length>0&&(v.ads_metadata=m);const b=x2();b&&(v.cj_event_id=b);const y=xF();y&&(v.client_reference_id=y),c&&(v.coupon_name=c),v.litmus_config=f?{experiment_id:f.experiment_id||null,variant_id:f.variant_id||null}:null;const w=await Rt.post("/payments/checkout-sessions",v);if(!w.data.sessionId||!w.data.url)throw new Error("Invalid response from gifting checkout session creation");return w.data}catch(n){throw jt("gifting_checkout_session_error",n,{plan_id:e.planId,currency:e.currency,recipient_email:e.recipientEmail,gifter_email:e.gifterEmail}),n}},quickTopup:async(e,n="usd",s,r,i,a)=>{try{const o=Io(),l={amount:e,currency:n.toLowerCase()};return s&&(l.organization_id=s),r?l.coupon_name=r:a&&(l.promo_code=a),l.litmus_config=i?{experiment_id:i.experiment_id||null,variant_id:i.variant_id||null}:null,Object.keys(o).length>0&&(l.ads_metadata=o),(await Rt.post("/payments/quick-topup",l)).data}catch(o){const l=Io();throw jt("quick_topup_error",o,{amount:e,currency:n,organization_id:s,ads_metadata:JSON.stringify(l)}),o}},quickUpgrade:async(e,n="usd",s,r)=>{try{const i=Io(),a={plan_id:e,currency:n.toLowerCase()};return s&&(a.coupon_name=s),a.litmus_config=r?{experiment_id:r.experiment_id||null,variant_id:r.variant_id||null}:null,Object.keys(i).length>0&&(a.ads_metadata=i),(await Rt.post("/payments/quick-upgrade",a)).data}catch(i){const a=Io();throw jt(Zt.PAYMENT.QUICK_UPGRADE,i,{plan_id:e,currency:n,ads_metadata:JSON.stringify(a)}),i}},getSavedPaymentMethod:async e=>{try{return(await Rt.get("/payments/saved-payment-method",{params:e?{organization_id:e}:void 0})).data}catch(n){return jt("get_saved_payment_method_error",n,{organization_id:e}),{}}},createSubscriptionCheckout:async e=>{try{const n=Io(),s={price_id:e,metadata:{hostname:`${window.location.origin}`}};Object.keys(n).length>0&&(s.ads_metadata=n);const r=await Rt.post("/payments/subscription",s);if(!r.data.sessionId||!r.data.url)throw new Error("Invalid response from subscription checkout creation");return r.data}catch(n){throw n}},checkPaymentStatus:async e=>{try{return(await Rt.get(`/payments/${e}/status`)).data}catch(n){throw n}},getManageSubscriptionUrl:async e=>{try{const n=e?{organization_id:e}:{};return(await Rt.get("/payments/manage-subscription",{params:n})).data}catch(n){throw n}},getCancelRazorpaySubscription:async e=>{try{return(await Rt.post("/payments/subscription/cancel",{user_subscription_id:e})).data}catch(n){throw n}},cancelSubscription:async e=>{try{return(await Rt.post("/payments/subscription/cancel",{user_subscription_id:e})).data}catch(n){throw jt("subscription_cancellation_error",n,{user_subscription_id:e}),n}},getPromoCoupon:async(e,n)=>{try{return(await Rt.post("/coupons/generate",{coupon_id:n},{headers:{"X-Device-Id":e}})).data.promo_code}catch(s){throw s}},getDebugInfo:async e=>{try{const n=`/llm-proxy/query/request_id/${e}`;return(await Rt.get(n)).data}catch(n){throw n}},cloneEnvironment:async e=>{try{return(await Rt.post(`/jobs/v0/${e}/clone-environment`)).data}catch(n){throw n}},getChatHistory:async e=>{try{return(await Rt.get(`/chat-history/v0/${e}`,{timeout:12e5})).data}catch(n){throw n}},updateChatHistory:async(e,n)=>{try{return(await Rt.patch(`/chat-history/v0/${e}`,n)).data}catch(s){throw s}},deployApp:async(e,n,s,r,i)=>{try{return(await Rt.post("/jobs/v0/deploy",{job_id:e,image:n,deployment_id:s,acknowledgements:r,is_database_persist:i})).data}catch(a){throw a.response&&a.response.data?new Error(a.response.data.detail||a.response.data.error||"Failed to deploy app"):a}},deployExpoApp:async e=>{try{return(await Rt.post(`/jobs/v0/${e}/persist-environment`,{})).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},getDeployStatus:async e=>{try{return(await Rt.get(`/jobs/v0/deploy/${e}/latest`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},getDeployWarningInformation:async(e,n)=>{try{const s=n?{organization_id:n}:{};return(await Rt.get(`/jobs/v0/deploy/${e}/precheck`,{params:s})).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to get warning information"):s}},getDeployLogs:async e=>{try{return(await Rt.get(`/jobs/v0/deploy/${e}/logs`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to get deploy logs"):n}},getDeploymentHistory:async e=>{try{return(await Rt.get(`/jobs/v0/deploy/${e}/history`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},getEnvs:async e=>{try{return(await Rt.get(`/jobs/v0/deploy/${e}/envs`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},shutDownDeployment:async e=>{try{return(await Rt.delete(`/jobs/v0/deploy/${e}`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},deploymentHistory:async e=>{try{return(await Rt.get(`/jobs/v0/deploy/${e}/history`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},updateEnvironmentVariables:async(e,n)=>{try{return(await Rt.put(`/jobs/v0/deploy/${e}/envs/bulk`,{secrets_with_versions:n.reduce((r,i)=>(r[i.key]={value:i.value,version:i.version},r),{})})).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to deploy app"):s}},registerDomain:async(e,n)=>{try{return(await Rt.post("/jobs/v0/domains/register",{domain:e,job_id:n})).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to register domain"):s}},verifyDomain:async(e,n)=>{try{return(await Rt.post("/jobs/v0/domains/verify",{domain:e,job_id:n})).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to verify domain"):s}},connectDomain:async(e,n)=>{try{return(await Rt.post("/jobs/v0/domains/connect",{domain:e,job_id:n})).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to connect domain to app"):s}},getDomainStatus:async e=>{try{return(await Rt.get(`/jobs/v0/domains/status?domain=${encodeURIComponent(e)}`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to get domain status"):n}},unlinkDomain:async(e,n)=>{try{return(await Rt.delete(`/jobs/v0/domains/${encodeURIComponent(e)}/apps/${n}`)).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to unlink domain"):s}},getDeployments:async(e,n)=>{try{const s={};return e&&(s.organization_id=e),n&&(s.job_id=n),(await Rt.get("/jobs/v0/deployments",{params:s})).data}catch(s){return{error:s.message}}},switchDomain:async(e,n,s)=>{try{return(await Rt.post(`/api/v1/domains/${e}/switch`,{target_app_name:n,source_app_name:s})).data}catch(r){throw r}},generateSummary:async e=>{try{return(await Rt.post(`/jobs/v0/${e}/summary`)).data}catch(n){throw n}},viewSummary:async e=>{try{return(await Rt.get(`/jobs/v0/${e}/summary`)).data}catch(n){throw n}},submitFork:async(e,n)=>{try{return(await Rt.post(`/jobs/v0/${e}/fork-environment`,n)).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to submit fork"):s}},uploadArtifact:async(e,n)=>{try{return(await Rt.post(`/artifacts/job/${e}/upload`,n)).data}catch(s){throw s}},uploadFileToUrl:async(e,n)=>{try{await fetch(e,{method:"PUT",body:n,headers:{"Content-Type":n.type}})}catch(s){throw s}},getArtifacts:async e=>{try{return(await Rt.get(`/artifacts/job/${e}`)).data}catch(n){throw n}},deleteArtifact:async e=>{try{await Rt.delete(`/artifacts/${e}`)}catch(n){throw n}},getArtifactDownloadUrl:async e=>{try{return(await Rt.post(`/artifacts/${e}/download-url`)).data}catch(n){throw n}},finalizeArtifactUpload:async(e,n)=>{try{await Rt.post(`/artifacts/${e}/finalize-upload`,n)}catch(s){throw s}},batchFinalizeArtifactUpload:async e=>{try{await Rt.post("/artifacts/finalize-upload",e)}catch(n){throw n}},uploadFileStream:async(e,n,s,r)=>{try{const i=new URLSearchParams({job_id:e,file_name:s});return r&&i.set("description",r),(await Rt.post(`/files/stream?${i}`,n,{headers:{"Content-Type":"application/octet-stream","Content-Length":n.size.toString()}})).data}catch(i){throw i}},getArtifactTestCases:async(e,n)=>{try{return(await Rt.get(`/jobs/v0/${e}/artifact/${n}/get_test_cases`)).data}catch(s){throw s}},getEntriToken:async e=>{try{const n=e?{job_id:e}:{};return(await Rt.get("/jobs/v0/entri/info",{params:n})).data}catch(n){throw n}},getUserCohort:async()=>{try{return(await Rt.post("/user/cohort")).data}catch(e){throw e}},transcribeAudio:async(e,n="en")=>{try{const s=new FormData;return s.append("audio_file",e),s.append("language_code",n),(await Rt.post("/transcription/transcribe",s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw s}},extractRRWebData:async(e,n)=>{try{return(await Rt.post(`/rrweb/extract/${e}`,{events:n})).data}catch(s){throw s}},appleLogin:async e=>{try{return(await Rt.post("/api/v0/ios/apple/login",e)).data}catch(n){throw n}},apple2FA:async e=>{try{return(await Rt.post("/api/v0/ios/apple/2fa",e)).data}catch(n){throw n}},submitExpoBuildAppDetails:async(e,n)=>{try{return(await Rt.post(`/api/v0/${e}/build`,n)).data}catch(s){throw s}},getExpoBuildAppIconUploadUrl:async(e,n,s)=>{try{return(await Rt.post(`/api/v0/${n}/jobs/${e}/app-icon/upload`,s)).data}catch(r){throw r}},uploadToPresignedUrl:async(e,n)=>{try{await fetch(e,{method:"PUT",body:n,headers:{"Content-Type":n.type}})}catch(s){throw s}},finalizeExpoBuildAppIconUpload:async(e,n)=>{try{return(await Rt.post(`/api/v0/${e}/app-icon/finalize`,n)).data}catch(s){throw s}},triggerExpoBuild:async(e,n)=>{try{const s=n==="ios"?"/jobs/v0/ios":"/api/v0/android";return(await Rt.post(`${s}/build/${e}`)).data}catch(s){throw s}},getIOSBuildLatest:async e=>{try{return(await Rt.get(`/jobs/v0/ios/build/${e}/latest`)).data}catch(n){throw n}},getIOSBuildHistory:async e=>{try{return(await Rt.get(`/jobs/v0/ios/build/${e}/history`)).data}catch(n){throw n}},getIOSBuildLogs:async e=>{try{return(await Rt.get(`/jobs/v0/ios/build/${e}/logs`)).data}catch(n){throw n}},getExpoBuildConfig:async(e,n)=>{try{const s=n==="ios"?"/jobs/v0/ios/build":"/api/v0/android";return(await Rt.get(`${s}/${e}/config`)).data}catch{return null}},getAndroidBuildLatest:async e=>{try{return(await Rt.get(`/api/v0/android/${e}/latest`)).data}catch(n){throw n}},getAndroidBuildHistory:async e=>{try{return(await Rt.get(`/api/v0/android/${e}/history`)).data}catch(n){throw n}},getAndroidBuildLogs:async e=>{try{return(await Rt.get(`/api/v0/android/${e}/logs`)).data.android_build}catch(n){throw n}},transferTreeToProject:async(e,n)=>{try{return(await Rt.post(`/jobs/v0/${e}/transfer-tree-to-project/`,{organization_id:n})).data}catch(s){throw s}},transferTreeToUser:async(e,n)=>{try{return(await Rt.post(`/jobs/v0/${e}/transfer-tree-to-user/`,{user_id:n})).data}catch(s){throw s}}},Mse={deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],deploymentHistory:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",currentJobId:null,errorMessage:null,activeTabId:"",modifiedEnvs:[],lastCheckedTimestamp:0,customDomain:null,deployLogs:[]},Kd=Yc("deploy/checkDeployStatus",async({jobId:e,silent:n=!1},{getState:s,rejectWithValue:r})=>{if(!e)return r("No job ID provided");const i=s(),a=Date.now(),o=i.deploy.lastCheckedTimestamp,l=a-o,c=15e3,u=i.deploy.deployStatus==="running"&&l<3e4;if(l<c&&n&&!u||l<1e3&&!n)return r("Rate limited");try{const p=await vt.getDeployStatus(e);if(!p||typeof p!="object")throw new Error("Invalid response format");if(!p.status)throw new Error("Missing status in response");return{response:p,timestamp:a,prevStatus:i.deploy.deployStatus}}catch(p){let f="Failed to get deployment status";return p.response&&p.response.data?p.response.data.detail?f=p.response.data.detail:p.response.data.message?f=p.response.data.message:p.response.data.error&&(f=p.response.data.error):p.message&&(f=p.message),p.response&&p.response.status>=400&&!n&&Ds({title:"Deployment Error",description:f,variant:"destructive",duration:2e3}),r(f)}}),lb=Yc("deploy/deployApp",async({jobId:e,image:n,deployment_id:s,acknowledgements:r,db_mode:i},{rejectWithValue:a})=>{if(!e)return a("No job ID provided");try{return await vt.deployApp(e,n,s,r,i),{jobId:e}}catch(o){let l="Failed to deploy application";return o.response&&o.response.data?o.response.data.detail?l=o.response.data.detail:o.response.data.message?l=o.response.data.message:o.response.data.error&&(l=o.response.data.error):o.message&&(l=o.message),Ds({title:"Deployment Error",description:l.includes("deploy in progress")?"A deployment is currently in progress. Please wait for it to complete before starting a new one.":l.includes("max apps per user reached: 5 active apps")?"Youve reached the maximum limit of 5 active deployments. To deploy a new app, please shut down one of your existing deployments.":l,variant:"destructive",duration:5e3}),a(l)}}),R1=Yc("deploy/getDeployLogs",async(e,{rejectWithValue:n})=>{if(!e)return n("No job ID provided");try{const s=await vt.getDeployLogs(e),r=[];return s&&(s.build&&Array.isArray(s.build)&&s.build.forEach(i=>{i&&i.trim()&&r.push(i)}),s.manage_secrets&&Array.isArray(s.manage_secrets)&&s.manage_secrets.forEach(i=>{i&&i.trim()&&r.push(i)}),s.mongodb_migrate&&Array.isArray(s.mongodb_migrate)&&s.mongodb_migrate.forEach(i=>{i&&i.trim()&&r.push(i)}),s.deploy&&Array.isArray(s.deploy)&&s.deploy.forEach(i=>{i&&i.trim()&&r.push(i)}),s.health_check&&Array.isArray(s.health_check)&&s.health_check.forEach(i=>{i&&i.trim()&&r.push(i)})),r}catch{return n("Failed to fetch deploy logs")}}),cb=Yc("deploy/loadDeploymentHistory",async(e,{rejectWithValue:n})=>{if(!e)return n("No job ID provided");try{const s=await vt.getDeploymentHistory(e);return s&&s.runs&&Array.isArray(s.runs)?s.runs:[]}catch{return n("Failed to load deployment history")}}),db=Yc("deploy/shutDownDeployment",async(e,{rejectWithValue:n})=>{if(!e)return n("No job ID provided");try{return await vt.shutDownDeployment(e),{jobId:e}}catch(s){let r="Failed to shut down deployment";return s.response&&s.response.data?s.response.data.detail?r=s.response.data.detail:s.response.data.message?r=s.response.data.message:s.response.data.error&&(r=s.response.data.error):s.message&&(r=s.message),Ds({title:"Shutdown Error",description:r,variant:"destructive",duration:2e3}),n(r)}}),Rse=Yc("deploy/loadEnvironmentVariables",async(e,{getState:n,rejectWithValue:s})=>{if(!e)return s("No job ID provided");try{const r=n();if(r.deploy.modifiedEnvs&&r.deploy.modifiedEnvs.length>0)return r.deploy.modifiedEnvs;const i=await vt.getEnvs(e);return i&&i.envs?Object.entries(i.envs).map(([o,l],c)=>({id:`env-${c}`,key:o,value:l,originalValue:l,version:0,system:!1})):[]}catch{return s("Failed to load environment variables")}}),RP=Ca({name:"deploy",initialState:Mse,reducers:{setActiveTabId:(e,n)=>{e.activeTabId=n.payload},saveEnvironmentVariables:(e,n)=>{e.modifiedEnvs=n.payload},resetDeployState:e=>{e.deployStatus="not_deployed",e.latestRunStatus=null,e.deploymentSteps=[],e.currentStepIndex=-1,e.deployUrl="",e.customDomainUrl="",e.runId="",e.errorMessage=null,e.customDomain=null},resetDeploymentSteps:e=>{e.deploymentSteps=[],e.currentStepIndex=-1},setCurrentJobId:(e,n)=>{e.currentJobId=n.payload},setCustomDomain:(e,n)=>{e.customDomain=n.payload}},extraReducers:e=>{e.addCase(Kd.pending,(n,s)=>{s.meta.arg.silent||(n.loading=!0)}),e.addCase(Kd.fulfilled,(n,s)=>{const{response:r,timestamp:i,prevStatus:a}=s.payload;n.lastCheckedTimestamp=i;let o=r.status;if(r.latest_run&&r.latest_run.status==="running"?o="running":r.latest_run&&r.latest_run.status&&r.status==="success"&&(o=r.latest_run.status),n.deployStatus,n.deployStatus=o,r.latest_run&&(n.latestRunStatus=r.latest_run.status),r.deploy_url&&(n.deployUrl=r.deploy_url),r.custom_domain)if(r.custom_domain.domain===""||!r.custom_domain.status||!r.custom_domain.dns_records)n.customDomain=null,n.customDomainUrl="";else if(n.customDomain={domain:r.custom_domain.domain,status:r.custom_domain.status,dns_records:Array.isArray(r.custom_domain.dns_records)?r.custom_domain.dns_records:[r.custom_domain.dns_records]},r.custom_domain.status==="verified"){const l=r.custom_domain.domain;n.customDomainUrl=l.startsWith("http")?l:`https://${l}`}else n.customDomainUrl="";else n.customDomain=null,n.customDomainUrl="";if(r.latest_run&&r.latest_run.run_id&&r.latest_run.status==="success"?(n.runId=r.latest_run.run_id,r.latest_run.status&&(n.latestRunStatus=r.latest_run.status)):r.deployed_run_id&&(n.runId=r.deployed_run_id),r.latest_run&&r.latest_run.steps&&Array.isArray(r.latest_run.steps)){JSON.stringify(n.deploymentSteps)!==JSON.stringify(r.latest_run.steps)&&(n.deploymentSteps=r.latest_run.steps);let c=-1;if(r.status==="running"&&r.latest_run.steps.every(u=>u.status==="pending"))c=0;else{const u=r.latest_run.steps.findIndex(p=>p.status==="running");if(u!==-1)c=u;else{for(let p=0;p<r.latest_run.steps.length-1;p++)if(r.latest_run.steps[p].status==="success"&&r.latest_run.steps[p+1].status==="pending"){c=p+1;break}if(c===-1){const p=r.latest_run.steps.findIndex(f=>f.status==="pending");p!==-1?c=p:r.status==="success"&&(c=r.latest_run.steps.length-1)}}}n.currentStepIndex=c}n.errorMessage=null,n.loading=!1}),e.addCase(Kd.rejected,(n,s)=>{s.payload!=="Rate limited"&&(n.errorMessage=s.payload,n.deployStatus="not_deployed",n.latestRunStatus=null,n.deploymentSteps=[],n.currentStepIndex=-1,n.loading=!1)}),e.addCase(lb.pending,n=>{n.loading=!0,n.errorMessage=null}),e.addCase(lb.fulfilled,(n,s)=>{n.deployStatus="running",n.latestRunStatus="running",n.currentJobId=s.payload.jobId,n.loading=!1,n.deploymentSteps=[],n.currentStepIndex=-1}),e.addCase(lb.rejected,(n,s)=>{n.errorMessage=s.payload,n.deployStatus="not_deployed",n.latestRunStatus=null,n.loading=!1}),e.addCase(cb.pending,n=>{n.loading=!0}),e.addCase(cb.fulfilled,(n,s)=>{n.deploymentHistory=s.payload,n.loading=!1}),e.addCase(cb.rejected,n=>{n.loading=!1}),e.addCase(db.pending,n=>{n.loading=!0}),e.addCase(db.fulfilled,n=>{n.deployStatus="not_deployed",n.latestRunStatus=null,n.loading=!1,n.deploymentHistory=[],n.deployUrl="",n.customDomainUrl="",n.runId="",n.deploymentSteps=[],n.currentStepIndex=-1}),e.addCase(db.rejected,n=>{n.loading=!1}),e.addCase(R1.pending,n=>{n.loading=!0}),e.addCase(R1.fulfilled,(n,s)=>{n.deployLogs=s.payload,n.loading=!1}),e.addCase(R1.rejected,n=>{n.loading=!1}),e.addCase(Rse.fulfilled,(n,s)=>{n.modifiedEnvs=s.payload})}}),{setActiveTabId:Lse,saveEnvironmentVariables:oPe,resetDeployState:Pse,resetDeploymentSteps:lPe,setCurrentJobId:gF,setCustomDomain:Sm}=RP.actions,Ose=RP.reducer,Bse=e=>e.deploy.deployStatus,Use=e=>e.deploy.latestRunStatus,Hse=e=>e.deploy.deploymentSteps,Vse=e=>e.deploy.deploymentHistory,$se=e=>e.deploy.currentStepIndex,zse=e=>e.deploy.deployUrl,Wse=e=>e.deploy.customDomainUrl,Gse=e=>e.deploy.runId,qse=e=>e.deploy.currentJobId,Kse=e=>e.deploy.errorMessage,Yse=e=>e.deploy.modifiedEnvs,Zse=e=>e.deploy.customDomain,Jse=e=>e.deploy.deployLogs,iw={isConnected:!1,isConnecting:!1,primaryAccount:null,installations:[],authWindowOpen:!1,lastConnectionCheck:0,connectionError:null},LP=Ca({name:"github",initialState:iw,reducers:{setConnected:(e,n)=>{e.isConnected=n.payload,e.isConnecting=!1,e.connectionError=null,e.lastConnectionCheck=Date.now()},setConnecting:(e,n)=>{e.isConnecting=n.payload,n.payload&&(e.connectionError=null)},setConnectionError:(e,n)=>{e.connectionError=n.payload,e.isConnecting=!1},setPrimaryAccount:(e,n)=>{e.primaryAccount=n.payload},setInstallations:(e,n)=>{e.installations=n.payload,e.primaryAccount&&(e.installations=e.installations.map(s=>({...s,isPrimary:s.account_login===e.primaryAccount})))},setAuthWindowOpen:(e,n)=>{e.authWindowOpen=n.payload},resetGitHubState:()=>iw,updateLastConnectionCheck:e=>{e.lastConnectionCheck=Date.now()}}}),{setConnected:ub,setConnecting:pb,setConnectionError:km,setPrimaryAccount:bF,setInstallations:yF,setAuthWindowOpen:fb,resetGitHubState:cPe,updateLastConnectionCheck:dPe}=LP.actions,Xse=e=>e.github||iw,Qse=e=>e.github?.isConnected??!1,ere=e=>{const n=Date.now(),s=e.github?.lastConnectionCheck??0,r=300*1e3;return n-s>r},tre=LP.reducer;function ix(e){return e.replace(e[0],e[0].toUpperCase())}function nre(e){return e.type==="query"}function sre(e){return e.type==="mutation"}function PP(e){return e.type==="infinitequery"}function Im(e,...n){return Object.assign(e,...n)}var mb=Symbol();function hb(e){const n=d.useRef(e),s=d.useMemo(()=>f9(n.current,e),[e]);return d.useEffect(()=>{n.current!==s&&(n.current=s)},[s]),s}function ax(e){const n=d.useRef(e);return d.useEffect(()=>{Oc(n.current,e)||(n.current=e)},[e]),Oc(n.current,e)?n.current:e}var rre=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ire=rre(),are=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ore=are(),lre=()=>ire||ore?d.useLayoutEffect:d.useEffect,cre=lre(),vF=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:cL.pending}:e;function xb(e,...n){const s={};return n.forEach(r=>{s[r]=e[r]}),s}var gb=["data","status","isLoading","isSuccess","isError","error"];function dre({api:e,moduleOptions:{batch:n,hooks:{useDispatch:s,useSelector:r,useStore:i},unstable__sideEffectsInRender:a,createSelector:o},serializeQueryArgs:l,context:c}){const u=a?_=>_():d.useEffect;return{buildQueryHooks:b,buildInfiniteQueryHooks:y,buildMutationHook:w,usePrefetch:m};function p(_,N,j){if(N?.endpointName&&_.isUninitialized){const{endpointName:T}=N,A=c.endpointDefinitions[T];j!==Do&&l({queryArgs:N.originalArgs,endpointDefinition:A,endpointName:T})===l({queryArgs:j,endpointDefinition:A,endpointName:T})&&(N=void 0)}let C=_.isSuccess?_.data:N?.data;C===void 0&&(C=_.data);const S=C!==void 0,F=_.isLoading,E=(!N||N.isLoading||N.isUninitialized)&&!S&&F,I=_.isSuccess||S&&(F&&!N?.isError||_.isUninitialized);return{..._,data:C,currentData:_.data,isFetching:F,isLoading:E,isSuccess:I}}function f(_,N,j){if(N?.endpointName&&_.isUninitialized){const{endpointName:T}=N,A=c.endpointDefinitions[T];j!==Do&&l({queryArgs:N.originalArgs,endpointDefinition:A,endpointName:T})===l({queryArgs:j,endpointDefinition:A,endpointName:T})&&(N=void 0)}let C=_.isSuccess?_.data:N?.data;C===void 0&&(C=_.data);const S=C!==void 0,F=_.isLoading,E=(!N||N.isLoading||N.isUninitialized)&&!S&&F,I=_.isSuccess||F&&S;return{..._,data:C,currentData:_.data,isFetching:F,isLoading:E,isSuccess:I}}function m(_,N){const j=s(),C=ax(N);return d.useCallback((S,F)=>j(e.util.prefetch(_,S,{...C,...F})),[_,j,C])}function h(_,N,{refetchOnReconnect:j,refetchOnFocus:C,refetchOnMountOrArgChange:S,skip:F=!1,pollingInterval:E=0,skipPollingIfUnfocused:I=!1,...T}={}){const{initiate:A}=e.endpoints[_],D=s(),O=d.useRef(void 0);if(!O.current){const Y=D(e.internalActions.internal_getRTKQSubscriptions());O.current=Y}const M=hb(F?Do:N),L=ax({refetchOnReconnect:j,refetchOnFocus:C,pollingInterval:E,skipPollingIfUnfocused:I}),P=T.initialPageParam,B=ax(P),G=d.useRef(void 0);let{queryCacheKey:$,requestId:te}=G.current||{},U=!1;$&&te&&(U=O.current.isRequestSubscribed($,te));const oe=!U&&G.current!==void 0;return u(()=>{oe&&(G.current=void 0)},[oe]),u(()=>{const Y=G.current;if(M===Do){Y?.unsubscribe(),G.current=void 0;return}const W=G.current?.subscriptionOptions;if(!Y||Y.arg!==M){Y?.unsubscribe();const Z=D(A(M,{subscriptionOptions:L,forceRefetch:S,...PP(c.endpointDefinitions[_])?{initialPageParam:B}:{}}));G.current=Z}else L!==W&&Y.updateSubscriptionOptions(L)},[D,A,S,M,L,oe,B,_]),[G,D,A,L]}function x(_,N){return(C,{skip:S=!1,selectFromResult:F}={})=>{const{select:E}=e.endpoints[_],I=hb(S?Do:C),T=d.useRef(void 0),A=d.useMemo(()=>o([E(I),(P,B)=>B,P=>I],N,{memoizeOptions:{resultEqualityCheck:Oc}}),[E,I]),D=d.useMemo(()=>F?o([A],F,{devModeChecks:{identityFunctionCheck:"never"}}):A,[A,F]),O=r(P=>D(P,T.current),Oc),M=i(),L=A(M.getState(),T.current);return cre(()=>{T.current=L},[L]),O}}function g(_){d.useEffect(()=>()=>{_.current?.unsubscribe?.(),_.current=void 0},[_])}function v(_){if(!_.current)throw new Error(GM(38));return _.current.refetch()}function b(_){const N=(S,F={})=>{const[E]=h(_,S,F);return g(E),d.useMemo(()=>({refetch:()=>v(E)}),[E])},j=({refetchOnReconnect:S,refetchOnFocus:F,pollingInterval:E=0,skipPollingIfUnfocused:I=!1}={})=>{const{initiate:T}=e.endpoints[_],A=s(),[D,O]=d.useState(mb),M=d.useRef(void 0),L=ax({refetchOnReconnect:S,refetchOnFocus:F,pollingInterval:E,skipPollingIfUnfocused:I});u(()=>{const $=M.current?.subscriptionOptions;L!==$&&M.current?.updateSubscriptionOptions(L)},[L]);const P=d.useRef(L);u(()=>{P.current=L},[L]);const B=d.useCallback(function($,te=!1){let U;return n(()=>{M.current?.unsubscribe(),M.current=U=A(T($,{subscriptionOptions:P.current,forceRefetch:!te})),O($)}),U},[A,T]),G=d.useCallback(()=>{M.current?.queryCacheKey&&A(e.internalActions.removeQueryResult({queryCacheKey:M.current?.queryCacheKey}))},[A]);return d.useEffect(()=>()=>{M?.current?.unsubscribe()},[]),d.useEffect(()=>{D!==mb&&!M.current&&B(D,!0)},[D,B]),d.useMemo(()=>[B,D,{reset:G}],[B,D,G])},C=x(_,p);return{useQueryState:C,useQuerySubscription:N,useLazyQuerySubscription:j,useLazyQuery(S){const[F,E,{reset:I}]=j(S),T=C(E,{...S,skip:E===mb}),A=d.useMemo(()=>({lastArg:E}),[E]);return d.useMemo(()=>[F,{...T,reset:I},A],[F,T,I,A])},useQuery(S,F){const E=N(S,F),I=C(S,{selectFromResult:S===Do||F?.skip?void 0:vF,...F}),T=xb(I,...gb);return d.useDebugValue(T),d.useMemo(()=>({...I,...E}),[I,E])}}}function y(_){const N=(C,S={})=>{const[F,E,I,T]=h(_,C,S),A=d.useRef(T);u(()=>{A.current=T},[T]);const D=d.useCallback(function(L,P){let B;return n(()=>{F.current?.unsubscribe(),F.current=B=E(I(L,{subscriptionOptions:A.current,direction:P}))}),B},[F,E,I]);g(F);const O=hb(S.skip?Do:C),M=d.useCallback(()=>v(F),[F]);return d.useMemo(()=>({trigger:D,refetch:M,fetchNextPage:()=>D(O,"forward"),fetchPreviousPage:()=>D(O,"backward")}),[M,D,O])},j=x(_,f);return{useInfiniteQueryState:j,useInfiniteQuerySubscription:N,useInfiniteQuery(C,S){const{refetch:F,fetchNextPage:E,fetchPreviousPage:I}=N(C,S),T=j(C,{selectFromResult:C===Do||S?.skip?void 0:vF,...S}),A=xb(T,...gb,"hasNextPage","hasPreviousPage");return d.useDebugValue(A),d.useMemo(()=>({...T,fetchNextPage:E,fetchPreviousPage:I,refetch:F}),[T,E,I,F])}}}function w(_){return({selectFromResult:N,fixedCacheKey:j}={})=>{const{select:C,initiate:S}=e.endpoints[_],F=s(),[E,I]=d.useState();d.useEffect(()=>()=>{E?.arg.fixedCacheKey||E?.reset()},[E]);const T=d.useCallback(function($){const te=F(S($,{fixedCacheKey:j}));return I(te),te},[F,S,j]),{requestId:A}=E||{},D=d.useMemo(()=>C({fixedCacheKey:j,requestId:E?.requestId}),[j,E,C]),O=d.useMemo(()=>N?o([D],N):D,[N,D]),M=r(O,Oc),L=j==null?E?.arg.originalArgs:void 0,P=d.useCallback(()=>{n(()=>{E&&I(void 0),j&&F(e.internalActions.removeMutationResult({requestId:A,fixedCacheKey:j}))})},[F,j,E,A]),B=xb(M,...gb,"endpointName");d.useDebugValue(B);const G=d.useMemo(()=>({...M,originalArgs:L,reset:P}),[M,L,P]);return d.useMemo(()=>[T,G],[T,G])}}}var ure=Symbol(),pre=({batch:e=UK,hooks:n={useDispatch:ba,useSelector:br,useStore:HK},createSelector:s=X8,unstable__sideEffectsInRender:r=!1,...i}={})=>({name:ure,init(a,{serializeQueryArgs:o},l){const c=a,{buildQueryHooks:u,buildInfiniteQueryHooks:p,buildMutationHook:f,usePrefetch:m}=dre({api:a,moduleOptions:{batch:e,hooks:n,unstable__sideEffectsInRender:r,createSelector:s},serializeQueryArgs:o,context:l});return Im(c,{usePrefetch:m}),Im(l,{batch:e}),{injectEndpoint(h,x){if(nre(x)){const{useQuery:g,useLazyQuery:v,useLazyQuerySubscription:b,useQueryState:y,useQuerySubscription:w}=u(h);Im(c.endpoints[h],{useQuery:g,useLazyQuery:v,useLazyQuerySubscription:b,useQueryState:y,useQuerySubscription:w}),a[`use${ix(h)}Query`]=g,a[`useLazy${ix(h)}Query`]=v}if(sre(x)){const g=f(h);Im(c.endpoints[h],{useMutation:g}),a[`use${ix(h)}Mutation`]=g}else if(PP(x)){const{useInfiniteQuery:g,useInfiniteQuerySubscription:v,useInfiniteQueryState:b}=p(h);Im(c.endpoints[h],{useInfiniteQuery:g,useInfiniteQuerySubscription:v,useInfiniteQueryState:b}),a[`use${ix(h)}InfiniteQuery`]=g}}}}}),$5=mL(hL(),pre());const fre="1.0.21",OP=async()=>{try{return H9()?await window.electron.ipcRenderer.invoke("get-app-version"):fre||"1.0.18"}catch{return"1.0.18"}},mre=Qh({baseUrl:so.apiBaseUrl,prepareHeaders:async(e,{endpoint:n})=>{const s=await pi.auth.getSession();s.data.session?.access_token&&e.set("Authorization",`Bearer ${s.data.session.access_token}`),n!=="transcribeAudio"&&e.set("Content-Type","application/json");const r=AP();return r&&(e.set("X-Ads-Event-ID",r),DP()),e}}),hre=async(e,n,s)=>await mre(e,n,s),xre=Qh({baseUrl:so._file_upload_url,prepareHeaders:async e=>{const n=await pi.auth.getSession();n.data.session?.access_token&&e.set("Authorization",`Bearer ${n.data.session.access_token}`);const s=so.apiBaseUrl;if(s&&s.includes(".run.app")){const r=s.match(/agent-service-([^-]+)-\d+\..*\.run\.app/);r&&r[1]&&e.set("eph_name",r[1])}return e}}),ec=$5({reducerPath:"api",baseQuery:hre,tagTypes:["GitHubInstallations","GitHubRepositories","GitHubBranches","GitHubUserDetails","PreviewURL","Referral","DownloadCode","Credits","ProModePayment","Budget","Jobs","Config","SubscriptionPlans","SubscriptionStatus","Workspace"],endpoints:e=>({archiveJob:e.mutation({query:({jobId:n,deletedBy:s})=>({url:`/jobs/v0/${n}/archive`,method:"POST",body:{deletedBy:s}})}),getGitHubUserDetails:e.query({query:()=>{let n="";try{const i=localStorage.getItem("pending_referral_code");i&&(n=JSON.parse(i).code)}catch{}const s=Io(),r={};return Object.keys(s).length>0&&(r.ads_metadata=s),{url:`/user/details${n?`?referral_code=${n}`:""}`,method:"POST",body:r}},providesTags:["GitHubUserDetails"],transformResponse:n=>{if(n.referral_message){try{const s={shouldShow:!0,message:n.referral_message,reward:n.reward_amount||5,timestamp:Date.now()};localStorage.setItem("referral_modal_data",JSON.stringify(s))}catch{}try{localStorage.removeItem("pending_referral_code")}catch{}}return n},transformErrorResponse:n=>{if(n.status===500){const s=FP(n.data),r=n.status===500;P9(s,r).catch(i=>{})}return jt(Zt.API.GITHUB_USER_DETAILS,n,{status:n.status,data:JSON.stringify(n.data)}),{id:null,github:{authorized:!1,account_name:""},referral_info:{referral_code:"",referrer_email:null,signed_up_at:""},github_installations:[],error:n.data?.detail||"Failed to fetch user details"}}}),getGitHubInstallations:e.query({query:()=>"/github/installations",providesTags:["GitHubInstallations"],transformResponse:n=>{if(n.error)throw new Error(n.error);return(Array.isArray(n)?n:[]).map(r=>({installation_id:r.account?.login||r.account_login,account_login:r.account?.login||r.account_login,account_type:r.target_type||r.account_type,user_github_login:r.account?.login||r.user_github_login,app_slug:r.app_slug,isPrimary:!1,account:r.account,target_type:r.target_type}))},transformErrorResponse:n=>({installations:[],error:n.data?.message||"Failed to fetch installations"})}),getGitHubRepositories:e.query({query:n=>n?`/github/repositories?account_login=${encodeURIComponent(n)}`:"/github/repositories",providesTags:(n,s,r)=>[{type:"GitHubRepositories",id:r||"ALL"}],transformResponse:(n,s,r)=>{if(n.error)throw new Error(n.error);const i=n.repositories||[];return r?i.filter(a=>a.owner?.login===r||a.full_name?.startsWith(`${r}/`)):i},transformErrorResponse:n=>({repositories:[],error:n.data?.message||"Failed to fetch repositories"})}),getGitHubBranches:e.query({query:({accountLogin:n,repoName:s})=>{const r=encodeURIComponent(n),i=encodeURIComponent(s);return`/github/branches/${r}/${i}`},providesTags:(n,s,{accountLogin:r,repoName:i})=>[{type:"GitHubBranches",id:`${r}/${i}`}],transformResponse:n=>{if(n.error)throw new Error(n.error);return Array.isArray(n)?n:Array.isArray(n.branches)?n.branches:[]},transformErrorResponse:n=>({branches:[],error:n.data?.message||"Failed to fetch branches"})}),createGitHubRepository:e.mutation({query:n=>({url:"/github/repositories",method:"POST",body:n}),invalidatesTags:["GitHubRepositories"]}),pushToGitHub:e.mutation({query:({jobId:n,data:s})=>({url:`/jobs/v0/push_to_github/${n}`,method:"POST",body:s}),invalidatesTags:["GitHubRepositories","GitHubBranches"]}),saveGitHubInstallation:e.mutation({query:({installationId:n,code:s})=>({url:"/github/installation",method:"POST",body:{installation_id:n,code:s}}),invalidatesTags:["GitHubInstallations","GitHubUserDetails"]}),getJobPreviewUrl:e.query({query:n=>`/jobs/v0/${n}/preview`,providesTags:(n,s,r)=>[{type:"PreviewURL",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to fetch preview URL"})}),getServiceStatus:e.query({query:n=>`/jobs/v0/${n}/service-status`}),getCodeDownloadUrl:e.query({query:n=>`/download/pod-backup/download-zip?job_id=${n}`,providesTags:(n,s,r)=>[{type:"DownloadCode",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to fetch download URL"})}),getCreditsBalance:e.query({query:n=>({url:"/credits/balance",params:n?.organization_id?{organization_id:n.organization_id}:{}}),providesTags:["Credits"],transformResponse:n=>{if(n.error)throw new Error(n.error);return n},transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch credits balance",ecu_balance:0,top_up_credit_balance:0,monthly_credits_balance:0,monthly_credits_refresh_date:"",subscription:{id:"",name:"",status:"free",expires_at:!1,monthly_credit_limit:5,subscription_details:{id:"",amount:0}}})}),checkProModePayment:e.query({query:({tag:n})=>`/payments/custom-payments/check?tag=${encodeURIComponent(n)}`,providesTags:["ProModePayment"],transformResponse:n=>n,transformErrorResponse:n=>({exists:!1,error:n.data?.message||n.data?.detail||"Failed to check payment status"})}),getSubscriptionPlans:e.query({query:n=>({url:"/payments/subscription/plans",params:n?.organization_id?{organization_id:n.organization_id}:{}}),providesTags:["SubscriptionPlans"],transformResponse:n=>n,transformErrorResponse:n=>({current_subscription:null,available_plans:[],error:n.data?.message||n.data?.detail||"Failed to fetch subscription plans"})}),checkSubscriptionStatus:e.query({query:({paymentId:n})=>({url:`/payments/${n}/status`}),providesTags:(n,s,{paymentId:r})=>[{type:"SubscriptionStatus",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({status:"failed",message:n.data?.message||n.data?.detail||"Failed to check subscription status",error:n.data?.message||n.data?.detail||"Failed to check subscription status"})}),getBudget:e.query({query:({jobId:n,organization_id:s})=>({url:`/budget/${n}`,params:s?{organization_id:s}:{}}),providesTags:(n,s,{jobId:r})=>[{type:"Budget",id:r}],transformResponse:n=>{if(!n.success)throw new Error(n.data?.error||"Failed to fetch budget");return n.data},transformErrorResponse:n=>({error:n.data?.error||n.data?.detail||"Failed to fetch budget information"})}),updateBudget:e.mutation({query:({jobId:n,amount:s,organization_id:r})=>({url:`/budget/${n}`,method:"PUT",body:{amount:s},params:r?{organization_id:r}:{}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Budget",id:r}],transformResponse:n=>{if(!n.success)throw new Error(n.data?.error||"Failed to update budget");return n.data},transformErrorResponse:n=>({error:n.data?.error||n.data?.detail||"Failed to update budget"})}),getJobs:e.query({query:n=>{const r=`/jobs/v0/?limit=${n?.limit||250}&offset=${n?.offset||0}`;return n?.organization_id?`${r}&organization_id=${encodeURIComponent(n.organization_id)}`:r},providesTags:(n,s,r)=>[{type:"Jobs",id:r?.organization_id||"ALL"}],transformResponse:n=>n?.jobs||[],transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch jobs"})}),getJob:e.query({query:n=>`/jobs/v0/${n}/`,providesTags:(n,s,r)=>[{type:"Jobs",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch job"})}),getConfig:e.query({queryFn:async(n,s,r,i)=>{try{const l={app_version:await wie()||await OP()};n?.organization_id&&(l.organization_id=n.organization_id);const c=await i({url:"/repositories/config",params:l});return c.error?{error:c.error}:{data:c.data}}catch(a){return{error:{status:"CUSTOM_ERROR",error:a instanceof Error?a.message:"Failed to fetch config"}}}},providesTags:["Config"]}),uploadFileStream:e.mutation({queryFn:async({jobId:n,file:s,fileName:r,description:i},a)=>{const o=new URLSearchParams({job_id:n,file_name:r});i&&o.set("description",i);const l=await xre({url:`/api/v1/files/stream?${o}`,method:"POST",body:s,headers:{"Content-Type":"application/octet-stream","Content-Length":s.size.toString()}},a,{});return l.error?{error:l.error}:{data:l.data}}}),submitHITL:e.mutation({query:({payload:n,client_ref_id:s,resume:r=!1,finalize_artifact_upload:i})=>{const a={client_ref_id:s,payload:{processor_type:"env_only",is_cloud:!0,env_image:n.env_image,branch:"",repository:"",...n,...n.testMode&&{test_mode_on:"true"}},model_name:n.model_name,resume:r};return i&&(a.finalize_artifact_upload=i),r&&(a.id=s),{url:"/jobs/v0/hitl-queue/",method:"POST",body:a}}}),deployExpoApp:e.mutation({query:n=>({url:`/jobs/v0/${n}/persist-environment`,method:"POST",body:{}}),invalidatesTags:(n,s,r)=>[{type:"Jobs",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to publish app"})}),checkDeployStatus:e.query({query:({jobId:n,organization_id:s})=>({url:`/jobs/v0/deploy/${n}/latest`,params:s?{organization_id:s}:{}}),providesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`}],transformResponse:n=>{if(!n||typeof n!="object")throw new Error("Invalid response format");if(!n.status)throw new Error("Missing status in response");return n},transformErrorResponse:n=>{let s="Failed to get deployment status";return n.data?.detail?s=n.data.detail:n.data?.message?s=n.data.message:n.data?.error&&(s=n.data.error),{error:s}}}),deployApp:e.mutation({query:({jobId:n,image:s,deployment_id:r,acknowledgements:i,db_mode:a,organization_id:o,tier:l,deployment_type:c})=>({url:"/jobs/v0/deploy",method:"POST",body:{job_id:n,image:s,deployment_id:r,acknowledgements:i,is_database_persist:a,...o&&{organization_id:o},...l&&{tier:l},...c&&{deployment_type:c}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`},{type:"Jobs",id:r}],transformResponse:(n,s,{jobId:r})=>({jobId:r,status:"success",message:n?.message}),transformErrorResponse:n=>{let s="Failed to deploy application";return n.data?.detail?s=n.data.detail:n.data?.message?s=n.data.message:n.data?.error&&(s=n.data.error),s.includes("deploy in progress")?s="A deployment is currently in progress. Please wait for it to complete before starting a new one.":s.includes("max apps per user reached: 5 active apps")&&(s="You've reached the maximum limit of 5 active deployments. To deploy a new app, please shut down one of your existing deployments."),{error:s}}}),rollbackDeployment:e.mutation({query:({jobId:n,image:s,organization_id:r})=>({url:"/jobs/v0/deploy",method:"POST",body:{job_id:n,image:s,acknowledgements:"rollback",is_database_persist:!0,...r&&{organization_id:r}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`},{type:"Jobs",id:r}],transformResponse:(n,s,{jobId:r})=>({jobId:r,status:"success",message:n?.message}),transformErrorResponse:n=>{let s="Failed to rollback deployment";return n.data?.detail?s=n.data.detail:n.data?.message?s=n.data.message:n.data?.error&&(s=n.data.error),s.includes("deploy in progress")&&(s="A deployment is currently in progress. Please wait for it to complete before rolling back."),{error:s}}}),getDeploymentHistory:e.query({query:({jobId:n,organization_id:s})=>({url:`/jobs/v0/deploy/${n}/history`,params:s?{organization_id:s}:{}}),providesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deployment-history-${r}`}],transformResponse:n=>{if(!n||typeof n!="object")throw new Error("Invalid response format");return n},transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to load deployment history"})}),registerDomain:e.mutation({query:({domain:n,jobId:s,organization_id:r})=>({url:"/jobs/v0/domains/register",method:"POST",body:{domain:n,job_id:s,...r&&{organization_id:r}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to register domain"})}),verifyDomain:e.mutation({query:({domain:n,jobId:s,organization_id:r})=>({url:"/jobs/v0/domains/verify",method:"POST",body:{domain:n,job_id:s,...r&&{organization_id:r}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to verify domain"})}),connectDomain:e.mutation({query:({domain:n,jobId:s,organization_id:r})=>({url:"/jobs/v0/domains/connect",method:"POST",body:{domain:n,job_id:s,...r&&{organization_id:r}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to connect domain"})}),unlinkDomain:e.mutation({query:({domain:n,jobId:s,organization_id:r})=>({url:`/jobs/v0/domains/${encodeURIComponent(n)}/apps/${s}`,method:"DELETE",params:r?{organization_id:r}:{}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to unlink domain"})}),getDeploymentLogs:e.query({query:({jobId:n,organization_id:s})=>({url:`/jobs/v0/deploy/${n}/logs`,params:s?{organization_id:s}:{}}),providesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deployment-logs-${r}`}],transformResponse:n=>{if(!n||typeof n!="object")throw new Error("Invalid response format");return n},transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to load deployment logs"})}),getLiveLogs:e.query({query:({app:n,app_id:s})=>({url:"/api/v1/apps/live-logs",params:{app:n,app_id:s}}),providesTags:(n,s,{app:r,app_id:i})=>[{type:"Jobs",id:`live-logs-${r||i}`}],transformResponse:n=>{if(!n||typeof n!="object")throw new Error("Invalid response format");return n},transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to load live logs"})}),shutdownDeployment:e.mutation({query:({jobId:n,organization_id:s})=>({url:`/jobs/v0/deploy/${n}`,method:"DELETE",params:s?{organization_id:s}:{}}),invalidatesTags:(n,s,{jobId:r})=>["Jobs",{type:"Jobs",id:`deploy-status-${r}`},{type:"Jobs",id:`deployment-history-${r}`}],transformResponse:n=>({message:n?.message||"Deployment shut down successfully"}),transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to shutdown deployment"})}),getEnvironmentVariables:e.query({query:({jobId:n,organization_id:s})=>({url:`/jobs/v0/deploy/${n}/envs`,params:s?{organization_id:s}:{}}),providesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`env-vars-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to get environment variables"})}),updateEnvironmentVariables:e.mutation({query:({jobId:n,envs:s,organization_id:r})=>({url:`/jobs/v0/deploy/${n}/envs/bulk`,method:"PUT",body:{secrets_with_versions:s.reduce((i,a)=>(i[a.key]={value:a.value,version:a.version},i),{}),...r&&{organization_id:r}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`env-vars-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to update environment variables"})}),getDeployments:e.query({query:n=>{const s=n&&"organization_id"in n?n.organization_id:void 0,r=n&&"job_id"in n?n.job_id:void 0,i={};return s&&(i.organization_id=s),r&&(i.job_id=r),{url:"/jobs/v0/deployments",params:i}},providesTags:["Jobs"],keepUnusedDataFor:300,transformResponse:n=>n.map(s=>({id:s.job_id,app_name:s.app_name||s.job_id,deployStatus:s.status||"success",deployUrl:s.deployed_url||"",custom_domain:s.custom_domain?.domain||s.custom_domain||"",latest_run:{status:s.latest_run?.status||s.status||"success",updated_at:s.latest_run?.updated_at||s.updated_at||s.deployed_at||new Date().toISOString()},description:s.description||"",deployment_id:s.deployment_id||s.job_id,title:s.title||"Untitled"})).reverse(),transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to load deployments"})}),restartEnvironment:e.mutation({query:({jobId:n,upgrade:s=!1})=>({params:{upgrade:s?"true":"false"},url:`/jobs/v0/${n}/restart-environment`,method:"POST"}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to restart environment"})}),pauseEnvironment:e.mutation({query:n=>({url:`/jobs/v0/${n}/pause-environment`,method:"POST"}),invalidatesTags:(n,s,r)=>[{type:"Jobs",id:r}],transformResponse:n=>{if(!n.success)throw new Error(n.data?.error||"Failed to pause environment");return n.data},transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to pause environment"})}),createWorkspace:e.mutation({query:({name:n,description:s})=>({url:"/org/create",method:"POST",body:{name:n,description:s,organization_type:"PROJECT"}}),invalidatesTags:["Workspace","GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to create workspace"})}),acceptInvitation:e.mutation({query:({invitation_id:n})=>({url:`/org/invitations/${n}/accept`,method:"POST"}),invalidatesTags:["Workspace","GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to accept invitation"})}),getOrganizationDetails:e.query({query:n=>`/org/${n}/details`,providesTags:(n,s,r)=>[{type:"Workspace",id:`org-details-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to fetch organization details"})}),changeUserRole:e.mutation({query:({org_id:n,user_id:s,new_role:r})=>({url:`/org/${n}/change-role/${s}`,method:"PATCH",body:{new_role:r}}),invalidatesTags:(n,s,{org_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to change user role"})}),inviteMembers:e.mutation({query:({org_id:n,invites:s})=>({url:`/org/${n}/invite`,method:"POST",body:{invites:s}}),invalidatesTags:(n,s,{org_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to send invitations"})}),leaveOrganization:e.mutation({query:({organization_id:n})=>({url:`/org/${n}/leave`,method:"POST"}),invalidatesTags:(n,s,{organization_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to leave organization"})}),rejectInvitation:e.mutation({query:({invitation_id:n})=>({url:`/org/invitations/${n}/reject`,method:"POST"}),invalidatesTags:()=>["GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to reject invitation"})}),cancelInvitation:e.mutation({query:({organization_id:n,invitation_id:s})=>({url:`/org/${n}/cancel-invitation/${s}`,method:"POST"}),invalidatesTags:(n,s,{organization_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to remove the user"})}),deactivateMember:e.mutation({query:({org_id:n,user_id:s})=>({url:`/org/${n}/deactivate-member/${s}`,method:"POST"}),invalidatesTags:(n,s,{org_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to remove member"})}),updateOrganization:e.mutation({query:({org_id:n,name:s})=>({url:`/org/${n}/update`,method:"PATCH",body:{name:s}}),invalidatesTags:(n,s,{org_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to update organization"})}),renameJobTitle:e.mutation({query:({job_id:n,title:s})=>({url:`/jobs/v0/${n}/title`,method:"POST",body:{title:s}}),invalidatesTags:(n,s,{job_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to rename Job Title"})}),transcribeAudio:e.mutation({query:({audio_file:n,language_code:s="en"})=>{const r=new FormData;return r.append("audio_file",n,n.name||"recording.mp3"),r.append("language_code",s),{url:"/transcription/transcribe",method:"POST",body:r,formData:!0}}}),enableAutoHITL:e.mutation({query:n=>({url:`/jobs/v0/auto-hitl/${n}`,method:"POST"}),invalidatesTags:["GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to enable auto-HITL"})}),remixShowcase:e.mutation({query:({job_id:n,title:s,preview_url:r,summary:i})=>({url:`/jobs/v0/${n}/remix-showcase`,method:"POST",body:{title:s,preview_url:r,summary:i}}),invalidatesTags:["Jobs"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to remix showcase"})}),notifyCoupon:e.mutation({query:()=>({url:"/coupons/notify",method:"POST"})}),verifyCoupon:e.mutation({query:n=>({url:"/coupons/verify",method:"POST",body:n}),transformErrorResponse:n=>({valid:!1,message:n.data?.detail||n.data?.error||"Failed to verify coupon"})}),getCaddyMigrationApps:e.query({query:()=>"/user/apps"}),getDeploymentTiers:e.query({query:()=>"/jobs/v0/deploy/tiers",transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to fetch deployment tiers"})}),transferTreeToProject:e.mutation({query:({jobId:n,organizationId:s})=>({url:`/jobs/v0/${n}/transfer-tree-to-project/`,method:"POST",body:{organization_id:s}}),invalidatesTags:["Jobs"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to move task to project"})}),updateUserPreferences:e.mutation({query:n=>({url:"/user/preferences",method:"PUT",body:n}),invalidatesTags:["GitHubUserDetails"],async onQueryStarted(n,{dispatch:s,queryFulfilled:r}){const i=s(ec.util.updateQueryData("getGitHubUserDetails",void 0,a=>{n.auto_summarisation_enabled!==void 0&&(a.auto_summarisation_enabled=n.auto_summarisation_enabled)}));try{await r}catch{i.undo()}},transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to update preferences"})}),transferTreeToUser:e.mutation({query:({jobId:n,userId:s})=>({url:`/jobs/v0/${n}/transfer-tree-to-user/`,method:"POST",body:{user_id:s}}),invalidatesTags:["Jobs"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to move task to personal workspace"})}),getDelegationToken:e.mutation({query:()=>({url:"/plugin/3c87e99b-6ed4-48a6-9a91-3f49fe423da1/delegation_token",method:"POST"}),transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to get delegation token"})})})}),{useGetGitHubUserDetailsQuery:Kr,useGetGitHubInstallationsQuery:BP,useGetGitHubRepositoriesQuery:gre,useGetGitHubBranchesQuery:bre,useCreateGitHubRepositoryMutation:yre,usePushToGitHubMutation:vre,useSaveGitHubInstallationMutation:UP,useLazyGetJobPreviewUrlQuery:wre,useLazyGetServiceStatusQuery:Cre,useLazyGetCodeDownloadUrlQuery:_re,useGetCreditsBalanceQuery:y2,useLazyCheckProModePaymentQuery:jre,useGetSubscriptionPlansQuery:v2,useCheckSubscriptionStatusQuery:Nre,useGetBudgetQuery:Fre,useUpdateBudgetMutation:Ere,useGetJobsQuery:HP,useLazyGetJobsQuery:VP,useGetJobQuery:Sre,useLazyGetJobQuery:Df,useGetConfigQuery:kre,useSubmitHITLMutation:$P,useUploadFileStreamMutation:Ire,useDeployExpoAppMutation:Tre,useCheckDeployStatusQuery:zP,useLazyCheckDeployStatusQuery:Are,useDeployAppMutation:Dre,useRollbackDeploymentMutation:Mre,useShutdownDeploymentMutation:Rre,useGetDeploymentHistoryQuery:WP,useRegisterDomainMutation:GP,useVerifyDomainMutation:qP,useConnectDomainMutation:KP,useUnlinkDomainMutation:YP,useLazyGetDeploymentLogsQuery:Lre,useLazyGetLiveLogsQuery:Pre,useGetEnvironmentVariablesQuery:Ore,useUpdateEnvironmentVariablesMutation:Bre,useGetDeploymentsQuery:V9,useRestartEnvironmentMutation:Ure,useCreateWorkspaceMutation:ZP,useAcceptInvitationMutation:z5,useGetOrganizationDetailsQuery:JP,useChangeUserRoleMutation:uPe,useInviteMembersMutation:pPe,useLeaveOrganizationMutation:fPe,useRejectInvitationMutation:W5,useCancelInvitationMutation:mPe,useDeactivateMemberMutation:hPe,useUpdateOrganizationMutation:xPe,useRenameJobTitleMutation:XP,useArchiveJobMutation:QP,useTranscribeAudioMutation:eO,useEnableAutoHITLMutation:Hre,useRemixShowcaseMutation:Vre,useNotifyCouponMutation:$re,useVerifyCouponMutation:tO,useGetCaddyMigrationAppsQuery:zre,useGetDeploymentTiersQuery:nO,useTransferTreeToProjectMutation:Wre,useTransferTreeToUserMutation:Gre,useGetDelegationTokenMutation:qre,useUpdateUserPreferencesMutation:gPe}=ec,Kre=Qh({baseUrl:so.apiBaseUrl,prepareHeaders:async e=>{const n=await pi.auth.getSession();return n.data.session?.access_token&&e.set("Authorization",`Bearer ${n.data.session.access_token}`),e.set("Content-Type","application/json"),e}}),w2=$5({reducerPath:"universalKeyApi",baseQuery:Kre,tagTypes:["EmergentKey","UserBudget"],endpoints:e=>({getEmergentKey:e.query({query:n=>{const s=new URLSearchParams;return n&&"organization_id"in n&&n.organization_id&&s.append("organization_id",n.organization_id),`/llm-router/v0/emergent-key${s.toString()?`?${s.toString()}`:""}`},providesTags:["EmergentKey"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to fetch emergent key"})}),updateEmergentKeyConfig:e.mutation({query:n=>{const{organization_id:s,...r}=n,i=new URLSearchParams;return s&&i.append("organization_id",s),{url:`/llm-router/v0/emergent-key/config${i.toString()?`?${i.toString()}`:""}`,method:"PATCH",body:r}},invalidatesTags:["EmergentKey"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to update emergent key config"})}),toggleEmergentKey:e.mutation({query:n=>{const{organization_id:s,...r}=n,i=new URLSearchParams;return s&&i.append("organization_id",s),{url:`/llm-router/v0/emergent-key/toggle${i.toString()?`?${i.toString()}`:""}`,method:"POST",body:r}},invalidatesTags:["EmergentKey"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to toggle emergent key"})}),regenerateEmergentKey:e.mutation({query:n=>{const s=n||{},{organization_id:r,...i}=s,a=new URLSearchParams;return r&&a.append("organization_id",r),{url:`/llm-router/v0/emergent-key/regenerate${a.toString()?`?${a.toString()}`:""}`,method:"POST",body:i}},invalidatesTags:["EmergentKey"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to regenerate emergent key"})}),getUserBudget:e.query({query:n=>{const s=new URLSearchParams;return n&&"organization_id"in n&&n.organization_id&&s.append("organization_id",n.organization_id),`/llm-router/v0/budget${s.toString()?`?${s.toString()}`:""}`},providesTags:["UserBudget"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to fetch user budget"})}),increaseBudget:e.mutation({query:n=>{const{organization_id:s,...r}=n,i=new URLSearchParams;return s&&i.append("organization_id",s),{url:`/llm-router/v0/budget/increase${i.toString()?`?${i.toString()}`:""}`,method:"POST",body:r}},invalidatesTags:["UserBudget"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to increase budget"})})})}),{useGetEmergentKeyQuery:bPe,useLazyGetEmergentKeyQuery:yPe,useUpdateEmergentKeyConfigMutation:vPe,useToggleEmergentKeyMutation:wPe,useRegenerateEmergentKeyMutation:CPe,useGetUserBudgetQuery:_Pe,useLazyGetUserBudgetQuery:jPe,useIncreaseBudgetMutation:NPe}=w2,Yre=Qh({baseUrl:so.apiBaseUrl,prepareHeaders:async e=>{const n=await pi.auth.getSession();return n.data.session?.access_token&&e.set("Authorization",`Bearer ${n.data.session.access_token}`),e.set("Content-Type","application/json"),e}}),C2=$5({reducerPath:"promodeApi",baseQuery:Yre,tagTypes:["ProModePrompts","AgentTools","MCP"],endpoints:e=>({getBasePrompts:e.query({query:n=>{let s="/prompts/base?include_prompt=true";return n?.organization_id&&(s+=`&organization_id=${n.organization_id}`),s},providesTags:["ProModePrompts"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch base prompts"})}),getAgentTools:e.query({query:n=>{if(typeof n=="string")return`/prompts/agents/${encodeURIComponent(n)}/tools`;let s=`/prompts/agents/${encodeURIComponent(n.agentName)}/tools`;return n.organization_id&&(s+=`?organization_id=${n.organization_id}`),s},providesTags:["AgentTools"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch agent tools"})}),getUserPrompts:e.query({query:n=>{const{limit:s=50,offset:r=0,is_main_agent:i,organization_id:a}=n||{};let o=`/prompts/user?limit=${s}&offset=${r}`;return i!==void 0&&(o+=`&is_main_agent=${i}`),a&&(o+=`&organization_id=${a}`),o},providesTags:["ProModePrompts"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch user prompts"})}),createUserPrompt:e.mutation({query:n=>({url:"/prompts/user",method:"POST",body:n}),invalidatesTags:["ProModePrompts"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to create user prompt"})}),updateUserPrompt:e.mutation({query:({id:n,data:s})=>({url:`/prompts/user/${n}`,method:"PUT",body:s}),invalidatesTags:["ProModePrompts"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to update user prompt"})}),getUserPrompt:e.query({query:n=>`/prompts/user/${n}`,providesTags:(n,s,r)=>[{type:"ProModePrompts",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch user prompt"})}),deleteUserPrompt:e.mutation({query:n=>({url:`/prompts/user/${n}`,method:"DELETE"}),invalidatesTags:["ProModePrompts"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to delete user prompt"})}),createMCP:e.mutation({query:n=>({url:"/mcp/",method:"POST",body:n}),invalidatesTags:["MCP"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to create MCP server"})}),getMCPs:e.query({query:n=>{const{limit:s=50,offset:r=0,organization_id:i}=n||{};let a=`/mcp/?limit=${s}&offset=${r}`;return i&&(a+=`&organization_id=${encodeURIComponent(i)}`),a},providesTags:(n,s,r)=>[{type:"MCP",id:r?.organization_id||"ALL"}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to fetch MCP servers"})}),getMCPById:e.query({query:n=>`/mcp/${n}`,providesTags:(n,s,r)=>[{type:"MCP",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to fetch MCP server"})}),updateMCP:e.mutation({query:({id:n,...s})=>({url:`/mcp/${n}`,method:"PUT",body:s}),invalidatesTags:(n,s,{id:r})=>[{type:"MCP",id:r},"MCP"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to update MCP server"})}),deleteMCP:e.mutation({query:({id:n,organization_id:s})=>{let r=`/mcp/${n}`;return s&&(r+=`?organization_id=${encodeURIComponent(s)}`),{url:r,method:"DELETE"}},invalidatesTags:(n,s,{organization_id:r})=>[{type:"MCP",id:r||"ALL"},"MCP"],transformResponse:n=>({message:n?.message||"MCP server deleted successfully"}),transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to delete MCP server"})})})}),{useLazyGetBasePromptsQuery:sO,useLazyGetAgentToolsQuery:rO,useGetUserPromptsQuery:Zre,useLazyGetUserPromptsQuery:Jre,useGetUserPromptQuery:iO,useCreateUserPromptMutation:aO,useUpdateUserPromptMutation:oO,useCreateMCPMutation:FPe,useGetMCPsQuery:G5,useLazyGetMCPsQuery:EPe,useUpdateMCPMutation:Xre,useDeleteMCPMutation:Qre}=C2,eie=Qh({baseUrl:so.apiBaseUrl,prepareHeaders:async e=>{const n=await pi.auth.getSession();return n.data.session?.access_token&&e.set("Authorization",`Bearer ${n.data.session.access_token}`),e.set("Content-Type","application/json"),e}}),_2=$5({reducerPath:"pricing",baseQuery:eie,refetchOnFocus:!0,refetchOnReconnect:!0,endpoints:e=>({getUserCohort:e.query({query:()=>({url:"/user/cohort",method:"POST"}),keepUnusedDataFor:30,transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||"Failed to fetch user cohort"})}),getUserForm:e.query({query:(n="cancellation")=>`/user/forms?form_type=${n}`,transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||"Failed to fetch user form"})}),submitCancellationForm:e.mutation({query:n=>({url:"/user/forms",method:"POST",body:{form_name:"subscription_cancellation_form",selected_reason:n.selectedReason,additional_info:n.additionalInfo}}),transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||"Failed to submit cancellation form"})}),submitOnboardingForm:e.mutation({query:n=>({url:"/user/forms",method:"POST",body:{form_name:"first_subscription_form",answers:n.answers,source:n.source}}),transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||"Failed to submit onboarding survey"})}),claimOffer:e.mutation({query:n=>({url:"/user/claim_offers",method:"POST",body:{offer_name:n}}),transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||"Failed to claim offer"})}),claimOfferVariant:e.mutation({query:n=>({url:"/user/claim_offers",method:"POST",body:{offer_name:n.offer_name}}),transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||"Failed to claim offer"})})})}),{useGetUserCohortQuery:Wa,useGetUserFormQuery:lO,useSubmitCancellationFormMutation:tie,useSubmitOnboardingFormMutation:nie,useClaimOfferMutation:sie,useClaimOfferVariantMutation:rie}=_2,iie={isOpen:!1,showUniversalKeyTooltip:!1,showModelSelectorTooltip:!1,showAgentDropdown:!1,highlightBroMode:!1},cO=Ca({name:"menu",initialState:iie,reducers:{openMenu:e=>{e.isOpen=!0},closeMenu:e=>{e.isOpen=!1},toggleMenu:e=>{e.isOpen=!e.isOpen},setShowUniversalKeyTooltip:(e,n)=>{e.showUniversalKeyTooltip=n.payload},setShowModelSelectorTooltip:(e,n)=>{e.showModelSelectorTooltip=n.payload},setShowAgentDropdown:(e,n)=>{e.showAgentDropdown=n.payload},setHighlightBroMode:(e,n)=>{e.highlightBroMode=n.payload}}}),{openMenu:SPe,closeMenu:wF,toggleMenu:kPe,setShowUniversalKeyTooltip:CF,setShowModelSelectorTooltip:_a,setShowAgentDropdown:j2,setHighlightBroMode:L1}=cO.actions,aie=cO.reducer,oie={isAdminMode:!1},dO=Ca({name:"admin",initialState:oie,reducers:{enableAdminMode:e=>{e.isAdminMode=!0},disableAdminMode:e=>{e.isAdminMode=!1},toggleAdminMode:e=>{e.isAdminMode=!e.isAdminMode}}}),{enableAdminMode:IPe,disableAdminMode:TPe,toggleAdminMode:lie}=dO.actions,cie=dO.reducer,die={autoEnableServerId:null},uO=Ca({name:"mcp",initialState:die,reducers:{setAutoEnableServerId:(e,n)=>{e.autoEnableServerId=n.payload},clearAutoEnableServerId:e=>{e.autoEnableServerId=null}}}),{setAutoEnableServerId:APe,clearAutoEnableServerId:DPe}=uO.actions,uie=uO.reducer,pie={key:"tabs",storage:aX},fie={key:"admin",storage:sX},mie=qM({progress:lX,container:hX,commandQueue:gX,tabs:W_(pie,UX),deploy:Ose,github:tre,[ec.reducerPath]:ec.reducer,[w2.reducerPath]:w2.reducer,[C2.reducerPath]:C2.reducer,[_2.reducerPath]:_2.reducer,menu:aie,admin:W_(fie,cie),mcp:uie}),Qi=VK({reducer:mie,middleware:e=>e({serializableCheck:{ignoredActions:[$K,zK,WK,GK,qK,KK]}}).concat(ec.middleware,w2.middleware,C2.middleware,_2.middleware)}),hie=YK(Qi);LJ(Qi.dispatch);function pO(){window.VWO=window.VWO||[]}function xie(){pO(),typeof window.VWO.event!="function"&&(window.VWO.event=function(){window.VWO.push(["event"].concat([].slice.call(arguments)))})}function _F(){pO(),typeof window.VWO.visitor!="function"&&(window.VWO.visitor=function(){window.VWO.push(["visitor"].concat([].slice.call(arguments)))})}const Kl={createUser(e){try{_F(),window.VWO.visitor({user_id:e})}catch(n){jt(Zt.SURVEY.CREATE_USER,n,{context:"surveyService_createUser"})}},setUserEmail(e){try{_F(),window.VWO.visitor({user_email:e})}catch(n){jt(Zt.SURVEY.SET_USER_EMAIL,n,{context:"surveyService_setUserEmail"})}},triggerEvent(e,n){try{xie(),window.VWO.event(e,n)}catch(s){jt(Zt.SURVEY.TRIGGER_EVENT,s,{context:"surveyService_triggerEvent",eventName:e})}}},$9="support@emergent.sh",jF=3e5,Ac=1e5,ha={support:"https://help.emergent.sh/",howToAddDomains:"https://help.emergent.sh/custom-domains",forking:{learnMore:"https://help.emergent.sh/forking-in-emergent"},socials:{discord:"https://discord.gg/X9cqNxYyG8"},helpCenter:"https://help.emergent.sh/",pro_learn_more_tooltip:"https://help.emergent.sh",expoGoDownload:"https://expo.dev/client",creditsAndPricing:"https://atlas-kb.com/atlas-e74243keac/articles/769724-credits-and-pricing",apiUsageGuide:"https://help.emergent.sh/using-apis-on-emergent"},Da={logsHeading:"Use deployment agent to identify the issues. Sharing build error logs when trying to deploy the current app to production. Please analyze these error logs, debug why these are happening and fix them.",logsPrompt:"I am using emergent deployments, a native functionality that containerizes and deploys applications to Kubernetes. My current deployment is failing with specific errors that need to be resolved through code modifications.The current environment that you are operating in is a sandboxed environment working with MongoDB , the environment where this application would be deployed operates with dedicated atlas provided mongodb.Please analyze the deployment errors below and modify my application code to resolve all issues preventing successful deployment.You should not make any docker related changes, you should only make code level changes that can make the deployment go through.",logsIdentifier:"--logs_identifier--",androidBuildPrompt:`Fix android build failures for this Expo project.

BUILD ENVIRONMENT - - Expo SDK 54 / EAS Build / Android ; Image: ubuntu-24.04-jdk-17-ndk-r27b ; Node: 20.19.4 / Java 17 / NDK 27.1.12297006. This build environment is FIXED and APP needs to be compatible with this BUILD ENVIRONMENT.

Ensure all packages being used are compliant with expo sdk 54 for eas build for building an Android app. Replace things which are not sdk 54 compliant without breaking the app functionality. At the end of fixes INVOKE THE TESTING AGENT to ensure my app works as expected. DO NOT MAKE CHANGES TO eas.json. Only make changes to the packages being used.

`,androidBuildPromptSuffix:`

At the end of fixes INVOKE THE TESTING AGENT to ensure my app works as expected. DO NOT MAKE CHANGES TO eas.json. Only make changes to the packages being used. At end of your fixes REMIND TO DEPLOY MY APP AND THEN ONLY CREATE A NEW BUILD.`,iosBuildPrompt:`Fix iOS build failures for this Expo project.

BUILD ENVIRONMENT - Target: Expo SDK 54 / EAS Build / iOS - Build image: macos-sequoia-15.6-xcode-26.0 / Node: 20.19.4. This build environment is FIXED and APP needs to be compatible with this BUILD ENVIRONMENT.

Ensure all packages being used are compliant with expo sdk 54 for eas build for building an ios app. Replace things which are not sdk 54 compliant without breaking the app functionality. At the end of fixes INVOKE THE TESTING AGENT to ensure my app works as expected. DO NOT MAKE CHANGES TO eas.json. Only make changes to the packages being used.

`,iosBuildPromptSuffix:`

At the end of fixes INVOKE THE TESTING AGENT to ensure my app works as expected. DO NOT MAKE CHANGES TO eas.json. Only make changes to the packages being used and configs. At end of your fixes REMIND TO DEPLOY MY APP AND THEN ONLY CREATE A NEW BUILD.`,remixWelcomeMessage:` **Awesome! You've successfully remixed this app!**

You now have your own fully editable copy. Everything is yours to modify - from the design and features to the core functionality.

**Here's what you can do:**

 Use natural language prompts to have your agent redesign the UI instantly

 Add new features by simply describing what you want to your agent

 Modify existing components without touching code

 Deploy your customized version when you're ready

**Start by telling your agent what you'd like to change, or dive into the builder to explore.**`},ie="https://assets.emergent.sh/assets",Tm="https://assets.emergent.sh",K={claude45background:`${Tm}/claude_modal_bg.png`,claude45backgroundMobile:`${Tm}/claude_mobile_modal_bg.png`,claudeText:`${Tm}/ClaudeSonnet45.png`,eLogoGif:`${ie}/elogo.gif`,icons:{code:`${ie}/code.svg`,info:`${ie}/info.svg`,preview:`${ie}/eye.svg`,history:`${ie}/history.svg`,deployCloud:`${ie}/DeployCloud.svg`,redeploy:`${ie}/RedeployNew.svg`,animatedSpinner:`${ie}/animated-spinner.gif`,github:`${ie}/github.svg`,githubIcon:`${ie}/github-icon.svg`,google:`${ie}/Google.svg`,submit:`${ie}/submit-arrow.svg`,task:`${ie}/task.svg`,branch:`${ie}/branch.svg`,branch2:`${ie}/branch2.svg`,emergentLogoNew:`${ie}/emergent-logo-new.svg`,emergentLogoNewBlack:`${ie}/emergent-logo-new-black.svg`,emergentLogoExpoApp:`${Tm}/emergent-blue-new.svg`,emergentLogoFavicon:`${Tm}/emergent-ico.png`,landingLight:`${ie}/landing-light.png`,bgPatternHome:`${ie}/bg_pattern_home.png`,infoSquare:`${ie}/info-square.svg`,paymentFailed:`${ie}/payment_failed.svg`,copyWhite:`${ie}/copy_white.svg`,eyeOff:`${ie}/eye_off.svg`,geminiIcon:`${ie}/icons/geminiLogo.svg`,cloudflare:`${ie}/icons/cloudflare.webp`},fork:{editNote:`${ie}/fork/edit_note.svg`,forkedFrom:`${ie}/fork/forked_from.svg`,session:`${ie}/fork/session.svg`,forkRed:`${ie}/fork/fork_red.svg`,paceCyan:`${ie}/fork/pace_cyan.svg`,matrixCode:`${ie}/fork/matrix_code.gif`,fork:`${ie}/fork/fork.svg`,forkFill:`${ie}/fork/fork-fill.svg`,completed:`${ie}/fork/completed.svg`,dollarCyan:`${ie}/fork/dollar_cyan.svg`,dropdownCyan:`${ie}/fork/dropdown_cyan.svg`,firstState:`${ie}/fork/first_state.svg`,likeCyan:`${ie}/fork/like_cyan.svg`,summary:`${ie}/fork/summary.svg`,summaryCyan:`${ie}/fork/summary_cyan.svg`},teams:{teamAssetDesktop:`${ie}/teams/team_asset_web.png`,teamAssetMobile:`${ie}/teams/team_asset_mobile.png`,org:`${ie}/teams/org.svg`,pendingDot:`${ie}/teams/pending_dot.svg`},notifications:{lowCredits:`${ie}/low_credits.webp`},landingPage:{landingBg:`${ie}/landing-page/landing-bg.png`,landingBgMobile:`${ie}/landing-page/landing-page-mobile.png`,customAgents:`${ie}/landing-page/custom-agents.png`,footerFiller:`${ie}/landing-page/footer-filler.gif`,landingFillerBackground:`${ie}/landing-page/landing-filler-background.png`,mobile:`${ie}/landing-page/mobile.png`,teams:`${ie}/landing-page/teams.png`,users:`${ie}/landing-page/users.png`},videos:{clouds:`${ie}/videos/clouds.mp4`,bgVid:`${ie}/bg-vid.mp4`,oneMClaude:`${ie}/tips&Tricks/1M_Claude.mp4`,assets:`${ie}/tips&Tricks/Assets.mp4`,deployment:`${ie}/tips&Tricks/Deployment.mp4`,fork:`${ie}/tips&Tricks/Fork.mp4`,mobileApp:`${ie}/tips&Tricks/Mobile_App.mp4`,newCustomAgent:`${ie}/tips&Tricks/New_Custom_Agent.mp4`},showcase:{whiteArrow:`${ie}/showcase/white_arrow.svg`,image1:`${ie}/showcase/1.png`,image2:`${ie}/showcase/2.png`,image3:`${ie}/showcase/3.png`,image4:`${ie}/showcase/4.png`,image6:`${ie}/showcase/6.png`,aiIncluded:`${ie}/showcase/aiincluded.svg`,aiIncludedText:`${ie}/showcase/AIIncludedText.svg`},feature:{arrowDark:`${ie}/feature/arrow_dark.svg`},oauth:{emergent:`${ie}/oauth/emergent.svg`,envelopeDefault:`${ie}/oauth/envelope-default.svg`,foundationShield:`${ie}/oauth/foundation_shield.svg`,google:`${ie}/oauth/google.svg`,image4:`${ie}/oauth/image 4.png`,layerThree:`${ie}/oauth/layer-three.svg`,nftDefault:`${ie}/oauth/nft-default.svg`,sparkle:`${ie}/oauth/sparkle.svg`},modals:{desktop25mil:`${ie}/modals/Desktop25Mil.png`,mobile25mil:`${ie}/modals/Mobile25Mil.png`,pixDesktop:`${ie}/modals/pix-desktop.png`,pixMobile:`${ie}/modals/pix-mobile.png`,discountButton:`${ie}/modals/DiscountButton.png`,betaImage:`${ie}/modals/BETA.svg`,deploymentSuccessModalBg:`${ie}/deployment_live_bg.webp`,deploymentLiveBadge:`${ie}/deployment_live_badge_transparetn.webp`,opusDesktop:`${ie}/modals/opus_web.webp`,opusMobile:`${ie}/modals/opus_mob.webp`,opus46Desktop:`${ie}/modals/opus_4.6_desktop.webp`,opus46Mobile:`${ie}/modals/opus_4.6_mobile.webp`,pagbrasilOfferStripBgMobile:`${ie}/modals/seriesb_banner_mobile.webp`,pagbrasilOfferStripBgWeb:`${ie}/modals/seriesb_home_banner.webp`,pagbrasilOfferStripBgCard:`${ie}/modals/seriesb_banner_web.webp`,pagbrasilGiftIcon:`${ie}/modals/seriesb_gift.webp`,hundredMillionDesktop:`${ie}/modals/100m_bg_image.webp`,hundredMillionMobile:`${ie}/modals/100m_without_popup.webp`,hundredMillionArrBot:`${ie}/modals/100M_ARR_Bot_Hoarding.webp`},pro:{gem:`${ie}/pro/gem.svg`,gemMobile:`${ie}/pro/gemMobile.svg`,bg:`${ie}/pro/bg.png`,proBg:`${ie}/pro/pro_bg.png`,secondBanner:`${ie}/pro/secondBanner.png`,darkrobot:`${ie}/pro/darkrobot.svg`,workbench:`${ie}/pro/workbench.svg`,book:`${ie}/pro/book.svg`,external:`${ie}/pro/external.svg`,next:`${ie}/pro/next.svg`,nextArrow:`${ie}/pro/nextArrow.svg`,pro:`${ie}/pro/pro.svg`,proMobile:`${ie}/pro/proMobile.svg`,backGray:`${ie}/pro/back-gray.svg`,bgSvg:`${ie}/pro/bg.svg`},universal:{add:`${ie}/universal/add.svg`,addActive:`${ie}/universal/add-active.svg`,alertBg:`${ie}/universal/alert-bg.svg`,check:`${ie}/universal/check.svg`,claude:`${ie}/universal/claude.svg`,copy:`${ie}/universal/copy.svg`,deleteRegenerate:`${ie}/universal/delete-regenerate.svg`,gemini:`${ie}/universal/gemini.svg`,infoGray:`${ie}/universal/info-gray.svg`,infoOrange:`${ie}/universal/info-orange.svg`,key:`${ie}/universal/key.svg`,nextArrow:`${ie}/universal/next-arrow.svg`,openai:`${ie}/universal/openai.svg`,saveContinue:`${ie}/universal/save-continue.svg`},ultra:{oneMillionUltra:`${ie}/ultra/1M+ultra.png`,oneMillionUltraMobile:`${ie}/ultra/1M+ultra_mobile.png`},mcp:{kuchbhi:`${ie}/mcp/kuchbhi.png`,kuchbhiMobile:`${ie}/mcp/kuchbhi_mobile.png`},deployment:{article:`${ie}/deployment/Article.svg`,goBack:`${ie}/deployment/GoBack.svg`,logWithError:`${ie}/deployment/LogWithError.svg`,logs:`${ie}/deployment/Logs.svg`,webDarkLink:`${ie}/deployment/WebDarkLink.svg`,carbonViewFilled:`${ie}/deployment/carbon_view-filled.svg`,dangerous:`${ie}/deployment/dangerous.svg`,dangerousActive:`${ie}/deployment/dangerous_active.svg`,database:`${ie}/deployment/database.svg`,keyAlert:`${ie}/deployment/key_alert.svg`,mdiCheckAll:`${ie}/deployment/mdi_check-all.svg`,replace:`${ie}/deployment/replace.svg`,replaceBlack:`${ie}/deployment/replace_black.svg`,replaceGrey:`${ie}/deployment/replace_grey.svg`,replaceOrange:`${ie}/deployment/replace_orange.svg`,stripe:`${ie}/deployment/stripe.svg`,timeGreyDeployed:`${ie}/deployment/time_grey_deployed.svg`,warningActive:`${ie}/deployment/warning_active.svg`,warningInactive:`${ie}/deployment/warning_inactive.svg`,webImage:`${ie}/deployment/webImage.svg`,caddyToCloudflare:{step1:`${ie}/deployment/caddy_to_cloudflare/step_1.webp`,step2:`${ie}/deployment/caddy_to_cloudflare/step_2.webp`,step3:`${ie}/deployment/caddy_to_cloudflare/step_3.webp`,mobileStep1:`${ie}/deployment/caddy_to_cloudflare/mobile_step_1.webp`,mobileStep2:`${ie}/deployment/caddy_to_cloudflare/mobile_step_2.webp`,mobileStep3:`${ie}/deployment/caddy_to_cloudflare/mobile_step_3.webp`,mobileStep4:`${ie}/deployment/caddy_to_cloudflare/mobile_step_4.webp`},globeIcon:`${ie}/globe.svg`,globeGlow:`${ie}/globe_glow.png`,noIosBuilds:`${ie}/no-ios-builds.svg`,expoBuilds:{buildSupportBg:`${ie}/deployment/expo_builds/build-support-bg.webp`,buildSupportBgMobile:`${ie}/deployment/expo_builds/build-support-bg-mobile.webp`,publishSupportIos:`${ie}/deployment/expo_builds/publish-support-ios.webp`,publishSupportAndroid:`${ie}/deployment/expo_builds/publish-support-android.webp`}},referral:{coin:`${ie}/referral/coin.svg`,credited:`${ie}/referral/credited.svg`,external:`${ie}/referral/external.svg`,giftGreenWithoutGlow:`${ie}/referral/gift-green-withoutGlow.svg`,person:`${ie}/referral/person.svg`,referralImage:`${ie}/referral/referral.png`},payments:{external:`${ie}/payments/external.svg`,externalFilled:`${ie}/payments/external_filled.svg`,infoRed:`${ie}/payments/info-red.svg`,info:`${ie}/payments/info.svg`,question:`${ie}/payments/question.svg`,cardBrands:{visa:`${ie}/icons/visa_card.png`,mastercard:`${ie}/icons/master_card.png`,amex:`${ie}/icons/amex_card.png`,jcb:`${ie}/icons/jcb_card.png`}},discountModal:{assetOff:`${ie}/discount-modal/asset_off.png`,bg:`${ie}/discount-modal/bg.png`,text:`${ie}/discount-modal/text.png`},robots:{research:`${ie}/robots/research.svg`,robot1:`${ie}/robots/robot_1.svg`,robot2:`${ie}/robots/robot_2.svg`,robot3:`${ie}/robots/robot_3.svg`,robot4:`${ie}/robots/robot_4.svg`,robot5:`${ie}/robots/robot_5.svg`,robot6:`${ie}/robots/robot_6.svg`,robot7:`${ie}/robots/robot_7.svg`,robot8:`${ie}/robots/robot_8.svg`,robot9:`${ie}/robots/robot_9.svg`,robot10:`${ie}/robots/robot_10.svg`},buy:{buyCoin:`${ie}/Avatars.svg`},upload:{arrowNext:`${ie}/upload/arrow-next.svg`,blueCheck:`${ie}/upload/blue_check.svg`,close:`${ie}/upload/close.svg`,comment:`${ie}/upload/comment.svg`,commented:`${ie}/upload/commented.svg`,delete:`${ie}/upload/delete.svg`,deleteActive:`${ie}/upload/deleteActive.svg`,downloadWhite:`${ie}/upload/download_white.svg`,info:`${ie}/upload/info.svg`,moreIcon:`${ie}/upload/more_icon.svg`,noAssets:`${ie}/upload/no-assets.svg`,uploadNormal:`${ie}/upload/upload_normal.svg`},chips:{surprise:`${ie}/chips/surprise.svg`},panels:{close:`${ie}/panels/close.svg`,link:`${ie}/panels/link.svg`,phone:`${ie}/panels/phone.svg`,share:`${ie}/panels/share.svg`},preview:{emergentBlue:`${ie}/preview/emergent_blue.svg`,flappybird:`${ie}/preview/flappybird.png`,gameBoy:`${ie}/preview/game_boy.svg`,gradientArrow:`${ie}/preview/gradient-arrow.svg`,greenArrow:`${ie}/preview/green_arrow.svg`,greenCheck:`${ie}/preview/green_check.svg`,iphoneMockup:`${ie}/preview/iphone_mockup_preview_2.png`,pixelArrow:`${ie}/preview/pixel_arrow.svg`,play:`${ie}/preview/play.svg`,screen:`${ie}/preview/screen.svg`},github:{gitBranchDark:`${ie}/github/GitBranchDark.svg`,githubGreenDark:`${ie}/github/GithubGreenDark.svg`,arrowGreen:`${ie}/github/arrow_green.svg`,emergencyHome:`${ie}/github/emergency_home.svg`,emergencyHomePurple:`${ie}/github/emergency_home_purple.svg`,emergencyHomeRed:`${ie}/github/emergency_home_red.svg`,gitDot:`${ie}/github/git-dot.svg`,gitBranch:`${ie}/github/git_branch.svg`,githubBack:`${ie}/github/github_back.svg`,githubConnected:`${ie}/github/github_connected.svg`,shieldLock:`${ie}/github/shield_lock.svg`},menuIcons:{discord:`${ie}/menu-icons/discord.svg`,discordEndIcon:`${ie}/menu-icons/discord_end_icon.svg`,discordHover:`${ie}/menu-icons/discord_hover.svg`,github:`${ie}/menu-icons/github.svg`,logout:`${ie}/menu-icons/logout.svg`,menu:`${ie}/menu-icons/menu.svg`},files:{csv:`${ie}/files/csv.svg`,doc:`${ie}/files/doc.svg`,other:`${ie}/files/other.svg`,pdf:`${ie}/files/pdf.svg`,ppt:`${ie}/files/ppt.svg`,svg:`${ie}/files/svg.svg`,txt:`${ie}/files/txt.svg`,video:`${ie}/files/video.svg`,zip:`${ie}/files/zip.svg`},subagent:{subagentPanelIcon:`${ie}/subagent/subagentPanel.svg`},tips:{arrowBack:`${ie}/tips/arrow-back.svg`},logo:{borderedLogoDark:`${ie}/logo/borded-logo-dark.svg`,logo:`${ie}/logo/logo.svg`},common:{bot:`${ie}/bot.svg`,increaseBudget:`${ie}/increase_budget.svg`,arrowDownBig:`${ie}/ArrowDownBig.svg`,copyable:`${ie}/Copyable.svg`,deployTime:`${ie}/DeployTime.svg`,dustBin:`${ie}/DustBin.svg`,eLogoNew:`${ie}/E-logo-new.png`,eLogo:`${ie}/E-logo.png`,githubGreen:`${ie}/GithubGreen.svg`,greenBranch:`${ie}/GreenBranch.svg`,hypeText:`${ie}/HypeText.svg`,joinedBuy:`${ie}/JoinedBuy.svg`,keyPurple:`${ie}/KeyPurple.svg`,landingAuthStar:`${ie}/Landing-Auth-Star.gif`,landingHeroE:`${ie}/Landing-Hero-E.gif`,line:`${ie}/Line.svg`,link:`${ie}/Link.svg`,lockedWeb:`${ie}/LockedWeb.svg`,lockedWebBlue:`${ie}/LockedWebBlue.svg`,plusIcon:`${ie}/PlusIcon.svg`,purpleDownArrow:`${ie}/PurpleDownArrow.svg`,rollbackTime:`${ie}/RollbackTime.svg`,settings:`${ie}/Settings.svg`,sparklingStar:`${ie}/SparklingStar.svg`,stars:`${ie}/Stars.svg`,subscriptionSuccess:`${ie}/SubscriptionSucess.svg`,timeRever:`${ie}/TimeRever.svg`,unlink:`${ie}/Unlink.svg`,whiteCopperCoin:`${ie}/WhiteCopperCoin.svg`,accountSettingsIcon:`${ie}/account-settings-icon.svg`,activeFile:`${ie}/active-file.svg`,adjustIcon:`${ie}/adjust-icon.svg`,agentSleeping:`${ie}/agentsleeping.svg`,alertFill:`${ie}/alert-fill.svg`,alertOrange:`${ie}/alert-orange.svg`,appleWhite:`${ie}/apple-white.svg`,arrowUploadReady:`${ie}/arrow-upload-ready.svg`,arrowUploadReadyDark:`${ie}/arrow_upload_ready_dark.svg`,attach:`${ie}/attach.svg`,attachmentCross:`${ie}/attachment-cross.svg`,badgeCheckGray:`${ie}/badge-check-gray.svg`,badgeCheckYellow:`${ie}/badge-check-yellow.svg`,badgeCheck:`${ie}/badge-check.svg`,banner:`${ie}/banner.svg`,bell:`${ie}/bell.svg`,buyCredit:`${ie}/buy_credit.svg`,captivePortal:`${ie}/captive_portal.svg`,close:`${ie}/close.svg`,controls:`${ie}/controls.svg`,copperCoin:`${ie}/copper-coin.svg`,copyPaperclip:`${ie}/copy-paperclip.svg`,copyPurple:`${ie}/copyPurple.svg`,deploy:`${ie}/deploy.svg`,discordLight:`${ie}/discordLight.svg`,expo:`${ie}/expo.svg`,eyeNew:`${ie}/eye_new.svg`,file:`${ie}/file.svg`,flowbiteRefreshOutline:`${ie}/flowbite_refresh-outline.svg`,fluentEmojiBell:`${ie}/fluent-emoji_bell.svg`,folderAdd:`${ie}/folder-add.svg`,folder:`${ie}/folder.svg`,foregroundImage:`${ie}/foreground-image.png`,githubConnect:`${ie}/github_connect.svg`,globeActive:`${ie}/globe_active.svg`,globeWhite:`${ie}/globe_white.svg`,greenLinkArrow:`${ie}/greenLinkArrow.svg`,iconamoonEditFill:`${ie}/iconamoon_edit-fill.svg`,infoSquare02:`${ie}/info-square-02-contained-filled.svg`,keyboardArrowUp:`${ie}/keyboard_arrow_up.svg`,lock:`${ie}/lock.svg`,logoBlue:`${ie}/logo_blue.svg`,mail:`${ie}/mail.svg`,menuInfo:`${ie}/menu-info.svg`,mingcuteQuestionFill:`${ie}/mingcute_question-fill.svg`,newCoin:`${ie}/new_coin.svg`,notificationSound:`${ie}/notification-sound.mp3`,password:`${ie}/password.svg`,pause:`${ie}/pause.svg`,play:`${ie}/play.svg`,recordStopIcon:`${ie}/record-stop-icon.svg`,refresh:`${ie}/refresh.svg`,reply:`${ie}/reply.svg`,repo:`${ie}/repo.svg`,rightArrow:`${ie}/right-arrow.svg`,saveCloud:`${ie}/save-cloud.svg`,send:`${ie}/send.svg`,starsGif:`${ie}/stars.gif`,testFile:`${ie}/test-file.svg`,testModePreview:`${ie}/test-mode-preview.png`,visualEdit:`${ie}/visual_edit.svg`,webImage:`${ie}/webImage.svg`,whiteGithub:`${ie}/white-github.svg`},panelIcons:{panelEdit:`${ie}/panel_icons/panel_edit.json`,panelIntegration:`${ie}/panel_icons/panel_integration.json`,panelTesting:`${ie}/panel_icons/panel_testing.json`,panelVision:`${ie}/panel_icons/panel_vision.json`},seriesB:{eyes:`${ie}/eyes_01.gif`,robot:`${ie}/robo_series_B.png`,bannerBg:`${ie}/70_mill_bg_v2.webm`},gifting:{carouselImage1:`${ie}/gifting/santa.webp`,carouselImage2:`${ie}/gifting/tree.webp`,carouselImage3:`${ie}/gifting/snowman.webp`,carouselImage4:`${ie}/gifting/gift.webp`,carouselImage5:`${ie}/gifting/coffee.webp`,bgWeb:`${ie}/gifting/bg_web.webp`,santaSmall:`${ie}/gifting/santa_small.webp`,treeSmall:`${ie}/gifting/tree_small.webp`,snowmanSmall:`${ie}/gifting/snowman_small.webp`,giftSmall:`${ie}/gifting/gift_small.webp`,coffeeSmall:`${ie}/gifting/coffee_small.webp`,warmupMail:{bannerBg:`${ie}/gifting/warmup_mail/banner_bg.webp`,gift:`${ie}/gifting/warmup_mail/gift.webp`,gift_success:`${ie}/gifting/warmup_mail/gift_success.webp`}},moltbot:{logo:`${ie}/moltbot/logo.webp`,mascotBanner:`${ie}/moltbot/mascot_banner.webp`}},kn={USD:"USD",INR:"INR",EUR:"EUR",GBP:"GBP",JPY:"JPY",AUD:"AUD",CAD:"CAD",CHF:"CHF",CNY:"CNY",SEK:"SEK",NZD:"NZD",MXN:"MXN",SGD:"SGD",HKD:"HKD",NOK:"NOK",KRW:"KRW",TRY:"TRY",RUB:"RUB",BRL:"BRL",ZAR:"ZAR",DKK:"DKK",PLN:"PLN",THB:"THB",IDR:"IDR",HUF:"HUF",CZK:"CZK",ILS:"ILS",CLP:"CLP",PHP:"PHP",AED:"AED",COP:"COP",SAR:"SAR",MYR:"MYR",RON:"RON"},aw={[kn.USD]:"$",[kn.INR]:"",[kn.EUR]:"",[kn.GBP]:"",[kn.JPY]:"",[kn.AUD]:"A$",[kn.CAD]:"C$",[kn.CHF]:"CHF",[kn.CNY]:"",[kn.SEK]:"kr",[kn.NZD]:"NZ$",[kn.MXN]:"MX$",[kn.SGD]:"S$",[kn.HKD]:"HK$",[kn.NOK]:"kr",[kn.KRW]:"",[kn.TRY]:"",[kn.RUB]:"",[kn.BRL]:"R$",[kn.ZAR]:"R",[kn.DKK]:"kr",[kn.PLN]:"z",[kn.THB]:"",[kn.IDR]:"Rp",[kn.HUF]:"Ft",[kn.CZK]:"K",[kn.ILS]:"",[kn.CLP]:"CLP$",[kn.PHP]:"",[kn.AED]:"AED",[kn.COP]:"COL$",[kn.SAR]:"SAR",[kn.MYR]:"RM",[kn.RON]:"lei"},Vd={PADDLE:"PADDLE",STRIPE:"STRIPE",RAZORPAY:"RAZORPAY",PAGBRASIL:"PAGBRASIL"},P1={PADDLE_MISSING_TRANSACTION_ID:"Failed to get Paddle transaction ID",PADDLE_NOT_AVAILABLE:"Payment gateway not available. Please refresh and try again.",PADDLE_CHECKOUT_FAILED:"Failed to open payment checkout. Please try again."},NF={[kn.INR]:1700,[kn.BRL]:120,[kn.KRW]:3e4,[kn.USD]:20},FF={[kn.INR]:5e5,[kn.BRL]:6e4,[kn.KRW]:3e6,[kn.USD]:4e3},ox=225,gie=9,MPe=`// Use JSON in this format:
// example:
{
"mcpServers": {
"your-tool": {
"command": "npx",
"args": ["-y", "@your-org/mcp-server"],
"env": {
"API_KEY": "your-api-key-here"
}
}
}
}`,bie=[{id:"deployment",type:"video",videoSrc:K.videos.deployment,duration:17e3,title:"Deploy Your Application",description:"Make your app publicly available with managed infrastructure."},{id:"oneMClaude",type:"video",videoSrc:K.videos.oneMClaude,duration:14e3,title:"1M Context Window",description:"Build complex apps with 5 larger agentic context window."},{id:"assets",type:"video",videoSrc:K.videos.assets,duration:2e4,title:"Assets",description:"Upload assets and media files that your agent can access and integrate into your code."},{id:"fork",type:"video",videoSrc:K.videos.fork,duration:15e3,title:"Manage Agent Context With Forks",description:"Experiment at lightning speed with forks for complex applications."},{id:"mobileApp",type:"video",videoSrc:K.videos.mobileApp,duration:15e3,title:"Create Mobile Apps",description:"Develop high-performance native mobile apps starting from a clean slate."},{id:"newCustomAgent",type:"video",videoSrc:K.videos.newCustomAgent,duration:29e3,title:"Explore Custom Agents",description:"Develop agents optimized for your specific processes and use cases."}],Vl={title:"Get Emergent app",description:"Build on the go with the Emergent app",headerTitle:"Emergent mobile app is here",headerDescription:"Build on the go ",headerButtonText:"Download App",bannerText:"Build on the go using the Emergent app",bannerButtonText:"Download"},bg="VALENTINE20",yie=()=>{},bb=new Set,Xu=e=>{if(e){const n=e.user_metadata||{};Kl.createUser(e.id),Kl.setUserEmail(e.email||""),Wt.identify(e.id,{name:n.name||e.email||"Unknown User",email:e.email||"unknown@example.com",currentUserDistinctId:e.id,isNewUser:!!n.is_new_user,signUpDate:e.created_at||"",lastSignIn:e.last_sign_in_at||"",authProvider:n.provider||"email",hasGithubConnected:!!n.github_connected,userRole:n.role||"user",referrer:document.referrer||localStorage.getItem("user_referrer")||"direct",utmSource:localStorage.getItem("utm_source")||"",utmMedium:localStorage.getItem("utm_medium")||"",utmCampaign:localStorage.getItem("utm_campaign")||"",appVersion:"1.0.466"});try{const s=Wt.getFeatureFlagPayload("promo_modal_queue");if(s&&typeof s=="object"){const r=s;if(r.modal_queue&&Array.isArray(r.modal_queue)){const i={};r.modal_queue.forEach(a=>{const o=`has_seen_${a}`;i[o]=!1}),Wt.capture("$set_once_init",{$set_once:i})}}}catch{}bb.has(e.id)||(bb.add(e.id),H("user_identified",{userId:e.id,isNewUser:!!n.is_new_user,authProvider:n.provider||"email",appVersion:"1.0.466"}))}else bb.clear(),H("user_session_ended")},z9=()=>{try{const e=Wt.get_property("$device_id");return typeof e=="string"?e:void 0}catch{return}},zc=(e,n={})=>{const s=Qi.getState(),r=s.tabs.activeTab,i=s.tabs.tabStates[r]||{},a={userId:n.userId,jobId:i.jobId||n.jobId,containerId:i.containerId||n.containerId,tabId:r,...n,errorMessage:e instanceof Error?e.message:e,errorStack:e instanceof Error?e.stack:void 0,appVersion:"1.0.466"};Wt.capture("error",a)},H=(e,n={})=>{const s=Qi.getState(),r=s.tabs.activeTab,i=s.tabs.tabStates[r]||{},a=new URLSearchParams(window.location.search),o={jobId:i.jobId||"",containerId:i.containerId||"",tabId:r||"",tabCount:Object.keys(s.tabs.tabStates||{}).length,currentPath:window.location.pathname,referrer:document.referrer,timestamp:new Date().toISOString(),appVersion:"1.0.466"};a.forEach((l,c)=>{o[`url_param_${c}`]=l}),Object.entries(n).forEach(([l,c])=>{c!==void 0&&(typeof c=="object"&&c!==null?o[l]=JSON.stringify(c):typeof c=="string"||typeof c=="number"||typeof c=="boolean"?o[l]=c:c===null&&(o[l]=null))}),Wt.capture(e,o)},vie=(e,n,s)=>{const r={tier:e,subscription_tier:e};n&&(r.personal_tier=n),s&&(r.org_tier=s),Wt.setPersonProperties(r)},va=(e,n={})=>{H(`auth_${e}`,{...n,timestamp:new Date().toISOString()})},EF=(e,n={})=>{H(`chat_${e}`,{...n,timestamp:new Date().toISOString()})},Am=(e,n={})=>{H(`tab_${e}`,{...n,timestamp:new Date().toISOString()})},ss=(e,n={})=>{H(`feature_${e}`,{...n,timestamp:new Date().toISOString()})},lx=(e,n={})=>{H(`task_${e}`,{...n,timestamp:new Date().toISOString()})},yb=(e,n={})=>{H(`onboarding_${e}`,{...n,timestamp:new Date().toISOString()})},wie=async()=>{try{return Wt.getFeatureFlag("config_version")?.toString()?.replace(/_/g,".")}catch{try{return await OP()}catch{return}}},fO=e=>{try{const n=Wt.getFeatureFlag("feature_referral");return n===!0||n==="true"||e}catch{return!1}},N2=e=>!0,ow=()=>{try{const e=Wt.getFeatureFlag("disable_inputs");return(e===!0||e==="true")&&localStorage.getItem("mobile")==="true"}catch{return!1}},Cie=()=>{try{const e=Wt.getFeatureFlag("mobile_preview_enabled");return e===!0||e==="true"}catch{return!1}},W9=()=>{try{const e=Wt.getFeatureFlag("github_fork_paywall");return e===!0||e==="true"}catch{return!1}},mO=e=>{try{const n=Wt.getFeatureFlag("feature_custom_agents");return n===!0||n==="true"||e}catch{return!1}},vb=()=>{try{const e=Wt.getFeatureFlag("price_crossed_out_v2");return e===!0||e==="true"}catch{return!1}},n0=()=>{try{const e=Wt.getFeatureFlag("public_private_feature");return e===!0||e==="true"}catch{return!1}},_ie=()=>{try{const e=Wt.getFeatureFlag("guided_discovery");return e===!0||e==="true"}catch{return!1}},jie=()=>{try{const e=Wt.getFeatureFlag("test_mode_enabled");return e===!0||e==="true"}catch{return!1}},Nie=()=>{try{const e=Wt.getFeatureFlag("enterprise_plan_enabled");return e===!0||e==="true"}catch{return!1}},SF=()=>{try{const e=Wt.getFeatureFlag("buy_domain_feature");return e===!0||e==="true"}catch{return!1}},kF={previewMaxWidth:60,mainContentMinWidth:45,previewDefaultWidth:50},Fie=30,Eie=90,Sie=()=>{try{const e=Wt.getFeatureFlagPayload("preview_panel_exp"),n=e?.width?Number(e.width):null;return n&&!isNaN(n)&&n>=Fie&&n<=Eie?{previewMaxWidth:n,mainContentMinWidth:100-n,previewDefaultWidth:n}:kF}catch(e){return jt("get_preview_panel_exp_feature_flag_error",e,{featureFlag:"preview_panel_exp"}),kF}},kie=()=>{try{const n=Wt.getFeatureFlagPayload("info_banner")?.info_banner;return n&&n.show&&n.content?{show:n.show,level:n.level||"warning",content:n.content,dismissible:n.dismissible!==void 0?n.dismissible:!0}:null}catch(e){return jt("get_info_banner_feature_flag_error",e,{featureFlag:"info_banner"}),null}},Iie=()=>{try{const e=Wt.getFeatureFlagPayload("mobile_promo_topnav_qr");return e?{qrCodeUrl:e.qrCodeUrl,title:e.title||Vl.title,description:e.description||Vl.description}:null}catch{return null}},Tie=()=>{try{const e=Wt.getFeatureFlagPayload("mobile_promo_chatinput_qr");return e?{qrCodeUrl:e.qrCodeUrl,title:e.title||Vl.title,description:e.description||Vl.description,headerTitle:e.headerTitle||Vl.headerTitle,headerDescription:e.headerDescription||Vl.headerDescription,headerButtonText:e.headerButtonText||Vl.headerButtonText}:null}catch{return null}},Aie=()=>{try{const e=Wt.getFeatureFlagPayload("mobile_promo_mweb_banner");return e?{text:e.text||Vl.bannerText,buttonText:e.buttonText||Vl.bannerButtonText}:null}catch{return null}},Die=()=>{try{const e=Wt.getFeatureFlag("mobile_promo_mweb_soft_block");return e===!0||e==="true"}catch{return!1}},RPe=(e,n={})=>{H(`referral_${e}`,{...n,timestamp:new Date().toISOString()})},IF=(e,n={})=>{H(`chat_${e}`,{...n,timestamp:new Date().toISOString()})},LPe=(e,n={})=>{H(`landing_${e}`,{...n,timestamp:new Date().toISOString(),page:"landing_page",url:window.location.href,referrer:document.referrer})},wb=(e,n={})=>{H(`test_mode_${e}`,{...n,timestamp:new Date().toISOString()})},il=(e,n={})=>{H(`voice_recording_${e}`,{...n,timestamp:new Date().toISOString()})},PPe=()=>{try{return Wt.getFeatureFlag("landing_subject_line")?.toString()||"variant-a"}catch{return"variant-a"}},OPe=()=>{try{const e=Wt.getFeatureFlag("is_indian_user");return e===!0||e==="true"}catch{return!1}},Mie=()=>{try{const e=Wt.getFeatureFlag("collect_beta_users");return e===!0||e==="true"}catch{return!1}},Rie=()=>{try{const e=Wt.getFeatureFlag("fingerprint_sdk_trigger");return e===!0||e==="true"}catch{return!1}},Lie=e=>{try{Wt.setPersonPropertiesForFlags({is_beta_user:!0,beta_accepted_at:new Date().toISOString()}),Wt.people?.set({is_beta_user:!0,beta_accepted_at:new Date().toISOString()})}catch{}},Pie=(e,n={})=>{H(`beta_program_${e}`,{...n,timestamp:new Date().toISOString()})},Oie=()=>{try{const e=Wt.getFeatureFlag("one_million_active");return e===!0||e==="true"}catch{return!0}},Bie=()=>{try{const e=Wt.getFeatureFlag("opus_modal");return e===!0||e==="true"}catch{return!1}},Uie=()=>{try{const e=Wt.getFeatureFlag("opus46_modal");return e===!0||e==="true"}catch{return!1}},G9=()=>{try{const e=Wt.getFeatureFlag("tips_and_tricks_panel");return e===!0||e==="true"}catch{return!1}},Hie=()=>{try{const e=Wt.getFeatureFlag("free_credits_modal");return e===!0||e==="true"}catch{return!1}},hO=()=>{try{const e=Wt.getFeatureFlag("valentine_credits_modal");return e===!0||e==="true"}catch{return!1}},Cp=()=>{try{if(!Wt.getFeatureFlag("promotional_modals"))return!1;const n=Wt.getFeatureFlagPayload("promotional_modals");return!n||!n.modals?!1:n.modals.some(s=>s.type==="ui_driven_model_75")}catch{return!1}},lw=()=>{try{if(!Wt.getFeatureFlag("promotional_modals"))return!1;const n=Wt.getFeatureFlagPayload("promotional_modals");return!n||!n.modals?!1:n.modals.some(s=>s.type==="ui_driven_pb_modal")}catch{return!1}},cw=()=>{try{if(!Wt.getFeatureFlag("promotional_modals"))return!1;const n=Wt.getFeatureFlagPayload("promotional_modals");return!n||!n.modals?!1:n.modals.some(s=>s.type==="ui_driven_modal_75_in")}catch{return!1}},q9=e=>{try{const n=`has_seen_${e}`;Wt.setPersonPropertiesForFlags({[n]:!0}),Wt.people?.set({[n]:!0})}catch{}},BPe=()=>{q9("opus")},UPe=()=>{q9("opus46")},Vie=()=>{try{const e=Wt.getFeatureFlag("onboarding_survey_modal");return e===!0||e==="true"}catch{return!1}},$ie=e=>{try{const n=Wt.getFeatureFlagPayload("affiliate_tracking_scripts");return n&&n[e.toLowerCase()]||null}catch{return null}},yg=()=>{try{return Wt.isFeatureEnabled("quick_topup")===!0}catch(e){return jt("get_quick_topup_feature_flag_error",e,{featureFlag:"quick_topup"}),!1}},TF=()=>{try{return Wt.isFeatureEnabled("quick_upgrade")===!0}catch(e){return jt(Zt.FEATURE_FLAG.QUICK_UPGRADE,e,{featureFlag:"quick_upgrade"}),!1}},zie=()=>{try{return Wt.isFeatureEnabled("summarize_label")===!0}catch(e){return jt("get_summarize_label_feature_flag_error",e,{featureFlag:"summarize_label"}),!1}},Wie=()=>{try{return Wt.isFeatureEnabled("trajectory_history")===!0}catch(e){return jt("get_trajectory_history_feature_flag_error",e,{featureFlag:"trajectory_history"}),!1}},xO=()=>{try{return Wt.isFeatureEnabled("tips_trigger_change")===!0}catch{return!1}},Gie=()=>{try{return Wt.isFeatureEnabled("preview_panel_exp")===!0}catch{return!1}},qie=()=>{try{const e=Wt.getFeatureFlag("snowfall_enabled");return e===!0||e==="true"}catch{return!1}},AF=()=>{try{const e=Wt.getFeatureFlag("default_language");return e===!0||e==="true"}catch{return!1}},vg=e=>{try{Wt.startSessionRecording(!0),setTimeout(()=>H("deployment_recording_started",e),500)}catch{}},DF=e=>{try{H("deployment_recording_stopped",e),Wt.stopSessionRecording()}catch{}},Kie=()=>{try{const e=Wt.getFeatureFlag("notification_center");return e===!0||e==="true"}catch{return!1}},Yie=()=>{try{return Wt.getFeatureFlagPayload("notification_center")}catch{return null}},Mf=e=>{try{return Wt.onFeatureFlags(e)}catch{return()=>{}}},Zie=()=>{try{const e=Wt.getFeatureFlag("replace_deployment_v2");return e===!0||e==="true"}catch{return!1}},Jie=()=>{try{return Wt.isFeatureEnabled("visual_edit_changes")===!0}catch{return!1}},gO=()=>{try{return Wt.getFeatureFlag("onboarding_modal_for_teams")===!0}catch{return!1}},Xie=()=>{try{return Wt.getFeatureFlag("onboarding_modal_for_teams")}catch{return}},bO=()=>{try{return Wt.getFeatureFlag("post_deployment_panel_v2")===!0}catch{return!1}},Qie=()=>{try{const e=Wt.getFeatureFlag("moltbot_mascot");return e===!0||e==="true"}catch{return!1}},eae=()=>{try{return Wt.isFeatureEnabled("100m_hoarding")===!0}catch{return!1}},tae=()=>{try{const n=Wt.getFeatureFlagPayload("100m_hoarding")?.href;if(typeof n!="string")return null;const s=n.trim();return s||null}catch{return null}},yO=()=>{try{const e=Wt.getFeatureFlag("ios_builds_enabled");return e===!0||e==="true"}catch{return!0}},nae=()=>{try{const e=Wt.getFeatureFlag("platform_specific_build_prompts");return e===!0||e==="true"}catch{return!1}},vO=()=>{try{const e=Wt.getFeatureFlag("bundle_id_edit_enabled");return e===!0||e==="true"}catch{return!1}},MF=()=>{try{const e=Wt.getFeatureFlag("dynamo_litmus_enabled");return e===!0||e==="true"}catch{return!1}};var Cb={exports:{}},RF;function sae(){return RF||(RF=1,(function(e,n){(function(s,r){e.exports=r()})(window,(function(){return(function(s){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return s[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=s,i.c=r,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:l})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var c in a)i.d(l,c,function(u){return a[u]}.bind(null,c));return l},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=0)})([function(s,r,i){s.exports=i(1)},function(s,r,i){function a(m){return(function(h){if(Array.isArray(h)){for(var x=0,g=new Array(h.length);x<h.length;x++)g[x]=h[x];return g}})(m)||(function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)})(m)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}i.r(r);var o=!!window.fbq,l=!1,c=function(){var m;if(l){for(var h=arguments.length,x=new Array(h),g=0;g<h;g++)x[g]=arguments[g];(m=console).info.apply(m,a(["[react-facebook-pixel]"].concat(x)))}},u=function(){var m;if(l){for(var h=arguments.length,x=new Array(h),g=0;g<h;g++)x[g]=arguments[g];(m=console).info.apply(m,a(["[react-facebook-pixel]"].concat(x)))}},p=function(){return o||c("Pixel not initialized before using call ReactPixel.init with required params"),o},f={autoConfig:!0,debug:!1};r.default={init:function(m){var h,x,g,v,b,y,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f;h=window,x=document,g="script",h.fbq||(v=h.fbq=function(){v.callMethod?v.callMethod.apply(v,arguments):v.queue.push(arguments)},h._fbq||(h._fbq=v),v.push=v,v.loaded=!0,v.version="2.0",v.queue=[],(b=x.createElement(g)).async=!0,b.src="https://connect.facebook.net/en_US/fbevents.js",(y=x.getElementsByTagName(g)[0]).parentNode.insertBefore(b,y)),m?(_.autoConfig===!1&&fbq("set","autoConfig",!1,m),fbq("init",m,w),o=!0,l=_.debug):c("Please insert pixel id for initializing")},pageView:function(){p()&&(fbq("track","PageView"),l&&u("called fbq('track', 'PageView');"))},track:function(m,h){p()&&(fbq("track",m,h),l&&(u("called fbq('track', '".concat(m,"');")),h&&u("with data",h)))},trackSingle:function(m,h,x){p()&&(fbq("trackSingle",m,h,x),l&&(u("called fbq('trackSingle', '".concat(m,"', '").concat(h,"');")),x&&u("with data",x)))},trackCustom:function(m,h){p()&&(fbq("trackCustom",m,h),l&&(u("called fbq('trackCustom', '".concat(m,"');")),h&&u("with data",h)))},trackSingleCustom:function(m,h,x){p()&&(fbq("trackSingle",m,h,x),l&&(u("called fbq('trackSingleCustom', '".concat(m,"', '").concat(h,"');")),x&&u("with data",x)))},grantConsent:function(){p()&&(fbq("consent","grant"),l&&u("called fbq('consent', 'grant');"))},revokeConsent:function(){p()&&(fbq("consent","revoke"),l&&u("called fbq('consent', 'revoke');"))},fbq:(function(m){function h(){return m.apply(this,arguments)}return h.toString=function(){return m.toString()},h})((function(){if(p()){for(var m=arguments.length,h=new Array(m),x=0;x<m;x++)h[x]=arguments[x];fbq.apply(void 0,h),l&&(u("called fbq('".concat(h.slice(0,2).join("', '"),"')")),h[2]&&u("with data",h[2]))}}))}}])}))})(Cb)),Cb.exports}var rae=sae();const iae=ga(rae);function s0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}function wO(e,n){const s=n?`_${n}`:"";return`meta_pixel_event_${e}${s}`}function q5(e,n){const s=wO(e,n),r=sessionStorage.getItem(s);if(!r)return!1;try{const i=JSON.parse(r),a=Date.now()-i.timestamp,o=1440*60*1e3;return a>o?(sessionStorage.removeItem(s),!1):i.tracked===!0}catch{return!1}}function K5(e,n,s){const r=wO(e,s);sessionStorage.setItem(r,JSON.stringify({eventId:n,timestamp:Date.now(),tracked:!0}))}function id(){return typeof window<"u"&&typeof window.fbq=="function"}function cx(e,n,s,r,i,a){if(id())try{const o={};if(e){const l=e.toLowerCase().trim();l&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)&&(o.em=l)}if(n&&(o.external_id=n),s){const l=s.toLowerCase().trim();l&&(o.fn=l)}if(r){const l=r.toLowerCase().trim();l&&(o.ln=l)}Object.keys(o).length>0&&iae.init(dY.pixelId,o,{autoConfig:!0,debug:!1}),typeof window<"u"&&window.fbq}catch{}}function _b(e,n,s,r){const i=r||s0();if(q5("CompleteRegistration",e)||!id())return i;try{typeof window<"u"&&window.fbq&&window.fbq("track","CompleteRegistration",{content_name:s||"email",status:"completed"},{eventID:i}),K5("CompleteRegistration",i,e)}catch{}return i}function CO(e,n){const s=s0();if(!id())return s;try{let r="upgrade_required";e==="pricing"?r="subscription_plans":e==="credits_topup"&&(r="credit_bundles");const i={content_type:e,content_name:r};typeof window<"u"&&window.fbq&&window.fbq("track","ViewContent",i,{eventID:s})}catch{}return s}function O1(e,n,s,r){const i=s0();if(!id())return i;try{const a={content_type:e,value:n,currency:s.toUpperCase()};r&&(a.predicted_ltv=r),typeof window<"u"&&window.fbq&&window.fbq("track","InitiateCheckout",a,{eventID:i})}catch{}return i}function ou(e,n,s){const r=s0();if(!id())return r;try{const i={content_type:"topup",value:e,currency:n.toUpperCase()};s&&(i.num_items=s,i.content_name=`${s}_credits`),typeof window<"u"&&window.fbq&&window.fbq("track","InitiateCheckout",i,{eventID:r})}catch{}return r}function aae(e,n,s,r,i){const a=s0(),o=n||e;if(q5("Lead",o)||!id())return a;try{const l={content_name:s===0?"first_job_created":"job_created",content_category:s===0?"first_job":"subsequent_job"};n&&(l.content_id=n),typeof s=="number"&&(l.num_items=s+1,l.previous_job_count=s),typeof window<"u"&&window.fbq&&window.fbq("track","Lead",l,{eventID:a}),K5("Lead",a,o)}catch{}return a}function F2(e,n,s,r){if(!q5("Purchase",n)&&id())try{typeof window<"u"&&window.fbq&&window.fbq("track","Purchase",{content_type:"credits",value:s,currency:r.toUpperCase()},{eventID:e}),K5("Purchase",e,n)}catch{}}function E2(e,n,s,r,i){if(!q5("Subscribe",n)&&id())try{const a={value:s,currency:r.toUpperCase()};typeof window<"u"&&window.fbq&&window.fbq("track","Subscribe",a,{eventID:e}),K5("Subscribe",e,n)}catch{}}function xo(e,n,s){const r=`meta_checkout_${e}_pending`;sessionStorage.setItem(r,JSON.stringify({eventId:n,timestamp:Date.now(),checkoutType:e}))}function $d(e,n){const s=n?`meta_checkout_${e}_${n}`:`meta_checkout_${e}_pending`,r=sessionStorage.getItem(s);if(!r)return null;try{return JSON.parse(r).eventId||null}catch{return null}}function dx(e,n){const s=n?`meta_checkout_${e}_${n}`:`meta_checkout_${e}_pending`;sessionStorage.removeItem(s)}const oae=/\{\{(\w+)\}\}/g,ni={SANDBOX_ATTRIBUTES_SRCDOC:"allow-scripts allow-forms",SANDBOX_ATTRIBUTES_SRC:"allow-scripts allow-forms allow-same-origin",BORDER_RADIUS:"12px",MIN_HEIGHT:100,BANNER_Z_INDEX:999,BANNER_DEFAULT_TOP:"60px",VIEWPORT_PADDING_FACTOR:.9,LOADING_BUTTON_OPACITY:.6,SPINNER_SIZE:12,LOAD_TIMEOUT_MS:1e4},ra={NAVIGATE:"navigate",NAVIGATE_EXT:"navigate-ext",CLOSE:"close",NAVIGATE_INTERNAL:"navigate-internal",NAVIGATE_EXTERNAL:"navigate-external",CLOSE_MODAL:"close-modal",CLOSE_BANNER:"close-banner",SUBMIT_FORM:"submit-form",OPEN_PRICING:"open-pricing",NEW_CHAT:"new-chat",OPEN_ACCOUNTS:"open-accounts",OPEN_REFERRAL:"open-referral",OPEN_CREATE_PROJECT:"open-create-project",CALL_API:"call-api"},LF="dynamo_modal_seen_",hr={MODAL_VIEWED:"dynamo_content_viewed",MODAL_CLOSED:"dynamo_content_closed",MODAL_DISMISSED:"dynamo_content_dismissed",MODAL_QUEUED:"dynamo_content_queued",MODAL_SCHEDULED:"dynamo_content_scheduled",ACTION_NAVIGATE:"dynamo_action_navigate",ACTION_NAVIGATE_EXT:"dynamo_action_navigate_ext",ACTION_SUBMIT_FORM:"dynamo_action_submit_form",ACTION_CLOSE:"dynamo_action_close",ACTION_OPEN_PRICING:"dynamo_action_open_pricing",ACTION_NEW_CHAT:"dynamo_action_new_chat",ACTION_OPEN_ACCOUNTS:"dynamo_action_open_accounts",ACTION_OPEN_REFERRAL:"dynamo_action_open_referral",ACTION_OPEN_CREATE_PROJECT:"dynamo_action_open_create_project",FORM_SUBMIT_SUCCESS:"dynamo_form_submit_success",FORM_SUBMIT_ERROR:"dynamo_form_submit_error",CONFIG_LOADED:"dynamo_config_loaded",CONFIG_ERROR:"dynamo_config_error",IFRAME_ERROR:"dynamo_iframe_error",BANNER_VIEWED:"dynamo_banner_viewed",BANNER_DISMISSED:"dynamo_banner_dismissed",PAGE_NODES_INJECTED:"dynamo_page_nodes_injected",PAGE_NODES_CLEANED:"dynamo_page_nodes_cleaned",COUPON_GENERATED:"dynamo_coupon_generated",CALL_API_SUCCESS:"dynamo_call_api_success",CALL_API_ERROR:"dynamo_call_api_error"},lae=`
<script>
(function() {
  var modalId = '__MODAL_ID__';
  var parentOrigin = '__PARENT_ORIGIN__';
  var buttonStates = new WeakMap(); // Track button states by element reference (prevents memory leaks)

  // Report content dimensions to parent for auto-resize
  function reportSize() {
    var height, width;

    // Measure the first child of [data-framer-root]  the actual visible content
    var framerRoot = document.querySelector('[data-framer-root]');
    var contentEl = framerRoot && framerRoot.firstElementChild;
    if (contentEl) {
      var rect = contentEl.getBoundingClientRect();
      height = Math.ceil(rect.height);
      width = Math.ceil(rect.width);
    } else {
      // Fallback: measure from body/documentElement
      height = Math.max(
        document.body.scrollHeight,
        document.body.offsetHeight,
        document.documentElement.scrollHeight,
        document.documentElement.offsetHeight
      );

      // Temporarily shrink-wrap body to measure natural content width
      var prevWidth = document.body.style.width;
      document.body.style.width = 'fit-content';
      width = document.body.scrollWidth;
      document.body.style.width = prevWidth;
    }

    window.parent.postMessage({
      source: 'dynamo-iframe',
      type: 'resize',
      modalId: modalId,
      height: height,
      width: width
    }, parentOrigin);
  }

  // Initial size report after DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', reportSize);
  } else {
    reportSize();
  }

  // Observe for dynamic content changes (watch the first child of framer root)
  if (typeof ResizeObserver !== 'undefined') {
    var frRoot = document.querySelector('[data-framer-root]');
    var observeTarget = (frRoot && frRoot.firstElementChild) || document.body;
    new ResizeObserver(reportSize).observe(observeTarget);
  }

  // Update button visual state based on host message
  function updateButtonState(buttonAction, state) {
    var buttons = document.querySelectorAll('[data-action="' + buttonAction + '"]');

    buttons.forEach(function(button) {
      switch (state) {
        case 'loading':
          // Store original state per button element using WeakMap
          if (!buttonStates.has(button)) {
            buttonStates.set(button, {
              originalHTML: button.innerHTML,
              originalDisabled: button.disabled
            });
          }

          button.disabled = true;
          button.style.opacity = '${ni.LOADING_BUTTON_OPACITY}';
          button.style.cursor = 'not-allowed';
          // Inject a simple spinner if not already present
          if (!button.querySelector('.dynamo-spinner')) {
            var spinner = document.createElement('span');
            spinner.className = 'dynamo-spinner';
            spinner.style.cssText = 'display:inline-block;width:${ni.SPINNER_SIZE}px;height:${ni.SPINNER_SIZE}px;border:2px solid currentColor;border-top-color:transparent;border-radius:50%;animation:spin 0.6s linear infinite;margin-right:8px;';
            button.insertBefore(spinner, button.firstChild);
            // Add keyframes for spinner animation if not already added
            if (!document.getElementById('dynamo-spinner-keyframes')) {
              var style = document.createElement('style');
              style.id = 'dynamo-spinner-keyframes';
              style.textContent = '@keyframes spin { to { transform: rotate(360deg); } }';
              document.head.appendChild(style);
            }
          }
          break;

        case 'error':
        case 'success':
          button.disabled = false;
          button.style.opacity = '';
          button.style.cursor = '';
          // Remove spinner
          var spinner = button.querySelector('.dynamo-spinner');
          if (spinner) spinner.remove();
          // Restore original content from WeakMap
          var originalState = buttonStates.get(button);
          if (originalState) {
            button.innerHTML = originalState.originalHTML;
            buttonStates.delete(button);
          }
          break;
      }
    });
  }

  // Listen for button state updates from host (validate origin for defense-in-depth)
  window.addEventListener('message', function(e) {
    if (e.origin !== parentOrigin) return;
    if (e.data && e.data.source === 'dynamo-host' && e.data.type === 'button-state' && e.data.modalId === modalId) {
      updateButtonState(e.data.buttonAction, e.data.state);
    }
  });

  // Handle click events on elements with data-action or data-eventname
  document.addEventListener('click', function(e) {
    var actionTarget = e.target.closest('[data-action]');
    var eventTarget = e.target.closest('[data-eventname]');

    // Fire PostHog event first (fire-and-forget, coexists with data-action)
    if (eventTarget && eventTarget.dataset.eventname) {
      window.parent.postMessage({
        source: 'dynamo-iframe',
        type: 'track-event',
        modalId: modalId,
        eventName: eventTarget.dataset.eventname
      }, parentOrigin);
    }

    // Fire data-action handler
    if (actionTarget) {
      // Prevent duplicate API calls if button is already processing
      if (actionTarget.disabled) return;

      var actionType = actionTarget.dataset.action;

      // Show loader immediately for API actions (instant feedback, no host round-trip needed)
      if (actionType === 'call-api' || actionType === 'submit-form') {
        updateButtonState(actionType, 'loading');
      }

      // For submit-form actions inside a form, let the form's submit event handle it (with formData)
      if (actionType === 'submit-form') {
        var parentForm = actionTarget.closest('form');
        if (parentForm && parentForm.dataset.action === 'submit-form') {
          // Don't preventDefault - let the form submit event collect formData
          return;
        }
      }

      e.preventDefault();
      window.parent.postMessage({
        source: 'dynamo-iframe',
        type: 'action',
        modalId: modalId,
        action: {
          type: actionType,
          href: actionTarget.dataset.href
        }
      }, parentOrigin);
    }
  });

  // Handle form submissions with data-action="submit-form"
  document.addEventListener('submit', function(e) {
    var form = e.target;
    if (form.dataset && form.dataset.action === 'submit-form') {
      e.preventDefault();
      // Show loader on submit buttons (handles Enter-key submission where click handler didn't fire)
      updateButtonState('submit-form', 'loading');
      var formData = {};
      var formDataObj = new FormData(form);
      formDataObj.forEach(function(value, key) {
        formData[key] = value;
      });
      window.parent.postMessage({
        source: 'dynamo-iframe',
        type: 'action',
        modalId: modalId,
        action: {
          type: 'submit-form',
          href: form.dataset.href,
          formData: formData
        }
      }, parentOrigin);
    }
  });
})();
<\/script>
`,_O={discount_percentage:75,discount_cap:{USD:15,INR:1e3,BRL:15,KRW:15},discount_display_text:null,discount_badge_text:null,discount_auto_apply:!0,promo_code:null,promo_code_display_text:null,promo_code_enabled:!0,first_month_price:1,first_month_price_text:null,then_price_text:null,offer_duration_months:1,billing_period_override:null,plan_badge_text:null,highlighted_plan_id:null,plan_cta_text:null,plan_description_override:null,annual_savings_text:null,annual_savings_percentage:17,bonus_credits:null,bonus_credits_text:null,bonus_credits_duration:"once",section_title:null,section_subtitle:null,banner_text:null,banner_style:"promo",footer_text:null,display_credits_override:null,credits_label_suffix:null,allowed_plan_variants:null,plans:null,plan_overrides:null,tier_features:null},jO={topup_bundles:null,bundles:null,bundle_overrides:null,default_selected_index:0,custom_amount_enabled:!0,custom_amount_placeholder:null,bonus_multiplier:1.2,bonus_threshold:{USD:500,INR:42500,BRL:3e3,KRW:75e4},bonus_text:null,topup_bonus_credits:null,topup_bonus_text:null,credit_price_override:null,min_purchase_override:null,max_purchase_override:null,section_title:null,section_subtitle:null,cta_text:null,banner_text:null,banner_style:"promo",best_value_text:null,footer_text:null,discount_percentage:null,discount_display_text:null,promotional_text:null},jb=`
<style>
  * {
    box-sizing: border-box;
  }
  html, body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }
  /* Strip Framer root wrapper  promote its first child as the visible content */
  [data-framer-root] {
    display: contents !important;
  }
</style>
`,S2="dynamoCoupon_",PF=1440*60*1e3,gu=new Map;function Nb(e){try{const s=localStorage.getItem(e);if(s)try{const r=JSON.parse(s);if(r.code&&r.ts&&Date.now()-r.ts<PF)return r.code;localStorage.removeItem(e)}catch{localStorage.removeItem(e)}}catch{}const n=gu.get(e);return n&&Date.now()-n.ts<PF?n.code:(n&&gu.delete(e),null)}function cae(e,n){const s={code:n,ts:Date.now()};try{localStorage.setItem(e,JSON.stringify(s))}catch{gu.set(e,s)}}const wg=new Map;function dae(e){return wg.has(e)||wg.set(e,new Set),wg.get(e)}function k2(e){wg.get(e)?.forEach(n=>n())}function OF(e){return n=>{const s=dae(e);return s.add(n),()=>{s.delete(n)}}}function Fb(e,n){return`${S2}${e}_${n}`}function uae(){try{const e=[];for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);s?.startsWith(S2)&&e.push(s)}e.forEach(n=>localStorage.removeItem(n))}catch{}for(const e of[...gu.keys()])e.startsWith(S2)&&gu.delete(e);k2("SUBSCRIPTION"),k2("TOPUP")}function BF(e){const n=`${S2}${e}_`;try{const s=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);i?.startsWith(n)&&s.push(i)}s.forEach(r=>localStorage.removeItem(r))}catch{}for(const s of[...gu.keys()])s.startsWith(n)&&gu.delete(s);k2(e)}function pae({subscriptionCouponId:e,topupCouponId:n}){const s=d.useRef(null),r=d.useRef(null),i=d.useRef(!1),[a,o]=d.useState(!1),l=e?Fb("SUBSCRIPTION",e):"",c=n?Fb("TOPUP",n):"",u=d.useMemo(()=>OF("SUBSCRIPTION"),[]),p=d.useMemo(()=>OF("TOPUP"),[]),f=d.useMemo(()=>()=>l?Nb(l):null,[l]),m=d.useMemo(()=>()=>c?Nb(c):null,[c]),h=d.useSyncExternalStore(u,f,()=>null),x=d.useSyncExternalStore(p,m,()=>null),g=d.useCallback(async(N,j)=>{const C=Fb(j,N),S=Nb(C);if(S)return S;try{const F=z9()||"",E=await vt.getPromoCoupon(F,N);return E?(cae(C,E),k2(j),H(hr.COUPON_GENERATED,{target_model:j,coupon_id:N}),E):null}catch(F){return jt(Zt.DYNAMO.COUPON_GENERATE,F,{couponId:N,targetModel:j}),null}},[]),v=d.useRef(!1),b=d.useRef(0),y=d.useRef(),w=2,_=1e3;return d.useEffect(()=>{const N=new AbortController,{signal:j}=N,C=async()=>{if(j.aborted)return;if(i.current){v.current=!0;return}i.current=!0,o(!0);let S=!1;try{if(e&&s.current!==e&&(await g(e,"SUBSCRIPTION")?s.current=e:S=!0),j.aborted)return;n&&r.current!==n&&(await g(n,"TOPUP")?r.current=n:S=!0)}finally{if(i.current=!1,v.current&&!j.aborted)v.current=!1,b.current=0,C();else if(S&&b.current<w&&!j.aborted){const F=_*Math.pow(2,b.current);b.current+=1,y.current=setTimeout(C,F)}else b.current=0,j.aborted||o(!1)}};return b.current=0,v.current=!1,C(),()=>{N.abort(),clearTimeout(y.current),i.current=!1}},[e,n,g]),{subscriptionCouponCode:h,topupCouponCode:x,isGenerating:a}}const Sa=()=>typeof window<"u"?localStorage.getItem("mobile")==="true":!1,K9=()=>{const e=Sa(),n=(r,i)=>{if(!e||!window?.ReactNativeWebView)return!1;try{return window.ReactNativeWebView.postMessage(JSON.stringify({type:r,...i})),!0}catch{return!1}},s=e&&!!window?.ReactNativeWebView;return{sendMessage:n,canSendMessage:s,isMobileApp:e}},zi=(e,n)=>{if(!window?.ReactNativeWebView)return!1;try{return window.ReactNativeWebView.postMessage(JSON.stringify({type:e,...n})),!0}catch{return!1}},m1={ASK_HUMAN:"event-ask-human",FINISH_TOOL:"event-finish-tool",DEPLOYMENT_INITIATED:"event-deployment-initiated",BULK_WRITE:"event-bulk-write",USER_LOGIN:"user-login"};function h1(e,n){try{if(!n?.user_id)return;Kl.triggerEvent(e,n)}catch{}}function fae(e){try{if(!e)return;Kl.createUser(e)}catch{}}const I2="csp_block",nf="invalid_endpoint",sf="script_load_fail",dw="endpoints_misconfigured",fh="bundle_not_defined",Yd={client_timeout:"Client timeout",network_connection:"Network connection error",network_abort:"Network request aborted",[I2]:"Blocked by CSP",[nf]:'The provided endpoint in "endpoints" parameter is not a valid URL',handle_agent_data:"Handle on demand agent data error",[sf]:"Failed to load the JS script of the agent",[fh]:"9319",bad_response_format:"Can't parse the backend response. Make sure the proper endpoints are used.",api_key_missing:"The `apiKey` option is not provided",api_key_invalid:"The `apiKey` option is not a string",cache_misconfigured:"The `cache` option is misconfigured",[dw]:"The `endpoints` option is misconfigured",wrong_worker_option:"Wrong `worker` option, it should be a Worker instance",worker_initialization_failed:"Web Worker initialization failed",sandboxed_iframe:"Running inside sandboxed iframes is not supported"};let Wl=class extends Error{constructor(n,s){super(n),this.name="FingerprintError",this.event_id=null,this.code=s}};const mae=Symbol("withoutDefault");function Y9(e){return!!e&&e.__type__===mae}function Z9(e){return e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function hae(e,n){return(function(s,r){return Object.prototype.hasOwnProperty.call(s,r)})(e,n)?e[n]:void 0}function xae(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++){const r=e.charCodeAt(s);if(r>127)return new TextEncoder().encode(e);n[s]=r}return n}function Eb(e){if(typeof TextDecoder=="function"){const s=new TextDecoder().decode(e);if(s)return s}const n=Z9(e);return decodeURIComponent(escape(String.fromCharCode.apply(null,n)))}function UF(e,n){return(e-n+256)%256}function uw(e){if(e instanceof Array)return e.map(uw);if(e&&typeof e=="object"){const n={};for(const s of Object.keys(e))n[s]=uw(e[s]);return n}return e}function HF(e){return gae(e)?e:[e]}const gae=Array.isArray;function NO(e){if(URL.prototype)try{return new URL(e,location.href),!1}catch(n){if(J9(n))return!0;throw n}}function J9(e){return e instanceof Error&&e.name==="TypeError"}function FO(e){if(NO(e))return e;const n=new URL(e);return n.search="",n.toString()}function EO(e){return e.endsWith("/")?e:`${e}/`}const VF="https://fpnpmcdn.net/",mh=Symbol("default");function bae(e,n,s=!1,r){const i=s?(function(a){const{protocol:o}=a;return`${o}://${new URL(VF).host}/`})(n):(function(a){const{region:o,protocol:l}=a;let c=a.host;return o!=="us"&&(c=`${o}.${c}`),`${l}://${c}/`})(n);return s?(function(a,o){const c=[],u=a===VF?`${a}`:`${a}web`;if(pw(o))Sb(o.script,u,c,"script");else for(const p of fw(o))kb(p,[{defaultUrl:u,output:c,path:"web"}],!0);return{script:c}})(i,e):(function(a,o,l){const c=[],u=[];if(pw(o))Sb(o.helper,a,c,"helper"),Sb(o.ingress,a,u,"ingress");else for(const p of fw(o))l?vae(wae(p,a),c,l):kb(p,[{defaultUrl:a,output:c}]),kb(p,[{defaultUrl:a,output:u}]);return{helper:c,get:u}})(i,e,r)}function pw(e){return!!e&&typeof e=="object"&&!Array.isArray(e)&&!Y9(e)}function Sb(e,n,s,r){var i;for(const a of fw(e))yae(s,a===mh?n:(i=SO(a,`\`${r}\` endpoint`))===null||i===void 0?void 0:i.href)}function fw(e){return Y9(e)?HF(e.value):e===void 0?[mh]:[...HF(e),mh]}function yae(e,n){n!==void 0&&e.push(n)}function kb(e,n,s=!1){var r;if(e===mh){for(const o of n)o.output.push(o.defaultUrl);return}s&&(e=kO((()=>FO(e))));const i=SO(e,"`endpoints` value");if(!i)return;const a=EO(i.pathname);for(const o of n){const l=(r=o.path)!==null&&r!==void 0?r:"";i.pathname=`${a}${l}`,o.output.push(i.href)}}function SO(e,n){const{location:s,URL:r}=window;try{return new r(e,s.href)}catch(i){if(J9(i))return null;throw i}}function vae(e,n,s){const r=kO((()=>FO(e)));n.push(s(EO(r)))}function wae(e,n){return e===mh?n:e}function kO(e){try{return e()}catch(n){throw J9(n)?new Wl(Yd[nf],nf):n}}function Cae(e,n){return new Promise((s=>(function(r,i,...a){const o=Date.now()+i;let l=0;const c=()=>{l=setTimeout((()=>{Date.now()<o?c():r(...a)}),o-Date.now())};return c(),()=>clearTimeout(l)})(s,e,n)))}function mw(e,n){return new Promise(((s,r)=>{let i=!1;n?.then((()=>i=!0),(()=>i=!0)),(typeof e=="function"?mw(Promise.resolve(),n).then(e):e).then((a=>{i||s(a)}),(a=>{i||r(a)}))}))}function _ae(e,n,s,r){const i=document,a="securitypolicyviolation";let o;const l=u=>{const p=new URL(e,location.href),{blockedURI:f}=u;f!==p.href&&f!==p.protocol.slice(0,-1)&&f!==p.origin||(o=u,c())};i.addEventListener(a,l);const c=()=>i.removeEventListener(a,l);return Promise.resolve().then(n).then((u=>(c(),u)),(u=>new Promise((p=>{const f=new MessageChannel;f.port1.onmessage=()=>p(),f.port2.postMessage(null)})).then((()=>{if(c(),o)return s(o);throw u}))))}var jae="4.0.0";function $F(e,n){IO(e,e.len+1),e.arr[e.len++]=n}function Nae(e,n){IO(e,e.len+n.length),e.arr.set(n,e.len),e.len+=n.length}function IO(e,n){if(e.arr.length<n){const s=new Uint8Array(Math.max(2*e.arr.length,n));s.set(e.arr),e.arr=s}}function Fae(e){const n={len:0,arr:new Uint8Array(128)},s=Z9(e);let r=0;const i=()=>(u(),s[r]===Ib?a():zF(s[r])?o():p(qF)?(r+=qF.length,null):p(KF)?(r+=KF.length,!0):p(YF)?(r+=YF.length,!1):s[r]===Pae?l():s[r]===Bae?c():f()),a=()=>{for(n.len=0;r++,s[r]!==Ib;){if(s[r]===Aae){if(r++,s[r]===Q9){const x=parseInt(Eb(s.subarray(r+1,r+5)),16);Nae(n,xae(String.fromCharCode(x))),r+=4;continue}const h=Vae[s[r]];if(h){$F(n,h);continue}return f()}if(s[r]===void 0)return f();$F(n,s[r])}return r++,Eb((function(h){return h.arr.subarray(0,h.len)})(n))},o=()=>{const h=r;for(;s[r]===Lae||s[r]===X9||s[r]===Dae||s[r]===Mae||zF(s[r]);)r++;return Number(Eb(s.subarray(h,r)))},l=()=>{const h=[];for(r++;;){if(u(),s[r]===Oae){r++;break}if(h.length){if(s[r]!==WF)return f();r++}h.push(i())}return h},c=()=>{const h={};let x=!0;for(r++;;){if(u(),s[r]===Uae){r++;break}if(!x){if(s[r]!==WF)return f();r++,u()}if(s[r]!==Ib)return f();const g=a();if(u(),s[r]!==Eae)return f();r++,Object.defineProperty(h,g,{value:i(),configurable:!0,enumerable:!0,writable:!0}),x=!1}return h},u=()=>{for(;s[r]===Sae||s[r]===Tae||s[r]===Iae||s[r]===kae;)r++},p=h=>{for(let x=0;x<h.length;x++)if(s[r+x]!==h[x])return!1;return!0},f=()=>{throw new SyntaxError("Unexpected "+(r<s.length?`byte ${r}`:"end"))},m=i();return u(),s[r]!==void 0&&f(),m}function zF(e){return e>=GF&&e<GF+10||e===Rae}const Ib=34,WF=44,Eae=58,Sae=32,kae=9,Iae=13,Tae=10,Aae=92,GF=48,X9=101,Q9=117,Dae=69,Mae=43,Rae=45,Lae=46,Pae=91,Oae=93,Bae=123,Uae=125,qF=new Uint8Array([110,Q9,108,108]),KF=new Uint8Array([116,114,Q9,X9]),YF=new Uint8Array([102,97,108,115,X9]),Hae={'"':'"',"\\":"\\","\b":"b","\f":"f","\n":"n","\r":"r","	":"t"},Vae=(()=>{const e=new Uint8Array(128);for(const[n,s]of Object.entries(Hae))e[s.charCodeAt(0)]=n.charCodeAt(0);return e})();var hw=(function(e,n){let s;return r=>(s||(s=(function(i,a){return Fae((function(o,l,c){const u=()=>{throw new Error("Invalid data")},p=Z9(o);p.length<l.length+2&&u();for(let b=0;b<l.length;++b)UF(p[1+b],p[0])!==l[b]&&u();const f=1+l.length,m=UF(p[f],p[0]);p.length<f+1+m+c&&u();const h=f+1+m,x=h+c,g=new ArrayBuffer(p.length-x),v=new Uint8Array(g);for(let b=0;b<v.length;++b)v[b]=p[x+b]^p[h+b%c];return g})(new Uint32Array(i),[],a))})(e,n)),uw(s[r]))})([3501680230,3964354670,1059981298,553689810,78837799,4072876069,3341640258,674045630,775995091,1123205934,2764252002,3932762910],5);const $ae=hw(0);function zae(e,n,s,r,i={}){const{maxAttemptCount:a=5,backoffBase:o=200,backoffCap:l=1e4,abort:c}=i,u={failedAttempts:[]},[p,f]=(function(x,g,v,b){const y=(function(N){const j=[...N];return{current:()=>j[0],postpone(){const C=j.shift();C!==void 0&&j.push(C)},exclude(){j.shift()}}})(x),w=(function(N,j){let C=0;return()=>Math.random()*Math.min(j,N*Math.pow(2,C++))})(v,b),_=new Set;return[y.current(),(N,j,C)=>{const S=g(N,j,C);S.action==="exclude"?y.exclude():y.postpone();const F=()=>Math.max(0,N.getTime()+w()-Date.now());let E;E=typeof S.delay=="number"?S.delay:F();const I=y.current();return E===0&&I&&Date.now()-N.getTime()<50&&(_.has(I)?E=F():_.add(I)),I===void 0?void 0:[I,E]}]})(e,r,o,l),m=(h=[c?.then((x=>u.aborted={resolve:!0,value:x}),(x=>u.aborted={resolve:!1,error:x})),Wae(p,a,n,s,f,u,c)],Promise.race(h.filter((x=>!!x)))).then((()=>u));var h;return{then:m.then.bind(m),current:u}}async function Wae(e,n,s,r,i,a,o){if(e===void 0)return;let l=e;for(let c=0;c<n;++c){const u=new Date;let p,f;try{p=await mw((()=>s(l,c,o)),o)}catch(h){f=h,a.failedAttempts.push({level:0,endpoint:l,error:h})}if(p){const h=r(p);if("result"in h){a.result=h.result;break}if(a.failedAttempts.push({level:1,endpoint:l,error:h.error}),h.stop)break}const m=i(u,p,f);if(!m)break;await mw(Cae(m[1]),o),l=m[0]}}function Gae(e,n,s){const r=s instanceof Wl?s.code:null;return r===I2||r===nf?{action:"exclude",delay:0}:r===fh?{action:"exclude",delay:"backoff"}:r===sf?{action:"postpone",delay:Date.now()-e.getTime()<50?0:"backoff"}:{action:"postpone",delay:"backoff"}}function qae(e){let n,s;const{picked:r,rest:i}=(function(f,m){const h={},x={};for(const[g,v]of Object.entries(f))m.includes(g)?h[g]=v:x[g]=v;return{picked:h,rest:x}})(e,["apiKey","region"]),{apiKey:a,region:o}=r,l=hae(e,"endpoints");if(!(function(f,m){return!(f!==void 0&&typeof f!="string"&&!Y9(f))||(Array.isArray(f)?f.every((h=>typeof h=="string")):!(!pw(f)||!f.type||f.type!==m))})(l,$ae))throw new Wl(Yd[dw],dw);const[c,u]=(function(){const f=[],m=()=>{f.push({time:new Date,state:document.visibilityState})},h=(function(x,g,v,b){return x.addEventListener(g,v,b),()=>x.removeEventListener(g,v,b)})(document,"visibilitychange",m);return m(),[f,h]})(),p=(async function(){try{if(!a||typeof a!="string")throw new Error("API key not provided");const f=(function(g,v,b){const{script:y}=(function(_,N,j=hw(1)){return C=bae,S=_,F={region:N,host:j,protocol:hw(2)},C(S,F,!0);var C,S,F})(g,b||"us");return y?.map((_=>(function(N,j){const C=new URL(N,window.location.href),S=C.pathname,F="4";return C.pathname=`${S}${S.endsWith("/")?"":"/"}v${F}/${encodeURIComponent(j)}`,C.search=`?ci=jsl/${encodeURIComponent(jae)}`,C.href})(_,v)))||[]})(l,a,o),[m,h]=await(function(g,v){if(g.length===0)return Promise.reject(new TypeError("The list of script URL patterns is empty"));const b=[],y=zae(g,(async w=>{const _=new Date;try{const N=await v(w);return b.push({url:w,startedAt:_,finishedAt:new Date,error:void 0}),N}catch(N){throw b.push({url:w,startedAt:_,finishedAt:new Date,error:N}),N}}),(w=>({result:w})),Gae,{maxAttemptCount:5,backoffBase:100,backoffCap:3e3});return new Promise(((w,_)=>{Promise.resolve(y).then((N=>{if(N.result!==void 0)w([N.result,b]);else{const j=N.failedAttempts[0];_(j?j.error:new Error("No attempts were made"))}})).catch(_)}))})(f,Kae),x=await m.start({...i,ldi:{attempts:h,visibilityStates:c}});return n=x,x}catch(f){throw s=(function(m){return m instanceof Wl&&m.code===fh?new Wl(Yd[sf],sf):m})(f),s}finally{u()}})();return{async get(f){if(n)return n.get(f);if(s)throw s;return(await p).get(f)},async collect(f){if(n)return n.collect(f);if(s)throw s;return(await p).collect(f)}}}function Kae(e){return _ae(e,(async()=>{if(NO(e))throw new Wl(Yd[nf],nf);try{return await import(e)}catch{throw new Wl(Yd[sf],sf)}}),(()=>{throw new Wl(Yd[I2],I2)})).then((n=>{if(typeof n?.start!="function")throw new Wl(Yd[fh],fh);return n}))}var Tb,ZF;function Yae(){return ZF||(ZF=1,Tb=function e(n,s){if(n===s)return!0;if(n&&s&&typeof n=="object"&&typeof s=="object"){if(n.constructor!==s.constructor)return!1;var r,i,a;if(Array.isArray(n)){if(r=n.length,r!=s.length)return!1;for(i=r;i--!==0;)if(!e(n[i],s[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===s.source&&n.flags===s.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===s.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===s.toString();if(a=Object.keys(n),r=a.length,r!==Object.keys(s).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(s,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!e(n[o],s[o]))return!1}return!0}return n!==n&&s!==s}),Tb}var Zae=Yae();const Jae=ga(Zae);/*! FingerprintJS Pro React v3.0.0 - Copyright (c) FingerprintJS, Inc, 2026 (https://fingerprint.com)
Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license. */const Xae=()=>{throw new Error("You forgot to wrap your component in <FingerprintProvider>.")},Qae={getVisitorData:Xae},TO=d.createContext(Qae),eoe="3.0.0",toe=()=>typeof window>"u"||typeof window.document>"u",noe='{"name":"preact","version":"10.27.2"}';var x1=(e=>(e.React="react",e.Preact="preact",e.Next="next",e.Unknown="unknown",e))(x1||{});function soe(e){return typeof e=="object"&&e!==null&&"name"in e}function roe(...e){if(typeof window>"u")return!1;for(const n of e)if(n())return!0;return!1}function ioe(e){return e.classRenderReceivesAnyArguments}function aoe(e){return!e.classRenderReceivesAnyArguments}function ooe(){return roe(()=>"next"in window&&!!window.next,()=>document.querySelector("script[id=__NEXT_DATA__]"))}function loe(){return window?.next?.version}function coe({context:e}){return ooe()?{name:x1.Next,version:loe()}:ioe(e)?{name:x1.Preact}:aoe(e)?{name:x1.React}:{name:x1.Unknown}}function doe(e){try{const n=JSON.parse(noe);if(soe(n))return n}catch{}return coe(e)}let uoe=class extends d.Component{constructor(n){super(n)}render(...n){if(!this.detectedEnv){const s={context:{classRenderReceivesAnyArguments:n.length>0}};this.detectedEnv=doe(s)}return d.cloneElement(this.props.children,{env:this.detectedEnv})}};function poe(e){return d.useRef(typeof e=="function"?e():e).current}function foe(e){return e?`${e.tag}-${e.linkedId}-${e.timeout}`:""}function moe(){const e=poe(new Map);return{doRequest:d.useCallback((n,s)=>{const r=foe(s);let i=e.get(r);return i||(i=n().finally(()=>{e.delete(r)}),e.set(r,i)),i},[e])}}function hoe(e){return t.jsx(uoe,{children:t.jsx(boe,{...e})})}function xoe(e){return typeof e=="object"&&e!==null&&"start"in e&&typeof e.start=="function"}function goe(e){if("customAgent"in e&&xoe(e.customAgent))return e.customAgent}function boe({children:e,forceRebuild:n,env:s,getOptions:r,...i}){const a=d.useCallback(()=>{const f=goe(i);let m=`react-sdk/${eoe}`;if(s){const g=s.version?`${s.name}/${s.version}`:s.name;m+=`/${g}`}const h=[...i.integrationInfo||[],m],x={...i,integrationInfo:h};return f?f.start(x):qae(x)},[i,s]),o=d.useRef(),l=d.useCallback(()=>{if(toe())throw new Error("FingerprintProvider client cannot be used in SSR");return o.current||(o.current=a()),o.current},[a]),{doRequest:c}=moe(),u=d.useCallback(f=>{const m=l(),h={...r,...f};return c(async()=>m.get(h),h)},[c,l,r]),p=d.useMemo(()=>({getVisitorData:u}),[u]);return d.useEffect(()=>{(!o.current||n)&&(o.current=a())},[n,i,r,a]),t.jsx(TO.Provider,{value:p,children:e})}function yoe(e){return e instanceof Error?e:new Error(String(e))}function JF(e,n){if(!e)throw new TypeError(`${n} must not be null or undefined`)}function voe({immediate:e,...n}={immediate:!0}){JF(n,"getOptions");const{getVisitorData:s}=d.useContext(TO),[r,i]=d.useState(n),[a,o]=d.useState({isLoading:e,data:void 0,isFetched:!1,error:void 0}),l=d.useCallback(async(c={})=>{JF(c,"getDataParams");try{o({isLoading:!0,isFetched:!1,data:void 0,error:void 0});const u={...r,...c},p=await s(u);return o({isLoading:!1,isFetched:!0,data:p,error:void 0}),p}catch(u){const p=yoe(u);throw o({isLoading:!1,isFetched:!1,data:void 0,error:p}),p}},[r,s]);return d.useEffect(()=>{e&&l().catch(c=>{})},[e,l]),!Object.is(r,n)&&!Jae(r,n)&&i(n),d.useMemo(()=>({...a,getData:l}),[a,l])}let Ab=!1,XF=0;const woe=500;async function Coe(e){try{const n=performance.now(),s=await e(),r=Math.round(performance.now()-n),i=s?.sealedResult??s?.sealed_result,a=s?.eventId??s?.event_id??s?.requestId;if(!i)return null;let o;if(typeof i=="object"&&i!==null&&"base64"in i&&typeof i.base64=="function")o=i.base64();else if(typeof i=="string")o=i;else return null;return a?{sealedResult:o,eventId:a,sdkLatencyMs:r}:null}catch(n){return jt(Zt.FINGERPRINT.SDK_CALL,n,{context:"getFreshFingerprint"}),null}}async function _oe(e,n,s,r){try{const i=await fetch(`${so.apiBaseUrl}/user/identify/v0`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({sealed_result:e,event_id:n,...r&&{page_load_to_response_ms:r.pageLoadMs,sdk_call_latency_ms:r.sdkLatencyMs}})});return i.ok?{success:!0,data:await i.json()}:{success:!1}}catch(i){return jt(Zt.FINGERPRINT.IDENTIFY_API,i,{context:"callIdentifyEndpoint"}),{success:!1}}}async function joe({getData:e}){if(Ab)return!1;const n=Date.now();if(n-XF<woe)return!1;XF=n,Ab=!0;try{const{data:{session:s}}=await pi.auth.getSession();if(!s?.access_token)return!1;const r=Math.round(performance.now()),i=await Coe(e);return i?(await _oe(i.sealedResult,i.eventId,s.access_token,{pageLoadMs:r,sdkLatencyMs:i.sdkLatencyMs})).success:!1}catch(s){return jt(Zt.FINGERPRINT.SYNC,s,{context:"syncDeviceIdentity"}),!1}finally{Ab=!1}}const QF=e=>{const n=new Date(e);return new Date().getTime()-n.getTime()<6e4},AO=d.createContext({user:null,session:null,userDetails:null,loading:!0,refreshSession:async()=>({success:!1}),signOut:async()=>{},signInWithEmail:async()=>({success:!1}),signUpWithEmail:async()=>({success:!1}),signInWithOAuth:async()=>({success:!1}),resetPassword:async()=>({success:!1}),updatePassword:async()=>({success:!1}),resendVerificationEmail:async()=>({success:!1}),verifyInviteCode:async()=>({success:!1})});function Noe({children:e}){const[n,s]=d.useState(null),[r,i]=d.useState(null),[a,o]=d.useState(!0),{toast:l}=ns(),c=Ea(),{getData:u}=voe({immediate:!1}),p="fp_dedup",{data:f}=Kr(void 0,{skip:!n}),m=d.useCallback(()=>{const F=Mf(()=>{if(queueMicrotask(()=>F()),!!Rie()&&!localStorage.getItem(p)){localStorage.setItem(p,"true"),H("fingerprint_triggered");try{joe({getData:async()=>await u()}).then(I=>{H("fingerprint_sync_result",{success:I})})}catch(E){jt(Zt.FINGERPRINT.TRIGGER,E,{context:"triggerFingerprintOnSignup"})}}})},[u]),h=d.useRef(m);d.useEffect(()=>{h.current=m},[m]),d.useEffect(()=>{if(n){const F=n.user_metadata||{};nb(n.id,{email:n.email??void 0,name:F.name})}else nb(null)},[n]),d.useEffect(()=>{const F=async()=>{try{const{data:{session:I}}=await pi.auth.getSession();I?(i(I),s(I.user),Xu(I.user),I.user.email&&iu("emergent-user-email",I.user.email,30)):Xu(null)}catch(I){jt(Zt.AUTH.INITIALIZATION,I,{context:"auth_initialize"}),zc(I instanceof Error?I:String(I),{context:"auth_initialization"}),l({title:"Error",description:"Failed to initialize authentication.",variant:"destructive"})}finally{o(!1)}},{data:{subscription:E}}=pi.auth.onAuthStateChange(async(I,T)=>{switch(I){case"SIGNED_OUT":i(null),s(null),Xu(null),xg("emergent-user-email");break;default:if(T){if(I==="SIGNED_IN"){const A=T.user.app_metadata?.sso_migrated,D=T.access_token.split(".")[1],L=(JSON.parse(atob(D)).amr||[])[0]?.method;if(A&&L&&L!=="sso/saml"){await pi.auth.signOut(),c(`/login?showError=${encodeURIComponent("This account uses SSO. Please login with SSO.")}`);return}}if(i(T),s(T.user),Xu(T.user),T.user.email&&iu("emergent-user-email",T.user.email,30),I==="SIGNED_IN"&&T.user){x(T.user),h1(m1.USER_LOGIN,{user_id:T.user.id,user_email:T.user.email,user_id_ends:T.user.id?.slice(-1)});const A=sessionStorage.getItem("oauth_provider"),D=sessionStorage.getItem("oauth_login_pending");if(D==="true"&&A)if(QF(T.user.created_at)){rb(A,T.user.id,T.user.email,{full_name:T.user.user_metadata?.name||T.user.user_metadata?.full_name,avatar_url:T.user.user_metadata?.avatar_url,provider:A});const L=au();_b(T.user.id,T.user.email,A,L),ob(T.user.id,T.user.email,A,L),cx(T.user.email,T.user.id,T.user.user_metadata?.name?.split(" ")[0],T.user.user_metadata?.name?.split(" ")[1]),ab(T.user.email,T.user.id),h.current()}else vse(A,T.user.id,T.user.email),cx(T.user.email,T.user.id,T.user.user_metadata?.name?.split(" ")[0],T.user.user_metadata?.name?.split(" ")[1]),ib(T.user.email||"",T.user.id,T.user.user_metadata?.name||T.user.user_metadata?.full_name);localStorage.getItem(`pending_fingerprint_${T.user.id}`)==="true"?(localStorage.removeItem(`pending_fingerprint_${T.user.id}`),h.current()):D==="true"&&A||QF(T.user.created_at)&&h.current()}}break}});return F(),()=>{E.unsubscribe()}},[l]);const x=async F=>{try{if(F.user_metadata?.utm_source)return;const E=localStorage.getItem("utm_source")||"",I=localStorage.getItem("utm_campaign")||"",T=localStorage.getItem("utm_medium")||"",A=localStorage.getItem("utm_content")||"",D=localStorage.getItem("utm_term")||"",O=localStorage.getItem("user_referrer")||"";if(E||I||T||A||D||O){const{error:M}=await pi.auth.updateUser({data:{...F.user_metadata,utm_source:E,utm_campaign:I,utm_medium:T,utm_content:A,utm_term:D,user_referrer:O}});M&&jt(Zt.AUTH.UPDATE_UTM_METADATA,M,{context:"supabase_update_user"})}}catch(E){jt(Zt.AUTH.UPDATE_UTM_METADATA,E,{context:"updateUserMetadataWithUTM"})}},g=async(F,E)=>{try{va("login_attempt",{method:"email",email:F});const{data:I,error:T}=await pi.auth.signInWithPassword({email:F,password:E});return T?T.message==="Email not confirmed"?(va("login_failure",{method:"email",email:F,reason:"email_not_confirmed",needsVerification:!0}),c(`/verify?email=${encodeURIComponent(F)}`),{success:!1,error:{needsVerification:!0,message:T.message}}):(va("login_failure",{method:"email",email:F,reason:T.message,errorCode:T.status||"unknown"}),{success:!1,error:T.message}):(va("login_success",{method:"email",email:F,userId:I?.user?.id}),localStorage.getItem("first_login_completed")!=="true"&&I?.user&&(localStorage.setItem("first_login_completed","true"),yb("first_login",{userId:I.user.id,method:"email",email:F})),{success:!0})}catch(I){return jt(Zt.AUTH.SIGN_IN,I,{context:"signInWithEmail"}),va("login_failure",{method:"email",email:F,reason:I.message||"unknown_error",isException:!0}),{success:!1,error:I.message||"Failed to sign in"}}},v=async(F,E,I)=>{try{va("signup_attempt",{method:"email",email:E});const T=localStorage.getItem("utm_source")||"",A=localStorage.getItem("utm_campaign")||"",D=localStorage.getItem("utm_medium")||"",O=localStorage.getItem("utm_content")||"",M=localStorage.getItem("utm_term")||"",L=localStorage.getItem("user_referrer")||"",P=new URLSearchParams(window.location.search),B=P.toString()?`${window.location.origin}/activate?${P.toString()}`:`${window.location.origin}/activate`,{data:{user:G},error:$}=await pi.auth.signUp({email:E,password:I,options:{emailRedirectTo:B,data:{full_name:F,utm_source:T,utm_campaign:A,utm_medium:D,utm_content:O,utm_term:M,user_referrer:L}}});if($)return va("signup_failure",{method:"email",email:E,reason:$.message,error:$,errorCode:$.status||"unknown"}),{success:!1,error:$.message};if(G&&G.identities&&G.identities.length===0)return va("signup_failure",{method:"email",email:E,reason:"user_already_exists"}),{success:!1,error:"User already exists"};if(G&&!G.email_verified){va("signup_success",{method:"email",email:E,userId:G.id,needsVerification:!0}),rb("email",G.id,E,{needs_verification:!0,full_name:F});const te=au();return _b(G.id,E,"email",te),ob(G.id,E,"email",te),cx(E,G.id,F.split(" ")[0],F.split(" ")[1]),ab(E,G.id),ib(E,G.id,F),yb("first_login",{userId:G.id,method:"email",email:E,isSignup:!0,needsVerification:!0}),localStorage.setItem(`pending_fingerprint_${G.id}`,"true"),{success:!0,needsVerification:!0}}if(va("signup_success",{method:"email",email:E,userId:G?.id}),G?.id){rb("email",G.id,E,{needs_verification:!1,full_name:F});const te=au();_b(G.id,E,"email",te),ob(G.id,E,"email",te),cx(E,G.id,F.split(" ")[0],F.split(" ")[1]),ab(E,G.id),ib(E,G.id,F)}return yb("first_login",{userId:G?.id,method:"email",email:E,isSignup:!0}),{success:!0}}catch(T){return jt(Zt.AUTH.SIGN_UP,T,{context:"signUpWithEmail"}),va("signup_failure",{method:"email",email:E,error:T,reason:T.message||"unknown_error",isException:!0}),{success:!1,error:T.message||"Failed to sign up"}}},b=async F=>{try{va("login_attempt",{method:F});const E=new URLSearchParams(window.location.search),I=localStorage.getItem("pending_referral_code");if(I&&!E.has("referral")&&!E.has("ref"))try{const D=JSON.parse(I);D.code&&E.set("referral",D.code)}catch{E.set("referral",I)}const T=E.toString()?`${window.location.origin}/activate?${E.toString()}`:`${window.location.origin}/activate`,{error:A}=await pi.auth.signInWithOAuth({provider:F,options:{redirectTo:T,...F==="github"?{scopes:"repo,read:user,user:email"}:{}}});return A?(va("login_failure",{method:F,reason:A.message,error:A,errorCode:A.status||"unknown"}),{success:!1,error:A.message}):(sessionStorage.setItem("oauth_login_pending","true"),sessionStorage.setItem("oauth_provider",F),{success:!0})}catch(E){return jt(Zt.AUTH.OAUTH_SIGN_IN,E,{context:"signInWithOAuth",provider:F}),va("login_failure",{method:F,error:E,reason:E.message||"unknown_error",isException:!0}),{success:!1,error:E.message||`Failed to sign in with ${F}`}}},y=async F=>{try{const E=new URLSearchParams(window.location.search),I=E.toString()?`${window.location.origin}/reset-password?${E.toString()}`:`${window.location.origin}/reset-password`,{error:T}=await pi.auth.resetPasswordForEmail(F,{redirectTo:I});return T?{success:!1,error:T.message}:{success:!0}}catch(E){return jt(Zt.AUTH.RESET_PASSWORD,E,{context:"resetPassword"}),{success:!1,error:E.message||"Failed to send password reset email"}}},w=async F=>{try{const{error:E}=await pi.auth.updateUser({password:F});return await j(),E?{success:!1,error:E.message}:{success:!0}}catch(E){return jt(Zt.AUTH.UPDATE_PASSWORD,E,{context:"updatePassword"}),{success:!1,error:E.message||"Failed to update password"}}},_=async F=>{try{const E=new URLSearchParams(window.location.search),I=E.toString()?`${window.location.origin}/activate?${E.toString()}`:`${window.location.origin}/activate`,{error:T}=await pi.auth.resend({type:"signup",email:F,options:{emailRedirectTo:I}});return T?{success:!1,error:T.message}:{success:!0}}catch(E){return jt(Zt.AUTH.RESEND_VERIFICATION,E,{context:"resendVerificationEmail"}),{success:!1,error:E.message||"Failed to resend verification email"}}},N=async(F,E)=>{try{const{data:I}=await pi.functions.invoke("verify-invite-code",{body:{inviteCode:F.trim(),userId:E||n?.id}});return I===null?{success:!1,error:"Failed to verify invite code"}:I.success?I.banned?{success:!1,banned:!0,error:"Your account has been banned"}:{success:!0}:{success:!1,error:I.error||"Failed to verify invite code"}}catch(I){return jt(Zt.AUTH.VERIFY_INVITE,I,{context:"verifyInviteCode"}),{success:!1,error:I.message||"Failed to verify invite code"}}},j=async()=>{try{va("logout",{userId:n?.id}),n?.id&&localStorage.removeItem(`pending_fingerprint_${n.id}`),localStorage.removeItem(p),uae(),w9(),xg("emergent-email-user"),xg("emergent-user-email"),Xu(null),nb(null);const F=new URLSearchParams(window.location.search),E=F.toString()?`/landing?${F.toString()}`:"/landing";window.location.href=E,zi("LOGOUT_EVENT",{timestamp:new Date().toISOString()})}catch(F){jt(Zt.AUTH.SIGN_OUT,F,{context:"signOut"}),zc(F,{context:"sign_out"}),l({title:"Error",description:"Failed to sign out. Please try again.",variant:"destructive"})}},S={user:n,session:r,userDetails:f,loading:a,signOut:j,signInWithEmail:g,signUpWithEmail:v,signInWithOAuth:b,resetPassword:y,updatePassword:w,resendVerificationEmail:_,verifyInviteCode:N,refreshSession:async()=>{try{const{data:F,error:E}=await pi.auth.refreshSession();return E?(jt(Zt.AUTH.REFRESH_SESSION,E,{context:"refreshSession_supabase"}),zc(E,{context:"refresh_session"}),{success:!1,error:E.message}):(F.session&&(i(F.session),s(F.session.user),Xu(F.session.user)),{success:!0})}catch(F){return jt(Zt.AUTH.REFRESH_SESSION,F,{context:"refreshSession"}),{success:!1,error:F.message||"Failed to refresh session"}}}};return t.jsx(AO.Provider,{value:S,children:e})}const os=()=>{const e=d.useContext(AO);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Foe=d.createContext({isLoading:!1,setIsLoading:()=>{}});function Eoe({children:e}){const[n,s]=d.useState(!1);return t.jsx(Foe.Provider,{value:{isLoading:n,setIsLoading:s},children:e})}const bu="/home",Pa="/landing",hh=e=>`/workspace/${e}`;function e7(e){return["/verify","/activate","/reset-password","/login","/register","/oauth"].some(s=>e.includes(s))}function Dc(e){const n=e==="/",s=e==="/home",r=/^\/workspace\/[^\/]+$/.test(e);return n||s||r}function $Pe(){const e=new URLSearchParams(window.location.search),n=e.toString()?`${Pa}?${e.toString()}`:Pa;window.location.href=n}const DO=d.createContext(void 0);function Soe({children:e}){const n=Mi(),s=Ea(),r=ba(),{user:i}=os(),{data:a,isLoading:o}=Kr(void 0,{skip:!i}),l=a?.organizations?.some(b=>b.created_by===i?.id)||!1,c=[{id:"personal",name:i?.user_metadata?.name?`${i.user_metadata.name}'s Personal Space`:"Personal Space",plan:"Free Plan",icon:""},...(a?.organizations||[]).map(b=>({id:b.organization_id,name:b.organization_name,plan:b.status==="ACTIVE"?"Team Plan":"Pending Payment",members:b.member_count,icon:"",status:b.status,role:b.role}))],p=d.useCallback(()=>{const b=n.pathname.split("/").filter(Boolean);if(b.length===0)return"personal";if(b[0]==="workspace"&&b[1]){const y=b[1];return o&&i||c.find(_=>_.id===y)?y:"personal"}return"personal"},[n.pathname,c,o,i])();d.useEffect(()=>{const b=p==="personal"?bu:hh(p);r(kX(b))},[p,r]),d.useEffect(()=>{if(!(!i||o||!a))try{const b=localStorage.getItem("pending_invitation");if(!b)return;const y=JSON.parse(b);if(Date.now()-y.timestamp>1440*60*1e3){localStorage.removeItem("pending_invitation");return}a.pending_invitations?.find(N=>N.id===y.invitation_id)||localStorage.removeItem("pending_invitation")}catch{localStorage.removeItem("pending_invitation")}},[i,a,o]);const f=d.useCallback(b=>{const y=b==="personal"?bu:hh(b);n.pathname!==y&&(window.location.href=y),setTimeout(()=>{},100)},[s,n.pathname]),m=d.useCallback(()=>c.find(b=>b.id===p),[c,p]),h=d.useCallback(()=>p==="personal",[p]),x=d.useCallback(()=>p!=="personal",[p]),g=d.useCallback(()=>x()?p:void 0,[p,x]),v={currentWorkspace:p,workspaces:c,switchWorkspace:f,getCurrentWorkspaceData:m,isPersonalWorkspace:h,isOrganizationWorkspace:x,getCurrentOrganizationId:g,hasCreatedWorkspace:l};return t.jsx(DO.Provider,{value:v,children:e})}function hs(){const e=d.useContext(DO);if(e===void 0)throw new Error("useWorkspace must be used within a WorkspaceProvider");return e}const koe="8811bb3e-50e4-473f-ad90-69dcc81b4ca3",xw="africaPromoCouponCode",gw="africaPromoCouponError",bw=new Set;function eE(e){return bw.add(e),()=>bw.delete(e)}function Ioe(){bw.forEach(e=>e())}function Toe(){return typeof window>"u"?null:localStorage.getItem(xw)}function Aoe(){return typeof window>"u"?null:localStorage.getItem(gw)}function MO(){const e=d.useSyncExternalStore(eE,Toe,()=>null),n=d.useSyncExternalStore(eE,Aoe,()=>null),[s,r]=d.useState(!1),i=d.useCallback((o,l=null)=>{o?localStorage.setItem(xw,o):localStorage.removeItem(xw),l?localStorage.setItem(gw,l):localStorage.removeItem(gw),Ioe()},[]),a=d.useCallback(async()=>{r(!0);try{const o=await vt.getPromoCoupon(z9()||"",koe);return o?(i(o,null),{coupon:o,error:null}):{coupon:null,error:null}}catch(o){const l=o?.response?.data?.detail||o?.response?.data?.message||"Unable to generate coupon code";return i(null,l),{coupon:null,error:l}}finally{r(!1)}},[i]);return{couponCode:e,isLoading:s,error:n,setCouponCode:i,generateCoupon:a}}const RO=d.createContext({credits:0,personalCredits:0,orgCredits:0,ownerCredits:null,ownerSubscriptionTier:null,loading:!0,error:null,tier:"free",personalTier:"free",orgTier:"free",pro_mode:!1,refreshCredits:async()=>{},creditResponse:null,subscriptionPlansResponse:null,personalPlansResponse:null,upgradeDetails:null,currentSubscriptionDetail:null,getUpgradeTierName:()=>"Starter",dailyCreditsEnabled:!1,isTrulyFreeUser:()=>!1});function Doe({children:e}){const{user:n}=os(),{getCurrentOrganizationId:s}=hs(),r=Mi(),i=s(),[a,o]=d.useState({id:"5d98824c-26c1-4dc4-822a-007ad1d5e684",amount:10,name:"Emergent Starter"}),[l,c]=d.useState(!1),[u,p]=d.useState(!1),f=d.useRef(!1),[m,h]=d.useState(null),x=d.useRef(null),g=d.useRef(0),v=d.useRef(null),b=3,{couponCode:y,generateCoupon:w}=MO(),_=d.useRef(!1),{data:N,isSuccess:j,isLoading:C}=Kr(void 0,{skip:!n}),{data:S,isLoading:F,refetch:E}=JP(i||"",{skip:!i||!n?.user_metadata?.invite_code||!j}),{data:I,error:T,isLoading:A,refetch:D}=y2(void 0,{skip:!n?.user_metadata?.invite_code||!j,pollingInterval:0}),{data:O,error:M,isLoading:L,refetch:P}=v2(i?{organization_id:i}:void 0,{skip:!n?.user_metadata?.invite_code||!j,pollingInterval:0}),{data:B,error:G,isLoading:$,refetch:te}=v2(void 0,{skip:!n?.user_metadata?.invite_code||!j,pollingInterval:0}),{data:U,error:oe,isLoading:Y,refetch:W}=y2(void 0,{skip:!n?.user_metadata?.invite_code||!j,pollingInterval:0}),[Z,le]=d.useState("free"),[q,Q]=d.useState("free"),[he,me]=d.useState(0),ce=i&&S?.owner_credits!=null?S.owner_credits:I?.ecu_balance??0,ee=U?.ecu_balance??0,J=T&&g.current<b,re=A||!!J||C||Y||L||(i?F:!1),xe=T&&g.current>=b?typeof T=="object"&&"data"in T&&T.data?.message||"Failed to fetch credits balance":null,ae=Ce=>{const $e=Ce.toLowerCase();return $e.includes("team")?"team":$e.includes("emergent pro")?"pro_mode":$e.includes("standard")?"standard":$e.includes("starter")?"starter":$e.includes("pro")?"pro":"free"},Fe=(Ce,$e,dt)=>{if(dt)return ae(dt);if(Ce?.current_subscription)return ae(Ce.current_subscription.tier_name);const Me=$e||I;return!Me||!Me.subscription||!Me.subscription.id?"free":ae(Me.subscription.name)},se=d.useMemo(()=>{const Ce=i?S?.owner_subscription_tier:void 0,$e=Fe(O,I,Ce);return $e==="free"&&N?.is_pro_enabled===!0?"pro_mode":$e},[O,I,i,S?.owner_subscription_tier,N?.is_pro_enabled]),_e=(Ce,$e,dt)=>{if(dt)return dt.toLowerCase().includes("emergent pro");if(Ce?.current_subscription)return Ce.current_subscription.tier_name.toLowerCase().includes("emergent pro");const Me=$e||I;return Me?.subscription?.name?Me.subscription.name.toLowerCase().includes("emergent pro"):!1},Re=(Ce="organization")=>{if(Ce==="personal")return Z==="free"?"Free":Z==="starter"?"Starter":Z==="standard"?"Standard":"Pro";if(!a)return"Starter";const $e=a.name.replaceAll(" ","").toLowerCase();return $e.includes("standard")?"Standard":$e.includes("starter")?"Starter":$e.includes("pro")?"Pro":"Starter"};d.useEffect(()=>{n?.user_metadata?.invite_code&&j&&(D(),P(),i&&E())},[r.pathname,r.search,n?.user_metadata?.invite_code,j,D,P,i,E]),d.useEffect(()=>{n?.user_metadata?.invite_code&&j&&(D(),P(),i&&E())},[i,n?.user_metadata?.invite_code,j,D,P,E]),d.useEffect(()=>{const Ce=i?S?.owner_subscription_tier:void 0,$e=_e(O,I,Ce);if(p($e),O?.current_subscription?h({id:O.current_subscription.id,name:O.current_subscription.tier_name,amount:O.current_subscription.amount,ecu_credits:O.current_subscription.ecu_credits??0}):I?.subscription&&I.subscription.id?h({id:I.subscription.id,name:I.subscription.name,amount:I.subscription.subscription_details?.amount||0,ecu_credits:I.ecu_balance??0}):h(null),I?.daily_credits?c(!0):c(!1),O&&O.plans){const dt=O.current_subscription?.tier_name.toLowerCase();let Me;const we=[];Object.values(O.plans).forEach(Te=>{Te.monthly_plans&&we.push(...Te.monthly_plans),Te.yearly_plans&&we.push(...Te.yearly_plans)}),we.length>0&&(Me=we.find(Te=>Te.tier_name.toLowerCase()!==dt)),Me&&o({id:Me.id,name:Me.tier_name,amount:Me.amount,revenuecat_offering_identifier:Me.revenuecat_offering_identifier})}else I?.subscription&&o({id:I.subscription.id,name:I.subscription.name,amount:I.subscription.subscription_details?.amount})},[O,I,i,S?.owner_subscription_tier]),d.useEffect(()=>{const Ce=Fe(B,U);le(Ce)},[B,U]),d.useEffect(()=>{B?.is_first_time_offer&&!y&&!_.current&&(_.current=!0,w())},[B?.is_first_time_offer,y,w]),d.useEffect(()=>{if(s()&&O){const Ce=Fe(O,I);Q(Ce)}else if(s()&&I){const Ce=Fe(void 0,I);Q(Ce)}},[O,I,s]),d.useEffect(()=>{s()&&I&&me(I.ecu_balance||0)},[I,s]),d.useEffect(()=>{n&&vie(se,Z,q)},[se,Z,q,n]),d.useEffect(()=>{if(T&&n)if(g.current<b){g.current+=1,v.current&&clearTimeout(v.current);const Ce=Math.pow(2,g.current-1)*1e3;v.current=setTimeout(()=>{D(),i&&E(),v.current=null},Ce)}else H("credits_fetch_failed",{userId:n.id,errorType:"api_error",errorMessage:typeof T=="object"&&"data"in T&&T.data?.message||"Failed to fetch credits balance",hasInviteCode:!!n.user_metadata?.invite_code,retryAttempts:g.current}),typeof T=="object"&&"data"in T&&zc(`Credits API returned error after ${g.current} attempts`,{userId:n.id,errorType:"api_response_error",apiResponse:T.data,context:"credits_fetch",retryAttempts:g.current});else T||(g.current=0,v.current&&(clearTimeout(v.current),v.current=null))},[T,n,D]),d.useEffect(()=>()=>{x.current&&clearTimeout(x.current),v.current&&clearTimeout(v.current)},[]);const Se=d.useCallback(async({includePlans:Ce=!0}={})=>{if(!f.current&&n?.user_metadata.invite_code&&j){g.current=0,v.current&&(clearTimeout(v.current),v.current=null),f.current=!0;try{const $e=[D(),W()];Ce&&$e.push(P()),i&&$e.push(E()),await Promise.all($e)}finally{x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{f.current=!1,x.current=null},5e3)}}},[n?.user_metadata.invite_code,j,i,D,W,P,E]),Ne=()=>{const Ce=N?.organizations?.some($e=>$e.status==="ACTIVE")||!1;return i&&S?.owner_subscription_tier&&ae(S.owner_subscription_tier)!=="free"?!1:Z==="free"&&!Ce&&N?.is_pro_enabled===!1},ge={credits:ce,personalCredits:ee,orgCredits:he,ownerCredits:S?.owner_credits??null,ownerSubscriptionTier:S?.owner_subscription_tier??null,loading:re,tier:se,personalTier:Z,orgTier:q,pro_mode:u,error:xe,creditResponse:I||null,subscriptionPlansResponse:O||null,personalPlansResponse:B||null,refreshCredits:Se,upgradeDetails:a,currentSubscriptionDetail:m,getUpgradeTierName:Re,dailyCreditsEnabled:l,isTrulyFreeUser:Ne};return t.jsx(RO.Provider,{value:ge,children:e})}const xs=()=>{const e=d.useContext(RO);if(!e)throw new Error("useCredits must be used within a CreditsProvider");return e},LO="emergent_notifications",PO="emergent_notifications_read",Moe={notifications:[],unreadCounts:{alerts:0,offers:0,updates:0},totalUnread:0,addNotification:()=>"",addAlertNotification:()=>"",markAsRead:()=>{},markAllAsRead:()=>{},removeNotification:()=>{},clearAll:()=>{},getNotificationsByType:()=>[]},Roe=d.createContext(Moe),tE=()=>crypto.randomUUID(),Loe=()=>{try{const e=localStorage.getItem(LO);return e?JSON.parse(e).map(s=>({...s,timestamp:new Date(s.timestamp),expiresAt:s.expiresAt?new Date(s.expiresAt):void 0})):[]}catch{return[]}},Poe=e=>{try{localStorage.setItem(LO,JSON.stringify(e))}catch{}},Ooe=()=>{try{const e=localStorage.getItem(PO);return e?new Set(JSON.parse(e)):new Set}catch{return new Set}},Boe=e=>{try{localStorage.setItem(PO,JSON.stringify([...e]))}catch{}};function Uoe({children:e}){const[n,s]=d.useState([]),[r,i]=d.useState(new Set),[a,o]=d.useState(!1);d.useEffect(()=>{const b=Loe(),y=Ooe(),w=b.map(_=>({..._,isRead:y.has(_.id)}));s(w),i(y),o(!0)},[]),d.useEffect(()=>{a&&Poe(n)},[n,a]),d.useEffect(()=>{a&&Boe(r)},[r,a]);const l=d.useMemo(()=>{const b={alerts:0,offers:0,updates:0};return n.forEach(y=>{y.isRead||(y.type==="alert"?b.alerts++:y.type==="offer"?b.offers++:y.type==="update"&&b.updates++)}),b},[n]),c=d.useMemo(()=>l.alerts+l.offers+l.updates,[l]),u=d.useCallback(b=>{const y=tE(),w={...b,id:y,timestamp:new Date,isRead:!1};return s(_=>[w,..._]),y},[]),p=d.useCallback(b=>{const y=tE(),w={...b,id:y,type:"alert",timestamp:new Date,isRead:!1};return s(_=>[w,..._]),y},[]),f=d.useCallback(b=>{s(y=>y.map(w=>w.id===b?{...w,isRead:!0}:w)),i(y=>{const w=new Set(y);return w.add(b),w})},[]),m=d.useCallback(b=>{s(y=>{const w=[],_=y.map(N=>!b||N.type===b?(w.push(N.id),{...N,isRead:!0}):N);return i(N=>{const j=new Set(N);return w.forEach(C=>j.add(C)),j}),_})},[]),h=d.useCallback(b=>{s(y=>y.filter(w=>w.id!==b)),i(y=>{const w=new Set(y);return w.delete(b),w})},[]),x=d.useCallback(b=>{b?s(y=>y.filter(w=>w.type!==b)):(s([]),i(new Set))},[]),g=d.useCallback(b=>n.filter(y=>y.type===b),[n]),v={notifications:n,unreadCounts:l,totalUnread:c,addNotification:u,addAlertNotification:p,markAsRead:f,markAllAsRead:m,removeNotification:h,clearAll:x,getNotificationsByType:g};return t.jsx(Roe.Provider,{value:v,children:e})}function nE(e){if(!e||typeof e!="object")return!1;const n=e;return typeof n.asset_type!="string"?!1:n.asset_type==="page_nodes"?!0:typeof n.on_view_event=="string"}function Hoe(e){if(!e||typeof e!="object")return!1;const n=e;if(typeof n.experiment_id!="string"||typeof n.variant_id!="string")return!1;const s=n.frontend_config;return s?Array.isArray(s)?s.length>0&&s.some(nE):typeof s=="object"&&nE(s):!1}function t7(e){if(!e||typeof e!="object")return!1;const n=e;return n.source==="dynamo-iframe"&&typeof n.modalId=="string"}const yw={ENDPOINT:"https://api.emergent.sh/litmus/v0/resolve",TIMEOUT:1e4};async function Voe(e,n="web",s){let r,i=null;try{if(!e)return[];const a=new AbortController;r=setTimeout(()=>a.abort(),yw.TIMEOUT),i=s?()=>a.abort():null,s&&(s.aborted?a.abort():s.addEventListener("abort",i,{once:!0}));const o=await fetch(yw.ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({platform:n}),signal:a.signal});if(!o.ok){clearTimeout(r);const p=new Error(`Dynamo API ${o.status}: ${o.statusText}`);return jt(Zt.DYNAMO.API_RESPONSE,p,{status:o.status}),H(hr.CONFIG_ERROR,{source:"api",status:o.status,error:o.statusText}),[]}const l=await o.json();if(clearTimeout(r),!l||!Array.isArray(l.assignments))return jt(Zt.DYNAMO.API_RESPONSE,new Error("Invalid Dynamo API response structure")),H(hr.CONFIG_ERROR,{source:"api",error:"Invalid response structure"}),[];const c=l.assignments[0],u=c&&Hoe(c)?[c]:[];return H(hr.CONFIG_LOADED,{source:"api",count:u.length,total_assignments:l.assignments.length,platform:n}),u}catch(a){return r&&clearTimeout(r),a instanceof Error&&a.name==="AbortError"?(jt(Zt.DYNAMO.API_TIMEOUT,a),H(hr.CONFIG_ERROR,{source:"api",error:"timeout"})):(jt(Zt.DYNAMO.API_REQUEST,a),H(hr.CONFIG_ERROR,{source:"api",error:String(a)})),[]}finally{s&&i&&s.removeEventListener("abort",i)}}async function $oe(e){let n;try{const s=new AbortController;n=setTimeout(()=>s.abort(),yw.TIMEOUT);const r=await fetch(e,{method:"GET",signal:s.signal});if(!r.ok)return clearTimeout(n),jt(Zt.DYNAMO.HTML_FETCH,new Error(`HTML fetch ${r.status}`),{url:e}),null;const i=await r.text();return clearTimeout(n),i}catch(s){return n&&clearTimeout(n),jt(Zt.DYNAMO.HTML_FETCH,s,{url:e}),null}}function zoe(){const{session:e}=os(),[n,s]=d.useState([]),[r,i]=d.useState(!0),[a,o]=d.useState(!1),[l,c]=d.useState(null),[u,p]=d.useState(0),f=d.useCallback((g,v)=>{const b=Array.isArray(g.frontend_config)?g.frontend_config:[g.frontend_config];return b.map((y,w)=>{const _=b.length===1?g.experiment_id:`${g.experiment_id}_${y.asset_type}_${w}`,N=y.asset_type==="page_nodes",j={id:_,name:g.experiment_name,enabled:!0,priority:100-v*3-w,experiment_id:g.experiment_id,experiment_name:g.experiment_name,experiment_type:g.experiment_type,target_model:g.target_mode,variant_id:g.variant_id,variant_name:g.variant_name,experiment_config:g.experiment_config},C={feature_flag_name:g.experiment_id,variant_type:g.variant_name,htmlLink:N?void 0:y.html_link,on_view_event:y.on_view_event,delay_to_show:0,route:y.route,type:y.asset_type,bannerPosition:y.banner_position,mobileEnabled:N?!0:y.mobile_enabled??!1,desktopEnabled:N?!0:y.desktop_enabled??!1,jsonConfig:y.json_config,config:{show_once:y.show_once,show_fullscreen:y.show_fullscreen}};return{job:j,config:C}})},[]),m=d.useCallback(async g=>{try{const v=e?.access_token,b=await Voe(v,"web",g);if(g?.aborted)return;const y=b.flatMap((w,_)=>f(w,_));s(y),c(null)}catch(v){if(v instanceof Error&&v.name==="AbortError"||g?.aborted)return;jt(Zt.DYNAMO.CONFIG_FETCH,v),c(v instanceof Error?v:new Error("Failed to fetch Dynamo config"))}},[f,e?.access_token,u]);d.useEffect(()=>{const g=new AbortController;return(async()=>{try{i(!0),await m(g.signal),g.signal.aborted||o(!0)}catch(b){if(g.signal.aborted)return;jt(Zt.DYNAMO.CONFIG_INIT,b),c(b instanceof Error?b:new Error("Failed to fetch Dynamo config"))}finally{g.signal.aborted||i(!1)}})(),()=>{g.abort()}},[m]);const h=d.useRef(),x=d.useCallback(g=>{if(g){p(b=>b+1);return}h.current?.abort();const v=new AbortController;return h.current=v,m(v.signal)},[m]);return d.useEffect(()=>()=>{h.current?.abort()},[]),d.useMemo(()=>({jobs:n,isLoading:r,isReady:a,error:l,refetch:x}),[n,r,a,l,x])}function Woe(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function sE(e){return e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\0/g,"\\0").replace(/<\//g,"<\\/")}function Goe(e,n){const s={};for(const[r,i]of Object.entries(n))s[r.toLowerCase()]=i;return e.replace(oae,(r,i)=>{const a=s[i.toLowerCase()];return a!==void 0?Woe(a):r})}function qoe(e){const{userDetails:n,user:s,tier:r,credits:i,creditResponse:a,currentSubscriptionDetail:o,workspaceName:l}=e,c=n?.referral_info,u=n?.github,p=a?.subscription;return{email:s?.email||"",name:s?.user_metadata?.name||"",userId:s?.id||"",avatarUrl:s?.user_metadata?.avatar_url||"",tier:r||"",currentPackage:o?.name||p?.name||"",creditsLeft:i!==void 0?String(i):"",totalCredits:p?.monthly_credit_limit!==void 0?String(p.monthly_credit_limit):o?.ecu_credits!==void 0?String(o.ecu_credits):"",packageExpiry:a?.monthly_credits_refresh_date||"",referralCode:c?.referral_code||"",referralCount:c?.number_of_invitations!==void 0?String(c.number_of_invitations):"",referralCreditsEarned:c?.total_referral_credits_earned!==void 0?String(c.total_referral_credits_earned):"",country:n?.country||"",countryCode:n?.country_code||"",workspaceName:l||"",githubUsername:u?.account_name||"",signupDate:c?.signed_up_at||s?.created_at||""}}function Koe(e,n){const s=sE(n),r=sE(window.location.origin),i=lae.replace(/__MODAL_ID__/g,s).replace(/__PARENT_ORIGIN__/g,r);return e.includes("</body>")?e.replace("</body>",`${i}</body>`):e.includes("</html>")?e.replace("</html>",`${i}</html>`):e+i}function Yoe(e){if(e.includes("<head>"))return e.replace("<head>",`<head>${jb}`);if(e.includes("<html")){const n=e.indexOf(">",e.indexOf("<html"))+1;return e.slice(0,n)+jb+e.slice(n)}return jb+e}function Zoe(e,n,s){let r=e;return r=Goe(r,s),r=Yoe(r),r=Koe(r,n),r}const rE=768;function Joe(){const e=Mi(),[n,s]=d.useState(typeof window<"u"&&window.innerWidth<rE),r=d.useRef(),i=d.useCallback(()=>{clearTimeout(r.current),r.current=setTimeout(()=>{s(window.innerWidth<rE)},150)},[]);return d.useEffect(()=>(window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i),clearTimeout(r.current)}),[i]),{currentRoute:e.pathname,isMobileWeb:n,isDesktop:!n}}function Xoe(e,n){return(n?e.mobile:e.desktop)||null}function Qoe(e,n){if(!e||e===n)return!0;if(e==="/")return n==="/";if(e.endsWith("/*")){const s=e.slice(0,-2);return n===s||n.startsWith(s+"/")}return!1}function OO(e){return e?localStorage:sessionStorage}function BO(e,n){return n?`${LF}${n}_${e}`:`${LF}${e}`}function ele(e,n,s){try{const r=BO(e,s);return OO(n).getItem(r)==="true"}catch{return!1}}function ux(e,n,s){try{const r=BO(e,s);OO(n).setItem(r,"true")}catch(r){jt(Zt.DYNAMO.STORAGE_MARK_SEEN,r,{modalId:e})}}const tle=15e3;async function iE(e,n,s){let r;const i=new Promise(a=>{r=setTimeout(()=>{jt(Zt.DYNAMO.HTML_FETCH,new Error("Content processing timeout"),{modalId:e.id}),a(null)},tle)});try{return await Promise.race([nle(e,n,s),i])}finally{r&&clearTimeout(r)}}async function nle(e,n,s){const r=e.config.type||"modal";if(r==="page_nodes")return e.config.jsonConfig?{id:e.id,jobName:e.job.name,html:"",onViewEvent:e.config.on_view_event,dismissible:e.config.config?.dismissible??!0,fullscreen:!1,type:"page_nodes",jsonConfig:e.config.jsonConfig,experimentId:e.job.experiment_id,experimentName:e.job.experiment_name,variantId:e.job.variant_id,variantName:e.job.variant_name,showOnce:e.config.config?.show_once??!1}:(jt(Zt.DYNAMO.HTML_MISSING,new Error("No jsonConfig for page_nodes"),{modalId:e.id}),null);let i=null;if(e.config.htmlLink){const o=Xoe(e.config.htmlLink,n);if(o){for(let c=0;c<=1&&(i=await $oe(o),!i);c++)c<1&&(jt(Zt.DYNAMO.HTML_FETCH,new Error("HTML fetch retry"),{modalId:e.id,url:o,attempt:c+1,maxRetries:1}),await new Promise(u=>setTimeout(u,1e3)));if(!i)return jt(Zt.DYNAMO.HTML_FETCH,new Error("HTML fetch failed after retries"),{modalId:e.id,url:o,totalAttempts:2}),null}}if(!i)return jt(Zt.DYNAMO.HTML_MISSING,new Error("No HTML content available"),{modalId:e.id}),null;const a=Zoe(i,e.id,s);return{id:e.id,jobName:e.job.name,html:a,onViewEvent:e.config.on_view_event,dismissible:e.config.config?.dismissible??!0,fullscreen:e.config.config?.show_fullscreen??!1,type:r,bannerPosition:e.config.bannerPosition,jsonConfig:e.config.jsonConfig,experimentId:e.job.experiment_id,experimentName:e.job.experiment_name,variantId:e.job.variant_id,variantName:e.job.variant_name,showOnce:e.config.config?.show_once??!1}}function sle(e,n){const{jobs:s,isLoading:r,isReady:i}=e,{user:a}=os(),{tier:o,credits:l,creditResponse:c,currentSubscriptionDetail:u,loading:p}=xs(),{data:f}=Kr(void 0,{skip:!a}),{currentRoute:m,isMobileWeb:h}=Joe(),{getCurrentWorkspaceData:x}=hs(),[g,v]=d.useState([]),[b,y]=d.useState([]),[w,_]=d.useState(null),[N,j]=d.useState(null),[C,S]=d.useState([]),[F,E]=d.useState(0),[I,T]=d.useState(0),A=d.useRef(new Map),D=d.useRef(null),O=d.useRef(null),M=x(),L=d.useMemo(()=>qoe({userDetails:f,user:a,tier:o,credits:l,creditResponse:c,currentSubscriptionDetail:u,workspaceName:M?.name}),[f,a,o,l,c,u,M?.name]),P=d.useRef(h),B=d.useRef(m),G=d.useRef(L),$=d.useRef(a?.id);P.current=h,B.current=m,G.current=L,$.current=a?.id;const te=d.useCallback(me=>{const{config:ce}=me,ee=ce.config?.targeting;if(!ee)return!0;if(ee.tiers&&ee.tiers.length>0&&!ee.tiers.includes(o)||ee.countries&&ee.countries.length>0&&(!f?.country_code||!ee.countries.includes(f.country_code))||ee.not_allowed_countries&&ee.not_allowed_countries.length>0&&f?.country_code&&ee.not_allowed_countries.includes(f.country_code))return!1;if(ee.start_date||ee.end_date){const J=Date.now();if(ee.start_date){const re=ee.start_date,xe=re.includes("T")&&!(/[Z+-]\d/.test(re)||re.endsWith("Z"))?new Date(re+"Z").getTime():new Date(re).getTime();if(Number.isNaN(xe)||xe>J)return!1}if(ee.end_date){const re=ee.end_date,xe=re.includes("T")?/[Z+-]\d/.test(re)||re.endsWith("Z")?new Date(re).getTime():new Date(re+"Z").getTime():new Date(re+"T23:59:59Z").getTime();if(Number.isNaN(xe)||xe<J)return!1}}return!0},[o,f?.country_code]);d.useEffect(()=>{if(!i||r||p)return;A.current.forEach(xe=>clearTimeout(xe)),A.current.clear(),D.current=null,O.current=null;const me=[],ce=[],ee=[];for(const xe of s){const{job:ae,config:Fe}=xe,se=Fe.config?.show_once??!1;if(ele(ae.id,se,a?.id)||!te(xe)||Fe.route&&!Qoe(Fe.route,m)||!(h?Fe.mobileEnabled:Fe.desktopEnabled))continue;const Re=Fe.type||"modal";if(Re!=="page_nodes"&&ae.experiment_config?.coupon_id){const Ne=ae.target_model?.toUpperCase();let ge=!0;if(Ne==="SUBSCRIPTION"?ge=!!n?.subscriptionCouponCode:Ne==="TOPUP"&&(ge=!!n?.topupCouponCode),!ge)continue}const Se={id:ae.id,job:ae,config:Fe,status:"pending"};Re==="page_nodes"?ee.push(Se):Re==="banner"?ce.push(Se):me.push(Se)}me.sort((xe,ae)=>ae.job.priority-xe.job.priority),ce.sort((xe,ae)=>ae.job.priority-xe.job.priority),v(me),y(ce),E(xe=>xe+1),T(xe=>xe+1);const J=ee.map(xe=>({id:xe.id,jobName:xe.job.name,html:"",onViewEvent:xe.config.on_view_event,dismissible:xe.config.config?.dismissible??!0,fullscreen:!1,type:"page_nodes",jsonConfig:xe.config.jsonConfig,experimentId:xe.job.experiment_id,experimentName:xe.job.experiment_name,variantId:xe.job.variant_id,variantName:xe.job.variant_name,showOnce:xe.config.config?.show_once??!1}));S(J);const re=me.length+ce.length+ee.length;H(hr.MODAL_QUEUED,{queue_length:re,modal_count:me.length,banner_count:ce.length,page_nodes_count:ee.length,job_ids:[...me,...ce,...ee].map(xe=>xe.id),current_route:m})},[s,i,r,p,te,m,h,a?.id,n?.subscriptionCouponCode,n?.topupCouponCode]);const U=d.useMemo(()=>g.find(me=>me.status==="pending"||me.status==="scheduled")??null,[g]),oe=U?.id??null;d.useEffect(()=>{if(!U||w)return;const me=U.id;if(D.current===me&&A.current.has(me)||U.status!=="pending")return;const ce=U,ee=ce.config.delay_to_show*1e3;D.current=me,v(ae=>ae.map(Fe=>Fe.id===ce.id?{...Fe,status:"scheduled",scheduledAt:Date.now()}:Fe)),H(hr.MODAL_SCHEDULED,{modal_id:ce.id,delay_seconds:ce.config.delay_to_show,channel:"modal",experiment_id:ce.job.experiment_id,experiment_name:ce.job.experiment_name,variant_id:ce.job.variant_id,variant_name:ce.job.variant_name});let J=!1;const re=setTimeout(async()=>{const ae=await iE(ce,P.current,G.current);if(!J){if(!ae){v(Fe=>Fe.filter(se=>se.id!==ce.id)),A.current.delete(ce.id),D.current=null;return}if(_(ae),v(Fe=>Fe.map(se=>se.id===ae.id?{...se,status:"showing"}:se)),D.current=null,ce.config.on_view_event){const Fe=G.current;H(ce.config.on_view_event,{modal_id:ae.id,user_email:Fe.email,user_id:Fe.userId,experiment_id:ce.job.experiment_id,experiment_name:ce.job.experiment_name,variant_id:ce.job.variant_id,variant_name:ce.job.variant_name})}H(hr.MODAL_VIEWED,{modal_id:ae.id,modal_name:ce.job.name,channel:"modal",experiment_id:ce.job.experiment_id,experiment_name:ce.job.experiment_name,variant_id:ce.job.variant_id,variant_name:ce.job.variant_name,device_type:P.current?"mobile":"desktop",route:B.current}),A.current.delete(ae.id)}},ee),xe=A.current;return xe.set(ce.id,re),()=>{J=!0,xe.has(ce.id)&&(clearTimeout(xe.get(ce.id)),xe.delete(ce.id)),D.current=null}},[oe,w,F]);const Y=d.useMemo(()=>b.find(me=>me.status==="pending"||me.status==="scheduled")??null,[b]),W=Y?.id??null;d.useEffect(()=>{if(!Y||N)return;const me=Y.id;if(O.current===me&&A.current.has(me)||Y.status!=="pending")return;const ce=Y,ee=ce.config.delay_to_show*1e3;O.current=me,y(ae=>ae.map(Fe=>Fe.id===ce.id?{...Fe,status:"scheduled",scheduledAt:Date.now()}:Fe)),H(hr.MODAL_SCHEDULED,{modal_id:ce.id,delay_seconds:ce.config.delay_to_show,channel:"banner",experiment_id:ce.job.experiment_id,experiment_name:ce.job.experiment_name,variant_id:ce.job.variant_id,variant_name:ce.job.variant_name});let J=!1;const re=setTimeout(async()=>{const ae=await iE(ce,P.current,G.current);if(!J){if(!ae){y(Fe=>Fe.filter(se=>se.id!==ce.id)),A.current.delete(ce.id),O.current=null;return}if(j(ae),y(Fe=>Fe.map(se=>se.id===ae.id?{...se,status:"showing"}:se)),O.current=null,ce.config.on_view_event){const Fe=G.current;H(ce.config.on_view_event,{modal_id:ae.id,user_email:Fe.email,user_id:Fe.userId,experiment_id:ce.job.experiment_id,experiment_name:ce.job.experiment_name,variant_id:ce.job.variant_id,variant_name:ce.job.variant_name})}H(hr.MODAL_VIEWED,{modal_id:ae.id,modal_name:ce.job.name,channel:"banner",experiment_id:ce.job.experiment_id,experiment_name:ce.job.experiment_name,variant_id:ce.job.variant_id,variant_name:ce.job.variant_name,device_type:P.current?"mobile":"desktop",route:B.current}),A.current.delete(ae.id)}},ee),xe=A.current;return xe.set(ce.id,re),()=>{J=!0,xe.has(ce.id)&&(clearTimeout(xe.get(ce.id)),xe.delete(ce.id)),O.current=null}},[W,N,I]);const Z=d.useCallback(()=>{if(!w)return;const me=w.id,ce=w.showOnce??!1;ux(me,ce,$.current),v(ee=>ee.filter(J=>J.id!==me)),_(null),H(hr.MODAL_DISMISSED,{modal_id:me,modal_name:w.jobName,channel:"modal",experiment_id:w.experimentId,experiment_name:w.experimentName,variant_id:w.variantId,variant_name:w.variantName})},[w]),le=d.useCallback(()=>{if(!w)return;const me=w.id,ce=w.showOnce??!1;ux(me,ce,$.current),v(ee=>ee.filter(J=>J.id!==me)),_(null),H(hr.MODAL_CLOSED,{modal_id:me,modal_name:w.jobName,channel:"modal",experiment_id:w.experimentId,experiment_name:w.experimentName,variant_id:w.variantId,variant_name:w.variantName})},[w]),q=d.useCallback(()=>{if(!N)return;const me=N.id,ce=N.showOnce??!1;ux(me,ce,$.current),y(ee=>ee.filter(J=>J.id!==me)),j(null),H(hr.MODAL_DISMISSED,{modal_id:me,modal_name:N.jobName,channel:"banner",experiment_id:N.experimentId,experiment_name:N.experimentName,variant_id:N.variantId,variant_name:N.variantName})},[N]),Q=d.useCallback(()=>{if(!N)return;const me=N.id,ce=N.showOnce??!1;ux(me,ce,$.current),y(ee=>ee.filter(J=>J.id!==me)),j(null),H(hr.MODAL_CLOSED,{modal_id:me,modal_name:N.jobName,channel:"banner",experiment_id:N.experimentId,experiment_name:N.experimentName,variant_id:N.variantId,variant_name:N.variantName})},[N]);d.useEffect(()=>{const me=A.current;return()=>{me.forEach(ce=>clearTimeout(ce)),me.clear()}},[]);const he=d.useMemo(()=>{const me=g.filter(ee=>ee.status==="pending"||ee.status==="scheduled").length,ce=b.filter(ee=>ee.status==="pending"||ee.status==="scheduled").length;return me+ce},[g,b]);return{activeModal:w,activeBanner:N,activePageNodes:C,queueLength:he,isLoading:r||p,dismissModal:Z,closeModal:le,dismissBanner:q,closeBanner:Q}}function rle(e){const n=Number.isFinite(e.amount)?e.amount:0,s=Number.isFinite(e.ecu_credits)?e.ecu_credits:0;return n!==e.amount||e.ecu_credits,{...e,amount:n,ecu_credits:s}}function UO(e){const n=Number.isFinite(e.credits)?e.credits:0,s=Number.isFinite(e.amount)?e.amount:0;return n!==e.credits||e.amount,{...e,credits:n,amount:s}}function aE(e,n){return!n||Object.keys(n).length===0?e:e.map(s=>{const r=n[s.id];return r?{...s,...r.amount!==void 0&&{amount:r.amount},...r.ecu_credits!==void 0&&{ecu_credits:r.ecu_credits},...r.tier_name!==void 0&&{tier_name:r.tier_name},...r.billing_period!==void 0&&{billing_period:r.billing_period},...r.currency!==void 0&&{currency:r.currency}}:s})}function ile(e,n){return!n||Object.keys(n).length===0?e:e.map(s=>{const r=n[String(s.amount)];return r?{...s,...r.price!==void 0&&{price:r.price},...r.discount!==void 0&&{discount:r.discount},...r.badge_text!==void 0&&{badge_text:r.badge_text},...r.highlight!==void 0&&{highlight:r.highlight}}:s})}function ale(e){return e.map((n,s)=>{const r=UO(n);return{amount:r.credits,price:r.amount,discount:r.bonus_credits&&r.original_credits?r.credits-r.original_credits:0,currency:r.currency,selected:s===0}})}function ole(e,n){if(!n.some(i=>i.api_bundle_index!==void 0&&i.api_bundle_index!==null)||e.length===0)return ale(n);const r=e.map(i=>({...i}));for(const i of n){const a=UO(i),o=a.api_bundle_index;o==null||!Number.isInteger(o)||o<0||o>=r.length||(r[o]={amount:a.credits,price:a.amount,discount:a.bonus_credits&&a.original_credits?a.credits-a.original_credits:0,currency:a.currency,selected:e[o]?.selected??!1})}return r}function Ar(e){return e.toLowerCase().replace(/[\s_-]+/g,"")}function oE(e){if(!e||typeof e!="object"||Array.isArray(e))return!1;const n=e;return Array.isArray(n.monthly_plans)||Array.isArray(n.yearly_plans)}function lle(e){const n=Object.values(e);if(n.some(oE))return e;const s={};for(const r of n){if(!r||typeof r!="object")continue;const i=r;for(const[a,o]of Object.entries(i))oE(o)&&(s[a]=o)}return s}function cle(e,n){const r=[...n.monthly_plans||[],...n.yearly_plans||[]].map(i=>i.plan_name).filter(Boolean).map(i=>Ar(i));if(r.length===0)return null;for(const i of e)if(r.includes(Ar(i)))return i;return null}function lE(e,n){if(e.length===0)return n;const s=e[0].tier_name,r=[],i=Math.max(e.length,n.length);for(let a=0;a<i;a++){const o=a<n.length?rle(n[a]):null;o&&a<e.length?r.push({...e[a],...o,tier_name:s}):a<e.length?r.push(e[a]):o&&r.push({...o,tier_name:s})}return r}function dle(e,n){const s=lle(n),r={...e},i=Object.keys(r);for(const a of Object.keys(s)){const o=s[a];let l=r[a]?a:null;if(l||(l=cle(i,o)),!l){r[a]={...o};continue}const c=r[l];r[l]={...c,...o.monthly_plans&&{monthly_plans:lE(c.monthly_plans||[],o.monthly_plans)},...o.yearly_plans&&{yearly_plans:lE(c.yearly_plans||[],o.yearly_plans)}}}return r}function ule(e){if(!e)return null;const n={};for(const[s,r]of Object.entries(e))n[Ar(s)]=r;return n}function ple(e){if(!e)return null;const n={};for(const[s,r]of Object.entries(e))n[Ar(s)]=r;return n}function Db(e,n){if(e){if(e[n])return e[n];for(const[s,r]of Object.entries(e)){const i=Ar(s);if(i&&n.includes(i))return r}}}function cE(e,n){if(e&&typeof e=="object"){const s=e;if(typeof s.error=="string"&&s.error)return s.error;if(typeof s.message=="string"&&s.message)return s.message}return n?`Request failed with status ${n}`:"Something went wrong. Please try again."}function dE(e,n){return e.find(s=>s.job.target_model===n)??null}function uE(e,n){return e.find(s=>s.job.target_model!==n?!1:!!s.config.jsonConfig?.pricing_section)??null}const fle=["topup_bundles"],mle=["plans"];function pE(e,n){let s=null;for(const r of e){const a=r.config.jsonConfig?.pricing_section;if(a)for(const o of n)a[o]!==void 0&&a[o]!==null&&(s||(s={}),s[o]===void 0&&(s[o]=a[o]))}return s}function fE(e){if(!e)return null;const n=e.config.jsonConfig;return n?.pricing_section?n.pricing_section:null}const hle=new Set(["discount_percentage","first_month_price","annual_savings_percentage","bonus_multiplier","bonus_credits","offer_duration_months","default_selected_index","topup_bonus_credits"]),xle=new Set(["discount_percentage","annual_savings_percentage"]),gle=new Set(["first_month_price","bonus_multiplier","bonus_credits","topup_bonus_credits"]);function mE(e,n){if(!n)return{...e};const s={...e};for(const r of Object.keys(n)){let i=n[r];i!==void 0&&(hle.has(r)&&i!==null&&(typeof i!="number"||!Number.isFinite(i))||(typeof i=="number"&&(xle.has(r)?i=Math.min(100,Math.max(0,i)):gle.has(r)&&(i=Math.max(0,i))),s[r]=i))}return s}function ble(e){const{jobs:n,isLoading:s}=e;return d.useMemo(()=>{const r=uE(n,"SUBSCRIPTION"),i=uE(n,"TOPUP"),a=dE(n,"SUBSCRIPTION"),o=dE(n,"TOPUP"),l=fE(r),c=fE(i),u=pE(n,fle),p=pE(n,mle),f=p||l?{...p||{},...l||{}}:null,m=u||c?{...u||{},...c||{}}:null,h=mE(_O,f);return{subscriptionPricing:{...h,...h.tier_features&&{tier_features:ule(h.tier_features)},...h.allowed_plan_variants&&{allowed_plan_variants:ple(h.allowed_plan_variants)}},topupPricing:mE(jO,m),hasSubscriptionConfig:!!f,hasTopupConfig:!!m,subscriptionExperiment:a?{experimentId:a.job.experiment_id,variantId:a.job.variant_id}:null,topupExperiment:o?{experimentId:o.job.experiment_id,variantId:o.job.variant_id}:null,subscriptionCouponId:r?.job.experiment_config?.coupon_id??a?.job.experiment_config?.coupon_id??null,topupCouponId:i?.job.experiment_config?.coupon_id??o?.job.experiment_config?.coupon_id??null,isLoading:s}},[n,s])}const yle=["ultraThinkingModal","e2Agent","oneMillionModal","mcp-introduction","mcp-tools-modal"],vle=["upgrade-tier","default"],hE={ultraThinkingModal:{title:"Ultra Thinking",description:"Get deeper reasoning with 10x more thinking tokens for complex problem-solving and analysis."},e2Agent:{title:"E2 Agent",description:"Access our most advanced AI agent for complex, multi-step tasks."},oneMillionModal:{title:"1M Token Context",description:"Work with extensive codebases and documents using 1 million token context window."},"mcp-introduction":{title:"MCP Servers",description:"Connect external tools and services to enhance your AI capabilities."},"mcp-tools-modal":{title:"MCP Tools",description:"Enable powerful MCP tools to extend your AI assistant."},"upgrade-tier":{title:"Upgrade Plan",description:"Unlock more features and higher limits with a premium plan."},default:{title:"Upgrade Plan",description:"Get access to premium features and more credits."},"buy-credits":{title:"Buy Credits",description:"Purchase additional credits to continue using Emergent."}};function Ro(e){return hE[e]||hE.default}function lu(e,n){if(yle.includes(e))return"proFeature";if(e==="buy-credits"&&n)return"buyCreditFeature";if(vle.includes(e)&&n)return"proFeature"}function Cg(e,n,s){return n&&e===100&&s==="MONTHLY"?20:e}const T2="firstTimeOfferPurchase",A2="firstTimeOfferBillingPeriod";function wle(e,n){typeof window<"u"&&(sessionStorage.removeItem(T2),sessionStorage.removeItem(A2),e&&(sessionStorage.setItem(T2,"true"),n&&sessionStorage.setItem(A2,n)))}function xE(){return typeof window<"u"?sessionStorage.getItem(T2)==="true":!1}function gE(){return typeof window<"u"?sessionStorage.getItem(A2):null}function bE(){typeof window<"u"&&(sessionStorage.removeItem(T2),sessionStorage.removeItem(A2))}const n7="promotionalSetupCheckout";function HO(){typeof window<"u"&&sessionStorage.setItem(n7,"true")}function Cle(){return typeof window<"u"?sessionStorage.getItem(n7)==="true":!1}function yE(){typeof window<"u"&&sessionStorage.removeItem(n7)}const VO=d.createContext(void 0);function _le({children:e}){const[n,s]=d.useState(new Map),r=o=>{s(l=>{const c=new Map(l);return c.set(o.type,o),c}),H("modal_opened",{modalType:o.type,timestamp:new Date().toISOString()})},i=o=>{if(o)s(l=>{const c=new Map(l);return c.delete(o),c}),H("modal_closed",{modalType:o,timestamp:new Date().toISOString()});else{const l=Array.from(n.keys());s(new Map),H("modal_closed_all",{modalTypes:l.join(", "),count:l.length,timestamp:new Date().toISOString()})}},a=(o,l)=>{s(c=>{const u=new Map(c),p=u.get(o);return p&&u.set(o,{...p,...l}),u})};return t.jsx(VO.Provider,{value:{openModal:r,closeModal:i,updateModal:a,activeModals:n},children:e})}function Ms(){const e=d.useContext(VO);if(!e)throw new Error("useModal must be used within a ModalProvider");return e}function Hr(){const{openModal:e,closeModal:n,activeModals:s}=Ms(),r=Sa(),{getCurrentOrganizationId:i,isOrganizationWorkspace:a}=hs(),{personalTier:o,orgTier:l}=xs();return{open:u=>{if(r){const p="personal",f=o,m=f!=="free",h=u.triggerLocation||"upgrade-tier",x=lu(h,m),{title:g,description:v}=Ro(h);zi("TRIGGER_SUBSCRIPTION",{planType:p,organizationId:void 0,triggerLocation:h,currentTier:f,hasActiveSubscription:m,title:g,description:v,...x&&{modalType:x}}),H("upgrade_tier_modal_mobile_redirect",{planType:u.planType,triggerLocation:u.triggerLocation,organizationId:u.organizationId});return}e({type:"upgrade-tier",...u})},close:()=>n("upgrade-tier"),isOpen:s.has("upgrade-tier"),config:s.get("upgrade-tier")}}function jle(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:r=>e({type:"create-workspace",...r}),close:()=>n("create-workspace"),isOpen:s.has("create-workspace"),config:s.get("create-workspace")}}function ku(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"account-settings",...r}),close:()=>n("account-settings"),isOpen:s.has("account-settings"),config:s.get("account-settings")}}function $O(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:()=>e({type:"account-settings",initialTab:"universal-key"}),close:()=>n("account-settings"),isOpen:s.has("account-settings"),config:s.get("account-settings")}}function r0(){const{openModal:e,closeModal:n,activeModals:s}=Ms(),r=Sa(),{getCurrentOrganizationId:i,isOrganizationWorkspace:a}=hs(),{personalTier:o,orgTier:l}=xs();return{open:(u={})=>{if(r){const p="personal",f=o,m=f!=="free",{title:h,description:x}=Ro("buy-credits");if(m)zi("TRIGGER_BUY_CREDIT",{planType:p,organizationId:void 0,triggerLocation:"buy-credits",currentTier:f,hasActiveSubscription:m,title:h,description:x});else{const g=lu("buy-credits",m);zi("TRIGGER_SUBSCRIPTION",{planType:p,organizationId:void 0,triggerLocation:"buy-credits",currentTier:f,hasActiveSubscription:m,title:h,description:x,...g&&{modalType:g}})}H("buy_credits_modal_mobile_redirect",{location:u.location});return}e({type:"buy-credits",...u})},close:()=>n("buy-credits"),isOpen:s.has("buy-credits"),config:s.get("buy-credits")}}function zO(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"team-workspace",...r}),close:()=>n("team-workspace"),isOpen:s.has("team-workspace"),config:s.get("team-workspace")}}function Nle(){const e=zO();return{open:n=>{let s={organizationId:n.organizationId,organizationName:n.organizationName,mode:n.mode||"invite",backendEnabled:n.backendEnabled||!1};e.open(s)},close:()=>e.close(),isOpen:e.isOpen&&e.config?.mode==="invite",config:e.config}}function Fle(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:r=>e({type:"pending-invitation",...r}),close:()=>n("pending-invitation"),isOpen:s.has("pending-invitation"),config:s.get("pending-invitation")}}function Ele(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"one-million",...r}),close:()=>n("one-million"),isOpen:s.has("one-million"),config:s.get("one-million")}}function WO(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"referral",...r}),close:()=>n("referral"),isOpen:s.has("referral"),config:s.get("referral")}}function Sle(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:r=>e({type:"job-id",...r}),close:()=>n("job-id"),isOpen:s.has("job-id"),config:s.get("job-id")}}function GO(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:r=>e({type:"data-details",...r}),close:()=>n("data-details"),isOpen:s.has("data-details"),config:s.get("data-details")}}function kle(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"standard-discount",...r}),close:()=>n("standard-discount"),isOpen:s.has("standard-discount"),config:s.get("standard-discount")}}function qO(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"new-mcp-server",...r}),close:()=>n("new-mcp-server"),isOpen:s.has("new-mcp-server"),config:s.get("new-mcp-server")}}function KO(){const{openModal:e,closeModal:n,updateModal:s,activeModals:r}=Ms();return{open:(i={})=>e({type:"mcp-tools",...i}),close:()=>n("mcp-tools"),update:i=>s("mcp-tools",i),isOpen:r.has("mcp-tools"),config:r.get("mcp-tools")}}function s7(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"add-member",...r}),close:()=>n("add-member"),isOpen:s.has("add-member"),config:s.get("add-member")}}function Ile(){const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"mcp-introduction",...r}),close:()=>n("mcp-introduction"),isOpen:s.has("mcp-introduction"),config:s.get("mcp-introduction")}}const Tle=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"daily-credit",...r}),close:()=>n("daily-credit"),isOpen:s.has("daily-credit"),config:s.get("daily-credit")}},Ale=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:r=>e({type:"share-preview",...r}),close:()=>n("share-preview"),isOpen:s.has("share-preview"),config:s.get("share-preview")}},Dle=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"funding-introduction",...r}),close:()=>n("funding-introduction"),isOpen:s.has("funding-introduction"),config:s.get("funding-introduction")}},Mle=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"pro",...r}),close:()=>n("pro"),isOpen:s.has("pro"),config:s.get("pro")}},Rle=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"visual-edits-introduction",...r}),close:()=>n("visual-edits-introduction"),isOpen:s.has("visual-edits-introduction"),config:s.get("visual-edits-introduction")}},Lle=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"beta-thank-you",...r}),close:()=>n("beta-thank-you"),isOpen:s.has("beta-thank-you"),config:s.get("beta-thank-you")}},Ple=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"opus-introduction",...r}),close:()=>n("opus-introduction"),isOpen:s.has("opus-introduction"),config:s.get("opus-introduction")}},Ole=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"opus46-introduction",...r}),close:()=>n("opus46-introduction"),isOpen:s.has("opus46-introduction"),config:s.get("opus46-introduction")}},YO=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:r=>e({type:"pix",...r}),close:()=>n("pix"),isOpen:s.has("pix"),config:s.get("pix")}},ZO=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:r=>e({type:"promotional",...r}),close:()=>n("promotional"),isOpen:s.has("promotional"),config:s.get("promotional")}},JO=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"free-credits",...r}),close:()=>n("free-credits"),isOpen:s.has("free-credits"),config:s.get("free-credits")}},Ble=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"valentine-credits",...r}),close:()=>n("valentine-credits"),isOpen:s.has("valentine-credits"),config:s.get("valentine-credits")}},XO=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"deployment-success",...r}),close:()=>n("deployment-success"),isOpen:s.has("deployment-success"),config:s.get("deployment-success")}},Ule=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:r=>e({type:"dns-details",...r}),close:()=>n("dns-details"),isOpen:s.has("dns-details"),config:s.get("dns-details")}},QO=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"one-dollar",...r}),close:()=>n("one-dollar"),isOpen:s.has("one-dollar"),config:s.get("one-dollar")}},eB=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"gifting",...r}),close:()=>n("gifting"),isOpen:s.has("gifting"),config:s.get("gifting")}},tB=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"gff",...r}),close:()=>n("gff"),isOpen:s.has("gff"),config:s.get("gff")}},nB=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"pagbrasil",...r}),close:()=>n("pagbrasil"),isOpen:s.has("pagbrasil"),config:s.get("pagbrasil")}},sB=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"gffin",...r}),close:()=>n("gffin"),isOpen:s.has("gffin"),config:s.get("gffin")}},Hle=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"repository-selector",...r}),close:()=>n("repository-selector"),isOpen:s.has("repository-selector"),config:s.get("repository-selector")}},Vle=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ms();return{open:(r={})=>e({type:"free-standard-plan",...r}),close:()=>n("free-standard-plan"),isOpen:s.has("free-standard-plan"),config:s.get("free-standard-plan")}};function $le(e){try{if(e.startsWith("/")&&!e.startsWith("//"))return!0;const n=new URL(e);return n.protocol==="http:"||n.protocol==="https:"}catch{return!1}}function zle(){const e=new Set,n="https://api.emergent.sh";try{e.add(new URL(n).origin)}catch{}const s=rB();return s&&e.add(s),e}function vE(e){try{if(e.startsWith("/")&&!e.startsWith("//"))return!0;const n=new URL(e);return n.protocol!=="https:"?!1:zle().has(n.origin)}catch{return!1}}function rB(){return"https://preview.static.emergentagent.com"}function D2(e,n){if(e==="null"&&!n)return!0;const s=rB();if(s&&e===s)return!0;if(n)try{if(e===new URL(n).origin)return!0}catch{}return!1}const Wle=50,Gle=1e4;function qle(e){const n={};let s=0;for(const[r,i]of Object.entries(e)){if(s>=Wle)break;r.trim()&&typeof i=="string"&&(n[r.trim()]=i.trim().slice(0,Gle),s++)}return n}const r7=d.createContext(null),iB={activeModal:null,activeBanner:null,activePageNodes:[],queueLength:0,isLoading:!1,dismissModal:()=>{},closeModal:()=>{},dismissBanner:()=>{},closeBanner:()=>{},subscriptionPricing:_O,topupPricing:jO,hasSubscriptionConfig:!1,hasTopupConfig:!1,subscriptionCouponCode:null,topupCouponCode:null,litmusConfig:null,subscriptionLitmusConfig:null,topupLitmusConfig:null,refetchConfig:()=>{}};function Kle({children:e}){const n=d.useRef(MF()).current,[s,r]=d.useState(n);return d.useEffect(()=>{if(s)return;let i=!0;return Mf(()=>{if(!i)return;MF()&&r(!0)}),()=>{i=!1}},[]),s?t.jsx(Yle,{children:e}):t.jsx(r7.Provider,{value:iB,children:e})}function Yle({children:e}){const n=Ea(),s=zoe(),{subscriptionPricing:r,topupPricing:i,hasSubscriptionConfig:a,hasTopupConfig:o,subscriptionCouponId:l,topupCouponId:c,subscriptionExperiment:u,topupExperiment:p}=ble(s),{subscriptionCouponCode:f,topupCouponCode:m}=pae({subscriptionCouponId:l,topupCouponId:c}),{activeModal:h,activeBanner:x,activePageNodes:g,queueLength:v,isLoading:b,dismissModal:y,closeModal:w,dismissBanner:_,closeBanner:N}=sle(s,{subscriptionCouponCode:f,topupCouponCode:m}),j=d.useMemo(()=>{const J=s.jobs[0];return J?.job.experiment_id?{experiment_id:J.job.experiment_id,variant_id:J.job.variant_id??""}:null},[s.jobs]),C=d.useMemo(()=>u?.experimentId?{experiment_id:u.experimentId,variant_id:u.variantId??""}:null,[u]),S=d.useMemo(()=>p?.experimentId?{experiment_id:p.experimentId,variant_id:p.variantId??""}:null,[p]),{openModal:F}=Ms(),{session:E}=os(),I=d.useRef(h);I.current=h;const T=d.useRef(x);T.current=x;const A=d.useRef(E?.access_token);A.current=E?.access_token;const D=d.useRef(new Set);d.useEffect(()=>{const J=D.current;return()=>{J.forEach(re=>re.abort()),J.clear()}},[]);const O=d.useCallback(J=>I.current?.id===J?I.current:T.current?.id===J?T.current:null,[]),M=d.useCallback(J=>{I.current?.id===J?w():T.current?.id===J&&N()},[w,N]),L=d.useCallback(J=>{I.current?.id===J?y():T.current?.id===J&&_()},[y,_]),P=d.useCallback(J=>{const re=J?O(J):I.current??T.current;return{experiment_id:re?.experimentId,experiment_name:re?.experimentName,variant_id:re?.variantId,variant_name:re?.variantName}},[O]),B=d.useCallback((J,re,xe)=>{const ae=document.querySelector(`iframe[data-dynamo-id="${CSS.escape(J)}"]`);if(!ae?.contentWindow)return;const Fe={source:"dynamo-host",modalId:J,type:"button-state",buttonAction:re,state:xe},se=O(J);let _e="*";if(se?.srcUrl)try{_e=new URL(se.srcUrl).origin}catch{}ae.contentWindow.postMessage(Fe,_e)},[O]),G=d.useCallback(async(J,re,xe)=>{if(!vE(J))return;const ae=qle(re),Fe=ra.SUBMIT_FORM;B(xe,Fe,"loading");const se=new AbortController;D.current.add(se);let _e=!1;const Re=setTimeout(()=>{_e=!0,se.abort()},ni.LOAD_TIMEOUT_MS);try{const Se=A.current,Ne=await fetch(J,{method:"POST",headers:{"Content-Type":"application/json",...Se&&{Authorization:`Bearer ${Se}`}},body:JSON.stringify(ae),signal:se.signal});clearTimeout(Re);const ge=await Ne.json().catch(()=>null);if(!Ne.ok)throw new Error(cE(ge,Ne.status));H(hr.FORM_SUBMIT_SUCCESS,{modal_id:xe,href:J,...P(xe)}),B(xe,Fe,"success"),M(xe),ge?.message&&Ds({title:"Success",description:ge.message})}catch(Se){clearTimeout(Re);const Ne=_e&&Se instanceof Error&&Se.name==="AbortError",ge=Ne?"Request timed out. Please try again.":void 0;if(se.signal.aborted&&!_e)return;try{jt(Zt.DYNAMO.FORM_SUBMIT,Se,{modalId:xe,href:J})}catch{}H(hr.FORM_SUBMIT_ERROR,{modal_id:xe,href:J,error:Ne?"timeout":Se instanceof Error?Se.message:String(Se),...P(xe)}),B(xe,Fe,"error");const Ce=ge||(Se instanceof Error?Se.message:"Something went wrong. Please try again.");Ds({title:"Error",description:Ce,variant:"destructive"})}finally{D.current.delete(se)}},[M,P,B]),$=d.useCallback((J,re)=>{!J.startsWith("/")||J.startsWith("//")||/^https?:/i.test(J)||(H(hr.ACTION_NAVIGATE,{modal_id:re,href:J,...P(re)}),M(re),n(J))},[n,M,P]),te=d.useCallback((J,re)=>{$le(J)&&(H(hr.ACTION_NAVIGATE_EXT,{modal_id:re,href:J,...P(re)}),window.open(J,"_blank","noopener,noreferrer"))},[P]),U=d.useCallback(J=>{H(hr.ACTION_CLOSE,{modal_id:J,...P(J)}),L(J)},[L,P]),oe=d.useCallback(J=>{H(hr.ACTION_OPEN_PRICING,{modal_id:J,...P(J)}),M(J),F({type:"upgrade-tier"})},[M,F,P]),Y=d.useCallback(J=>{H(hr.ACTION_NEW_CHAT,{modal_id:J,...P(J)}),M(J),n("/home")},[n,M,P]),W=d.useCallback(J=>{H(hr.ACTION_OPEN_ACCOUNTS,{modal_id:J,...P(J)}),M(J),F({type:"account-settings",initialTab:"account"})},[M,F,P]),Z=d.useCallback(J=>{H(hr.ACTION_OPEN_REFERRAL,{modal_id:J,...P(J)}),M(J),F({type:"referral"})},[M,F,P]),le=d.useCallback(J=>{H(hr.ACTION_OPEN_CREATE_PROJECT,{modal_id:J,...P(J)}),M(J),F({type:"create-workspace"})},[M,F,P]),q=d.useCallback(async(J,re)=>{if(!vE(J))return;const xe=P(re),ae=ra.CALL_API;B(re,ae,"loading");const Fe=new AbortController;D.current.add(Fe);let se=!1;const _e=setTimeout(()=>{se=!0,Fe.abort()},ni.LOAD_TIMEOUT_MS);try{const Re=A.current,Se=await fetch(J,{method:"POST",headers:{"Content-Type":"application/json",...Re&&{Authorization:`Bearer ${Re}`}},body:JSON.stringify({experiment_id:xe.experiment_id,variant_id:xe.variant_id}),signal:Fe.signal});clearTimeout(_e);const Ne=await Se.json().catch(()=>null);if(!Se.ok)throw new Error(cE(Ne,Se.status));H(hr.CALL_API_SUCCESS,{modal_id:re,href:J,...xe}),B(re,ae,"success"),M(re),Ne?.message&&Ds({title:"Success",description:Ne.message})}catch(Re){clearTimeout(_e);const Se=se&&Re instanceof Error&&Re.name==="AbortError",Ne=Se?"Request timed out. Please try again.":void 0;if(Fe.signal.aborted&&!se)return;try{jt(Zt.DYNAMO.CALL_API,Re,{modalId:re,href:J})}catch{}H(hr.CALL_API_ERROR,{modal_id:re,href:J,error:Se?"timeout":Re instanceof Error?Re.message:String(Re),...xe}),B(re,ae,"error");const ge=Ne||(Re instanceof Error?Re.message:"Something went wrong. Please try again.");Ds({title:"Error",description:ge,variant:"destructive"})}finally{D.current.delete(Fe)}},[M,P,B]),Q=d.useRef(E),he=d.useRef(),me=d.useRef(y);me.current=y;const ce=d.useRef(_);ce.current=_,d.useEffect(()=>{const J=!!Q.current?.access_token,re=!!E?.access_token;return Q.current=E,J&&!re?he.current=setTimeout(()=>{I.current&&me.current(),T.current&&ce.current()},500):re&&he.current&&(clearTimeout(he.current),he.current=void 0),()=>{he.current&&clearTimeout(he.current)}},[E]),d.useEffect(()=>{const J=re=>{if(!t7(re.data)||!I.current&&!T.current||!D2(re.origin,I.current?.srcUrl)&&!D2(re.origin,T.current?.srcUrl))return;const xe=re.data;if(xe.type!=="resize"){if(xe.type==="track-event"&&xe.eventName){if(!xe.eventName.startsWith("dynamo_"))return;H(xe.eventName,{modal_id:xe.modalId,...P(xe.modalId)});return}if(xe.type==="action"&&xe.action){const{action:ae,modalId:Fe}=xe;switch(ae.type){case ra.NAVIGATE:case ra.NAVIGATE_INTERNAL:ae.href&&$(ae.href,Fe);break;case ra.NAVIGATE_EXT:case ra.NAVIGATE_EXTERNAL:ae.href&&te(ae.href,Fe);break;case ra.SUBMIT_FORM:ae.href&&ae.formData&&G(ae.href,ae.formData,Fe);break;case ra.CLOSE:case ra.CLOSE_MODAL:case ra.CLOSE_BANNER:U(Fe);break;case ra.OPEN_PRICING:oe(Fe);break;case ra.NEW_CHAT:Y(Fe);break;case ra.OPEN_ACCOUNTS:W(Fe);break;case ra.OPEN_REFERRAL:Z(Fe);break;case ra.OPEN_CREATE_PROJECT:le(Fe);break;case ra.CALL_API:ae.href&&q(ae.href,Fe);break}}}};return window.addEventListener("message",J),()=>{window.removeEventListener("message",J)}},[$,te,G,U,oe,Y,W,Z,le,q,P]);const ee=d.useMemo(()=>({activeModal:h,activeBanner:x,activePageNodes:g,queueLength:v,isLoading:b,dismissModal:y,closeModal:w,dismissBanner:_,closeBanner:N,subscriptionPricing:r,topupPricing:i,hasSubscriptionConfig:a,hasTopupConfig:o,subscriptionCouponCode:f,topupCouponCode:m,litmusConfig:j,subscriptionLitmusConfig:C,topupLitmusConfig:S,refetchConfig:s.refetch}),[h,x,g,v,b,y,w,_,N,r,i,a,o,f,m,j,C,S,s.refetch]);return t.jsx(r7.Provider,{value:ee,children:e})}function Y5(){return d.useContext(r7)??iB}function aB(e){var n,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(s=aB(e[n]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function oB(){for(var e,n,s=0,r="",i=arguments.length;s<i;s++)(e=arguments[s])&&(n=aB(e))&&(r&&(r+=" "),r+=n);return r}const i7="-",Zle=e=>{const n=Xle(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(i7);return l[0]===""&&l.length!==1&&l.shift(),lB(l,n)||Jle(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},lB=(e,n)=>{if(e.length===0)return n.classGroupId;const s=e[0],r=n.nextPart.get(s),i=r?lB(e.slice(1),r):void 0;if(i)return i;if(n.validators.length===0)return;const a=e.join(i7);return n.validators.find(({validator:o})=>o(a))?.classGroupId},wE=/^\[(.+)\]$/,Jle=e=>{if(wE.test(e)){const n=wE.exec(e)[1],s=n?.substring(0,n.indexOf(":"));if(s)return"arbitrary.."+s}},Xle=e=>{const{theme:n,prefix:s}=e,r={nextPart:new Map,validators:[]};return ece(Object.entries(e.classGroups),s).forEach(([a,o])=>{vw(o,r,a,n)}),r},vw=(e,n,s,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?n:CE(n,i);a.classGroupId=s;return}if(typeof i=="function"){if(Qle(i)){vw(i(r),n,s,r);return}n.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{vw(o,CE(n,a),s,r)})})},CE=(e,n)=>{let s=e;return n.split(i7).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},Qle=e=>e.isThemeGetter,ece=(e,n)=>n?e.map(([s,r])=>{const i=r.map(a=>typeof a=="string"?n+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[n+o,l])):a);return[s,i]}):e,tce=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,s=new Map,r=new Map;const i=(a,o)=>{s.set(a,o),n++,n>e&&(n=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},cB="!",nce=e=>{const{separator:n,experimentalParseClassName:s}=e,r=n.length===1,i=n[0],a=n.length,o=l=>{const c=[];let u=0,p=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===i&&(r||l.slice(v,v+a)===n)){c.push(l.slice(p,v)),p=v+a;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const m=c.length===0?l:l.substring(p),h=m.startsWith(cB),x=h?m.substring(1):m,g=f&&f>p?f-p:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:g}};return s?l=>s({className:l,parseClassName:o}):o},sce=e=>{if(e.length<=1)return e;const n=[];let s=[];return e.forEach(r=>{r[0]==="["?(n.push(...s.sort(),r),s=[]):s.push(r)}),n.push(...s.sort()),n},rce=e=>({cache:tce(e.cacheSize),parseClassName:nce(e),...Zle(e)}),ice=/\s+/,ace=(e,n)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i}=n,a=[],o=e.trim().split(ice);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:p,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=s(u);let x=!!h,g=r(x?m.substring(0,h):m);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=sce(p).join(":"),b=f?v+cB:v,y=b+g;if(a.includes(y))continue;a.push(y);const w=i(g,x);for(let _=0;_<w.length;++_){const N=w[_];a.push(b+N)}l=u+(l.length>0?" "+l:l)}return l};function oce(){let e=0,n,s,r="";for(;e<arguments.length;)(n=arguments[e++])&&(s=dB(n))&&(r&&(r+=" "),r+=s);return r}const dB=e=>{if(typeof e=="string")return e;let n,s="";for(let r=0;r<e.length;r++)e[r]&&(n=dB(e[r]))&&(s&&(s+=" "),s+=n);return s};function lce(e,...n){let s,r,i,a=o;function o(c){const u=n.reduce((p,f)=>f(p),e());return s=rce(u),r=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const p=ace(c,s);return i(c,p),p}return function(){return a(oce.apply(null,arguments))}}const Pr=e=>{const n=s=>s[e]||[];return n.isThemeGetter=!0,n},uB=/^\[(?:([a-z-]+):)?(.+)\]$/i,cce=/^\d+\/\d+$/,dce=new Set(["px","full","screen"]),uce=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fce=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mce=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hce=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tl=e=>Hp(e)||dce.has(e)||cce.test(e),bc=e=>Rf(e,"length",_ce),Hp=e=>!!e&&!Number.isNaN(Number(e)),Mb=e=>Rf(e,"number",Hp),Dm=e=>!!e&&Number.isInteger(Number(e)),xce=e=>e.endsWith("%")&&Hp(e.slice(0,-1)),Rs=e=>uB.test(e),yc=e=>uce.test(e),gce=new Set(["length","size","percentage"]),bce=e=>Rf(e,gce,pB),yce=e=>Rf(e,"position",pB),vce=new Set(["image","url"]),wce=e=>Rf(e,vce,Nce),Cce=e=>Rf(e,"",jce),Mm=()=>!0,Rf=(e,n,s)=>{const r=uB.exec(e);return r?r[1]?typeof n=="string"?r[1]===n:n.has(r[1]):s(r[2]):!1},_ce=e=>pce.test(e)&&!fce.test(e),pB=()=>!1,jce=e=>mce.test(e),Nce=e=>hce.test(e),Fce=()=>{const e=Pr("colors"),n=Pr("spacing"),s=Pr("blur"),r=Pr("brightness"),i=Pr("borderColor"),a=Pr("borderRadius"),o=Pr("borderSpacing"),l=Pr("borderWidth"),c=Pr("contrast"),u=Pr("grayscale"),p=Pr("hueRotate"),f=Pr("invert"),m=Pr("gap"),h=Pr("gradientColorStops"),x=Pr("gradientColorStopPositions"),g=Pr("inset"),v=Pr("margin"),b=Pr("opacity"),y=Pr("padding"),w=Pr("saturate"),_=Pr("scale"),N=Pr("sepia"),j=Pr("skew"),C=Pr("space"),S=Pr("translate"),F=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Rs,n],T=()=>[Rs,n],A=()=>["",Tl,bc],D=()=>["auto",Hp,Rs],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Rs],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Hp,Rs];return{cacheSize:500,separator:":",theme:{colors:[Mm],spacing:[Tl,bc],blur:["none","",yc,Rs],brightness:$(),borderColor:[e],borderRadius:["none","","full",yc,Rs],borderSpacing:T(),borderWidth:A(),contrast:$(),grayscale:B(),hueRotate:$(),invert:B(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[xce,bc],inset:I(),margin:I(),opacity:$(),padding:T(),saturate:$(),scale:$(),sepia:B(),skew:$(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Rs]}],container:["container"],columns:[{columns:[yc]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),Rs]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dm,Rs]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rs]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Dm,Rs]}],"grid-cols":[{"grid-cols":[Mm]}],"col-start-end":[{col:["auto",{span:["full",Dm,Rs]},Rs]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Mm]}],"row-start-end":[{row:["auto",{span:[Dm,Rs]},Rs]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rs]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rs]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rs,n]}],"min-w":[{"min-w":[Rs,n,"min","max","fit"]}],"max-w":[{"max-w":[Rs,n,"none","full","min","max","fit","prose",{screen:[yc]},yc]}],h:[{h:[Rs,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rs,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rs,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rs,n,"auto","min","max","fit"]}],"font-size":[{text:["base",yc,bc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mb]}],"font-family":[{font:[Mm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rs]}],"line-clamp":[{"line-clamp":["none",Hp,Mb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tl,Rs]}],"list-image":[{"list-image":["none",Rs]}],"list-style-type":[{list:["none","disc","decimal",Rs]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tl,bc]}],"underline-offset":[{"underline-offset":["auto",Tl,Rs]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rs]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rs]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),yce]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bce]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wce]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Tl,Rs]}],"outline-w":[{outline:[Tl,bc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Tl,bc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",yc,Cce]}],"shadow-color":[{shadow:[Mm]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",yc,Rs]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rs]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Rs]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rs]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Dm,Rs]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rs]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rs]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rs]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Tl,bc,Mb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ece=lce(Fce);function k(...e){return Ece(oB(e))}const as=S5,fB=d.forwardRef(({className:e,...n},s)=>t.jsx(z8,{ref:s,className:k("focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n}));fB.displayName=z8.displayName;const Cr=Yh,Yl=d.forwardRef(({className:e,...n},s)=>t.jsx(F5,{ref:s,className:k("focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n}));Yl.displayName=F5.displayName;const Z5=d.forwardRef(({className:e,...n},s)=>t.jsx(Ff,{ref:s,className:k("fixed inset-0 z-[60] bg-[#0e0e0f50] backdrop-blur-[5px] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n}));Z5.displayName=Ff.displayName;const Er=d.forwardRef(({className:e,children:n,...s},r)=>{const i=d.useRef(!0);return d.useEffect(()=>{i.current=!0;const a=setTimeout(()=>{i.current=!1},300);return()=>clearTimeout(a)},[]),t.jsxs(Cr,{children:[t.jsx(Z5,{}),t.jsx(Ef,{ref:r,className:k("fixed left-[50%] top-[50%] z-[60] grid w-full translate-x-[-50%] translate-y-[-50%] gap-0 bg-[#0E0E0F] border border-[#242424] rounded-[16px] shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] overflow-hidden focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),onOpenAutoFocus:a=>{a.preventDefault()},onInteractOutside:a=>{const o=a.target;o&&o.closest&&o.closest("[data-radix-dialog-content]")&&a.preventDefault()},onClick:a=>{a.stopPropagation()},...s,children:n})]})});Er.displayName=Ef.displayName;const lc=({className:e,...n})=>t.jsx("div",{className:k("flex flex-col space-y-1.5 text-center sm:text-left bg-[#111112] border-b border-[#242424] p-6 focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n});lc.displayName="DialogHeader";const ad=({className:e,...n})=>t.jsx("div",{className:k("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 bg-[#111112] border-t border-[#242424] p-6 focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n});ad.displayName="DialogFooter";const Lo=d.forwardRef(({className:e,...n},s)=>t.jsx(E5,{ref:s,className:k("text-[24px] font-[500] leading-[32px] text-[#DDDDE6] focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n}));Lo.displayName=E5.displayName;const xh=d.forwardRef(({className:e,...n},s)=>t.jsx(W8,{ref:s,className:k("text-[15px] font-[500] leading-[24px] text-[#737780] font-['Inter'] focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n}));xh.displayName=W8.displayName;const mB={container:"home-container",welcomeText:"welcome-text"},Vs={screen:"chat-screen",virtuosoList:"virtuoso-item-list",scrollToBottom:"scroll-to-bottom-button",message:{agentPrefix:"agent-message",userPrefix:"user-message",memberPrefix:"member-message",agent:e=>`agent-message-${e}`,user:e=>`user-message-${e}`,member:e=>`member-message-${e}`,typingIndicator:"chat-message-typing-indicator"},input:{container:"chat-input",submitButton:"chat-input-submit",attachButton:"chat-input-attach-button",githubButton:"chat-input-github-button",forkButton:"chat-input-fork-button",ultraButton:"chat-input-ultra-button"},mainTask:{input:"main-task-input",submit:"main-task-submit",placeholder:"placeholder-text",attachButton:"attach-button",advancedControlsButton:"advanced-controls-button",agentSelector:"agent-selector",agentSelectorText:"agent-selector-text",privacyDropdown:"privacy-selector-dropdown",privacyButton:"privacy-selector-button",privacyPublic:"privacy-option-public",privacyPrivate:"privacy-option-private",attachmentChip:"attachment-chip",removeAttachmentButton:"remove-attachment-button",advancedControlsPanel:"advanced-controls-panel",advancedControlsClose:"advanced-controls-close",mcpToolsSelector:"mcp-tools-selector",budgetDecrement:"budget-decrement",budgetInput:"budget-input",budgetIncrement:"budget-increment"}},Rm={infoButton:"chat-header-info-button",codeButton:"chat-header-code-button",previewButton:"chat-header-preview-button",deployButton:"chat-header-deploy-button",publishButton:"chat-header-publish-button"},Fd={avatarButton:"menubar-avatar-button",accountSettingsButton:"menubar-account-settings-button",languageButton:"menubar-language-button",helpCenterButton:"menubar-help-center-button",discordButton:"menubar-discord-button",logoutButton:"menubar-logout-button"},gs={info:{container:"info-panel-container",closeButton:"info-panel-close-button",runDetails:"info-panel-run-details",model:"info-panel-model",jobId:"info-panel-job-id",vscodeUrl:"info-panel-vscode-url",vscodePassword:"info-panel-vscode-password",creditsSpent:"info-panel-credits-spent",machineType:"info-panel-machine-type"},preview:{container:"preview-panel-container",refreshButton:"preview-panel-refresh-button",openNewTabButton:"preview-panel-open-new-tab-button",closeButton:"preview-panel-close-button",shareButton:"preview-panel-share-button"},deploy:{container:"deploy-panel-container",headerContainer:"deploy-panel-header-container",backButton:"deploy-panel-back-button",startButton:"deploy-panel-start-button",healthCheckButton:"health-check-button",bundleIdInput:"deploy-bundle-id-input",bundleIdEditButton:"deploy-bundle-id-edit-button",bundleIdConfirmModal:"deploy-bundle-id-confirm-modal",bundleIdConfirmButton:"deploy-bundle-id-confirm-button",bundleIdCancelButton:"deploy-bundle-id-cancel-button",continueButton:"deploy-continue-button"},subagent:{container:"subagent-panel-container"},showcase:{infoToggleButton:"showcase-info-toggle-button",viewportButtons:"showcase-viewport-buttons",viewportDesktop:"showcase-viewport-desktop",viewportTablet:"showcase-viewport-tablet",viewportMobile:"showcase-viewport-mobile",openNewTabButton:"showcase-open-new-tab-button",refreshButton:"showcase-refresh-button",section:"showcase-section",categoryChips:"showcase-category-chips",chip:e=>`showcase-chip-${e}`,cardsGrid:"showcase-cards-grid",card:"showcase-card",cardImage:"showcase-card-image",cardPreviewButton:"showcase-card-preview-button",cardRemixButton:"showcase-card-remix-button",cardTitle:"showcase-card-title",cardCategory:"showcase-card-category"}},er={vscode:{container:"vscode-modal-container",linkInput:"vscode-modal-link-input",passwordInput:"vscode-modal-password-input"},diff:{container:"diff-modal-container"},accountSettings:{modal:"account-settings-modal",closeButton:"account-settings-close-button"},upgradeTier:{modal:"upgrade-tier-modal"},referral:{modal:"referral-modal",closeButton:"referral-modal-close-button",copyButton:"referral-copy-button",tosButton:"referral-tos-button",tosBackButton:"referral-tos-back-button",giftIconButton:"referral-gift-icon-button"},rename:{modal:"rename-modal",input:"rename-input",cancelButton:"rename-cancel-button",saveButton:"rename-save-button"},confirmation:{modal:"confirmation-modal",cancelButton:"cancel-button",confirmButton:"confirm-button"},mcp:{toolsModal:"mcp-tools-modal",modalClose:"mcp-modal-close",newServerButton:"mcp-new-server-button",newModal:"new-mcp-modal",newClose:"new-mcp-close",nameInput:"mcp-name-input",jsonConfig:"mcp-json-config",saveButton:"mcp-save-button"},uploadAssets:{modal:"upload-assets-modal",saveButton:"upload-assets-save-button",fileItem:e=>`uploaded-file-item-${e}`,removeFileButton:e=>`remove-file-button-${e}`},imagePreview:{modal:"image-preview-modal",download:"image-preview-download",close:"image-preview-close"},share:{modal:"share-modal",closeButton:"share-modal-close-button",copyLinkButton:"share-modal-copy-link-button"},rollback:{closeButton:"rollback-modal-close-button"},threeDotMenu:"three-dot-menu",unlockStandardPlan:{modal:"unlock-standard-plan-modal",closeButton:"unlock-standard-plan-close-button",ctaButton:"unlock-standard-plan-cta-button",leftPanel:"unlock-standard-plan-left-panel",rightPanel:"unlock-standard-plan-right-panel",featureList:"unlock-standard-plan-feature-list",timeline:"unlock-standard-plan-timeline"},dynamo:{modalOverlay:"dynamo-modal-overlay",modalContainer:"dynamo-modal-container",iframe:"dynamo-modal-iframe",bannerContainer:"dynamo-banner-container",bannerIframe:"dynamo-banner-iframe",loadingSpinner:"dynamo-loading-spinner"}},lo={recentTasksTab:"recent-tasks-tab",deployedAppsTab:"deployed-apps-tab",reloadButton:"recent-tasks-reload-button",list:"recent-tasks-list",count:"recent-tasks-count",paginationPrev:"pagination-prev",paginationNext:"pagination-next",paginationLoadMore:"pagination-load-more",perPageSelect:"tasks-per-page-select",taskRow:e=>`task-row-${e}`,taskOptionsButton:e=>`task-options-button-${e}`,deployedAppsEmptyState:"deployed-apps-empty-state",deployedAppCard:e=>`deployed-app-card-${e}`},Wr={status:"agent-status",avatar:"agent-avatar",messageContent:"message-content",messageCopyButton:"message-copy-button",sleep:{notification:"agent-sleep-notification",message:"agent-sleep-message",wakeUpButton:"wake-up-agent-button",upgradeButton:"wake-up-agent-upgrade-button",downloadCodeButton:"download-code-button"},phishingBlocked:{notification:"phishing-blocked-notification",message:"phishing-blocked-message",contactSupportButton:"contact-support-button"},action:{display:"action-display",displayChevron:"action-display-chevron",displayContent:"action-display-content"}},Nr={suggestionChip:"suggestion-chip",surpriseMeButton:"surprise-me-button",refreshSuggestionsButton:"refresh-suggestions-button",githubButton:"github-button",newTabButton:"new-tab-button",tab:e=>`tab-${e}`,closeTab:e=>`close-tab-${e}`,modelSelector:{container:"model-selector",button:"model-selector-button",text:"model-selector-text",dropdown:"model-selector-dropdown",name:"model-name",option:e=>`model-selector-option-${e}`},language:{menu:"language-menu",searchInput:"language-search-input",option:e=>`language-option-${e}`,bottomSheetSearch:"language-bottom-sheet-search",bottomSheetOption:e=>`language-bottom-sheet-option-${e}`},privacyDropdown:{publicOption:"privacy-dropdown-public-option",privateOption:"privacy-dropdown-private-option"},imageGallery:{item:"image-gallery-item"},artifactGallery:"artifact-gallery",artifactItem:"artifact-item",downloadSection:{title:"download-section-title",getStartedButton:"get-started-button"},workspace:{switcherButton:"workspace-switcher-button",name:"workspace-name"},mcpServerToggle:"mcp-server-toggle",pendingArtifact:e=>`pending-artifact-${e}`,removePendingArtifact:e=>`remove-pending-artifact-${e}`},Lm={account:{profileName:"account-profile-name",profileNameMobile:"account-profile-name-mobile",profileEmail:"account-profile-email",profileEmailMobile:"account-profile-email-mobile",editNameButton:"edit-name-button",editNameButtonMobile:"edit-name-button-mobile",nameInput:"name-input",nameInputMobile:"name-input-mobile",saveNameButton:"save-name-button",saveNameButtonMobile:"save-name-button-mobile",cancelNameButton:"cancel-name-button",cancelNameButtonMobile:"cancel-name-button-mobile",planTier:"account-plan-tier",upgradeButton:"account-upgrade-button"},manageAgents:{tabMain:"manage-agents-tab-main",tabSub:"manage-agents-tab-sub",tabMcp:"manage-agents-tab-mcp",createNewAgentCard:"create-new-agent-card",createNewMcpServerCard:"create-new-mcp-server-card"},universalKey:{tabDetails:"universal-key-tab-details",tabProviders:"universal-key-tab-providers",display:"universal-key-display",copyBtn:"universal-key-copy-btn",toggleBtn:"universal-key-toggle-btn",regenerateBtn:"universal-key-regenerate-btn",regenerateCancel:"universal-key-regenerate-cancel",regenerateConfirm:"universal-key-regenerate-confirm",regenerateModal:"regenerate-key-modal",regenerateCloseButton:"regenerate-key-close-button",addBalanceBtn:"universal-key-add-balance-btn",autoRechargeSwitch:"universal-key-auto-recharge-switch",autoRechargeInput:"universal-key-auto-recharge-input",autoRechargeInputMobile:"universal-key-auto-recharge-input-mobile",autoRechargeSave:"universal-key-auto-recharge-save",autoRechargeCancelButton:"universal-key-auto-recharge-cancel-button",autoRechargeEnableButton:"universal-key-auto-recharge-enable-button",autoRechargeModal:"auto-recharge-modal",autoRechargeCloseButton:"auto-recharge-close-button"},addBalance:{modal:"add-balance-modal",closeButton:"add-balance-close-button",decreaseBtn:"add-balance-decrease-btn",amountInput:"add-balance-amount-input",increaseBtn:"add-balance-increase-btn",confirmBtn:"add-balance-confirm-btn"}},_E=["#EFA1F4","#FDA79D","#E5C573","#65CB65","#A1BFE5"],px=new Map;let Rb=0;const Sce=()=>{const e="0123456789ABCDEF";let n="#";for(let s=0;s<6;s++)n+=e[Math.floor(Math.random()*16)];return n},hB=(e,n)=>{if(px.has(e))return px.get(e);if(Rb<_E.length){const r=_E[Rb];return px.set(e,r),Rb++,r}const s=Sce();return px.set(e,s),s};class kce{constructor(){Vt(this,"listeners",[]);Vt(this,"currentText","")}subscribe(n){return this.listeners.push(n),()=>{this.listeners=this.listeners.filter(s=>s!==n)}}show(n,s){this.currentText=s||"",this.listeners.forEach(r=>r(!0,this.currentText)),n&&setTimeout(()=>this.hide(),n)}hide(){this.currentText="",this.listeners.forEach(n=>n(!1,""))}}const a7=new kce,gh=d.createContext({});function o7(e){const n=d.useRef(null);return n.current===null&&(n.current=e()),n.current}const l7=typeof window<"u",c7=l7?d.useLayoutEffect:d.useEffect,J5=d.createContext(null),d7=d.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Ice extends d.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const r=s.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Tce({children:e,isPresent:n,anchorX:s}){const r=d.useId(),i=d.useRef(null),a=d.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=d.useContext(d7);return d.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:p,right:f}=a.current;if(n||!i.current||!l||!c)return;const m=s==="left"?`left: ${p}`:`right: ${f}`;i.current.dataset.motionPopId=r;const h=document.createElement("style");return o&&(h.nonce=o),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[n]),t.jsx(Ice,{isPresent:n,childRef:i,sizeRef:a,children:d.cloneElement(e,{ref:i})})}const Ace=({children:e,initial:n,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l})=>{const c=o7(Dce),u=d.useId(),p=d.useCallback(m=>{c.set(m,!0);for(const h of c.values())if(!h)return;r&&r()},[c,r]),f=d.useMemo(()=>({id:u,initial:n,isPresent:s,custom:i,onExitComplete:p,register:m=>(c.set(m,!1),()=>c.delete(m))}),a?[Math.random(),p]:[s,p]);return d.useMemo(()=>{c.forEach((m,h)=>c.set(h,!1))},[s]),d.useEffect(()=>{!s&&!c.size&&r&&r()},[s]),o==="popLayout"&&(e=t.jsx(Tce,{isPresent:s,anchorX:l,children:e})),t.jsx(J5.Provider,{value:f,children:e})};function Dce(){return new Map}function xB(e=!0){const n=d.useContext(J5);if(n===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=n,a=d.useId();d.useEffect(()=>{if(e)return i(a)},[e]);const o=d.useCallback(()=>e&&r&&r(a),[a,r,e]);return!s&&r?[!1,o]:[!0]}const fx=e=>e.key||"";function jE(e){const n=[];return d.Children.forEach(e,s=>{d.isValidElement(s)&&n.push(s)}),n}const xa=({children:e,custom:n,initial:s=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,u]=xB(o),p=d.useMemo(()=>jE(e),[e]),f=o&&!c?[]:p.map(fx),m=d.useRef(!0),h=d.useRef(p),x=o7(()=>new Map),[g,v]=d.useState(p),[b,y]=d.useState(p);c7(()=>{m.current=!1,h.current=p;for(let N=0;N<b.length;N++){const j=fx(b[N]);f.includes(j)?x.delete(j):x.get(j)!==!0&&x.set(j,!1)}},[b,f.length,f.join("-")]);const w=[];if(p!==g){let N=[...p];for(let j=0;j<b.length;j++){const C=b[j],S=fx(C);f.includes(S)||(N.splice(j,0,C),w.push(C))}return a==="wait"&&w.length&&(N=w),y(jE(N)),v(p),null}const{forceRender:_}=d.useContext(gh);return t.jsx(t.Fragment,{children:b.map(N=>{const j=fx(N),C=o&&!c?!1:p===b||f.includes(j),S=()=>{if(x.has(j))x.set(j,!0);else return;let F=!0;x.forEach(E=>{E||(F=!1)}),F&&(_?.(),y(h.current),o&&u?.(),r&&r())};return t.jsx(Ace,{isPresent:C,initial:!m.current||s?void 0:!1,custom:n,presenceAffectsLayout:i,mode:a,onExitComplete:C?void 0:S,anchorX:l,children:N},j)})})},Mce=d.createContext(null),to=e=>e;let gB=to;const Rce={useManualTiming:!1},mx=["read","resolveKeyframes","update","preRender","render","postRender"];function Lce(e,n){let s=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){o.has(p)&&(u.schedule(p),e()),p(l)}const u={schedule:(p,f=!1,m=!1)=>{const x=m&&i?s:r;return f&&o.add(p),x.has(p)||x.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(l=p,i){a=!0;return}i=!0,[s,r]=[r,s],s.forEach(c),s.clear(),i=!1,a&&(a=!1,u.process(p))}};return u}const Pce=40;function bB(e,n){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=mx.reduce((b,y)=>(b[y]=Lce(a),b),{}),{read:l,resolveKeyframes:c,update:u,preRender:p,render:f,postRender:m}=o,h=()=>{const b=performance.now();s=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,Pce),1),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),p.process(i),f.process(i),m.process(i),i.isProcessing=!1,s&&n&&(r=!1,e(h))},x=()=>{s=!0,r=!0,i.isProcessing||e(h)};return{schedule:mx.reduce((b,y)=>{const w=o[y];return b[y]=(_,N=!1,j=!1)=>(s||x(),w.schedule(_,N,j)),b},{}),cancel:b=>{for(let y=0;y<mx.length;y++)o[mx[y]].cancel(b)},state:i,steps:o}}const{schedule:Fr,cancel:Jc,state:Ji,steps:Lb}=bB(typeof requestAnimationFrame<"u"?requestAnimationFrame:to,!0);function Oce(){const e=d.useRef(!1);return c7(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Bce(){const e=Oce(),[n,s]=d.useState(0),r=d.useCallback(()=>{e.current&&s(n+1)},[n]);return[d.useCallback(()=>Fr.postRender(r),[r]),n]}const Uce=e=>!e.isLayoutDirty&&e.willUpdate(!1);function NE(){const e=new Set,n=new WeakMap,s=()=>e.forEach(Uce);return{add:r=>{e.add(r),n.set(r,r.addEventListener("willUpdate",s))},remove:r=>{e.delete(r);const i=n.get(r);i&&(i(),n.delete(r)),s()},dirty:s}}const yB=e=>e===!0,Hce=e=>yB(e===!0)||e==="id",Vce=({children:e,id:n,inherit:s=!0})=>{const r=d.useContext(gh),i=d.useContext(Mce),[a,o]=Bce(),l=d.useRef(null),c=r.id||i;l.current===null&&(Hce(s)&&c&&(n=n?c+"-"+n:c),l.current={id:n,group:yB(s)&&r.group||NE()});const u=d.useMemo(()=>({...l.current,forceRender:a}),[o]);return t.jsx(gh.Provider,{value:u,children:e})},vB=d.createContext({strict:!1}),FE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rf={};for(const e in FE)rf[e]={isEnabled:n=>FE[e].some(s=>!!n[s])};function $ce(e){for(const n in e)rf[n]={...rf[n],...e[n]}}const zce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function M2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zce.has(e)}let wB=e=>!M2(e);function Wce(e){e&&(wB=n=>n.startsWith("on")?!M2(n):e(n))}try{Wce(require("@emotion/is-prop-valid").default)}catch{}function Gce(e,n,s){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(wB(i)||s===!0&&M2(i)||!n&&!M2(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function qce(e){if(typeof Proxy>"u")return e;const n=new Map,s=(...r)=>e(...r);return new Proxy(s,{get:(r,i)=>i==="create"?e:(n.has(i)||n.set(i,e(i)),n.get(i))})}const X5=d.createContext({});function Q5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function bh(e){return typeof e=="string"||Array.isArray(e)}const u7=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p7=["initial",...u7];function e3(e){return Q5(e.animate)||p7.some(n=>bh(e[n]))}function CB(e){return!!(e3(e)||e.variants)}function Kce(e,n){if(e3(e)){const{initial:s,animate:r}=e;return{initial:s===!1||bh(s)?s:void 0,animate:bh(r)?r:void 0}}return e.inherit!==!1?n:{}}function Yce(e){const{initial:n,animate:s}=Kce(e,d.useContext(X5));return d.useMemo(()=>({initial:n,animate:s}),[EE(n),EE(s)])}function EE(e){return Array.isArray(e)?e.join(" "):e}const Zce=Symbol.for("motionComponentSymbol");function _p(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Jce(e,n,s){return d.useCallback(r=>{r&&e.onMount&&e.onMount(r),n&&(r?n.mount(r):n.unmount()),s&&(typeof s=="function"?s(r):_p(s)&&(s.current=r))},[n])}const{schedule:f7}=bB(queueMicrotask,!1),m7=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xce="framerAppearId",_B="data-"+m7(Xce),jB=d.createContext({});function Qce(e,n,s,r,i){var a,o;const{visualElement:l}=d.useContext(X5),c=d.useContext(vB),u=d.useContext(J5),p=d.useContext(d7).reducedMotion,f=d.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:n,parent:l,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:p}));const m=f.current,h=d.useContext(jB);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&ede(f.current,s,i,h);const x=d.useRef(!1);d.useInsertionEffect(()=>{m&&x.current&&m.update(s,u)});const g=s[_B],v=d.useRef(!!g&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return c7(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),f7.render(m.render),v.current&&m.animationState&&m.animationState.animateChanges())}),d.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,g)}),v.current=!1))}),m}function ede(e,n,s,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=n;e.projection=new s(e.latestValues,n["data-framer-portal-id"]?void 0:NB(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&_p(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function NB(e){if(e)return e.options.allowProjection!==!1?e.projection:NB(e.parent)}function tde({preloadedFeatures:e,createVisualElement:n,useRender:s,useVisualState:r,Component:i}){var a,o;e&&$ce(e);function l(u,p){let f;const m={...d.useContext(d7),...u,layoutId:nde(u)},{isStatic:h}=m,x=Yce(u),g=r(u,h);if(!h&&l7){sde();const v=rde(m);f=v.MeasureLayout,x.visualElement=Qce(i,g,m,n,v.ProjectionNode)}return t.jsxs(X5.Provider,{value:x,children:[f&&x.visualElement?t.jsx(f,{visualElement:x.visualElement,...m}):null,s(i,u,Jce(g,x.visualElement,p),g,h,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=d.forwardRef(l);return c[Zce]=i,c}function nde({layoutId:e}){const n=d.useContext(gh).id;return n&&e!==void 0?n+"-"+e:e}function sde(e,n){d.useContext(vB).strict}function rde(e){const{drag:n,layout:s}=rf;if(!n&&!s)return{};const r={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const FB=e=>n=>typeof n=="string"&&n.startsWith(e),h7=FB("--"),ide=FB("var(--"),x7=e=>ide(e)?ade.test(e.split("/*")[0].trim()):!1,ade=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yh={};function ode(e){for(const n in e)yh[n]=e[n],h7(n)&&(yh[n].isCSSVariable=!0)}const Lf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Iu=new Set(Lf);function EB(e,{layout:n,layoutId:s}){return Iu.has(e)||e.startsWith("origin")||(n||s!==void 0)&&(!!yh[e]||e==="opacity")}const pa=e=>!!(e&&e.getVelocity),SB=(e,n)=>n&&typeof e=="number"?n.transform(e):e,tc=(e,n,s)=>s>n?n:s<e?e:s,Pf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vh={...Pf,transform:e=>tc(0,1,e)},hx={...Pf,default:1},i0=e=>({test:n=>typeof n=="string"&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),Nc=i0("deg"),ml=i0("%"),ds=i0("px"),lde=i0("vh"),cde=i0("vw"),SE={...ml,parse:e=>ml.parse(e)/100,transform:e=>ml.transform(e*100)},dde={borderWidth:ds,borderTopWidth:ds,borderRightWidth:ds,borderBottomWidth:ds,borderLeftWidth:ds,borderRadius:ds,radius:ds,borderTopLeftRadius:ds,borderTopRightRadius:ds,borderBottomRightRadius:ds,borderBottomLeftRadius:ds,width:ds,maxWidth:ds,height:ds,maxHeight:ds,top:ds,right:ds,bottom:ds,left:ds,padding:ds,paddingTop:ds,paddingRight:ds,paddingBottom:ds,paddingLeft:ds,margin:ds,marginTop:ds,marginRight:ds,marginBottom:ds,marginLeft:ds,backgroundPositionX:ds,backgroundPositionY:ds},ude={rotate:Nc,rotateX:Nc,rotateY:Nc,rotateZ:Nc,scale:hx,scaleX:hx,scaleY:hx,scaleZ:hx,skew:Nc,skewX:Nc,skewY:Nc,distance:ds,translateX:ds,translateY:ds,translateZ:ds,x:ds,y:ds,z:ds,perspective:ds,transformPerspective:ds,opacity:vh,originX:SE,originY:SE,originZ:ds},kE={...Pf,transform:Math.round},g7={...dde,...ude,zIndex:kE,size:ds,fillOpacity:vh,strokeOpacity:vh,numOctaves:kE},pde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fde=Lf.length;function mde(e,n,s){let r="",i=!0;for(let a=0;a<fde;a++){const o=Lf[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const u=SB(l,g7[o]);if(!c){i=!1;const p=pde[o]||o;r+=`${p}(${u}) `}s&&(n[o]=u)}}return r=r.trim(),s?r=s(n,i?"":r):i&&(r="none"),r}function b7(e,n,s){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in n){const u=n[c];if(Iu.has(c)){o=!0;continue}else if(h7(c)){i[c]=u;continue}else{const p=SB(u,g7[c]);c.startsWith("origin")?(l=!0,a[c]=p):r[c]=p}}if(n.transform||(o||s?r.transform=mde(n,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:p=0}=a;r.transformOrigin=`${c} ${u} ${p}`}}const y7=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kB(e,n,s){for(const r in n)!pa(n[r])&&!EB(r,s)&&(e[r]=n[r])}function hde({transformTemplate:e},n){return d.useMemo(()=>{const s=y7();return b7(s,n,e),Object.assign({},s.vars,s.style)},[n])}function xde(e,n){const s=e.style||{},r={};return kB(r,s,e),Object.assign(r,hde(e,n)),r}function gde(e,n){const s={},r=xde(e,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const bde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v7(e){return typeof e!="string"||e.includes("-")?!1:!!(bde.indexOf(e)>-1||/[A-Z]/u.test(e))}const yde={offset:"stroke-dashoffset",array:"stroke-dasharray"},vde={offset:"strokeDashoffset",array:"strokeDasharray"};function wde(e,n,s=1,r=0,i=!0){e.pathLength=1;const a=i?yde:vde;e[a.offset]=ds.transform(-r);const o=ds.transform(n),l=ds.transform(s);e[a.array]=`${o} ${l}`}function IE(e,n,s){return typeof e=="string"?e:ds.transform(n+s*e)}function Cde(e,n,s){const r=IE(n,e.x,e.width),i=IE(s,e.y,e.height);return`${r} ${i}`}function w7(e,{attrX:n,attrY:s,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},p,f){if(b7(e,u,f),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:x}=e;m.transform&&(x&&(h.transform=m.transform),delete m.transform),x&&(i!==void 0||a!==void 0||h.transform)&&(h.transformOrigin=Cde(x,i!==void 0?i:.5,a!==void 0?a:.5)),n!==void 0&&(m.x=n),s!==void 0&&(m.y=s),r!==void 0&&(m.scale=r),o!==void 0&&wde(m,o,l,c,!1)}const IB=()=>({...y7(),attrs:{}}),C7=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _de(e,n,s,r){const i=d.useMemo(()=>{const a=IB();return w7(a,n,C7(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[n]);if(e.style){const a={};kB(a,e.style,e),i.style={...a,...i.style}}return i}function jde(e=!1){return(s,r,i,{latestValues:a},o)=>{const c=(v7(s)?_de:gde)(r,a,o,s),u=Gce(r,typeof s=="string",e),p=s!==d.Fragment?{...u,...c,ref:i}:{},{children:f}=r,m=d.useMemo(()=>pa(f)?f.get():f,[f]);return d.createElement(s,{...p,children:m})}}function TE(e){const n=[{},{}];return e?.values.forEach((s,r)=>{n[0][r]=s.get(),n[1][r]=s.getVelocity()}),n}function _7(e,n,s,r){if(typeof n=="function"){const[i,a]=TE(r);n=n(s!==void 0?s:e.custom,i,a)}if(typeof n=="string"&&(n=e.variants&&e.variants[n]),typeof n=="function"){const[i,a]=TE(r);n=n(s!==void 0?s:e.custom,i,a)}return n}const ww=e=>Array.isArray(e),Nde=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Fde=e=>ww(e)?e[e.length-1]||0:e;function _g(e){const n=pa(e)?e.get():e;return Nde(n)?n.toValue():n}function Ede({scrapeMotionValuesFromProps:e,createRenderState:n,onUpdate:s},r,i,a){const o={latestValues:Sde(r,i,a,e),renderState:n()};return s&&(o.onMount=l=>s({props:r,current:l,...o}),o.onUpdate=l=>s(l)),o}const TB=e=>(n,s)=>{const r=d.useContext(X5),i=d.useContext(J5),a=()=>Ede(e,n,r,i);return s?a():o7(a)};function Sde(e,n,s,r){const i={},a=r(e,{});for(const m in a)i[m]=_g(a[m]);let{initial:o,animate:l}=e;const c=e3(e),u=CB(e);n&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=n.initial),l===void 0&&(l=n.animate));let p=s?s.initial===!1:!1;p=p||o===!1;const f=p?l:o;if(f&&typeof f!="boolean"&&!Q5(f)){const m=Array.isArray(f)?f:[f];for(let h=0;h<m.length;h++){const x=_7(e,m[h]);if(x){const{transitionEnd:g,transition:v,...b}=x;for(const y in b){let w=b[y];if(Array.isArray(w)){const _=p?w.length-1:0;w=w[_]}w!==null&&(i[y]=w)}for(const y in g)i[y]=g[y]}}}return i}function j7(e,n,s){var r;const{style:i}=e,a={};for(const o in i)(pa(i[o])||n.style&&pa(n.style[o])||EB(o,e)||((r=s?.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}const kde={useVisualState:TB({scrapeMotionValuesFromProps:j7,createRenderState:y7})};function AB(e,n){try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}function DB(e,{style:n,vars:s},r,i){Object.assign(e.style,n,i&&i.getProjectionStyles(r));for(const a in s)e.style.setProperty(a,s[a])}const MB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RB(e,n,s,r){DB(e,n,void 0,r);for(const i in n.attrs)e.setAttribute(MB.has(i)?i:m7(i),n.attrs[i])}function LB(e,n,s){const r=j7(e,n,s);for(const i in e)if(pa(e[i])||pa(n[i])){const a=Lf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const AE=["x","y","width","height","cx","cy","r"],Ide={useVisualState:TB({scrapeMotionValuesFromProps:LB,createRenderState:IB,onUpdate:({props:e,prevProps:n,current:s,renderState:r,latestValues:i})=>{if(!s)return;let a=!!e.drag;if(!a){for(const l in i)if(Iu.has(l)){a=!0;break}}if(!a)return;let o=!n;if(n)for(let l=0;l<AE.length;l++){const c=AE[l];e[c]!==n[c]&&(o=!0)}o&&Fr.read(()=>{AB(s,r),Fr.render(()=>{w7(r,i,C7(s.tagName),e.transformTemplate),RB(s,r)})})}})};function Tde(e,n){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...v7(r)?Ide:kde,preloadedFeatures:e,useRender:jde(i),createVisualElement:n,Component:r};return tde(o)}}function wh(e,n,s){const r=e.getProps();return _7(r,n,s!==void 0?s:r.custom,e)}function N7(e,n){return e?e[n]||e.default||e:void 0}const PB=new Set(["width","height","top","left","right","bottom",...Lf]);function F7(e,n){e.indexOf(n)===-1&&e.push(n)}function E7(e,n){const s=e.indexOf(n);s>-1&&e.splice(s,1)}class S7{constructor(){this.subscriptions=[]}add(n){return F7(this.subscriptions,n),()=>E7(this.subscriptions,n)}notify(n,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](n,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(n,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function OB(e,n){return n?e*(1e3/n):0}let jg;function Ade(){jg=void 0}const hl={now:()=>(jg===void 0&&hl.set(Ji.isProcessing||Rce.useManualTiming?Ji.timestamp:performance.now()),jg),set:e=>{jg=e,queueMicrotask(Ade)}},DE=30,Dde=e=>!isNaN(parseFloat(e));class Mde{constructor(n,s={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=hl.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=hl.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=Dde(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new S7);const r=this.events[n].add(s);return n==="change"?()=>{r(),Fr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n,s=!0){!s||!this.passiveEffect?this.updateAndNotify(n,s):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-r}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=hl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>DE)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,DE);return OB(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ch(e,n){return new Mde(e,n)}function Rde(e,n,s){e.hasValue(n)?e.getValue(n).set(s):e.addValue(n,Ch(s))}function Lde(e,n){const s=wh(e,n);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const o in a){const l=Fde(a[o]);Rde(e,o,l)}}function Pde(e){return!!(pa(e)&&e.add)}function Cw(e,n){const s=e.getValue("willChange");if(Pde(s))return s.add(n)}function BB(e){return e.props[_B]}function k7(e){let n;return()=>(n===void 0&&(n=e()),n)}const Ode=k7(()=>window.ScrollTimeline!==void 0);class Bde{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}get finished(){return Promise.all(this.animations.map(n=>"finished"in n?n.finished:n))}getAll(n){return this.animations[0][n]}setAll(n,s){for(let r=0;r<this.animations.length;r++)this.animations[r][n]=s}attachTimeline(n,s){const r=this.animations.map(i=>{if(Ode()&&i.attachTimeline)return i.attachTimeline(n);if(typeof s=="function")return s(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let s=0;s<this.animations.length;s++)n=Math.max(n,this.animations[s].duration);return n}runAll(n){this.animations.forEach(s=>s[n]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ude extends Bde{then(n,s){return Promise.all(this.animations).then(n).catch(s)}}const Zl=e=>e*1e3,Jl=e=>e/1e3;function I7(e){return typeof e=="function"}function ME(e,n){e.timeline=n,e.onfinish=null}const T7=e=>Array.isArray(e)&&typeof e[0]=="number",Hde={linearEasing:void 0};function Vde(e,n){const s=k7(e);return()=>{var r;return(r=Hde[n])!==null&&r!==void 0?r:s()}}const R2=Vde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),af=(e,n,s)=>{const r=n-e;return r===0?1:(s-e)/r},UB=(e,n,s=10)=>{let r="";const i=Math.max(Math.round(n/s),2);for(let a=0;a<i;a++)r+=e(af(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function HB(e){return!!(typeof e=="function"&&R2()||!e||typeof e=="string"&&(e in _w||R2())||T7(e)||Array.isArray(e)&&e.every(HB))}const g1=([e,n,s,r])=>`cubic-bezier(${e}, ${n}, ${s}, ${r})`,_w={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:g1([0,.65,.55,1]),circOut:g1([.55,0,1,.45]),backIn:g1([.31,.01,.66,-.59]),backOut:g1([.33,1.53,.69,.99])};function VB(e,n){if(e)return typeof e=="function"&&R2()?UB(e,n):T7(e)?g1(e):Array.isArray(e)?e.map(s=>VB(s,n)||_w.easeOut):_w[e]}const $B=(e,n,s)=>(((1-3*s+3*n)*e+(3*s-6*n))*e+3*n)*e,$de=1e-7,zde=12;function Wde(e,n,s,r,i){let a,o,l=0;do o=n+(s-n)/2,a=$B(o,r,i)-e,a>0?s=o:n=o;while(Math.abs(a)>$de&&++l<zde);return o}function a0(e,n,s,r){if(e===n&&s===r)return to;const i=a=>Wde(a,0,1,e,s);return a=>a===0||a===1?a:$B(i(a),n,r)}const zB=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,WB=e=>n=>1-e(1-n),GB=a0(.33,1.53,.69,.99),A7=WB(GB),qB=zB(A7),KB=e=>(e*=2)<1?.5*A7(e):.5*(2-Math.pow(2,-10*(e-1))),D7=e=>1-Math.sin(Math.acos(e)),YB=WB(D7),ZB=zB(D7),JB=e=>/^0[^.\s]+$/u.test(e);function Gde(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||JB(e):!0}const B1=e=>Math.round(e*1e5)/1e5,M7=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qde(e){return e==null}const Kde=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,R7=(e,n)=>s=>!!(typeof s=="string"&&Kde.test(s)&&s.startsWith(e)||n&&!qde(s)&&Object.prototype.hasOwnProperty.call(s,n)),XB=(e,n,s)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(M7);return{[e]:parseFloat(i),[n]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Yde=e=>tc(0,255,e),Pb={...Pf,transform:e=>Math.round(Yde(e))},Zd={test:R7("rgb","red"),parse:XB("red","green","blue"),transform:({red:e,green:n,blue:s,alpha:r=1})=>"rgba("+Pb.transform(e)+", "+Pb.transform(n)+", "+Pb.transform(s)+", "+B1(vh.transform(r))+")"};function Zde(e){let n="",s="",r="",i="";return e.length>5?(n=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(n=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),n+=n,s+=s,r+=r,i+=i),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const jw={test:R7("#"),parse:Zde,transform:Zd.transform},jp={test:R7("hsl","hue"),parse:XB("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+ml.transform(B1(n))+", "+ml.transform(B1(s))+", "+B1(vh.transform(r))+")"},oa={test:e=>Zd.test(e)||jw.test(e)||jp.test(e),parse:e=>Zd.test(e)?Zd.parse(e):jp.test(e)?jp.parse(e):jw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Zd.transform(e):jp.transform(e)},Jde=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xde(e){var n,s;return isNaN(e)&&typeof e=="string"&&(((n=e.match(M7))===null||n===void 0?void 0:n.length)||0)+(((s=e.match(Jde))===null||s===void 0?void 0:s.length)||0)>0}const QB="number",eU="color",Qde="var",eue="var(",RE="${}",tue=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _h(e){const n=e.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=n.replace(tue,c=>(oa.test(c)?(r.color.push(a),i.push(eU),s.push(oa.parse(c))):c.startsWith(eue)?(r.var.push(a),i.push(Qde),s.push(c)):(r.number.push(a),i.push(QB),s.push(parseFloat(c))),++a,RE)).split(RE);return{values:s,split:l,indexes:r,types:i}}function tU(e){return _h(e).values}function nU(e){const{split:n,types:s}=_h(e),r=n.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=n[o],i[o]!==void 0){const l=s[o];l===QB?a+=B1(i[o]):l===eU?a+=oa.transform(i[o]):a+=i[o]}return a}}const nue=e=>typeof e=="number"?0:e;function sue(e){const n=tU(e);return nU(e)(n.map(nue))}const Xc={test:Xde,parse:tU,createTransformer:nU,getAnimatableNone:sue},rue=new Set(["brightness","contrast","saturate","opacity"]);function iue(e){const[n,s]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[r]=s.match(M7)||[];if(!r)return e;const i=s.replace(r,"");let a=rue.has(n)?1:0;return r!==s&&(a*=100),n+"("+a+i+")"}const aue=/\b([a-z-]*)\(.*?\)/gu,Nw={...Xc,getAnimatableNone:e=>{const n=e.match(aue);return n?n.map(iue).join(" "):e}},oue={...g7,color:oa,backgroundColor:oa,outlineColor:oa,fill:oa,stroke:oa,borderColor:oa,borderTopColor:oa,borderRightColor:oa,borderBottomColor:oa,borderLeftColor:oa,filter:Nw,WebkitFilter:Nw},sU=e=>oue[e];function rU(e,n){let s=sU(e);return s!==Nw&&(s=Xc),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const lue=new Set(["auto","none","0"]);function cue(e,n,s){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!lue.has(a)&&_h(a).values.length&&(i=e[r]),r++}if(i&&s)for(const a of n)e[a]=rU(s,i)}const Jd=e=>e*180/Math.PI,Fw=e=>{const n=Jd(Math.atan2(e[1],e[0]));return Ew(n)},due={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Fw,rotateZ:Fw,skewX:e=>Jd(Math.atan(e[1])),skewY:e=>Jd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ew=e=>(e=e%360,e<0&&(e+=360),e),LE=Fw,PE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),OE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),uue={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PE,scaleY:OE,scale:e=>(PE(e)+OE(e))/2,rotateX:e=>Ew(Jd(Math.atan2(e[6],e[5]))),rotateY:e=>Ew(Jd(Math.atan2(-e[2],e[0]))),rotateZ:LE,rotate:LE,skewX:e=>Jd(Math.atan(e[4])),skewY:e=>Jd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function BE(e){return e.includes("scale")?1:0}function Sw(e,n){if(!e||e==="none")return BE(n);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=uue,i=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=due,i=l}if(!i)return BE(n);const a=r[n],o=i[1].split(",").map(fue);return typeof a=="function"?a(o):o[a]}const pue=(e,n)=>{const{transform:s="none"}=getComputedStyle(e);return Sw(s,n)};function fue(e){return parseFloat(e.trim())}const UE=e=>e===Pf||e===ds,mue=new Set(["x","y","z"]),hue=Lf.filter(e=>!mue.has(e));function xue(e){const n=[];return hue.forEach(s=>{const r=e.getValue(s);r!==void 0&&(n.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),n}const of={width:({x:e},{paddingLeft:n="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(n)-parseFloat(s),height:({y:e},{paddingTop:n="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(n)-parseFloat(s),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:(e,{transform:n})=>Sw(n,"x"),y:(e,{transform:n})=>Sw(n,"y")};of.translateX=of.x;of.translateY=of.y;const cu=new Set;let kw=!1,Iw=!1;function iU(){if(Iw){const e=Array.from(cu).filter(r=>r.needsMeasurement),n=new Set(e.map(r=>r.element)),s=new Map;n.forEach(r=>{const i=xue(r);i.length&&(s.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),n.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Iw=!1,kw=!1,cu.forEach(e=>e.complete()),cu.clear()}function aU(){cu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Iw=!0)})}function gue(){aU(),iU()}class L7{constructor(n,s,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cu.add(this),kw||(kw=!0,Fr.read(aU),Fr.resolveKeyframes(iU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:r,motionValue:i}=this;for(let a=0;a<n.length;a++)if(n[a]===null)if(a===0){const o=i?.get(),l=n[n.length-1];if(o!==void 0)n[0]=o;else if(r&&s){const c=r.readValue(s,l);c!=null&&(n[0]=c)}n[0]===void 0&&(n[0]=l),i&&o===void 0&&i.set(n[0])}else n[a]=n[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const oU=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),bue=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yue(e){const n=bue.exec(e);if(!n)return[,];const[,s,r,i]=n;return[`--${s??r}`,i]}function lU(e,n,s=1){const[r,i]=yue(e);if(!r)return;const a=window.getComputedStyle(n).getPropertyValue(r);if(a){const o=a.trim();return oU(o)?parseFloat(o):o}return x7(i)?lU(i,n,s+1):i}const cU=e=>n=>n.test(e),vue={test:e=>e==="auto",parse:e=>e},dU=[Pf,ds,ml,Nc,cde,lde,vue],HE=e=>dU.find(cU(e));class uU extends L7{constructor(n,s,r,i,a){super(n,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<n.length;c++){let u=n[c];if(typeof u=="string"&&(u=u.trim(),x7(u))){const p=lU(u,s.current);p!==void 0&&(n[c]=p),c===n.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!PB.has(r)||n.length!==2)return;const[i,a]=n,o=HE(i),l=HE(a);if(o!==l)if(UE(o)&&UE(l))for(let c=0;c<n.length;c++){const u=n[c];typeof u=="string"&&(n[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,r=[];for(let i=0;i<n.length;i++)Gde(n[i])&&r.push(i);r.length&&cue(n,r,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:r}=this;if(!n||!n.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=of[r](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&n.getValue(r,i).jump(i,!1)}measureEndState(){var n;const{element:s,name:r,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const a=s.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=of[r](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([c,u])=>{s.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const VE=(e,n)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xc.test(e)||e==="0")&&!e.startsWith("url("));function wue(e){const n=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}function Cue(e,n,s,r){const i=e[0];if(i===null)return!1;if(n==="display"||n==="visibility")return!0;const a=e[e.length-1],o=VE(i,n),l=VE(a,n);return!o||!l?!1:wue(e)||(s==="spring"||I7(s))&&r}const _ue=e=>e!==null;function t3(e,{repeat:n,repeatType:s="loop"},r){const i=e.filter(_ue),a=n&&s!=="loop"&&n%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const jue=40;class pU{constructor({autoplay:n=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hl.now(),this.options={autoplay:n,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>jue?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gue(),this._resolved}onKeyframesResolved(n,s){this.resolvedAt=hl.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Cue(n,r,i,a))if(o)this.options.duration=0;else{c&&c(t3(n,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const p=this.initPlayback(n,s);p!==!1&&(this._resolved={keyframes:n,finalKeyframe:s,...p},this.onPostResolved())}onPostResolved(){}then(n,s){return this.currentFinishedPromise.then(n,s)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}const Tw=2e4;function fU(e){let n=0;const s=50;let r=e.next(n);for(;!r.done&&n<Tw;)n+=s,r=e.next(n);return n>=Tw?1/0:n}const ai=(e,n,s)=>e+(n-e)*s;function Ob(e,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(n-e)*6*s:s<1/2?n:s<2/3?e+(n-e)*(2/3-s)*6:e}function Nue({hue:e,saturation:n,lightness:s,alpha:r}){e/=360,n/=100,s/=100;let i=0,a=0,o=0;if(!n)i=a=o=s;else{const l=s<.5?s*(1+n):s+n-s*n,c=2*s-l;i=Ob(c,l,e+1/3),a=Ob(c,l,e),o=Ob(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function L2(e,n){return s=>s>0?n:e}const Bb=(e,n,s)=>{const r=e*e,i=s*(n*n-r)+r;return i<0?0:Math.sqrt(i)},Fue=[jw,Zd,jp],Eue=e=>Fue.find(n=>n.test(e));function $E(e){const n=Eue(e);if(!n)return!1;let s=n.parse(e);return n===jp&&(s=Nue(s)),s}const zE=(e,n)=>{const s=$E(e),r=$E(n);if(!s||!r)return L2(e,n);const i={...s};return a=>(i.red=Bb(s.red,r.red,a),i.green=Bb(s.green,r.green,a),i.blue=Bb(s.blue,r.blue,a),i.alpha=ai(s.alpha,r.alpha,a),Zd.transform(i))},Sue=(e,n)=>s=>n(e(s)),o0=(...e)=>e.reduce(Sue),Aw=new Set(["none","hidden"]);function kue(e,n){return Aw.has(e)?s=>s<=0?e:n:s=>s>=1?n:e}function Iue(e,n){return s=>ai(e,n,s)}function P7(e){return typeof e=="number"?Iue:typeof e=="string"?x7(e)?L2:oa.test(e)?zE:Due:Array.isArray(e)?mU:typeof e=="object"?oa.test(e)?zE:Tue:L2}function mU(e,n){const s=[...e],r=s.length,i=e.map((a,o)=>P7(a)(a,n[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}}function Tue(e,n){const s={...e,...n},r={};for(const i in s)e[i]!==void 0&&n[i]!==void 0&&(r[i]=P7(e[i])(e[i],n[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function Aue(e,n){var s;const r=[],i={color:0,var:0,number:0};for(let a=0;a<n.values.length;a++){const o=n.types[a],l=e.indexes[o][i[o]],c=(s=e.values[l])!==null&&s!==void 0?s:0;r[a]=c,i[o]++}return r}const Due=(e,n)=>{const s=Xc.createTransformer(n),r=_h(e),i=_h(n);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Aw.has(e)&&!i.values.length||Aw.has(n)&&!r.values.length?kue(e,n):o0(mU(Aue(r,i),i.values),s):L2(e,n)};function hU(e,n,s){return typeof e=="number"&&typeof n=="number"&&typeof s=="number"?ai(e,n,s):P7(e)(e,n)}const Mue=5;function xU(e,n,s){const r=Math.max(n-Mue,0);return OB(s-e(r),n-r)}const fi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ub=.001;function Rue({duration:e=fi.duration,bounce:n=fi.bounce,velocity:s=fi.velocity,mass:r=fi.mass}){let i,a,o=1-n;o=tc(fi.minDamping,fi.maxDamping,o),e=tc(fi.minDuration,fi.maxDuration,Jl(e)),o<1?(i=u=>{const p=u*o,f=p*e,m=p-s,h=Dw(u,o),x=Math.exp(-f);return Ub-m/h*x},a=u=>{const f=u*o*e,m=f*s+s,h=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-f),g=Dw(Math.pow(u,2),o);return(-i(u)+Ub>0?-1:1)*((m-h)*x)/g}):(i=u=>{const p=Math.exp(-u*e),f=(u-s)*e+1;return-Ub+p*f},a=u=>{const p=Math.exp(-u*e),f=(s-u)*(e*e);return p*f});const l=5/e,c=Pue(i,a,l);if(e=Zl(e),isNaN(c))return{stiffness:fi.stiffness,damping:fi.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Lue=12;function Pue(e,n,s){let r=s;for(let i=1;i<Lue;i++)r=r-e(r)/n(r);return r}function Dw(e,n){return e*Math.sqrt(1-n*n)}const Oue=["duration","bounce"],Bue=["stiffness","damping","mass"];function WE(e,n){return n.some(s=>e[s]!==void 0)}function Uue(e){let n={velocity:fi.velocity,stiffness:fi.stiffness,damping:fi.damping,mass:fi.mass,isResolvedFromDuration:!1,...e};if(!WE(e,Bue)&&WE(e,Oue))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*tc(.05,1,1-(e.bounce||0))*Math.sqrt(i);n={...n,mass:fi.mass,stiffness:i,damping:a}}else{const s=Rue(e);n={...n,...s,mass:fi.mass},n.isResolvedFromDuration=!0}return n}function gU(e=fi.visualDuration,n=fi.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:n}:e;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:p,duration:f,velocity:m,isResolvedFromDuration:h}=Uue({...s,velocity:-Jl(s.velocity||0)}),x=m||0,g=u/(2*Math.sqrt(c*p)),v=o-a,b=Jl(Math.sqrt(c/p)),y=Math.abs(v)<5;r||(r=y?fi.restSpeed.granular:fi.restSpeed.default),i||(i=y?fi.restDelta.granular:fi.restDelta.default);let w;if(g<1){const N=Dw(b,g);w=j=>{const C=Math.exp(-g*b*j);return o-C*((x+g*b*v)/N*Math.sin(N*j)+v*Math.cos(N*j))}}else if(g===1)w=N=>o-Math.exp(-b*N)*(v+(x+b*v)*N);else{const N=b*Math.sqrt(g*g-1);w=j=>{const C=Math.exp(-g*b*j),S=Math.min(N*j,300);return o-C*((x+g*b*v)*Math.sinh(S)+N*v*Math.cosh(S))/N}}const _={calculatedDuration:h&&f||null,next:N=>{const j=w(N);if(h)l.done=N>=f;else{let C=0;g<1&&(C=N===0?Zl(x):xU(w,N,j));const S=Math.abs(C)<=r,F=Math.abs(o-j)<=i;l.done=S&&F}return l.value=l.done?o:j,l},toString:()=>{const N=Math.min(fU(_),Tw),j=UB(C=>_.next(N*C).value,N,30);return N+"ms "+j}};return _}function GE({keyframes:e,velocity:n=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:p}){const f=e[0],m={done:!1,value:f},h=S=>l!==void 0&&S<l||c!==void 0&&S>c,x=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let g=s*n;const v=f+g,b=o===void 0?v:o(v);b!==v&&(g=b-f);const y=S=>-g*Math.exp(-S/r),w=S=>b+y(S),_=S=>{const F=y(S),E=w(S);m.done=Math.abs(F)<=u,m.value=m.done?b:E};let N,j;const C=S=>{h(m.value)&&(N=S,j=gU({keyframes:[m.value,x(m.value)],velocity:xU(w,S,m.value),damping:i,stiffness:a,restDelta:u,restSpeed:p}))};return C(0),{calculatedDuration:null,next:S=>{let F=!1;return!j&&N===void 0&&(F=!0,_(S),C(S)),N!==void 0&&S>=N?j.next(S-N):(!F&&_(S),m)}}}const Hue=a0(.42,0,1,1),Vue=a0(0,0,.58,1),bU=a0(.42,0,.58,1),$ue=e=>Array.isArray(e)&&typeof e[0]!="number",zue={linear:to,easeIn:Hue,easeInOut:bU,easeOut:Vue,circIn:D7,circInOut:ZB,circOut:YB,backIn:A7,backInOut:qB,backOut:GB,anticipate:KB},qE=e=>{if(T7(e)){gB(e.length===4);const[n,s,r,i]=e;return a0(n,s,r,i)}else if(typeof e=="string")return zue[e];return e};function Wue(e,n,s){const r=[],i=s||hU,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(n){const c=Array.isArray(n)?n[o]||to:n;l=o0(c,l)}r.push(l)}return r}function Gue(e,n,{clamp:s=!0,ease:r,mixer:i}={}){const a=e.length;if(gB(a===n.length),a===1)return()=>n[0];if(a===2&&n[0]===n[1])return()=>n[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),n=[...n].reverse());const l=Wue(n,r,i),c=l.length,u=p=>{if(o&&p<e[0])return n[0];let f=0;if(c>1)for(;f<e.length-2&&!(p<e[f+1]);f++);const m=af(e[f],e[f+1],p);return l[f](m)};return s?p=>u(tc(e[0],e[a-1],p)):u}function que(e,n){const s=e[e.length-1];for(let r=1;r<=n;r++){const i=af(0,n,r);e.push(ai(s,1,i))}}function Kue(e){const n=[0];return que(n,e.length-1),n}function Yue(e,n){return e.map(s=>s*n)}function Zue(e,n){return e.map(()=>n||bU).splice(0,e.length-1)}function P2({duration:e=300,keyframes:n,times:s,ease:r="easeInOut"}){const i=$ue(r)?r.map(qE):qE(r),a={done:!1,value:n[0]},o=Yue(s&&s.length===n.length?s:Kue(n),e),l=Gue(o,n,{ease:Array.isArray(i)?i:Zue(n,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Jue=e=>{const n=({timestamp:s})=>e(s);return{start:()=>Fr.update(n,!0),stop:()=>Jc(n),now:()=>Ji.isProcessing?Ji.timestamp:hl.now()}},Xue={decay:GE,inertia:GE,tween:P2,keyframes:P2,spring:gU},Que=e=>e/100;class O7 extends pU{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:r,element:i,keyframes:a}=this.options,o=i?.KeyframeResolver||L7,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,s,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(n){const{type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=I7(s)?s:Xue[s]||P2;let c,u;l!==P2&&typeof n[0]!="number"&&(c=o0(Que,hU(n[0],n[1])),n=[0,100]);const p=l({...this.options,keyframes:n});a==="mirror"&&(u=l({...this.options,keyframes:[...n].reverse(),velocity:-o})),p.calculatedDuration===null&&(p.calculatedDuration=fU(p));const{calculatedDuration:f}=p,m=f+i,h=m*(r+1)-i;return{generator:p,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:m,totalDuration:h}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,s=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:p,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:m,repeat:h,repeatType:x,repeatDelay:g,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-p/this.speed,this.startTime)),s?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const b=this.currentTime-m*(this.speed>=0?1:-1),y=this.speed>=0?b<0:b>p;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let w=this.currentTime,_=a;if(h){const S=Math.min(this.currentTime,p)/f;let F=Math.floor(S),E=S%1;!E&&S>=1&&(E=1),E===1&&F--,F=Math.min(F,h+1),!!(F%2)&&(x==="reverse"?(E=1-E,g&&(E-=g/f)):x==="mirror"&&(_=o)),w=tc(0,1,E)*f}const N=y?{done:!1,value:c[0]}:_.next(w);l&&(N.value=l(N.value));let{done:j}=N;!y&&u!==null&&(j=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&i!==void 0&&(N.value=t3(c,this.options,i)),v&&v(N.value),C&&this.finish(),N}get duration(){const{resolved:n}=this;return n?Jl(n.calculatedDuration):0}get time(){return Jl(this.currentTime)}set time(n){n=Zl(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=Jl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=Jue,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=n(a=>this.tick(a))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const epe=new Set(["opacity","clipPath","filter","transform"]);function tpe(e,n,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[n]:s};c&&(u.offset=c);const p=VB(l,i);return Array.isArray(p)&&(u.easing=p),e.animate(u,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const npe=k7(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),O2=10,spe=2e4;function rpe(e){return I7(e.type)||e.type==="spring"||!HB(e.ease)}function ipe(e,n){const s=new O7({...n,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let a=0;for(;!r.done&&a<spe;)r=s.sample(a),i.push(r.value),a+=O2;return{times:void 0,keyframes:i,duration:a-O2,ease:"linear"}}const yU={anticipate:KB,backInOut:qB,circInOut:ZB};function ape(e){return e in yU}class KE extends pU{constructor(n){super(n);const{name:s,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new uU(a,(o,l)=>this.onKeyframesResolved(o,l),s,r,i),this.resolver.scheduleResolve()}initPlayback(n,s){let{duration:r=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&R2()&&ape(a)&&(a=yU[a]),rpe(this.options)){const{onComplete:f,onUpdate:m,motionValue:h,element:x,...g}=this.options,v=ipe(n,g);n=v.keyframes,n.length===1&&(n[1]=n[0]),r=v.duration,i=v.times,a=v.ease,o="keyframes"}const p=tpe(l.owner.current,c,n,{...this.options,duration:r,times:i,ease:a});return p.startTime=u??this.calcStartTime(),this.pendingTimeline?(ME(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:f}=this.options;l.set(t3(n,this.options,s)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:o,ease:a,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:s}=n;return Jl(s)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:s}=n;return Jl(s.currentTime||0)}set time(n){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=Zl(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:s}=n;return s.playbackRate}set speed(n){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:s}=n;return s.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:s}=n;return s.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:s}=this;if(!s)return to;const{animation:r}=s;ME(r,n)}return to}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:s,keyframes:r,duration:i,type:a,ease:o,times:l}=n;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:p,onComplete:f,element:m,...h}=this.options,x=new O7({...h,keyframes:r,duration:i,type:a,ease:o,times:l,isGenerator:!0}),g=Zl(this.time);u.setWithVelocity(x.sample(g-O2).value,x.sample(g).value,O2)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:s,name:r,repeatDelay:i,repeatType:a,damping:o,type:l}=n;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=s.owner.getProps();return npe()&&r&&epe.has(r)&&!c&&!u&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const ope={type:"spring",stiffness:500,damping:25,restSpeed:10},lpe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cpe={type:"keyframes",duration:.8},dpe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},upe=(e,{keyframes:n})=>n.length>2?cpe:Iu.has(e)?e.startsWith("scale")?lpe(n[1]):ope:dpe;function ppe({when:e,delay:n,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...p}){return!!Object.keys(p).length}const B7=(e,n,s,r={},i,a)=>o=>{const l=N7(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Zl(c);let p={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),...l,delay:-u,onUpdate:m=>{n.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:n,element:a?void 0:i};ppe(l)||(p={...p,...upe(e,p)}),p.duration&&(p.duration=Zl(p.duration)),p.repeatDelay&&(p.repeatDelay=Zl(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let f=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(f=!0)),p.allowFlatten=!l.type&&!l.ease,f&&!a&&n.get()!==void 0){const m=t3(p.keyframes,l);if(m!==void 0)return Fr.update(()=>{p.onUpdate(m),p.onComplete()}),new Ude([])}return!a&&KE.supports(p)?new KE(p):new O7(p)};function fpe({protectedKeys:e,needsAnimating:n},s){const r=e.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,r}function vU(e,n,{delay:s=0,transitionOverride:r,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=n;r&&(o=r);const u=[],p=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const m=e.getValue(f,(a=e.latestValues[f])!==null&&a!==void 0?a:null),h=c[f];if(h===void 0||p&&fpe(p,f))continue;const x={delay:s,...N7(o||{},f)};let g=!1;if(window.MotionHandoffAnimation){const b=BB(e);if(b){const y=window.MotionHandoffAnimation(b,f,Fr);y!==null&&(x.startTime=y,g=!0)}}Cw(e,f),m.start(B7(f,m,h,e.shouldReduceMotion&&PB.has(f)?{type:!1}:x,e,g));const v=m.animation;v&&u.push(v)}return l&&Promise.all(u).then(()=>{Fr.update(()=>{l&&Lde(e,l)})}),u}function Mw(e,n,s={}){var r;const i=wh(e,n,s.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const o=i?()=>Promise.all(vU(e,i,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:p=0,staggerChildren:f,staggerDirection:m}=a;return mpe(e,n,p+u,f,m,s)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,p]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>p())}else return Promise.all([o(),l(s.delay)])}function mpe(e,n,s=0,r=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(hpe).forEach((u,p)=>{u.notify("AnimationStart",n),o.push(Mw(u,n,{...a,delay:s+c(p)}).then(()=>u.notify("AnimationComplete",n)))}),Promise.all(o)}function hpe(e,n){return e.sortNodePosition(n)}function xpe(e,n,s={}){e.notify("AnimationStart",n);let r;if(Array.isArray(n)){const i=n.map(a=>Mw(e,a,s));r=Promise.all(i)}else if(typeof n=="string")r=Mw(e,n,s);else{const i=typeof n=="function"?wh(e,n,s.custom):n;r=Promise.all(vU(e,i,s))}return r.then(()=>{e.notify("AnimationComplete",n)})}function wU(e,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(n[r]!==e[r])return!1;return!0}const gpe=p7.length;function CU(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?CU(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const n={};for(let s=0;s<gpe;s++){const r=p7[s],i=e.props[r];(bh(i)||i===!1)&&(n[r]=i)}return n}const bpe=[...u7].reverse(),ype=u7.length;function vpe(e){return n=>Promise.all(n.map(({animation:s,options:r})=>xpe(e,s,r)))}function wpe(e){let n=vpe(e),s=YE(),r=!0;const i=c=>(u,p)=>{var f;const m=wh(e,p,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:h,transitionEnd:x,...g}=m;u={...u,...g,...x}}return u};function a(c){n=c(e)}function o(c){const{props:u}=e,p=CU(e.parent)||{},f=[],m=new Set;let h={},x=1/0;for(let v=0;v<ype;v++){const b=bpe[v],y=s[b],w=u[b]!==void 0?u[b]:p[b],_=bh(w),N=b===c?y.isActive:null;N===!1&&(x=v);let j=w===p[b]&&w!==u[b]&&_;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...h},!y.isActive&&N===null||!w&&!y.prevProp||Q5(w)||typeof w=="boolean")continue;const C=Cpe(y.prevProp,w);let S=C||b===c&&y.isActive&&!j&&_||v>x&&_,F=!1;const E=Array.isArray(w)?w:[w];let I=E.reduce(i(b),{});N===!1&&(I={});const{prevResolvedValues:T={}}=y,A={...T,...I},D=L=>{S=!0,m.has(L)&&(F=!0,m.delete(L)),y.needsAnimating[L]=!0;const P=e.getValue(L);P&&(P.liveStyle=!1)};for(const L in A){const P=I[L],B=T[L];if(h.hasOwnProperty(L))continue;let G=!1;ww(P)&&ww(B)?G=!wU(P,B):G=P!==B,G?P!=null?D(L):m.add(L):P!==void 0&&m.has(L)?D(L):y.protectedKeys[L]=!0}y.prevProp=w,y.prevResolvedValues=I,y.isActive&&(h={...h,...I}),r&&e.blockInitialAnimation&&(S=!1),S&&(!(j&&C)||F)&&f.push(...E.map(L=>({animation:L,options:{type:b}})))}if(m.size){const v={};if(typeof u.initial!="boolean"){const b=wh(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(v.transition=b.transition)}m.forEach(b=>{const y=e.getBaseTarget(b),w=e.getValue(b);w&&(w.liveStyle=!0),v[b]=y??null}),f.push({animation:v})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?n(f):Promise.resolve()}function l(c,u){var p;if(s[c].isActive===u)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(c,u)}),s[c].isActive=u;const f=o(c);for(const m in s)s[m].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=YE(),r=!0}}}function Cpe(e,n){return typeof n=="string"?n!==e:Array.isArray(n)?!wU(n,e):!1}function Ed(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YE(){return{animate:Ed(!0),whileInView:Ed(),whileHover:Ed(),whileTap:Ed(),whileDrag:Ed(),whileFocus:Ed(),exit:Ed()}}class od{constructor(n){this.isMounted=!1,this.node=n}update(){}}class _pe extends od{constructor(n){super(n),n.animationState||(n.animationState=wpe(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Q5(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}}let jpe=0;class Npe extends od{constructor(){super(...arguments),this.id=jpe++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===r)return;const i=this.node.animationState.setActive("exit",!n);s&&!n&&i.then(()=>{s(this.id)})}mount(){const{register:n,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const Fpe={animation:{Feature:_pe},exit:{Feature:Npe}},Ao={x:!1,y:!1};function _U(){return Ao.x||Ao.y}function Epe(e){return e==="x"||e==="y"?Ao[e]?null:(Ao[e]=!0,()=>{Ao[e]=!1}):Ao.x||Ao.y?null:(Ao.x=Ao.y=!0,()=>{Ao.x=Ao.y=!1})}function jh(e,n,s,r={passive:!0}){return e.addEventListener(n,s,r),()=>e.removeEventListener(n,s)}const U7=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function l0(e){return{point:{x:e.pageX,y:e.pageY}}}const Spe=e=>n=>U7(n)&&e(n,l0(n));function U1(e,n,s,r){return jh(e,n,Spe(s),r)}function jU({top:e,left:n,right:s,bottom:r}){return{x:{min:n,max:s},y:{min:e,max:r}}}function kpe({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function Ipe(e,n){if(!n)return e;const s=n({x:e.left,y:e.top}),r=n({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}const NU=1e-4,Tpe=1-NU,Ape=1+NU,FU=.01,Dpe=0-FU,Mpe=0+FU;function ja(e){return e.max-e.min}function Rpe(e,n,s){return Math.abs(e-n)<=s}function ZE(e,n,s,r=.5){e.origin=r,e.originPoint=ai(n.min,n.max,e.origin),e.scale=ja(s)/ja(n),e.translate=ai(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Tpe&&e.scale<=Ape||isNaN(e.scale))&&(e.scale=1),(e.translate>=Dpe&&e.translate<=Mpe||isNaN(e.translate))&&(e.translate=0)}function H1(e,n,s,r){ZE(e.x,n.x,s.x,r?r.originX:void 0),ZE(e.y,n.y,s.y,r?r.originY:void 0)}function JE(e,n,s){e.min=s.min+n.min,e.max=e.min+ja(n)}function Lpe(e,n,s){JE(e.x,n.x,s.x),JE(e.y,n.y,s.y)}function XE(e,n,s){e.min=n.min-s.min,e.max=e.min+ja(n)}function V1(e,n,s){XE(e.x,n.x,s.x),XE(e.y,n.y,s.y)}const QE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Np=()=>({x:QE(),y:QE()}),eS=()=>({min:0,max:0}),ji=()=>({x:eS(),y:eS()});function co(e){return[e("x"),e("y")]}function Hb(e){return e===void 0||e===1}function Rw({scale:e,scaleX:n,scaleY:s}){return!Hb(e)||!Hb(n)||!Hb(s)}function zd(e){return Rw(e)||EU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function EU(e){return tS(e.x)||tS(e.y)}function tS(e){return e&&e!=="0%"}function B2(e,n,s){const r=e-s,i=n*r;return s+i}function nS(e,n,s,r,i){return i!==void 0&&(e=B2(e,i,r)),B2(e,s,r)+n}function Lw(e,n=0,s=1,r,i){e.min=nS(e.min,n,s,r,i),e.max=nS(e.max,n,s,r,i)}function SU(e,{x:n,y:s}){Lw(e.x,n.translate,n.scale,n.originPoint),Lw(e.y,s.translate,s.scale,s.originPoint)}const sS=.999999999999,rS=1.0000000000001;function Ppe(e,n,s,r=!1){const i=s.length;if(!i)return;n.x=n.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ep(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(n.x*=o.x.scale,n.y*=o.y.scale,SU(e,o)),r&&zd(a.latestValues)&&Ep(e,a.latestValues))}n.x<rS&&n.x>sS&&(n.x=1),n.y<rS&&n.y>sS&&(n.y=1)}function Fp(e,n){e.min=e.min+n,e.max=e.max+n}function iS(e,n,s,r,i=.5){const a=ai(e.min,e.max,i);Lw(e,n,s,a,r)}function Ep(e,n){iS(e.x,n.x,n.scaleX,n.scale,n.originX),iS(e.y,n.y,n.scaleY,n.scale,n.originY)}function kU(e,n){return jU(Ipe(e.getBoundingClientRect(),n))}function Ope(e,n,s){const r=kU(e,s),{scroll:i}=n;return i&&(Fp(r.x,i.offset.x),Fp(r.y,i.offset.y)),r}const IU=({current:e})=>e?e.ownerDocument.defaultView:null,aS=(e,n)=>Math.abs(e-n);function Bpe(e,n){const s=aS(e.x,n.x),r=aS(e.y,n.y);return Math.sqrt(s**2+r**2)}class TU{constructor(n,s,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=$b(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,h=Bpe(f.offset,{x:0,y:0})>=3;if(!m&&!h)return;const{point:x}=f,{timestamp:g}=Ji;this.history.push({...x,timestamp:g});const{onStart:v,onMove:b}=this.handlers;m||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Vb(m,this.transformPagePoint),Fr.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:h,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=$b(f.type==="pointercancel"?this.lastMoveEventInfo:Vb(m,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,v),x&&x(f,v)},!U7(n))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.contextWindow=i||window;const o=l0(n),l=Vb(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ji;this.history=[{...c,timestamp:u}];const{onSessionStart:p}=s;p&&p(n,$b(l,this.history)),this.removeListeners=o0(U1(this.contextWindow,"pointermove",this.handlePointerMove),U1(this.contextWindow,"pointerup",this.handlePointerUp),U1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),Jc(this.updatePoint)}}function Vb(e,n){return n?{point:n(e.point)}:e}function oS(e,n){return{x:e.x-n.x,y:e.y-n.y}}function $b({point:e},n){return{point:e,delta:oS(e,AU(n)),offset:oS(e,Upe(n)),velocity:Hpe(n,.1)}}function Upe(e){return e[0]}function AU(e){return e[e.length-1]}function Hpe(e,n){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const i=AU(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>Zl(n)));)s--;if(!r)return{x:0,y:0};const a=Jl(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Vpe(e,{min:n,max:s},r){return n!==void 0&&e<n?e=r?ai(n,e,r.min):Math.max(e,n):s!==void 0&&e>s&&(e=r?ai(s,e,r.max):Math.min(e,s)),e}function lS(e,n,s){return{min:n!==void 0?e.min+n:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function $pe(e,{top:n,left:s,bottom:r,right:i}){return{x:lS(e.x,s,i),y:lS(e.y,n,r)}}function cS(e,n){let s=n.min-e.min,r=n.max-e.max;return n.max-n.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function zpe(e,n){return{x:cS(e.x,n.x),y:cS(e.y,n.y)}}function Wpe(e,n){let s=.5;const r=ja(e),i=ja(n);return i>r?s=af(n.min,n.max-r,e.min):r>i&&(s=af(e.min,e.max-i,n.min)),tc(0,1,s)}function Gpe(e,n){const s={};return n.min!==void 0&&(s.min=n.min-e.min),n.max!==void 0&&(s.max=n.max-e.min),s}const Pw=.35;function qpe(e=Pw){return e===!1?e=0:e===!0&&(e=Pw),{x:dS(e,"left","right"),y:dS(e,"top","bottom")}}function dS(e,n,s){return{min:uS(e,n),max:uS(e,s)}}function uS(e,n){return typeof e=="number"?e:e[n]||0}const Kpe=new WeakMap;class Ype{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ji(),this.visualElement=n}start(n,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(l0(p).point)},a=(p,f)=>{const{drag:m,dragPropagation:h,onDragStart:x}=this.getProps();if(m&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Epe(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),co(v=>{let b=this.getAxisMotionValue(v).get()||0;if(ml.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[v];w&&(b=ja(w)*(parseFloat(b)/100))}}this.originPoint[v]=b}),x&&Fr.postRender(()=>x(p,f)),Cw(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(p,f)=>{const{dragPropagation:m,dragDirectionLock:h,onDirectionLock:x,onDrag:g}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=f;if(h&&this.currentDirection===null){this.currentDirection=Zpe(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&g(p,f)},l=(p,f)=>this.stop(p,f),c=()=>co(p=>{var f;return this.getAnimationState(p)==="paused"&&((f=this.getAxisMotionValue(p).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new TU(n,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:IU(this.visualElement)})}stop(n,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Fr.postRender(()=>a(n,s))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(n,s,r){const{drag:i}=this.getProps();if(!r||!xx(n,i,this.currentDirection))return;const a=this.getAxisMotionValue(n);let o=this.originPoint[n]+r[n];this.constraints&&this.constraints[n]&&(o=Vpe(o,this.constraints[n],this.elastic[n])),a.set(o)}resolveConstraints(){var n;const{dragConstraints:s,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,a=this.constraints;s&&_p(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=$pe(i.layoutBox,s):this.constraints=!1,this.elastic=qpe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&co(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Gpe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!_p(n))return!1;const r=n.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Ope(r,i.root,this.visualElement.getTransformPagePoint());let o=zpe(i.layout.layoutBox,a);if(s){const l=s(kpe(o));this.hasMutatedConstraints=!!l,l&&(o=jU(l))}return o}startAnimation(n){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=co(p=>{if(!xx(p,s,this.currentDirection))return;let f=c&&c[p]||{};o&&(f={min:0,max:0});const m=i?200:1e6,h=i?40:1e7,x={type:"inertia",velocity:r?n[p]:0,bounceStiffness:m,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(p,x)});return Promise.all(u).then(l)}startAxisValueAnimation(n,s){const r=this.getAxisMotionValue(n);return Cw(this.visualElement,n),r.start(B7(n,r,0,s,this.visualElement,!1))}stopAnimation(){co(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){co(n=>{var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(n){var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(n,(r.initial?r.initial[n]:void 0)||0)}snapToCursor(n){co(s=>{const{drag:r}=this.getProps();if(!xx(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(n[s]-ai(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!_p(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};co(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=Wpe({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),co(o=>{if(!xx(o,n,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(ai(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Kpe.set(this.visualElement,this);const n=this.visualElement.current,s=U1(n,"pointerdown",c=>{const{drag:u,dragListener:p=!0}=this.getProps();u&&p&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();_p(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Fr.read(r);const o=jh(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(co(p=>{const f=this.getAxisMotionValue(p);f&&(this.originPoint[p]+=c[p].translate,f.set(f.get()+c[p].translate))}),this.visualElement.render())}));return()=>{o(),s(),a(),l&&l()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Pw,dragMomentum:l=!0}=n;return{...n,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function xx(e,n,s){return(n===!0||n===e)&&(s===null||s===e)}function Zpe(e,n=10){let s=null;return Math.abs(e.y)>n?s="y":Math.abs(e.x)>n&&(s="x"),s}class Jpe extends od{constructor(n){super(n),this.removeGroupControls=to,this.removeListeners=to,this.controls=new Ype(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||to}unmount(){this.removeGroupControls(),this.removeListeners()}}const pS=e=>(n,s)=>{e&&Fr.postRender(()=>e(n,s))};class Xpe extends od{constructor(){super(...arguments),this.removePointerDownListener=to}onPointerDown(n){this.session=new TU(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IU(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:pS(n),onStart:pS(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Fr.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=U1(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ng={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fS(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}const Pm={correct:(e,n)=>{if(!n.target)return e;if(typeof e=="string")if(ds.test(e))e=parseFloat(e);else return e;const s=fS(e,n.target.x),r=fS(e,n.target.y);return`${s}% ${r}%`}},Qpe={correct:(e,{treeScale:n,projectionDelta:s})=>{const r=e,i=Xc.parse(e);if(i.length>5)return r;const a=Xc.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*n.x,c=s.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const u=ai(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class efe extends d.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=n;ode(tfe),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ng.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||n.layoutDependency!==s||s===void 0||n.isPresent!==a?o.willUpdate():this.safeToRemove(),n.isPresent!==a&&(a?o.promote():o.relegate()||Fr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),f7.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=n;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function DU(e){const[n,s]=xB(),r=d.useContext(gh);return t.jsx(efe,{...e,layoutGroup:r,switchLayoutGroup:d.useContext(jB),isPresent:n,safeToRemove:s})}const tfe={borderRadius:{...Pm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pm,borderTopRightRadius:Pm,borderBottomLeftRadius:Pm,borderBottomRightRadius:Pm,boxShadow:Qpe};function nfe(e,n,s){const r=pa(e)?e:Ch(e);return r.start(B7("",r,n,s)),r.animation}function sfe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const rfe=(e,n)=>e.depth-n.depth;class ife{constructor(){this.children=[],this.isDirty=!1}add(n){F7(this.children,n),this.isDirty=!0}remove(n){E7(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(rfe),this.isDirty=!1,this.children.forEach(n)}}function afe(e,n){const s=hl.now(),r=({timestamp:i})=>{const a=i-s;a>=n&&(Jc(r),e(a-n))};return Fr.read(r,!0),()=>Jc(r)}const MU=["TopLeft","TopRight","BottomLeft","BottomRight"],ofe=MU.length,mS=e=>typeof e=="string"?parseFloat(e):e,hS=e=>typeof e=="number"||ds.test(e);function lfe(e,n,s,r,i,a){i?(e.opacity=ai(0,s.opacity!==void 0?s.opacity:1,cfe(r)),e.opacityExit=ai(n.opacity!==void 0?n.opacity:1,0,dfe(r))):a&&(e.opacity=ai(n.opacity!==void 0?n.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let o=0;o<ofe;o++){const l=`border${MU[o]}Radius`;let c=xS(n,l),u=xS(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||hS(c)===hS(u)?(e[l]=Math.max(ai(mS(c),mS(u),r),0),(ml.test(u)||ml.test(c))&&(e[l]+="%")):e[l]=u}(n.rotate||s.rotate)&&(e.rotate=ai(n.rotate||0,s.rotate||0,r))}function xS(e,n){return e[n]!==void 0?e[n]:e.borderRadius}const cfe=RU(0,.5,YB),dfe=RU(.5,.95,to);function RU(e,n,s){return r=>r<e?0:r>n?1:s(af(e,n,r))}function gS(e,n){e.min=n.min,e.max=n.max}function oo(e,n){gS(e.x,n.x),gS(e.y,n.y)}function bS(e,n){e.translate=n.translate,e.scale=n.scale,e.originPoint=n.originPoint,e.origin=n.origin}function yS(e,n,s,r,i){return e-=n,e=B2(e,1/s,r),i!==void 0&&(e=B2(e,1/i,r)),e}function ufe(e,n=0,s=1,r=.5,i,a=e,o=e){if(ml.test(n)&&(n=parseFloat(n),n=ai(o.min,o.max,n/100)-o.min),typeof n!="number")return;let l=ai(a.min,a.max,r);e===a&&(l-=n),e.min=yS(e.min,n,s,l,i),e.max=yS(e.max,n,s,l,i)}function vS(e,n,[s,r,i],a,o){ufe(e,n[s],n[r],n[i],n.scale,a,o)}const pfe=["x","scaleX","originX"],ffe=["y","scaleY","originY"];function wS(e,n,s,r){vS(e.x,n,pfe,s?s.x:void 0,r?r.x:void 0),vS(e.y,n,ffe,s?s.y:void 0,r?r.y:void 0)}function CS(e){return e.translate===0&&e.scale===1}function LU(e){return CS(e.x)&&CS(e.y)}function _S(e,n){return e.min===n.min&&e.max===n.max}function mfe(e,n){return _S(e.x,n.x)&&_S(e.y,n.y)}function jS(e,n){return Math.round(e.min)===Math.round(n.min)&&Math.round(e.max)===Math.round(n.max)}function PU(e,n){return jS(e.x,n.x)&&jS(e.y,n.y)}function NS(e){return ja(e.x)/ja(e.y)}function FS(e,n){return e.translate===n.translate&&e.scale===n.scale&&e.originPoint===n.originPoint}class hfe{constructor(){this.members=[]}add(n){F7(this.members,n),n.scheduleRender()}remove(n){if(E7(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(i=>n===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(n,s){const r=this.lead;if(n!==r&&(this.prevLead=r,this.lead=n,n.show(),r)){r.instance&&r.scheduleRender(),n.scheduleRender(),n.resumeFrom=r,s&&(n.resumeFrom.preserveOpacity=!0),r.snapshot&&(n.snapshot=r.snapshot,n.snapshot.latestValues=r.animationValues||r.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:i}=n.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:r}=n;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xfe(e,n,s){let r="";const i=e.x.translate/n.x,a=e.y.translate/n.y,o=s?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(n.x!==1||n.y!==1)&&(r+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:u,rotate:p,rotateX:f,rotateY:m,skewX:h,skewY:x}=s;u&&(r=`perspective(${u}px) ${r}`),p&&(r+=`rotate(${p}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),h&&(r+=`skewX(${h}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*n.x,c=e.y.scale*n.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const zb=["","X","Y","Z"],gfe={visibility:"hidden"},ES=1e3;let bfe=0;function Wb(e,n,s,r){const{latestValues:i}=n;i[e]&&(s[e]=i[e],n.setStaticValue(e,0),r&&(r[e]=0))}function OU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:n}=e.options;if(!n)return;const s=BB(n);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Fr,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&OU(r)}function BU({attachResizeListener:e,defaultParent:n,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=n?.()){this.id=bfe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wfe),this.nodes.forEach(Ffe),this.nodes.forEach(Efe),this.nodes.forEach(Cfe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ife)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new S7),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sfe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=afe(m,250),Ng.hasAnimatedSinceResize&&(Ng.hasAnimatedSinceResize=!1,this.nodes.forEach(kS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:h,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||p.getDefaultTransition()||Afe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=p.getProps(),y=!this.targetLayout||!PU(this.targetLayout,x),w=!m&&h;if(this.options.layoutRoot||this.resumeFrom||w||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const _={...N7(g,"layout"),onPlay:v,onComplete:b};(p.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else m||kS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Jc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sfe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const f=this.path[p];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SS);return}this.isUpdating||this.nodes.forEach(jfe),this.isUpdating=!1,this.nodes.forEach(Nfe),this.nodes.forEach(yfe),this.nodes.forEach(vfe),this.clearAllSnapshots();const l=hl.now();Ji.delta=tc(0,1e3/60,l-Ji.timestamp),Ji.timestamp=l,Ji.isProcessing=!0,Lb.update.process(Ji),Lb.preRender.process(Ji),Lb.render.process(Ji),Ji.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,f7.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_fe),this.sharedNodes.forEach(kfe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ja(this.snapshot.measuredBox.x)&&!ja(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ji(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!LU(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,p=u!==this.prevTransformTemplateValue;o&&(l||zd(this.latestValues)||p)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Dfe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ji();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Mfe))){const{scroll:p}=this.root;p&&(Fp(c.x,p.offset.x),Fp(c.y,p.offset.y))}return c}removeElementScroll(o){var l;const c=ji();if(oo(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const p=this.path[u],{scroll:f,options:m}=p;p!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&oo(c,o),Fp(c.x,f.offset.x),Fp(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=ji();oo(c,o);for(let u=0;u<this.path.length;u++){const p=this.path[u];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ep(c,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),zd(p.latestValues)&&Ep(c,p.latestValues)}return zd(this.latestValues)&&Ep(c,this.latestValues),c}removeTransform(o){const l=ji();oo(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!zd(u.latestValues))continue;Rw(u.latestValues)&&u.updateSnapshot();const p=ji(),f=u.measurePageBox();oo(p,f),wS(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,p)}return zd(this.latestValues)&&wS(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ji.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Ji.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ji(),this.relativeTargetOrigin=ji(),V1(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),oo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ji(),this.targetWithTransforms=ji()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lpe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oo(this.target,this.layout.layoutBox),SU(this.target,this.targetDelta)):oo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ji(),this.relativeTargetOrigin=ji(),V1(this.relativeTargetOrigin,this.target,h.target),oo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Rw(this.parent.latestValues)||EU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ji.timestamp&&(u=!1),u)return;const{layout:p,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||f))return;oo(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,h=this.treeScale.y;Ppe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ji());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bS(this.prevProjectionDelta.x,this.projectionDelta.x),bS(this.prevProjectionDelta.y,this.projectionDelta.y)),H1(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==h||!FS(this.projectionDelta.x,this.prevProjectionDelta.x)||!FS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Np(),this.projectionDelta=Np(),this.projectionDeltaWithTransform=Np()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},p={...this.latestValues},f=Np();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ji(),h=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=h!==x,v=this.getStack(),b=!v||v.members.length<=1,y=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(Tfe));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const N=_/1e3;IS(f.x,o.x,N),IS(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(V1(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ife(this.relativeTarget,this.relativeTargetOrigin,m,N),w&&mfe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ji()),oo(w,this.relativeTarget)),g&&(this.animationValues=p,lfe(p,u,this.latestValues,N,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Jc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fr.update(()=>{Ng.hasAnimatedSinceResize=!0,this.currentAnimation=nfe(0,ES,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ES),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:p}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&UU(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ji();const f=ja(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=ja(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}oo(l,c),Ep(l,p),H1(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new hfe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Wb("z",o,u,this.animationValues);for(let p=0;p<zb.length;p++)Wb(`rotate${zb[p]}`,o,u,this.animationValues),Wb(`skew${zb[p]}`,o,u,this.animationValues);o.render();for(const p in u)o.setStaticValue(p,u[p]),this.animationValues&&(this.animationValues[p]=u[p]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gfe;const u={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=_g(o?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=_g(o?.pointerEvents)||""),this.hasProjected&&!zd(this.latestValues)&&(g.transform=p?p({},""):"none",this.hasProjected=!1),g}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=xfe(this.projectionDeltaWithTransform,this.treeScale,m),p&&(u.transform=p(m,u.transform));const{x:h,y:x}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${x.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const g in yh){if(m[g]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:y}=yh[g],w=u.transform==="none"?m[g]:v(m[g],f);if(b){const _=b.length;for(let N=0;N<_;N++)u[b[N]]=w}else y?this.options.visualElement.renderState.vars[g]=w:u[g]=w}return this.options.layoutId&&(u.pointerEvents=f===this?_g(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(SS),this.root.sharedNodes.clear()}}}function yfe(e){e.updateLayout()}function vfe(e){var n;const s=((n=e.resumeFrom)===null||n===void 0?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=s.source!==e.layout.source;a==="size"?co(f=>{const m=o?s.measuredBox[f]:s.layoutBox[f],h=ja(m);m.min=r[f].min,m.max=m.min+h}):UU(a,s.layoutBox,r)&&co(f=>{const m=o?s.measuredBox[f]:s.layoutBox[f],h=ja(r[f]);m.max=m.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const l=Np();H1(l,r,s.layoutBox);const c=Np();o?H1(c,e.applyTransform(i,!0),s.measuredBox):H1(c,r,s.layoutBox);const u=!LU(l);let p=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:h}=f;if(m&&h){const x=ji();V1(x,s.layoutBox,m.layoutBox);const g=ji();V1(g,r,h.layoutBox),PU(x,g)||(p=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function wfe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Cfe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _fe(e){e.clearSnapshot()}function SS(e){e.clearMeasurements()}function jfe(e){e.isLayoutDirty=!1}function Nfe(e){const{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function kS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ffe(e){e.resolveTargetDelta()}function Efe(e){e.calcProjection()}function Sfe(e){e.resetSkewAndRotation()}function kfe(e){e.removeLeadSnapshot()}function IS(e,n,s){e.translate=ai(n.translate,0,s),e.scale=ai(n.scale,1,s),e.origin=n.origin,e.originPoint=n.originPoint}function TS(e,n,s,r){e.min=ai(n.min,s.min,r),e.max=ai(n.max,s.max,r)}function Ife(e,n,s,r){TS(e.x,n.x,s.x,r),TS(e.y,n.y,s.y,r)}function Tfe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Afe={duration:.45,ease:[.4,0,.1,1]},AS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),DS=AS("applewebkit/")&&!AS("chrome/")?Math.round:to;function MS(e){e.min=DS(e.min),e.max=DS(e.max)}function Dfe(e){MS(e.x),MS(e.y)}function UU(e,n,s){return e==="position"||e==="preserve-aspect"&&!Rpe(NS(n),NS(s),.2)}function Mfe(e){var n;return e!==e.root&&((n=e.scroll)===null||n===void 0?void 0:n.wasRoot)}const Rfe=BU({attachResizeListener:(e,n)=>jh(e,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gb={current:void 0},HU=BU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gb.current){const e=new Rfe({});e.mount(window),e.setOptions({layoutScroll:!0}),Gb.current=e}return Gb.current},resetTransform:(e,n)=>{e.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Lfe={pan:{Feature:Xpe},drag:{Feature:Jpe,ProjectionNode:HU,MeasureLayout:DU}};function Pfe(e,n,s){var r;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function VU(e,n){const s=Pfe(e),r=new AbortController,i={passive:!0,...n,signal:r.signal};return[s,i,()=>r.abort()]}function RS(e){return!(e.pointerType==="touch"||_U())}function Ofe(e,n,s={}){const[r,i,a]=VU(e,s),o=l=>{if(!RS(l))return;const{target:c}=l,u=n(c,l);if(typeof u!="function"||!c)return;const p=f=>{RS(f)&&(u(f),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}function LS(e,n,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&Fr.postRender(()=>a(n,l0(n)))}class Bfe extends od{mount(){const{current:n}=this.node;n&&(this.unmount=Ofe(n,(s,r)=>(LS(this.node,r,"Start"),i=>LS(this.node,i,"End"))))}unmount(){}}class Ufe extends od{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=o0(jh(this.node.current,"focus",()=>this.onFocus()),jh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function PS(e,n){const s=`${n}PointerCapture`;if(e.target instanceof Element&&s in e.target&&e.pointerId!==void 0)try{e.target[s](e.pointerId)}catch{}}const $U=(e,n)=>n?e===n?!0:$U(e,n.parentElement):!1,Hfe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Vfe(e){return Hfe.has(e.tagName)||e.tabIndex!==-1}const b1=new WeakSet;function OS(e){return n=>{n.key==="Enter"&&e(n)}}function qb(e,n){e.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const $fe=(e,n)=>{const s=e.currentTarget;if(!s)return;const r=OS(()=>{if(b1.has(s))return;qb(s,"down");const i=OS(()=>{qb(s,"up")}),a=()=>qb(s,"cancel");s.addEventListener("keyup",i,n),s.addEventListener("blur",a,n)});s.addEventListener("keydown",r,n),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),n)};function BS(e){return U7(e)&&!_U()}function zfe(e,n,s={}){const[r,i,a]=VU(e,s),o=l=>{const c=l.currentTarget;if(!c||!BS(l)||b1.has(c))return;b1.add(c),PS(l,"set");const u=n(c,l),p=(h,x)=>{c.removeEventListener("pointerup",f),c.removeEventListener("pointercancel",m),PS(h,"release"),!(!BS(h)||!b1.has(c))&&(b1.delete(c),typeof u=="function"&&u(h,{success:x}))},f=h=>{(h.isTrusted?Wfe(h,c instanceof Element?c.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?p(h,!1):p(h,!(c instanceof Element)||$U(c,h.target))},m=h=>{p(h,!1)};c.addEventListener("pointerup",f,i),c.addEventListener("pointercancel",m,i),c.addEventListener("lostpointercapture",m,i)};return r.forEach(l=>{l=s.useGlobalTarget?window:l;let c=!1;l instanceof HTMLElement&&(c=!0,!Vfe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0)),l.addEventListener("pointerdown",o,i),c&&l.addEventListener("focus",u=>$fe(u,i),i)}),a}function Wfe(e,n){return e.clientX<n.left||e.clientX>n.right||e.clientY<n.top||e.clientY>n.bottom}function US(e,n,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&Fr.postRender(()=>a(n,l0(n)))}class Gfe extends od{mount(){const{current:n}=this.node;n&&(this.unmount=zfe(n,(s,r)=>(US(this.node,r,"Start"),(i,{success:a})=>US(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ow=new WeakMap,Kb=new WeakMap,qfe=e=>{const n=Ow.get(e.target);n&&n(e)},Kfe=e=>{e.forEach(qfe)};function Yfe({root:e,...n}){const s=e||document;Kb.has(s)||Kb.set(s,{});const r=Kb.get(s),i=JSON.stringify(n);return r[i]||(r[i]=new IntersectionObserver(Kfe,{root:e,...n})),r[i]}function Zfe(e,n,s){const r=Yfe(n);return Ow.set(e,s),r.observe(e),()=>{Ow.delete(e),r.unobserve(e)}}const Jfe={some:0,all:1};class Xfe extends od{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=n,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Jfe[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:p,onViewportLeave:f}=this.node.getProps(),m=u?p:f;m&&m(c)};return Zfe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(Qfe(n,s))&&this.startObserver()}unmount(){}}function Qfe({viewport:e={}},{viewport:n={}}={}){return s=>e[s]!==n[s]}const eme={inView:{Feature:Xfe},tap:{Feature:Gfe},focus:{Feature:Ufe},hover:{Feature:Bfe}},tme={layout:{ProjectionNode:HU,MeasureLayout:DU}},Bw={current:null},zU={current:!1};function nme(){if(zU.current=!0,!!l7)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),n=()=>Bw.current=e.matches;e.addListener(n),n()}else Bw.current=!1}const sme=[...dU,oa,Xc],rme=e=>sme.find(cU(e)),ime=new WeakMap;function ame(e,n,s){for(const r in n){const i=n[r],a=s[r];if(pa(i))e.addValue(r,i);else if(pa(a))e.addValue(r,Ch(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Ch(o!==void 0?o:i,{owner:e}))}}for(const r in s)n[r]===void 0&&e.removeValue(r);return n}const HS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ome{scrapeMotionValuesFromProps(n,s,r){return{}}constructor({parent:n,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=L7,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=hl.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Fr.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:p}=o;this.onUpdate=p,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=u,this.parent=n,this.props=s,this.presenceContext=r,this.depth=n?n.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=e3(s),this.isVariantNode=CB(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const h in m){const x=m[h];c[h]!==void 0&&pa(x)&&x.set(c[h],!1)}}mount(n){this.current=n,ime.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),zU.current||nme(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Jc(this.notifyUpdate),Jc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(n,s){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const r=Iu.has(n);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",l=>{this.latestValues[n]=l,this.props.onUpdate&&Fr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,n,s)),this.valueSubscriptions.set(n,()=>{i(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in rf){const s=rf[n];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[n]&&i&&r(this.props)&&(this.features[n]=new i(this)),this.features[n]){const a=this.features[n];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ji()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<HS.length;r++){const i=HS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=n[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=ame(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const r=this.values.get(n);s!==r&&(r&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let r=this.values.get(n);return r===void 0&&s!==void 0&&(r=Ch(s===null?void 0:s,{owner:this}),this.addValue(n,r)),r}readValue(n,s){var r;let i=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(r=this.getBaseTargetFromProps(this.props,n))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,n,this.options);return i!=null&&(typeof i=="string"&&(oU(i)||JB(i))?i=parseFloat(i):!rme(i)&&Xc.test(s)&&(i=rU(n,s)),this.setBaseTarget(n,pa(i)?i.get():i)),pa(i)?i.get():i}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){var s;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=_7(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(i=o[n])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,n);return a!==void 0&&!pa(a)?a:this.initialValues[n]!==void 0&&i===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new S7),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}}class WU extends ome{constructor(){super(...arguments),this.KeyframeResolver=uU}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){return n.style?n.style[s]:void 0}removeValueFromRenderState(n,{vars:s,style:r}){delete s[n],delete r[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;pa(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function lme(e){return window.getComputedStyle(e)}class cme extends WU{constructor(){super(...arguments),this.type="html",this.renderInstance=DB}readValueFromInstance(n,s){if(Iu.has(s))return pue(n,s);{const r=lme(n),i=(h7(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(n,{transformPagePoint:s}){return kU(n,s)}build(n,s,r){b7(n,s,r.transformTemplate)}scrapeMotionValuesFromProps(n,s,r){return j7(n,s,r)}}class dme extends WU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ji,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&AB(this.current,this.renderState)}}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if(Iu.has(s)){const r=sU(s);return r&&r.default||0}return s=MB.has(s)?s:m7(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,r){return LB(n,s,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Fr.postRender(this.updateDimensions)}build(n,s,r){w7(n,s,this.isSVGTag,r.transformTemplate)}renderInstance(n,s,r,i){RB(n,s,r,i)}mount(n){this.isSVGTag=C7(n.tagName),super.mount(n)}}const ume=(e,n)=>v7(e)?new dme(n):new cme(n,{allowProjection:e!==d.Fragment}),pme=Tde({...Fpe,...eme,...Lfe,...tme},ume),Rn=qce(pme);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fme=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GU=(...e)=>e.filter((n,s,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===s).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mme={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=d.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>d.createElement("svg",{ref:c,...mme,width:n,height:n,stroke:e,strokeWidth:r?Number(s)*24/Number(n):s,className:GU("lucide",i),...l},[...o.map(([u,p])=>d.createElement(u,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=(e,n)=>{const s=d.forwardRef(({className:r,...i},a)=>d.createElement(hme,{ref:a,iconNode:n,className:GU(`lucide-${fme(e)}`,r),...i}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=gn("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=gn("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=gn("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=gn("ArrowLeftToLine",[["path",{d:"M3 19V5",key:"rwsyhb"}],["path",{d:"m13 6-6 6 6 6",key:"1yhaz7"}],["path",{d:"M7 12h14",key:"uoisry"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=gn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=gn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=gn("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bme=gn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yme=gn("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=gn("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=gn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=gn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=gn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=gn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=gn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=gn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=gn("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=gn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=gn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _me=gn("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=gn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=gn("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=gn("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fme=gn("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=gn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=gn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=gn("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=gn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=gn("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=gn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=gn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=gn("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sme=gn("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=gn("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=gn("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=gn("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=gn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=gn("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=gn("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tme=gn("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=gn("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=gn("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=gn("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=gn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=gn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mme=gn("MessageCircleWarning",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=gn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=gn("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=gn("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=gn("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=gn("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=gn("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=gn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=gn("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=gn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=gn("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=gn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=gn("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=gn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=gn("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ume=gn("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hme=gn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=gn("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=gn("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=gn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=gn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=gn("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=gn("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gme=gn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=gn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=gn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=gn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Tu=sK,Au=rK,ld=d.forwardRef(({className:e,children:n,...s},r)=>t.jsxs(pM,{ref:r,className:k("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm font-normal shadow-sm ring-offset-background data-[placeholder]:text-tertiary focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 group",e),...s,children:[n,t.jsx(Xq,{asChild:!0,children:t.jsx(Ur,{className:"h-4 w-4 opacity-50 transition-transform duration-200 group-data-[state=open]:rotate-180"})})]}));ld.displayName=pM.displayName;const XU=d.forwardRef(({className:e,...n},s)=>t.jsx(fM,{ref:s,className:k("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(n3,{className:"w-4 h-4"})}));XU.displayName=fM.displayName;const QU=d.forwardRef(({className:e,...n},s)=>t.jsx(mM,{ref:s,className:k("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(Ur,{className:"w-4 h-4"})}));QU.displayName=mM.displayName;const cd=d.forwardRef(({className:e,children:n,position:s="popper",...r},i)=>t.jsx(Qq,{children:t.jsxs(hM,{ref:i,className:k("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[t.jsx(XU,{}),t.jsx(eK,{className:k("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),t.jsx(QU,{})]})}));cd.displayName=hM.displayName;const Kme=d.forwardRef(({className:e,...n},s)=>t.jsx(xM,{ref:s,className:k("py-1.5 pl-8 pr-2 text-base font-semibold",e),...n}));Kme.displayName=xM.displayName;const wo=d.forwardRef(({className:e,children:n,...s},r)=>t.jsxs(gM,{ref:r,className:k("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none focus:bg-[#222] focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(tK,{children:t.jsx(xn,{className:"w-4 h-4"})})}),t.jsx(nK,{children:n})]}));wo.displayName=gM.displayName;const Yme=d.forwardRef(({className:e,...n},s)=>t.jsx(bM,{ref:s,className:k("-mx-1 my-1 h-px bg-muted",e),...n}));Yme.displayName=bM.displayName;var Zme=XK();const Fh=ga(Zme),Gi=d.forwardRef(({className:e,type:n,...s},r)=>t.jsx("input",{type:n,className:k("flex h-10 w-full rounded-md border border-input bg-background px-4 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));Gi.displayName="Input";function Jme({selectedImage:e,setSelectedImage:n,globalConfig:s,label:r="Docker Image",description:i,isCloudFlow:a}){const{toast:o}=ns(),[l,c]=d.useState([]),[u,p]=d.useState(!0),[f,m]=d.useState(!1),[h,x]=d.useState({}),[g,v]=d.useState({}),[b,y]=d.useState(!1),w=H9();d.useEffect(()=>{(async()=>{if(!w){p(!1);return}try{p(!0);const C=await Af.listImages();c(C)}catch{o({title:"Error",description:"Failed to fetch Docker images",variant:"destructive"})}finally{p(!1)}})()},[w]);const _=()=>t.jsx("p",{className:"text-[#FFFFFF50] font-['Inter'] text-sm",children:r}),N=j=>{const C=s?.templates?.find(F=>F?.env_image===j);if(C)return C?.name||C?.env_image;const S=l?.find(F=>F?.env_image===j);return S?S?.repo_name||S?.env_image:""};return t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-2",children:_()}),f?t.jsx(Gi,{id:"imageInput",value:e,onChange:j=>{n(j?.target?.value),H(qn.HOME_PAGE_EVENTS.SELECT_TEMPLATE_UPDATED,{selectedImage:N(j?.target?.value)})},placeholder:"Enter container image name/tag",className:"mb-4"}):t.jsxs(Tu,{value:e,onValueChange:j=>{n(j),H(qn.HOME_PAGE_EVENTS.SELECT_TEMPLATE_UPDATED,{selectedImage:N(j)})},disabled:u,open:b,onOpenChange:y,children:[t.jsx(ld,{className:"w-full h-14 bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] hover:border-[#ffffff30] transition-colors data-[state=open]:border-[#ffffff30] ",children:u?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tn,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Loading images..."})]}):t.jsx(Au,{placeholder:"Select an image",children:(()=>{const j=s?.templates?.find(S=>S.env_image===e);if(j)return j.name||j.env_image;const C=l.find(S=>S.env_image===e);return C?C.repo_name||C.env_image:e||"Select an image"})()})}),t.jsx(cd,{className:"bg-[#131314] border border-[#222]",children:l.length>0||s?.templates?.length>0?t.jsx(t.Fragment,{children:a?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"py-2 px-2 text-xs font-medium text-[#666]",children:"Select Template"}),s?.templates?.filter(j=>j.is_cloud_flow).map((j,C)=>t.jsx(wo,{value:j.env_image,className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:t.jsx("div",{className:"flex items-center justify-between w-full",children:t.jsx("span",{className:"truncate",children:j.name||j.env_image})})},`cloud-${j.env_image}-${C}`))]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"py-2 px-2 text-xs font-medium text-[#666]",children:"Template Docker Images"}),s?.templates?.filter(j=>!j.is_cloud_flow).map((j,C)=>{const S=l.find(F=>F.env_image===j.env_image);return S&&j.image_tag&&(S.digest,j.image_tag),h[j.env_image],t.jsx(wo,{value:j.env_image,className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:t.jsx("div",{className:"flex items-center justify-between w-full",children:t.jsx("span",{className:"truncate",children:j.name||j.env_image})})},`template-${j.env_image}-${C}`)}),t.jsx("div",{className:"h-px bg-[#222] my-2"}),t.jsx("div",{className:"py-2 px-2 text-xs font-medium text-[#666]",children:"Local Docker Images"}),l.filter(j=>!s?.templates?.some(C=>C.env_image===j.env_image)).map((j,C)=>t.jsx(wo,{value:j.env_image,className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:t.jsx("div",{className:"flex items-center justify-between w-full",children:t.jsx("span",{className:"truncate",children:j.env_image})})},`local-${j.env_image}-${C}`))]})}):t.jsx("div",{className:"py-6 text-center text-sm text-[#666]",children:u?"Loading images...":"No images found"})})]}),!e&&t.jsx("p",{className:"mt-1 text-sm text-destructive",children:"Container image is required"})]})}const WS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,GS=oB,r3=(e,n)=>s=>{var r;if(n?.variants==null)return GS(e,s?.class,s?.className);const{variants:i,defaultVariants:a}=n,o=Object.keys(i).map(u=>{const p=s?.[u],f=a?.[u];if(p===null)return null;const m=WS(p)||WS(f);return i[u][m]}),l=s&&Object.entries(s).reduce((u,p)=>{let[f,m]=p;return m===void 0||(u[f]=m),u},{}),c=n==null||(r=n.compoundVariants)===null||r===void 0?void 0:r.reduce((u,p)=>{let{class:f,className:m,...h}=p;return Object.entries(h).every(x=>{let[g,v]=x;return Array.isArray(v)?v.includes({...a,...l}[g]):{...a,...l}[g]===v})?[...u,f,m]:u},[]);return GS(e,o,c,s?.class,s?.className)},yu=r3("inline-flex items-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-20 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input/10 text-background hover:border-input/10 hover:bg-background",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 px-4 py-3",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 pl-3 rounded-[28px] gap-2",sm:"h-9 pl-3 rounded-[28px] gap-2",lg:"h-11 pl-3 rounded-[28px] gap-2",icon:"h-10 w-10"},expandOnHover:{true:"pr-3 hover:pr-6 group",false:"pr-3"}},defaultVariants:{variant:"default",size:"default",expandOnHover:!1}}),zt=d.forwardRef(({className:e,variant:n,size:s,asChild:r=!1,children:i,rightIcon:a,expandOnHover:o,forceHover:l,centerContent:c,...u},p)=>{const f=r?iK:"button",m=!!a;return t.jsxs(f,{className:k(yu({variant:n,size:s,expandOnHover:o,className:e}),m&&"justify-between",!m&&"justify-center",l&&o&&"pr-6"),ref:p,...u,children:[t.jsx("div",{className:k("flex items-center w-full",c&&"justify-center"),children:i}),a&&t.jsx("div",{className:k("flex items-center transition-transform duration-300 ease-in-out",o&&l&&"translate-x-2"),children:a})]})});zt.displayName="Button";const eH=d.forwardRef(({className:e,...n},s)=>t.jsx(yM,{ref:s,className:k("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...n,children:t.jsx(aK,{className:k("flex items-center justify-center text-current"),children:t.jsx(xn,{className:"h-4 w-4"})})}));eH.displayName=yM.displayName;const Xme=r3("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tH({className:e,variant:n,...s}){return t.jsx("div",{className:k(Xme({variant:n}),e),...s})}const Qme=lK,e1e=cK,t1e=d.forwardRef(({className:e,inset:n,children:s,...r},i)=>t.jsxs(vM,{ref:i,className:k("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",e),...r,children:[s,t.jsx(Bo,{className:"ml-auto"})]}));t1e.displayName=vM.displayName;const n1e=d.forwardRef(({className:e,...n},s)=>t.jsx(wM,{ref:s,className:k("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));n1e.displayName=wM.displayName;const nH=d.forwardRef(({className:e,sideOffset:n=4,...s},r)=>t.jsx(oK,{children:t.jsx(CM,{ref:r,sideOffset:n,className:k("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));nH.displayName=CM.displayName;const s1e=d.forwardRef(({className:e,inset:n,...s},r)=>t.jsx(_M,{ref:r,className:k("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",e),...s}));s1e.displayName=_M.displayName;const r1e=d.forwardRef(({className:e,children:n,checked:s,...r},i)=>t.jsxs(jM,{ref:i,className:k("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(NM,{children:t.jsx(xn,{className:"h-4 w-4"})})}),n]}));r1e.displayName=jM.displayName;const i1e=d.forwardRef(({className:e,children:n,...s},r)=>t.jsxs(FM,{ref:r,className:k("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(NM,{children:t.jsx(YU,{className:"h-2 w-2 fill-current"})})}),n]}));i1e.displayName=FM.displayName;const a1e=d.forwardRef(({className:e,inset:n,...s},r)=>t.jsx(EM,{ref:r,className:k("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...s}));a1e.displayName=EM.displayName;const o1e=d.forwardRef(({className:e,...n},s)=>t.jsx(SM,{ref:s,className:k("-mx-1 my-1 h-px bg-muted",e),...n}));o1e.displayName=SM.displayName;const l1e=({description:e})=>t.jsxs(ri,{children:[t.jsx(ii,{asChild:!0,children:t.jsx("button",{className:"inline-flex items-center ml-2 text-[#666] hover:text-[#999] focus:outline-none",children:t.jsx(s3,{size:14})})}),t.jsx($a,{children:t.jsxs(qr,{className:"max-w-xs bg-[#1A1A1A] text-[#DDDDE6] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,children:[e,t.jsx(na,{className:"fill-[#1A1A1A]"})]})})]});function c1e({selectedSkills:e=[],setSelectedSkills:n,skills:s,loadingSkills:r,label:i,description:a}){const{t:o}=en("home"),l=i||o("skillsSelector.label");return t.jsxs("div",{children:[t.jsxs("p",{className:"text-[#999] font-['Inter'] mb-2",children:[l,a&&t.jsx(l1e,{description:a})]}),t.jsxs(Qme,{children:[t.jsx(e1e,{asChild:!0,children:t.jsxs(zt,{variant:"outline",role:"combobox",disabled:r,className:k("w-full h-12 bg-[#0E0E0F] border border-[#222] rounded-lg text-[#DDDDE6] hover:border-[#333] transition-colors relative data-[state=open]:border-[#333] md:text-base ",!e.length&&"text-muted-foreground"),children:[t.jsx("div",{className:"absolute left-4 inset-y-0 flex items-center md:text-base",children:r?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tn,{className:"h-4 w-4 animate-spin"}),t.jsx("span",{children:o("skillsSelector.loadingSkills")})]}):e.length===0?o("skillsSelector.selectSkills"):o("skillsSelector.selected",{count:e.length})}),t.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:t.jsx(Ur,{className:"h-4 w-4 shrink-0"})})]})}),t.jsx(nH,{className:"w-[var(--radix-dropdown-menu-trigger-width)] p-1 bg-[#131314] border border-[#222]",children:t.jsxs("div",{className:"max-h-[300px] overflow-y-auto",children:[(s||[]).map(c=>t.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 hover:bg-[#1A1A1A] rounded-md cursor-pointer",onClick:()=>{e?.includes(c.name)?n(e.filter(u=>u!==c.name)):n([...e,c.name])},children:[t.jsx(eH,{checked:e?.includes(c.name),className:"border-[#666]"}),t.jsxs("div",{className:"text-[#DDDDE6] md:text-base",children:[c.name,t.jsx("div",{className:"text-xs text-[#666]",children:o("skillsSelector.version",{version:c.latest_version})})]})]},c.id)),s.length===0&&!r&&t.jsx("div",{className:"p-2 text-[#666] text-center",children:o("skillsSelector.noSkillsAvailable")})]})})]}),e?.length>0&&t.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:e?.map(c=>t.jsxs(tH,{variant:"secondary",className:"bg-[#222] text-[#DDDDE6] hover:bg-[#333]",children:[c,t.jsxs("button",{className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:u=>{u.key==="Enter"&&n(e.filter(p=>p!==c))},onClick:()=>n(e.filter(u=>u!==c)),children:[t.jsx(Ft,{className:"h-3 w-3"}),t.jsx("span",{className:"sr-only",children:o("skillsSelector.remove",{skill:c})})]})]},c))})]})}var d1e=e=>({png:"image/png",webp:"image/webp",bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg"})[e]||"image/jpeg",u1e=(e,n="auto",s="auto")=>{let r=n==="auto"||n===0,i=s==="auto"||s===0;if(!r&&!i)return{width:n,height:s};if(!r){let a=e.naturalWidth/n;return{width:n,height:Math.round((e.naturalHeight/a+Number.EPSILON)*100)/100}}if(!i){let a=e.naturalHeight/s;return{width:Math.round((e.naturalWidth/a+Number.EPSILON)*100)/100,height:s}}return{width:e.naturalWidth,height:e.naturalHeight}},p1e=async(e,n=100,s="auto",r="auto",i=null,a=null)=>{if(!(e instanceof Blob))throw new TypeError(`Expected a Blob or File, but got ${typeof e}.`);if(e.size===0)throw new Error("Failed to load the image. The file might be corrupt or empty.");if(n<=0)throw new RangeError("Quality must be greater than 0.");if(typeof s=="number"&&s<0||typeof r=="number"&&r<0)throw new RangeError("Invalid width or height value!");let o=i?d1e(i):e.type,l=n<1?n:n/100;return new Promise((c,u)=>{let p=new FileReader;p.onload=()=>{let f=new Image;f.src=p.result,f.onload=()=>{let m=document.createElement("canvas"),h=u1e(f,s,r);m.width=h.width,m.height=h.height;let x=m.getContext("2d");if(!x){u(new Error("Failed to get canvas context."));return}a&&o==="image/png"&&(x.fillStyle=a,x.fillRect(0,0,m.width,m.height)),x.drawImage(f,0,0,m.width,m.height),m.toBlob(g=>{if(g===null)return u(new Error("Failed to generate image blob."));c(new Blob([g],{type:o}))},o,l)},f.onerror=()=>{u(new Error("Failed to load the image. The file might be corrupt or empty."))}},p.onerror=()=>u(new Error("Failed to read the blob as a Data URL.")),p.readAsDataURL(e)})},f1e=p1e;/*!
* image-resize-compress
* Copyright(c) 2024 lef Duarte
* MIT Licensed
*/function i3({maxWidth:e=2e3,maxHeight:n=2e3,quality:s=30,format:r="jpeg"}={}){const i=d.useCallback(async(c,u)=>{try{const p={maxWidth:u?.maxWidth||e,maxHeight:u?.maxHeight||n,quality:u?.quality||s,format:u?.format||r},f=await f1e(c,p.quality,p.maxWidth,p.maxHeight,p.format),m=await new Promise((x,g)=>{const v=new FileReader;v.onloadend=()=>{const y=v.result.split(",")[1];x(y)},v.onerror=g,v.readAsDataURL(f)}),h=(c.size-f.size)/c.size*100;return{blob:f,base64:m,originalSize:c.size,compressedSize:f.size,compressionRatio:h}}catch{return null}},[e,n,s,r]),a=d.useCallback(async(c,u)=>{try{const p=c.map(f=>i(f,u));return await Promise.all(p)}catch{return c.map(()=>null)}},[i]),o=d.useCallback(c=>{switch(c){case"jpeg":return"image/jpeg";case"webp":return"image/webp";case"png":return"image/png";default:return"image/jpeg"}},[]),l=d.useCallback(async c=>c.size>1024*1024?!0:new Promise(u=>{const p=new Image;p.onload=()=>{const f=p.width>e||p.height>n;URL.revokeObjectURL(p.src),u(f)},p.onerror=()=>{URL.revokeObjectURL(p.src),u(!0)},p.src=URL.createObjectURL(c)}),[e,n]);return{compressImage:i,compressImages:a,getMimeType:o,shouldCompress:l}}function sH({maxImages:e=5,maxSizeInMB:n=5,maxPixelDimensions:s=8e3,maxPixelDimensionsMultiple:r=2e3,initialImages:i=[],onImagesChange:a}={}){const[o,l]=d.useState(i),[c,u]=d.useState(!1),{toast:p}=ns(),{compressImage:f,getMimeType:m}=i3({maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"}),h=d.useCallback(async _=>{try{const N=await f(_);return N?{mime_type:m("jpeg"),img_base64:N.base64,originalFile:_}:null}catch{return null}},[f,m]),x=d.useCallback(async(_,N)=>new Promise(j=>{const C=new Image,S=N?r:s;C.onload=()=>{const F=C.width<=S&&C.height<=S;URL.revokeObjectURL(C.src),j({width:C.width,height:C.height,isValid:F,maxDimension:S})},C.onerror=()=>{URL.revokeObjectURL(C.src),j({width:0,height:0,isValid:!1,maxDimension:S})},C.src=URL.createObjectURL(_)}),[s,r]),g=d.useCallback(async _=>{if(!_||_.length===0)return;const N=Array.isArray(_)?_:Array.from(_);if(o.length+N.length>e){p({title:"Too many images",description:`You can only upload a maximum of ${e} images`,variant:"destructive"});return}const j=n*1024*1024,C=N.filter(A=>A.size>j);if(C.length>0){p({title:"File too large",description:`${C.length>1?"Some files are":"File is"} larger than ${n}MB limit`,variant:"destructive"});return}const S=["image/jpeg","image/png","image/gif","image/webp"];if(N.filter(A=>!S.includes(A.type)).length>0){p({title:"Invalid file type",description:"Only JPEG, PNG, GIF, and WebP images are allowed",variant:"destructive"});return}const E=o.length+N.length>1,I=await Promise.all(N.map(A=>x(A,E))),T=I.filter(A=>!A.isValid);if(T.length>0){const A=I[0]?.maxDimension||s,D=E?"multiple images":"single image";p({title:"Image dimensions too large",description:`${T.length>1?"Some images have":"Image has"} dimensions larger than ${A}x${A} pixels (limit for ${D})`,variant:"destructive"});return}u(!0);try{const A=N.map(L=>h(L)),O=(await Promise.all(A)).filter(L=>L!==null),M=[...o,...O];l(M),a?.(M)}catch{p({title:"Error",description:"Failed to process images. Please try again.",variant:"destructive"})}finally{u(!1)}},[o,e,n,s,a,h,x,p]),v=d.useCallback(()=>{const _=document.createElement("input");return _.type="file",_.accept="image/jpeg,image/png,image/gif,image/webp",_.multiple=!0,_.style.display="none",_.onchange=N=>{const j=N.target;g(j.files),document.body.removeChild(_)},_},[g]),b=d.useCallback(()=>{const _=v();document.body.appendChild(_),setTimeout(()=>{_.click()},0)},[v]),y=d.useCallback(_=>{const N=[...o];N.splice(_,1),l(N),a?.(N)},[o,a]),w=d.useCallback(()=>{l([]),a?.([])},[a]);return{images:o,isProcessing:c,openFilePicker:b,removeImage:y,handleImageSelect:g,clearImages:w}}const m1e=["image/jpeg","image/png","image/gif","image/webp"],h1e=["image/jpeg","image/png","image/gif","image/webp"],rH=5*1024*1024,x1e={maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"},g1e=e=>{const n=e.type.startsWith("image/"),s=e.type==="image/svg+xml",r=m1e.includes(e.type),i=h1e.includes(e.type);return n?s?{strategy:"artifact_only",needsCompression:!1,canSendToAgent:!1,supportsDualMode:!1}:n&&!i?{strategy:"artifact_only",needsCompression:!1,canSendToAgent:!1,supportsDualMode:!1}:n&&!r&&i?{strategy:"dual_mode",needsCompression:!1,canSendToAgent:!0,supportsDualMode:!0}:n&&r&&i?{strategy:"compress_and_dual",needsCompression:!0,canSendToAgent:!0,supportsDualMode:!0}:{strategy:"artifact_only",needsCompression:!1,canSendToAgent:!1,supportsDualMode:!1}:{strategy:"artifact_only",needsCompression:!1,canSendToAgent:!1,supportsDualMode:!1}},b1e=async(e,n)=>{try{const s=await n(e);if(!s)return{shouldUseBase64:!1};const r=s.compressedSize/1024/1024;return s.compressedSize<=rH?{shouldUseBase64:!0,base64Data:s.base64,compressedSize:s.compressedSize}:{shouldUseBase64:!1,compressedSize:s.compressedSize}}catch{return{shouldUseBase64:!1}}},y1e=async e=>new Promise((n,s)=>{const r=new FileReader;r.onload=()=>{const a=r.result.split(",")[1];n(a)},r.onerror=s,r.readAsDataURL(e)}),v1e=async(e,n,s)=>{const r=[],i=[...e],a=new Map;for(let o=0;o<e.length;o++){const l=e[o],c=g1e(l);if(c.strategy==="compress_and_dual"){const u=await b1e(l,n);if(a.set(l.name,u),u.shouldUseBase64&&u.base64Data){const p={mime_type:"image/jpeg",img_base64:u.base64Data};r.push(p)}}else if(c.strategy==="dual_mode"&&l.size<=rH)try{const u=await y1e(l),p={mime_type:l.type,img_base64:u};r.push(p)}catch{}}return{base64Images:r,filesToUploadAsArtifacts:i,compressedImageData:a}},dd=d.forwardRef(({className:e,...n},s)=>t.jsx("textarea",{className:k("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 ring-offset-background placeholder:text-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ",e),ref:s,...n}));dd.displayName="Textarea";const Eh=({className:e,size:n=200,duration:s=15,anchor:r=90,borderWidth:i=1.5,colorFrom:a="#ffaa40",colorTo:o="#9c40ff",delay:l=0})=>t.jsx("div",{style:{"--size":n,"--duration":s,"--anchor":r,"--border-width":i,"--color-from":a,"--color-to":o,"--delay":`-${l}s`},className:k("pointer-events-none absolute inset-0 rounded-[inherit] [border:calc(var(--border-width)*1px)_solid_transparent]","![mask-clip:padding-box,border-box] ![mask-composite:intersect] [mask:linear-gradient(transparent,transparent),linear-gradient(white,white)]","after:absolute after:aspect-square after:w-[calc(var(--size)*1px)] after:animate-border-beam after:[animation-delay:var(--delay)] after:[background:linear-gradient(to_left,var(--color-from),var(--color-to),transparent)] after:[offset-anchor:calc(var(--anchor)*1%)_50%] after:[offset-path:rect(0_auto_auto_0_round_calc(var(--size)*1px))]",e)}),K7=({width:e=20,height:n=20,fill:s="#E6E6E6",className:r=""})=>t.jsx("svg",{width:e,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:t.jsx("path",{d:"M9.93305 11.8684C9.14357 11.8684 8.47252 11.5921 7.91989 11.0395C7.36726 10.4868 7.09094 9.81579 7.09094 9.02631V3.3421C7.09094 2.55263 7.36726 1.88158 7.91989 1.32895C8.47252 0.776316 9.14357 0.5 9.93305 0.5C10.7225 0.5 11.3936 0.776316 11.9462 1.32895C12.4988 1.88158 12.7752 2.55263 12.7752 3.3421V9.02631C12.7752 9.81579 12.4988 10.4868 11.9462 11.0395C11.3936 11.5921 10.7225 11.8684 9.93305 11.8684ZM8.98568 17.5526V15.5868C7.53305 15.3816 6.28978 14.7658 5.25589 13.7395C4.222 12.7132 3.59421 11.4658 3.37252 9.99737C3.34094 9.72894 3.412 9.5 3.58568 9.31052C3.75936 9.12105 3.98042 9.02631 4.24884 9.02631C4.51726 9.02631 4.74242 9.11726 4.92431 9.29916C5.10621 9.48105 5.22842 9.70589 5.29094 9.97368C5.512 11.0789 6.06084 11.9868 6.93747 12.6974C7.8141 13.4079 8.81263 13.7632 9.93305 13.7632C11.0699 13.7632 12.0725 13.4041 12.9409 12.686C13.8094 11.9679 14.3541 11.0638 14.5752 9.97368C14.6383 9.70526 14.7608 9.48042 14.9427 9.29916C15.1246 9.11789 15.3495 9.02695 15.6173 9.02631C15.885 9.02568 16.1061 9.12042 16.2804 9.31052C16.4547 9.50063 16.5258 9.72958 16.4936 9.99737C16.2725 11.4342 15.6488 12.6737 14.6225 13.7158C13.5962 14.7579 12.3488 15.3816 10.8804 15.5868V17.5526C10.8804 17.821 10.7895 18.0462 10.6076 18.2281C10.4257 18.41 10.2008 18.5006 9.93305 18.5C9.66526 18.4994 9.44042 18.4084 9.25852 18.2272C9.07663 18.0459 8.98568 17.821 8.98568 17.5526Z",fill:s})}),Y7=({width:e=20,height:n=20,fill:s="black",className:r=""})=>t.jsxs("svg",{width:e,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("g",{clipPath:"url(#clip0_5272_57732)",children:t.jsx("path",{d:"M7 13.75H13C13.2125 13.75 13.3907 13.6781 13.5345 13.5343C13.6782 13.3906 13.75 13.2125 13.75 13V7C13.75 6.7875 13.6782 6.60933 13.5345 6.4655C13.3907 6.32183 13.2125 6.25 13 6.25H7C6.7875 6.25 6.60942 6.32183 6.46575 6.4655C6.32192 6.60933 6.25 6.7875 6.25 7V13C6.25 13.2125 6.32192 13.3906 6.46575 13.5343C6.60942 13.6781 6.7875 13.75 7 13.75ZM10.0067 20C8.62775 20 7.33192 19.7375 6.11925 19.2125C4.90642 18.6875 3.84583 17.9708 2.9375 17.0625C2.02917 16.1542 1.3125 15.093 0.7875 13.879C0.2625 12.665 0 11.3678 0 9.9875C0 8.60717 0.2625 7.31 0.7875 6.096C1.3125 4.882 2.02917 3.825 2.9375 2.925C3.84583 2.025 4.907 1.3125 6.121 0.7875C7.335 0.2625 8.63217 0 10.0125 0C11.3928 0 12.69 0.2625 13.904 0.7875C15.118 1.3125 16.175 2.025 17.075 2.925C17.975 3.825 18.6875 4.88333 19.2125 6.1C19.7375 7.31667 20 8.61442 20 9.99325C20 11.3723 19.7375 12.6681 19.2125 13.8807C18.6875 15.0936 17.975 16.1527 17.075 17.058C16.175 17.9632 15.1167 18.6798 13.9 19.208C12.6833 19.736 11.3856 20 10.0067 20Z",fill:s})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_5272_57732",children:t.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),qS=K.icons.githubIcon,w1e=K.github.githubConnected,iH=({isConnected:e,isActive:n,githubUrl:s,githubTooltip:r,handleGithubSettings:i,onClearGithubUrl:a})=>{const o=()=>e?w1e:qS;return s?t.jsxs("div",{className:"relative flex items-center bg-[#2EE572]/5 border border-[#2EE572]/20 rounded-[30px] px-3 group",children:[t.jsxs(zt,{className:k("pointer-events-auto flex items-center gap-1 p-0 justify-center h-9 bg-transparent hover:bg-transparent"),type:"button",onClick:i,children:[t.jsx("img",{src:o(),alt:"GitHub Repository",className:k("transition-transform duration-200 transform size-4 md:size-5",e&&"scale-[1.2] mt-[2px] mr-1.5")}),t.jsx("span",{className:"text-sm font-medium text-[#2EE572] truncate max-w-[100px]",children:s.split("/").pop()})]}),t.jsx("button",{title:"Clear selected repository",type:"button",onClick:l=>{l.stopPropagation(),a()},className:"z-10 w-0 overflow-hidden transition-all duration-200 bg-transparent rounded-full hover:bg-transparent group-hover:w-auto group-hover:pl-1",children:t.jsx(Ft,{size:16,className:"text-[#2ee571cd]"})})]}):t.jsxs(ri,{children:[t.jsx(ii,{asChild:!0,children:t.jsx(zt,{"data-testid":Nr.githubButton,className:k("p-2 pointer-events-auto rounded-[30px] flex items-center justify-center h-[32px]  md:h-9 transition-all ease-out duration-100  gap-2","bg-white bg-opacity-5 text-[#CCCCCC] hover:bg-white/10"),type:"button",onClick:i,children:t.jsxs("div",{className:"relative flex items-center gap-1",children:[t.jsx("div",{className:"relative flex items-center",children:t.jsx("img",{src:o(),alt:"GitHub",className:k("size-5 transition-transform duration-200 transform",e&&"scale-[1.4] mt-[2px]")})}),e&&t.jsx(Ur,{className:`w-4 h-4 transition-transform duration-200 ${n?"rotate-180":""}`})]})})}),r&&t.jsx($a,{children:t.jsx(qr,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(Rn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[r,t.jsx(na,{className:"fill-[#fff]"})]})})})]})},ms=Rp,Ss=ri,ks=ii,Ns=d.forwardRef(({className:e,sideOffset:n=4,...s},r)=>t.jsx(qr,{ref:r,sideOffset:n,className:k("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md",e),...s}));Ns.displayName=qr.displayName;const Co=na,fa=({size:e=24,color:n="currentColor",className:s})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M3.5 11.75L11.6718 3.57843C12.7763 2.47386 14.5673 2.47386 15.6718 3.57843C16.7763 4.683 16.7763 6.47386 15.6718 7.57843M15.6718 7.57843L9.5 13.75M15.6718 7.57843C16.7763 6.47386 18.5673 6.47386 19.6718 7.57843C20.7763 8.683 20.7763 10.4739 19.6718 11.5784L12.7073 18.5429C12.3168 18.9334 12.3168 19.5666 12.7073 19.9571L14 21.2498",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M17.4999 9.74933L11.3282 15.9211C10.2237 17.0256 8.43274 17.0256 7.32825 15.9211C6.22375 14.8165 6.22375 13.0256 7.32825 11.9211L13.4999 5.74951",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),Po=({size:e=16,color:n="#E8E8E6",className:s})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M8.43865 1.6001C9.07985 1.6001 9.59961 2.11988 9.59961 2.76103C9.59961 2.91653 9.70969 3.08344 9.90745 3.16182C9.96233 3.18356 10.0168 3.20625 10.0707 3.22979L10.1434 3.25557C10.3127 3.30343 10.4748 3.26076 10.5714 3.16416C11.0255 2.71063 11.7614 2.71115 12.2152 3.16494L12.8347 3.78447L12.9145 3.87275C13.2869 4.32919 13.2605 5.00287 12.8347 5.42823C12.7245 5.53847 12.6851 5.73408 12.7699 5.92823L12.8379 6.09228L12.8714 6.16182C12.9581 6.31554 13.1026 6.40008 13.2386 6.4001C13.8798 6.4001 14.3996 6.91988 14.3996 7.56103V8.43914C14.3996 9.08034 13.8798 9.6001 13.2386 9.6001C13.1026 9.6001 12.9582 9.68466 12.8714 9.83842L12.8379 9.90794C12.8161 9.96274 12.7934 10.0174 12.7699 10.0712C12.685 10.2655 12.7243 10.4615 12.8347 10.5719C13.2886 11.0259 13.2886 11.7618 12.8347 12.2157L12.2152 12.8352C11.7613 13.2891 11.0254 13.2891 10.5714 12.8352C10.4749 12.7387 10.3127 12.6961 10.1434 12.7439L10.0707 12.7704C10.0171 12.7938 9.96273 12.8159 9.90817 12.8376C9.71041 12.916 9.59977 13.0828 9.59961 13.2384C9.59961 13.8798 9.07929 14.4001 8.43793 14.4001H7.56133C6.91993 14.4001 6.39961 13.8798 6.39961 13.2384C6.39946 13.1022 6.31496 12.9576 6.16133 12.8712L6.09179 12.8376C6.03681 12.8159 5.98177 12.7932 5.92774 12.7696C5.73338 12.685 5.53792 12.7251 5.42774 12.8352C5.00238 13.261 4.32871 13.2874 3.87227 12.915L3.78399 12.8352L3.16445 12.2157C2.71067 11.7619 2.71015 11.026 3.16367 10.5719L3.20195 10.5267C3.27081 10.4288 3.29609 10.289 3.25508 10.1439L3.2293 10.0712C3.20576 10.0173 3.18307 9.96282 3.16133 9.90794C3.08295 9.71018 2.91604 9.6001 2.76055 9.6001C2.11939 9.6001 1.59961 9.08034 1.59961 8.43914V7.56103C1.59961 6.91988 2.11939 6.4001 2.76055 6.4001C2.91602 6.40008 3.0823 6.28987 3.16055 6.09228L3.2293 5.92823L3.25508 5.85557C3.29607 5.71039 3.27089 5.5705 3.20195 5.47275L3.16367 5.42823C2.70998 4.97453 2.70998 4.23817 3.16367 3.78447L3.78399 3.16416L3.87227 3.08447C4.32858 2.71224 5.00237 2.7388 5.42774 3.16416C5.53798 3.27438 5.73335 3.31456 5.92774 3.22979C5.98196 3.20613 6.03661 3.18288 6.09179 3.16103C6.28938 3.08279 6.39959 2.91651 6.39961 2.76103C6.39961 2.11988 6.91939 1.6001 7.56055 1.6001H8.43865ZM7.56055 2.4001C7.36123 2.4001 7.19961 2.56171 7.19961 2.76103C7.19959 3.29991 6.83431 3.72823 6.38633 3.90557C6.33973 3.92402 6.2931 3.94261 6.24727 3.96259C5.80447 4.15569 5.24263 4.11185 4.86133 3.73057C4.7377 3.60693 4.54707 3.59094 4.40664 3.68369L4.35039 3.73057L3.73008 4.35088C3.5888 4.49215 3.5888 4.72054 3.73008 4.86182C4.0875 5.21926 4.14847 5.73546 3.99571 6.16338L3.96211 6.24775C3.94212 6.29359 3.92353 6.34022 3.90508 6.38682C3.72775 6.8348 3.29942 7.20008 2.76055 7.2001C2.56123 7.2001 2.39961 7.36171 2.39961 7.56103V8.43914C2.39961 8.6385 2.56123 8.8001 2.76055 8.8001C3.29942 8.8001 3.7276 9.16562 3.90508 9.61338C3.92339 9.65954 3.94228 9.70546 3.96211 9.7509C4.15545 10.1938 4.11127 10.756 3.73008 11.1376C3.58863 11.2791 3.58858 11.5086 3.73008 11.6501L4.34961 12.2696L4.40664 12.3165C4.54705 12.4091 4.73779 12.3932 4.86133 12.2696C5.24267 11.888 5.80509 11.8436 6.24805 12.0368C6.29363 12.0567 6.33998 12.0755 6.38633 12.0939L6.46914 12.1306C6.87835 12.3258 7.19946 12.7333 7.19961 13.2384C7.19961 13.4379 7.36175 13.6001 7.56133 13.6001H8.43793C8.63745 13.6001 8.79961 13.4379 8.79961 13.2384C8.79977 12.6995 9.16505 12.2714 9.61289 12.0939C9.65905 12.0755 9.70497 12.0567 9.75041 12.0368L9.83473 12.0032C10.263 11.8502 10.7794 11.9119 11.1371 12.2696C11.2786 12.4111 11.5081 12.4111 11.6496 12.2696L12.2691 11.6501C12.4106 11.5086 12.4106 11.2791 12.2691 11.1376C11.8876 10.7561 11.8433 10.194 12.0371 9.7509C12.057 9.7053 12.0758 9.6589 12.0942 9.61258L12.1309 9.52978C12.3263 9.12114 12.7336 8.8001 13.2386 8.8001C13.438 8.8001 13.5996 8.6385 13.5996 8.43914V7.56103C13.5996 7.36171 13.438 7.2001 13.2386 7.2001C12.7334 7.20008 12.3261 6.8787 12.1309 6.46963L12.0942 6.38682L12.0363 6.24854C11.8426 5.8055 11.8875 5.24315 12.2691 4.86182C12.3927 4.73827 12.4086 4.54754 12.316 4.40713L12.2691 4.3501L11.6496 3.73057C11.5259 3.60685 11.3348 3.59112 11.1942 3.68369L11.1371 3.73057C10.7555 4.11176 10.1933 4.15594 9.75041 3.96259L9.61289 3.90557C9.16513 3.72809 8.79961 3.29991 8.79961 2.76103C8.79961 2.56171 8.63801 2.4001 8.43865 2.4001H7.56055ZM7.99961 5.6001C9.32513 5.6001 10.3996 6.67462 10.3996 8.0001C10.3996 9.32562 9.32513 10.4001 7.99961 10.4001C6.67413 10.4001 5.59961 9.32562 5.59961 8.0001C5.59961 6.67462 6.67413 5.6001 7.99961 5.6001ZM7.99961 6.4001C7.11595 6.4001 6.39961 7.11644 6.39961 8.0001C6.39961 8.88378 7.11595 9.6001 7.99961 9.6001C8.88329 9.6001 9.59961 8.88378 9.59961 8.0001C9.59961 7.11644 8.88329 6.4001 7.99961 6.4001Z",fill:n})}),uf=({size:e=20,primaryColor:n="#80FFF9",secondaryColor:s="#1D1D1E",className:r,...i})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...i,children:[t.jsx("path",{d:"M14.5039 4C15.8846 4 17.0039 5.11929 17.0039 6.5V13.5C17.0039 14.8807 15.8846 16 14.5039 16H5.50391C4.12319 16 3.00391 14.8807 3.00391 13.5V6.5C3.00391 5.11929 4.12319 4 5.50391 4H14.5039Z",fill:n}),t.jsx("path",{d:"M5 12C5 10.8954 5.89543 10 7 10H13C14.1046 10 15 10.8954 15 12C15 13.1046 14.1046 14 13 14H7C5.89543 14 5 13.1046 5 12Z",fill:s}),t.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 7 13)",fill:n}),t.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 11 13)",fill:n}),t.jsx("rect",{y:"9.00195",width:"2",height:"4",rx:"1",fill:n}),t.jsx("rect",{x:"18",y:"9.00195",width:"2",height:"4",rx:"1",fill:n})]});function aH(e){return!e||e.includes("+")?!1:e.endsWith("@emergentbase.com")||e.endsWith("@emergent.sh")}function cc(){const{user:e}=os(),n=br(r=>r.admin.isAdminMode);if(!e||!e.email)return!1;const s=aH(e.email);return n?s:!1}function C1e(){const{user:e}=os();return!e||!e.email?!1:aH(e.email)}function gi(){const{tier:e,ownerSubscriptionTier:n}=xs(),{data:s}=Kr(),{isOrganizationWorkspace:r,getCurrentOrganizationId:i}=hs(),a=cc(),o=m=>{const h=m.toLowerCase();return h.includes("team")?"team":h.includes("emergent pro")?"pro_mode":h.includes("standard")?"standard":h.includes("starter")?"starter":h.includes("pro")?"pro":"free"},l=d.useMemo(()=>n?o(n)==="pro_mode":!1,[n]),c=d.useMemo(()=>{if(!n)return!1;const m=o(n);return m==="standard"||m==="pro"||m==="pro_mode"||m==="team"||m==="starter"},[n]),u=d.useMemo(()=>{const m=i();if(!m)return!0;const h=s?.organizations?.find(x=>x.organization_id===m);return h?.role==="ADMIN"||h?.role==="OWNER"},[i,s]),p=d.useMemo(()=>{const m=i();return m?s?.organizations?.find(x=>x.organization_id===m)?.role==="OWNER":!0},[i,s]);return{...d.useMemo(()=>({pro:r()?l:e==="pro_mode"||a||s?.is_pro_enabled===!0,restrictedFree:r()?!c:e==="free"&&s?.is_pro_enabled!==!0&&!a,isProUser:r()?l:e==="pro_mode"||s?.is_pro_enabled===!0,canAccessModel:m=>m?r()?l:e==="pro_mode"||a||s?.is_pro_enabled===!0?!0:e===m:!0,defaultPrivacy:r()?l?"private":"public":e==="free"&&s?.is_pro_enabled!==!0?"public":"private",isTrulyFreeUser:()=>r()?!c:e==="free"&&s?.is_pro_enabled===!1&&u}),[e,r,a,s,u,l,c]),tier:e,isEmergentUser:a,userDetails:s,isOrganizationWorkspace:r,isCurrentWorkspaceAdmin:u,isCurrentWorkspaceOwner:p,ownerHasProAccess:l,ownerHasPaidAccess:c,ownerSubscriptionTier:n}}function oH(){const{isOrganizationWorkspace:e,isCurrentWorkspaceOwner:n}=gi(),s=Hr(),{toast:r}=ns(),i=!e()||n,a=d.useCallback((l={})=>{const{triggerLocation:c="default",toastTitle:u="Upgrade Required",toastDescription:p="Please ask the owner of this project to upgrade the plan."}=l;return e()&&!n?(r({title:u,description:p,variant:"destructive"}),!1):(s.open({triggerLocation:c}),!0)},[e,n,r,s]),o=d.useCallback((l={})=>{const{toastTitle:c="Upgrade Required",toastDescription:u="Please ask the owner of this project to upgrade the plan."}=l;r({title:c,description:u,variant:"destructive"})},[r]);return{promptUpgrade:a,canUpgrade:i,showAskOwnerToast:o}}const pf=({size:e=16,color:n="#E8E8E6",className:s})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M14 6.5C14 6.63261 13.9473 6.75979 13.8536 6.85355C13.7598 6.94732 13.6326 7 13.5 7C13.3674 7 13.2402 6.94732 13.1464 6.85355C13.0527 6.75979 13 6.63261 13 6.5V3.7075L8.85437 7.85375C8.76055 7.94757 8.63331 8.00028 8.50062 8.00028C8.36794 8.00028 8.2407 7.94757 8.14688 7.85375C8.05305 7.75993 8.00035 7.63268 8.00035 7.5C8.00035 7.36732 8.05305 7.24007 8.14688 7.14625L12.2925 3H9.5C9.36739 3 9.24021 2.94732 9.14645 2.85355C9.05268 2.75979 9 2.63261 9 2.5C9 2.36739 9.05268 2.24021 9.14645 2.14645C9.24021 2.05268 9.36739 2 9.5 2H13.5C13.6326 2 13.7598 2.05268 13.8536 2.14645C13.9473 2.24021 14 2.36739 14 2.5V6.5ZM11.5 8C11.3674 8 11.2402 8.05268 11.1464 8.14645C11.0527 8.24021 11 8.36739 11 8.5V13H3V5H7.5C7.63261 5 7.75979 4.94732 7.85355 4.85355C7.94732 4.75979 8 4.63261 8 4.5C8 4.36739 7.94732 4.24021 7.85355 4.14645C7.75979 4.05268 7.63261 4 7.5 4H3C2.73478 4 2.48043 4.10536 2.29289 4.29289C2.10536 4.48043 2 4.73478 2 5V13C2 13.2652 2.10536 13.5196 2.29289 13.7071C2.48043 13.8946 2.73478 14 3 14H11C11.2652 14 11.5196 13.8946 11.7071 13.7071C11.8946 13.5196 12 13.2652 12 13V8.5C12 8.36739 11.9473 8.24021 11.8536 8.14645C11.7598 8.05268 11.6326 8 11.5 8Z",fill:n,fillOpacity:"0.4"})}),_1e=()=>typeof window>"u"?!1:window.innerWidth<768,j1e=()=>typeof window>"u"?!1:window.innerWidth<600,ts=()=>{const[e,n]=d.useState(_1e),[s,r]=d.useState(j1e);return d.useEffect(()=>{const i=()=>{n(window.innerWidth<768),r(window.innerWidth<600)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),{isMobile:e,isSmallMobile:s}},N1e=()=>typeof window>"u"?!1:window.innerWidth<1e3,lH=()=>{const[e,n]=d.useState(N1e);return d.useEffect(()=>{const s=()=>{n(window.innerWidth<1e3)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),{isPanelMobileView:e}};function F1e(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const cH=et.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),c0=()=>{const e=et.useContext(cH);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};F1e(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function E1e(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function S1e(){return Z7(/^Mac/)}function k1e(){return Z7(/^iPhone/)}function KS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function I1e(){return Z7(/^iPad/)||S1e()&&navigator.maxTouchPoints>1}function dH(){return k1e()||I1e()}function Z7(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const T1e=24,A1e=typeof window<"u"?d.useLayoutEffect:d.useEffect;function YS(...e){return(...n)=>{for(let s of e)typeof s=="function"&&s(...n)}}const Yb=typeof document<"u"&&window.visualViewport;function ZS(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function uH(e){for(ZS(e)&&(e=e.parentElement);e&&!ZS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const D1e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let gx=0,Zb;function M1e(e={}){let{isDisabled:n}=e;A1e(()=>{if(!n)return gx++,gx===1&&dH()&&(Zb=R1e()),()=>{gx--,gx===0&&Zb?.()}},[n])}function R1e(){let e,n=0,s=f=>{e=uH(f.target),!(e===document.documentElement&&e===document.body)&&(n=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,h=e.scrollTop,x=e.scrollHeight-e.clientHeight;x!==0&&((h<=0&&m>n||h>=x&&m<n)&&f.preventDefault(),n=m)},i=f=>{let m=f.target;$w(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},a=f=>{let m=f.target;$w(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",Yb&&(Yb.height<window.innerHeight?requestAnimationFrame(()=>{JS(m)}):Yb.addEventListener("resize",()=>JS(m),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=YS(L1e(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=YS(Om(document,"touchstart",s,{passive:!1,capture:!0}),Om(document,"touchmove",r,{passive:!1,capture:!0}),Om(document,"touchend",i,{passive:!1,capture:!0}),Om(document,"focus",a,!0),Om(window,"scroll",o));return()=>{u(),p(),window.scrollTo(l,c)}}function L1e(e,n,s){let r=e.style[n];return e.style[n]=s,()=>{e.style[n]=r}}function Om(e,n,s,r){return e.addEventListener(n,s,r),()=>{e.removeEventListener(n,s,r)}}function JS(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let s=uH(e);if(s!==document.documentElement&&s!==document.body&&s!==e){let r=s.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=s.getBoundingClientRect().bottom+T1e;a>o&&(s.scrollTop+=i-r)}e=s.parentElement}}function $w(e){return e instanceof HTMLInputElement&&!D1e.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function P1e(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function O1e(...e){return n=>e.forEach(s=>P1e(s,n))}function pH(...e){return d.useCallback(O1e(...e),e)}const fH=new WeakMap;function Pi(e,n,s=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(n).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}r[i]=e.style[i],e.style[i]=a}),!s&&fH.set(e,r)}function B1e(e,n){if(!e||!(e instanceof HTMLElement))return;let s=fH.get(e);s&&(e.style[n]=s[n])}const Si=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function bx(e,n){if(!e)return null;const s=window.getComputedStyle(e),r=s.transform||s.webkitTransform||s.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Si(n)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Si(n)?5:4]):null)}function U1e(e){return 8*(Math.log(e+1)-2)}function Jb(e,n){if(!e)return()=>{};const s=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=s}}function H1e(...e){return(...n)=>{for(const s of e)typeof s=="function"&&s(...n)}}const ti={DURATION:.5,EASE:[.32,.72,0,1]},mH=.4,V1e=.25,$1e=100,hH=8,Sd=16,zw=26,Xb="vaul-dragging";function xH(e){const n=et.useRef(e);return et.useEffect(()=>{n.current=e}),et.useMemo(()=>(...s)=>n.current==null?void 0:n.current.call(n,...s),[])}function z1e({defaultProp:e,onChange:n}){const s=et.useState(e),[r]=s,i=et.useRef(r),a=xH(n);return et.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),s}function gH({prop:e,defaultProp:n,onChange:s=()=>{}}){const[r,i]=z1e({defaultProp:n,onChange:s}),a=e!==void 0,o=a?e:r,l=xH(s),c=et.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else i(u)},[a,e,i,l]);return[o,c]}function W1e({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:s,drawerRef:r,overlayRef:i,fadeFromIndex:a,onSnapPointChange:o,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[p,f]=gH({prop:e,defaultProp:s?.[0],onChange:n}),[m,h]=et.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);et.useEffect(()=>{function C(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const x=et.useMemo(()=>p===s?.[s.length-1]||null,[s,p]),g=et.useMemo(()=>{var C;return(C=s?.findIndex(S=>S===p))!=null?C:null},[s,p]),v=s&&s.length>0&&(a||a===0)&&!Number.isNaN(a)&&s[a]===p||!s,b=et.useMemo(()=>{const C=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var S;return(S=s?.map(F=>{const E=typeof F=="string";let I=0;if(E&&(I=parseInt(F,10)),Si(l)){const A=E?I:m?F*C.height:0;return m?l==="bottom"?C.height-A:-C.height+A:A}const T=E?I:m?F*C.width:0;return m?l==="right"?C.width-T:-C.width+T:T}))!=null?S:[]},[s,m,c]),y=et.useMemo(()=>g!==null?b?.[g]:null,[b,g]),w=et.useCallback(C=>{var S;const F=(S=b?.findIndex(E=>E===C))!=null?S:null;o(F),Pi(r.current,{transition:`transform ${ti.DURATION}s cubic-bezier(${ti.EASE.join(",")})`,transform:Si(l)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`}),b&&F!==b.length-1&&a!==void 0&&F!==a&&F<a?Pi(i.current,{transition:`opacity ${ti.DURATION}s cubic-bezier(${ti.EASE.join(",")})`,opacity:"0"}):Pi(i.current,{transition:`opacity ${ti.DURATION}s cubic-bezier(${ti.EASE.join(",")})`,opacity:"1"}),f(s?.[Math.max(F,0)])},[r.current,s,b,a,i,f]);et.useEffect(()=>{if(p||e){var C;const S=(C=s?.findIndex(F=>F===e||F===p))!=null?C:-1;b&&S!==-1&&typeof b[S]=="number"&&w(b[S])}},[p,e,s,b,w]);function _({draggedDistance:C,closeDrawer:S,velocity:F,dismissible:E}){if(a===void 0)return;const I=l==="bottom"||l==="right"?(y??0)-C:(y??0)+C,T=g===a-1,A=g===0,D=C>0;if(T&&Pi(i.current,{transition:`opacity ${ti.DURATION}s cubic-bezier(${ti.EASE.join(",")})`}),!u&&F>2&&!D){E?S():w(b[0]);return}if(!u&&F>2&&D&&b&&s){w(b[s.length-1]);return}const O=b?.reduce((L,P)=>typeof L!="number"||typeof P!="number"?L:Math.abs(P-I)<Math.abs(L-I)?P:L),M=Si(l)?window.innerHeight:window.innerWidth;if(F>mH&&Math.abs(C)<M*.4){const L=D?1:-1;if(L>0&&x&&s){w(b[s.length-1]);return}if(A&&L<0&&E&&S(),g===null)return;w(b[g+L]);return}w(O)}function N({draggedDistance:C}){if(y===null)return;const S=l==="bottom"||l==="right"?y-C:y+C;(l==="bottom"||l==="right")&&S<b[b.length-1]||(l==="top"||l==="left")&&S>b[b.length-1]||Pi(r.current,{transform:Si(l)?`translate3d(0, ${S}px, 0)`:`translate3d(${S}px, 0, 0)`})}function j(C,S){if(!s||typeof g!="number"||!b||a===void 0)return null;const F=g===a-1;if(g>=a&&S)return 0;if(F&&!S)return 1;if(!v&&!F)return null;const I=F?g+1:g-1,T=F?b[I]-b[I-1]:b[I+1]-b[I],A=C/Math.abs(T);return F?1-A:A}return{isLastSnapPoint:x,activeSnapPoint:p,shouldFade:v,getPercentageDragged:j,setActiveSnapPoint:f,activeSnapPointIndex:g,onRelease:_,onDrag:N,snapPointsOffset:b}}const G1e=()=>()=>{};function q1e(){const{direction:e,isOpen:n,shouldScaleBackground:s,setBackgroundColorOnScale:r,noBodyStyles:i}=c0(),a=et.useRef(null),o=d.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-zw)/window.innerWidth}et.useEffect(()=>{if(n&&s){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;H1e(r&&!i?Jb(document.body,{background:"black"}):G1e,Jb(c,{transformOrigin:Si(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${ti.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ti.EASE.join(",")})`}));const u=Jb(c,{borderRadius:`${hH}px`,overflow:"hidden",...Si(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},ti.DURATION*1e3)}}},[n,s,o])}let Bm=null;function K1e({isOpen:e,modal:n,nested:s,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:a}){const[o,l]=et.useState(()=>typeof window<"u"?window.location.href:""),c=et.useRef(0),u=et.useCallback(()=>{if(KS()&&Bm===null&&e&&!a){Bm={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const h=m-window.innerHeight;h&&c.current>=m&&(document.body.style.top=`${-(c.current+h)}px`)}),300)}},[e]),p=et.useCallback(()=>{if(KS()&&Bm!==null&&!a){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Bm),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){l(window.location.href);return}window.scrollTo(m,f)}),Bm=null}},[o]);return et.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),et.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||p()}},[n,p]),et.useEffect(()=>{s||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),n||window.setTimeout(()=>{p()},500)):p())},[e,r,o,n,s,u,p]),{restorePositionSetting:p}}function Y1e({open:e,onOpenChange:n,children:s,onDrag:r,onRelease:i,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=V1e,scrollLockTimeout:u=$1e,dismissible:p=!0,handleOnly:f=!1,fadeFromIndex:m=a&&a.length-1,activeSnapPoint:h,setActiveSnapPoint:x,fixed:g,modal:v=!0,onClose:b,nested:y,noBodyStyles:w=!1,direction:_="bottom",defaultOpen:N=!1,disablePreventScroll:j=!0,snapToSequentialPoint:C=!1,preventScrollRestoration:S=!1,repositionInputs:F=!0,onAnimationEnd:E,container:I,autoFocus:T=!1}){var A,D;const[O=!1,M]=gH({defaultProp:N,prop:e,onChange:tt=>{n?.(tt),!tt&&!y&&$e(),setTimeout(()=>{E?.(tt)},ti.DURATION*1e3),tt&&!v&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),tt||(document.body.style.pointerEvents="auto")}}),[L,P]=et.useState(!1),[B,G]=et.useState(!1),[$,te]=et.useState(!1),U=et.useRef(null),oe=et.useRef(null),Y=et.useRef(null),W=et.useRef(null),Z=et.useRef(null),le=et.useRef(!1),q=et.useRef(null),Q=et.useRef(0),he=et.useRef(!1),me=et.useRef(!N),ce=et.useRef(0),ee=et.useRef(null),J=et.useRef(((A=ee.current)==null?void 0:A.getBoundingClientRect().height)||0),re=et.useRef(((D=ee.current)==null?void 0:D.getBoundingClientRect().width)||0),xe=et.useRef(0),ae=et.useCallback(tt=>{a&&tt===Se.length-1&&(oe.current=new Date)},[]),{activeSnapPoint:Fe,activeSnapPointIndex:se,setActiveSnapPoint:_e,onRelease:Re,snapPointsOffset:Se,onDrag:Ne,shouldFade:ge,getPercentageDragged:Ce}=W1e({snapPoints:a,activeSnapPointProp:h,setActiveSnapPointProp:x,drawerRef:ee,fadeFromIndex:m,overlayRef:U,onSnapPointChange:ae,direction:_,container:I,snapToSequentialPoint:C});M1e({isDisabled:!O||B||!v||$||!L||!F||!j});const{restorePositionSetting:$e}=K1e({isOpen:O,modal:v,nested:y??!1,hasBeenOpened:L,preventScrollRestoration:S,noBodyStyles:w});function dt(){return(window.innerWidth-zw)/window.innerWidth}function Me(tt){var xt,St;!p&&!a||ee.current&&!ee.current.contains(tt.target)||(J.current=((xt=ee.current)==null?void 0:xt.getBoundingClientRect().height)||0,re.current=((St=ee.current)==null?void 0:St.getBoundingClientRect().width)||0,G(!0),Y.current=new Date,dH()&&window.addEventListener("touchend",()=>le.current=!1,{once:!0}),tt.target.setPointerCapture(tt.pointerId),Q.current=Si(_)?tt.pageY:tt.pageX)}function we(tt,xt){var St;let It=tt;const kt=(St=window.getSelection())==null?void 0:St.toString(),Ot=ee.current?bx(ee.current,_):null,Ie=new Date;if(It.tagName==="SELECT"||It.hasAttribute("data-vaul-no-drag")||It.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(oe.current&&Ie.getTime()-oe.current.getTime()<500)return!1;if(Ot!==null&&(_==="bottom"?Ot>0:Ot<0))return!0;if(kt&&kt.length>0)return!1;if(Z.current&&Ie.getTime()-Z.current.getTime()<u&&Ot===0||xt)return Z.current=Ie,!1;for(;It;){if(It.scrollHeight>It.clientHeight){if(It.scrollTop!==0)return Z.current=new Date,!1;if(It.getAttribute("role")==="dialog")return!0}It=It.parentNode}return!0}function Te(tt){if(ee.current&&B){const xt=_==="bottom"||_==="right"?1:-1,St=(Q.current-(Si(_)?tt.pageY:tt.pageX))*xt,It=St>0,kt=a&&!p&&!It;if(kt&&se===0)return;const Ot=Math.abs(St),Ie=document.querySelector("[data-vaul-drawer-wrapper]"),nt=_==="bottom"||_==="top"?J.current:re.current;let We=Ot/nt;const Lt=Ce(Ot,It);if(Lt!==null&&(We=Lt),kt&&We>=1||!le.current&&!we(tt.target,It))return;if(ee.current.classList.add(Xb),le.current=!0,Pi(ee.current,{transition:"none"}),Pi(U.current,{transition:"none"}),a&&Ne({draggedDistance:St}),It&&!a){const ft=U1e(St),Tt=Math.min(ft*-1,0)*xt;Pi(ee.current,{transform:Si(_)?`translate3d(0, ${Tt}px, 0)`:`translate3d(${Tt}px, 0, 0)`});return}const pt=1-We;if((ge||m&&se===m-1)&&(r?.(tt,We),Pi(U.current,{opacity:`${pt}`,transition:"none"},!0)),Ie&&U.current&&o){const ft=Math.min(dt()+We*(1-dt()),1),Tt=8-We*8,Gt=Math.max(0,14-We*14);Pi(Ie,{borderRadius:`${Tt}px`,transform:Si(_)?`scale(${ft}) translate3d(0, ${Gt}px, 0)`:`scale(${ft}) translate3d(${Gt}px, 0, 0)`,transition:"none"},!0)}if(!a){const ft=Ot*xt;Pi(ee.current,{transform:Si(_)?`translate3d(0, ${ft}px, 0)`:`translate3d(${ft}px, 0, 0)`})}}}et.useEffect(()=>{window.requestAnimationFrame(()=>{me.current=!0})},[]),et.useEffect(()=>{var tt;function xt(){if(!ee.current||!F)return;const St=document.activeElement;if($w(St)||he.current){var It;const kt=((It=window.visualViewport)==null?void 0:It.height)||0,Ot=window.innerHeight;let Ie=Ot-kt;const nt=ee.current.getBoundingClientRect().height||0,We=nt>Ot*.8;xe.current||(xe.current=nt);const Lt=ee.current.getBoundingClientRect().top;if(Math.abs(ce.current-Ie)>60&&(he.current=!he.current),a&&a.length>0&&Se&&se){const pt=Se[se]||0;Ie+=pt}if(ce.current=Ie,nt>kt||he.current){const pt=ee.current.getBoundingClientRect().height;let ft=pt;pt>kt&&(ft=kt-(We?Lt:zw)),g?ee.current.style.height=`${pt-Math.max(Ie,0)}px`:ee.current.style.height=`${Math.max(ft,kt-Lt)}px`}else E1e()||(ee.current.style.height=`${xe.current}px`);a&&a.length>0&&!he.current?ee.current.style.bottom="0px":ee.current.style.bottom=`${Math.max(Ie,0)}px`}}return(tt=window.visualViewport)==null||tt.addEventListener("resize",xt),()=>{var St;return(St=window.visualViewport)==null?void 0:St.removeEventListener("resize",xt)}},[se,a,Se]);function ze(tt){Bt(),b?.(),tt||M(!1),setTimeout(()=>{a&&_e(a[0])},ti.DURATION*1e3)}function _t(){if(!ee.current)return;const tt=document.querySelector("[data-vaul-drawer-wrapper]"),xt=bx(ee.current,_);Pi(ee.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${ti.DURATION}s cubic-bezier(${ti.EASE.join(",")})`}),Pi(U.current,{transition:`opacity ${ti.DURATION}s cubic-bezier(${ti.EASE.join(",")})`,opacity:"1"}),o&&xt&&xt>0&&O&&Pi(tt,{borderRadius:`${hH}px`,overflow:"hidden",...Si(_)?{transform:`scale(${dt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${dt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${ti.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ti.EASE.join(",")})`},!0)}function Bt(){!B||!ee.current||(ee.current.classList.remove(Xb),le.current=!1,G(!1),W.current=new Date)}function qe(tt){if(!B||!ee.current)return;ee.current.classList.remove(Xb),le.current=!1,G(!1),W.current=new Date;const xt=bx(ee.current,_);if(!tt||!we(tt.target,!1)||!xt||Number.isNaN(xt)||Y.current===null)return;const St=W.current.getTime()-Y.current.getTime(),It=Q.current-(Si(_)?tt.pageY:tt.pageX),kt=Math.abs(It)/St;if(kt>.05&&(te(!0),setTimeout(()=>{te(!1)},200)),a){Re({draggedDistance:It*(_==="bottom"||_==="right"?1:-1),closeDrawer:ze,velocity:kt,dismissible:p}),i?.(tt,!0);return}if(_==="bottom"||_==="right"?It>0:It<0){_t(),i?.(tt,!0);return}if(kt>mH){ze(),i?.(tt,!1);return}var Ot;const Ie=Math.min((Ot=ee.current.getBoundingClientRect().height)!=null?Ot:0,window.innerHeight);var nt;const We=Math.min((nt=ee.current.getBoundingClientRect().width)!=null?nt:0,window.innerWidth),Lt=_==="left"||_==="right";if(Math.abs(xt)>=(Lt?We:Ie)*c){ze(),i?.(tt,!1);return}i?.(tt,!0),_t()}et.useEffect(()=>(O&&(Pi(document.documentElement,{scrollBehavior:"auto"}),oe.current=new Date),()=>{B1e(document.documentElement,"scrollBehavior")}),[O]);function Ae(tt){const xt=tt?(window.innerWidth-Sd)/window.innerWidth:1,St=tt?-Sd:0;q.current&&window.clearTimeout(q.current),Pi(ee.current,{transition:`transform ${ti.DURATION}s cubic-bezier(${ti.EASE.join(",")})`,transform:Si(_)?`scale(${xt}) translate3d(0, ${St}px, 0)`:`scale(${xt}) translate3d(${St}px, 0, 0)`}),!tt&&ee.current&&(q.current=setTimeout(()=>{const It=bx(ee.current,_);Pi(ee.current,{transition:"none",transform:Si(_)?`translate3d(0, ${It}px, 0)`:`translate3d(${It}px, 0, 0)`})},500))}function Le(tt,xt){if(xt<0)return;const St=(window.innerWidth-Sd)/window.innerWidth,It=St+xt*(1-St),kt=-Sd+xt*Sd;Pi(ee.current,{transform:Si(_)?`scale(${It}) translate3d(0, ${kt}px, 0)`:`scale(${It}) translate3d(${kt}px, 0, 0)`,transition:"none"})}function Ut(tt,xt){const St=Si(_)?window.innerHeight:window.innerWidth,It=xt?(St-Sd)/St:1,kt=xt?-Sd:0;xt&&Pi(ee.current,{transition:`transform ${ti.DURATION}s cubic-bezier(${ti.EASE.join(",")})`,transform:Si(_)?`scale(${It}) translate3d(0, ${kt}px, 0)`:`scale(${It}) translate3d(${kt}px, 0, 0)`})}return et.useEffect(()=>{v||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[v]),et.createElement(S5,{defaultOpen:N,onOpenChange:tt=>{!p&&!tt||(tt?P(!0):ze(!0),M(tt))},open:O},et.createElement(cH.Provider,{value:{activeSnapPoint:Fe,snapPoints:a,setActiveSnapPoint:_e,drawerRef:ee,overlayRef:U,onOpenChange:n,onPress:Me,onRelease:qe,onDrag:Te,dismissible:p,shouldAnimate:me,handleOnly:f,isOpen:O,isDragging:B,shouldFade:ge,closeDrawer:ze,onNestedDrag:Le,onNestedOpenChange:Ae,onNestedRelease:Ut,keyboardIsOpen:he,modal:v,snapPointsOffset:Se,activeSnapPointIndex:se,direction:_,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:w,container:I,autoFocus:T}},s))}const bH=et.forwardRef(function({...e},n){const{overlayRef:s,snapPoints:r,onRelease:i,shouldFade:a,isOpen:o,modal:l,shouldAnimate:c}=c0(),u=pH(n,s),p=r&&r.length>0;if(!l)return null;const f=et.useCallback(m=>i(m),[i]);return et.createElement(Ff,{onMouseUp:f,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":o&&p?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false","data-vaul-animate":c?.current?"true":"false",...e})});bH.displayName="Drawer.Overlay";const yH=et.forwardRef(function({onPointerDownOutside:e,style:n,onOpenAutoFocus:s,...r},i){const{drawerRef:a,onPress:o,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:p,activeSnapPointIndex:f,modal:m,isOpen:h,direction:x,snapPoints:g,container:v,handleOnly:b,shouldAnimate:y,autoFocus:w}=c0(),[_,N]=et.useState(!1),j=pH(i,a),C=et.useRef(null),S=et.useRef(null),F=et.useRef(!1),E=g&&g.length>0;q1e();const I=(A,D,O=0)=>{if(F.current)return!0;const M=Math.abs(A.y),L=Math.abs(A.x),P=L>M,B=["bottom","right"].includes(D)?1:-1;if(D==="left"||D==="right"){if(!(A.x*B<0)&&L>=0&&L<=O)return P}else if(!(A.y*B<0)&&M>=0&&M<=O)return!P;return F.current=!0,!0};et.useEffect(()=>{E&&window.requestAnimationFrame(()=>{N(!0)})},[]);function T(A){C.current=null,F.current=!1,l(A)}return et.createElement(Ef,{"data-vaul-drawer-direction":x,"data-vaul-drawer":"","data-vaul-delayed-snap-points":_?"true":"false","data-vaul-snap-points":h&&E?"true":"false","data-vaul-custom-container":v?"true":"false","data-vaul-animate":y?.current?"true":"false",...r,ref:j,style:p&&p.length>0?{"--snap-point-height":`${p[f??0]}px`,...n}:n,onPointerDown:A=>{b||(r.onPointerDown==null||r.onPointerDown.call(r,A),C.current={x:A.pageX,y:A.pageY},o(A))},onOpenAutoFocus:A=>{s?.(A),w||A.preventDefault()},onPointerDownOutside:A=>{if(e?.(A),!m||A.defaultPrevented){A.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:A=>{if(!m){A.preventDefault();return}},onPointerMove:A=>{if(S.current=A,b||(r.onPointerMove==null||r.onPointerMove.call(r,A),!C.current))return;const D=A.pageY-C.current.y,O=A.pageX-C.current.x,M=A.pointerType==="touch"?10:2;I({x:O,y:D},x,M)?c(A):(Math.abs(O)>M||Math.abs(D)>M)&&(C.current=null)},onPointerUp:A=>{r.onPointerUp==null||r.onPointerUp.call(r,A),C.current=null,F.current=!1,l(A)},onPointerOut:A=>{r.onPointerOut==null||r.onPointerOut.call(r,A),T(S.current)},onContextMenu:A=>{r.onContextMenu==null||r.onContextMenu.call(r,A),S.current&&T(S.current)}})});yH.displayName="Drawer.Content";const Z1e=250,J1e=120,X1e=et.forwardRef(function({preventCycle:e=!1,children:n,...s},r){const{closeDrawer:i,isDragging:a,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:p,isOpen:f,onPress:m,onDrag:h}=c0(),x=et.useRef(null),g=et.useRef(!1);function v(){if(g.current){w();return}window.setTimeout(()=>{b()},J1e)}function b(){if(a||e||g.current){w();return}if(w(),!o||o.length===0){u||i();return}if(l===o[o.length-1]&&u){i();return}const N=o.findIndex(C=>C===l);if(N===-1)return;const j=o[N+1];c(j)}function y(){x.current=window.setTimeout(()=>{g.current=!0},Z1e)}function w(){x.current&&window.clearTimeout(x.current),g.current=!1}return et.createElement("div",{onClick:v,onPointerCancel:w,onPointerDown:_=>{p&&m(_),y()},onPointerMove:_=>{p&&h(_)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...s},et.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});X1e.displayName="Drawer.Handle";function Q1e(e){const n=c0(),{container:s=n.container,...r}=e;return et.createElement(Yh,{container:s,...r})}const dc={Root:Y1e,Content:yH,Overlay:bH,Trigger:z8,Portal:Q1e,Close:F5,Title:E5,Description:W8};function Bf({...e}){return t.jsx(dc.Root,{"data-slot":"drawer",...e})}function ehe({...e}){return t.jsx(dc.Trigger,{"data-slot":"drawer-trigger",...e})}function vH({...e}){return t.jsx(dc.Portal,{"data-slot":"drawer-portal",...e})}function J7({...e}){return t.jsx(dc.Close,{"data-slot":"drawer-close",...e})}function wH({className:e,...n}){return t.jsx(dc.Overlay,{"data-slot":"drawer-overlay",className:k("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/60",e),...n})}function a3({className:e,children:n,...s}){return t.jsxs(vH,{"data-slot":"drawer-portal",children:[t.jsx(wH,{}),t.jsx(dc.Content,{"data-slot":"drawer-content",className:k("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[99vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[99vh] data-[vaul-drawer-direction=bottom]:rounded-t-2xl data-[vaul-drawer-direction=bottom]:border-none data-[vaul-drawer-direction=bottom]:bg-transparent","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...s,children:t.jsxs("div",{className:"relative flex justify-center",children:[t.jsx("div",{className:"bg-[#252525]/15 mx-auto absolute top-5 z-50 h-1 w-[44px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),n]})})]})}function CH({className:e,children:n,handleColor:s="bg-[#252525]/15",...r}){return t.jsxs(vH,{"data-slot":"drawer-portal",children:[t.jsx(wH,{}),t.jsx(dc.Content,{"data-slot":"drawer-content",className:k("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[99vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[99vh] data-[vaul-drawer-direction=bottom]:rounded-t-2xl data-[vaul-drawer-direction=bottom]:border-none data-[vaul-drawer-direction=bottom]:bg-transparent","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...r,children:t.jsxs("div",{className:"relative flex justify-center",children:[t.jsx("div",{className:k(["mx-auto absolute top-5 z-50 h-1 w-[44px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block",s])}),n]})})]})}function H2({className:e,...n}){return t.jsx("div",{"data-slot":"drawer-header",className:k("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e),...n})}function V2({className:e,...n}){return t.jsx("div",{"data-slot":"drawer-footer",className:k("mt-auto flex flex-col gap-2 p-4",e),...n})}function X7({className:e,...n}){return t.jsx(dc.Title,{"data-slot":"drawer-title",className:k("text-foreground font-semibold",e),...n})}function the({className:e,...n}){return t.jsx(dc.Description,{"data-slot":"drawer-description",className:k("text-muted-foreground text-sm",e),...n})}function Fa({trigger:e,title:n,description:s,children:r,footer:i,open:a,onOpenChange:o,maxWidth:l="max-w-sm",contentPadding:c="p-3",showDefaultFooter:u=!0,handleColor:p="bg-[#252525]/15",onSubmit:f,onCancel:m,submitText:h="Submit",cancelText:x="Cancel",submitDisabled:g=!1,customerHeader:v,triggerColor:b,showCancel:y=!1}){const w=()=>{f?.()},_=()=>{m?.()};return t.jsxs(Bf,{open:a,onOpenChange:o,children:[t.jsx(ehe,{asChild:!0,children:e}),t.jsx(CH,{handleColor:p,children:t.jsxs("div",{className:`mx-auto w-full bg-[#111112] border border-[#333333] rounded-t-[24px] ${l}`,children:[v,(n||s)&&t.jsxs(H2,{children:[n&&t.jsx(X7,{children:n}),s&&t.jsx(the,{children:s}),y&&t.jsx("button",{type:"button",title:"Close",onClick:()=>{m?.()},className:"absolute flex items-center justify-center w-8 h-8 p-1 rounded-full top-3 right-4 bg-white/5 hover:bg-white/10",children:t.jsx(Ft,{className:"w-5 h-5"})})]}),t.jsx("div",{className:k("pb-0",c),children:r}),(i||u)&&t.jsx(V2,{className:"bg-[#111112]",children:i||t.jsxs(t.Fragment,{children:[t.jsx(zt,{onClick:w,disabled:g,children:h}),t.jsx(J7,{asChild:!0,children:t.jsx(zt,{variant:"outline",onClick:_,children:x})})]})})]})})]})}const o3=({checked:e,onCheckedChange:n,disabled:s=!1,className:r="",checkedColor:i="#29BCCC"})=>t.jsx("button",{title:"Toggle Key Status",type:"button",role:"switch","aria-checked":e?"true":"false",disabled:s,onClick:a=>{a.stopPropagation(),!s&&n(!e)},className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed ${r}`,style:{backgroundColor:e?i:"#131314"},children:t.jsx(fe.div,{className:"relative",animate:{x:e?28:4},transition:{type:"spring",stiffness:500,damping:30},children:t.jsxs("div",{className:"relative w-6 h-6",children:[t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"rgba(255, 255, 255, 0.05)"}}),t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`
                linear-gradient(180deg, #242528 0%, #111113 100%),
                linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.2) 100%)
              `,filter:`
                drop-shadow(0px 0.85px 2.12px rgba(0, 0, 0, 0.36))
                drop-shadow(0px 3.6px 3.6px rgba(0, 0, 0, 0.31))
                drop-shadow(0px 8.27px 5.09px rgba(0, 0, 0, 0.18))
                drop-shadow(0px 14.84px 5.93px rgba(0, 0, 0, 0.05))
                drop-shadow(0px 23.1px 6.57px rgba(0, 0, 0, 0.01))
              `}}),t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`
                radial-gradient(circle at center,
                  rgba(255, 255, 255, 0.1) 0%,
                  rgba(255, 255, 255, 0.03) 50%,
                  transparent 100%
                )
              `,boxShadow:`
                inset 0px 1.48px 2.97px rgba(255, 255, 255, 0.03),
                inset 0px 1.27px 0.85px rgba(255, 255, 255, 0.02),
                inset 0px 0.21px 0.21px rgba(255, 255, 255, 0.1)
              `}})]})})}),Xa=({size:e=24,color:n="#CCCCCC",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M5.74011 12.8965C5.28525 12.3384 5.31804 11.5154 5.83817 10.9953L13.4172 3.4163L13.5254 3.31823C14.0836 2.86338 14.9065 2.89617 15.4267 3.4163C15.9468 3.93643 15.9796 4.75938 15.5247 5.31753L15.4267 5.42577L8.85238 12L15.4267 18.5743C15.9816 19.1293 15.9816 20.0288 15.4267 20.5838C14.8717 21.1387 13.9721 21.1387 13.4172 20.5838L5.83817 13.0048L5.74011 12.8965Z",fill:n})}),ff=({size:e=24,color:n="#C4C4CC",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,style:{width:e,height:e},children:t.jsx("path",{d:"M14.5 4.9999C13.9696 4.9999 13.4609 5.21061 13.0858 5.58568C12.7107 5.96076 12.5 6.46946 12.5 6.9999C12.5 7.53033 12.7107 8.03904 13.0858 8.41411C13.4609 8.78918 13.9696 8.9999 14.5 8.9999C15.0304 8.9999 15.5391 8.78918 15.9142 8.41411C16.2893 8.03904 16.5 7.53033 16.5 6.9999C16.5 6.46946 16.2893 5.96076 15.9142 5.58568C15.5391 5.21061 15.0304 4.9999 14.5 4.9999ZM10.626 5.9999C10.8484 5.14166 11.3496 4.38158 12.0507 3.83897C12.7519 3.29636 13.6134 3.00195 14.5 3.00195C15.3866 3.00195 16.2481 3.29636 16.9493 3.83897C17.6504 4.38158 18.1516 5.14166 18.374 5.9999H20C20.2652 5.9999 20.5196 6.10525 20.7071 6.29279C20.8946 6.48033 21 6.73468 21 6.9999C21 7.26511 20.8946 7.51947 20.7071 7.707C20.5196 7.89454 20.2652 7.9999 20 7.9999H18.374C18.1516 8.85814 17.6504 9.61822 16.9493 10.1608C16.2481 10.7034 15.3866 10.9978 14.5 10.9978C13.6134 10.9978 12.7519 10.7034 12.0507 10.1608C11.3496 9.61822 10.8484 8.85814 10.626 7.9999H4C3.73478 7.9999 3.48043 7.89454 3.29289 7.707C3.10536 7.51947 3 7.26511 3 6.9999C3 6.73468 3.10536 6.48033 3.29289 6.29279C3.48043 6.10525 3.73478 5.9999 4 5.9999H10.626ZM9.5 14.9999C8.96957 14.9999 8.46086 15.2106 8.08579 15.5857C7.71071 15.9608 7.5 16.4695 7.5 16.9999C7.5 17.5303 7.71071 18.039 8.08579 18.4141C8.46086 18.7892 8.96957 18.9999 9.5 18.9999C10.0304 18.9999 10.5391 18.7892 10.9142 18.4141C11.2893 18.039 11.5 17.5303 11.5 16.9999C11.5 16.4695 11.2893 15.9608 10.9142 15.5857C10.5391 15.2106 10.0304 14.9999 9.5 14.9999ZM5.626 15.9999C5.84844 15.1417 6.34957 14.3816 7.05074 13.839C7.7519 13.2964 8.6134 13.002 9.5 13.002C10.3866 13.002 11.2481 13.2964 11.9493 13.839C12.6504 14.3816 13.1516 15.1417 13.374 15.9999H20C20.2652 15.9999 20.5196 16.1053 20.7071 16.2928C20.8946 16.4803 21 16.7347 21 16.9999C21 17.2651 20.8946 17.5195 20.7071 17.707C20.5196 17.8945 20.2652 17.9999 20 17.9999H13.374C13.1516 18.8581 12.6504 19.6182 11.9493 20.1608C11.2481 20.7034 10.3866 20.9978 9.5 20.9978C8.6134 20.9978 7.7519 20.7034 7.05074 20.1608C6.34957 19.6182 5.84844 18.8581 5.626 17.9999H4C3.73478 17.9999 3.48043 17.8945 3.29289 17.707C3.10536 17.5195 3 17.2651 3 16.9999C3 16.7347 3.10536 16.4803 3.29289 16.2928C3.48043 16.1053 3.73478 15.9999 4 15.9999H5.626Z",fill:n})}),_H=({size:e=20,className:n="",gradientId:s="mcp-gradient"})=>{const r=`${s}-clip`;return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,style:{width:`${e}px`,height:`${e}px`},children:[t.jsx("g",{clipPath:`url(#${r})`,children:t.jsx("path",{d:"M18.667 4.33105H20V15.665H18.667V16.998H1.33301V15.665H0V4.33105H1.33301V2.99805H18.667V4.33105ZM2 7.33203V12.665H3.66699V8.99902H4.33301V12.665H5.66602V8.99902H6.33301V12.665H8V7.33203H2ZM9 7.33203V12.665H13V10.999H10.667V8.99902H13V7.33203H9ZM14 7.33203V12.665H15.667V10.999H18.333V7.33203H14ZM16.667 8.66504V9.66504H15.667V8.66504H16.667Z",fill:`url(#${s})`})}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:s,x1:"1.75",y1:"0.548044",x2:"8.73257",y2:"20.107",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#FFF4DF"}),t.jsx("stop",{offset:"1",stopColor:"#F49B57"})]}),t.jsx("clipPath",{id:r,children:t.jsx("rect",{width:"20",height:"20",fill:"white"})})]})]})},xl=({className:e="",color:n="#E6E6E6",size:s=20,style:r})=>t.jsxs("svg",{width:s,height:s,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,style:r,children:[t.jsx("mask",{id:`mask0_3584_37997_${Math.random()}`,style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:t.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),t.jsx("g",{mask:`url(#mask0_3584_37997_${Math.random()})`,children:t.jsx("path",{d:"M9.99935 18.3327C8.86046 18.3327 7.78407 18.1139 6.77018 17.6764C5.75629 17.2389 4.87088 16.6417 4.11393 15.8848C3.35699 15.1278 2.75977 14.2424 2.32227 13.2285C1.88477 12.2146 1.66602 11.1382 1.66602 9.99935C1.66602 8.84657 1.88477 7.76671 2.32227 6.75977C2.75977 5.75282 3.35699 4.87088 4.11393 4.11393C4.87088 3.35699 5.75629 2.75977 6.77018 2.32227C7.78407 1.88477 8.86046 1.66602 9.99935 1.66602C11.1521 1.66602 12.232 1.88477 13.2389 2.32227C14.2459 2.75977 15.1278 3.35699 15.8848 4.11393C16.6417 4.87088 17.2389 5.75282 17.6764 6.75977C18.1139 7.76671 18.3327 8.84657 18.3327 9.99935C18.3327 11.1382 18.1139 12.2146 17.6764 13.2285C17.2389 14.2424 16.6417 15.1278 15.8848 15.8848C15.1278 16.6417 14.2459 17.2389 13.2389 17.6764C12.232 18.1139 11.1521 18.3327 9.99935 18.3327ZM9.99935 16.6243C10.3605 16.1243 10.673 15.6035 10.9368 15.0618C11.2007 14.5202 11.416 13.9438 11.5827 13.3327H8.41602C8.58268 13.9438 8.79796 14.5202 9.06185 15.0618C9.32574 15.6035 9.63824 16.1243 9.99935 16.6243ZM7.83268 16.291C7.58268 15.8327 7.36393 15.357 7.17643 14.8639C6.98893 14.3709 6.83268 13.8605 6.70768 13.3327H4.24935C4.65213 14.0271 5.1556 14.6313 5.75977 15.1452C6.36393 15.6591 7.0549 16.041 7.83268 16.291ZM12.166 16.291C12.9438 16.041 13.6348 15.6591 14.2389 15.1452C14.8431 14.6313 15.3466 14.0271 15.7493 13.3327H13.291C13.166 13.8605 13.0098 14.3709 12.8223 14.8639C12.6348 15.357 12.416 15.8327 12.166 16.291ZM3.54102 11.666H6.37435C6.33268 11.3882 6.30143 11.1139 6.2806 10.8431C6.25977 10.5723 6.24935 10.291 6.24935 9.99935C6.24935 9.70768 6.25977 9.42643 6.2806 9.1556C6.30143 8.88477 6.33268 8.61046 6.37435 8.33268H3.54102C3.47157 8.61046 3.41949 8.88477 3.38477 9.1556C3.35004 9.42643 3.33268 9.70768 3.33268 9.99935C3.33268 10.291 3.35004 10.5723 3.38477 10.8431C3.41949 11.1139 3.47157 11.3882 3.54102 11.666ZM8.04102 11.666H11.9577C11.9993 11.3882 12.0306 11.1139 12.0514 10.8431C12.0723 10.5723 12.0827 10.291 12.0827 9.99935C12.0827 9.70768 12.0723 9.42643 12.0514 9.1556C12.0306 8.88477 11.9993 8.61046 11.9577 8.33268H8.04102C7.99935 8.61046 7.9681 8.88477 7.94727 9.1556C7.92643 9.42643 7.91602 9.70768 7.91602 9.99935C7.91602 10.291 7.92643 10.5723 7.94727 10.8431C7.9681 11.1139 7.99935 11.3882 8.04102 11.666ZM13.6243 11.666H16.4577C16.5271 11.3882 16.5792 11.1139 16.6139 10.8431C16.6487 10.5723 16.666 10.291 16.666 9.99935C16.666 9.70768 16.6487 9.42643 16.6139 9.1556C16.5792 8.88477 16.5271 8.61046 16.4577 8.33268H13.6243C13.666 8.61046 13.6973 8.88477 13.7181 9.1556C13.7389 9.42643 13.7493 9.70768 13.7493 9.99935C13.7493 10.291 13.7389 10.5723 13.7181 10.8431C13.6973 11.1139 13.666 11.3882 13.6243 11.666ZM13.291 6.66602H15.7493C15.3466 5.97157 14.8431 5.3674 14.2389 4.85352C13.6348 4.33963 12.9438 3.95768 12.166 3.70768C12.416 4.16602 12.6348 4.64171 12.8223 5.13477C13.0098 5.62782 13.166 6.13824 13.291 6.66602ZM8.41602 6.66602H11.5827C11.416 6.0549 11.2007 5.47852 10.9368 4.93685C10.673 4.39518 10.3605 3.87435 9.99935 3.37435C9.63824 3.87435 9.32574 4.39518 9.06185 4.93685C8.79796 5.47852 8.58268 6.0549 8.41602 6.66602ZM4.24935 6.66602H6.70768C6.83268 6.13824 6.98893 5.62782 7.17643 5.13477C7.36393 4.64171 7.58268 4.16602 7.83268 3.70768C7.0549 3.95768 6.36393 4.33963 5.75977 4.85352C5.1556 5.3674 4.65213 5.97157 4.24935 6.66602Z",fill:n})})]});var Qb={exports:{}},e6,XS;function nhe(){if(XS)return e6;XS=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return e6=e,e6}var t6,QS;function she(){if(QS)return t6;QS=1;var e=nhe();function n(){}function s(){}return s.resetWarningCache=n,t6=function(){function r(o,l,c,u,p,f){if(f!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:n};return a.PropTypes=a,a},t6}var ek;function rhe(){return ek||(ek=1,Qb.exports=she()()),Qb.exports}var ihe=rhe();const Qe=ga(ihe),za=({size:e=24,color:n="white",opacity:s=.3,className:r="",...i})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:r,style:{opacity:s},...i,children:[t.jsx("mask",{id:"mask0_3643_39837",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_3643_39837)",children:t.jsx("path",{d:"M6.12129 21.7843C5.58252 21.7843 5.12129 21.5925 4.73762 21.2088C4.35395 20.8251 4.16211 20.3639 4.16211 19.8251V10.0292C4.16211 9.49044 4.35395 9.02922 4.73762 8.64554C5.12129 8.26187 5.58252 8.07003 6.12129 8.07003H7.10089V6.11085C7.10089 4.75575 7.57844 3.60065 8.53354 2.64554C9.48864 1.69044 10.6437 1.21289 11.9988 1.21289C13.3539 1.21289 14.509 1.69044 15.4642 2.64554C16.4193 3.60065 16.8968 4.75575 16.8968 6.11085V8.07003H17.8764C18.4152 8.07003 18.8764 8.26187 19.2601 8.64554C19.6437 9.02922 19.8356 9.49044 19.8356 10.0292V19.8251C19.8356 20.3639 19.6437 20.8251 19.2601 21.2088C18.8764 21.5925 18.4152 21.7843 17.8764 21.7843H6.12129ZM11.9988 16.8864C12.5376 16.8864 12.9988 16.6945 13.3825 16.3109C13.7662 15.9272 13.958 15.466 13.958 14.9272C13.958 14.3884 13.7662 13.9272 13.3825 13.5435C12.9988 13.1598 12.5376 12.968 11.9988 12.968C11.4601 12.968 10.9988 13.1598 10.6152 13.5435C10.2315 13.9272 10.0397 14.3884 10.0397 14.9272C10.0397 15.466 10.2315 15.9272 10.6152 16.3109C10.9988 16.6945 11.4601 16.8864 11.9988 16.8864ZM9.06007 8.07003H14.9376V6.11085C14.9376 5.29452 14.6519 4.60065 14.0805 4.02922C13.509 3.45779 12.8152 3.17207 11.9988 3.17207C11.1825 3.17207 10.4886 3.45779 9.91721 4.02922C9.34578 4.60065 9.06007 5.29452 9.06007 6.11085V8.07003Z",fill:n})})]});za.propTypes={size:Qe.oneOfType([Qe.number,Qe.string]),color:Qe.string,opacity:Qe.number,className:Qe.string,onClick:Qe.func,onMouseEnter:Qe.func,onMouseLeave:Qe.func,style:Qe.object,"aria-label":Qe.string,"aria-hidden":Qe.bool,role:Qe.string,id:Qe.string,"data-testid":Qe.string};const Oi=({size:e=24,width:n,height:s,color:r="#224BC6",className:i})=>{const a=n||e,o=s||e;return t.jsx("svg",{width:a,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:t.jsx("path",{d:"M10.8213 5.93167C10.9705 5.48892 11.6047 5.48889 11.7539 5.93167L12.6582 8.61721C13.1079 9.95302 14.1686 11.002 15.5205 11.4463L18.2383 12.3389C18.6866 12.4862 18.6866 13.1134 18.2383 13.2608L15.5205 14.1543C14.1686 14.5986 13.1079 15.6466 12.6582 16.9824L11.7539 19.668C11.6048 20.111 10.9704 20.111 10.8213 19.668L9.917 16.9824C9.46731 15.6467 8.40659 14.5986 7.0547 14.1543L4.33595 13.2608C3.88806 13.1132 3.88798 12.4863 4.33595 12.3389L7.0547 11.4463C8.40665 11.002 9.46729 9.95302 9.917 8.61721L10.8213 5.93167ZM16.8984 4.13284C16.9581 3.95574 17.2118 3.9557 17.2715 4.13284L17.6084 5.13382C17.804 5.71436 18.2649 6.17014 18.8526 6.36331L19.8652 6.69632C20.0445 6.7553 20.0446 7.00555 19.8652 7.06448L18.8526 7.39749C18.2648 7.59072 17.8039 8.04628 17.6084 8.62698L17.2715 9.62698C17.2118 9.80417 16.9581 9.80417 16.8984 9.62698L16.5615 8.62698C16.366 8.04634 15.905 7.59076 15.3174 7.39749L14.3047 7.06448C14.1254 7.00554 14.1254 6.75525 14.3047 6.69632L15.3174 6.36331C15.905 6.1701 16.3659 5.71433 16.5615 5.13382L16.8984 4.13284Z",fill:r})})},Xl=({size:e=36,color:n="#E57E5C",className:s="",...r})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:[t.jsx("path",{d:"M17.1016 10.4995C17.1016 10.0025 17.5039 9.6001 18.001 9.6001C18.498 9.6001 18.9004 10.0025 18.9004 10.4995V17.1001H25.501C25.998 17.1001 26.4004 17.5025 26.4004 17.9995C26.4004 18.4966 25.998 18.8989 25.501 18.8989H18.001C17.5039 18.8989 17.1016 18.4966 17.1016 17.9995V10.4995Z",fill:n}),t.jsx("path",{d:"M17.9922 4.50098C21.5724 4.50103 25.0064 5.92262 27.5381 8.4541C30.0698 10.9858 31.4922 14.4206 31.4922 18.001C31.492 21.5811 30.0696 25.0143 27.5381 27.5459C25.0064 30.0775 21.5724 31.5009 17.9922 31.501C17.4954 31.5007 17.0928 31.0965 17.0928 30.5996V30.5967C17.093 30.1 17.4955 29.6966 17.9922 29.6963C21.0938 29.6962 24.0694 28.4645 26.2627 26.2715C28.4559 24.0782 29.6883 21.1027 29.6885 18.001C29.6885 14.8991 28.456 11.9239 26.2627 9.73047C24.0693 7.53708 21.0941 6.30376 17.9922 6.30371C17.7537 6.30356 17.5251 6.20868 17.3564 6.04004C17.1879 5.87138 17.0929 5.64275 17.0928 5.4043V5.40039C17.0928 4.90353 17.4954 4.50129 17.9922 4.50098ZM8.98535 19.5C9.53736 19.5002 9.98409 19.947 9.98438 20.499V24.5H13.9961C14.5482 24.5 14.9958 24.947 14.9961 25.499C14.9961 26.0514 14.5484 26.499 13.9961 26.499H9.98438V30.5C9.98438 31.0522 9.53754 31.4998 8.98535 31.5C8.4331 31.4999 7.98535 31.0523 7.98535 30.5V26.499H3.99512C3.44288 26.4989 2.99609 26.0513 2.99609 25.499C2.99643 24.947 3.44309 24.5001 3.99512 24.5H7.98535V20.499C7.98564 19.947 8.43327 19.5001 8.98535 19.5ZM5.99219 12C6.82052 12.0001 7.49219 12.6716 7.49219 13.5C7.49203 14.3282 6.82043 14.9999 5.99219 15C5.16386 15 4.49235 14.3283 4.49219 13.5C4.49219 12.6716 5.16376 12 5.99219 12ZM8.99414 7.5C9.82257 7.5 10.4941 8.17157 10.4941 9C10.494 9.82829 9.82247 10.5 8.99414 10.5C8.1659 10.4999 7.4943 9.82823 7.49414 9C7.49414 8.17164 8.1658 7.50011 8.99414 7.5ZM13.4941 4.5C14.3226 4.5 14.9941 5.17157 14.9941 6C14.9941 6.82843 14.3226 7.5 13.4941 7.5C12.6658 7.49989 11.9941 6.82836 11.9941 6C11.9941 5.17164 12.6658 4.50011 13.4941 4.5Z",fill:n})]}),mf=d.forwardRef(({className:e,...n},s)=>t.jsx(G8,{className:k("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...n,ref:s,children:t.jsx(kM,{className:k("pointer-events-none block h-4 w-4 rounded-full bg-[#FFFFFF] shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 ")})}));mf.displayName=G8.displayName;const Eg=({width:e=20,height:n=20,fill:s="#E58D73",className:r})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:r,children:t.jsx("path",{d:"M5.13405 12.64L8.28605 10.88L8.33405 10.72L8.28605 10.64H8.12605L7.59805 10.608L5.80605 10.56L4.23805 10.48L2.71805 10.4L2.33405 10.32L1.99805 9.84L2.03005 9.6L2.35005 9.392L2.81405 9.424L3.82205 9.504L5.34205 9.6L6.44605 9.664L8.07805 9.856H8.33405L8.36605 9.744L8.28605 9.68L8.22205 9.616L6.63805 8.56L4.94205 7.44L4.04605 6.784L3.56605 6.464L3.32605 6.144L3.23005 5.472L3.66205 4.992L4.25405 5.04L4.39805 5.072L4.99005 5.536L6.27005 6.512L7.91805 7.76L8.15805 7.952L8.25405 7.888L8.27005 7.84L8.15805 7.664L7.27805 6L6.31805 4.336L5.88605 3.648L5.77405 3.232C5.72605 3.072 5.71005 2.912 5.71005 2.752L6.19005 2.08L6.47805 2L7.15005 2.096L7.40605 2.32L7.82205 3.28L8.47805 4.768L9.51805 6.784L9.83805 7.392L9.99805 7.936L10.046 8.096H10.158V8.016L10.238 6.864L10.398 5.472L10.558 3.68L10.606 3.168L10.862 2.56L11.342 2.24L11.758 2.416L12.078 2.88L12.03 3.168L11.854 4.4L11.438 6.336L11.198 7.648H11.342L11.502 7.472L12.158 6.608L13.262 5.232L13.742 4.672L14.318 4.08L14.686 3.792H15.374L15.87 4.544L15.646 5.328L14.942 6.224L14.35 6.976L13.502 8.112L12.99 9.024L13.038 9.088H13.15L15.07 8.672L16.094 8.496L17.31 8.288L17.87 8.544L17.934 8.8L17.71 9.344L16.398 9.664L14.862 9.984L12.574 10.512L12.542 10.528L12.574 10.576L13.598 10.672L14.046 10.704H15.134L17.15 10.864L17.678 11.184L17.982 11.616L17.934 11.936L17.118 12.352L16.03 12.096L13.47 11.488L12.606 11.28H12.478V11.344L13.214 12.064L14.542 13.264L16.238 14.816L16.318 15.2L16.11 15.52L15.886 15.488L14.414 14.368L13.838 13.888L12.558 12.8H12.478V12.912L12.766 13.344L14.334 15.696L14.414 16.416L14.302 16.64L13.886 16.8L13.454 16.704L12.526 15.424L11.566 13.984L10.814 12.672L10.734 12.736L10.27 17.568L10.062 17.808L9.58205 18L9.18205 17.68L8.95805 17.2L9.18205 16.208L9.43805 14.928L9.64605 13.904L9.83805 12.64L9.95005 12.224V12.192H9.83805L8.87805 13.52L7.43805 15.488L6.28605 16.704L6.01405 16.816L5.53405 16.576L5.58205 16.128L5.83805 15.76L7.43805 13.712L8.39805 12.448L9.03805 11.712L9.02205 11.632H8.97405L4.75005 14.384L3.99805 14.48L3.67805 14.16L3.71005 13.68L3.87005 13.52L5.15005 12.64H5.13405Z",fill:s})}),tk=K.common.logoBlue,nk=K.icons.geminiIcon;let Qr=null;const Q7=({models:e,selectedModelId:n,onModelChange:s,className:r,disabled:i=!1,placeholder:a="Select Model",onUpgradeRequired:o,buttonClassName:l})=>{const[c,u]=d.useState(!1),[p,f]=d.useState({top:0,left:0,width:320}),[m,h]=d.useState(!1),[x,g]=d.useState(!1),v=d.useRef(Math.random().toString(36).substring(2,15)),b=d.useRef(null),y=d.useRef(null),w=d.useRef(null),_=Mi(),{canAccessModel:N,pro:j,tier:C}=gi(),S=ba(),F=br(W=>W.menu?.showModelSelectorTooltip),E=br(W=>W.menu?.highlightBroMode),I=W=>W.unavailable_tier?C!==W.unavailable_tier:!0,T=W=>N(W.user_tier),A=W=>W==="Claude 4.5 Sonnet",D=e.filter(I).filter((W,Z,le)=>Z===le.findIndex(q=>q.id===W.id)),O=e.find(W=>W.id===n),M=()=>{if(!y.current)return;const W=y.current.getBoundingClientRect(),Z=Math.min(D.length*50+16,300),le=W.width,q=8;let Q=W.bottom+q,he=W.left;Q+Z>window.innerHeight&&(Q=W.top-Z-q),he+le>window.innerWidth&&(he=window.innerWidth-le-16),he<0&&(he=16),f({top:Q,left:he,width:le})},L=()=>{const W=D.findIndex(Q=>Q.name.toLowerCase().includes("extended"));if(W===-1)return{top:p.top,left:p.left+340};const Z=40;return{top:p.top+8+W*Z+Z/2-60,left:p.left+340}},P=()=>({top:p.top+8+0+20-30,left:p.left+340}),B=W=>{const Z=W.name.toLowerCase();return j?Z.includes("claude")&&Z.includes("4.6")&&Z.includes("opus")&&Z.includes("1m"):Z.includes("claude")&&Z.includes("4.6")&&Z.includes("opus")&&!Z.includes("1m")},G=c&&F&&Qr===v.current&&Dc(_.pathname)&&!x&&C!=="standard",$=()=>{const W=D.findIndex(B),Z=80,le=200,q=46,Q=8,he=Math.max(p.width||320,320);if(W===-1){const ce=j?p.left-le-28:p.left+he+28;return{top:p.top+Q,left:ce}}return{top:p.top+Q+W*q+(q-Z)/2,left:j?p.left-le-28:p.left+he+28}};d.useEffect(()=>{E&&F?Qr||(Qr=v.current,M(),u(!0),h(!0)):F&&!xN()&&Dc(_.pathname)?Qr||(Qr=v.current,M(),u(!0),gN()):!F&&Qr===v.current&&(Qr=null,c&&(u(!1),h(!1),g(!1)))},[F,_.pathname,E]),d.useEffect(()=>()=>{Qr===v.current&&(Qr=null)},[]),d.useEffect(()=>{const W=le=>{if(!b.current||!y.current)return;const q=le.target;c&&!b.current.contains(q)&&!y.current.contains(q)&&(!w.current||!w.current.contains(q))&&(u(!1),F&&Qr===v.current&&(S(_a(!1)),Qr===v.current&&(Qr=null)),m&&(h(!1),S(L1(!1))))},Z=()=>{c&&M()};return c&&(document.addEventListener("mousedown",W),window.addEventListener("scroll",Z,!0),window.addEventListener("resize",Z)),()=>{document.removeEventListener("mousedown",W),window.removeEventListener("scroll",Z,!0),window.removeEventListener("resize",Z)}},[c]);const te=W=>{const Z=e.find(le=>le.id===W);if(Z&&!T(Z)){o&&o(Z),u(!1);return}s(W),u(!1),F&&(S(_a(!1)),Qr===v.current&&(Qr=null)),E&&S(L1(!1))},U=()=>{S(_a(!1)),Qr===v.current&&(Qr=null)},oe=()=>{h(!1),S(L1(!1)),S(_a(!1))},Y=W=>{const Z=W.target.scrollTop;F&&Qr===v.current&&g(Z>10)};return t.jsxs("div",{className:k("relative w-full",r),children:[t.jsxs("button",{ref:y,type:"button","data-testid":Nr.modelSelector.button,disabled:i,className:k("h-[56px] bg-[#FFFFFF0A] w-full border border-[#ffffff12] rounded-lg px-4 flex items-center gap-2 transition-colors duration-200 hover:border-[#333]",c&&"border-[#80FFF9] bg-[#5CD2E51A] text-[#80FFF9]",i&&"opacity-50 cursor-not-allowed",l),onClick:W=>{W.stopPropagation(),!i&&(c?(F&&Qr===v.current&&(S(_a(!1)),Qr=null),g(!1)):(M(),!xN()&&Dc(_.pathname)&&!Qr&&C!=="standard"&&(Qr=v.current,S(_a(!0)),gN())),u(!c))},children:[O?.name.toLowerCase()?.includes("composite")?t.jsx("img",{src:tk,alt:"Emergent Logo",width:20,height:20,className:"hidden md:block"}):O?.name.toLowerCase()?.includes("gemini")?t.jsx("img",{src:nk,alt:"Gemini",width:20,height:20,className:"hidden md:block"}):O?.icon?t.jsx(O.icon,{className:k("hidden md:block",c&&"text-[#80FFF9]")}):null,t.jsx("span",{"data-testid":Nr.modelSelector.text,className:k("text-[#DDDDE6] flex-1 text-[14px] flex flex-nowrap whitespace-nowrap capitalize",c&&"text-[#80FFF9]",!O&&"text-[#999]"),children:O?O.name:a}),t.jsx(Ur,{className:k("w-5 h-5 transition-transform duration-200 text-[#DDDDE6]",c&&"rotate-180 text-[#80FFF9]")})]}),t.jsx(as,{open:c,onOpenChange:u,children:t.jsx(Cr,{children:t.jsx("div",{ref:b,"data-testid":Nr.modelSelector.dropdown,className:"fixed z-[9999] bg-[#131314] border border-[#222] rounded-lg shadow-lg overflow-y-auto max-h-[300px]",style:{top:`${p.top}px`,left:`${p.left}px`,width:`${p.width}px`,minWidth:"320px"},onScroll:Y,children:t.jsx("div",{className:"flex flex-col p-2",children:D.map(W=>t.jsx("div",{"data-testid":Nr.modelSelector.option(W.user_tier==="pro_mode"?"pro":"free"),className:k("flex items-center px-2 md:min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer relative",n===W.id&&"text-[#80FFF9]",G&&B(W)&&"bg-[#2D2D2F]/40"),onClick:Z=>{Z.stopPropagation(),te(W.id)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"min-w-[15px] flex items-center justify-center",children:W.name&&W.name.toLowerCase().includes("composite")?t.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded-[20px] bg-white/10",children:t.jsx("img",{src:tk,alt:"Emergent Logo",width:16,height:16,className:"hidden md:block"})}):W.name&&W.name.toLowerCase().includes("gemini")?t.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded-[20px] bg-white/10",children:t.jsx("img",{src:nk,alt:"Gemini",width:16,height:16,className:"hidden md:block"})}):W.icon?t.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded-[20px] bg-white/10",children:t.jsx(W.icon,{className:k("hidden md:block w-4 h-4",n===W.id&&"text-[#80FFF9]")})}):null}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{"data-testid":Nr.modelSelector.name,className:"text-[12px] text-nowrap flex items-center gap-[2px] md:text-[13px] text-[#E8E8E6]",children:[W.name,W.user_tier=="pro_mode"&&t.jsx(Oi,{color:"#FF8C66"})]}),W.description&&t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#8A8F98] font-inter",children:W.description})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[W.user_tier=="pro_mode"&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:A(W.name)?"Beta":"PRO"})}),n===W.id&&!W.showNew&&t.jsx(xn,{className:"h-4 w-4 text-[#66EAFF]"})]})]})},W.id))})})})}),t.jsx(as,{open:c&&F&&Qr===v.current&&_.pathname==="/",onOpenChange:W=>{W||U()},children:t.jsx(Cr,{children:t.jsxs(fe.div,{ref:w,initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},transition:{duration:.3,ease:"easeOut"},className:"fixed z-[9999] max-w-[280px] p-4 bg-[#FFFFFF] border-[#2E2F34] text-white shadow-2xl rounded-[12px]",style:{backdropFilter:"blur(20px)",...L()},children:[t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-[2px]",children:[t.jsx(Eg,{fill:"#000000"}),t.jsx("span",{className:"text-[15px] font-['Inter'] font-semibold text-[#0F0F10]",children:j?"Try Now":"Try Claude 4.5 - 1M context"})]}),t.jsx("p",{className:"text-[12px] font-medium font-['Inter'] text-[#0F0F1080] leading-[16px]",children:j?"Experience Anthropic's latest 4.5 sonnet model with 1M context window":"Get your hands on Anthropic's latest 4.5 sonnet model with 1M context window"})]}),t.jsx("div",{className:"flex items-center justify-end w-full gap-2",children:t.jsxs("button",{onClick:W=>{W.stopPropagation(),W.preventDefault(),j?U():o&&(U(),o())},className:"px-3 py-[6px] flex gap-2 items-center justify-center bg-[#0B0B0B] hover:bg-[#333333] font-['Inter'] rounded-[6px] text-[#FFFFFF] text-[12px] font-medium transition-colors",type:"button",children:[j?"Try Now":"Upgrade to Pro",t.jsx(Oi,{color:"#ffffff"})]})})]}),t.jsxs("div",{className:"absolute z-[999] flex items-center justify-center transform -translate-y-1/2 -left-[24px] top-1/2",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),t.jsx("div",{className:"bg-white min-w-4 min-h-[1px] mr-[2px]"})]})]})})}),t.jsx(Kn,{children:c&&F&&Qr===v.current&&Dc(_.pathname)&&!x&&C!=="standard"&&t.jsxs(fe.div,{initial:{opacity:0,x:j?6:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:j?6:-6},transition:{duration:.2,ease:"easeOut"},className:"fixed z-[9999] w-[200px] px-3 py-[10px] bg-[#FFFFFF] shadow-[0px_4px_20px_rgba(0,0,0,0.15)] rounded-[12px]",style:{top:$().top,left:$().left},onClick:U,children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:"text-[13px] font-['Inter'] font-semibold text-[#0F0F10]",children:"Try Claude Opus 4.6"}),t.jsx("p",{className:"text-[11.5px] font-semibold font-['Inter'] text-[#0F0F10]/50 leading-[14px]",children:"Get your hands on Anthropic's most advanced model."})]}),j?t.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 -right-[28px] flex items-center",children:[t.jsx("div",{className:"w-[18px] h-[1px] bg-white"}),t.jsx("div",{className:"w-[10px] h-[10px] bg-white rounded-full shadow-[0px_2px_4px_rgba(0,0,0,0.1)]"})]}):t.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 -left-[28px] flex items-center flex-row-reverse",children:[t.jsx("div",{className:"w-[18px] h-[1px] bg-white"}),t.jsx("div",{className:"w-[10px] h-[10px] bg-white rounded-full shadow-[0px_2px_4px_rgba(0,0,0,0.1)]"})]})]},"opus-nudge")}),t.jsx(as,{open:c&&m&&E,onOpenChange:W=>{W||oe()},children:t.jsx(Cr,{children:t.jsxs(fe.div,{ref:w,initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},transition:{duration:.3,ease:"easeOut"},className:"fixed z-[9999] max-w-[280px] p-3 bg-[#FFFFFF] border-[#2E2F34] text-white shadow-2xl rounded-[12px]",style:{backdropFilter:"blur(20px)",...P()},children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"flex items-center gap-[6px]",children:t.jsx("span",{className:"text-[15px] font-['Inter'] font-semibold text-[#0F0F10]",children:"Try Claude 4.5 Sonnet"})}),t.jsx("p",{className:"text-[12px] font-medium font-['Inter'] text-[#0F0F1080] leading-[16px]",children:"Experience Anthropic's latest 4.5 sonnet model with enhanced reasoning and deep context understanding."})]}),t.jsx("div",{className:"flex items-center justify-end w-full gap-2",children:t.jsxs("button",{onClick:W=>{W.stopPropagation(),W.preventDefault();const Z=D.find(le=>le.name==="Claude 4.5 Sonnet");Z&&te(Z.id),oe()},className:"px-[8px] py-[2px] flex gap-2 items-center justify-center bg-[#0B0B0B] hover:bg-[#333333] font-['Inter'] rounded-[6px] text-[#FFFFFF] text-[12px] font-medium transition-colors",type:"button",children:["Try Now",t.jsx(Oi,{color:"#ffffff",size:20})]})})]}),t.jsxs("div",{className:"absolute z-[999] flex items-center justify-center transform -translate-y-1/2 -left-[24px] top-1/2",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),t.jsx("div",{className:"bg-white min-w-4 min-h-[1px] mr-[2px]"})]})]})})})]})},l3=({privacy:e,iconSize:n=20,textClassName:s="font-medium font-inter text-[#FFFFFF]"})=>t.jsx(t.Fragment,{children:e==="public"?t.jsxs(t.Fragment,{children:[t.jsx(xl,{size:n}),t.jsx("span",{className:s,children:"Public"})]}):t.jsxs(t.Fragment,{children:[t.jsx(za,{size:n,color:"#ffffff",opacity:1}),t.jsx("span",{className:s,children:"Private"})]})}),ahe=K.common.copyPaperclip,ohe=K.common.logoBlue,lhe=K.common.copperCoin,sk=K.universal.claude,rk=K.universal.openai,che=K.icons.geminiIcon,dhe=K.icons.submit,uhe=K.icons.github,phe=K.github.githubConnected;let el=null,Qu=null;const ik=(e,n)=>{if(!n)return{model:null,name:null,icon:rk};if(n==="bro-mode")return{model:{id:"bro-mode",name:"Bro Mode",description:"Advanced AI with enhanced reasoning"},name:"Bro Mode",icon:sk};const s=e.find(o=>o.id===n),r=s?.name;let i=rk;const a=r?.toLowerCase();return a?.includes("composite")?i=ohe:a?.includes("claude")?i=sk:a?.includes("gemini")&&(i=che),{model:s,name:r,icon:i}},fhe=(e,n,s=!1)=>s?!0:e.user_tier?n===e.user_tier:e.unavailable_tier?n!==e.unavailable_tier:!0,mhe=({value:e,onChange:n,placeholder:s="",maxHeight:r="200px",onAttachClick:i,onSubmit:a,disabled:o,onPaste:l,attachIcon:c,attachTooltip:u,githubTooltip:p,isSubmitting:f,handleSettingsClick:m,handleGithubSettings:h,showGithubSettings:x,showControls:g,className:v,hasUserConnectedGithub:b,githubUrl:y,onClearGithubUrl:w,isUploadAssetEnabled:_=!1,userPrompts:N=[],isLoadingUserPrompts:j=!1,selectedCustomAgent:C=null,onCustomAgentChange:S,shouldShowUserPrompts:F=!1,mobileEnabled:E=!1,onMobileEnabled:I,e15Enabled:T=!1,onE15Enabled:A,e2Enabled:D=!1,onE2Enabled:O,prototypeEnabled:M=!1,onPrototypeEnabled:L,nextJSEnabled:P=!1,onNextJSEnabled:B,showMobileAgentIntro:G=!1,onMobileAgentIntroShown:$,selectedImage:te,setSelectedImage:U,globalConfig:oe,perInstanceCostLimit:Y,setPerInstanceCostLimit:W,availableModels:Z=[],selectedModelId:le,onModelChange:q,showModelSelector:Q=!1,onPrivacyChange:he,ultraMode:me=!1,onUltraModeChange:ce,testMode:ee=!1,onTestModeChange:J,selectedMcpTools:re=[],onMcpToolsChange:xe,onFocusChange:ae,isRecording:Fe=!1,isTranscribing:se=!1,onVoiceClick:_e})=>{const{pro:Re,restrictedFree:Se,defaultPrivacy:Ne,isEmergentUser:ge,tier:Ce,isTrulyFreeUser:$e,isOrganizationWorkspace:dt}=gi(),{toast:Me}=ns(),{t:we}=en("home"),Te=ba(),ze=br(ke=>ke.menu?.showModelSelectorTooltip),_t=br(ke=>ke.menu?.showAgentDropdown),Bt=br(ke=>ke.menu?.highlightBroMode),{currentWorkspace:qe}=hs(),{setTabs:Ae,setActiveTab:Le}=hi(),Ut=Mi(),[tt,xt]=d.useState(""),[St,It]=d.useState(!1),kt=d.useRef(Math.random().toString(36).substring(2,15)),[Ot,Ie]=d.useState(0),[nt,We]=d.useState(!1),[Lt,pt]=d.useState(!1),[ft,Tt]=d.useState(),[Gt,Ze]=d.useState(!1),[ut,Qt]=d.useState({top:0,left:0}),[Sn,yn]=d.useState(!1),[Ee,Ke]=d.useState(!1),[mt,Ge]=d.useState({top:0,left:0}),[At,Cn]=d.useState(Ne),[Mt,Pn]=d.useState(!1),wn=ku(),{promptUpgrade:In}=oH();Sa();const[us,Kt]=d.useState(!1),[dn,gt]=d.useState("main"),ps=et.useRef(null),Zn=et.useCallback(ke=>{if(gt(ke),ps.current){const ye=ps.current;ye.style.transform="translateZ(0)",requestAnimationFrame(()=>{ye.style.transform=""})}},[]),{getCurrentOrganizationId:$s}=hs(),Ls=$s(),{data:ys}=G5(Ls?{organization_id:Ls}:void 0,{skip:!1}),zn=Y||"5",[_n,Wn]=d.useState(!1);d.useEffect(()=>{he&&he(At)},[At,he]),d.useEffect(()=>{Cn(Ne)},[Ne]);const[As,tr]=d.useState(EL()),{isMobile:Ht}=ts(),zs=Ht?"150px":r,Ve=d.useRef(null),lt=d.useRef(null),$t=d.useRef(null),Tn=d.useRef(null),Yt=d.useRef(null),Is=fO(ge),nn=mO(ge)||Re,Ue=n0(),Nt=oe?.e15_experimental&&Re,bn=oe?.e2_experimental,Yn=Re||Ce==="pro",Jn=oe?.prototype_agent_experimental,fs=Z.filter((ke,ye,Et)=>ye===Et.findIndex(qt=>qt.id===ke.id)),Gn=Q&&fs.length>0&&!Ht,Fs=100,nr=50,an=2e3,Ws=[we("textarea.placeholder.phrases.fullstack.dashboard")+"...",we("textarea.placeholder.phrases.landing.landingPage")+"...",we("textarea.placeholder.phrases.fullstack.saas")+"...",we("textarea.placeholder.phrases.fullstack.netflix")+"...",we("textarea.placeholder.phrases.mobile.fitness")+"..."];d.useEffect(()=>{const ke=setTimeout(()=>{rs()},St?nr:Fs);return()=>clearTimeout(ke)},[tt,St]),d.useEffect(()=>{Bt&&ze&&Ht&&(Kt(!0),gt("models"),setTimeout(()=>{Te(L1(!1)),Te(_a(!1))},500))},[Bt,ze,Ht,Te]);const ir=()=>{if(!$t.current)return;const ke=$t.current.getBoundingClientRect(),ye=120,Et=180,qt=8;let Oe=ke.bottom+qt,He=ke.left;Oe+ye>window.innerHeight&&(Oe=ke.top-ye-qt),He+Et>window.innerWidth&&(He=window.innerWidth-Et-16),He<0&&(He=16),Qt({top:Oe,left:He})},vr=()=>{if(!Yt.current)return;const ke=Yt.current.getBoundingClientRect(),ye=124,Et=276,qt=8;let Oe=ke.bottom+qt,He=ke.left;He+Et>window.innerWidth&&(He=window.innerWidth-Et-16),Oe+ye>window.innerHeight&&(Oe=ke.top-ye-qt),He<16&&(He=16),Ge({top:Oe,left:He})};d.useEffect(()=>{const ke=Et=>{if(!lt.current||!$t.current)return;const qt=Et.target;Gt&&!lt.current.contains(qt)&&!$t.current.contains(qt)&&Ze(!1)},ye=()=>{Gt&&ir()};return Gt&&(document.addEventListener("mousedown",ke),window.addEventListener("scroll",ye,!0),window.addEventListener("resize",ye)),()=>{document.removeEventListener("mousedown",ke),window.removeEventListener("scroll",ye,!0),window.removeEventListener("resize",ye)}},[Gt]),d.useEffect(()=>{const ke=Et=>{if(!Tn.current||!Yt.current)return;const qt=Et.target;Ee&&!Tn.current.contains(qt)&&!Yt.current.contains(qt)&&Ke(!1)},ye=()=>{Ee&&vr()};return Ee&&(document.addEventListener("mousedown",ke),window.addEventListener("scroll",ye,!0),window.addEventListener("resize",ye)),()=>{document.removeEventListener("mousedown",ke),window.removeEventListener("scroll",ye,!0),window.removeEventListener("resize",ye)}},[Ee]),d.useEffect(()=>{G&&!As&&(ir(),Ze(!0),setTimeout(()=>{Wn(!0)},300),$?.())},[G,As,$]),d.useEffect(()=>{ze&&Q&&fs.length>0&&Dc(Ut.pathname)?Ht&&(el||(el=kt.current,gt("models"),Kt(!0)),Te(_a(!1))):!ze&&el===kt.current&&(el=null)},[ze,Ht,Q,fs.length,Te,Ut.pathname]),d.useEffect(()=>{_t&&Dc(Ut.pathname)?Ht?(el||(el=kt.current,yn(!0)),Te(j2(!1))):(Qu||(Qu=kt.current,ir(),Ze(!0)),Te(j2(!1))):!_t&&Qu===kt.current?Qu=null:!_t&&el===kt.current&&(el=null)},[_t,Ht,Te,Ut.pathname]),d.useEffect(()=>()=>{el===kt.current&&(el=null),Qu===kt.current&&(Qu=null)},[]);const rs=()=>{const ke=Ws[Ot%Ws.length];if(!St&&tt===ke){setTimeout(()=>{It(!0)},an);return}else if(St&&tt===""){It(!1),Ie(Ot+1);return}xt(St?ke.substring(0,tt.length-1):ke.substring(0,tt.length+1))};d.useEffect(()=>{const ke=Ve.current;if(ke){ke.style.height="auto";const ye=Math.min(ke.scrollHeight,parseInt(zs));ke.style.height=`${ye}px`}},[e,zs]),d.useEffect(()=>{if(!g){const ke=setInterval(()=>{pt(ye=>!ye)},1e3);return()=>clearInterval(ke)}},[g]);const Bs=d.useCallback(()=>{if(e.length>Ac){Me({title:"Message too long",description:`Message cannot exceed ${Ac.toLocaleString()} characters. Current: ${e.length.toLocaleString()}`,variant:"destructive"});return}a()},[e,a,Me]),_s=ke=>{ke.key==="Enter"&&(ke.ctrlKey||ke.metaKey)&&(ke.preventDefault(),!o&&!f&&Bs())},wr=ke=>{ke.preventDefault(),ke.stopPropagation(),We(!1);const ye=ke.dataTransfer.files;if(ye.length>0){const Et=new Event("custom-file-drop",{bubbles:!0});if(Object.defineProperty(Et,"files",{value:ye,writable:!1}),document.dispatchEvent(Et),l){const qt={clipboardData:{files:ye,items:Array.from(ye).map(Oe=>({kind:"file",type:Oe.type,getAsFile:()=>Oe}))},preventDefault:()=>{}};l(qt)}else i()}},Gs=()=>{const ke=`create-agent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;Ae(ye=>[...ye,{id:ke,title:"Create New Agent",tabHeading:"Create New Agent",path:"/create-agent",level:qe!=="personal"?"organization":"user",organization_id:qe!=="personal"?qe:void 0,state:{tabId:ke,fromTextarea:!0,workspaceContext:{isOrganizationWorkspace:qe!=="personal",currentOrganizationId:qe!=="personal"?qe:void 0}}}]),Le(ke),Ze(!1)},Sr=()=>{dt()?wn.open({initialTab:"shared-agents"}):wn.open({initialTab:"manage-agents"}),Ze(!1)},ve=d.useCallback(()=>{Wn(!1),tr(!0),SL()},[]),Xe=ke=>{ke.stopPropagation(),S?.(null),Ze(!1),I(!0),A(!1),O(!1),L(!1),B(!1)},at=ke=>{ke.stopPropagation(),S?.(null),Ze(!1),yn(!1),I(!1),A(!1),O(!1),L(!1),B(!0)},un=()=>{Ht?(gt("main"),Kt(!0)):m?.(),H(qn.HOME_PAGE_EVENTS.ADVANCED_CONTROL_CLICKED)},Xn=ke=>{let ye=we("textarea.agents.types.custom");return ke=="base_main_prompt"?ye=we("textarea.agents.types.reactFastapi"):ke=="base_main_nextjs_prompt"?ye=we("textarea.agents.types.nextjs"):ke=="base_main_expo_prompt"?ye=we("textarea.agents.types.mobileAgent"):ke=="base_python_prompt"&&(ye=we("textarea.agents.types.python")),ye};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:k("relative rounded-t-[18px] md:rounded-[18px] z-[1] w-full overflow-clip flex flex-col justify-between border border-[#333333] bg-[#18181A]",nt&&"ring-2 ring-[#80FFF9] ring-opacity-70",v),onDragOver:ke=>{ke.preventDefault(),ke.stopPropagation()},onDragEnter:ke=>{ke.preventDefault(),ke.stopPropagation(),We(!0)},onDragLeave:ke=>{ke.preventDefault(),ke.stopPropagation(),!ke.currentTarget.contains(ke.relatedTarget)&&We(!1)},onDrop:wr,children:[nt&&t.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-[#141415]/90 rounded-[18px]",children:t.jsx("div",{className:"text-[#80FFF9] text-center",children:t.jsx("p",{className:"font-medium font-brockmann",children:we("textarea.dragDrop.dropFilesHere")})})}),t.jsx(dd,{id:"mainTaskInput","data-testid":Vs.mainTask.input,ref:Ve,value:e,onChange:n,onKeyDown:_s,onFocus:()=>{Tt(!0),ae?.(!0)},onBlur:()=>{Tt(!1),ae?.(!1)},placeholder:"",className:k("h-full relative w-full bg-[#18181A]   rounded-t-[18px] text-[16px] resize-none min-h-[80px] md:min-h-[100px] p-3 pb-4 md:p-4 border-0 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 caret-[#80FFF9] font-brockmann font-medium overflow-auto",ft&&"max-md:pr-[48px]"),onPaste:l,style:{maxHeight:zs,transition:"height 0.1s ease-out"}}),t.jsx("button",{type:"button",className:k("absolute rounded-full top-2.5 right-2.5 size-9 items-center justify-center bg-white/5 hidden",ft&&"max-md:flex max-md:visible"),title:"Close Dropdown",onClick:()=>{Tt(!1)},children:t.jsx(Ft,{size:18})}),e===""&&t.jsx("div",{"data-testid":Vs.mainTask.placeholder,className:k("absolute top-0 left-0 max-md:p-3 md:p-4 pointer-events-none text-white/30 font-[Inter] font-medium text-[16px]",ft&&"max-md:pr-[48px]"),children:t.jsx("span",{children:`${we("textarea.placeholder.buildMe")} ${tt}`})}),t.jsxs("div",{className:"flex items-center justify-between w-full p-2.5  bg-[#18181A] ",children:[t.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.jsx("div",{className:"rounded-lg bg-none",children:t.jsxs(ri,{children:[t.jsx(ii,{asChild:!0,children:t.jsx("button",{className:k("p-2 pointer-events-auto rounded-[30px] group/paperclip  flex items-center justify-center size-9 hover:bg-white/10 bg-white bg-opacity-5 "),type:"button",onClick:i,"data-testid":Vs.mainTask.attachButton,children:t.jsx("img",{src:ahe,alt:"Attach",className:"transition-transform duration-200 transform min-w-4 min-h-4 md:size-5 group-hover/paperclip:rotate-45"})})}),u&&t.jsx($a,{children:t.jsx(qr,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(Rn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[u,t.jsx(na,{className:"fill-[#fff]"})]})})})]})}),t.jsx("div",{className:"relative rounded-lg max-md:hidden bg-none",children:t.jsx(iH,{isConnected:b||!!y,isActive:x||!!y,githubUrl:y,githubTooltip:p,handleGithubSettings:h||(()=>{}),onClearGithubUrl:w})}),!$e()&&t.jsx("div",{className:"relative rounded-lg bg-none",children:t.jsxs("button",{ref:$t,type:"button","data-testid":Vs.mainTask.agentSelector,className:k("p-2 pl-3 h-9 max-w-[150px] min-w-0 flex items-center gap-1.5 transition-colors duration-200 rounded-[30px] bg-white/5 hover:bg-white/10 ",Gt&&"bg-[#80FFF91A] text-[#80FFF9]"),onClick:ke=>{ke.stopPropagation(),Ht?yn(!0):(Gt||ir(),Ze(!Gt))},children:[t.jsx(uf,{size:20,className:k("shrink-0",Gt&&"text-[#80FFF9]"),primaryColor:Gt?"#80FFF9":"#fff"}),t.jsxs("span",{"data-testid":Vs.mainTask.agentSelectorText,className:k("grow text-[#E6E6E6] text-[12px]  md:text-[14px] whitespace-nowrap capitalize truncate",Gt&&"text-[#80FFF9]"),children:[C&&(N.find(ke=>ke.id===C)?.prompt_name.replaceAll("_user"," ").replaceAll("_"," ")||"Custom Agent"),!C&&!E&&!P&&!T&&!D&&!M&&t.jsx(t.Fragment,{children:"E-1"}),!C&&T&&!M&&t.jsx(t.Fragment,{children:"E-1.5"}),!C&&D&&!M&&t.jsx(t.Fragment,{children:"E-2"}),!C&&M&&t.jsx(t.Fragment,{children:"Prototype"}),!C&&E&&!M&&t.jsx(t.Fragment,{children:"Mobile"}),!C&&P&&!M&&t.jsx(t.Fragment,{children:we("textarea.agents.nextjs")})]}),t.jsx(Ur,{className:k("shrink-0 size-4 opacity-30 transition-transform duration-200",Gt&&"rotate-180")})]})}),!$e()&&!Ht&&t.jsx("div",{className:"relative rounded-lg bg-none",children:t.jsx(ms,{children:t.jsxs(ri,{delayDuration:0,children:[t.jsx(ii,{asChild:!0,children:t.jsxs("div",{title:"Ultra Thinking",className:k("transition-colors duration-200 hover:opacity-80 h-9 text-[14px] font-medium flex items-center gap-1 hover:bg-[#FFFFFF]/10 p-2 rounded-full cursor-pointer",me?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:ke=>{ke.preventDefault(),Re?ce?.(!me):(Kt(!1),In({triggerLocation:"ultraThinkingModal"}))},children:[t.jsx(Xl,{size:20,color:me?"#FF8C66":"#E6E6E6"})," ",t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("div",{className:k("flex items-center gap-[2px]",me?"text-[#FF8C66]":""),children:[" ",we("textarea.ultra.label")]})," ",t.jsx(mf,{checked:me,onCheckedChange:ke=>{Re?ce?.(ke):(Kt(!1),In({triggerLocation:"ultraThinkingModal"}))},onClick:ke=>ke.stopPropagation(),className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66] scale-[0.8]"})]})]})}),t.jsx(qr,{className:" bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999] max-w-[200px]",sideOffset:5,asChild:!0,children:t.jsxs(Rn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"font-semibold font-inter",children:we("textarea.ultra.title")}),t.jsx("div",{className:"text-xs opacity-50 font-inter text-[#0F0F10]",children:we("textarea.ultra.description")})]}),t.jsx(na,{className:"fill-[#fff]"})]})})]})})}),Ht&&me&&t.jsxs("button",{title:"Ultra Thinking",type:"button",className:k("transition-colors duration-200 hover:opacity-80 h-[40px] w-[40px] justify-center flex items-center gap-[6px] hover:bg-[#FFFFFF]/10 p-2 rounded-full",me?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:ke=>{ke.preventDefault(),Re?ce?.(!me):(Kt(!1),In({triggerLocation:"ultraThinkingModal"}))},children:[t.jsx(Xl,{size:20,color:me?"#FF8C66":"#E6E6E6"})," "]}),Gn&&t.jsx("div",{className:"relative rounded-full bg-none",children:t.jsx(Q7,{models:fs,selectedModelId:le,onModelChange:q||(()=>{}),buttonClassName:"rounded-full p-2 max-h-9 bg-white/5 border-none gap-1 [&>svg:last-child]:opacity-30 [&>svg:last-child]:size-4 [&>svg:last-child]:ml-0.5",className:"max-h-9",currentUserTier:Ce,isEmergentUser:ge,onUpgradeRequired:()=>{In({triggerLocation:"default"})}})}),t.jsx(as,{open:Gt&&!Ht,onOpenChange:Ze,children:t.jsx(Cr,{children:t.jsx("div",{ref:lt,className:"fixed z-[9999] md:w-[300px] bg-[#191918] border border-[#303030] rounded-[10px] shadow-lg overflow-y-auto model-dropdown max-h-[300px]",style:{top:`${ut.top}px`,left:`${ut.left}px`},children:t.jsxs("div",{className:"flex flex-col p-2",children:[t.jsx("div",{className:k("px-2 md:min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",!E&&!P&&!T&&!D&&!M&&!C&&" text-[#80FFF9]"),onClick:ke=>{ke.stopPropagation(),S?.(null),Ze(!1),I(!1),A(!1),O(!1),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[12px] md:text-[13px] text-[#E8E8E6]",children:we("textarea.agents.e1")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#8A8F98] font-inter",children:we("textarea.agents.descriptions.e1")})]}),!E&&!P&&!T&&!D&&!M&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#66EAFF]"})]})}),bn&&t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",D&&!E&&!P&&!M&&!C&&" text-[#80FFF9]"),onClick:ke=>{if(ke.stopPropagation(),!Yn){Ze(!1),In({triggerLocation:"e2Agent"});return}S?.(null),Ze(!1),I(!1),A(!1),O(!0),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:we("textarea.agents.e2")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:we("textarea.agents.descriptions.e2")})]}),D&&!C?t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"}):t.jsx("span",{className:"text-[12px] bg-[#F49B571A] text-[#F49B57] rounded-full px-2 py-[2px]",children:we("textarea.agents.beta")})]})}),Nt&&t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",T&&!E&&!P&&!M&&!C&&" text-[#80FFF9]"),onClick:ke=>{ke.stopPropagation(),S?.(null),Ze(!1),I(!1),A(!0),O(!1),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:we("textarea.agents.e15")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:we("textarea.agents.descriptions.e15")})]}),T&&!C?t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"}):null]})}),Jn&&t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",M&&!E&&!P&&!C&&" text-[#80FFF9]"),onClick:ke=>{ke.stopPropagation(),S?.(null),Ze(!1),I(!1),A(!1),O(!1),L(!0),B(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:we("textarea.agents.prototype")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:we("textarea.agents.descriptions.prototype")})]}),M&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),t.jsx(ms,{children:t.jsxs(ri,{open:!Ht&&_n||void 0,delayDuration:As?0:9999999,children:[t.jsx(ii,{asChild:!0,children:t.jsx("div",{className:k("relative transition-all duration-200",_n?"before:absolute before:inset-[-4px] bg-[#2D2D2F]/40 rounded-[8px] before:shadow-lg before:pointer-events-none":""),children:t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",E&&!C&&" text-[#80FFF9]"),onClick:ke=>{_n&&ve(),Xe(ke)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:we("textarea.agents.mobile")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:we("textarea.agents.descriptions.mobile")})]}),E&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})})})}),t.jsx(qr,{side:"right",align:"center",sideOffset:30,className:k(As?"bg-[#DDDDE6] font-['Inter'] text-black border-0":"relative p-0 bg-none border-none bg-transparent"),children:As?null:t.jsxs(Rn.div,{initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},transition:{duration:.3,ease:"easeOut"},className:"max-w-[280px] p-4 bg-[#FFFFFF] border-[#2E2F34] text-white shadow-2xl rounded-[12px]",style:{backdropFilter:"blur(20px)"},children:[t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("span",{className:"text-[16px] font-['Inter'] font-semibold text-[#0F0F10]",children:we("textarea.mobileAgentIntro.title")})}),t.jsx("p",{className:"text-[12px] font-medium font-['Inter'] text-[#0F0F1080] leading-[16px]",children:we("textarea.mobileAgentIntro.description")})]}),t.jsxs("div",{className:"flex items-center justify-end w-full gap-2",children:[t.jsx("button",{onClick:()=>{window.open(ha.pro_learn_more_tooltip,"_blank")},className:"px-3 py-[6px] bg-[#0B0B0B24] hover:bg-[#0B0B0B]/20 font-['Inter'] rounded-[6px] text-[#000000]/50 text-[12px] font-medium transition-colors",type:"button",children:we("textarea.mobileAgentIntro.learnMore")}),t.jsx("button",{onClick:ke=>{ke.stopPropagation(),ve()},className:"px-3 py-[6px] bg-[#0B0B0B] hover:bg-[#333333] font-['Inter'] rounded-[6px] text-[#FFFFFF] text-[12px] font-medium transition-colors",type:"button",children:we("textarea.mobileAgentIntro.gotIt")})]})]}),t.jsxs("div",{className:"absolute z-[999] flex items-center justify-center transform -translate-y-1/2 -left-[24px] top-1/2",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),t.jsx("div",{className:"bg-white min-w-4 min-h-[1px] mr-[2px]"})]})]})})]})}),Re&&t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",P&&!C&&"text-[#80FFF9]"),onClick:at,children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:we("textarea.agents.nextjs")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:we("textarea.agents.descriptions.nextjs")})]}),P&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),F&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"h-px bg-[#242424] my-2"}),j&&t.jsx("div",{className:"px-3 py-2 text-[#8A8F98] text-[12px] md:text-[13px]",children:we("textarea.agents.loading")}),!j&&N.map(ke=>t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",C===ke.id&&" text-[#80FFF9]"),onClick:ye=>{ye.stopPropagation(),S?.(ke.id),Ze(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[12px] md:text-[13px] truncate max-w-[160px] capitalize",children:ke.prompt_name.replaceAll("_"," ").replaceAll("_user","")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50",children:Xn(ke.parent_prompt)})]}),C===ke.id&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9] flex-shrink-0"})]})},ke.id)),!j&&N.length>0&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"h-px bg-[#242424] my-2"})}),t.jsxs("div",{className:"px-2 py-[6px] text-[#DDDDE6] group hover:bg-[#F8FF990F] font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ke=>{ke.stopPropagation(),Gs()},children:[t.jsx(ma,{className:"w-4 h-4 group-hover:text-[#F8FF99] text-[#E8E8E6]"}),t.jsx("span",{className:"text-[13px] group-hover:text-[#F8FF99] md:text-[13px]",children:we("textarea.agents.createNew")})]}),t.jsxs("div",{className:"px-2 py-[6px] justify-between text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ke=>{ke.stopPropagation(),Sr()},children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(Po,{size:16,color:"#E8E8E6"}),t.jsxs("span",{className:"text-[12px] md:text-[13px]",children:[" ",we("textarea.agents.manage")]})]}),t.jsx(pf,{})]})]})]})})})}),t.jsx(as,{open:Ue&&Ee&&!Ht,onOpenChange:Ke,children:t.jsx(Cr,{children:t.jsxs("div",{ref:Tn,"data-testid":Vs.mainTask.privacyDropdown,className:"fixed z-[9999] bg-[#18181A] border border-[#242424] rounded-[12px] shadow-lg overflow-hidden",style:{top:`${mt.top}px`,left:`${mt.left}px`},children:[t.jsxs("div",{"data-testid":Vs.mainTask.privacyPublic,className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:At,source:"dropdown",userTier:Ce}),Cn("public"),Ke(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:At==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",At==="public"&&"text-white"),children:[we("textarea.privacy.public")," ",t.jsx(xl,{size:14,className:k(At!=="public"&&"opacity-60")})]}),t.jsx("div",{className:k("text-xs text-white/50",At==="public"&&"text-white"),children:we("textarea.privacy.publicDescription")})]})]}),t.jsxs("div",{"data-testid":Vs.mainTask.privacyPrivate,className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:At,source:"dropdown",userTier:Ce,wasBlocked:Se}),Se?(Pn(!1),In({triggerLocation:"default"})):Cn("private"),Ke(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:At==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",At==="private"&&"text-white"),children:[we("textarea.privacy.private")," ",t.jsx(za,{size:14,opacity:At==="private"?1:.3})]}),t.jsx("div",{className:k("text-xs text-white/50",At==="private"&&"text-white"),children:we("textarea.privacy.privateDescription")})]})})]})]})})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[Ue&&Se&&t.jsxs("button",{ref:Yt,"data-testid":Vs.mainTask.privacyButton,type:"button",className:k("rounded-full gap-1 h-9 max-md:w-9 flex items-center justify-center p-2 text-[12px] md:text-[14px] font-medium transition-colors",Se?Ee?"bg-[#80FFF91A] text-[#80FFF9] hover:bg-white/10":"bg-[#FFFFFF0D] text-[#E6E6E6] hover:bg-white/10":"bg-[#FFFFFF0D] text-[#E6E6E6] cursor-default opacity-80"),onClick:ke=>{ke.stopPropagation(),ss("privacy_button_clicked",{currentPrivacy:At,userTier:Ce,isFreeUser:Se,isMobile:Ht,action:Re?"disabled_click":Ht?"open_mobile_sheet":"toggle_dropdown"}),!Re&&(Ht?Pn(!0):(Ee||vr(),Ke(!Ee)))},children:[At==="public"?t.jsx(xl,{size:20,color:Ee?"#80FFF9":void 0}):t.jsx(za,{size:18,color:Ee?"#80FFF9":"#ffffff",opacity:1}),!Ht&&we(At==="public"?"textarea.privacy.public":"textarea.privacy.private")]}),t.jsx(ms,{children:t.jsxs(ri,{delayDuration:0,children:[t.jsx(ii,{asChild:!0,children:t.jsx("button",{"data-testid":Vs.mainTask.advancedControlsButton,className:k("p-2 rounded-full flex items-center justify-center hover:bg-white/10  ","size-9",g?"bg-[#66EAFF0D] border-[#66EAFF1F] border-[1px]":"bg-white bg-opacity-5"),type:"button",onClick:un,children:t.jsx(Rn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,ease:"easeOut"},children:g?t.jsx(ff,{color:"#66eaff",size:18}):Lt?t.jsx(_H,{size:18}):t.jsx(ff,{className:"w-6 h-6 max-md",color:"#ccc",size:18})},g?"options":Lt?"mcp":"options")})}),t.jsx(qr,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(Rn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[we("textarea.advancedControls.title"),t.jsx(na,{className:"fill-[#fff]"})]})})]})}),_e&&t.jsx("div",{className:"rounded-lg bg-none",children:t.jsxs(ri,{children:[t.jsx(ii,{asChild:!0,children:t.jsx("button",{className:k("p-2 pointer-events-auto rounded-[30px] flex items-center justify-center size-9 transition-colors duration-200",Fe?"bg-white text-black hover:bg-white":"bg-white bg-opacity-5 hover:bg-white hover:bg-opacity-5",se&&"opacity-50 cursor-not-allowed"),type:"button",onClick:()=>{il(Fe?"recording_stopped":"recording_started",{component:"TextareaWithAttachmentV2"}),_e()},disabled:se,children:se?t.jsx(tn,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}):Fe?t.jsx(Rn.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:t.jsx(Y7,{width:"16",height:"16",fill:"currentColor",className:"md:size-[18px]"})}):t.jsx(K7,{width:"16",height:"16",fill:"currentColor",className:"md:size-[18px]"})})}),t.jsx($a,{children:t.jsx(qr,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(Rn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[we(se?"textarea.voice.transcribing":Fe?"textarea.voice.stopRecording":"textarea.voice.startRecording"),t.jsx(na,{className:"fill-[#fff]"})]})})})]})}),t.jsx(zt,{disabled:o,className:"px-[24px] md:py-[8px] rounded-[30px] h-9 w-[44px] md:w-[56px] text-white transition-colors bg-[#ECECEC] flex items-center justify-center",onClick:Bs,type:"button","data-testid":Vs.mainTask.submit,children:t.jsx("div",{className:"flex items-center justify-center w-full",children:f?t.jsx(tn,{className:"w-5 h-5 text-black animate-spin"}):t.jsx("img",{src:dhe,alt:"Submit",className:"min-w-6 min-h-6 max-w-6 max-h-6"})})})]})]}),!Is&&!nn&&t.jsx(Eh,{size:250,duration:12,delay:9,colorFrom:"#80FFF9",colorTo:"transparent"}),t.jsx(Fa,{open:us,onOpenChange:ke=>{Kt(ke),ke||gt("main")},trigger:t.jsx("div",{}),showDefaultFooter:!1,contentPadding:"p-0",maxWidth:"max-w-full",children:t.jsxs("div",{ref:ps,className:"max-h-[70vh] pb-4 overflow-y-auto bg-[#111112] rounded-t-[24px]",children:[t.jsxs("div",{className:"flex items-center sticky z-[100] top-0 justify-center w-full py-4 border-b border-[#242424] bg-[#111112]",children:[dn!=="main"&&t.jsx(zt,{variant:"ghost",size:"sm",onClick:()=>Zn("main"),className:"absolute w-8 h-8 p-1 left-4 hover:bg-white/10",children:t.jsx(Xa,{})}),t.jsx("span",{className:"font-medium font-inter text-[18px]",children:we(dn==="main"?"textarea.advancedControls.title":dn==="models"?"textarea.drawer.selectModel":dn==="templates"?"textarea.drawer.selectTemplate":dn==="mcp-tools"?"textarea.drawer.selectMcpTools":"textarea.drawer.customAgents")}),t.jsx("button",{type:"button",title:we("textarea.drawer.close"),onClick:()=>{Kt(!1)},className:"absolute p-1 rounded-full top-4 right-4 bg-white/5 hover:bg-white/10",children:t.jsx(Ft,{className:"w-4 h-4"})})]}),dn==="main"&&t.jsxs("div",{className:"p-4 space-y-4 text-white",children:[t.jsxs("div",{title:"Ultra Mode",className:k("transition-colors duration-200 w-full hover:opacity-80 min-h-[40px] text-[16px] font-medium flex items-center gap-[6px] p-4 rounded-[8px] justify-between cursor-pointer",me?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:ke=>{ke.preventDefault(),Re?ce?.(!me):(Kt(!1),In({triggerLocation:"ultraThinkingModal"}))},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xl,{size:24,color:me?"#FF8C66":"#E6E6E6"}),t.jsxs("div",{className:k("flex items-center font-inter font-medium gap-[2px]",me?"text-[#FF8C66]":""),children:["Ultra thinking ",t.jsx(Oi,{color:"#FF8C66",size:20})]})]}),t.jsx(mf,{checked:me,onCheckedChange:ke=>{Re?ce?.(ke):(Kt(!1),In({triggerLocation:"ultraThinkingModal"}))},onClick:ke=>ke.stopPropagation(),className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66]"})]}),Q&&fs.length>0&&t.jsx("div",{className:"flex w-full",onClick:()=>gt("models"),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:we("textarea.drawer.selectModel")}),t.jsxs("div",{className:" rounded-[12px] p-3 px-4 border border-[#242424] w-full flex items-center justify-between gap-3",children:[(()=>{const ke=ik(fs,le);return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"Modal Icon",src:ke.icon,className:"w-5 h-5"}),t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:ke.name||we("textarea.drawer.selectModel")}),ke.model?.user_tier=="pro_mode"&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]})})(),t.jsx(Xa,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:we("textarea.advancedControls.mcp.selectMcpTools")}),t.jsx("span",{className:"font-medium px-2 py-[2px] bg-[#FFBD66] text-[#19191A] rounded-[6px]  text-[12px] font-inter",children:we("textarea.advancedControls.mcp.new")})]}),t.jsxs("button",{type:"button",onClick:()=>gt("mcp-tools"),className:k("w-full rounded-[12px] p-3 px-4 border border-[#242424] text-[#DDDDE6] hover:border-[#333] transition-colors flex items-center justify-between gap-3",re&&re.length>0&&"pl-3"),children:[t.jsxs("div",{className:"flex items-center flex-1 gap-3 overflow-hidden",children:[(!re||re.length===0)&&t.jsx(fa,{size:20}),t.jsx("div",{className:"flex flex-wrap items-center flex-1 gap-2 overflow-hidden",children:re&&re.length>0?t.jsxs("div",{className:"flex flex-wrap items-center flex-1 gap-2 overflow-hidden",children:[re.slice(0,1).map((ke,ye)=>{const Et=ys?.find(qt=>qt.id===ke);return Et?t.jsxs("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-1 rounded-full",children:[Et.icon?t.jsx("img",{src:Et.icon,alt:Et.display_name,className:"flex-shrink-0 w-4 h-4 rounded-sm"}):t.jsx(fa,{size:16}),t.jsx("span",{className:"text-sm text-[#DDDDE6] flex-shrink-0",children:Et.display_name})]},`${ke}-${ye}`):null}),re.length>1&&t.jsx("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-1 rounded-full",children:t.jsx("span",{className:"text-sm text-[#DDDDE6]",children:we("textarea.advancedControls.mcp.more",{count:re.length-1})})})]}):t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:we("textarea.advancedControls.mcp.selectMcpTools")})})]}),t.jsx(Xa,{className:"flex-shrink-0 w-4 h-4 rotate-180",color:"#DDDDE6"})]})]}),t.jsx("div",{className:"flex",onClick:()=>h?.(),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:we("textarea.advancedControls.github.label")}),t.jsxs("div",{className:" rounded-[12px] p-3 px-4 border border-[#242424] flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:b&&y?phe:uhe,alt:we("textarea.advancedControls.github.label"),className:"w-6 h-6"}),t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:b?y?y.split("/").pop():we("textarea.advancedControls.github.selectRepository"):we("textarea.advancedControls.github.connectToGitHub")})]}),t.jsx(Xa,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),t.jsx("div",{className:"flex w-full",onClick:()=>gt("templates"),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:we("textarea.advancedControls.template.selectTemplate")}),t.jsxs("div",{className:" w-full rounded-[12px] p-3 px-4 border flex items-center justify-between gap-2 border-[#242424] overflow-hidden",children:[t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF] truncate min-w-0 flex-1",children:(()=>{if(!te)return we("textarea.advancedControls.template.defaultTemplate");const ke=oe?.templates?.find(ye=>ye.env_image===te);return ke?.name||ke?.env_image||te})()}),t.jsx(Xa,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),Ue&&Re&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:we("textarea.advancedControls.privacy.label")}),t.jsx("div",{className:"rounded-[12px] p-3 px-4 border border-[#242424] flex items-center gap-3",children:t.jsx(l3,{privacy:At})})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:we("textarea.advancedControls.budget.label")}),t.jsxs("div",{className:" rounded-[12px] border border-[#242424] relative",children:[t.jsx("button",{type:"button",title:we("textarea.advancedControls.budget.decreaseBudget"),onClick:()=>{const ke=parseInt(zn);if(ke>1){const ye=(ke-1).toString();W?.(ye)}},className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-10 w-[32px] h-[32px] flex items-center justify-center text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(G7,{className:"h-4 w-4 text-[#DDDDE6]"})}),t.jsxs("div",{className:"flex items-center justify-center p-3 px-4",children:[t.jsx("img",{alt:we("textarea.advancedControls.budget.label"),className:"text-[#B4A456] w-5 h-5 mr-2",src:lhe}),t.jsx("input",{type:"number",min:"1",step:"1",value:zn,onChange:ke=>{ke.target.value!=="0"&&W?.(ke.target.value)},placeholder:we("textarea.advancedControls.budget.defaultPlaceholder"),className:"w-16 bg-transparent text-center focus:outline-none text-[#FFFFFF] font-inter text-lg font-semibold [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),t.jsx("button",{type:"button",title:we("textarea.advancedControls.budget.increaseBudget"),onClick:()=>{const ye=(parseInt(zn)+1).toString();W?.(ye)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 z-10 w-[32px] h-[32px] flex items-center justify-center text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(ma,{className:"h-4 w-4 text-[#DDDDE6]"})})]})]})]}),dn==="models"&&t.jsx("div",{className:"p-4 space-y-3",children:fs.map(ke=>t.jsx("div",{className:"p-4 rounded-[12px] cursor-pointer transition-colors bg-[#FFFFFF05]",onClick:()=>{if(!fhe(ke,Ce,dt())){Kt(!1),In({triggerLocation:"default"}),Zn("main");return}q?.(ke.id),Zn("main")},children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("img",{alt:"Logo",className:"w-6 h-6 mt-1",src:ik([ke],ke.id).icon}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:k("font-medium font-inter text-[#E6E6E6]",le===ke.id&&"text-[#5CD2E5]"),children:ke.name}),ke.user_tier=="pro_mode"&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]}),ke.description&&t.jsx("div",{className:"text-[14px] font-inter text-white/50",children:ke.description})]})]}),le===ke.id&&t.jsx(xn,{className:"h-6 w-6 text-[#5CD2E5]"})]})},ke.id))}),dn==="templates"&&t.jsx("div",{className:"p-4 space-y-3",children:oe?.templates?.map(ke=>t.jsx("div",{className:"p-4 rounded-[12px] cursor-pointer transition-colors bg-[#FFFFFF05]",onClick:()=>{U?.(ke.env_image),Zn("main")},children:t.jsxs("div",{className:k("flex items-start justify-between"),children:[t.jsx("div",{children:t.jsx("div",{className:k("font-medium text-white",te==ke.env_image&&"text-[#5CD2E5]"),children:ke.name||ke.env_image})}),te===ke.env_image&&t.jsx(xn,{className:"h-6 w-6 text-[#5CD2E5]"})]})},ke.env_image))}),dn==="mcp-tools"&&t.jsx("div",{className:"p-4 space-y-3",children:ys&&Array.isArray(ys)&&ys.length>0?[...ys].sort((ke,ye)=>new Date(ye.created_at).getTime()-new Date(ke.created_at).getTime()).map(ke=>{const ye=re?.includes(ke.id)||!1;return t.jsx("div",{className:"p-4 rounded-[12px] relative transition-colors bg-[#FFFFFF05] hover:bg-[#FFFFFF08]",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start flex-1 min-w-0 gap-3",children:[t.jsx("div",{className:"flex items-center justify-center min-w-10 min-h-10 bg-[#272729] rounded-[12px]",children:ke.icon?t.jsx("img",{src:ke.icon,alt:ke.display_name,className:"flex-shrink-0 w-6 h-6 rounded-sm"}):t.jsx(fa,{size:24})}),t.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[t.jsx("div",{className:k("font-medium font-inter text-[#E6E6E6]"),children:ke.display_name}),ke.description&&t.jsx("div",{className:"text-[14px] font-inter truncate text-white/50 mb-1",children:ke.description})]})]}),ke.type==="public"&&ke.key_required?t.jsxs("button",{type:"button",className:"text-[#C4C4CC] backdrop-blur-lg flex items-center gap-1 px-[10px] rounded-full py-[6px] font-medium bg-[#FFFFFF14]",title:"Configure Button",onClick:()=>{Me({title:"Configuration Not Available",description:"Configuration is not available on mobile. Please use the desktop or web version to configure this MCP server.",duration:5e3})},children:[t.jsx(Po,{size:20,color:"#E6E6E6"}),"Configure"]}):t.jsx(o3,{checked:ye,onCheckedChange:Et=>{if(!Re){Kt(!1),In({triggerLocation:"mcp-tools-modal"});return}if(Et){const qt=[...re||[],ke.id];xe?.(qt)}else{const qt=re?.filter(Oe=>Oe!==ke.id)||[];xe?.(qt)}},disabled:!1,checkedColor:"#F49B57"})]})},ke.id)}):t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(fa,{size:48,className:"mx-auto mb-4 opacity-50"}),t.jsx("div",{className:"mb-2 font-medium text-white/70",children:"No MCP tools available"}),t.jsx("div",{className:"text-sm text-white/50",children:"Contact your administrator to set up MCP tools"})]})})]})}),Ue&&t.jsxs(Fa,{open:Mt,onOpenChange:Pn,title:we("textarea.privacy.settings"),showDefaultFooter:!1,maxWidth:"max-w-full",contentPadding:"p-0",showCancel:!0,onCancel:()=>{Pn(!1)},trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:At,source:"mobile_bottom_sheet",userTier:Ce}),Cn("public"),Pn(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:At==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",At==="public"&&"text-white"),children:[we("textarea.privacy.public")," ",t.jsx(xl,{size:14,className:k(At!=="public"&&"opacity-60")})]}),t.jsx("div",{className:k("text-xs text-white/50",At==="public"&&"text-white"),children:we("textarea.privacy.publicDescription")})]})]}),t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:At,source:"mobile_bottom_sheet",userTier:Ce,wasBlocked:Se}),Se?(Pn(!1),In({triggerLocation:"default"})):Cn("private"),Pn(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:At==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",At==="private"&&"text-white"),children:[we("textarea.privacy.private")," ",t.jsx(za,{size:14,opacity:At==="private"?1:.3})]}),t.jsx("div",{className:k("text-xs text-white/50",At==="private"&&"text-white"),children:we("textarea.privacy.privateDescription")})]})})]})]})]}),t.jsxs(Fa,{open:Sn,onOpenChange:yn,title:we("textarea.agents.selectAgent"),showDefaultFooter:!1,maxWidth:"max-w-screen",contentPadding:"p-0",showCancel:!0,onCancel:()=>{yn(!1)},trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsxs("div",{className:"flex flex-col gap-2 p-4 max-h-[60dvh] overflow-y-auto",children:[t.jsx("div",{className:k("h-auto p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 bg-[#FFFFFF]/5 rounded-[12px] font-medium cursor-pointer",!E&&!P&&!T&&!D&&!M&&!C&&" text-[#80FFF9]"),onClick:ke=>{ke.stopPropagation(),S?.(null),yn(!1),I(!1),A(!1),O(!1),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[16px] text-[#E8E8E6]",children:we("textarea.agents.e1")}),t.jsx("span",{className:"text-[14px] text-[#8A8F98] font-inter",children:we("textarea.agents.descriptions.e1")})]}),!E&&!P&&!T&&!D&&!M&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#66EAFF]"})]})}),bn&&t.jsx("div",{className:k("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",D&&!E&&!P&&!M&&!C&&" text-[#80FFF9]"),onClick:ke=>{if(ke.stopPropagation(),!Yn){yn(!1),In({triggerLocation:"e2Agent"});return}S?.(null),yn(!1),I(!1),A(!1),O(!0),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:we("textarea.agents.e2")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:we("textarea.agents.descriptions.e2")})]}),D&&!C?t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"}):t.jsx("span",{className:"text-[12px] bg-[#F49B571A] text-[#F49B57] rounded-full px-2 py-[2px]",children:we("textarea.agents.beta")})]})}),Nt&&t.jsx("div",{className:k("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",T&&!E&&!P&&!M&&!C&&" text-[#80FFF9]"),onClick:ke=>{ke.stopPropagation(),S?.(null),yn(!1),I(!1),A(!0),O(!1),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:we("textarea.agents.e15")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:we("textarea.agents.descriptions.e15")})]}),T&&!C?t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"}):null]})}),Jn&&t.jsx("div",{className:k("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",M&&!E&&!P&&!C&&" text-[#80FFF9]"),onClick:ke=>{ke.stopPropagation(),S?.(null),yn(!1),I(!1),A(!1),O(!1),L(!0),B(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:we("textarea.agents.prototype")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:we("textarea.agents.types.prototype")})]}),M&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),t.jsx("div",{className:k("bg-[#FFFFFF]/5 rounded-[12px] h-auto p-4  text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",E&&!C&&" text-[#80FFF9]"),onClick:ke=>{_n&&ve(),Xe(ke),yn(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:we("textarea.agents.mobile")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:we("textarea.agents.descriptions.mobile")})]}),E&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),Re&&t.jsx("div",{className:k("bg-[#FFFFFF]/5 rounded-[12px] h-auto p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",P&&!C&&"text-[#80FFF9]"),onClick:at,children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:we("textarea.agents.nextjs")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:we("textarea.agents.descriptions.nextjs")})]}),P&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),F&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:" bg-[#242424] my-2"}),j&&t.jsx("div",{className:"px-3 py-2 text-[#8A8F98] text-[12px] md:text-[13px]",children:"Loading custom agents..."}),!j&&N.map(ke=>t.jsx("div",{className:k("bg-[#FFFFFF]/5 rounded-[12px] h-auto  p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",C===ke.id&&" text-[#80FFF9]"),onClick:ye=>{ye.stopPropagation(),S?.(ke.id),yn(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[16px] truncate max-w-[160px] capitalize",children:ke.prompt_name.replaceAll("_"," ").replaceAll("_user","")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50",children:Xn(ke.parent_prompt)})]}),C===ke.id&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9] flex-shrink-0"})]})},ke.id)),!j&&N.length>0&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"h-px bg-[#242424] my-2"})}),t.jsxs("div",{className:"px-2 py-[6px] text-[#DDDDE6] group hover:bg-[#F8FF990F] font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ke=>{ke.stopPropagation(),Gs(),yn(!1)},children:[t.jsx(ma,{className:"w-4 h-4 group-hover:text-[#F8FF99] text-[#E8E8E6]"}),t.jsx("span",{className:"text-[16px] group-hover:text-[#F8FF99] md:text-[13px]",children:"Create New Agent"})]}),t.jsxs("div",{className:"px-2 py-[6px] justify-between text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ke=>{ke.stopPropagation(),Sr(),yn(!1)},children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(Po,{size:16,color:"#E8E8E6"}),t.jsx("span",{className:"text-[16px] md:text-[13px]",children:" Manage Agents"})]}),t.jsx(pf,{})]})]})]})]})]})})};function $1({size:e=16,color:n="currentColor",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M12.7988 1.59766C14.1243 1.59766 15.1992 2.67256 15.1992 3.99805V11.998C15.199 13.3234 14.1242 14.3975 12.7988 14.3975H3.19922C1.87387 14.3975 0.799039 13.3233 0.798828 11.998V3.99805C0.798828 2.67256 1.87374 1.59766 3.19922 1.59766H12.7988ZM2.39844 11.998C2.39865 12.4397 2.75752 12.7979 3.19922 12.7979H12.7988C13.2405 12.7979 13.5984 12.4397 13.5986 11.998V6.39941H2.39844V11.998ZM3.2002 3.19922C2.75852 3.19932 2.4005 3.55735 2.40039 3.99902C2.40039 4.44079 2.75846 4.79872 3.2002 4.79883C3.64202 4.79883 4 4.44085 4 3.99902C3.99989 3.55729 3.64196 3.19922 3.2002 3.19922ZM5.60059 3.19922C5.15891 3.19932 4.80089 3.55735 4.80078 3.99902C4.80078 4.44079 5.15885 4.79872 5.60059 4.79883C6.04241 4.79883 6.40039 4.44085 6.40039 3.99902C6.40029 3.55729 6.04235 3.19922 5.60059 3.19922ZM7.99902 3.19922C7.55735 3.19932 7.19932 3.55735 7.19922 3.99902C7.19922 4.44079 7.55729 4.79872 7.99902 4.79883C8.44085 4.79883 8.79883 4.44085 8.79883 3.99902C8.79872 3.55729 8.44079 3.19922 7.99902 3.19922ZM3.16602 3.19922H12.832C12.821 3.19877 12.81 3.19727 12.7988 3.19727H3.19922C3.18822 3.19727 3.17691 3.19878 3.16602 3.19922Z",fill:n})})}function z1({size:e=16,color:n="currentColor",className:s=""}){return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M11.3327 0.667969H4.66602C3.56145 0.667969 2.66602 1.5634 2.66602 2.66797V13.3346C2.66602 14.4392 3.56145 15.3346 4.66602 15.3346H11.3327C12.4373 15.3346 13.3327 14.4392 13.3327 13.3346V2.66797C13.3327 1.5634 12.4373 0.667969 11.3327 0.667969Z",stroke:n,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M6.66602 12.668H9.33268",stroke:n,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Sg=[{id:"fullstack",labelKey:"tabs.fullStackApp",icon:Fg},{id:"mobile",labelKey:"tabs.mobileApp",icon:z1},{id:"landing",labelKey:"tabs.landingPage",icon:$1}],hhe=({activeTab:e,onTabChange:n})=>{const{t:s}=en("home"),r=d.useRef(null),i=d.useRef(new Map),[a,o]=d.useState(!1),c=Sg.findIndex(h=>h.id===e)===0,u=d.useCallback(()=>{const h=i.current.get(e),x=r.current;if(h&&x){const g=x.getBoundingClientRect(),v=h.getBoundingClientRect();if(v.width>0)return{left:v.left-g.left,width:v.width}}return null},[e]),[,p]=d.useState(0),f=d.useCallback(()=>{p(h=>h+1)},[]);d.useEffect(()=>{const h=requestAnimationFrame(()=>{requestAnimationFrame(f)});return()=>cancelAnimationFrame(h)},[e,f]),d.useEffect(()=>{const h=()=>{document.visibilityState==="visible"&&requestAnimationFrame(f)},x=()=>{requestAnimationFrame(f)};return document.addEventListener("visibilitychange",h),window.addEventListener("focus",x),()=>{document.removeEventListener("visibilitychange",h),window.removeEventListener("focus",x)}},[f]),d.useEffect(()=>{const h=r.current;if(!h)return;let x;const g=new ResizeObserver(()=>{cancelAnimationFrame(x),x=requestAnimationFrame(f)});return g.observe(h),()=>{cancelAnimationFrame(x),g.disconnect()}},[f]),d.useEffect(()=>{o(!0)},[]);const m=u();return t.jsxs("div",{ref:r,className:"relative isolate flex flex-row items-end gap-[6px] px-[12px] pt-[3px] select-none overflow-x-auto no-scrollbar w-full",children:[m&&m.width>0&&t.jsxs(fe.div,{className:k("absolute top-[3px] bottom-0 bg-[#242429] z-10",c?"rounded-tl-none":"rounded-tl-lg","rounded-tr-lg"),initial:!1,animate:{left:m.left,width:m.width},transition:a?{type:"spring",stiffness:300,damping:30}:{duration:0},children:[c?t.jsx("div",{className:"absolute top-0 bottom-0 -left-[12px] w-[12px] bg-[#242429] rounded-tl-xl"}):t.jsx(fe.div,{className:"absolute bottom-0 -left-[20px] w-[20px] h-[20px] z-10 rounded-br-[12px] shadow-[6px_6px_0_6px_#242429] [clip-path:inset(0_-10px_0_0)]"}),t.jsx(fe.div,{className:"absolute bottom-0 -right-[20px] w-[20px] h-[20px] z-10 rounded-bl-[12px] shadow-[-6px_6px_0_6px_#242429] [clip-path:inset(0_0_0_-10px)]"})]}),Sg.map((h,x)=>{const g=e===h.id,v=h.icon,b=x===0,y=x===Sg.length-1;return t.jsxs("button",{ref:w=>{w&&i.current.set(h.id,w)},onClick:()=>n(h.id),className:"group min-w-[156px] w-auto relative flex items-center justify-center gap-2 px-4 h-[36px] text-sm font-medium outline-none shrink-0",style:{WebkitTapHighlightColor:"transparent"},children:[t.jsx("div",{className:k("absolute inset-0 bg-[#17171A] z-0 rounded-t-lg transition-all duration-500",b&&"rounded-tl-xl",y&&"rounded-tr-xl",!g&&"group-hover:bg-[#1e1e22] group-hover:-top-[3px] group-hover:bottom-0")}),t.jsxs("span",{className:k("relative z-20 flex items-center gap-2 transition-all duration-500",g?"text-[#CCE3FF]":"text-zinc-500 group-hover:text-zinc-300 group-hover:-translate-y-[2px]"),children:[t.jsx(v,{size:16,color:"currentColor",strokeWidth:g?2.5:2}),t.jsx("span",{className:"whitespace-nowrap",children:s(h.labelKey)})]})]},h.id)})]})},xhe={clawdbot:{bg:"bg-[rgba(195,47,45,0.25)]",border:"border-[rgba(195,47,45,0.35)]",text:"text-[#ffb8b7]"},fullstack:{bg:"bg-[rgba(204,227,255,0.12)]",border:"border-[rgba(204,227,255,0.2)]",text:"text-[rgba(204,227,255,1)]"},landing:{bg:"bg-[rgba(246,154,78,0.12)]",border:"border-[rgba(246,154,78,0.2)]",text:"text-[rgba(246,154,78,1)]"},mobile:{bg:"bg-[rgba(173,214,60,0.12)]",border:"border-[rgba(173,214,60,0.2)]",text:"text-[rgba(173,214,60,1)]"}},ghe=e=>{if(e)return e.find(n=>n.category==="Bots")},jH={fullstack:[{translationKey:"tabs.chips.fullstack.myCounterPart",category:"fullstack",icon:t.jsx(Fg,{size:16}),iconColor:"#CCE3FF"},{translationKey:"tabs.chips.fullstack.billGenerator",category:"fullstack",icon:t.jsx(Fg,{size:16}),iconColor:"#CCE3FF"},{translationKey:"tabs.chips.fullstack.wordOfTheDay",category:"fullstack",icon:t.jsx(Fg,{size:16}),iconColor:"#CCE3FF"}],landing:[{translationKey:"tabs.chips.landing.consultPlus",category:"landing",icon:t.jsx($1,{size:16}),iconColor:"#F59A4F"},{translationKey:"tabs.chips.landing.eliteFootwear",category:"landing",icon:t.jsx($1,{size:16}),iconColor:"#C1A5E9"},{translationKey:"tabs.chips.landing.smartCourse",category:"landing",icon:t.jsx($1,{size:16}),iconColor:"#f8cb56"}],mobile:[{translationKey:"tabs.chips.mobile.flappyBirdGame",category:"mobile",icon:t.jsx(z1,{size:16}),iconColor:"#ADD63C"},{translationKey:"tabs.chips.mobile.recipeGenerator",category:"mobile",icon:t.jsx(z1,{size:16}),iconColor:"#ADD63C"},{translationKey:"tabs.chips.mobile.habitTracker",category:"mobile",icon:t.jsx(z1,{size:16}),iconColor:"#ADD63C"}]},bhe=({activeTab:e,onTabChange:n})=>{const{t:s}=en("home"),[r,i]=d.useState(null);return t.jsx("div",{className:"flex flex-row items-center gap-3 pb-[12px] overflow-x-auto hide-scrollbar",children:Sg.map((a,o)=>{const l=e===a.id,c=a.icon,u=xhe[a.id];return t.jsxs(fe.button,{onClick:()=>n(a.id),onMouseEnter:()=>i(o),onMouseLeave:()=>i(null),whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:k("flex items-center gap-2 p-3 pr-4 rounded-[12px] text-sm font-medium whitespace-nowrap transition-all duration-200 shrink-0 border",l?`${u.bg} ${u.text} ${u.border}`:"bg-white/5 border-white/10 text-white/60 hover:text-white hover:border-white/20"),style:{WebkitTapHighlightColor:"transparent"},children:[t.jsx(c,{size:16,color:"currentColor",strokeWidth:l?2.5:2}),t.jsx("span",{className:k("transition-all duration-200",r===o&&"drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]"),children:s(a.labelKey)})]},a.id)})})},yhe=K.common.copyPaperclip,vhe=K.common.logoBlue,whe=K.common.copperCoin,ak=K.universal.claude,ok=K.universal.openai,Che=K.icons.geminiIcon,_he=K.icons.submit,jhe=K.icons.github,Nhe=K.github.githubConnected;let tl=null,ep=null;const lk=(e,n)=>{if(!n)return{model:null,name:null,icon:ok};if(n==="bro-mode")return{model:{id:"bro-mode",name:"Bro Mode",description:"Advanced AI with enhanced reasoning"},name:"Bro Mode",icon:ak};const s=e.find(o=>o.id===n),r=s?.name;let i=ok;const a=r?.toLowerCase();return a?.includes("composite")?i=vhe:a?.includes("claude")?i=ak:a?.includes("gemini")&&(i=Che),{model:s,name:r,icon:i}},Fhe=(e,n,s=!1)=>s?!0:e.user_tier?n===e.user_tier:e.unavailable_tier?n!==e.unavailable_tier:!0,Ehe=({value:e,onChange:n,placeholder:s="",maxHeight:r="200px",onAttachClick:i,onSubmit:a,disabled:o,onPaste:l,attachIcon:c,attachTooltip:u,githubTooltip:p,isSubmitting:f,handleSettingsClick:m,handleGithubSettings:h,showGithubSettings:x,showControls:g,className:v,hasUserConnectedGithub:b,githubUrl:y,onClearGithubUrl:w,isUploadAssetEnabled:_=!1,userPrompts:N=[],isLoadingUserPrompts:j=!1,selectedCustomAgent:C=null,onCustomAgentChange:S,shouldShowUserPrompts:F=!1,mobileEnabled:E=!1,onMobileEnabled:I,e15Enabled:T=!1,onE15Enabled:A,e2Enabled:D=!1,onE2Enabled:O,prototypeEnabled:M=!1,onPrototypeEnabled:L,nextJSEnabled:P=!1,onNextJSEnabled:B,showMobileAgentIntro:G=!1,onMobileAgentIntroShown:$,selectedImage:te,setSelectedImage:U,globalConfig:oe,perInstanceCostLimit:Y,setPerInstanceCostLimit:W,availableModels:Z=[],selectedModelId:le,onModelChange:q,showModelSelector:Q=!1,onPrivacyChange:he,ultraMode:me=!1,onUltraModeChange:ce,testMode:ee=!1,onTestModeChange:J,selectedMcpTools:re=[],onMcpToolsChange:xe,onFocusChange:ae,isRecording:Fe=!1,isTranscribing:se=!1,onVoiceClick:_e,activeTab:Re,onTabChange:Se})=>{const{pro:Ne,restrictedFree:ge,defaultPrivacy:Ce,isEmergentUser:$e,tier:dt,isTrulyFreeUser:Me,isOrganizationWorkspace:we}=gi(),{toast:Te}=ns();jie();const ze=ba(),_t=br(ye=>ye.menu?.showModelSelectorTooltip),Bt=br(ye=>ye.menu?.showAgentDropdown),qe=br(ye=>ye.menu?.highlightBroMode),{currentWorkspace:Ae}=hs(),{t:Le}=en("home"),{setTabs:Ut,setActiveTab:tt}=hi(),xt=Mi(),[St,It]=d.useState("fullstack"),kt=Re??St,Ot=Se??It,[Ie,nt]=d.useState(0),We=d.useRef(Math.random().toString(36).substring(2,15)),[Lt,pt]=d.useState(!1),[ft,Tt]=d.useState(!1),[Gt,Ze]=d.useState(),[ut,Qt]=d.useState(!1),[Sn,yn]=d.useState({top:0,left:0}),[Ee,Ke]=d.useState(!1),[mt,Ge]=d.useState(!1),[At,Cn]=d.useState({top:0,left:0}),[Mt,Pn]=d.useState(Ce),[wn,In]=d.useState(!1),us=ku(),{promptUpgrade:Kt}=oH(),[dn,gt]=d.useState(!1),[ps,Zn]=d.useState("main"),{getCurrentOrganizationId:$s}=hs(),Ls=$s(),{data:ys}=G5(Ls?{organization_id:Ls}:void 0,{skip:!1}),zn=Y||"5",[_n,Wn]=d.useState(!1);d.useEffect(()=>{he&&he(Mt)},[Mt,he]),d.useEffect(()=>{Pn(Ce)},[Ce]);const[As,tr]=d.useState(EL()),{isMobile:Ht}=ts(),zs=Ht?"150px":r,Ve=d.useRef(null),lt=d.useRef(null),$t=d.useRef(null),Tn=d.useRef(null),Yt=d.useRef(null),Is=fO($e),nn=mO($e)||Ne,Ue=n0(),Nt=oe?.e15_experimental&&Ne,bn=oe?.e2_experimental,Yn=Ne||dt==="pro",Jn=oe?.prototype_agent_experimental,fs=Q&&Z.length>0&&!Ht,Fs={fullstack:[Le("textarea.placeholder.phrases.fullstack.dashboard"),Le("textarea.placeholder.phrases.fullstack.ecommerce"),Le("textarea.placeholder.phrases.fullstack.saas"),Le("textarea.placeholder.phrases.fullstack.netflix"),Le("textarea.placeholder.phrases.fullstack.crm")],landing:[Le("textarea.placeholder.phrases.landing.landingPage"),Le("textarea.placeholder.phrases.landing.productShowcase"),Le("textarea.placeholder.phrases.landing.startup"),Le("textarea.placeholder.phrases.landing.portfolio"),Le("textarea.placeholder.phrases.landing.comingSoon")],mobile:[Le("textarea.placeholder.phrases.mobile.fitness"),Le("textarea.placeholder.phrases.mobile.foodDelivery"),Le("textarea.placeholder.phrases.mobile.socialMedia"),Le("textarea.placeholder.phrases.mobile.habitTracker"),Le("textarea.placeholder.phrases.mobile.messaging")]}[kt];d.useEffect(()=>{nt(0)},[kt]),d.useEffect(()=>{const ye=setInterval(()=>{nt(Et=>(Et+1)%Fs.length)},4e3);return()=>clearInterval(ye)},[Fs.length]),d.useEffect(()=>{qe&&_t&&Ht&&(gt(!0),Zn("models"),setTimeout(()=>{ze(L1(!1)),ze(_a(!1))},500))},[qe,_t,Ht,ze]);const nr=()=>{if(!$t.current)return;const ye=$t.current.getBoundingClientRect(),Et=120,qt=180,Oe=8;let He=ye.bottom+Oe,it=ye.left;He+Et>window.innerHeight&&(He=ye.top-Et-Oe),it+qt>window.innerWidth&&(it=window.innerWidth-qt-16),it<0&&(it=16),yn({top:He,left:it})},an=()=>{if(!Yt.current)return;const ye=Yt.current.getBoundingClientRect(),Et=124,qt=276,Oe=8;let He=ye.bottom+Oe,it=ye.left;it+qt>window.innerWidth&&(it=window.innerWidth-qt-16),He+Et>window.innerHeight&&(He=ye.top-Et-Oe),it<16&&(it=16),Cn({top:He,left:it})};d.useEffect(()=>{const ye=qt=>{if(!lt.current||!$t.current)return;const Oe=qt.target;ut&&!lt.current.contains(Oe)&&!$t.current.contains(Oe)&&Qt(!1)},Et=()=>{ut&&nr()};return ut&&(document.addEventListener("mousedown",ye),window.addEventListener("scroll",Et,!0),window.addEventListener("resize",Et)),()=>{document.removeEventListener("mousedown",ye),window.removeEventListener("scroll",Et,!0),window.removeEventListener("resize",Et)}},[ut]),d.useEffect(()=>{const ye=qt=>{if(!Tn.current||!Yt.current)return;const Oe=qt.target;mt&&!Tn.current.contains(Oe)&&!Yt.current.contains(Oe)&&Ge(!1)},Et=()=>{mt&&an()};return mt&&(document.addEventListener("mousedown",ye),window.addEventListener("scroll",Et,!0),window.addEventListener("resize",Et)),()=>{document.removeEventListener("mousedown",ye),window.removeEventListener("scroll",Et,!0),window.removeEventListener("resize",Et)}},[mt]),d.useEffect(()=>{G&&!As&&(nr(),Qt(!0),setTimeout(()=>{Wn(!0)},300),$?.())},[G,As,$]),d.useEffect(()=>{_t&&Q&&Z.length>0&&xt.pathname==="/"?Ht&&(tl||(tl=We.current,Zn("main"),gt(!0)),ze(_a(!1))):!_t&&tl===We.current&&(tl=null)},[_t,Ht,Q,Z.length,ze,xt.pathname]),d.useEffect(()=>{Bt&&Dc(xt.pathname)?Ht?(tl||(tl=We.current,Ke(!0)),ze(j2(!1))):(ep||(ep=We.current,nr(),Qt(!0)),ze(j2(!1))):!Bt&&ep===We.current?ep=null:!Bt&&tl===We.current&&(tl=null)},[Bt,Ht,ze,xt.pathname]),d.useEffect(()=>()=>{tl===We.current&&(tl=null),ep===We.current&&(ep=null)},[]),d.useEffect(()=>{const ye=Ve.current;if(ye){ye.style.height="auto";const Et=Math.min(ye.scrollHeight,parseInt(zs));ye.style.height=`${Et}px`}},[e,zs]),d.useEffect(()=>{if(!g){const ye=setInterval(()=>{Tt(Et=>!Et)},1e3);return()=>clearInterval(ye)}},[g]);const Ws=d.useCallback(()=>{if(e.length>Ac){Te({title:"Message too long",description:`Message cannot exceed ${Ac.toLocaleString()} characters. Current: ${e.length.toLocaleString()}`,variant:"destructive"});return}a()},[e,a,Te]),ir=ye=>{ye.key==="Enter"&&(ye.ctrlKey||ye.metaKey)&&(ye.preventDefault(),!o&&!f&&Ws())},vr=ye=>{ye.preventDefault(),ye.stopPropagation()},rs=ye=>{ye.preventDefault(),ye.stopPropagation(),pt(!0)},Bs=ye=>{ye.preventDefault(),ye.stopPropagation(),!ye.currentTarget.contains(ye.relatedTarget)&&pt(!1)},_s=ye=>{ye.preventDefault(),ye.stopPropagation(),pt(!1);const Et=ye.dataTransfer.files;if(Et.length>0){const qt=new Event("custom-file-drop",{bubbles:!0});if(Object.defineProperty(qt,"files",{value:Et,writable:!1}),document.dispatchEvent(qt),l){const Oe={clipboardData:{files:Et,items:Array.from(Et).map(He=>({kind:"file",type:He.type,getAsFile:()=>He}))},preventDefault:()=>{}};l(Oe)}else i()}},wr=()=>{const ye=`create-agent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;Ut(Et=>[...Et,{id:ye,title:"Create New Agent",tabHeading:"Create New Agent",path:"/create-agent",level:Ae!=="personal"?"organization":"user",organization_id:Ae!=="personal"?Ae:void 0,state:{tabId:ye,fromTextarea:!0,workspaceContext:{isOrganizationWorkspace:Ae!=="personal",currentOrganizationId:Ae!=="personal"?Ae:void 0}}}]),tt(ye),Qt(!1)},Gs=()=>{we()?us.open({initialTab:"shared-agents"}):us.open({initialTab:"manage-agents"}),Qt(!1)},Sr=d.useCallback(()=>{Wn(!1),tr(!0),SL()},[]),ve=ye=>{ye.stopPropagation(),S?.(null),Qt(!1),I(!0),A(!1),O(!1),L(!1),B(!1)},Xe=ye=>{ye.stopPropagation(),S?.(null),Qt(!1),Ke(!1),I(!1),A(!1),O(!1),L(!1),B(!0)},at=()=>{Ht?(Zn("main"),gt(!0)):m?.(),H(qn.HOME_PAGE_EVENTS.ADVANCED_CONTROL_CLICKED)},un=ye=>{let Et=Le("textarea.agents.types.custom");return ye=="base_main_prompt"?Et=Le("textarea.agents.types.reactFastapi"):ye=="base_main_nextjs_prompt"?Et=Le("textarea.agents.types.nextjs"):ye=="base_main_expo_prompt"?Et=Le("textarea.agents.types.mobileAgent"):ye=="base_python_prompt"&&(Et=Le("textarea.agents.types.python")),Et},Xn=kt==="fullstack",ke=kt==="ai";return t.jsxs(t.Fragment,{children:[!Ht&&t.jsx(hhe,{activeTab:kt,onTabChange:Ot}),Ht&&t.jsx(bhe,{activeTab:kt,onTabChange:ye=>{Ot(ye),n({target:{value:""}})}}),t.jsx("div",{children:t.jsx("div",{className:`rounded-[14px] max-md:rounded-[20px] z-10 transition-[border-radius] ease-in-out duration-700
        ${Ht?"p-[1px] bg-[linear-gradient(160deg,rgba(255,255,255,0.40)_0%,rgba(255,255,255,0.25)_25%,rgba(255,255,255,0.10)_50%,rgba(255,255,255,0.25)_75%,rgba(255,255,255,0.40)_100%)]":"p-1 bg-[#242429] bg-[linear-gradient(180deg,rgba(172,193,219,0)_0%,rgba(172,193,219,0.6)_100%)] bg-blend-overlay"}
        ${!Ht&&Xn?"rounded-tl-none":"rounded-tl-[14px]"} ${!Ht&&ke?"rounded-tr-none":"rounded-tr-[14px]"}`,children:t.jsxs("div",{className:k(v,"relative rounded-t-[12px] md:rounded-[12px] z-[1] w-full overflow-clip flex flex-col justify-between bg-[#131314] max-md:bg-[#212122] rounded-[12px] max-md:rounded-[20px]",Lt&&"ring-2 ring-[#80FFF9] ring-opacity-70"),onDragOver:vr,onDragEnter:rs,onDragLeave:Bs,onDrop:_s,children:[Lt&&t.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-[#141415]/90 rounded-[12px]",children:t.jsx("div",{className:"text-[#80FFF9] text-center",children:t.jsx("p",{className:"font-medium font-brockmann",children:Le("textarea.dragDrop.dropFilesHere")})})}),t.jsx(dd,{id:"mainTaskInput","data-testid":Vs.mainTask.input,ref:Ve,value:e,onChange:n,onKeyDown:ir,onFocus:()=>{Ze(!0),ae?.(!0)},onBlur:()=>{Ze(!1),ae?.(!1)},placeholder:"",className:"h-full relative w-full bg-[#131314] max-md:bg-[#212122] rounded-t-[12px] text-[16px] resize-none min-h-[80px] md:min-h-[100px] p-3 pb-4 md:p-4 border-0 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 caret-[#fff] font-brockmann font-medium overflow-auto",onPaste:l,style:{maxHeight:zs,transition:"height 0.1s ease-out"}}),e===""&&t.jsx("div",{className:k("absolute top-0 left-0 max-md:p-3 md:p-4 pointer-events-none text-white/30 font-[Inter] font-medium text-[16px] overflow-hidden"),children:t.jsxs("div",{className:"relative",children:[!Gt&&t.jsx("div",{className:"absolute left-0 top-0 py-[2px] w-[1px] h-full",children:t.jsx("div",{className:"animate-blink w-[1px] h-full bg-white"})}),t.jsx(xa,{mode:"wait",children:t.jsxs(Rn.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:"relative inline-block",children:[Le("textarea.placeholder.buildMe")," ",Fs[Ie],"..."]},Ie)})]})}),t.jsxs("div",{className:"flex items-center justify-between w-full p-3 bg-[#131314] max-md:bg-[#212122]",children:[t.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.jsx("div",{className:"rounded-lg bg-none",children:t.jsxs(ri,{children:[t.jsx(ii,{asChild:!0,children:t.jsx("button",{className:k("p-2 pointer-events-auto rounded-[30px] group/paperclip  flex items-center justify-center size-9 hover:bg-white/10 bg-white bg-opacity-5 "),type:"button",onClick:i,children:t.jsx("img",{src:yhe,alt:"Attach",className:"transition-transform duration-200 transform min-w-4 min-h-4 md:size-5 group-hover/paperclip:rotate-45"})})}),u&&t.jsx($a,{children:t.jsx(qr,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(Rn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[u,t.jsx(na,{className:"fill-[#fff]"})]})})})]})}),t.jsx("div",{className:"relative rounded-lg max-md:hidden bg-none",children:t.jsx(iH,{isConnected:b||!!y,isActive:x||!!y,githubUrl:y,githubTooltip:p,handleGithubSettings:h||(()=>{}),onClearGithubUrl:w})}),!Me()&&t.jsx("div",{className:"relative rounded-lg bg-none",children:t.jsxs("button",{ref:$t,type:"button","data-testid":Vs.mainTask.agentSelector,className:k("p-2 pl-3 h-9 max-w-[150px] min-w-0 flex items-center gap-1.5 transition-colors duration-200 rounded-[30px] bg-white/5 hover:bg-white/10 ",ut&&"bg-[#80FFF91A] text-[#80FFF9]"),onClick:ye=>{ye.stopPropagation(),Ht?Ke(!0):(ut||nr(),Qt(!ut))},children:[t.jsx(uf,{size:20,className:k("shrink-0",ut&&"text-[#80FFF9]"),primaryColor:ut?"#80FFF9":"#fff"}),t.jsxs("span",{"data-testid":Vs.mainTask.agentSelectorText,className:k("grow text-[#E6E6E6] text-[12px]  md:text-[14px] whitespace-nowrap capitalize truncate",ut&&"text-[#80FFF9]"),children:[C&&(N.find(ye=>ye.id===C)?.prompt_name.replaceAll("_user"," ").replaceAll("_"," ")||Le("textarea.agents.customAgent")),!C&&!E&&!P&&!T&&!D&&!M&&t.jsx(t.Fragment,{children:Le("textarea.agents.e1")}),!C&&T&&!M&&t.jsx(t.Fragment,{children:Le("textarea.agents.e15")}),!C&&D&&!M&&t.jsx(t.Fragment,{children:Le("textarea.agents.e2")}),!C&&M&&t.jsx(t.Fragment,{children:Le("textarea.agents.prototype")}),!C&&E&&!M&&t.jsx(t.Fragment,{children:Le("textarea.agents.mobile")}),!C&&P&&!M&&t.jsx(t.Fragment,{children:Le("textarea.agents.nextjs")})]}),t.jsx(Ur,{className:`shrink-0 size-4 opacity-30 transition-transform duration-200 ${ut?"rotate-180":""}`})]})}),!Me()&&!Ht&&t.jsx("div",{className:"relative rounded-lg bg-none",children:t.jsx(ms,{children:t.jsxs(ri,{delayDuration:0,children:[t.jsx(ii,{asChild:!0,children:t.jsxs("div",{className:k("transition-colors duration-200 hover:opacity-80 h-9 text-[14px] font-medium flex items-center gap-1 hover:bg-[#FFFFFF]/10 p-2 rounded-full cursor-pointer",me?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:ye=>{ye.preventDefault(),Ne?ce?.(!me):(gt(!1),Kt({triggerLocation:"ultraThinkingModal"}))},children:[t.jsx(Xl,{size:20,color:me?"#FF8C66":"#E6E6E6"})," ",t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("div",{className:k("flex items-center gap-[2px]",me?"text-[#FF8C66]":""),children:[" ",Le("textarea.ultra.label")]})," ",t.jsx(mf,{checked:me,onCheckedChange:ye=>{Ne?ce?.(ye):(gt(!1),Kt({triggerLocation:"ultraThinkingModal"}))},onClick:ye=>ye.stopPropagation(),className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66] scale-[0.8]"})]})]})}),t.jsx(qr,{className:" bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999] max-w-[200px]",sideOffset:5,asChild:!0,children:t.jsxs(Rn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"font-semibold font-inter",children:Le("textarea.ultra.title")}),t.jsx("div",{className:"text-xs opacity-50 font-inter text-[#0F0F10]",children:Le("textarea.ultra.description")})]}),t.jsx(na,{className:"fill-[#fff]"})]})})]})})}),Ht&&me&&t.jsxs("button",{title:"Ultra Thinking",type:"button",className:k("transition-colors duration-200 hover:opacity-80 h-[40px] w-[40px] justify-center flex items-center gap-[6px] hover:bg-[#FFFFFF]/10 p-2 rounded-full",me?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:ye=>{ye.preventDefault(),Ne?ce?.(!me):(gt(!1),Kt({triggerLocation:"ultraThinkingModal"}))},children:[t.jsx(Xl,{size:20,color:me?"#FF8C66":"#E6E6E6"})," "]}),fs&&t.jsx("div",{className:"relative rounded-full bg-none",children:t.jsx(Q7,{models:Z,selectedModelId:le,onModelChange:q||(()=>{}),buttonClassName:"rounded-full p-2 max-h-9 bg-white/5 border-none gap-1 [&>svg:last-child]:opacity-30 [&>svg:last-child]:size-4 [&>svg:last-child]:ml-0.5",className:"max-h-9",currentUserTier:dt,isEmergentUser:$e,onUpgradeRequired:()=>{Kt({triggerLocation:"default"})}})}),t.jsx(as,{open:ut&&!Ht,onOpenChange:Qt,children:t.jsx(Cr,{children:t.jsx("div",{ref:lt,className:"fixed z-[9999] md:w-[300px] bg-[#191918] border border-[#303030] rounded-[10px] shadow-lg overflow-y-auto model-dropdown max-h-[300px]",style:{top:`${Sn.top}px`,left:`${Sn.left}px`},children:t.jsxs("div",{className:"flex flex-col p-2",children:[t.jsx("div",{className:k("px-2 md:min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",!E&&!P&&!T&&!D&&!M&&!C&&" text-[#80FFF9]"),onClick:ye=>{ye.stopPropagation(),S?.(null),Qt(!1),I(!1),A(!1),O(!1),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[12px] md:text-[13px] text-[#E8E8E6]",children:Le("textarea.agents.e1")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#8A8F98] font-inter",children:Le("textarea.agents.descriptions.e1")})]}),!E&&!P&&!T&&!D&&!M&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#66EAFF]"})]})}),bn&&t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",D&&!E&&!P&&!M&&!C&&" text-[#80FFF9]"),onClick:ye=>{if(ye.stopPropagation(),!Yn){Qt(!1),Kt({triggerLocation:"e2Agent"});return}S?.(null),Qt(!1),I(!1),A(!1),O(!0),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:Le("textarea.agents.e2")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:Le("textarea.agents.descriptions.e2")})]}),D&&!C?t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"}):t.jsx("span",{className:"text-[12px] bg-[#F49B571A] text-[#F49B57] rounded-full px-2 py-[2px]",children:Le("textarea.agents.beta")})]})}),Nt&&t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",T&&!E&&!P&&!M&&!C&&" text-[#80FFF9]"),onClick:ye=>{ye.stopPropagation(),S?.(null),Qt(!1),I(!1),A(!0),O(!1),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:Le("textarea.agents.e15")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:Le("textarea.agents.descriptions.e15")})]}),T&&!C?t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"}):null]})}),Jn&&t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",M&&!E&&!P&&!C&&" text-[#80FFF9]"),onClick:ye=>{ye.stopPropagation(),S?.(null),Qt(!1),I(!1),A(!1),O(!1),L(!0),B(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:Le("textarea.agents.prototype")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:Le("textarea.agents.descriptions.prototype")})]}),M&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),t.jsx(ms,{children:t.jsxs(ri,{open:!Ht&&_n||void 0,delayDuration:As?0:9999999,children:[t.jsx(ii,{asChild:!0,children:t.jsx("div",{className:k("relative transition-all duration-200",_n?"before:absolute before:inset-[-4px] bg-[#2D2D2F]/40 rounded-[8px] before:shadow-lg before:pointer-events-none":""),children:t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",E&&!C&&" text-[#80FFF9]"),onClick:ye=>{_n&&Sr(),ve(ye)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:Le("textarea.agents.mobile")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:Le("textarea.agents.descriptions.mobile")})]}),E&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})})})}),t.jsx(qr,{side:"right",align:"center",sideOffset:30,className:k(As?"bg-[#DDDDE6] font-['Inter'] text-black border-0":"relative p-0 bg-none border-none bg-transparent"),children:As?null:t.jsxs(Rn.div,{initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},transition:{duration:.3,ease:"easeOut"},className:"max-w-[280px] p-4 bg-[#FFFFFF] border-[#2E2F34] text-white shadow-2xl rounded-[12px]",style:{backdropFilter:"blur(20px)"},children:[t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("span",{className:"text-[16px] font-['Inter'] font-semibold text-[#0F0F10]",children:Le("textarea.mobileAgentIntro.title")})}),t.jsx("p",{className:"text-[12px] font-medium font-['Inter'] text-[#0F0F1080] leading-[16px]",children:Le("textarea.mobileAgentIntro.description")})]}),t.jsxs("div",{className:"flex items-center justify-end w-full gap-2",children:[t.jsx("button",{onClick:()=>{window.open(ha.pro_learn_more_tooltip,"_blank")},className:"px-3 py-[6px] bg-[#0B0B0B24] hover:bg-[#0B0B0B]/20 font-['Inter'] rounded-[6px] text-[#000000]/50 text-[12px] font-medium transition-colors",type:"button",children:Le("textarea.mobileAgentIntro.learnMore")}),t.jsx("button",{onClick:ye=>{ye.stopPropagation(),Sr()},className:"px-3 py-[6px] bg-[#0B0B0B] hover:bg-[#333333] font-['Inter'] rounded-[6px] text-[#FFFFFF] text-[12px] font-medium transition-colors",type:"button",children:Le("textarea.mobileAgentIntro.gotIt")})]})]}),t.jsxs("div",{className:"absolute z-[999] flex items-center justify-center transform -translate-y-1/2 -left-[24px] top-1/2",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),t.jsx("div",{className:"bg-white min-w-4 min-h-[1px] mr-[2px]"})]})]})})]})}),Ne&&t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",P&&!C&&"text-[#80FFF9]"),onClick:Xe,children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:Le("textarea.agents.nextjs")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:Le("textarea.agents.descriptions.nextjs")})]}),P&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),F&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"h-px bg-[#242424] my-2"}),j&&t.jsx("div",{className:"px-3 py-2 text-[#8A8F98] text-[12px] md:text-[13px]",children:Le("textarea.agents.loading")}),!j&&N.map(ye=>t.jsx("div",{className:k("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",C===ye.id&&" text-[#80FFF9]"),onClick:Et=>{Et.stopPropagation(),S?.(ye.id),Qt(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[12px] md:text-[13px] truncate max-w-[160px] capitalize",children:ye.prompt_name.replaceAll("_"," ").replaceAll("_user","")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50",children:un(ye.parent_prompt)})]}),C===ye.id&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9] flex-shrink-0"})]})},ye.id)),!j&&N.length>0&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"h-px bg-[#242424] my-2"})}),t.jsxs("div",{className:"px-2 py-[6px] text-[#DDDDE6] group hover:bg-[#F8FF990F] font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ye=>{ye.stopPropagation(),wr()},children:[t.jsx(ma,{className:"w-4 h-4 group-hover:text-[#F8FF99] text-[#E8E8E6]"}),t.jsx("span",{className:"text-[13px] group-hover:text-[#F8FF99] md:text-[13px]",children:Le("textarea.agents.createNew")})]}),t.jsxs("div",{className:"px-2 py-[6px] justify-between text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ye=>{ye.stopPropagation(),Gs()},children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(Po,{size:16,color:"#E8E8E6"}),t.jsxs("span",{className:"text-[12px] md:text-[13px]",children:[" ",Le("textarea.agents.manage")]})]}),t.jsx(pf,{})]})]})]})})})}),t.jsx(as,{open:Ue&&mt&&!Ht,onOpenChange:Ge,children:t.jsx(Cr,{children:t.jsxs("div",{ref:Tn,className:"fixed z-[9999] bg-[#18181A] border border-[#242424] rounded-[12px] shadow-lg overflow-hidden",style:{top:`${At.top}px`,left:`${At.left}px`},children:[t.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:Mt,source:"dropdown",userTier:dt}),Pn("public"),Ge(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:Mt==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",Mt==="public"&&"text-white"),children:[Le("textarea.privacy.public")," ",t.jsx(xl,{size:14,className:k(Mt!=="public"&&"opacity-60")})]}),t.jsx("div",{className:k("text-xs text-white/50",Mt==="public"&&"text-white"),children:Le("textarea.privacy.publicDescription")})]})]}),t.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:Mt,source:"dropdown",userTier:dt,wasBlocked:ge}),ge?(In(!1),Kt({triggerLocation:"default"})):Pn("private"),Ge(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:Mt==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",Mt==="private"&&"text-white"),children:[Le("textarea.privacy.private")," ",t.jsx(za,{size:14,opacity:Mt==="private"?1:.3})]}),t.jsx("div",{className:k("text-xs text-white/50",Mt==="private"&&"text-white"),children:Le("textarea.privacy.privateDescription")})]})})]})]})})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[Ue&&ge&&t.jsxs("button",{ref:Yt,type:"button",className:k("rounded-full gap-1 h-9 max-md:w-9 flex items-center justify-center p-2 text-[12px] md:text-[14px] font-medium transition-colors",ge?mt?"bg-[#80FFF91A] text-[#80FFF9] hover:bg-white/10":"bg-[#FFFFFF0D] text-[#E6E6E6] hover:bg-white/10":"bg-[#FFFFFF0D] text-[#E6E6E6] cursor-default opacity-80"),onClick:ye=>{ye.stopPropagation(),ss("privacy_button_clicked",{currentPrivacy:Mt,userTier:dt,isFreeUser:ge,isMobile:Ht,action:Ne?"disabled_click":Ht?"open_mobile_sheet":"toggle_dropdown"}),!Ne&&(Ht?In(!0):(mt||an(),Ge(!mt)))},children:[Mt==="public"?t.jsx(xl,{size:20,color:mt?"#80FFF9":void 0}):t.jsx(za,{size:18,color:mt?"#80FFF9":"#ffffff",opacity:1}),!Ht&&Le(Mt==="public"?"textarea.privacy.public":"textarea.privacy.private")]}),t.jsx(ms,{children:t.jsxs(ri,{delayDuration:0,children:[t.jsx(ii,{asChild:!0,children:t.jsx("button",{className:k("p-2 rounded-full flex items-center justify-center hover:bg-white/10  ","size-9",g?"bg-[#66EAFF0D] border-[#66EAFF1F] border-[1px]":"bg-white bg-opacity-5"),type:"button",onClick:at,children:t.jsx(Rn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,ease:"easeOut"},children:g?t.jsx(ff,{color:"#66eaff",size:18}):ft?t.jsx(_H,{size:18}):t.jsx(ff,{className:"w-6 h-6 max-md",color:"#ccc",size:18})},g?"options":ft?"mcp":"options")})}),t.jsx(qr,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(Rn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[Le("textarea.advancedControls.title"),t.jsx(na,{className:"fill-[#fff]"})]})})]})}),_e&&t.jsx("div",{className:"rounded-lg bg-none",children:t.jsxs(ri,{children:[t.jsx(ii,{asChild:!0,children:t.jsx("button",{className:k("p-2 pointer-events-auto rounded-[30px] flex items-center justify-center size-9 transition-colors duration-200",Fe?"bg-white text-black hover:bg-white":"bg-white bg-opacity-5 hover:bg-white hover:bg-opacity-5",se&&"opacity-50 cursor-not-allowed"),type:"button",onClick:()=>{il(Fe?"recording_stopped":"recording_started",{component:"TextareaWithAttachmentV2New"}),_e()},disabled:se,children:se?t.jsx(tn,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}):Fe?t.jsx(Rn.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:t.jsx(Y7,{width:"16",height:"16",fill:"currentColor",className:"md:size-[18px]"})}):t.jsx(K7,{width:"16",height:"16",fill:"currentColor",className:"md:size-[18px]"})})}),t.jsx($a,{children:t.jsx(qr,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(Rn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[Le(se?"textarea.voice.transcribing":Fe?"textarea.voice.stopRecording":"textarea.voice.startRecording"),t.jsx(na,{className:"fill-[#fff]"})]})})})]})}),t.jsx(zt,{disabled:o,className:"md:px-[24px] max-md:h-[32px] max-md:w-[32px] md:py-[8px] rounded-[30px] h-9 w-[44px] md:w-[56px] text-white transition-colors bg-[#ECECEC] flex items-center justify-center",onClick:Ws,type:"button","data-testid":Vs.mainTask.submit,children:t.jsx("div",{className:"flex items-center justify-center w-full",children:f?t.jsx(tn,{className:"w-5 h-5 text-black animate-spin"}):t.jsx("img",{src:_he,alt:"Submit",className:"min-w-6 min-h-6 max-w-6 max-h-6 max-md:min-w-[16px] max-md:min-h-[16px] max-md:rotate-[-90deg]"})})})]})]}),!Is&&!nn&&t.jsx(Eh,{size:250,duration:12,delay:9,colorFrom:"#80FFF9",colorTo:"transparent"}),t.jsx(Fa,{open:dn,onOpenChange:ye=>{gt(ye),ye||Zn("main")},trigger:t.jsx("div",{}),showDefaultFooter:!1,contentPadding:"p-0",maxWidth:"max-w-full",children:t.jsxs("div",{className:"max-h-[70vh] pb-4 overflow-y-auto bg-[#111112] rounded-t-[24px]",children:[t.jsxs("div",{className:"flex items-center sticky z-[100] top-0 justify-center w-full py-4 border-b border-[#242424] bg-[#111112]",children:[ps!=="main"&&t.jsx(zt,{variant:"ghost",size:"sm",onClick:()=>Zn("main"),className:"absolute w-8 h-8 p-1 left-4 hover:bg-white/10",children:t.jsx(Xa,{})}),t.jsx("span",{className:"font-medium font-inter text-[18px]",children:Le(ps==="main"?"textarea.advancedControls.title":ps==="models"?"textarea.drawer.selectModel":ps==="templates"?"textarea.drawer.selectTemplate":ps==="mcp-tools"?"textarea.drawer.selectMcpTools":"textarea.drawer.customAgents")}),t.jsx("button",{type:"button",title:Le("textarea.drawer.close"),onClick:()=>{gt(!1)},className:"absolute p-1 rounded-full top-4 right-4 bg-white/5 hover:bg-white/10",children:t.jsx(Ft,{className:"w-4 h-4"})})]}),ps==="main"&&t.jsxs("div",{className:"p-4 space-y-4 text-white",children:[t.jsxs("div",{title:"Ultra Mode",className:k("transition-colors duration-200 w-full hover:opacity-80 min-h-[40px] text-[16px] font-medium flex items-center gap-[6px] p-4 rounded-[8px] justify-between cursor-pointer",me?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:ye=>{ye.preventDefault(),Ne?ce?.(!me):(gt(!1),Kt({triggerLocation:"ultraThinkingModal"}))},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xl,{size:24,color:me?"#FF8C66":"#E6E6E6"}),t.jsxs("div",{className:k("flex items-center font-inter font-medium gap-[2px]",me?"text-[#FF8C66]":""),children:["Ultra thinking ",t.jsx(Oi,{color:"#FF8C66",size:20})]})]}),t.jsx(mf,{checked:me,onCheckedChange:ye=>{Ne?ce?.(ye):(gt(!1),Kt({triggerLocation:"ultraThinkingModal"}))},onClick:ye=>ye.stopPropagation(),className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66]"})]}),Q&&Z.length>0&&t.jsx("div",{className:"flex w-full",onClick:()=>Zn("models"),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:"Select Model"}),t.jsxs("div",{className:" rounded-[12px] p-3 px-4 border border-[#242424] w-full flex items-center justify-between gap-3",children:[(()=>{const ye=lk(Z,le);return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"Modal Icon",src:ye.icon,className:"w-5 h-5"}),t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:ye.name||"Select model"}),ye.model?.user_tier=="pro_mode"&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]})})(),t.jsx(Xa,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:Le("textarea.advancedControls.mcp.selectMcpTools")}),t.jsx("span",{className:"font-medium px-2 py-[2px] bg-[#FFBD66] text-[#19191A] rounded-[6px]  text-[12px] font-inter",children:Le("textarea.advancedControls.mcp.new")})]}),t.jsxs("button",{type:"button",onClick:()=>Zn("mcp-tools"),className:k("w-full rounded-[12px] p-3 px-4 border border-[#242424] text-[#DDDDE6] hover:border-[#333] transition-colors flex items-center justify-between gap-3",re&&re.length>0&&"pl-3"),children:[t.jsxs("div",{className:"flex items-center flex-1 gap-3 overflow-hidden",children:[(!re||re.length===0)&&t.jsx(fa,{size:20}),t.jsx("div",{className:"flex flex-wrap items-center flex-1 gap-2 overflow-hidden",children:re&&re.length>0?t.jsxs("div",{className:"flex flex-wrap items-center flex-1 gap-2 overflow-hidden",children:[re.slice(0,1).map((ye,Et)=>{const qt=ys?.find(Oe=>Oe.id===ye);return qt?t.jsxs("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-1 rounded-full",children:[qt.icon?t.jsx("img",{src:qt.icon,alt:qt.display_name,className:"flex-shrink-0 w-4 h-4 rounded-sm"}):t.jsx(fa,{size:16}),t.jsx("span",{className:"text-sm text-[#DDDDE6] flex-shrink-0",children:qt.display_name})]},`${ye}-${Et}`):null}),re.length>1&&t.jsx("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-1 rounded-full",children:t.jsx("span",{className:"text-sm text-[#DDDDE6]",children:Le("textarea.advancedControls.mcp.more",{count:re.length-1})})})]}):t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:Le("textarea.advancedControls.mcp.selectMcpTools")})})]}),t.jsx(Xa,{className:"flex-shrink-0 w-4 h-4 rotate-180",color:"#DDDDE6"})]})]}),t.jsx("div",{className:"flex",onClick:()=>h?.(),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:Le("textarea.advancedControls.github.label")}),t.jsxs("div",{className:" rounded-[12px] p-3 px-4 border border-[#242424] flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:b&&y?Nhe:jhe,alt:Le("textarea.advancedControls.github.label"),className:"w-6 h-6"}),t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:b?y?y.split("/").pop():Le("textarea.advancedControls.github.selectRepository"):Le("textarea.advancedControls.github.connectToGitHub")})]}),t.jsx(Xa,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),t.jsx("div",{className:"flex w-full",onClick:()=>Zn("templates"),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:Le("textarea.advancedControls.template.selectTemplate")}),t.jsxs("div",{className:" w-full rounded-[12px] p-3 px-4 border flex items-center justify-between gap-2 border-[#242424]",children:[t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:(()=>{if(!te)return Le("textarea.advancedControls.template.defaultTemplate");const ye=oe?.templates?.find(Et=>Et.env_image===te);return ye?.name||ye?.env_image||te})()}),t.jsx(Xa,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),Ue&&Ne&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:Le("textarea.advancedControls.privacy.label")}),t.jsx("div",{className:"rounded-[12px] p-3 px-4 border border-[#242424] flex items-center gap-3",children:t.jsx(l3,{privacy:Mt})})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:Le("textarea.advancedControls.budget.label")}),t.jsxs("div",{className:" rounded-[12px] border border-[#242424] relative",children:[t.jsx("button",{type:"button",title:Le("textarea.advancedControls.budget.decreaseBudget"),onClick:()=>{const ye=parseInt(zn);if(ye>1){const Et=(ye-1).toString();W?.(Et)}},className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-10 w-[32px] h-[32px] flex items-center justify-center text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(G7,{className:"h-4 w-4 text-[#DDDDE6]"})}),t.jsxs("div",{className:"flex items-center justify-center p-3 px-4",children:[t.jsx("img",{alt:Le("textarea.advancedControls.budget.label"),className:"text-[#B4A456] w-5 h-5 mr-2",src:whe}),t.jsx("input",{type:"number",min:"1",step:"1",value:zn,onChange:ye=>{ye.target.value!=="0"&&W?.(ye.target.value)},placeholder:Le("textarea.advancedControls.budget.defaultPlaceholder"),className:"w-16 bg-transparent text-center focus:outline-none text-[#FFFFFF] font-inter text-lg font-semibold [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),t.jsx("button",{type:"button",title:Le("textarea.advancedControls.budget.increaseBudget"),onClick:()=>{const Et=(parseInt(zn)+1).toString();W?.(Et)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 z-10 w-[32px] h-[32px] flex items-center justify-center text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(ma,{className:"h-4 w-4 text-[#DDDDE6]"})})]})]})]}),ps==="models"&&t.jsx("div",{className:"p-4 space-y-3",children:Z.map(ye=>t.jsx("div",{className:"p-4 rounded-[12px] cursor-pointer transition-colors bg-[#FFFFFF05]",onClick:()=>{if(!Fhe(ye,dt,we())){gt(!1),Kt({triggerLocation:"default"}),Zn("main");return}q?.(ye.id),Zn("main")},children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("img",{alt:"Logo",className:"w-6 h-6 mt-1",src:lk([ye],ye.id).icon}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:k("font-medium font-inter text-[#E6E6E6]",le===ye.id&&"text-[#5CD2E5]"),children:ye.name}),ye.user_tier=="pro_mode"&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]}),ye.description&&t.jsx("div",{className:"text-[14px] font-inter text-white/50",children:ye.description})]})]}),le===ye.id&&t.jsx(xn,{className:"h-6 w-6 text-[#5CD2E5]"})]})},ye.id))}),ps==="templates"&&t.jsx("div",{className:"p-4 space-y-3",children:oe?.templates?.map(ye=>t.jsx("div",{className:"p-4 rounded-[12px] cursor-pointer transition-colors bg-[#FFFFFF05]",onClick:()=>{U?.(ye.env_image),Zn("main")},children:t.jsxs("div",{className:k("flex items-start justify-between"),children:[t.jsx("div",{children:t.jsx("div",{className:k("font-medium text-white",te==ye.env_image&&"text-[#5CD2E5]"),children:ye.name||ye.env_image})}),te===ye.env_image&&t.jsx(xn,{className:"h-6 w-6 text-[#5CD2E5]"})]})},ye.env_image))}),ps==="mcp-tools"&&t.jsx("div",{className:"p-4 space-y-3",children:ys&&Array.isArray(ys)&&ys.length>0?[...ys].sort((ye,Et)=>new Date(Et.created_at).getTime()-new Date(ye.created_at).getTime()).map(ye=>{const Et=re?.includes(ye.id)||!1;return t.jsx("div",{className:"p-4 rounded-[12px] relative transition-colors bg-[#FFFFFF05] hover:bg-[#FFFFFF08]",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start flex-1 min-w-0 gap-3",children:[t.jsx("div",{className:"flex items-center justify-center min-w-10 min-h-10 bg-[#272729] rounded-[12px]",children:ye.icon?t.jsx("img",{src:ye.icon,alt:ye.display_name,className:"flex-shrink-0 w-6 h-6 rounded-sm"}):t.jsx(fa,{size:24})}),t.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[t.jsx("div",{className:k("font-medium font-inter text-[#E6E6E6]"),children:ye.display_name}),ye.description&&t.jsx("div",{className:"text-[14px] font-inter truncate text-white/50 mb-1",children:ye.description})]})]}),ye.type==="public"&&ye.key_required?t.jsxs("button",{type:"button",className:"text-[#C4C4CC] backdrop-blur-lg flex items-center gap-1 px-[10px] rounded-full py-[6px] font-medium bg-[#FFFFFF14]",title:"Configure Button",onClick:()=>{Te({title:"Configuration Required",description:"Please open the desktop app to configure this MCP server.",duration:5e3})},children:[t.jsx(Po,{size:20,color:"#E6E6E6"}),"Configure"]}):t.jsx(o3,{checked:Et,onCheckedChange:qt=>{if(!Ne){gt(!1),Kt({triggerLocation:"mcp-tools-modal"});return}if(qt){const Oe=[...re||[],ye.id];xe?.(Oe)}else{const Oe=re?.filter(He=>He!==ye.id)||[];xe?.(Oe)}},disabled:!1,checkedColor:"#F49B57"})]})},ye.id)}):t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(fa,{size:48,className:"mx-auto mb-4 opacity-50"}),t.jsx("div",{className:"mb-2 font-medium text-white/70",children:"No MCP tools available"}),t.jsx("div",{className:"text-sm text-white/50",children:"Contact your administrator to set up MCP tools"})]})})]})}),Ue&&t.jsxs(Fa,{open:wn,onOpenChange:In,title:Le("textarea.privacy.settings"),showDefaultFooter:!1,maxWidth:"max-w-sm",contentPadding:"p-0",showCancel:!0,onCancel:()=>{In(!1)},trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:Mt,source:"mobile_bottom_sheet",userTier:dt}),Pn("public"),In(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:Mt==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",Mt==="public"&&"text-white"),children:[Le("textarea.privacy.public")," ",t.jsx(xl,{size:14,className:k(Mt!=="public"&&"opacity-60")})]}),t.jsx("div",{className:k("text-xs text-white/50",Mt==="public"&&"text-white"),children:Le("textarea.privacy.publicDescription")})]})]}),t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:Mt,source:"mobile_bottom_sheet",userTier:dt,wasBlocked:ge}),ge?(In(!1),Kt({triggerLocation:"default"})):Pn("private"),In(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:Mt==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",Mt==="private"&&"text-white"),children:[Le("textarea.privacy.private")," ",t.jsx(za,{size:14,opacity:Mt==="private"?1:.3})]}),t.jsx("div",{className:k("text-xs text-white/50",Mt==="private"&&"text-white"),children:Le("textarea.privacy.privateDescription")})]})})]})]})]}),t.jsxs(Fa,{open:Ee,onOpenChange:Ke,title:Le("textarea.agents.selectAgent"),showDefaultFooter:!1,maxWidth:"max-w-screen",contentPadding:"p-0",showCancel:!0,onCancel:()=>{Ke(!1)},trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsxs("div",{className:"flex flex-col gap-2 p-4 max-h-[60dvh] overflow-y-auto",children:[t.jsx("div",{className:k("h-auto p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 bg-[#FFFFFF]/5 rounded-[12px] font-medium cursor-pointer",!E&&!P&&!T&&!D&&!M&&!C&&" text-[#80FFF9]"),onClick:ye=>{ye.stopPropagation(),S?.(null),Ke(!1),I(!1),A(!1),O(!1),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[16px] text-[#E8E8E6]",children:Le("textarea.agents.e1")}),t.jsx("span",{className:"text-[14px] text-[#8A8F98] font-inter",children:Le("textarea.agents.descriptions.e1")})]}),!E&&!P&&!T&&!D&&!M&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#66EAFF]"})]})}),bn&&t.jsx("div",{className:k("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",D&&!E&&!P&&!M&&!C&&" text-[#80FFF9]"),onClick:ye=>{if(ye.stopPropagation(),!Yn){Ke(!1),Kt({triggerLocation:"e2Agent"});return}S?.(null),Ke(!1),I(!1),A(!1),O(!0),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:Le("textarea.agents.e2")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:Le("textarea.agents.descriptions.e2")})]}),D&&!C?t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"}):t.jsx("span",{className:"text-[12px] bg-[#F49B571A] text-[#F49B57] rounded-full px-2 py-[2px]",children:Le("textarea.agents.beta")})]})}),Nt&&t.jsx("div",{className:k("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",T&&!E&&!P&&!M&&!C&&" text-[#80FFF9]"),onClick:ye=>{ye.stopPropagation(),S?.(null),Ke(!1),I(!1),A(!0),O(!1),L(!1),B(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:Le("textarea.agents.e15")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:Le("textarea.agents.descriptions.e15")})]}),T&&!C?t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"}):null]})}),Jn&&t.jsx("div",{className:k("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",M&&!E&&!P&&!C&&" text-[#80FFF9]"),onClick:ye=>{ye.stopPropagation(),S?.(null),Ke(!1),I(!1),A(!1),O(!1),L(!0),B(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:Le("textarea.agents.prototype")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:Le("textarea.agents.types.prototype")})]}),M&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),t.jsx("div",{className:k("bg-[#FFFFFF]/5 rounded-[12px] h-auto p-4  text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",E&&!C&&" text-[#80FFF9]"),onClick:ye=>{_n&&Sr(),ve(ye),Ke(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:Le("textarea.agents.mobile")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:Le("textarea.agents.descriptions.mobile")})]}),E&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),Ne&&t.jsx("div",{className:k("bg-[#FFFFFF]/5 rounded-[12px] h-auto p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",P&&!C&&"text-[#80FFF9]"),onClick:Xe,children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:Le("textarea.agents.nextjs")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:Le("textarea.agents.descriptions.nextjs")})]}),P&&!C&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),F&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:" bg-[#242424] my-2"}),j&&t.jsx("div",{className:"px-3 py-2 text-[#8A8F98] text-[12px] md:text-[13px]",children:Le("textarea.agents.loading")}),!j&&N.map(ye=>t.jsx("div",{className:k("bg-[#FFFFFF]/5 rounded-[12px] h-auto  p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",C===ye.id&&" text-[#80FFF9]"),onClick:Et=>{Et.stopPropagation(),S?.(ye.id),Ke(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[16px] truncate max-w-[160px] capitalize",children:ye.prompt_name.replaceAll("_"," ").replaceAll("_user","")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50",children:un(ye.parent_prompt)})]}),C===ye.id&&t.jsx(xn,{className:"h-4 w-4 text-[#80FFF9] flex-shrink-0"})]})},ye.id)),!j&&N.length>0&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"h-px bg-[#242424] my-2"})}),t.jsxs("div",{className:"px-2 py-[6px] text-[#DDDDE6] group hover:bg-[#F8FF990F] font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ye=>{ye.stopPropagation(),wr(),Ke(!1)},children:[t.jsx(ma,{className:"w-4 h-4 group-hover:text-[#F8FF99] text-[#E8E8E6]"}),t.jsx("span",{className:"text-[16px] group-hover:text-[#F8FF99] md:text-[13px]",children:Le("textarea.agents.createNew")})]}),t.jsxs("div",{className:"px-2 py-[6px] justify-between text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ye=>{ye.stopPropagation(),Gs(),Ke(!1)},children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(Po,{size:16,color:"#E8E8E6"}),t.jsxs("span",{className:"text-[16px] md:text-[13px]",children:[" ",Le("textarea.agents.manage")]})]}),t.jsx(pf,{})]})]})]})]})]})})})]})},eC=({height:e="100%",gridHeight:n="500%",top:s="0",gridSizeX:r=20,gridSizeY:i=15,gridLineWidth:a=1,gridOpacity:o=.4,fadeIntensity:l=70,backgroundColor:c="#0F0F10",showFade:u=!0,animate:p=!0,animationDuration:f=15,rotationX:m=45,perspectiveValue:h=450})=>{const x={container:{position:"absolute",inset:0,top:s,width:"100%",height:e,opacity:.8,backgroundColor:c,filter:"backdrop(blur(100px))"},gridContainer:{position:"relative",width:"100%",height:"100%",overflow:"hidden",perspective:`${h}px`},gridFade:{position:"absolute",zIndex:10,width:"100%",height:"100%",background:u?`radial-gradient(ellipse at 50% 50%, rgba(15, 15, 16, 0) 0%, rgba(15, 15, 16, 1) ${l}%)`:"transparent"},gridLines:{width:"100%",height:n,backgroundImage:`
                linear-gradient(to right, rgba(128, 128, 128, ${o}) ${a}px, transparent ${a/2}px),
                linear-gradient(to bottom, rgba(128, 128, 128, ${o}) ${a}px, transparent ${a/2}px)
            `,backgroundSize:`${r}px ${i}px`,transformOrigin:"100% 0 0",...p?{animation:`retro-grid-animation-${m} ${f}s linear infinite`}:{transform:`rotateX(${m}deg) translateY(-25%)`}}},g=p?`
        @keyframes retro-grid-animation-${m} {
            0% {
                transform: rotateX(${m}deg) translateY(-50%);
            }
            100% {
                transform: rotateX(${m}deg) translateY(0);
            }
        }
    `:"";return t.jsxs("div",{style:x.container,className:"pointer-events-none md:overflow-auto",children:[p&&t.jsx("style",{children:g}),t.jsxs("div",{style:x.gridContainer,children:[t.jsx("div",{style:x.gridFade}),t.jsx("div",{style:x.gridLines})]})]})},She=K.logo.borderedLogoDark;function NH({triggerElement:e=null,defaultView:n="login",onSuccess:s,open:r,onOpenChange:i,openView:a,enableWelcomeModal:o=!1}){const[l,c]=d.useState(n),u=Ea(),p=()=>t.jsxs("div",{className:"flex flex-col items-center w-full p-8 pt-0 space-y-6 text-center",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("img",{src:She,className:"h-12 mb-4 md:h-24 w-fit",alt:"Emergent Logo"})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("h2",{className:"text-[20px] text-nowrap md:text-[40px] font-brockmann font-medium text-white",children:"Continue with Emergent"}),t.jsx("div",{className:"inline-block text-[#898E98]",children:t.jsx("span",{className:" text-[13px] md:text-[16px] text-wrap md:whitespace-nowrap",children:"To use Emergent, Create a new account or log into an existing one."})})]}),t.jsxs("div",{className:"flex flex-col w-full pt-4 space-y-3  md:space-y-4 max-w-[414px] items-center",children:[t.jsx("button",{onClick:()=>u(Pa),className:"max-h-[40px] md:max-h-[56px] relative justify-center border-2 border-[#000000] rounded-[28px] text-white bg-[#1A1A1A] hover:bg-[#1D1D1D] w-full flex items-center gap-3 py-4 text-base font-semibold leading-6 tracking-wide transition-colors px-14",children:"Log In"}),t.jsx("button",{onClick:()=>u(Pa),className:"max-h-[40px] md:max-h-[56px] relative justify-center w-full flex items-center gap-3 py-4 text-base font-semibold leading-6 tracking-wide text-black transition-colors bg-white rounded-[28px] hover:bg-gray-100 px-14",children:"Sign Up"})]})]});return t.jsxs(as,{open:r,onOpenChange:i,children:[t.jsx(fB,{asChild:!0,children:e}),t.jsxs(Er,{className:"max-w-[90vw] w-[900px] bg-[#131314] border-[#ffffff12] text-white md:max-h-[90vh] md:min-h-[628px] overflow-y-auto p-0",children:[t.jsxs(Yl,{className:"absolute top-4 right-4 z-30 opacity-70 hover:opacity-100 transition-opacity",children:[t.jsx(Ft,{className:"h-6 w-6 text-white"}),t.jsx("span",{className:"sr-only",children:"Close"})]}),t.jsx("div",{className:"flex flex-col gap-8 justify-center py-8 md:pb-[66px] md:pt-[56px] relative z-20",children:t.jsx("div",{className:"mt-6 space-y-6 max-w-[568px] mx-auto flex flex-col items-center w-full",children:p()})}),t.jsx(eC,{height:"50%",top:"50%",gridSizeX:70,gridSizeY:30,fadeIntensity:90,gridLineWidth:.3,gridOpacity:.6,backgroundColor:"#131314"})]})]})}const khe=e=>e.map((n,s)=>({amount:n.credits,price:n.amount,selected:s===1,discount:n.bonus_credits?n.credits-(n.original_credits||n.credits):0,currency:n.currency})),yx=(e,n,s)=>e?window.Paddle?(window.Paddle.Checkout.open({transactionId:e,...s&&{customer:{email:s}},settings:{variant:"one-page"}}),!0):(n(P1.PADDLE_NOT_AVAILABLE),!1):(n(P1.PADDLE_MISSING_TRANSACTION_ID),!1);function d0(){const{toast:e}=ns(),{user:n}=os(),[s,r]=d.useState(!1),[i,a]=d.useState(null),[o,l]=d.useState(!1),c=d.useRef(!1),u=d.useRef(!1),{upgradeDetails:p,subscriptionPlansResponse:f,tier:m}=xs(),h=Sa(),[x,g]=d.useState({isLoading:!1,isSuccess:!1,isError:!1}),[v,b]=d.useState(null),[y,w]=d.useState({showModal:!1,status:"success"}),[_,N]=d.useState(!1),[j,C]=d.useState({showModal:!1}),[S,F]=d.useState({showModal:!1});d.useEffect(()=>{yg(),TF()},[]);const E=f,I=d.useMemo(()=>{if(E?.topup_bundles){const _e=khe(E.topup_bundles);return v===null&&_e.length>1&&b(_e[1].amount),_e}const se=[{amount:100,price:20,selected:!1,discount:0,currency:"USD"},{amount:250,price:50,selected:!0,discount:0,currency:"USD"},{amount:500,price:100,selected:!1,discount:0,currency:"USD"},{amount:3e3,price:500,selected:!1,discount:20,currency:"USD"},{amount:6e3,price:1e3,selected:!1,discount:20,currency:"USD"}];return v===null&&b(250),se},[E?.topup_bundles,v]),T=se=>{b(se)},A=()=>I.find(se=>se.amount===v),D=se=>{g({isLoading:!0,isSuccess:!1,isError:!1,...se})},O=(se,_e,Re,Se,Ne)=>{g({isLoading:!1,isSuccess:!0,isError:!1,successData:se,paymentType:_e,amount:Re,currency:Se,planName:Ne})},M=(se,_e)=>{g({isLoading:!1,isSuccess:!1,isError:!0,errorMessage:se,paymentType:_e})},L=()=>{g({isLoading:!1,isSuccess:!1,isError:!1})},P=(se,_e,Re,Se,Ne)=>{w({showModal:!0,status:se,planName:_e,errorMessage:Re,paymentId:Se,organizationId:Ne})},B=()=>{w({showModal:!1,status:"success"})},G=(se,_e,Re)=>{C({showModal:!0,bundle:se,organizationId:_e,litmusConfig:Re})},$=()=>{C({showModal:!1})},te=async se=>{j.bundle&&($(),await ce(j.bundle,j.organizationId,j.litmusConfig,se))},U=(se,_e,Re)=>{F({showModal:!0,plan:se,couponCode:_e,litmusConfig:Re})},oe=()=>{F({showModal:!1})},Y=async(se,_e,Re)=>{if(!c.current){c.current=!0,l(!0),D({paymentType:"subscription",planName:se.tier_name,currency:se.currency||"USD"});try{const Se=O1("subscription",se.amount,se.currency||"USD",se.amount*12);xo("subscription",Se),M1("subscription",se.amount,se.currency||"USD");const Ne=await vt.quickUpgrade(se.id,se.currency||"USD",_e,Re);Ne.status==="succeeded"&&Se&&(E2(Se,Ne.payment_id,se.amount,se.currency||"USD"),b2(Se,Ne.payment_id,se.amount,se.currency||"USD")),Ne?.payment_id&&Ju(Ne.payment_id,se.amount,se.currency||"USD","subscription");const ge=new URLSearchParams;ge.set("payment_id",Ne.payment_id),ge.set("subscription_status",Ne.status==="succeeded"?"success":"failed"),window.location.href=`${window.location.pathname}?${ge.toString()}`}catch(Se){const Ne=Se.response?.data?.detail||"Upgrade failed. Please try again.";jt(Zt.PAYMENT.QUICK_UPGRADE,Se,{plan_id:se.id,plan_name:se.tier_name,fallback_to_stripe:!0});try{const ge=await vt.createCheckoutSession(0,!0,se.id,void 0,se.currency||"USD",void 0,_e,!1,Re);if(ge?.url){window.location.href=ge.url;return}}catch(ge){jt(Zt.PAYMENT.QUICK_UPGRADE_FALLBACK,ge,{plan_id:se.id})}L(),M(Ne,"subscription"),e({title:"Upgrade Failed",description:Ne,variant:"destructive"}),l(!1)}finally{c.current=!1}}},W=async()=>{S.plan&&(oe(),await Y(S.plan,S.couponCode,S.litmusConfig))},Z=async(se,_e,Re)=>{try{const Se=Re?.isSubscription===!0,Ne=Re?.planId,ge=Re?.planName?.toLowerCase()?.includes("team")?"Team":Re?.planName||"Pro Plan",Ce=Se?0:(se?.originalPrice??se?.price)||10,$e=se?.currency||"USD",dt=Re?.eventId;D({paymentType:Se?"subscription":"credits",amount:se?.cohortTotalCredits||se?.amount,currency:$e,planName:Se?ge:void 0});let Me;try{const we=se?.couponCode;Me=await vt.createCheckoutSession(Ce,Se,Ne,void 0,$e,dt,we,!1,Re?.litmusConfig)}catch(we){L(),e({title:"Error",description:we.response?.data?.detail||"Failed to create checkout session. Please try again.",variant:"destructive"});return}if(Me?.userType==="ORGANIZATION"&&(_e=Me?.userId),Me?.paymentId&&Ju(Me.paymentId,Se?Ce:se?.price||Ce,$e,Se?ge?.toLowerCase().includes("team")?"team_subscription":"subscription":"credits"),Me?.paymentGateway===Vd.RAZORPAY){let we;try{we=await vt.checkPaymentStatus(Me.paymentId)}catch{L(),M("Error checking payment status. Please try again.",Se?"subscription":"credits");return}if(we.paymentGateway===Vd.RAZORPAY&&(we.razorpayOrderId||we.razorpaySubscriptionId)){const Te=document.createElement("script");Te.src="https://checkout.razorpay.com/v1/checkout.js",Te.async=!0,Te.id="razorpay-checkout-script",Te.onload=()=>{const ze={key:we.keyId,amount:we.razorpayOrderId?we.amount*100:void 0,currency:we.currency||"INR",name:"Emergent",description:Se?"Subscription":"Credits Top-up",image:"https://emergent-website-migrate.s3.us-west-2.amazonaws.com/website/emergent_square.png",order_id:we.razorpayOrderId,subscription_id:we.razorpaySubscriptionId,handler:async function(Bt){Se&&P("pending",ge,void 0,Me.paymentId,_e);try{const qe=await vt.checkPaymentStatus(Me.paymentId);if(Se)(qe.status==="success"||qe.status==="succeeded")&&dt&&(E2(dt,Me.paymentId,we.amount||Ce,$e),b2(dt,Me.paymentId,we.amount||Ce,$e)),P(qe.status,ge,qe.status==="failed"?"Payment verification failed":void 0,Me.paymentId,_e);else if(qe&&(qe.status==="success"||qe.status==="succeeded")){dt&&F2(dt,Me.paymentId,we.amount||Ce,$e);const Ae=new URLSearchParams;Ae.set("payment_id",Me.paymentId),Ae.set("payment_status","success"),_e&&Ae.set("organization_id",_e),window.location.href=`${window.location.pathname}?${Ae.toString()}`}else{const Ae=new URLSearchParams;Ae.set("payment_id",Me.paymentId),Ae.set("payment_status","failed"),_e&&Ae.set("organization_id",_e),window.location.href=`${window.location.pathname}?${Ae.toString()}`}}catch{if(Se)P("failed",ge,"Error verifying payment",Me.paymentId,_e);else{const Ae=new URLSearchParams;Ae.set("payment_id",Me.paymentId),Ae.set("payment_status","failed"),_e&&Ae.set("organization_id",_e),window.location.href=`${window.location.pathname}?${Ae.toString()}`}}},prefill:{email:n?.email||"",name:n?.user_metadata?.name?.split(" ")[0]||n?.user_metadata?.full_name?.split(" ")[0]||n?.email?.split("@")[0]||""},theme:{color:"#ffffff",font:{family:"Inter",size:14}},modal:{ondismiss:function(){if(Se)P("cancelled",ge,void 0,Me.paymentId,_e);else{const Bt=new URLSearchParams;Bt.set("payment_id",Me.paymentId),Bt.set("payment_status","cancelled"),_e&&Bt.set("organization_id",_e),window.location.href=`${window.location.pathname}?${Bt.toString()}`}}}},_t=new window.Razorpay(ze);L(),_t.open()},Te.onerror=()=>{L(),M("Failed to load payment gateway",Se?"subscription":"credits"),Fe()},document.body.appendChild(Te)}else L(),M("Failed to get Razorpay order details",Se?"subscription":"credits")}else Me?.paymentGateway===Vd.PADDLE?(L(),yx(Me.sessionId,we=>M(we,Se?"subscription":"credits"),n?.email)):window.location.href=Me.url}catch{L(),M("Error processing payment. Please try again.",Re?.isSubscription?"subscription":"credits")}},le=d.useMemo(()=>{if(!yg())return!1;const se=E?.current_subscription;return se?se.payment_gateway?.toUpperCase()==="STRIPE"&&se.status==="active"&&!!se.saved_card:!1},[E?.current_subscription]),[q,Q]=d.useState(null),he=d.useMemo(()=>q&&Object.keys(q).length>0?q:E?.current_subscription?.saved_card||null,[E?.current_subscription?.saved_card,q]),me=async se=>{try{if(!yg()&&!TF())return null;const _e=await vt.getSavedPaymentMethod(se);return _e&&Object.keys(_e).length>0&&_e.type==="card"?(Q(_e),_e):null}catch(_e){return jt("check_saved_payment_method_error",_e,{organization_id:se}),null}},ce=async(se,_e,Re,Se)=>{if(!u.current){u.current=!0,r(!0),a(se.amount),D({paymentType:"credits",amount:se.cohortTotalCredits??se.amount,currency:se.currency,isQuickTopup:!0});try{const Ne=ou(se.price,se.currency,se.amount);xo("credits",Ne),n?.id&&pF(n.id,se.amount,se.price,m||"free",!1,_e);const ge=se.originalPrice??se.price,Ce=se.couponCode,$e=await vt.quickTopup(ge,se.currency,_e,Ce,Re,Se),dt=$e.amount??se.price;$e?.payment_id&&Ju($e.payment_id,dt,se.currency,"credits"),$e.status==="succeeded"&&Ne&&F2(Ne,$e.payment_id,dt,se.currency);const Me=new URLSearchParams;Me.set("payment_id",$e.payment_id),Me.set("payment_status",$e.status==="succeeded"?"success":"failed"),_e&&Me.set("organization_id",_e),window.location.href=`${window.location.pathname}?${Me.toString()}`}catch(Ne){const ge=Ne.response?.data?.detail||"Payment failed. Please try again.";jt("handle_quick_topup_error",Ne,{bundle_amount:se.amount,bundle_price:se.price,bundle_currency:se.currency,organization_id:_e,fallback_to_stripe:!0});const Ce=se.couponCode;try{const $e=await vt.createCheckoutSession(se.originalPrice??se.price,!1,void 0,void 0,se.currency,void 0,Ce,!1,Re,Se);if($e?.url){window.location.href=$e.url;return}}catch($e){jt("handle_quick_topup_stripe_fallback_error",$e,{bundle_amount:se.amount,bundle_price:se.price,bundle_currency:se.currency})}L(),M(ge,"credits"),e({title:"Payment Failed",description:ge,variant:"destructive"}),r(!1),a(null)}finally{u.current=!1}}},ee=async(se,_e,Re=!1,Se,Ne)=>{r(!0),a(se.amount);try{D({paymentType:"credits",amount:se.cohortTotalCredits||se.amount,currency:se.currency}),n?.id&&pF(n.id,se.amount,se.price,m||"free",Re,_e);const ge=se.originalPrice??se.price,Ce=se?.couponCode,$e=await vt.createCheckoutSession(ge,!1,void 0,void 0,se.currency,Se,Ce,!1,Ne);$e?.paymentId&&Ju($e.paymentId,ge,se.currency,"credits"),$e?.paymentGateway===Vd.PADDLE?(L(),yx($e.sessionId,dt=>M(dt,"credits"),n?.email)):$e?.url&&(window.location.href=$e.url)}catch(ge){M(ge.response?.data?.detail||"Failed to create checkout session. Please try again.","credits"),e({title:"Error",description:ge.response?.data?.detail||"Failed to create checkout session. Please try again.",variant:"destructive"})}finally{r(!1),a(null)}},J=async se=>{if(h){const _e=m!=="free",Re="upgrade-tier",{title:Se,description:Ne}=Ro(Re);zi("TRIGGER_SUBSCRIPTION",{planId:p?.id,planName:"pro",billingPeriod:"MONTHLY",planType:"personal",price:p?.monthly_price,currency:"USD",organizationId:se,revenuecatOfferingIdentifier:p?.revenuecat_offering_identifier,triggerLocation:Re,currentTier:m,hasActiveSubscription:_e,title:Se,description:Ne,..._e&&{modalType:"proFeature"}});return}l(!0);try{if(!p?.id)throw new Error("No Subscription available at this moment for this account");D({paymentType:"subscription",currency:"USD",planName:"Pro Plan"});let _e;if(!h){const Se=p?.monthly_price||0;_e=O1("subscription",Se,"USD",Se*12),M1("subscription",Se,"USD"),xo("subscription",_e)}const Re=await vt.createCheckoutSession(0,!0,p?.id,void 0,"USD",_e);Re?.paymentId&&Ju(Re.paymentId,0,"USD","subscription"),Re?.paymentGateway===Vd.PADDLE?(L(),yx(Re.sessionId,Se=>M(Se,"subscription"),n?.email)):Re?.url&&(window.location.href=Re.url)}catch(_e){M(_e.response?.data?.detail||"Failed to create checkout session. Please try again.","subscription"),e({title:"Error",description:_e.response?.data?.detail||"Failed to create checkout session. Please try again.",variant:"destructive"})}finally{l(!1)}},re=async(se,_e,Re)=>{if(h){const Se=m!=="free",Ne="upgrade-tier",{title:ge,description:Ce}=Ro(Ne);zi("TRIGGER_SUBSCRIPTION",{planName:"pro",billingPeriod:"MONTHLY",planType:"personal",currency:se||"USD",revenuecatOfferingIdentifier:p?.revenuecat_offering_identifier,triggerLocation:Ne,currentTier:m,hasActiveSubscription:Se,title:ge,description:Ce,...Se&&{modalType:"proFeature"}});return}l(!0);try{D({paymentType:"subscription",currency:se,planName:"Pro Mode"});let Se=null;if(f?.plans){const Ce=f.plans.emergent_pro;Ce&&(Se=Ce.monthly_plans?.[0]||Ce.yearly_plans?.[0])}else{const Ce=f?.available_plans||f?.personal_plans;Ce&&(Se=Ce.find($e=>$e.tier_name.toLowerCase().includes("pro")))}if(!Se)throw new Error("Emergent Pro plan is not available for upgrade at this moment");let Ne;if(!h){const Ce=Se.monthly_price||0;Ne=O1("subscription",Ce,se||"USD",Ce*12),M1("subscription",Ce,se||"USD"),xo("subscription",Ne)}if(se.toUpperCase()===kn.INR)await Z({amount:0,price:0,selected:!1,discount:0,currency:se||"USD",couponCode:_e},void 0,{isSubscription:!0,planId:Se.id,planName:"pro",planType:"personal",eventId:Ne,litmusConfig:Re});else{const Ce=await vt.createCheckoutSession(0,!0,Se.id,void 0,se||"USD",Ne,_e,!1,Re);Ce?.paymentId&&Ju(Ce.paymentId,0,se||"USD","subscription"),Ce?.paymentGateway===Vd.PADDLE?(L(),yx(Ce.sessionId,$e=>M($e,"subscription"),n?.email)):Ce?.url&&(window.location.href=Ce.url)}}catch(Se){M(Se.response?.data?.detail||Se.message||"An error occurred during upgrade","subscription"),e({title:"Error",description:Se.response?.data?.detail||"Failed to create checkout session. Please try again.",variant:"destructive"})}finally{l(!1)}},xe=(se,_e=3e4)=>Promise.race([se,new Promise((Re,Se)=>setTimeout(()=>Se(new Error("Request timeout")),_e))]),ae=async(se="",_e,Re,Se)=>{if(h){zi("OPEN_MANAGE_SUBSCRIPTION",{});return}l(!0);try{let Ne,ge=!1;if(Se)ge=Se==="razorpay"||Se==="pagbrasil";else{const Ce=_e?.toUpperCase();ge=Ce===kn.INR||Ce===kn.BRL}if(ge)if(Ne=await xe(vt.cancelSubscription(se),3e4),Ne?.status==="success")N(!0),e({title:"Subscription Cancelled",description:Ne.message,variant:"default"});else{const Ce=Ne?.detail||Ne?.message||"Failed to cancel subscription";e({title:"Error",description:Ce,variant:"destructive"})}else Ne=await xe(vt.getManageSubscriptionUrl(void 0),3e4),Ne&&Ne.url?window.location.href=Ne.url:e({title:"Error",description:Ne?.detail||"Failed to get subscription management URL",variant:"destructive"})}catch(Ne){const ge=Ne instanceof Error&&Ne.message==="Request timeout",Ce=Ne?.response?.data?.detail||Ne?.message;jt("manage_subscription_error",Ne,{is_timeout:ge,error_detail:Ce,organization_id:Re}),e({title:"Error",description:ge?"Request timed out. Please try again.":Ce||"Failed to manage subscription",variant:"destructive"})}finally{l(!1)}},Fe=()=>{const se=document.getElementById("razorpay-checkout-script");se&&se.parentNode&&se.parentNode.removeChild(se)};return d.useEffect(()=>()=>{Fe()},[]),{isLoading:s,processingBundleAmount:i,isUpgradeLoading:o,bundles:I,selectedBundleAmount:v,handleBundleSelect:T,getSelectedBundle:A,handleBuyCredits:ee,handleRazorpayPayment:Z,handleUpgradeToPro:J,handleUpgradeToProMode:re,handleManageSubscription:ae,canUseQuickTopup:le,savedCard:he,handleQuickTopup:ce,checkForSavedPaymentMethod:me,quickTopupConfirmation:j,showQuickTopupConfirmation:G,hideQuickTopupConfirmation:$,confirmQuickTopup:te,handleQuickUpgrade:Y,quickUpgradeConfirmation:S,showQuickUpgradeConfirmation:U,hideQuickUpgradeConfirmation:oe,confirmQuickUpgrade:W,paymentModalState:x,showPaymentLoading:D,showPaymentSuccess:O,showPaymentError:M,hidePaymentModals:L,subscriptionPaymentResult:y,showSubscriptionPaymentResult:P,hideSubscriptionPaymentResult:B,subscriptionCancelledSuccessfully:_,setSubscriptionCancelledSuccessfully:N,cleanupRazorpayScript:Fe}}function ck(e,n,s,r,i,a,o){try{var l=e[a](o),c=l.value}catch(u){return void s(u)}l.done?n(c):Promise.resolve(c).then(r,i)}function Ihe(e){return function(){var n=this,s=arguments;return new Promise(function(r,i){var a=e.apply(n,s);function o(c){ck(a,r,i,o,l,"next",c)}function l(c){ck(a,r,i,o,l,"throw",c)}o(void 0)})}}function The(e,n,s){return(n=Mhe(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function dk(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function Ww(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?dk(Object(s),!0).forEach(function(r){The(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dk(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function FH(e,n){if(e==null)return{};var s,r,i=Ahe(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],n.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Ahe(e,n){if(e==null)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;s[r]=e[r]}return s}function Gw(){Gw=function(){return n};var e,n={},s=Object.prototype,r=s.hasOwnProperty,i=Object.defineProperty||function(M,L,P){M[L]=P.value},a=typeof Symbol=="function"?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(M,L,P){return Object.defineProperty(M,L,{value:P,enumerable:!0,configurable:!0,writable:!0}),M[L]}try{u({},"")}catch{u=function(L,P,B){return L[P]=B}}function p(M,L,P,B){var G=L&&L.prototype instanceof b?L:b,$=Object.create(G.prototype),te=new D(B||[]);return i($,"_invoke",{value:E(M,P,te)}),$}function f(M,L,P){try{return{type:"normal",arg:M.call(L,P)}}catch(B){return{type:"throw",arg:B}}}n.wrap=p;var m="suspendedStart",h="suspendedYield",x="executing",g="completed",v={};function b(){}function y(){}function w(){}var _={};u(_,o,function(){return this});var N=Object.getPrototypeOf,j=N&&N(N(O([])));j&&j!==s&&r.call(j,o)&&(_=j);var C=w.prototype=b.prototype=Object.create(_);function S(M){["next","throw","return"].forEach(function(L){u(M,L,function(P){return this._invoke(L,P)})})}function F(M,L){function P(G,$,te,U){var oe=f(M[G],M,$);if(oe.type!=="throw"){var Y=oe.arg,W=Y.value;return W&&typeof W=="object"&&r.call(W,"__await")?L.resolve(W.__await).then(function(Z){P("next",Z,te,U)},function(Z){P("throw",Z,te,U)}):L.resolve(W).then(function(Z){Y.value=Z,te(Y)},function(Z){return P("throw",Z,te,U)})}U(oe.arg)}var B;i(this,"_invoke",{value:function(G,$){function te(){return new L(function(U,oe){P(G,$,U,oe)})}return B=B?B.then(te,te):te()}})}function E(M,L,P){var B=m;return function(G,$){if(B===x)throw Error("Generator is already running");if(B===g){if(G==="throw")throw $;return{value:e,done:!0}}for(P.method=G,P.arg=$;;){var te=P.delegate;if(te){var U=I(te,P);if(U){if(U===v)continue;return U}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(B===m)throw B=g,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);B=x;var oe=f(M,L,P);if(oe.type==="normal"){if(B=P.done?g:h,oe.arg===v)continue;return{value:oe.arg,done:P.done}}oe.type==="throw"&&(B=g,P.method="throw",P.arg=oe.arg)}}}function I(M,L){var P=L.method,B=M.iterator[P];if(B===e)return L.delegate=null,P==="throw"&&M.iterator.return&&(L.method="return",L.arg=e,I(M,L),L.method==="throw")||P!=="return"&&(L.method="throw",L.arg=new TypeError("The iterator does not provide a '"+P+"' method")),v;var G=f(B,M.iterator,L.arg);if(G.type==="throw")return L.method="throw",L.arg=G.arg,L.delegate=null,v;var $=G.arg;return $?$.done?(L[M.resultName]=$.value,L.next=M.nextLoc,L.method!=="return"&&(L.method="next",L.arg=e),L.delegate=null,v):$:(L.method="throw",L.arg=new TypeError("iterator result is not an object"),L.delegate=null,v)}function T(M){var L={tryLoc:M[0]};1 in M&&(L.catchLoc=M[1]),2 in M&&(L.finallyLoc=M[2],L.afterLoc=M[3]),this.tryEntries.push(L)}function A(M){var L=M.completion||{};L.type="normal",delete L.arg,M.completion=L}function D(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(T,this),this.reset(!0)}function O(M){if(M||M===""){var L=M[o];if(L)return L.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length)){var P=-1,B=function G(){for(;++P<M.length;)if(r.call(M,P))return G.value=M[P],G.done=!1,G;return G.value=e,G.done=!0,G};return B.next=B}}throw new TypeError(typeof M+" is not iterable")}return y.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:y,configurable:!0}),y.displayName=u(w,c,"GeneratorFunction"),n.isGeneratorFunction=function(M){var L=typeof M=="function"&&M.constructor;return!!L&&(L===y||(L.displayName||L.name)==="GeneratorFunction")},n.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,w):(M.__proto__=w,u(M,c,"GeneratorFunction")),M.prototype=Object.create(C),M},n.awrap=function(M){return{__await:M}},S(F.prototype),u(F.prototype,l,function(){return this}),n.AsyncIterator=F,n.async=function(M,L,P,B,G){G===void 0&&(G=Promise);var $=new F(p(M,L,P,B),G);return n.isGeneratorFunction(L)?$:$.next().then(function(te){return te.done?te.value:$.next()})},S(C),u(C,c,"Generator"),u(C,o,function(){return this}),u(C,"toString",function(){return"[object Generator]"}),n.keys=function(M){var L=Object(M),P=[];for(var B in L)P.push(B);return P.reverse(),function G(){for(;P.length;){var $=P.pop();if($ in L)return G.value=$,G.done=!1,G}return G.done=!0,G}},n.values=O,D.prototype={constructor:D,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!M)for(var L in this)L.charAt(0)==="t"&&r.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=e)},stop:function(){this.done=!0;var M=this.tryEntries[0].completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var L=this;function P(oe,Y){return $.type="throw",$.arg=M,L.next=oe,Y&&(L.method="next",L.arg=e),!!Y}for(var B=this.tryEntries.length-1;B>=0;--B){var G=this.tryEntries[B],$=G.completion;if(G.tryLoc==="root")return P("end");if(G.tryLoc<=this.prev){var te=r.call(G,"catchLoc"),U=r.call(G,"finallyLoc");if(te&&U){if(this.prev<G.catchLoc)return P(G.catchLoc,!0);if(this.prev<G.finallyLoc)return P(G.finallyLoc)}else if(te){if(this.prev<G.catchLoc)return P(G.catchLoc,!0)}else{if(!U)throw Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return P(G.finallyLoc)}}}},abrupt:function(M,L){for(var P=this.tryEntries.length-1;P>=0;--P){var B=this.tryEntries[P];if(B.tryLoc<=this.prev&&r.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var G=B;break}}G&&(M==="break"||M==="continue")&&G.tryLoc<=L&&L<=G.finallyLoc&&(G=null);var $=G?G.completion:{};return $.type=M,$.arg=L,G?(this.method="next",this.next=G.finallyLoc,v):this.complete($)},complete:function(M,L){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&L&&(this.next=L),v},finish:function(M){for(var L=this.tryEntries.length-1;L>=0;--L){var P=this.tryEntries[L];if(P.finallyLoc===M)return this.complete(P.completion,P.afterLoc),A(P),v}},catch:function(M){for(var L=this.tryEntries.length-1;L>=0;--L){var P=this.tryEntries[L];if(P.tryLoc===M){var B=P.completion;if(B.type==="throw"){var G=B.arg;A(P)}return G}}throw Error("illegal catch attempt")},delegateYield:function(M,L,P){return this.delegate={iterator:O(M),resultName:L,nextLoc:P},this.method==="next"&&(this.arg=e),v}},n}function Dhe(e,n){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Mhe(e){var n=Dhe(e,"string");return typeof n=="symbol"?n:n+""}var Sh={CLASSIC:"classic",V1:"v1"},Rhe=Sh.V1,Lhe="https://cdn.paddle.com/paddle/paddle.js",Phe="https://cdn.paddle.com/paddle/v2/paddle.js",Ohe={url:Lhe},Bhe={url:Phe};function Uhe(e){return document.querySelector('script[src="'.concat(e,'"]'))||void 0}function Hhe(e){var n=document.createElement("script");n.src=e;var s=document.head||document.body;if(!s)throw new Error("Cannot inject Paddle.js. It needs a <head> or <body> element.");return s.appendChild(n),n}var n6={classic:void 0,v1:void 0},Vhe={classic:"PaddleClassic",v1:"PaddleBillingV1"};function $he(e){var n,s=(n=zhe(e))===null||n===void 0?void 0:n.url;if(s){var r=n6[e],i=Vhe[e];return r!==void 0?r:(n6[e]=new Promise(function(a,o){if(typeof window>"u"){a(void 0);return}if(window[i]){a(window[i]);return}try{var l=Uhe(s);l||(l=Hhe(s)),l.addEventListener("load",function(){window[i]?a(window[i]):o(new Error("Paddle.js not available"))}),l.addEventListener("error",function(){o(new Error("Failed to load Paddle.js - ".concat(e)))})}catch(c){o(c);return}}),n6[e])}}function zhe(e){if(e===Sh.CLASSIC)return Ohe;if(e===Sh.V1)return Bhe}var Whe=["environment","version"],Ghe=["environment","version"];function qhe(e,n){var s=e.environment;e.version;var r=FH(e,Whe);try{s&&n.Environment.set(s),n.Initialized?n.Update(Ww({},r)):n.Initialize(Ww({},r))}catch{}}function Khe(e,n){var s=e.environment;e.version;var r=FH(e,Ghe);try{s&&n.Environment.set(s),n.Setup(Ww({},r))}catch{}}var W1;(function(e){e.CHECKOUT_LOADED="checkout.loaded",e.CHECKOUT_CLOSED="checkout.closed",e.CHECKOUT_UPDATED="checkout.updated",e.CHECKOUT_COMPLETED="checkout.completed",e.CHECKOUT_ERROR="checkout.error",e.CHECKOUT_FAILED="checkout.failed",e.CHECKOUT_ITEMS_UPDATED="checkout.items.updated",e.CHECKOUT_ITEMS_REMOVED="checkout.items.removed",e.CHECKOUT_CUSTOMER_CREATED="checkout.customer.created",e.CHECKOUT_CUSTOMER_UPDATED="checkout.customer.updated",e.CHECKOUT_CUSTOMER_REMOVED="checkout.customer.removed",e.CHECKOUT_PAYMENT_SELECTED="checkout.payment.selected",e.CHECKOUT_PAYMENT_INITIATED="checkout.payment.initiated",e.CHECKOUT_PAYMENT_FAILED="checkout.payment.failed",e.CHECKOUT_PAYMENT_ERROR="checkout.payment.error",e.CHECKOUT_DISCOUNT_APPLIED="checkout.discount.applied",e.CHECKOUT_DISCOUNT_REMOVED="checkout.discount.removed",e.CHECKOUT_UPSELL_CANCELED="checkout.upsell.canceled"})(W1||(W1={}));var uk;(function(e){e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year"})(uk||(uk={}));var pk;(function(e){e.ALIPAY="alipay",e.APPLE_PAY="apple-pay",e.CARD="card",e.GOOGLE_PAY="google-pay",e.IDEAL="ideal",e.PAYPAL="paypal",e.WIRE_TRANSFER="wire-transfer",e.NONE="none"})(pk||(pk={}));var fk;(function(e){e.AMERICAN_EXPRESS="american_express",e.DINERS_CLUB="diners_club",e.DISCOVER="discover",e.JCB="jcb",e.MADA="mada",e.MAESTRO="maestro",e.MASTER_CARD="mastercard",e.UNION_PAY="union_pay",e.VISA="visa",e.UNKNOWN="unknown"})(fk||(fk={}));var mk;(function(e){e.DRAFT="draft",e.READY="ready",e.COMPLETED="completed",e.BILLED="billed",e.canceled="canceled",e.PAST_DUE="past_due"})(mk||(mk={}));function Yhe(e){return qw.apply(this,arguments)}function qw(){return qw=Ihe(Gw().mark(function e(n){var s,r;return Gw().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n?.version||Rhe,a.next=3,$he(s);case 3:if(r=a.sent,!r){a.next=9;break}return n&&(s===Sh.V1?qhe(n,r):s===Sh.CLASSIC&&Khe(n,r)),a.abrupt("return",r);case 9:return a.abrupt("return");case 11:case"end":return a.stop()}},e)})),qw.apply(this,arguments)}const hk={SUCCESS:"success",CANCELLED:"cancelled"},s6={SUBSCRIPTION:"subscription",PAYMENT:"payment"};let r6=!1,i6=!1,Mc=null,G1=null;const xk=1e4;function tC(){G1&&(clearTimeout(G1),G1=null)}function Zhe(){tC(),Mc=null}function Jhe(e){tC(),Mc=e,G1=setTimeout(()=>{if(Mc){jt(Zt.PADDLE.CHECKOUT_LOAD_TIMEOUT,new Error("Paddle checkout load timeout"),{timeout_ms:xk});const n=Mc;Mc=null,G1=null,n()}},xk)}function gk(e,n,s,r){const i=new URLSearchParams;return e&&i.set("payment_id",e),i.set("payment_status",n),i.set("mode",s),r&&i.set("organization_id",r),`${window.location.origin}/home?${i.toString()}`}function Xhe(e,n,s,r,i,a){try{i?(E2(e,n,s,r),b2(e,n,s,r)):F2(e,n,s,r)}catch(o){jt(Zt.PADDLE.PIXEL_TRACKING,o,{event_name:a,payment_id:n,is_subscription:i,amount:s,currency:r})}}function Qhe(e){const n=e.data?.custom_data;if(e.name===W1.CHECKOUT_LOADED){if(r6=!1,i6=!1,tC(),Mc){const s=Mc;Mc=null,requestAnimationFrame(()=>{requestAnimationFrame(s)})}return}if(e.name===W1.CHECKOUT_COMPLETED){r6=!0;const s=n?.payment_id,r=n?.mode||s6.PAYMENT,i=n?.organization_id,a=r===s6.SUBSCRIPTION,o=n?.amount?parseFloat(n.amount):e.data?.totals?.total?e.data.totals.total/100:0,l=e.data?.currency_code||"USD",c=$d(a?"subscription":"credits");c&&s&&o>0&&Xhe(c,s,o,l,a,e.name||"checkout.completed"),window.location.href=gk(s,hk.SUCCESS,r,i);return}if(e.name===W1.CHECKOUT_CLOSED&&!i6){if(i6=!0,r6)return;const s=n?.payment_id,r=n?.mode||s6.PAYMENT,i=n?.organization_id;window.location.href=gk(s,hk.CANCELLED,r,i);return}}let bk;async function e0e(){if(!bk)try{bk=await Yhe({token:w4.clientToken,environment:w4.environment,eventCallback:Qhe})}catch(e){jt(Zt.PADDLE.INITIALIZATION,e,{environment:w4.environment,has_token:!0})}}const a6=({response:e,planId:n,planName:s,hidePaymentModals:r,toast:i,errorMetadata:a={},onBeforeCheckout:o,email:l})=>{if(e?.paymentGateway===Vd.PADDLE){const c=e.sessionId;if(!c)return r(),jt(Zt.PADDLE.MISSING_TRANSACTION_ID,new Error("Missing Paddle transaction ID"),{plan_id:n,plan_name:s,response_keys:Object.keys(e||{}).join(","),...a}),i({title:"Error",description:P1.PADDLE_MISSING_TRANSACTION_ID,variant:"destructive"}),!0;if(!window.Paddle)return r(),jt(Zt.PADDLE.NOT_INITIALIZED,new Error("Paddle SDK not available"),{plan_id:n,plan_name:s,...a}),i({title:"Error",description:P1.PADDLE_NOT_AVAILABLE,variant:"destructive"}),!0;Jhe(r),o?.();try{window.Paddle.Checkout.open({transactionId:c,...l&&{customer:{email:l}},settings:{variant:"one-page"}})}catch(u){Zhe(),r(),jt(Zt.PADDLE.CHECKOUT,u,{plan_id:n,plan_name:s,transaction_id:c,...a}),i({title:"Error",description:P1.PADDLE_CHECKOUT_FAILED,variant:"destructive"})}return!0}else return e?.url?(o?.(),window.location.href=e.url,!0):(r(),!1)},gl=()=>{const e=localStorage.getItem("preferred_currency");if(e)return e;const s=new URLSearchParams(window.location.search).get("currency");return s?s.toUpperCase():kn.USD},u0=e=>e?.payment_provider?e.payment_provider:null,nC=(e,n=kn.USD)=>{const s=u0(e);return s?s==="razorpay":(n||kn.USD).toUpperCase()===kn.INR},sC=(e,n=kn.USD)=>{const s=u0(e);return s?s==="pagbrasil":(n||kn.USD).toUpperCase()===kn.BRL},c3=e=>u0(e)==="paddle",p0=(e,n=kn.USD)=>{const s=u0(e);if(s)return s==="stripe";const r=(n||kn.USD).toUpperCase();return r!==kn.INR&&r!==kn.BRL},t0e=(e,n=kn.USD)=>{const s=u0(e);if(s)return s==="pagbrasil"?"pag_brazil":s;const r=(n||kn.USD).toUpperCase();return r===kn.INR?"razorpay":r===kn.BRL?"pag_brazil":"stripe"},Kw="promoCouponCode_",Yw="promoCouponError_";let rC=!1;if(typeof window<"u"){const e="promoCouponCode",n="promoCouponError";(localStorage.getItem(e)||localStorage.getItem(n))&&(localStorage.removeItem(e),localStorage.removeItem(n))}const q1=new Map;function n0e(e){return q1.has(e)||q1.set(e,new Set),q1.get(e)}function s0e(e){return n=>{const s=n0e(e);return s.add(n),()=>s.delete(n)}}function r0e(e){const n=q1.get(e);n&&n.forEach(s=>s())}function i0e(){return rC}function yk(e){rC=e,q1.forEach(n=>{n.forEach(s=>s())})}function a0e(e){return()=>typeof window>"u"?null:localStorage.getItem(Kw+e)}function o0e(e){return()=>typeof window>"u"?null:localStorage.getItem(Yw+e)}function iC(e,n,s){const r=d.useMemo(()=>s0e(s),[s]),i=d.useMemo(()=>a0e(s),[s]),a=d.useMemo(()=>o0e(s),[s]),o=d.useSyncExternalStore(r,i,()=>null),l=d.useSyncExternalStore(r,a,()=>null),c=d.useSyncExternalStore(r,i0e,()=>!1),u=d.useCallback((f,m=null)=>{f?localStorage.setItem(Kw+s,f):localStorage.removeItem(Kw+s),m?localStorage.setItem(Yw+s,m):localStorage.removeItem(Yw+s),r0e(s)},[s]),p=d.useCallback(async()=>{if(rC)return{coupon:null,error:null};yk(!0);try{const f=await vt.getPromoCoupon(z9()||"",e);return f?(u(f,null),{coupon:f,error:null}):(u(n,null),{coupon:n,error:null})}catch(f){const m=f?.response?.data?.detail||f?.response?.data?.message||"Unable to generate coupon code";return u(n,m),{coupon:n,error:m}}finally{yk(!1)}},[e,n,u]);return{couponCode:o,isLoading:c,error:l,setCouponCode:u,generateCoupon:p}}const l0e="e2d58c52-f624-42e7-a5b7-88397904d8fd",c0e="GOOGLE20";function EH(){return iC(l0e,c0e,"full_discount")}const SH=d.createContext(null),uo={SUCCESS:"success",ERROR:"error",INFO:"info"},Oa={TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right"},d0e=({color:e="#5FE55C"})=>t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M10 19C8.755 19 7.585 18.7638 6.49 18.2913C5.395 17.8188 4.4425 17.1775 3.6325 16.3675C2.8225 15.5575 2.18125 14.605 1.70875 13.51C1.23625 12.415 1 11.245 1 10C1 8.755 1.23625 7.585 1.70875 6.49C2.18125 5.395 2.8225 4.4425 3.6325 3.6325C4.4425 2.8225 5.395 2.18125 6.49 1.70875C7.585 1.23625 8.755 1 10 1C11.245 1 12.415 1.23625 13.51 1.70875C14.605 2.18125 15.5575 2.8225 16.3675 3.6325C17.1775 4.4425 17.8188 5.395 18.2913 6.49C18.7638 7.585 19 8.755 19 10C19 11.245 18.7638 12.415 18.2913 13.51C17.8188 14.605 17.1775 15.5575 16.3675 16.3675C15.5575 17.1775 14.605 17.8188 13.51 18.2913C12.415 18.7638 11.245 19 10 19Z",fill:e}),t.jsx("path",{d:"M13.7155 7C13.8953 7 14.0623 7.03135 14.2164 7.09406C14.3706 7.15677 14.5076 7.24666 14.6275 7.36371C14.7474 7.48077 14.8373 7.61246 14.8972 7.75878C14.9572 7.9051 14.9914 8.07023 15 8.25418C15 8.4214 14.9679 8.58236 14.9037 8.73704C14.8394 8.89172 14.7474 9.02759 14.6275 9.14465L9.52794 14.13C9.40805 14.2471 9.26889 14.337 9.11047 14.3997C8.95204 14.4624 8.7872 14.4958 8.61593 14.5C8.44466 14.5 8.27981 14.4686 8.12139 14.4059C7.96296 14.3432 7.82381 14.2513 7.70392 14.13L5.37893 11.8599C5.25905 11.7429 5.16699 11.607 5.10276 11.4523C5.03854 11.2977 5.00428 11.1367 5 10.9695C5 10.7939 5.03425 10.6309 5.10276 10.4804C5.17127 10.3298 5.26333 10.1961 5.37893 10.079C5.49454 9.96196 5.62942 9.87416 5.78356 9.81564C5.9377 9.75711 6.10683 9.72366 6.29094 9.7153C6.46221 9.7153 6.62706 9.74666 6.78548 9.80936C6.94391 9.87207 7.08307 9.96196 7.20295 10.079L8.61593 11.4586L12.8035 7.36371C12.9234 7.24666 13.0625 7.15677 13.2209 7.09406C13.3794 7.03135 13.5442 7 13.7155 7Z",fill:"#172218"})]}),u0e=({color:e="#5FE55C"})=>t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.42462 4.42462C4.76684 4.08242 5.32167 4.08242 5.66389 4.42462L10.0013 8.76204L14.3387 4.42462C14.6809 4.08242 15.2357 4.08242 15.578 4.42462C15.9202 4.76684 15.9202 5.32167 15.578 5.66388L11.2405 10.0013L15.578 14.3386C15.9202 14.6809 15.9202 15.2357 15.578 15.578C15.2357 15.9202 14.6809 15.9202 14.3387 15.578L10.0013 11.2405L5.66389 15.578C5.32167 15.9202 4.76684 15.9202 4.42462 15.578C4.08242 15.2357 4.08242 14.6809 4.42462 14.3386L8.76205 10.0013L4.42462 5.66388C4.08242 5.32167 4.08242 4.76684 4.42462 4.42462Z",fill:e})}),p0e=({toast:e,onRemove:n,position:s})=>{const[r,i]=d.useState(!0),a=()=>{switch(e.type){case uo.SUCCESS:return t.jsx(d0e,{});case uo.ERROR:return null;default:return null}},o=()=>{switch(e.type){case uo.SUCCESS:return{background:"radial-gradient(50% 50% at 50% 50%, rgba(95, 229, 92, 0.15) 0%, rgba(95, 229, 92, 0.08) 100%)",backdropFilter:"blur(25px)"};case uo.ERROR:return{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 128, 128, 0.15) 0%, rgba(255, 128, 128, 0.08) 100%)",backdropFilter:"blur(25px)"};default:return{background:"radial-gradient(50% 50% at 50% 50%, rgba(95, 229, 92, 0.15) 0%, rgba(95, 229, 92, 0.08) 100%)",backdropFilter:"blur(25px)"}}},l=()=>{switch(e.type){case uo.SUCCESS:return"#5FE55C";case uo.ERROR:return"#FF8080";default:return"#5FE55C"}},c=()=>{switch(e.type){case uo.SUCCESS:return"0 0 20px rgba(95, 229, 92, 0.20)";case uo.ERROR:return"0 0 20px rgba(239, 68, 68, 0.20)";default:return"0 0 20px rgba(95, 229, 92, 0.20)"}},u=()=>{const f="data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-80 duration-300";switch(s){case Oa.TOP_LEFT:case Oa.BOTTOM_LEFT:return`${f} data-[state=open]:slide-in-from-left-full data-[state=closed]:slide-out-to-left-full data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)]`;case Oa.TOP_RIGHT:case Oa.BOTTOM_RIGHT:return`${f} data-[state=open]:slide-in-from-right-full data-[state=closed]:slide-out-to-right-full data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)]`;case Oa.TOP_CENTER:return`${f} data-[state=open]:slide-in-from-top-full data-[state=closed]:slide-out-to-top-full data-[swipe=end]:translate-y-[var(--radix-toast-swipe-end-y)]`;case Oa.BOTTOM_CENTER:return`${f} data-[state=open]:slide-in-from-bottom-full data-[state=closed]:slide-out-to-bottom-full data-[swipe=end]:translate-y-[var(--radix-toast-swipe-end-y)]`;default:return`${f} data-[state=open]:slide-in-from-bottom-full data-[state=closed]:slide-out-to-bottom-full data-[swipe=end]:translate-y-[var(--radix-toast-swipe-end-y)]`}},p=f=>{i(f),f||setTimeout(()=>n(e.id),300)};return t.jsxs(K8,{open:r,onOpenChange:p,duration:Math.min(e.duration||2e3,2e3),className:`flex items-center p-4 rounded-xl min-w-fit pointer-events-auto ${u()}`,style:o(),children:[a(),t.jsx(Y8,{className:"ml-2 text-[16px] flex-1 font-medium leading-5 whitespace-pre-line break-words",style:{color:l(),textShadow:c(),fontFamily:'Brockmann, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSize:"16px",fontWeight:"500",lineHeight:"20px",letterSpacing:"-0.2px"},children:e.message}),t.jsx(Z8,{title:"Close","aria-label":"Close",className:"flex-shrink-0 ml-6 transition-opacity cursor-pointer pointer-events-auto opacity-60 hover:opacity-80",children:t.jsx(u0e,{color:l()})})]})},f0e=e=>{const n="fixed z-[99999] flex flex-col gap-3 outline-none max-md:left-2 max-md:right-2";switch(e){case Oa.TOP_LEFT:return`${n} top-4 left-4 max-md:w-auto`;case Oa.TOP_CENTER:return`${n} top-4 left-1/2 -translate-x-1/2 max-md:transform-none max-md:translate-x-0`;case Oa.TOP_RIGHT:return`${n} top-4 right-4`;case Oa.BOTTOM_LEFT:return`${n} bottom-4 left-4 flex-col-reverse max-md:w-auto`;case Oa.BOTTOM_CENTER:return`${n} bottom-4 left-1/2 -translate-x-1/2 flex-col-reverse max-md:transform-none max-md:translate-x-0`;case Oa.BOTTOM_RIGHT:return`${n} bottom-4 right-4 flex-col-reverse`;default:return`${n} bottom-4 left-1/2 -translate-x-1/2 flex-col-reverse max-md:transform-none max-md:translate-x-0`}},m0e=e=>e.startsWith("top")?"up":"down",h0e=({toasts:e,removeToast:n,position:s})=>t.jsxs(IM,{swipeDirection:m0e(s),duration:2e3,children:[e.map(r=>t.jsx(p0e,{toast:r,onRemove:n,position:s},r.id)),t.jsx(q8,{className:f0e(s)})]}),x0e=({children:e})=>{const[n,s]=d.useState([]),[r,i]=d.useState(Oa.BOTTOM_CENTER),a=(p,f=uo.SUCCESS,m=2e3,h)=>{const x=Date.now()+Math.random(),g=Math.min(m,2e3),v={id:x,message:p,type:f,duration:g,uniqueId:h};return s(b=>{if(h){const y=b.findIndex(w=>w.uniqueId===h);if(y!==-1){const w=[...b];return w[y]=v,w}}return[...b,v]}),x},o=p=>{s(f=>f.filter(m=>m.id!==p))},u={addToast:a,removeToast:o,removeAllToasts:()=>{s([])},toasts:n,position:r,changePosition:p=>{i(p)}};return t.jsxs(SH.Provider,{value:u,children:[e,t.jsx(h0e,{toasts:n,removeToast:o,position:r})]})},Ga=()=>{const e=d.useContext(SH);if(!e)throw new Error("useNewToast must be used within a ToastProvider");const{addToast:n,removeToast:s,removeAllToasts:r,changePosition:i}=e;return{newToast:{success:(a,o,l)=>n(a,uo.SUCCESS,o,l),error:(a,o,l)=>n(a,uo.ERROR,o,l),info:(a,o,l)=>n(a,uo.INFO,o,l)},removeToast:s,removeAllToasts:r,changePosition:i}};function Uf(){const{personalPlansResponse:e,loading:n}=xs(),{userDetails:s}=os(),{showPaymentLoading:r,hidePaymentModals:i,paymentModalState:a}=d0(),{newToast:o}=Ga(),l=d.useRef(gl()),{data:c,isLoading:u}=Wa(void 0,{skip:!s}),{generateCoupon:p,couponCode:f,error:m}=EH(),h=p0(s,l.current),x=e?.promotional_setup_plan_id,g=c?.full_discount_standard===!0&&!!x&&h,v=g&&!m,b=d.useCallback(async w=>{if(!(!g||!x)){r({paymentType:"subscription",currency:l.current,planName:"Standard"});try{const _=QK(),{coupon:N,error:j}=await p();if(j){i();return}if(!N){i(),o.error("Failed to start checkout. Please try again."),jt(Zt.PROMOTIONAL_SETUP.CHECKOUT,new Error("Coupon generation failed"),{trigger_location:w});return}H(xu.CHECKOUT_INITIATED,{trigger_location:w,plan_id:x});const{url:C}=await vt.createCheckoutSession(0,!0,x,void 0,l.current,_,N,!1);C?(H(xu.CHECKOUT_REDIRECT,{trigger_location:w,plan_id:x}),HO(),window.location.href=C):i()}catch(_){i(),o.error("Failed to start checkout. Please try again."),jt(Zt.PROMOTIONAL_SETUP.CHECKOUT,_,{trigger_location:w,plan_id:x})}}},[g,x,r,i,p,o]);return{isEligible:g,isLoading:n||u,planId:x,createCheckoutAndRedirect:b,paymentModalState:a,couponCode:f,couponError:m,canUsePromotionalSetup:v}}var g0e="container_f5d1e6",b0e="inner_0ac679",tp="dot_88b245";const no=({size:e=40,color:n="black",speed:s=1.5})=>t.jsx("div",{className:g0e,style:{"--uib-size":e+"px","--uib-color":n,"--uib-speed":s+"s"},children:t.jsxs("div",{className:b0e,children:[t.jsx("div",{className:tp}),t.jsx("div",{className:tp}),t.jsx("div",{className:tp}),t.jsx("div",{className:tp}),t.jsx("div",{className:tp}),t.jsx("div",{className:tp})]})});var y0e="container_2e2e0b",v0e="inner_010d1a";const w0e=({size:e=40,color:n="black",speed:s=.9,stroke:r=5})=>t.jsx("div",{className:y0e,style:{"--uib-size":e+"px","--uib-color":n,"--uib-speed":s+"s","--uib-stroke":r+"px"},children:t.jsx("div",{className:v0e})});function Hf({isOpen:e,paymentType:n,amount:s,planName:r,isQuickTopup:i}){const a=()=>n==="credits"?`Processing ${s} credits purchase`:"Setting up your",o=()=>n==="subscription"?r||"Pro":null,l=()=>n==="credits"?i?"Please wait while we verify your payment":"Redirecting to payment gateway, please wait...":"This will just take a moment";return d.useEffect(()=>{e&&H(qn.MODAL_EVENTS.PAYMENT_LOADING_MODAL_OPENED,{paymentType:n,amount:s,planName:r})},[e,n,s,r]),t.jsx(as,{open:e,children:t.jsx(Cr,{children:t.jsx(Kn,{children:t.jsxs("div",{className:"fixed inset-0 z-[10002]",children:[t.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-[#18181A]"}),t.jsx("div",{className:"relative w-full h-full overflow-y-auto",children:t.jsx(fe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"min-h-full w-full flex items-center justify-center bg-[#18181A] px-4 py-8",onClick:c=>c.stopPropagation(),children:t.jsx("div",{className:"relative max-w-[90%] md:max-w-[611px] bg-[#1C1C1F] text-white border-[#2E2F34] p-6 md:p-[94px] md:px-[120px] rounded-[20px] w-full min-h-[400px] md:min-h-[500px] flex flex-col justify-center",children:t.jsx("div",{className:"flex flex-col items-center justify-center py-6 flex-1",children:t.jsxs(fe.div,{className:"flex flex-col items-center justify-center gap-[48px] font-brockmann",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.jsx("div",{className:"relative",children:t.jsx(no,{size:"32",speed:"1.75",color:"#80FFF9"})}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsxs("div",{className:"flex items-center flex-col",children:[t.jsx("p",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-white",children:a()}),o()&&t.jsxs("span",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-[#F3CA5F] drop-shadow-[0px_0px_20px_rgba(243,202,95,0.4)] [text-shadow:0px_0.73px_0.73px_rgba(0,0,0,0.1)]",children:[o()," plan"]})]}),t.jsx("span",{className:"font-['Inter'] mt-2 font-medium text-[16px] leading-[20px] text-[#FFFFFF]/60 text-center",children:l()})]})]})})})})})]})})})})}const kH=({size:e,width:n=21,height:s=20,color:r="black",fill:i,className:a="",style:o,onClick:l,...c})=>{const u=e||n,p=e||s,f=i||r;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:u,height:p,viewBox:"0 0 21 20",fill:"none",className:a,style:o,onClick:l,...c,children:[t.jsx("path",{d:"M5.5 18C4.94772 18 4.5 17.5523 4.5 17L4.5 16L16.5 16L16.5 17C16.5 17.5523 16.0523 18 15.5 18L5.5 18Z",fill:f,fillOpacity:"0.6"}),t.jsx("path",{d:"M4.5 18L4.5 16L4.5 18ZM16.5 16L16.5 18L16.5 16ZM16.5 18L4.5 18L16.5 18ZM4.5 15.25L16.5 15.25L16.5 16.75L4.5 16.75L4.5 15.25Z",fill:f}),t.jsx("rect",{x:"4.5",y:"18",width:"16",height:"12",rx:"2",transform:"rotate(-90 4.5 18)",stroke:f,strokeWidth:"1.5"})]})},C0e=({color:e="currentColor",className:n="w-6 h-6"})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:t.jsx("path",{d:"M14 20H6.5C4.98333 20 3.6875 19.475 2.6125 18.425C1.5375 17.375 1 16.0917 1 14.575C1 13.275 1.39167 12.1167 2.175 11.1C2.95833 10.0833 3.98333 9.43333 5.25 9.15C5.66667 7.61667 6.5 6.375 7.75 5.425C9 4.475 10.4167 4 12 4C13.7667 4 15.3042 4.57083 16.6125 5.7125C17.9208 6.85417 18.6917 8.28333 18.925 10C18.575 10 18.2375 10.0375 17.9125 10.1125C17.5875 10.1875 17.275 10.2917 16.975 10.425C16.8417 9.175 16.3 8.125 15.35 7.275C14.4 6.425 13.2833 6 12 6C10.6167 6 9.4375 6.4875 8.4625 7.4625C7.4875 8.4375 7 9.61667 7 11H6.5C5.53333 11 4.70833 11.3417 4.025 12.025C3.34167 12.7083 3 13.5333 3 14.5C3 15.4667 3.34167 16.2917 4.025 16.975C4.70833 17.6583 5.53333 18 6.5 18H14V20ZM17 20C16.7167 20 16.4792 19.9042 16.2875 19.7125C16.0958 19.5208 16 19.2833 16 19V16C16 15.7167 16.0958 15.4792 16.2875 15.2875C16.4792 15.0958 16.7167 15 17 15V14C17 13.45 17.1958 12.9792 17.5875 12.5875C17.9792 12.1958 18.45 12 19 12C19.55 12 20.0208 12.1958 20.4125 12.5875C20.8042 12.9792 21 13.45 21 14V15C21.2833 15 21.5208 15.0958 21.7125 15.2875C21.9042 15.4792 22 15.7167 22 16V19C22 19.2833 21.9042 19.5208 21.7125 19.7125C21.5208 19.9042 21.2833 20 21 20H17ZM18 15H20V14C20 13.7167 19.9042 13.4792 19.7125 13.2875C19.5208 13.0958 19.2833 13 19 13C18.7167 13 18.4792 13.0958 18.2875 13.2875C18.0958 13.4792 18 13.7167 18 14V15Z",fill:e})}),Ho=({size:e=24,width:n,height:s,color:r="#4D4D4D",fill:i,className:a,style:o,onClick:l,...c})=>{const u=n||e,p=s||e,f=i||r;return t.jsx("svg",{width:u,height:p,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:o,onClick:l,...c,children:t.jsx("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12.5107 7.7373C12.1812 6.92076 11.9035 6.64719 11.5078 7.62207C10.6422 9.69969 9.60868 10.6895 7.57422 11.5469C7.36996 11.6412 7.00239 11.8057 7 12C7.00264 12.1942 7.36761 12.3578 7.57422 12.4521C9.60626 13.3071 10.6422 14.3002 11.5078 16.3779C11.9082 17.37 12.1869 17.0582 12.5107 16.2627C13.3788 14.2545 14.3482 13.3223 16.3955 12.4521C16.61 12.3499 16.9637 12.2143 17 12.0107V11.9873C16.9641 11.785 16.6125 11.6473 16.3955 11.5449V11.5469C14.3485 10.6768 13.3787 9.74605 12.5107 7.7373Z",fill:f})})},Gr=({size:e=20,color:n="#80FFF9",className:s,style:r})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,style:r,children:t.jsx("path",{d:"M4.4 10H3.6L3.6 16.4C3.6 16.8243 3.76857 17.2313 4.06863 17.5314C4.36869 17.8314 4.77565 18 5.2 18H9.2V10H4.4ZM14.8 10H10.8V18H14.8C15.2243 18 15.6313 17.8314 15.9314 17.5314C16.2314 17.2313 16.4 16.8243 16.4 16.4V10H14.8ZM15.4328 6C15.5491 5.61081 15.6055 5.20617 15.6 4.8C15.6 3.256 14.344 2 12.8 2C11.5024 2 10.636 3.1856 10.0768 4.468C9.5256 3.256 8.6152 2 7.2 2C5.656 2 4.4 3.256 4.4 4.8C4.4 5.2768 4.4632 5.6712 4.5672 6H2L2 9.2H9.2V7.6H10.8V9.2H18V6H15.4328ZM6 4.8C6 4.1384 6.5384 3.6 7.2 3.6C7.9104 3.6 8.5712 4.82 8.9584 6H6.8C6.5008 6 6 6 6 4.8ZM12.8 3.6C13.4616 3.6 14 4.1384 14 4.8C14 6 13.4992 6 13.2 6H11.2184C11.6264 4.7392 12.2192 3.6 12.8 3.6Z",fill:n})});function _0e({className:e,color:n="currentColor",size:s=20}){return t.jsx("svg",{className:e,width:s,height:s,viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 0C4.477 0 0 4.477 0 10c0 4.42 2.865 8.166 6.839 9.489.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.342-3.369-1.342-.454-1.155-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.268 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.026 2.747-1.026.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C17.137 18.163 20 14.418 20 10c0-5.523-4.477-10-10-10z",fill:n})})}const j0e=({className:e})=>t.jsx("img",{src:K.fork.fork,alt:"",className:e,style:{filter:"brightness(0) saturate(100%) invert(70%) sepia(5%) saturate(429%) hue-rotate(182deg)"}}),N0e=[{icon:kH,label:"Mobile App Development"},{icon:C0e,label:"Private Project Hosting"},{icon:_0e,label:"GitHub Integration"},{icon:j0e,label:"Fork Tasks"},{icon:Ho,label:"Ability to buy additional credits"}];function F0e(){const e=new Date;return e.setDate(e.getDate()+30),e.toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})}function IH({isOpen:e,onOpenChange:n}){const{createCheckoutAndRedirect:s,paymentModalState:r,couponCode:i,couponError:a}=Uf(),{isMobile:o}=ts(),[l,c]=d.useState(!1),u=F0e(),p=!!a&&!!i,f=()=>{H(xu.FREE_TRIAL_MODAL_CTA_CLICKED),s("unlockStandardPlanModal")},m=()=>{i&&(navigator.clipboard.writeText(i),c(!0),setTimeout(()=>c(!1),1e3))},h=()=>{H(xu.FREE_TRIAL_MODAL_DISMISSED),n(!1)};return t.jsxs(t.Fragment,{children:[t.jsx(Hf,{isOpen:r.isLoading,onOpenChange:()=>{},paymentType:"subscription",planName:r.planName,currency:r.currency}),t.jsx(as,{open:e,onOpenChange:x=>!x&&h(),children:t.jsx(Er,{"data-testid":er.unlockStandardPlan.modal,className:"w-[95vw] max-w-[850px] md:h-[540px] max-h-[90vh] overflow-hidden rounded-2xl border border-[#242424] bg-[#1c1c1f] shadow-2xl p-0",children:t.jsxs("div",{className:k("flex h-full",o?"flex-col":"flex-row"),children:[t.jsxs("div",{"data-testid":er.unlockStandardPlan.leftPanel,className:k("flex flex-col",o?"order-1 p-6 pb-4":"justify-between p-8 w-[45%]"),children:[t.jsxs("div",{className:k("flex flex-col",o?"gap-0":"gap-10"),children:[t.jsxs("div",{className:"flex flex-col leading-9 tracking-[-0.52px]",children:[t.jsx("span",{className:k("font-medium bg-gradient-to-r from-[#fce9ed] via-[#ebcadf] to-[#dcf3fb] bg-clip-text text-transparent",o?"text-[22px]":"text-[26px]"),children:"Unlock the Standard Plan"}),t.jsxs("span",{className:k("font-medium text-white/80",o?"text-[22px]":"text-[26px]"),children:["Try it free for 30 days.",t.jsx("br",{}),"Cancel anytime."]})]}),!o&&t.jsx("div",{"data-testid":er.unlockStandardPlan.featureList,className:"flex flex-col gap-5",children:N0e.map((x,g)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(x.icon,{className:"w-5 h-5",color:"#9CA3AF"}),t.jsx("span",{className:"text-sm font-medium text-white leading-5",children:x.label})]},g))})]}),!o&&t.jsx("div",{className:"flex flex-col gap-5 items-center mt-8",children:p?t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-[13px] font-medium text-white/60 text-center leading-5",children:["You've already redeemed the free trial.",t.jsx("br",{}),"Here's another great deal you can use."]}),t.jsxs("div",{className:"flex items-center gap-2 w-full",children:[t.jsx("div",{className:"flex-1 flex items-center justify-center h-12 bg-white/10 rounded-[10px] text-white text-lg font-semibold tracking-[-0.5px]",children:i}),t.jsxs("button",{onClick:m,className:"flex items-center justify-center gap-2 h-12 px-5 bg-white rounded-[10px] shadow-[0px_0.727px_0.727px_0px_rgba(0,0,0,0.1),0px_0px_20px_0px_rgba(255,255,255,0.4),inset_0px_-1.455px_0px_0px_rgba(0,0,0,0.2),inset_0px_2.182px_3.636px_0px_rgba(255,255,255,0.4)] hover:-translate-y-0.5 transition-transform text-black text-base font-semibold tracking-[-0.5px]",children:[t.jsx(Di,{className:"w-5 h-5"}),l?"Copied!":"Copy"]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{"data-testid":er.unlockStandardPlan.ctaButton,onClick:f,disabled:r.isLoading,className:"flex items-center justify-center gap-2 h-12 w-full bg-white rounded-[10px] shadow-[0px_0.727px_0.727px_0px_rgba(0,0,0,0.1),0px_0px_20px_0px_rgba(255,255,255,0.4),inset_0px_-1.455px_0px_0px_rgba(0,0,0,0.2),inset_0px_2.182px_3.636px_0px_rgba(255,255,255,0.4)] hover:-translate-y-0.5 transition-transform text-black text-lg font-semibold tracking-[-0.5px] disabled:opacity-50 disabled:cursor-not-allowed",children:["Start Free Trial",t.jsx(Cl,{className:"w-6 h-6",strokeWidth:2})]}),t.jsxs("p",{className:"text-[13px] font-medium text-white/40 text-center leading-5",children:["Start today. Cancel before ",u,t.jsx("br",{}),"and you will not be charged."]})]})})]}),t.jsxs("div",{"data-testid":er.unlockStandardPlan.rightPanel,className:k("relative overflow-hidden",o?"order-2 flex-1 flex flex-col":"flex-1"),children:[t.jsx("img",{src:"/unlock-standard-plan-bg.webp",alt:"",className:"absolute inset-0 w-full h-full object-cover"}),t.jsx("div",{"data-testid":er.unlockStandardPlan.timeline,className:k("relative z-10",o?"flex-1 p-6 pt-4":"absolute left-10 top-[182px]"),children:t.jsxs("div",{className:k("flex",o?"gap-3":"gap-4"),children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:k("rounded-full bg-[#e57873] flex items-center justify-center shrink-0",o?"w-8 h-8":"w-10 h-10"),children:t.jsx(Gr,{size:o?20:27,color:"white"})}),t.jsx("div",{className:k("w-1 bg-white relative",o?"h-[90px]":"h-[122px]"),children:t.jsx("div",{className:k("absolute top-[-1px] left-0 w-1 bg-[#e57873] rounded-[10px]",o?"h-[45px]":"h-[62px]")})}),t.jsx("div",{className:k("rounded-full bg-white flex items-center justify-center shrink-0",o?"w-8 h-8":"w-10 h-10"),children:t.jsx(Oi,{className:k(o?"w-5 h-5":"w-[26.67px] h-[26.67px]"),color:"#e57873"})})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:k("flex flex-col gap-1",o?"h-[75px]":"h-[100px]"),children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:k("font-semibold text-black leading-6",o?"text-sm":"text-base"),children:"Today"}),t.jsx("span",{className:k("font-semibold text-black leading-6",o?"text-sm":"text-base"),children:"Free trial for 30 days. Cancel anytime."})]}),t.jsx("p",{className:k("font-medium text-black/60 leading-5",o?"text-xs w-auto":"text-sm w-[273px]"),children:"Start your free Emergent Standard trial and unlock our most powerful features."})]}),t.jsx("div",{className:k(o?"h-[45px]":"h-[62px]")}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:k("font-semibold text-black leading-6",o?"text-sm":"text-base"),children:u}),t.jsx("p",{className:k("font-medium text-black/60 leading-5",o?"text-xs w-auto":"text-sm w-[273px]"),children:"Your subscription begins unless you cancel before this date."})]})]})]})})]}),o&&t.jsx("div",{className:"order-3 bg-[#1c1c1f] px-6 py-5",children:p?t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-xs font-medium text-white/60 text-center leading-5 mb-3",children:["You've already redeemed the free trial.",t.jsx("br",{}),"Here's another great deal you can use."]}),t.jsxs("div",{className:"flex items-center gap-2 w-full",children:[t.jsx("div",{className:"flex-1 flex items-center justify-center h-12 bg-white/10 rounded-[10px] text-white text-base font-semibold tracking-[-0.5px]",children:i}),t.jsxs("button",{onClick:m,className:"flex items-center justify-center gap-2 h-12 px-4 bg-white rounded-[10px] shadow-[0px_0.727px_0.727px_0px_rgba(0,0,0,0.1),0px_0px_20px_0px_rgba(255,255,255,0.4),inset_0px_-1.455px_0px_0px_rgba(0,0,0,0.2),inset_0px_2.182px_3.636px_0px_rgba(255,255,255,0.4)] hover:-translate-y-0.5 transition-transform text-black text-sm font-semibold tracking-[-0.5px]",children:[t.jsx(Di,{className:"w-4 h-4"}),l?"Copied!":"Copy"]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{"data-testid":er.unlockStandardPlan.ctaButton,onClick:f,disabled:r.isLoading,className:"flex items-center justify-center gap-2 h-12 w-full bg-white rounded-[10px] shadow-[0px_0.727px_0.727px_0px_rgba(0,0,0,0.1),0px_0px_20px_0px_rgba(255,255,255,0.4),inset_0px_-1.455px_0px_0px_rgba(0,0,0,0.2),inset_0px_2.182px_3.636px_0px_rgba(255,255,255,0.4)] hover:-translate-y-0.5 transition-transform text-black text-base font-semibold tracking-[-0.5px] disabled:opacity-50 disabled:cursor-not-allowed",children:["Start Free Trial Now",t.jsx(Cl,{className:"w-5 h-5",strokeWidth:2})]}),t.jsxs("p",{className:"text-xs font-medium text-white/40 text-center leading-5 mt-3",children:["Start today. Cancel before ",u,t.jsx("br",{}),"and you will not be charged."]})]})}),t.jsx("button",{"data-testid":er.unlockStandardPlan.closeButton,onClick:h,className:k("absolute z-20 p-1.5 rounded-full transition-colors",o?"top-4 right-4 bg-white/10 hover:bg-white/20":"top-4 right-4 bg-black/10 backdrop-blur-[25px] hover:bg-black/20"),"aria-label":"Close modal",children:t.jsx(Ft,{className:k("w-5 h-5",o?"text-white/70":"text-black/70"),strokeWidth:2})})]})})})]})}const E0e=K.chips.surprise;function S0e({config:e,showChips:n,onChipClick:s,hideRefreshButton:r=!1}){const{t:i}=en("home"),[a,o]=d.useState({}),[l,c]=d.useState([]),[u,p]=d.useState(new Set),[f,m]=d.useState(0),{isTrulyFreeUser:h}=gi(),{tier:x}=xs();d.useEffect(()=>{if(e?.prompt_suggestions&&Array.isArray(e.prompt_suggestions)){const N=e.prompt_suggestions.reduce((j,C)=>(j[C.category]||(j[C.category]=[]),j[C.category].push(C),j),{});o(N)}},[e]);const g=(N=!1)=>Object.keys(a).map(S=>{const F=a[S];if(N&&u.size>0){const E=F.filter(A=>!u.has(`${A.category}-${A.label}`)),I=E.length>0?E:F,T=Math.floor(Math.random()*I.length);return I[T]}else{const E=Math.floor(Math.random()*F.length);return F[E]}}),v=N=>{const j=new Set(u);N.forEach(S=>{j.add(`${S.category}-${S.label}`)});const C=Object.values(a).flat().length;if(j.size>C*.8){const S=new Set(N.map(F=>`${F.category}-${F.label}`));p(S)}else p(j)};d.useEffect(()=>{if(l.length===0&&Object.keys(a).length>0){const N=g(!1);c(N),v(N)}},[a]);const b=async()=>{H(ql.REFRESH_CLICKED,{tier:x}),m(j=>j+180);const N=g(!0);c(N),v(N)},y=N=>{H(ql.CHIP_CLICKED,{chip_label:N.label,chip_category:N.category,tier:x}),s(N.prompt)},w=()=>{const N=Object.values(a).flat(),j=N[Math.floor(Math.random()*N.length)];H(ql.CHIP_CLICKED,{chip_label:"Surprise Me",chip_category:"Surprise Me",tier:x}),s(j.prompt)},_=e?.prompt_suggestions&&Array.isArray(e.prompt_suggestions)&&e.prompt_suggestions.length>0;return t.jsx(xa,{mode:"wait",children:n&&_&&l.length>0&&t.jsx(Rn.div,{initial:{opacity:0,y:10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.3,ease:"easeInOut",height:{duration:.3,ease:"easeInOut"}},className:"space-y-4",children:t.jsxs(Rn.div,{className:"flex  relative items-center pt-4 flex-wrap gap-[6px]  justify-between w-full   md:gap-[16px]",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.4}},exit:{opacity:0,transition:{staggerChildren:.03,staggerDirection:-1}}},initial:"hidden",animate:"visible",exit:"exit",children:[t.jsxs("div",{className:"flex flex-wrap gap-[6px] md:gap-3 justify-center  w-full",children:[l.map((N,j)=>t.jsxs(Rn.button,{"data-testid":Nr.suggestionChip,variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:()=>y(N),whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:`group relative flex text-[#FFFFFF80] hover:text-[#FFFFFF] items-center gap-[6px] p-[6px] md:p-[10px] pr-[12px] bg-[#131314] hover:bg-[#18181A] border border-transparent  hover:border-[#323232] rounded-[8px] transition-colors duration-200 cursor-pointer ${h()?"border-opacity-0":""}`,children:[t.jsx("img",{src:N.icon_url,alt:"Surprise",className:"w-4 h-4"}),t.jsx("span",{className:"text-sm leading-4 font-medium font-brockmann group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:N.label}),N.isNew&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold text-white bg-[#E03E3E] rounded-full",children:"New"})]},`${N.category}-${N.label}-${j}`)),t.jsxs(Rn.button,{"data-testid":Nr.surpriseMeButton,variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:w,whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:`group flex items-center gap-2 p-[6px] text-[14px]  md:p-[10px] pr-[12px] bg-[#131314] font-medium text-[#FFFFFF80] hover:text-[#FFFFFF] border border-[#232324] border-opacity-0 hover:bg-[#18181A] hover:border-[#323232] rounded-[8px] font-brockmann ${h()?"border-opacity-0":""}`,children:[t.jsx("img",{src:E0e,alt:i("suggestionChips.surprise"),className:"w-4 h-4"}),t.jsx("span",{className:"leading-4 group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:i("suggestionChips.surpriseMe")})]})]}),!r&&t.jsx(Rn.button,{"data-testid":Nr.refreshSuggestionsButton,variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:b,whileTap:{scale:.95,transition:{duration:.1}},className:"group hidden md:absolute right-0 md:flex items-center gap-2 p-[6px]  md:p-[10px] text-[#7B7B80] hover:text-white hover:bg-[#18181A] rounded-[8px]  transition-colors duration-200",title:i("suggestionChips.refreshSuggestions"),children:t.jsx(Rn.div,{animate:{rotate:f},transition:{duration:.5,ease:"easeInOut"},children:t.jsx(df,{className:"w-4 h-4"})})})]})},"chips-container")})}function k0e({showChips:e,onChipClick:n,activeTab:s="fullstack",applyGrayscale:r=!1,botSuggestion:i}){const{t:a}=en("home"),{tier:o}=xs(),{isTrulyFreeUser:l}=gi(),[c,u]=d.useState(null),p=x=>{const g=x.translationKey?a(`${x.translationKey}.label`):x.label||"",v=x.translationKey?a(`${x.translationKey}.prompt`):x.prompt||"";H(ql.CHIP_CLICKED,{chip_label:g,chip_category:x.category,tier:o}),n(v)},f=x=>{H(ql.CHIP_CLICKED,{chip_label:x.label,chip_category:x.category,tier:o}),n(x.prompt)},m=jH[s]||[],h=m.length>0||!!i;return t.jsx(xa,{mode:"wait",children:e&&h&&t.jsx(Rn.div,{initial:{opacity:0,y:10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.3,ease:"easeInOut",height:{duration:.3,ease:"easeInOut"}},className:"space-y-4",children:t.jsx(Rn.div,{className:"flex relative items-center pt-4 flex-wrap gap-[6px] justify-between w-full md:gap-[16px]",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.4}},exit:{opacity:0,transition:{staggerChildren:.03,staggerDirection:-1}}},initial:"hidden",animate:"visible",exit:"exit",children:t.jsxs("div",{className:"flex flex-wrap gap-[6px] md:gap-3 justify-center w-full",children:[i&&t.jsxs(Rn.button,{variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:()=>f(i),onMouseEnter:()=>u(-1),onMouseLeave:()=>u(null),whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:k("relative opacity-100 hover:opacity-100 flex text-[#FFFFFF80] hover:text-[#FFFFFF] items-center gap-[6px] p-[6px] md:p-[10px] pr-[12px] bg-[#181819] hover:bg-[#18181A] border border-transparent hover:border-[#323232] rounded-[8px] transition-all duration-200 cursor-pointer",l()&&"border-opacity-0"),children:[t.jsx("span",{style:{color:c===-1?"#FFFFFF":"#666666",transition:"color 0.2s ease"},children:t.jsx("img",{src:i.icon_url,alt:i.label,className:"w-4 h-4"})}),t.jsx("span",{className:k("text-sm leading-4 font-medium font-brockmann transition-all duration-200",c===-1&&"drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]"),children:i.label}),i.isNew&&t.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-semibold text-white bg-[#E03E3E] rounded-full leading-none",children:"New"})]},`bot-${i.label}`),m.map((x,g)=>t.jsxs(Rn.button,{variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:()=>p(x),onMouseEnter:()=>u(g),onMouseLeave:()=>u(null),whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:k("relative opacity-70 hover:opacity-100 flex text-[#FFFFFF80] hover:text-[#FFFFFF] items-center gap-[6px] p-[6px] md:p-[10px] pr-[12px] bg-[#181819] hover:bg-[#18181A] border border-transparent hover:border-[#323232] rounded-[8px] transition-all duration-200 cursor-pointer",l()&&"border-opacity-0",r&&!x.noGrayscale&&"grayscale",x.noGrayscale&&"opacity-100"),children:[t.jsx("span",{style:{color:c===g?x.iconColor:"#666666",transition:"color 0.2s ease"},children:x.icon}),t.jsx("span",{className:k("text-sm leading-4 font-medium font-brockmann transition-all duration-200",c===g&&"drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]"),children:x.translationKey?a(`${x.translationKey}.label`):x.label}),x.isNew&&t.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-semibold text-white bg-[#E03E3E] rounded-full leading-none",children:"New"})]},`${x.category}-${x.translationKey||x.label}-${g}`))]})})},"chips-container")})}function Du(){const e=ba(),n=Mi(),{toast:s}=ns(),r=br(Xse),i=br(Qse),a=br(ere),o=d.useRef(null),l=e7(n.pathname),{user:c}=os();d.useEffect(()=>()=>{o.current&&(clearInterval(o.current),o.current=null)},[]);const{data:u,error:p,isLoading:f,refetch:m}=Kr(void 0,{skip:!a||l||!c,pollingInterval:300*1e3}),{data:h=[],isLoading:x}=BP(void 0,{skip:!i}),g=d.useCallback(async(_=!1)=>{try{_||e(pb(!0));const N=await m();if(N.data){const j=N.data.github.authorized,C=N.data.github.account_name;return _||(e(ub(j)),e(bF(C))),j&&C&&e(yF([{installation_id:C,account_login:C,account_type:"User",user_github_login:C,app_slug:"emergent-ai",isPrimary:!0,account:{login:C,id:0,type:"User"},target_type:"User"}])),j}throw new Error("Failed to fetch user details")}catch(N){const j=N.message||"Failed to check GitHub connection";return _||e(km(j)),!1}},[e,m]),v=d.useCallback(async()=>{try{e(pb(!0)),b()}catch(_){e(km(_.message||"Authentication failed"))}},[e]),b=d.useCallback(_=>{const{isPopup:N=!1,onSuccess:j,pollingEnabled:C=!0}=_||{};try{const S=th.appUrl;if(N){e(fb(!0));const F=window.open(S,"github-auth","width=600,height=700");C&&F&&(o.current&&clearInterval(o.current),o.current=setInterval(()=>{try{F.closed&&(o.current&&(clearInterval(o.current),o.current=null),e(fb(!1)),setTimeout(()=>{g().then(E=>{E&&j&&j()})},1e3))}catch{}},1e3))}else window.open(S,"_blank")}catch(S){e(km(S.message||"Failed to open GitHub installation")),e(fb(!1))}},[e,g]),[y]=UP(),w=d.useCallback(async(_,N)=>{try{const j=await y({installationId:_,code:N}).unwrap();if(j.success)return s({title:"GitHub Connected",description:"Successfully connected to GitHub!"}),await g(),!0;throw new Error(j.error||"Failed to save installation")}catch(j){const C=j.message||"Failed to save GitHub installation";return e(km(C)),s({title:"GitHub Connection Failed",description:C,variant:"destructive"}),!1}},[y,s,e,g]);return d.useEffect(()=>{h.length>0&&e(yF(h))},[h,e]),d.useEffect(()=>{u&&(e(ub(u.github.authorized)),e(bF(u.github.account_name)))},[u,e]),d.useEffect(()=>{p&&e(km("Failed to fetch user details"))},[p,e]),{isConnected:r.isConnected,isConnecting:r.isConnecting,primaryAccount:r.primaryAccount,installations:r.installations,connectionError:r.connectionError,authWindowOpen:r.authWindowOpen,isLoadingUserDetails:f,isLoadingInstallations:x,checkGitHubConnection:g,authenticate:v,redirectToGitHubInstallation:b,saveInstallation:w,setIsConnected:_=>e(ub(_)),setIsConnecting:_=>e(pb(_))}}const f0=(e,n=!1)=>{if(!e)return"";const s={month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};return n&&(s.second="2-digit",s.hour12=!1),new Date(e).toLocaleString("en-US",s)},I0e=e=>e?new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"",TH=e=>e?new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",vk=K.panelIcons.panelTesting,T0e=K.panelIcons.panelEdit,o6=K.panelIcons.panelVision,wk=K.panelIcons.panelIntegration,l6=[{key:"testing",color:"#4D320F",bgColor:"#BBA1E5",icon:"code",iconColor:"#4D320F",text:"Testing Agent",runningText:"is Running",beforeBorder:"before:border-[#BBA1E520]",panelLottie:vk,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"replace",color:"#4D320F",bgColor:"#F8CC55",icon:"code",iconColor:"#4D320F",text:"Edit Agent",runningText:"is Running",beforeBorder:"before:border-[#4D320F20]",panelLottie:T0e,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(248, 204, 85, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(248, 204, 85, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"vision",color:"#661F3D",bgColor:"#E5A8A1",icon:"vision",iconColor:"#661F3D",text:"Image Agent",runningText:"is Running",beforeBorder:"before:border-[#E5A8A120]",panelLottie:o6,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"support",color:"#661F3D",bgColor:"#E5A8A1",icon:"vision",iconColor:"#661F3D",text:"Support Agent",runningText:"is Running",beforeBorder:"before:border-[#E5A8A120]",panelLottie:o6,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"troubleshoot",color:"#661F3D",bgColor:"#E5A8A1",icon:"vision",iconColor:"#661F3D",text:"Triage Agent",runningText:"is Running",beforeBorder:"before:border-[#E5A8A120]",panelLottie:o6,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"integration",color:"#243045",bgColor:"#A1BFE5",icon:"integration",iconColor:"#243045",text:"Integration Agent",runningText:"is Running",beforeBorder:"before:border-[#A1BFE520]",panelLottie:wk,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"design",color:"#243045",bgColor:"#A1BFE5",icon:"design",iconColor:"#243045",text:"Design Agent",runningText:"is Running",beforeBorder:"before:border-[#A1BFE520]",panelLottie:wk,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"deployment",color:"#4D320F",bgColor:"#BBA1E5",icon:"code",iconColor:"#4D320F",text:"Reviewer Agent",runningText:"is Running",beforeBorder:"before:border-[#BBA1E520]",panelLottie:vk,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}}],A0e=e=>{if(!e)return"Subagent";const n=e.includes("testing"),s=e.includes("integration"),r=e.includes("vision"),i=e.includes("troubleshoot"),a=e.includes("support"),o=e.includes("replace"),l=e.includes("design"),c=e.includes("deployment");return n?"testing":s?"integration":r?"vision":i?"troubleshoot":a?"support":o?"replace":l?"design":c?"deployment":e?.replaceAll("_"," ")},kh=e=>{if(!e)return"Subagent";const n=e.includes("testing"),s=e.includes("integration"),r=e.includes("vision"),i=e.includes("troubleshoot"),a=e.includes("support"),o=e.includes("replace"),l=e.includes("design"),c=e.includes("deployment");return n?"Testing Agent":s?"Memory Agent":r?"Image Agent":i?"Triage Agent":a?"Support Agent":o?"Edit Agent":l?"Design Agent":c?"Reviewer Agent":e?.replaceAll("_"," ")},Vp=e=>{if(!e)return l6[0];const n=A0e(e);return l6.find(s=>s.key===n)||l6[0]},D0e=(e,n,s="bottom")=>Vp(e).gradients[n].replace("to bottom",`to ${s}`),AH=(e,n,s)=>{const r={running:"#67CB65",waiting:"#5FD3F3",stopped:"#7B7B80",stopping:"#F49B57",subagent_stopping:"#F49B57",exit_cost:"#7B7B80",forking:"#80FFF9"},i=e==="running"||e==="subagent_running"||e==="subagent_waiting";return s&&n&&i?Vp(n).bgColor:e.startsWith("subagent_")&&i?"#DD99FF":r[e]||r.stopped},Ih=.2,DH=17,MH=1.2,RH=300,M0e=(e,n="USD")=>{const s=n.toUpperCase();return s==="USD"?e*Ih:s==="INR"?e*DH:s==="BRL"?e*MH:s==="KRW"?e*RH:e*Ih};function R0e(e,n="USD"){const s=typeof e=="string"?parseFloat(e):e;if(isNaN(s))return"0";let r="en-US",i={minimumFractionDigits:0,maximumFractionDigits:2};switch(n.toUpperCase()){case"INR":r="en-IN";break;case"BRL":r="pt-BR";break;case"KRW":default:r="en-US";break}return new Intl.NumberFormat(r,i).format(s)}function LH(e){const n=(e||"USD").toString().toUpperCase();return aw[n]||aw[kn.USD]}function pr(e,n="USD"){const s=R0e(e,n),r=(n||"USD").toString().toUpperCase();return`${aw[r]||r}${s}`}let c6=null;function L0e(){if(!c6)try{const{SyncRedactor:e}=require("redact-pii");c6=new e({builtInRedactors:{names:!1,emailAddress:!1,phoneNumber:!1,creditCardNumber:!0,credentials:!0,ipAddress:!1,password:!0}})}catch{return null}return c6}function Ck(e,n=200){if(!e)return e;try{const s=L0e();return s?s.redact(e).substring(0,n):e.substring(0,n)}catch{return e.substring(0,n)}}const _k=(e,n=50)=>e?e.length<=n?e:`${e.substring(0,n)}...`:"",P0e=e=>e?e.filter(n=>!!(n&&n.type&&n.value)):[],PH=({size:e=24,color:n="#4D4D4D",className:s="",...r})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:[t.jsx("path",{d:"M2.5 3.875V10C2.5 16.125 10 18.75 10 18.75C10 18.75 17.5 16.125 17.5 10V3.875L10 1.25L2.5 3.875Z",stroke:"white",strokeOpacity:"0.25",strokeWidth:"1.66667",strokeLinecap:"square"}),t.jsx("path",{d:"M6.81152 9.31062L9.16736 11.6673L13.8815 6.95312",stroke:"white",strokeOpacity:"0.25",strokeWidth:"1.66667",strokeLinecap:"square"})]}),vu=({width:e=40,height:n=40,className:s="",onClick:r,role:i="button",tabIndex:a=0,...o})=>{const l=c=>{r&&(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),r())};return t.jsxs("svg",{width:e,height:n,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,onClick:r,onKeyDown:l,role:r?i:void 0,tabIndex:r?a:void 0,style:{cursor:"pointer",outline:"none"},...o,children:[t.jsx("rect",{width:"40",height:"40",rx:"10",fill:"white",fillOpacity:"0.06"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.308 13.308C13.7186 12.8973 14.3844 12.8973 14.7951 13.308L20 18.5129L25.2048 13.308C25.6156 12.8973 26.2813 12.8973 26.692 13.308C27.1027 13.7186 27.1027 14.3844 26.692 14.7951L21.4871 20L26.692 25.2048C27.1027 25.6156 27.1027 26.2813 26.692 26.692C26.2813 27.1026 25.6156 27.1026 25.2048 26.692L20 21.4871L14.7951 26.692C14.3844 27.1026 13.7186 27.1026 13.308 26.692C12.8973 26.2813 12.8973 25.6156 13.308 25.2048L18.5129 20L13.308 14.7951C12.8973 14.3844 12.8973 13.7186 13.308 13.308Z",fill:"currentColor"})]})},Um=K.payments.cardBrands,jk=e=>{const n=e.toLowerCase();return{visa:Um.visa,mastercard:Um.mastercard,amex:Um.amex,american_express:Um.amex,jcb:Um.jcb}[n]||null};function O0e({showModal:e,plan:n,savedCard:s,isLoading:r,onClose:i,onConfirm:a,onChangePaymentMethod:o}){const{t:l}=en("billing"),[c,u]=d.useState(!1),p=n?.billing_period==="YEARLY"?l("credits.upgradeTierModal.perYear"):l("credits.upgradeTierModal.perMonth");return t.jsx(as,{open:e,onOpenChange:f=>!f&&i(),children:t.jsxs(Cr,{children:[t.jsx(Z5,{className:"z-[9999] bg-black/80 backdrop-blur-sm"}),t.jsxs(Er,{className:"z-[9999] bg-[#1C1C1F] rounded-2xl p-6 max-md:p-4 max-w-[600px] w-[calc(100%-32px)] max-h-[96dvh] overflow-y-auto md:max-h-none md:overflow-visible hide-scrollbar border-none",children:[t.jsx("div",{className:"absolute top-4 right-4 z-10",children:t.jsx("button",{type:"button",onClick:i,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#ffffff1e] flex justify-center items-center rounded-full cursor-pointer transition-colors","aria-label":"Close modal",children:t.jsx(vu,{className:"w-8 h-8 rounded-full text-white/50"})})}),t.jsx("h3",{className:"text-2xl font-medium text-white mb-6 pr-10",children:l("credits.quickUpgradeModal.confirmUpgradeTo",{tier:n?.tier_name})}),t.jsxs("div",{className:"space-y-2 border border-[#333333] rounded-xl px-5 py-4 mb-5",children:[t.jsxs("div",{className:"flex justify-between items-center h-8",children:[t.jsx("span",{className:"text-white/50 text-base font-[Inter]",children:l("credits.quickUpgradeModal.planName",{tier:n?.tier_name})}),t.jsxs("span",{className:"text-white font-semibold text-lg font-[Inter]",children:[pr(n?.amount||0,n?.currency||"USD"),p]})]}),n?.ecu_credits&&t.jsxs("div",{className:"flex justify-between items-center h-8",children:[t.jsx("span",{className:"text-white/50 text-base font-[Inter]",children:l("credits.monthlyCredits")}),t.jsx("span",{className:"text-white/60 font-semibold text-lg font-[Inter]",children:l("credits.quickUpgradeModal.creditsCount",{count:n.ecu_credits})})]})]}),t.jsxs("div",{className:"space-y-2 border border-[#333333] rounded-xl px-5 py-4 mb-5",children:[t.jsxs("div",{className:"",children:[t.jsx("p",{className:"text-[#FFFFFFB2] font-semibold text-base",children:l("credits.buyCreditsModal.payVia")}),t.jsx("p",{className:"text-[#FFFFFF66] text-sm mb-5 font-medium",children:l("credits.quickUpgradeModal.useSavedPaymentMethod")})]}),s&&t.jsxs("div",{className:"flex items-center justify-between bg-[#FFFFFF14] px-4 py-3 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[jk(s.brand||"")?t.jsxs("div",{className:"relative h-8 w-12",children:[!c&&t.jsx("div",{className:"absolute inset-0 bg-[#FFFFFF20] rounded animate-pulse"}),t.jsx("img",{src:jk(s.brand||""),alt:s.brand,className:k("h-8 w-auto object-contain transition-opacity duration-200",c?"opacity-100":"opacity-0"),onLoad:()=>u(!0)})]}):t.jsx("span",{className:"text-white font-semibold uppercase text-sm bg-[#1C1C1F] px-2 py-1 rounded",children:s.brand}),t.jsx("div",{className:"h-11 flex justify-center items-center",children:t.jsxs("p",{className:"text-white text-sm font-medium",children:[(s.brand||"").charAt(0).toUpperCase()+(s.brand||"").slice(1)," ",t.jsx("span",{className:"ml-1 tracking-[0.15em]",children:""}),s.last4]})})]}),t.jsx("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center",children:t.jsx(xn,{className:"w-4 h-4 text-black"})})]})]}),t.jsxs("div",{className:"flex max-md:flex-col-reverse gap-4 mb-4",children:[t.jsx("button",{type:"button",onClick:o,disabled:r,className:"flex-1 py-3 px-4 border border-[#FFFFFF1F] hover:bg-[#3E3F44] text-[#FFFFFFCC] text-[15px] font-medium rounded-[10px] transition-all duration-150 disabled:opacity-50",children:l("credits.buyCreditsModal.changePaymentMethod")}),t.jsx("button",{type:"button",onClick:a,disabled:r,className:"flex-1 py-3 px-4 bg-[#F3CA5F] hover:bg-[#E7A93C] text-black font-semibold text-[15px] rounded-[10px] transition-all disabled:opacity-50 duration-150",children:r?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(tn,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx("span",{children:l("credits.buyCreditsModal.processing")})]}):l("credits.quickUpgradeModal.upgradeFor",{amount:pr(n?.amount||0,n?.currency||"USD"),period:p})})]}),t.jsxs("div",{className:"flex items-center py-1.5 justify-center gap-1 text-[#FFFFFF40] text-sm",children:[t.jsx(PH,{color:"#FFFFFF40",size:20}),t.jsx("p",{children:l("credits.buyCreditsModal.securePaymentsViaStripe")})]})]})]})})}const OH=({totalSteps:e,currentStep:n,onStepClick:s,className:r="",activeColor:i="#80FFF9",inactiveColor:a="#333333",completedColor:o="#80FFF9",stepWidth:l,stepHeight:c})=>{const u=l??48,p=l??16;return t.jsx("div",{className:`flex items-center gap-2 ${r}`,children:Array.from({length:e},(f,m)=>t.jsx(fe.button,{type:"button",onClick:()=>s?.(m),className:"relative rounded-full overflow-hidden",animate:{width:m===n?u:p,height:c??8,backgroundColor:m===n?i:a},transition:{duration:.3,ease:"easeInOut"},"aria-label":`Step ${m+1}`,disabled:!s,children:m===n&&t.jsx(fe.div,{className:"absolute inset-0 origin-left rounded-full",style:{backgroundColor:i},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,ease:"easeOut"}})},m))})},B0e=[{id:"coding_familiarity",question:"How familiar are you with code?",options:["No experience","Tried AI tools","Can understand code","Can write code"]},{id:"use_case",question:"What do you want to use Emergent for?",options:["Personal project","Startup idea","Internal tool","Build for clients","Learn/explore"]},{id:"build_type",question:"What do you want to build or create?",options:["Web app","Mobile app","Landing page","Internal tool","Not sure yet"]}];function U0e(){const{data:e,isLoading:n,error:s}=lO("first_subscription");return d.useEffect(()=>{s&&jt(_P.ONBOARDING_FETCH,s)},[s]),{questions:d.useMemo(()=>n?[]:e?.form?.questions&&Array.isArray(e.form.questions)?e.form.questions.map((i,a)=>({id:`question_${a+1}`,question:i.question,options:i.options})):[...B0e],[e,s]),isLoading:n,error:s,formName:e?.form?.form_name,offer:e?.offer}}const H0e=K.icons.landingLight;function V0e({isOpen:e,onClose:n,onOpenChange:s,tier:r}){const[i,a]=d.useState(0),[o,l]=d.useState({}),{isMobile:c}=ts(),{questions:u,isLoading:p}=U0e(),[f,{isLoading:m}]=nie(),h=c?K.landingPage.landingBgMobile:K.landingPage.landingBg,x=u[i],v=!u.every(_=>o[_.id])||m,b=d.useCallback(Fh(()=>{a(_=>_<u.length-1?_+1:_)},300),[u.length]),y=_=>{l(N=>({...N,[x.id]:_})),b()},w=_=>{s?.(!1);const N=_==="submit",j=u.map(C=>o[C.id]||"");f({answers:j,source:r==="top-up"?"topup":"subscription"}),H(N?$r.ONBOARDING_SURVEY_EVENTS.SUBMITTED:$r.ONBOARDING_SURVEY_EVENTS.CLOSED,{tier:r,answers:j,current_step:i,submitted_via:N?"submit_button":"close_button"}),n()};return t.jsx(as,{open:e,children:t.jsx(Cr,{children:t.jsx(Er,{className:"z-[10000] w-full h-full rounded-none overflow-y-auto bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${h})`},children:t.jsxs("div",{className:"relative flex flex-col justify-center min-h-full h-max px-6 py-8",children:[t.jsx(fe.div,{className:"absolute inset-0 pointer-events-none transform -scale-x-100 mix-blend-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${H0e})`},initial:{opacity:0},animate:{opacity:1},transition:{duration:2,ease:"easeOut"}}),p?t.jsx("div",{className:"flex items-center justify-center w-full min-h-[400px]",children:t.jsx(no,{size:"32",speed:"1.75",color:"#80FFF9"})}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>w("close"),className:"absolute max-sm:top-4 top-8 max-sm:right-4 right-8 text-gray-400 hover:text-white focus:text-white transition-colors z-10 outline-none","aria-label":"Close modal",children:t.jsx(vu,{className:"w-8 h-8 rounded-full outline-none"})}),t.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-10 md:gap-12 w-full my-auto shrink-0",children:[t.jsxs("div",{className:"flex flex-col items-center gap-6 text-center",children:[t.jsxs("h1",{className:"text-4xl font-medium tracking-[-0.36px] [text-shadow:0_0_60px_rgba(69,229,187,0.4)]",children:[r!=="top-up"?"Welcome to":"Help us match"," ",t.jsx("br",{}),t.jsx("span",{className:"bg-gradient-to-b from-[#00FF66] to-[#62ECFE] bg-clip-text text-transparent",children:r!=="top-up"?`Emergent ${r.charAt(0).toUpperCase()+r.slice(1)} Plan`:"Emergent to your goals"})]}),t.jsx("p",{className:"text-white/60 text-lg font-medium",children:"Tell us a bit about yourself so we can help you ship faster."})]}),t.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-[560px] p-6 pb-0 bg-white/5 rounded-3xl backdrop-blur-sm border border-[#242424]",children:[t.jsx("h3",{className:"text-white text-xl font-semibold leading-8 tracking-[-0.36px] mb-2",children:x?.question}),t.jsx("div",{className:"flex flex-wrap gap-4",children:x?.options.map(_=>t.jsx("button",{type:"button",onClick:()=>y(_),className:`max-w-max px-[19px] py-[5px] rounded-full text-base font-medium transition-all duration-200 border ${o[x.id]===_?"bg-[#80FFF91A] text-[#80FFF9] border-[#80FFF93D]":"bg-white/5 hover:bg-white/10 text-white/80 border-transparent"}`,children:_},_))}),t.jsx(OH,{totalSteps:u.length,currentStep:i,activeColor:"#80FFF9CC",inactiveColor:"#333333",stepWidth:40,stepHeight:4,className:"p-6 pb-4 justify-center"})]}),t.jsx("div",{className:"p-[5px] max-sm:w-full rounded-full border-2 border-white/10",children:t.jsxs("button",{type:"button",onClick:()=>w("submit"),disabled:v,className:`flex justify-center px-12 py-3 gap-2 max-sm:w-full bg-white rounded-full text-base font-semibold tracking-[-0.32px] transition-colors duration-200 items-center text-black [box-shadow:0_0.727px_0.727px_0.727px_rgba(0,0,0,0.10),_0_-1.455px_0_0_rgba(0,0,0,0.20)_inset,_0_2.182px_3.636px_1.455px_rgba(255,255,255,0.40)_inset,_0_0_20px_0_rgba(255,255,255,0.40)] ${v?"opacity-40 cursor-not-allowed":"cursor-pointer"}`,children:["Start using Emergent",t.jsx(Cl,{size:22,strokeWidth:2.5})]})})]})]})]})})})})}const $0e=3e4,z0e=3e3;function W0e({paymentId:e,initialStatus:n,organizationId:s,enabled:r=!0}){const[i,a]=d.useState(null),[o,l]=d.useState(!1),c=d.useRef(null),u=d.useMemo(()=>r&&(n==="success"||n==="pending"),[r,n]),{data:p,error:f,isLoading:m,isFetching:h}=Nre({paymentId:e},{skip:!u,pollingInterval:u&&!o?z0e:0,refetchOnMountOrArgChange:!0});d.useEffect(()=>{if(!u||o)return;if(c.current===null&&(c.current=Date.now()),p?.status==="success"||p?.status==="failed"||p?.status==="cancelled"){c.current=null;return}const v=setInterval(()=>{if(c.current===null)return;Date.now()-c.current>=$0e&&(l(!0),clearInterval(v))},1e3);return()=>{clearInterval(v)}},[u,p?.status,o]),d.useEffect(()=>{l(!1),c.current=null},[e]);const x=d.useMemo(()=>{if(n==="cancelled"||n==="failed"||n==="expired")return"error";if(!u)return n==="success"?"loading":"error";if(o){if(f)return"error";if(p)switch(p.status){case"success":return"success";case"failed":case"cancelled":return"error";default:return"pending"}return"pending"}if(m&&!p)return"loading";if(f)return"error";if(p)switch(p.status){case"success":return"success";case"pending":return"loading";case"failed":case"cancelled":return"error";default:return"loading"}return"loading"},[n,u,m,p,f,o]);d.useEffect(()=>{n==="cancelled"?a("Payment was cancelled."):n==="failed"?a("Payment failed to process."):n==="expired"?a("Checkout session expired. Please try again."):f?a("Failed to verify payment status. Please contact support."):p?.error?a(p.error):p?.status==="failed"?a(p.message||"Payment verification failed."):a(null)},[n,f,p]);const g=d.useMemo(()=>p?{status:p.status,message:p.message,plan_name:p.plan_name,error:p.error,ecu_amount:p.ecu_amount,amount:p.amount,currency:p.currency,show_subscription_form:p.show_subscription_form,show_topup_form:p.show_topup_form}:null,[p]);return{status:x,data:g,error:i,isPolling:h&&u}}const BH="payment_tracked_";function Fo(e,n){return n?.enabled===!1?!1:n?.providers?n.providers.includes(e):!0}function G0e(e,n){return!!e}function q0e(e){const n=`${BH}${e}`;return sessionStorage.getItem(n)==="1"}function K0e(e){const n=`${BH}${e}`;sessionStorage.setItem(n,"1")}function Y0e({status:e,paymentType:n,paymentId:s,data:r,organizationId:i,planName:a,isTeamPayment:o=!1,userId:l,tier:c,tracking:u}){const{user:p}=os(),{tier:f,currentSubscriptionDetail:m}=xs(),h=l||p?.id,x=c||f,g=d.useRef(!1);d.useEffect(()=>{if(e!=="success"||q0e(s)||g.current||u?.enabled===!1||(G0e(r)||jt(tf.INCOMPLETE_TRACKING_DATA,null,{paymentId:s,paymentType:n,hasData:!!r}),!h))return;let v=!0;const b=async()=>{if(v)try{n==="subscription"?await y():n==="topup"?await w():n==="gift"&&_(),K0e(s),g.current=!0}catch(N){jt(tf.TRACKING_ERROR,N,{paymentId:s,paymentType:n})}},y=async()=>{const N=r?.ecu_amount||m?.ecu_credits||0,j=r?.amount||m?.amount||0,C=r?.currency||"USD",S=a||r?.plan_name||"Unknown";if(Fo("posthog",u)&&H(qn.MODAL_EVENTS.SUBSCRIPTION_PAYMENT_RESULT_MODAL_EVENTS.PAYMENT_SUCCESS,{paymentId:s,organizationId:i,planName:S,monthlyCredits:N,isTeamSubscription:o,source:"unified_modal"}),Fo("gtm",u)&&Cse({userId:h,planName:S,tierName:x||"free",credits:N,isOrganization:o,organizationId:i||void 0,paymentId:s,amount:j,currency:C}),Fo("meta",u)){let F=$d("subscription",s);F||(F=$d("subscription")),F&&(E2(F,s,j,C),dx("subscription",s),dx("subscription"))}if(Fo("tiktok",u)){let F=$d("subscription",s);F||(F=$d("subscription")),F&&b2(F,s,j,C)}if(Fo("cj",u)){const F=fF(s);if(F){const E=r?.amount||F.amount,I=r?.currency||F.currency;hF(h,s,E,I,F.category),mF(s)}}},w=async()=>{const N=r?.ecu_amount||0,j=r?.amount||0,C=r?.currency||"USD";if(Fo("posthog",u)&&H(qn.CREDIT_EVENTS.PAYMENT_STATUS_MODAL_EVENTS.PAYMENT_SUCCESS,{paymentId:s,organizationId:i,creditAmount:N,paymentType:"credit_topup"}),Fo("gtm",u)&&wse(h,N,j,C),Fo("meta",u)){let S=$d("credits",s);S||(S=$d("credits")),S&&(F2(S,s,j,C),dx("credits",s),dx("credits"))}if(Fo("cj",u)){const S=fF(s);if(S){const F=r?.amount||S.amount,E=r?.currency||S.currency;hF(h,s,F,E,S.category),mF(s)}}},_=()=>{Fo("posthog",u)&&H(qn.GIFT_EVENTS.PAYMENT_SUCCESS,{paymentId:s,organizationId:i})};return b(),()=>{v=!1}},[e,n,s,r,i,a,o,h,x,u,m]),d.useEffect(()=>{e==="error"&&u?.enabled!==!1&&Fo("posthog",u)&&(n==="subscription"?H(qn.MODAL_EVENTS.SUBSCRIPTION_PAYMENT_RESULT_MODAL_EVENTS.PAYMENT_FAILED,{paymentId:s,organizationId:i,planName:a,isTeamSubscription:o,source:"unified_modal"}):n==="topup"?H(qn.CREDIT_EVENTS.PAYMENT_STATUS_MODAL_EVENTS.PAYMENT_FAILED,{paymentId:s,organizationId:i,paymentType:"credit_topup"}):n==="gift"&&H(qn.GIFT_EVENTS.PAYMENT_FAILED,{paymentId:s,organizationId:i}))},[e,n,s,i,a,o,u])}function Z0e({paymentType:e,isTeamPayment:n=!1,planName:s}){const{t:r}=en("billing"),i=()=>r(e==="subscription"?n?"credits.paymentResultModal.loading.processingTeamSubscription":"credits.paymentResultModal.loading.processingSubscription":e==="topup"?"credits.paymentResultModal.loading.processingPayment":e==="gift"?"credits.paymentResultModal.loading.processingGiftPayment":"credits.paymentResultModal.loading.processingPayment"),a=()=>r(e==="subscription"?n?"credits.paymentResultModal.loading.verifyingTeamSubscription":"credits.paymentResultModal.loading.verifyingSubscription":"credits.paymentResultModal.loading.verifyingPayment");return t.jsxs("div",{className:"flex flex-col items-center min-h-[200px] md:h-[250px] justify-center gap-4 md:gap-6 font-['Brockmann'] w-full",children:[t.jsx("div",{className:"relative",children:t.jsx(no,{size:"32",speed:"1.75",color:"#80FFF9"})}),t.jsxs("div",{className:"flex flex-col items-center w-full gap-2 px-4 mb-2",children:[t.jsx("p",{className:"text-[18px] md:text-[32px] md:leading-[36px] font-medium text-white text-center",children:i()}),t.jsx("span",{className:"font-['Brockmann'] md:mt-2 font-medium text-normal text-[#737780] text-center",children:a()})]})]})}const d3=({children:e,onClick:n,variant:s="dark",size:r="md",glowing:i=!1,animated:a=!1,elevationEffect:o=!1,fullWidthOnMobile:l=!1,className:c="",disabled:u,type:p="button",...f})=>{const[m,h]=d.useState(!1),[x,g]=d.useState(.15);d.useEffect(()=>{if(!i||!a)return;const N=setInterval(()=>{g(j=>{const C=j+(Math.random()*.05-.025);return Math.max(.1,Math.min(.3,C))})},100);return()=>clearInterval(N)},[i,a]);const v={sm:"py-2 px-6 text-sm",md:"py-4 px-14 text-base",lg:"py-5 px-16 text-lg"},b={dark:"border-2 border-black rounded-full text-white bg-[#1A1A1A] hover:bg-[#1D1D1D]",light:"border-2 border-black rounded-full text-black bg-white hover:bg-gray-100"},y=i?{position:"relative",zIndex:0}:{},w=o?`transform transition-all duration-800 hover:-translate-y-2 
       hover:shadow-[0px_19px_41px_0px_hsla(0,0%,100%,0.1),0px_75px_75px_0px_hsla(0,0%,100%,0.15),0px_169px_101px_0px_hsla(0,0%,100%,0.1),0px_300px_120px_0px_hsla(0,0%,100%,0.03),0px_469px_131px_0px_hsla(0,0%,100%,0)]
       shadow-[0px_19px_41px_0px_hsla(0,0%,100%,0.1),0px_75px_75px_0px_hsla(0,0%,100%,0.1),0px_169px_101px_0px_hsla(0,0%,100%,0.1),0px_300px_120px_0px_hsla(0,0%,100%,0.03),0px_469px_131px_0px_hsla(0,0%,100%,0)]`:"",_=o?{transition:"all 800ms cubic-bezier(0.34, 1.56, 0.64, 1)"}:{};return t.jsxs("div",{className:`relative inline-block w-full ${l?"":"max-md:w-[85%]"}`,children:[i&&t.jsx("div",{className:`absolute inset-0 rounded-full blur-xl transition-opacity ${a?"duration-500":""}`,style:{background:s==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(26, 26, 26, 0.2)",opacity:m?x*2:x,transform:"scale(1.2)",zIndex:-1}}),t.jsx("button",{type:p,disabled:u,onClick:n,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),className:`relative justify-center font-semibold leading-6 tracking-wide flex items-center gap-3 ${v[r]} ${b[s]} ${w} ${c} before:absolute before:inset-0 before:-m-1 before:rounded-full before:border before:border-[#FFFFFF26] before:-z-10 disabled:bg-[#999999] disabled:cursor-not-allowed max-md:h-[40px]`,style:{...y,..._},...f,children:e})]})},J0e=K.common.subscriptionSuccess,X0e=K.common.newCoin,Q0e=K.common.rightArrow;function exe({paymentType:e,planName:n,credits:s,isTeamPayment:r=!1,organizationName:i,wasPromotionalSetup:a=!1,onContinue:o,onInviteTeam:l}){const{t:c}=en("billing"),u=()=>e==="topup"?t.jsx("img",{src:X0e,alt:"Coin",className:"w-12 h-12 md:w-16 md:h-16"}):t.jsx("img",{src:J0e,alt:"Success",className:"w-12 h-12 md:w-16 md:h-16"}),p=()=>{if(e==="topup")return c("credits.paymentResultModal.success.youHaveReceived");if(e==="gift")return c("credits.paymentResultModal.success.giftPaymentSuccessful");if(a)return c("credits.paymentResultModal.success.freeMonthUnlocked");const x=i||(r?"Team":""),g=n||"Subscription";return r&&x?c("credits.paymentResultModal.success.teamActivated",{team:x,plan:g}):c("credits.paymentResultModal.success.activated",{plan:g})},f=()=>{if(e==="topup")return null;if(e==="gift")return c("credits.paymentResultModal.success.giftSentSuccessfully");if(a&&s)return c("credits.paymentResultModal.success.creditsAddedToAccount",{credits:s});if(s){if(r){const x=i||"Your team";return t.jsx(G_,{i18nKey:"credits.paymentResultModal.success.teamCreditsAccess",ns:"billing",values:{teamName:x,credits:s},components:{1:t.jsx("span",{className:"text-white"})}})}return t.jsx(G_,{i18nKey:"credits.paymentResultModal.success.creditsAccess",ns:"billing",values:{credits:s},components:{1:t.jsx("span",{className:"text-white"})}})}return n?c("credits.paymentResultModal.success.subscriptionActiveWithPlan",{plan:n}):c("credits.paymentResultModal.success.subscriptionActive")},m=()=>c(e==="topup"?"credits.paymentResultModal.success.continueBuilding":r&&l?"credits.paymentResultModal.success.keepBuilding":a?"credits.paymentResultModal.success.startVibing":"credits.paymentResultModal.success.keepVibing"),h=()=>{r&&l?l():o()};return t.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 md:gap-6 font-['Brockmann'] w-full",children:[t.jsx(eC,{height:"70%",top:"50%",gridSizeX:50,gridSizeY:30,gridLineWidth:.3,gridOpacity:.25,animate:!0,showFade:!1,backgroundColor:"transparent",rotationX:60,perspectiveValue:500}),u(),t.jsx("div",{className:"flex flex-col items-center w-full gap-2 px-4 mb-2",children:e==="topup"?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-[18px] md:text-[32px] md:leading-[36px] font-medium text-white text-center",children:p()}),t.jsx("span",{className:"text-center text-[28px] md:text-[32px] md:leading-[36px] font-medium text-[#F3CA5F]",children:c("credits.paymentResultModal.success.addOnCredits",{credits:s})}),t.jsx("span",{className:"font-['Inter'] mt-2 font-medium text-normal text-[#737780] text-center",children:c("credits.paymentResultModal.success.topUpComplete")})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-[#F3CA5F] drop-shadow-[0px_0px_20px_rgba(243,202,95,0.4)] [text-shadow:0px_0.73px_0.73px_rgba(0,0,0,0.1)]",children:p()}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[24px] tracking-normal text-center text-[#666666]",children:f()})]})}),t.jsx("div",{className:"flex flex-col items-center justify-center w-full gap-3",children:t.jsx(fe.div,{className:"flex justify-center w-full",whileHover:{y:-3},transition:{duration:.2,ease:"easeOut"},children:t.jsx(d3,{onClick:h,variant:"light",className:"w-full !h-[55px] md:h-[55px] !max-w-[260px] md:max-w-[260px] mx-auto text-center flex rounded-[30px] p-2 gap-2 bg-white drop-shadow-[0px_0px_20px_rgba(255,255,255,0.4)] [box-shadow:inset_0px_2.18px_3.64px_1.45px_rgba(255,255,255,0.4)]",type:"button",children:t.jsxs("span",{className:"px-4 py-3 font-['Brockmann'] font-semibold text-[16px] leading-[24px] tracking-[-0.02em] text-[#0E0E0F] whitespace-nowrap flex items-center gap-2",children:[m(),e==="subscription"&&t.jsx("img",{src:Q0e,alt:"Arrow",className:"w-6 h-6"})]})})})})]})}function txe({paymentType:e,isTeamPayment:n=!1,onContinue:s}){const{t:r}=en("billing"),i=()=>r(e==="subscription"?n?"credits.paymentResultModal.pending.teamSubscriptionPending":"credits.paymentResultModal.pending.subscriptionPending":"credits.paymentResultModal.pending.paymentPending"),a=()=>r(e==="subscription"?n?"credits.paymentResultModal.pending.teamSubscriptionProcessing":"credits.paymentResultModal.pending.subscriptionProcessing":"credits.paymentResultModal.pending.paymentProcessing");return t.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 md:gap-6 font-['Brockmann'] w-full max-w-full",children:[t.jsx(Oi,{color:"#F3CA5F",className:"w-12 h-12 md:w-16 md:h-16"}),t.jsxs("div",{className:"flex flex-col items-center max-w-full gap-2 px-4 mb-2",children:[t.jsx("p",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-white",children:i()}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[24px] tracking-normal text-center text-[#666666]",children:a()})]}),t.jsx(d3,{onClick:s,variant:"light",className:"w-full h-[45px] md:h-full max-w-[200px] text-nowrap md:max-w-[250px] mx-auto",type:"button",children:r("credits.paymentResultModal.pending.continue")})]})}const nxe=K.icons.paymentFailed;function sxe({errorMessage:e,isCancelled:n=!1,onClose:s,onRetry:r}){const{t:i}=en("billing"),a=i(n?"credits.paymentResultModal.error.paymentCancelled":"credits.paymentResultModal.error.paymentFailed"),o=()=>n?t.jsx(t.Fragment,{children:i("credits.paymentResultModal.error.cancelledMessage")}):i("credits.paymentResultModal.error.failedMessage"),l=()=>i(n&&r?"credits.paymentResultModal.error.retryPayment":"credits.paymentResultModal.error.close"),c=()=>{n&&r?r():s()};return t.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 md:gap-6 font-['Brockmann'] w-full max-w-full",children:[t.jsx("div",{className:"relative",children:t.jsx("img",{src:nxe,alt:"Failed",className:"w-12 h-12 md:w-16 md:h-16"})}),t.jsxs("div",{className:"flex flex-col items-center max-w-full gap-2 px-4 mb-2",children:[t.jsx("p",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-white",children:a}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[24px] tracking-normal text-center text-[#666666]",children:e||o()})]}),t.jsx(d3,{onClick:c,variant:"light",className:"w-full h-[45px] md:h-full max-w-[200px] text-nowrap md:max-w-[250px] mx-auto",type:"button",children:l()})]})}function aC({isOpen:e,onOpenChange:n,paymentId:s,initialStatus:r,paymentType:i,organizationId:a,planName:o,onSuccess:l,onError:c,onClose:u,onSurveyNeeded:p,onInviteTeam:f,onGiftSuccess:m,navigationStrategy:h="workspace",tracking:x,renderSuccess:g}){const v=Ea(),b=ba(),{refreshCredits:y,tier:w,currentSubscriptionDetail:_,loading:N}=xs(),{switchWorkspace:j}=hs(),{refetchConfig:C}=Y5(),S=d.useRef(C);S.current=C;const{data:F,isLoading:E}=Kr(void 0,{skip:!a}),I=a?F?.organizations?.find(re=>re.organization_id===a):null,T=!!a,A=T&&E,D=Cle(),[O,M]=d.useState(!1),[L,P]=d.useState(()=>xE()),[B,G]=d.useState(()=>gE());d.useEffect(()=>{if(e){const re=xE(),xe=gE();P(re),G(xe)}},[e]);const{status:$,data:te,error:U,isPolling:oe}=W0e({paymentId:s,initialStatus:r,organizationId:a,enabled:e});Y0e({status:$,paymentType:i,paymentId:s,data:te,organizationId:a,planName:o,isTeamPayment:T,tier:w,tracking:x}),d.useEffect(()=>{e&&r==="cancelled"&&H(i==="subscription"?qn.MODAL_EVENTS.SUBSCRIPTION_PAYMENT_RESULT_MODAL_EVENTS.PAYMENT_CANCELLED:qn.CREDIT_EVENTS.PAYMENT_STATUS_MODAL_EVENTS.PAYMENT_CANCELLED,{paymentId:s,organizationId:a,isTeamPayment:T,source:"unified_modal"})},[e,r,s,a,T,i]);const Y=d.useMemo(()=>{if(N)return null;const re=_?.ecu_credits||0,xe=te?.plan_name?.toLowerCase()||"";return te?.plan_name?xe.includes("pro")?{name:"Emergent Pro",credits:re||750}:xe.includes("standard")?{name:"Standard Tier",credits:Cg(re||100,L,B||void 0)}:xe.includes("starter")?{name:"Starter Tier",credits:re||50}:{name:"Teams Subscription",credits:re||1250}:null},[N,_,te,L,B]),W=d.useMemo(()=>i==="topup"?"top-up":Y?Y.name.replace("Emergent ","").replace(" Tier","").replace(" Subscription",""):"",[Y,i]),Z=d.useMemo(()=>$!=="success"||!Vie()||T||D?!1:i==="topup"?!!te?.show_topup_form:!!te?.show_subscription_form&&!!W,[$,T,D,i,te?.show_topup_form,te?.show_subscription_form,W]);d.useEffect(()=>{$==="success"&&te?.status==="success"&&(b(ec.util.invalidateTags(["SubscriptionPlans","Credits",{type:"SubscriptionStatus",id:s},"GitHubUserDetails"])),S.current(!0),y().catch(re=>{jt(tf.CREDITS_REFRESH_AFTER_PAYMENT,re,{payment_id:s,payment_type:i})}))},[$,te?.status,y,b,s,i]),d.useEffect(()=>{$==="success"&&te&&l&&l(te)},[$,te,l]),d.useEffect(()=>{$==="error"&&U&&c&&c(U)},[$,U,c]),d.useEffect(()=>{$==="success"&&i==="gift"&&m&&(n(!1),m())},[$,i,m,n]);const le=()=>{if($==="success"&&(localStorage.removeItem("promoCouponCode"),localStorage.removeItem("promoCouponError"),i==="subscription"?BF("SUBSCRIPTION"):(i==="topup"||i==="credits")&&BF("TOPUP")),Z&&!O){p?(n(!1),p(W)):M(!0);return}if(n(!1),bE(),yE(),($==="success"||$==="pending")&&(b(ec.util.invalidateTags(["SubscriptionPlans","Credits",{type:"SubscriptionStatus",id:s},"GitHubUserDetails"])),C(!0),y().catch(re=>{jt(tf.CREDITS_REFRESH_ON_MODAL_CLOSE,re,{payment_id:s,payment_type:i})})),h==="none"){u?.();return}h==="workspace"&&a&&($==="success"||$==="pending")?(j(a),v(`/workspace/${a}`)):h==="reload"&&window.location.reload(),u?.()},q=()=>{f?(f(),n(!1)):le()},Q=()=>{M(!1),n(!1),bE(),yE(),u?.()},he=re=>{re||M(!1)},me=re=>{if(!($==="loading"||oe)){if(!re){le();return}n(re)}};if(O)return t.jsx(V0e,{isOpen:!0,onClose:Q,onOpenChange:he,tier:W});const ce=$==="loading"||$==="success"&&i==="subscription"&&!Y||$==="success"&&A,ee=()=>{if(ce)return t.jsx(Z0e,{paymentType:i,isTeamPayment:T,planName:o});if($==="success"){const re=te||{status:"success",ecu_amount:Y?.credits,plan_name:Y?.name||o},xe=t.jsx(exe,{paymentType:i,planName:Y?.name||o||te?.plan_name,credits:te?.ecu_amount||Y?.credits,isTeamPayment:T,organizationName:I?.organization_name,wasPromotionalSetup:D,onContinue:le,onInviteTeam:T?q:void 0});return g?t.jsx(t.Fragment,{children:g(re,xe)}):xe}return $==="pending"?t.jsx(txe,{paymentType:i,isTeamPayment:T,onContinue:le}):t.jsx(sxe,{errorMessage:U||void 0,isCancelled:r==="cancelled"||r==="expired",onClose:le})},J=$!=="loading"&&!ce;return t.jsx(as,{open:e,onOpenChange:me,children:t.jsxs(Yh,{children:[t.jsx(Ff,{className:"fixed inset-0 z-[10000] bg-[#0e0e0f50] backdrop-blur-[5px]"}),t.jsxs(Ef,{className:"fixed left-1/2 top-1/2 z-[10001] -translate-x-1/2 -translate-y-1/2 overflow-hidden grid w-full max-w-[95%] md:max-w-[600px] bg-[#1C1C1F] text-white border border-[#2E2F34] rounded-2xl p-6 md:p-12 shadow-lg duration-200 focus:outline-none",onOpenAutoFocus:re=>re.preventDefault(),children:[J&&t.jsx("button",{type:"button",title:"Close",onClick:le,className:"absolute top-4 right-4 md:top-6 md:right-6 text-gray-400 hover:text-white transition-colors",children:t.jsx(vu,{width:32,height:32,className:"rounded-full md:w-8 md:h-8"})}),t.jsx("div",{className:"flex flex-col items-center justify-center py-6",children:ee()})]})]})})}const $2=({size:e=16,width:n,height:s,variant:r="default",className:i,style:a})=>{const o=n||e,l=s||e,c=r==="cyan"?"#80FFF9":"#E9E6DE",u=r==="cyan"?.2:.1;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:o,height:l,viewBox:"0 0 16 16",fill:"none",className:i,style:a,children:[t.jsxs("g",{clipPath:"url(#clip0_credit_coin)",children:[t.jsx("circle",{opacity:u,cx:"8",cy:"8",r:"8",fill:c}),t.jsx("path",{d:"M8.00049 1.6001C11.5349 1.60031 14.3999 4.466 14.3999 8.00049C14.3997 11.5348 11.5348 14.3997 8.00049 14.3999C4.466 14.3999 1.60031 11.5349 1.6001 8.00049C1.6001 4.46587 4.46587 1.6001 8.00049 1.6001ZM8.32666 5.27197C8.11581 4.74948 7.93825 4.57421 7.68506 5.19775C7.13105 6.52744 6.46954 7.1617 5.16748 7.71045C5.03685 7.7708 4.80228 7.87537 4.80029 7.99951C4.80182 8.12385 5.03521 8.22915 5.16748 8.28955C6.46789 8.83666 7.13111 9.4717 7.68506 10.8013C7.94136 11.4364 8.11936 11.2372 8.32666 10.728C8.8822 9.44281 9.50272 8.84643 10.813 8.28955C10.9503 8.22404 11.1767 8.13685 11.1997 8.00635V7.9917C11.1766 7.86225 10.9518 7.774 10.813 7.7085V7.71045C9.50288 7.15359 8.88218 6.55757 8.32666 5.27197Z",fill:c}),t.jsx("path",{d:"M8.00049 1.6001C11.5349 1.60031 14.3999 4.466 14.3999 8.00049C14.3997 11.5348 11.5348 14.3997 8.00049 14.3999C4.466 14.3999 1.60031 11.5349 1.6001 8.00049C1.6001 4.46587 4.46587 1.6001 8.00049 1.6001ZM8.32666 5.27197C8.11581 4.74948 7.93825 4.57421 7.68506 5.19775C7.13105 6.52744 6.46954 7.1617 5.16748 7.71045C5.03685 7.7708 4.80228 7.87537 4.80029 7.99951C4.80182 8.12385 5.03521 8.22915 5.16748 8.28955C6.46789 8.83666 7.13111 9.4717 7.68506 10.8013C7.94136 11.4364 8.11936 11.2372 8.32666 10.728C8.8822 9.44281 9.50272 8.84643 10.813 8.28955C10.9503 8.22404 11.1767 8.13685 11.1997 8.00635V7.9917C11.1766 7.86225 10.9518 7.774 10.813 7.7085V7.71045C9.50288 7.15359 8.88218 6.55757 8.32666 5.27197Z",fill:"url(#paint0_linear_credit_coin)",style:{mixBlendMode:"overlay"}})]}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_credit_coin",x1:"8.0001",y1:"1.6001",x2:"8.0001",y2:"14.4001",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1"})]}),t.jsx("clipPath",{id:"clip0_credit_coin",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})})]})]})},rxe="data:image/webp;base64,UklGRiYMAABXRUJQVlA4WAoAAAAQAAAAaQAAcwAAQUxQSPUEAAAB8EVtmxlt27ZteyXHqb6u67Zt27Zt27Zt27Zt27Zt35fRqWz7NrGn091VdWkuIiYAxxd3i1Od46JXvsHNb3uH29/mVje+zpUvfZ4znHyx05zTXO95X/7LEdQm84G/+erbHnTp0y3qM8PuO3zmYEnuzs26u+KB337EeXZgVosZDnjlIHeW6JT4rZvvgqUaEhZvco0seKT0hQvAUmnW4a7ZR5Y+Un++CpIVZSl9WZlztXn6rKjfnBGpILPFPzVyWmXO4ah3IVkphpMf7px0lbyCWYefDV0ZhlMf5ZxU8RNk1j3Ql2B24iOc0VXjBAd9CF0J+LcYVekEs36BzraV8CaNQfUGkoccYLYdw4U0khxV81TWeZG29F9G1e2BWddGtwXDk9QCaSTJpW6NbgsLMar+wEGPRbcpw0snvAEKXOpJ6De1zxnVxMClnol+M3iYGqLApV6GfhOG/zOqlU6Sg56KfgO4ooIaSpJLPR39Bj7YHJHkUi9Fv46lQ9kcJ8lBz0e3Bm6ooLY6SS71SKQ13tkiOUkudW3YHMP/vEUSSQ46XZqDc4gk1Sbm5U4350WtUiB/hG7GX7xVGkmOejBsxUlFkmozSQ46dVpxo5Y5SY5/RJp6V8vkJKnr2NRfvWUK+UBYWIgk1WwnSV0O8VKNU/AvTNyzdSI5co8BeP7RAXUFAPhg8Oa9MPygeU7Svx3+6iTVdJL8DwA78OjhyAR0hx09cA+wszx68L3Annz0oH3APh49cE+I7Rt6oDvSjxYOAoD/Bm+Zh9+F3xwt+OfDZ0SSLSNJvSQ8/OjhBgDsVBpJeuvOhPivwMblbuJmCt4sxp8jGo7MJMem6SkTwC01kmTTzmUTCb/mZMNyN4W00BDYJMavYObltQxsla41I+FWGgLb4ySzdmwVOtxPQ2BzGL+C2R2epCGwRbqczUKPZ2oIbAvj/5HmocfjNQQ2R4/H2j0eqWVgY7IWthZ63EtDYDsYP4ENoMPVlQNbQZKjzpGwyYQLKAd6O/gT2EaQcFrlQLaAJLPOnrDhZIvMMbAR/AZsU7C060DPgdWRZNaJE7bY4UfKgZUx6smwbaDD+7QMrMrD+Dd02G6HZ2sZxoqcJLNO3mHbPe6jgZO1MC51PdjW0OGSymNgHYxZz0KHAhNO/G/lwAo4mfVG9CjSOnxEQxWcHvRq9Ci1w/VHL845PWbdHj3K7fEzleR0rs765ynRoWC7jFgKo3N6zDrynkiGgg2/ZSFc0/X/O5olFG2n1lgGZ0v5U5cAEkp/ukhShbgk5b+99go7MEPphr+RpLbvJEf+60vPv/M5dgOAocLTqiC9FZOGSu9REg+eqvazXoiCTm1V/S14MXdDzQeIJFWKf7GqC5XjJHlwVfcsR0EnrunZwQu6TE1vDSzoLjV9IqigJ9b0xdJeU9PXClJ4Q01fLsjDK2v6RPAyGJ5R02tKu1VN1w4sghOnt3rsAI0kfXuc/geq/l0guSVOjrpFVXZ1jRPczhhG/y66mhL+soJbIZmlj6FH4TYP6cRy9xL0qR30KPpEl75+ZzDAVljaef0vDi3ihTAUff5nf+Ab3+kTbneaVUACrqMteXgSyj7hcz/zha/94Za46K9eivmPDD6HcQ3XzQu7/Ee+8IXPfP3J6cO/efYaDwqcwZWrSFJnL+yOH/rIxz7y2Rec4Wu/etoa15vHufP2FAMAVlA4IAoHAABQJgCdASpqAHQAPpE6mUiloyIhLbFduLASCWkA0G2q//+t1C1Ts6e2OZrwS0qegB/J/7N6KP+/5p/qb/ye4R+sXpO+vf91PY3/V1NGs3elmGfATlienSCJqdFe4X8R8K4EiL5CJpsEAaXudQ6iuop9cAaE+rHdvDZlYilXRhKgsxJJUYHcfblRBw6FaxRwPtFSFTyfzX6k3lpWpABdIsPj3nTPEk/OBAWjHX34liIYKUYuil7/OzDSWdfb88Qflu0eiv0Qorbq1Ql/tOIoyJOqxHIFCtSRSGIiR7CZOPJKdCzjJFgSJorbs42Fix7VSxfvt46JJAeFhuaMRmM72DK5+b2lwmo670h5/qiNklQ/lnSuHUHjvQt1WxPHlS/G81ffceASl0lamvR0SGpOhblDKWNjS5vqMgwyNAAA/vZllvee9nUfpvZ6jcavitYKI8+hNfMPmZw9HRu6q04kNo7Ixv13p07MZLWXVPaNRLRdxRjihdh062eFoeFkgq+H/xC8xAr2+0fs48vmJNuHwnuKdhNCmXuE1nowsbiksNyRq+FhKAp/OnvCGsrQlKrH+vclpi7Q59Ii8IlKUpubAIOHcHHDCV3ZqJqZ92OmqlcLQYmr7/Omj6kfzJrC//piGhb/hn3NiOuMMQalzST3/mPj/s9AnUfI0X9WdD4KHkFNVcQGJ3xmEVpx4+5+RiaM8P6zXWGJwAw87ENg+4MaSWwNNmJyzQ3iek03guTu4t6NfnkrPQDNLENrR/loUvcRXAQ027eh2PcNXIbeuJqqZoliL2YbKoFkE2LHagI02QZeomTj5zQpm0gJCrLf6z/0ocYgfGZVfExJP/Eq8KVXImjKlO0m/NYPqGVvfVS6ZgBPI4U30tw8Mx+7UcEhVf36VgpRLkYFgfZePWYn0WLUPtYCUrUe/tcgy5i/2v54cP1Vaq6wtqrFTT1hcnUa8FopJ2miqXNv5haf8Z9rtaCORhNfa5DJ//tV7b1HtDftRZUuIm62HPO41PQtu2seCENHD2L5bDeiPeQ9iWSIu9sHVd67OqO3t5v5lAuM0GC+2ohVhRNVbGB56P+6sv/PqkxosIkR/kCC+WQKXHDQPf6dqcAF3YdEVis8Qx1D3FCb7aMRDIzSihgy8LL+IWWP0/OvWzc49ItVpDsnFt4jyFFsT1smH1+OyChrfdESr5109E6bbIWSXia+V6yPV/mgTsPQQp6aeTDMZNnw27ewkKRYmNLlSHgn7cqd+8tVLDdWWvylhTc4bGcAb0Ph2J/P/hETK39x8YeOpnLdpKXkjfe7VPd/PGjVXG42H+e2np800ZiJLtR/jgQ29rv28tcxw8bDC7fhvB1bpqkBe+URc77KNfiAf+Gwr51Kk/yvMS0GmrY7IvHJlgsJre2e/qHo/LejfauN0gcO6iL3S4w6cyrzQ8RQJpeG0QrHftERzO/0lAQnNkpwA5sVftQwN36EPPPCneTk/35jn4tbDdOMDn3nflw19cyPZbxDLwfZ06NloXoQ//Wyb0P2XpDap1MiUcxu6i8vFjsYuT3wu3/dpcf9vv8//8Rb3Wfo7KvMhWHwLM0ZXtYet3aFULtUZsRUC59MJOhawRpom2L57pPWN+w+Je8ixMqbmqMYvWYNy2qRfgMu36BwNa4UZC4+zWh6/wcNdvsgH3r6SaaNUXMzNFLbmkh6peze/JorgqPU/+/VXx16sSz4+1sTTRA76RMy1pvZXPgKKUWC69pv6qAxLuslD+nOz9dPveyFdNvI/5nviz4QsxD4eKmU8KFX7fP8o01nK4FR7E5cpnHHafSvGyFD7SbP+QSEagQSExwUopl1VJma0p3M4vueDrHmDLGDqlS6UU17yxHRJa+9iwvKzcoP1+h6xbd2nTVrhUPIccgnPNbaSdIl3oKHhBNY/X8F5RYgmaqDfwdiMQyWs88bqvursJIUsZj8/jzLDvbMv4WmGdKg8Yo3BTopz/R4HsjE3Sj3/v72qXAsBMQ55D6p1VuJM7CopRstnbmf2XSidxaqZkfbTR4CF+IQE+PcIb7a1OebwEIeOvGAPAcZoaYRqEnyRDVQhl3U6QCAHMYCkMIyjkh/M6E+eOG/MhciaEyztp83wKnslSc0z9j1OeOGBhQdkYGfNHzxY5fFXjr8BT84eLcdlSNaq7WUG35Qkr99MdniH2W2aYW87z2A4sqjr6bS9PblgRquZGAhJQKW+cbXIbO2s2/zpra31N60+XAGZ0P12QXMwHPIc5Jxh6VZCF5H2xXl7RjTDpy090BmD1ClvuMGfzyadtFD5HvudWz/faLOx72Slp8DoeDbMb4+c7a2DTXaIYIF0ScHtRy9zrltDQKIx6GwTEbzlo1xVFHvFKTUtdlDMpce6Tsfyp2UCWrRwhUGkiqeoETNlAAAAA==",ixe="/assets/searching_robo-CDAEChxa.png",axe="/assets/gifting_robo-CsUeLwSp.png",oxe="/assets/free_gift-CIR8bsBM.png",lxe={V1:{title:"Here's 50 bonus credits on us",subtitle:"We want you to finish what you started. These credits never expire and stack with your monthly allocation.",planLabel:"Bonus credits",originalPrice:"",price:"50",period:"credits",discount:"Free",cta:"Claim 50 Credits",features:["50 bonus credits instantly","Keep your current plan","No additional charges","Use credits anytime"]},V2:{title:"Try one more month for just $5",subtitle:"That's 75% off your next renewal. If you're still not convinced, cancel anytime no questions asked.",planLabel:"Standard plan",originalPrice:"$20",price:"$5",period:"/ month",discount:"75% Off",cta:"Get 75% Off",features:["100 credits / month","Private project hosting","Github integration","Fork tasks","Ability to buy additional credits"]},V3:{title:"Stay for just $4.17/month",subtitle:"Annual Lite is $50/year, one payment, 50 credits every month, no recurring charges to worry about.",planLabel:"Annual lite plan",originalPrice:"$200",price:"$50",period:"/ year",discount:"75% Off",cta:"Switch to Annual Lite",features:["50 credits / month","Private project hosting","Github integration","Fork tasks","Ability to buy additional credits"]}};function cxe(e,n){const s=lxe[e];if(!n||!n[e])return s;if(e==="V1"){const i=n.V1;return{...s,title:i.message,price:String(i.credits_amount),cta:`Claim ${i.credits_amount} Credits`,features:[`${i.credits_amount} bonus credits instantly`,"Keep your current plan","No additional charges","Use credits anytime"]}}if(e==="V2"){const i=n.V2,a=Math.round(20*(1-i.discount_percent/100));return{...s,title:i.message,discount:`${i.discount_percent}% Off`,price:`$${a}`}}if(e==="V3"){const i=n.V3;return{...s,title:i.message,price:`$${i.annual_price}`,features:[`${i.monthly_credits} credits / month`,"Private project hosting","Github integration","Fork tasks","Ability to buy additional credits"]}}return s}function dxe(e){if(e.length<=1)return e;const n=e.findIndex(i=>i.text.toLowerCase().includes("other")),s=n!==-1?e[n]:null,r=e.filter((i,a)=>a!==n);for(let i=r.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[r[i],r[a]]=[r[a],r[i]]}return s?[...r,s]:r}const Hm="cancel_subscription_variant",Vm="cancel_subscription_reason",uxe=({isOpen:e,onClose:n,onCancelComplete:s,onClaimOffer:r,onSubmitFeedback:i,retentionOffers:a,isLoadingOffers:o=!1,currency:l="USD",feedbackOnly:c=!1})=>{const u=localStorage.getItem(Hm),p=localStorage.getItem(Vm),f=!c&&a?.eligible===!0,m=()=>f?u?"offer":"reason":"feedback",[h,x]=d.useState(m()),[g,v]=d.useState(-1),[b,y]=d.useState(u),[w,_]=d.useState(p),[N,j]=d.useState(""),[C,S]=d.useState(""),[F,E]=d.useState(!1),I=d.useMemo(()=>a?.reasons?dxe(a.reasons):[],[a]);d.useEffect(()=>{o||(c||!a||a.eligible!==!0?(h!=="feedback"&&x("feedback"),b&&(localStorage.removeItem(Hm),y(null)),w&&(localStorage.removeItem(Vm),_(null))):u&&h==="reason"&&x("offer"))},[o,a,h,u,b,c]),d.useEffect(()=>{if(!e){const Z=!c&&a?.eligible===!0?b?"offer":"reason":"feedback";x(Z),v(-1),j(""),S(""),E(!1)}},[e,a?.eligible,b,c]);const T=g>=0?I[g]:null,A=b||T?.variant||"V1",D=cxe(A,a?.offers),O=()=>a?.offers&&a.offers[A]?.offer_name||"",M=N.trim().length,L=f||M>25,P=()=>{n()},B=T?.text.toLowerCase().includes("other")||!1,G=()=>{if(g>=0&&T){const W=B&&C.trim()?C.trim():T.text;localStorage.setItem(Hm,T.variant),localStorage.setItem(Vm,W),y(T.variant),_(W),x("offer")}},$=()=>{x("feedback")},te=async()=>{const W=O();if(!W)return;const Z=w||T?.text||"";E(!0);try{const le=await r(W,A);try{await i(Z,"")}catch{}if(le.variant==="V3"){const q=le;if(q.requires_checkout&&q.plan_id){const Q=await vt.createCheckoutSession(0,!0,q.plan_id,void 0,l,void 0,q.coupon_id);if(Q?.url){window.location.href=Q.url;return}}}"success"in le&&le.success&&(localStorage.removeItem(Hm),localStorage.removeItem(Vm),P())}catch{}finally{E(!1)}},U=async()=>{E(!0);try{const W=w||T?.text||"";await i(W,N),localStorage.removeItem(Hm),localStorage.removeItem(Vm),s(),P()}catch{}finally{E(!1)}},oe=()=>h==="reason"?a?.question||"What changed?":h==="offer"?D.title:"Help us learn from your experience",Y=()=>h==="reason"?"Help us understand what's making you cancel. This helps us tailor a better option for you.":h==="offer"?D.subtitle:"We'd love for you to stay. Tell us what didn't work, and we'll improve it as quickly as we can.";return t.jsx(as,{open:e,onOpenChange:P,children:t.jsxs(Cr,{children:[t.jsx(Z5,{className:"z-[10000] bg-[#0F0F10]/80 backdrop-blur-[6px]"}),t.jsxs(Er,{className:"z-[10000] w-[550px] h-auto sm:h-auto max-w-[calc(100%-32px)] sm:max-w-[calc(100%-48px)] max-h-[calc(100vh-32px)] sm:max-h-[calc(100vh-48px)] bg-[#18181a] rounded-[16px] sm:rounded-[20px] p-4 sm:p-6 flex flex-col overflow-hidden",children:[t.jsx("button",{type:"button",onClick:P,disabled:F,className:"absolute top-5 right-5 bg-[#2a2a2c] p-2 rounded-full text-white/60 hover:text-white hover:bg-white/10 transition-all duration-200 disabled:opacity-50 z-10","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})}),t.jsx(Kn,{mode:"wait",children:t.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"flex flex-col h-full min-h-0 overflow-hidden",children:[t.jsxs("div",{className:"flex-shrink-0",children:[h==="reason"&&t.jsx("div",{className:"mb-4 w-20 h-20 rounded-full bg-[#2F2F31] overflow-hidden relative",children:t.jsx("img",{src:ixe,alt:"",className:"absolute w-[63px] h-[76px] object-contain left-[calc(50%+3.67px)] top-[calc(50%+9px)] -translate-x-1/2 -translate-y-1/2"})}),h==="offer"&&t.jsx("div",{className:"mb-4 w-20 h-20 rounded-full bg-white/5 overflow-hidden relative",children:t.jsx("img",{src:axe,alt:"",className:"absolute w-[66px] h-[76px] object-cover left-1/2 -translate-x-1/2 bottom-0"})}),h==="feedback"&&t.jsx("div",{className:"mb-5 w-20 h-20 rounded-full bg-white/5 overflow-hidden relative",children:t.jsx("img",{src:rxe,alt:"",className:"absolute w-[58px] h-[66px] object-cover left-1/2 -translate-x-1/2 bottom-0"})}),t.jsx("h2",{className:"text-[20px] sm:text-[24px] font-semibold leading-7 sm:leading-8 text-white mb-2",children:oe()}),t.jsx("p",{className:"text-[13px] sm:text-[15px] text-white/60 leading-5 sm:leading-6 mb-4 sm:mb-6",children:Y()})]}),t.jsx("div",{className:k("rounded-[20px] mb-6 min-h-0",h==="reason"&&"bg-[#212124] overflow-y-auto sm:overflow-visible",h==="offer"&&"border border-[rgba(255,255,255,0.12)] p-[6px] overflow-y-auto",h==="feedback"&&"border border-[rgba(255,255,255,0.12)] p-[6px] rounded-[20px] flex"),children:t.jsxs("div",{className:k("rounded-[16px] h-full",h==="reason"&&"p-4",h==="offer"&&A==="V1"&&"p-0 overflow-hidden",h==="offer"&&A!=="V1"&&"p-5 bg-[#212124] overflow-hidden",h==="feedback"&&"bg-transparent p-0 flex-1 w-full flex"),children:[h==="reason"&&t.jsx("div",{className:"flex flex-col",children:o?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):I.length===0?t.jsx("div",{className:"flex items-center justify-center py-12 text-white/60",children:"Unable to load options. Please try again."}):I.map((W,Z)=>{const le=g===Z,q=W.text.toLowerCase().includes("other");return t.jsxs(et.Fragment,{children:[t.jsxs("button",{type:"button",onClick:()=>v(Z),className:"group flex items-center gap-3 w-full py-3 text-left transition-all duration-200",children:[t.jsx("div",{className:k("w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 transition-all duration-200",le?"bg-[#80fff9]":"border-2 border-white/30 group-hover:border-white/60"),children:le&&t.jsx(xn,{className:"w-4 h-4 text-[#0f0f10]",strokeWidth:3})}),t.jsx("span",{className:k("text-[14px] sm:text-[16px] font-medium transition-colors duration-200",le?"text-[#80fff9]":"text-white group-hover:text-white/80"),children:W.text})]}),q&&le&&t.jsx("input",{type:"text",value:C,onChange:Q=>S(Q.target.value),placeholder:"Please specify your reason...",className:"ml-9 mb-2 bg-[#151517] border border-white/[0.12] focus:border-white/30 rounded-[12px] px-3 py-2.5 text-[14px] text-white placeholder:text-white/30 outline-none transition-colors duration-200",autoFocus:!0})]},`${W.text}-${Z}`)})}),h==="offer"&&t.jsxs(t.Fragment,{children:[A==="V1"&&t.jsx("img",{src:oxe,alt:"Free bonus credits",className:"w-full h-full object-cover rounded-[16px]"}),(A==="V2"||A==="V3")&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-[12px] sm:text-[14px] text-white/60 font-medium mb-3 sm:mb-4",children:D.planLabel}),t.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5",children:[t.jsx("span",{className:"text-[24px] sm:text-[32px] text-white/30 line-through font-medium",children:D.originalPrice}),t.jsx("span",{className:"text-[24px] sm:text-[32px] font-semibold text-white",children:D.price}),t.jsx("span",{className:"text-[13px] sm:text-[15px] text-white/40",children:D.period}),t.jsx("span",{className:"bg-[#99ff9e] px-2 sm:px-3 py-1 sm:py-1.5 rounded-[50px] text-[#003303] font-semibold text-[11px] sm:text-[13px] ml-auto",children:D.discount})]}),t.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:D.features.map((W,Z)=>t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[Z===0?t.jsx($2,{size:20}):t.jsx(xn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white/60 flex-shrink-0"}),t.jsx("span",{className:k("text-[12px] sm:text-[14px]",Z===0?"text-white font-medium":"text-white/80"),children:W})]},Z))})]})]}),h==="feedback"&&t.jsx("textarea",{value:N,onChange:W=>j(W.target.value),placeholder:f?"Tell us more about your experience...":"Tell us more about your experience (minimum 25 characters)...",className:k("w-full flex-1 min-h-[150px] sm:min-h-[220px] bg-[#151517] rounded-[16px] p-3 sm:p-4 text-[14px] sm:text-[16px] text-white placeholder:text-white/30 outline-none resize-none transition-colors duration-200 font-medium border block",!f&&M>0&&M<=25?"border-[#cc5252] focus:border-[#cc5252]":"border-white/[0.12] focus:border-white/20")})]})}),h==="feedback"&&!f&&M>0&&M<=25&&t.jsx("p",{className:"text-[#cc5252] text-[13px] -mt-4 mb-2",children:"Please enter at least 25 characters"}),t.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3 mt-auto flex-shrink-0",children:[h==="reason"&&t.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[t.jsx("button",{type:"button",onClick:P,className:"flex-1 h-[44px] sm:h-[48px] bg-[#272729] hover:bg-[#323235] rounded-[12px] text-[#dcdce5] font-medium text-[13px] sm:text-[15px] transition-colors duration-200",children:"Keep current plan"}),t.jsx("button",{type:"button",onClick:G,disabled:g<0||B&&!C.trim(),className:k("flex-1 h-[44px] sm:h-[48px] rounded-[12px] font-semibold text-[13px] sm:text-[15px] transition-all duration-200",g>=0&&!(B&&!C.trim())?"bg-white text-[#0f0f10] hover:bg-white/90":"bg-white/20 text-white/40 cursor-not-allowed"),children:"Continue"})]}),h==="offer"&&t.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[t.jsx("button",{type:"button",onClick:$,disabled:F,className:"flex-1 h-[44px] sm:h-[48px] bg-[#272729] hover:bg-[#323235] rounded-[12px] text-[#dcdce5] font-medium text-[13px] sm:text-[15px] transition-colors duration-200 disabled:opacity-50",children:"No thanks, Cancel"}),t.jsx("button",{type:"button",onClick:te,disabled:F,className:"flex-1 h-[44px] sm:h-[48px] rounded-[12px] font-semibold text-[13px] sm:text-[15px] transition-all duration-200 bg-white text-[#0f0f10] hover:bg-white/90 disabled:opacity-50",children:F?"Processing...":D.cta})]}),h==="feedback"&&t.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[t.jsx("button",{type:"button",onClick:P,disabled:F,className:"flex-1 h-[44px] sm:h-[48px] bg-[#272729] hover:bg-[#323235] rounded-[12px] text-[#dcdce5] font-medium text-[13px] sm:text-[15px] transition-colors duration-200 disabled:opacity-50",children:"Keep current plan"}),t.jsx("button",{type:"button",onClick:U,disabled:F||!L,className:k("flex-1 h-[44px] sm:h-[48px] rounded-[12px] font-semibold text-[13px] sm:text-[15px] transition-all duration-200",L&&!F?"bg-[#cc5252] text-white hover:bg-[#d96060]":"bg-[#cc5252]/50 text-white/40 cursor-not-allowed"),children:F?"Cancelling...":"Confirm Cancellation"})]})]})]},h)})]})]})})},pxe=({size:e=24,width:n,height:s,className:r="",fill:i,gradientColors:a={start:"#FFF4DF",end:"#FFD702"}})=>{const o=n||e,l=s||e,c=`team-people-gradient-${Math.random().toString(36).substring(2,11)}`;return t.jsxs("svg",{width:o,height:l,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("path",{d:"M12 4.28906C11.6627 4.28906 11.3286 4.35551 11.0169 4.48461C10.7053 4.6137 10.4221 4.80292 10.1835 5.04146C9.945 5.28 9.75578 5.56319 9.62669 5.87486C9.49759 6.18653 9.43114 6.52057 9.43114 6.85792C9.43114 7.19527 9.49759 7.52931 9.62669 7.84098C9.75578 8.15265 9.945 8.43584 10.1835 8.67438C10.4221 8.91292 10.7053 9.10214 11.0169 9.23123C11.3286 9.36033 11.6627 9.42678 12 9.42678C12.6813 9.42678 13.3347 9.15613 13.8165 8.67438C14.2982 8.19262 14.5689 7.53922 14.5689 6.85792C14.5689 6.17662 14.2982 5.52322 13.8165 5.04146C13.3347 4.55971 12.6813 4.28906 12 4.28906ZM17.7857 5.57221C17.2742 5.57221 16.7837 5.77539 16.422 6.13707C16.0603 6.49875 15.8571 6.98929 15.8571 7.50078C15.8571 8.01227 16.0603 8.50281 16.422 8.86448C16.7837 9.22616 17.2742 9.42935 17.7857 9.42935C18.2972 9.42935 18.7877 9.22616 19.1494 8.86448C19.5111 8.50281 19.7143 8.01227 19.7143 7.50078C19.7143 6.98929 19.5111 6.49875 19.1494 6.13707C18.7877 5.77539 18.2972 5.57221 17.7857 5.57221ZM6.21429 5.57221C5.7028 5.57221 5.21226 5.77539 4.85058 6.13707C4.4889 6.49875 4.28571 6.98929 4.28571 7.50078C4.28571 8.01227 4.4889 8.50281 4.85058 8.86448C5.21226 9.22616 5.7028 9.42935 6.21429 9.42935C6.72578 9.42935 7.21631 9.22616 7.57799 8.86448C7.93967 8.50281 8.14286 8.01227 8.14286 7.50078C8.14286 6.98929 7.93967 6.49875 7.57799 6.13707C7.21631 5.77539 6.72578 5.57221 6.21429 5.57221ZM8.14286 11.9918C8.14523 11.6523 8.28174 11.3276 8.5226 11.0885C8.76346 10.8493 9.08913 10.7151 9.42857 10.7151H14.5714C14.9124 10.7151 15.2394 10.8505 15.4806 11.0916C15.7217 11.3328 15.8571 11.6598 15.8571 12.0008V15.8579C15.8575 16.2626 15.7941 16.6648 15.6694 17.0498C15.3847 17.9224 14.7983 18.6649 14.0154 19.1441C13.2325 19.6232 12.3044 19.8075 11.3978 19.664C10.4912 19.5204 9.6655 19.0584 9.06893 18.3608C8.47236 17.6632 8.14402 16.7758 8.14286 15.8579V11.9918ZM6.85714 12.0008C6.85714 11.5315 6.98186 11.0931 7.20171 10.7151H4.28571C3.94472 10.7151 3.6177 10.8505 3.37658 11.0916C3.13546 11.3328 3 11.6598 3 12.0008V15.2151C2.99983 15.7413 3.12886 16.2596 3.37578 16.7243C3.6227 17.189 3.97994 17.586 4.41614 17.8804C4.85234 18.1748 5.35415 18.3576 5.8775 18.4127C6.40085 18.4679 6.92974 18.3937 7.41771 18.1966C7.04845 17.4719 6.85633 16.67 6.85714 15.8566V12.0008ZM17.1429 12.0008V15.8579C17.1429 16.7001 16.941 17.4946 16.5823 18.1966C17.0703 18.3937 17.5991 18.4679 18.1225 18.4127C18.6459 18.3576 19.1477 18.1748 19.5839 17.8804C20.0201 17.586 20.3773 17.189 20.6242 16.7243C20.8711 16.2596 21.0002 15.7413 21 15.2151V12.0008C21 11.6598 20.8645 11.3328 20.6234 11.0916C20.3823 10.8505 20.0553 10.7151 19.7143 10.7151H16.7983C17.0169 11.0931 17.1429 11.5315 17.1429 12.0008Z",fill:i||`url(#${c})`}),!i&&t.jsx("defs",{children:t.jsxs("linearGradient",{id:c,x1:"4.575",y1:"1.59014",x2:"13.4881",y2:"21.9877",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:a.start}),t.jsx("stop",{offset:"1",stopColor:a.end})]})})]})},UH=({size:e=24,color:n="#CCCCCC",className:s=""})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{opacity:"0.5",d:"M22.6518 9.13063C22.634 8.85133 22.3245 8.7023 22.0884 8.85255L16.8328 12.197C15.5325 13.025 14.6836 13.5655 13.7507 13.7807C12.9279 13.9705 12.0727 13.9705 11.2498 13.7807C10.3169 13.5655 9.46808 13.025 8.16776 12.197L2.9122 8.85255C2.6761 8.7023 2.36654 8.85132 2.34878 9.13061C2.30018 9.89445 2.30023 10.7967 2.3003 11.8818L2.3003 12.041C2.30029 13.3049 2.30029 14.3101 2.36655 15.1211C2.4344 15.9515 2.57633 16.6597 2.9067 17.3081C3.44011 18.3549 4.29123 19.2061 5.3381 19.7395C5.98649 20.0698 6.69462 20.2118 7.52509 20.2796C8.33605 20.3459 9.3412 20.3459 10.6051 20.3459H14.3954C15.6593 20.3459 16.6645 20.3459 17.4755 20.2796C18.306 20.2118 19.0141 20.0698 19.6625 19.7395C20.7094 19.2061 21.5605 18.3549 22.0939 17.3081C22.4243 16.6597 22.5662 15.9515 22.634 15.1211C22.7003 14.3101 22.7003 13.305 22.7003 12.0411L22.7003 11.8818C22.7004 10.7967 22.7004 9.89446 22.6518 9.13063Z",fill:n}),t.jsx("path",{d:"M14.3951 3.65625H10.6048C9.34094 3.65624 8.33573 3.65624 7.52475 3.7225C6.69429 3.79035 5.98616 3.93228 5.33776 4.26265C4.42781 4.72629 3.66575 5.42999 3.13168 6.29362C3.00542 6.49781 3.07782 6.76123 3.28036 6.89012L9.01514 10.5395C10.517 11.4952 11.083 11.8404 11.6663 11.9749C12.2149 12.1014 12.785 12.1014 13.3336 11.9749C13.9169 11.8404 14.4829 11.4952 15.9848 10.5395L21.7196 6.8901C21.9221 6.76122 21.9945 6.49779 21.8682 6.29361C21.3342 5.42998 20.5721 4.72629 19.6622 4.26265C19.0138 3.93228 18.3056 3.79035 17.4752 3.7225C16.6642 3.65624 15.659 3.65624 14.3951 3.65625Z",fill:n})]}),HH=d.createContext(void 0),fxe=({children:e,initialConfig:n})=>{const[s,r]=d.useState({show:!1,level:"info",content:"",dismissible:!0,...n}),[i,a]=d.useState(0),[o,l]=d.useState(new Map),c=d.useCallback(_=>{r({..._,show:!0})},[]),u=d.useCallback(()=>{r(_=>({..._,show:!1}))},[]),p=d.useCallback(_=>{r(N=>({...N,..._}))},[]),f=d.useCallback(_=>{a(_)},[]),m=d.useCallback((_,N)=>{l(j=>{const C=new Map(j);return C.set(_,N),C})},[]),h=d.useCallback(_=>{l(N=>{const j=new Map(N);return j.delete(_),j})},[]);d.useEffect(()=>{s.show||a(0)},[s.show]);const x=d.useCallback((_,N=!0)=>{c({level:"info",content:_,dismissible:N})},[c]),g=d.useCallback((_,N=!0)=>{c({level:"warning",content:_,dismissible:N})},[c]),v=d.useCallback((_,N=!0)=>{c({level:"error",content:_,dismissible:N})},[c]),b=d.useCallback((_,N=!0)=>{c({level:"success",content:_,dismissible:N})},[c]),y=Array.from(o.values()).reduce((_,N)=>_+N,0),w={bannerConfig:s,bannerHeight:i,totalBannerHeight:i+y,externalBannersHeight:y,showBanner:c,hideBanner:u,updateBanner:p,setBannerHeight:f,registerBannerHeight:m,unregisterBannerHeight:h,showInfo:x,showWarning:g,showError:v,showSuccess:b};return t.jsx(HH.Provider,{value:w,children:e})},ka=()=>{const e=d.useContext(HH);if(e===void 0)throw new Error("useAlert must be used within an AlertProvider");return e},oC=d.memo(({isOpen:e,onOpenChange:n,desktopImageUrl:s,mobileImageUrl:r,couponCode:i,triggerLocation:a="default"})=>{const{user:o}=os(),{totalBannerHeight:l}=ka(),{isMobile:c}=ts(),u=Hr(),{newToast:p}=Ga(),f=d.useMemo(()=>l+56,[l]),m=d.useCallback(v=>{!v&&o&&H(qn.MODAL_CLOSED,{modalType:"pix_launch",triggerLocation:a,userId:o.id}),n(v)},[n,o,a]),h=d.useCallback(()=>{o&&H(qn.MODAL_CTA_CLICKED,{modalType:"pix_launch",triggerLocation:a,userId:o.id,action:"claim_offer",couponCode:i}),m(!1),u.open({planType:"personal",triggerLocation:"pix_launch"})},[m,u,o,a,i]),x=d.useCallback(()=>{navigator.clipboard.writeText(i),p.success("Coupon code copied!"),o&&H(qn.MODAL_CTA_CLICKED,{modalType:"pix_launch",triggerLocation:a,userId:o.id,action:"copy_coupon",couponCode:i})},[i,p,o,a]);if(d.useMemo(()=>{e&&o&&H(qn.MODAL_OPENED,{modalType:"pix_launch",triggerLocation:a,userId:o.id})},[e,o,a]),!e)return null;const g=c?r:s;return t.jsx(Kn,{children:e&&t.jsx(fe.div,{style:{top:`${f}px`},className:k("fixed inset-0 w-full z-50 flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]"),onClick:()=>m(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:t.jsxs(fe.div,{className:"relative max-md:max-w-[95dvw] w-full max-w-[800px] border border-[#333333] mx-auto max-md:h-[80dvh] md:h-[650px] rounded-[16px] overflow-hidden",onClick:v=>v.stopPropagation(),initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeInOut"},children:[t.jsx("img",{src:g,alt:"Pix Launch Background",className:"absolute inset-0 w-full h-full object-cover",loading:"eager",style:{backgroundColor:"#1a1a1a"}}),t.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),m(!1)},className:"absolute top-6 right-6 w-10 h-10 bg-[rgba(255,255,255,0.08)] rounded-full flex items-center justify-center text-white backdrop-blur-[25px] hover:bg-[rgba(255,255,255,0.12)] transition-colors z-10","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 max-md:pb-8 md:pb-[50px] flex flex-col items-center gap-4",children:[t.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"flex flex-col items-center gap-[16px] max-md:pb-4 md:pb-[20px]",children:[t.jsxs("div",{className:"flex items-center justify-between pl-5 pr-2 py-2 min-w-[280px] w-full border border-solid rounded-[14px]",style:{backdropFilter:"blur(25px)",WebkitBackdropFilter:"blur(25px)",backgroundColor:"rgba(255, 255, 255, 0.04)",borderColor:"rgba(255, 255, 255, 0.2)"},children:[t.jsx("span",{className:"font-brockmann font-semibold text-[20px] leading-[24px] text-white",children:i}),t.jsxs("button",{onClick:x,className:"flex items-center gap-[6px] px-2 py-[6px] bg-white hover:bg-white/90 text-black rounded-[8px] transition-all",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsxs("g",{clipPath:"url(#clip0_8408_85050)",children:[t.jsx("path",{d:"M13.3334 10.7502V14.2502C13.3334 14.6922 13.1578 15.1161 12.8453 15.4287C12.5327 15.7412 12.1088 15.9168 11.6667 15.9168H5.75004C5.30801 15.9168 4.88409 15.7412 4.57153 15.4287C4.25897 15.1161 4.08337 14.6922 4.08337 14.2502V8.3335C4.08337 7.89148 4.25897 7.46756 4.57153 7.155C4.88409 6.84244 5.30801 6.66683 5.75004 6.66683H9.25004",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M11.0834 4.08317H14.25C14.692 4.08317 15.116 4.25877 15.4285 4.57133C15.7411 4.88389 15.9167 5.30781 15.9167 5.74984V8.91651C15.9167 9.35853 15.7411 9.78245 15.4285 10.095C15.116 10.4076 14.692 10.5832 14.25 10.5832H11.0834C10.6413 10.5832 10.2174 10.4076 9.90486 10.095C9.5923 9.78245 9.41671 9.35853 9.41671 8.91651V5.74984C9.41671 5.30781 9.5923 4.88389 9.90486 4.57133C10.2174 4.25877 10.6413 4.08317 11.0834 4.08317Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_8408_85050",children:t.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),t.jsx("span",{className:"font-brockmann font-semibold text-[16px] leading-[24px] tracking-[-0.32px] text-black",children:"Copy Code"})]})]}),t.jsx("p",{className:"text-[14px] font-medium leading-[24px] text-white opacity-60 text-center",children:"Paste this code in the checkout session to redeem the offer"})]}),t.jsxs(fe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:h,className:"flex items-center justify-center max-md:gap-[6px] md:gap-[8px] max-md:px-6 md:px-8 py-[8px] h-[48px] max-md:w-[280px] md:w-[300px] rounded-[30px] bg-[#66FFEA]",style:{boxShadow:"0px 0px 40px 0px #66FFEA66"},children:[t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotateY(180deg)"},className:"shrink-0",children:t.jsx("path",{d:"M18.4958 10.2605L19.4231 10.012L21.4108 17.4303C21.5426 17.9222 21.4736 18.4463 21.219 18.8872C20.9644 19.3282 20.545 19.65 20.0531 19.7818L15.4167 21.0242L12.932 11.7513L18.4958 10.2605ZM6.44101 13.4905L11.0775 12.2482L13.5621 21.5211L8.92567 22.7634C8.43381 22.8952 7.90974 22.8262 7.46874 22.5716C7.02775 22.317 6.70596 21.8976 6.57416 21.4058L4.58643 13.9875L6.44101 13.4905ZM4.4652 9.05063C4.20947 8.63565 4.01844 8.18413 3.89869 7.71162C3.41915 5.92196 4.4849 4.07602 6.27457 3.59648C7.77863 3.19347 9.15111 4.29862 10.1976 5.61139C10.4601 4.03535 11.1252 2.29676 12.7656 1.85722C14.5553 1.37768 16.4012 2.44343 16.8807 4.2331C17.0288 4.78576 17.0781 5.26254 17.0596 5.67596L20.0353 4.87863L21.0292 8.58779L12.6836 10.824L12.1866 8.9694L10.3321 9.46634L10.829 11.3209L2.48339 13.5571L1.48953 9.84796L4.4652 9.05063ZM15.0262 4.73003C14.8207 3.96316 14.0294 3.50631 13.2625 3.7118C12.4391 3.93243 12.0521 5.55178 11.9697 7.03979L14.4716 6.36943C14.8184 6.2765 15.3989 6.12096 15.0262 4.73003ZM6.7715 5.45106C6.00464 5.65654 5.54779 6.44782 5.75327 7.21469C6.12597 8.60562 6.70645 8.45009 7.05326 8.35716L9.35015 7.74171C8.48565 6.40702 7.44472 5.27067 6.7715 5.45106Z",fill:"#1C1C1D"})}),t.jsx("p",{className:"font-brockmann font-semibold max-md:text-[18px] md:text-[20px] leading-[32px] tracking-[-0.4px] text-[#272728] whitespace-nowrap",style:{textShadow:"0 0 20px rgba(255, 255, 255, 0.6)"},children:"Claim 90% Off"}),t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"shrink-0",children:t.jsx("path",{d:"M18.4958 10.2605L19.4231 10.012L21.4108 17.4303C21.5426 17.9222 21.4736 18.4463 21.219 18.8872C20.9644 19.3282 20.545 19.65 20.0531 19.7818L15.4167 21.0242L12.932 11.7513L18.4958 10.2605ZM6.44101 13.4905L11.0775 12.2482L13.5621 21.5211L8.92567 22.7634C8.43381 22.8952 7.90974 22.8262 7.46874 22.5716C7.02775 22.317 6.70596 21.8976 6.57416 21.4058L4.58643 13.9875L6.44101 13.4905ZM4.4652 9.05063C4.20947 8.63565 4.01844 8.18413 3.89869 7.71162C3.41915 5.92196 4.4849 4.07602 6.27457 3.59648C7.77863 3.19347 9.15111 4.29862 10.1976 5.61139C10.4601 4.03535 11.1252 2.29676 12.7656 1.85722C14.5553 1.37768 16.4012 2.44343 16.8807 4.2331C17.0288 4.78576 17.0781 5.26254 17.0596 5.67596L20.0353 4.87863L21.0292 8.58779L12.6836 10.824L12.1866 8.9694L10.3321 9.46634L10.829 11.3209L2.48339 13.5571L1.48953 9.84796L4.4652 9.05063ZM15.0262 4.73003C14.8207 3.96316 14.0294 3.50631 13.2625 3.7118C12.4391 3.93243 12.0521 5.55178 11.9697 7.03979L14.4716 6.36943C14.8184 6.2765 15.3989 6.12096 15.0262 4.73003ZM6.7715 5.45106C6.00464 5.65654 5.54779 6.44782 5.75327 7.21469C6.12597 8.60562 6.70645 8.45009 7.05326 8.35716L9.35015 7.74171C8.48565 6.40702 7.44472 5.27067 6.7715 5.45106Z",fill:"#1C1C1D"})})]})]})]})})})});oC.displayName="PixModal";const mxe=Object.freeze(Object.defineProperty({__proto__:null,PixModal:oC},Symbol.toStringTag,{value:"Module"}));function hxe({couponCode:e,onBannerClick:n}){const[s,r]=d.useState(!1),{newToast:i}=Ga(),a=()=>{r(!0),n?.()},o=l=>{l.stopPropagation(),e&&(navigator.clipboard.writeText(e),i.success("Code Copied"))};return e?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-center sticky z-[999] top-0 left-0 right-0 mb-2 w-full px-5 py-2 gap-[30px] max-md:px-3 max-md:py-3 cursor-pointer hover:bg-[rgba(102,255,234,0.15)] transition-colors",style:{background:"rgba(102, 255, 234, 0.1)",backdropFilter:"blur(25px)",WebkitBackdropFilter:"blur(25px)"},onClick:a,children:[t.jsxs("div",{className:"hidden md:flex items-center gap-[10px]",children:[t.jsx("div",{className:"flex items-center justify-center shrink-0",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotateY(180deg)"},children:[t.jsx("path",{d:"M18.4958 10.2605L19.4231 10.012L21.4108 17.4303C21.5426 17.9222 21.4736 18.4463 21.219 18.8872C20.9644 19.3282 20.545 19.65 20.0531 19.7818L15.4167 21.0242L12.932 11.7513L18.4958 10.2605ZM6.44101 13.4905L11.0775 12.2482L13.5621 21.5211L8.92567 22.7634C8.43381 22.8952 7.90974 22.8262 7.46874 22.5716C7.02775 22.317 6.70596 21.8976 6.57416 21.4058L4.58643 13.9875L6.44101 13.4905ZM4.4652 9.05063C4.20947 8.63565 4.01844 8.18413 3.89869 7.71162C3.41915 5.92196 4.4849 4.07602 6.27457 3.59648C7.77863 3.19347 9.15111 4.29862 10.1976 5.61139C10.4601 4.03535 11.1252 2.29676 12.7656 1.85722C14.5553 1.37768 16.4012 2.44343 16.8807 4.2331C17.0288 4.78576 17.0781 5.26254 17.0596 5.67596L20.0353 4.87863L21.0292 8.58779L12.6836 10.824L12.1866 8.9694L10.3321 9.46634L10.829 11.3209L2.48339 13.5571L1.48953 9.84796L4.4652 9.05063ZM15.0262 4.73003C14.8207 3.96316 14.0294 3.50631 13.2625 3.7118C12.4391 3.93243 12.0521 5.55178 11.9697 7.03979L14.4716 6.36943C14.8184 6.2765 15.3989 6.12096 15.0262 4.73003ZM6.7715 5.45106C6.00464 5.65654 5.54779 6.44782 5.75327 7.21469C6.12597 8.60562 6.70645 8.45009 7.05326 8.35716L9.35015 7.74171C8.48565 6.40702 7.44472 5.27067 6.7715 5.45106Z",fill:"url(#gift-gradient-pix)"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gift-gradient-pix",x1:"12",y1:"2",x2:"12",y2:"21",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#66FFEA"}),t.jsx("stop",{offset:"1",stopColor:"#66FFEA"})]})})]})}),t.jsxs("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] tracking-[-0.2px] text-[#66FFEA] whitespace-nowrap",children:["Pix payments on Stripe ",t.jsx("span",{className:"font-semibold text-white font-brockmann",children:"Flat 90% off"})," on all our subscriptions. Use code"]}),t.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-[8px] px-3 py-1 cursor-pointer hover:opacity-80 transition-opacity shrink-0",onClick:o,children:[t.jsx("p",{className:"font-brockmann font-semibold text-[16px] leading-[24px] text-black whitespace-nowrap",style:{textShadow:"rgba(255, 255, 255, 0.6) 0px 0px 28.736px"},children:e}),t.jsx(Di,{size:20,className:"text-black"})]}),t.jsx("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] tracking-[-0.2px] text-[#66FFEA] whitespace-nowrap",children:"in the checkout session to redeem the offer"}),t.jsx("div",{className:"shrink-0",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M18.4958 10.2605L19.4231 10.012L21.4108 17.4303C21.5426 17.9222 21.4736 18.4463 21.219 18.8872C20.9644 19.3282 20.545 19.65 20.0531 19.7818L15.4167 21.0242L12.932 11.7513L18.4958 10.2605ZM6.44101 13.4905L11.0775 12.2482L13.5621 21.5211L8.92567 22.7634C8.43381 22.8952 7.90974 22.8262 7.46874 22.5716C7.02775 22.317 6.70596 21.8976 6.57416 21.4058L4.58643 13.9875L6.44101 13.4905ZM4.4652 9.05063C4.20947 8.63565 4.01844 8.18413 3.89869 7.71162C3.41915 5.92196 4.4849 4.07602 6.27457 3.59648C7.77863 3.19347 9.15111 4.29862 10.1976 5.61139C10.4601 4.03535 11.1252 2.29676 12.7656 1.85722C14.5553 1.37768 16.4012 2.44343 16.8807 4.2331C17.0288 4.78576 17.0781 5.26254 17.0596 5.67596L20.0353 4.87863L21.0292 8.58779L12.6836 10.824L12.1866 8.9694L10.3321 9.46634L10.829 11.3209L2.48339 13.5571L1.48953 9.84796L4.4652 9.05063ZM15.0262 4.73003C14.8207 3.96316 14.0294 3.50631 13.2625 3.7118C12.4391 3.93243 12.0521 5.55178 11.9697 7.03979L14.4716 6.36943C14.8184 6.2765 15.3989 6.12096 15.0262 4.73003ZM6.7715 5.45106C6.00464 5.65654 5.54779 6.44782 5.75327 7.21469C6.12597 8.60562 6.70645 8.45009 7.05326 8.35716L9.35015 7.74171C8.48565 6.40702 7.44472 5.27067 6.7715 5.45106Z",fill:"url(#gift-gradient-pix-2)"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gift-gradient-pix-2",x1:"12",y1:"2",x2:"12",y2:"21",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#66FFEA"}),t.jsx("stop",{offset:"1",stopColor:"#66FFEA"})]})})]})})]}),t.jsxs("div",{className:"flex md:hidden flex-col gap-[2px] items-center text-center",children:[t.jsxs("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] text-[#66FFEA]",children:[t.jsx("span",{className:"font-semibold text-white font-brockmann",children:"Flat 90% off"})," on all our subscriptions."]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] text-[#66FFEA]",children:"Use code"}),t.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-[8px] px-3 py-[2px] cursor-pointer hover:opacity-80 transition-opacity",onClick:o,children:[t.jsx("p",{className:"font-brockmann font-semibold text-[14px] leading-[20px] text-black whitespace-nowrap",style:{textShadow:"rgba(255, 255, 255, 0.6) 0px 0px 28.736px"},children:e}),t.jsx(Di,{size:20,className:"text-black"})]}),t.jsx("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] text-[#66FFEA]",children:"in the checkout"})]}),t.jsx("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] text-[#66FFEA]",children:"session to redeem the offer"})]})]}),t.jsx(oC,{isOpen:s,onOpenChange:r,desktopImageUrl:K.modals.pixDesktop,mobileImageUrl:K.modals.pixMobile,couponCode:e,triggerLocation:"banner"})]}):null}const xxe=({size:e=24,width:n,height:s,color:r="#224BC6",className:i})=>{const a=n||e,o=s||e;return t.jsx("svg",{width:a,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:t.jsx("path",{d:"M8.4 15.6L14 14L15.6 8.4L10 10L8.4 15.6ZM12 13.2C11.6667 13.2 11.3833 13.0833 11.15 12.85C10.9167 12.6167 10.8 12.3333 10.8 12C10.8 11.6667 10.9167 11.3833 11.15 11.15C11.3833 10.9167 11.6667 10.8 12 10.8C12.3333 10.8 12.6167 10.9167 12.85 11.15C13.0833 11.3833 13.2 11.6667 13.2 12C13.2 12.3333 13.0833 12.6167 12.85 12.85C12.6167 13.0833 12.3333 13.2 12 13.2ZM12 20C10.8933 20 9.85333 19.79 8.88 19.37C7.90667 18.95 7.06 18.38 6.34 17.66C5.62 16.94 5.05 16.0933 4.63 15.12C4.21 14.1467 4 13.1067 4 12C4 10.8933 4.21 9.85333 4.63 8.88C5.05 7.90667 5.62 7.06 6.34 6.34C7.06 5.62 7.90667 5.05 8.88 4.63C9.85333 4.21 10.8933 4 12 4C13.1067 4 14.1467 4.21 15.12 4.63C16.0933 5.05 16.94 5.62 17.66 6.34C18.38 7.06 18.95 7.90667 19.37 8.88C19.79 9.85333 20 10.8933 20 12C20 13.1067 19.79 14.1467 19.37 15.12C18.95 16.0933 18.38 16.94 17.66 17.66C16.94 18.38 16.0933 18.95 15.12 19.37C14.1467 19.79 13.1067 20 12 20ZM12 18.4C13.7733 18.4 15.2833 17.7767 16.53 16.53C17.7767 15.2833 18.4 13.7733 18.4 12C18.4 10.2267 17.7767 8.71667 16.53 7.47C15.2833 6.22333 13.7733 5.6 12 5.6C10.2267 5.6 8.71667 6.22333 7.47 7.47C6.22333 8.71667 5.6 10.2267 5.6 12C5.6 13.7733 6.22333 15.2833 7.47 16.53C8.71667 17.7767 10.2267 18.4 12 18.4Z",fill:r})})};function VH(e){if(!e||typeof e!="object")return!1;const n=e;return!(!("modals"in n)||!Array.isArray(n.modals))}function $H(e,n){if(!e||typeof e!="object")return!1;const s=e;if(typeof s.id!="string"||typeof s.key!="string"||s.type!=="promotional"||typeof s.shouldBeVisible!="boolean")return!1;if(s.background){const r=s.background;if(typeof r.desktop!="string"||r.mobile!==void 0&&typeof r.mobile!="string")return!1}if(s.cta)if(Array.isArray(s.cta)){for(const r of s.cta)if(!r||typeof r!="object"||!r.action)return!1}else if(typeof s.cta=="object"){if(!s.cta.action)return!1}else return!1;if(s.animations){const r=s.animations;if(r.entry&&!["fade","scale","slide-up","slide-down","none"].includes(r.entry))return!1}return!0}function lC(e=!0){const{tier:n,loading:s}=xs(),{user:r}=os(),{data:i,isSuccess:a}=Kr(void 0,{skip:!r}),{data:o,isLoading:l}=Wa(void 0,{skip:!a}),[c,u]=d.useState(null);return d.useEffect(()=>{if(!Wt||s||l)return;if(o?.full_discount_standard){u(null);return}if(o?.promo_code_enabled){u(null);return}const p=Wt.onFeatureFlags(()=>{if(!Wt.getFeatureFlag("promotional_modals")){u(null);return}if(i?.country_code==="IN"&&i?.payment_provider==="stripe"){u(null);return}const m=Wt.getFeatureFlagPayload("promotional_modals");if(!m){u(null);return}try{let h;if(typeof m=="string"?h=JSON.parse(m):h=m,!VH(h))return;const x=h,g=[];if(x.modals.forEach(b=>{if(!(!b||!$H(b,b.id))&&b.shouldBeVisible&&!(b.targeting?.countries&&b.targeting.countries.length>0&&(!i?.country_code||!b.targeting.countries.includes(i.country_code)))&&!(b.targeting?.notAllowedCountries&&b.targeting.notAllowedCountries.length>0&&i?.country_code&&b.targeting.notAllowedCountries.includes(i.country_code))&&!(b.targeting?.tiers&&b.targeting.tiers.length>0&&!b.targeting.tiers.includes(n))&&!(e&&b.targeting?.showOnce&&b.key&&xQ(b.key))){if(b.targeting?.startDate||b.targeting?.endDate){const y=new Date;if(b.targeting.startDate&&new Date(b.targeting.startDate)>y||b.targeting.endDate&&new Date(b.targeting.endDate)<y)return}g.push(b)}}),g.length===0){u(null);return}const v=g[0];u(b=>b?.id===v.id?b:v)}catch{u(null)}});return()=>{p&&p()}},[Wt,n,s,i?.country_code,i?.payment_provider,e,l,o?.full_discount_standard,o?.promo_code_enabled]),d.useMemo(()=>c,[c?.id])}function gxe(){const{tier:e,loading:n}=xs(),{user:s}=os(),{data:r}=Kr(void 0,{skip:!s}),[i,a]=d.useState(new Map);return d.useEffect(()=>{n||Mf(()=>{if(!Wt.getFeatureFlag("promotional_modals")){a(new Map);return}if(r?.country_code==="IN"&&r?.payment_provider==="stripe"){a(new Map);return}const l=Wt.getFeatureFlagPayload("promotional_modals");if(!l){a(new Map);return}try{let c;if(typeof l=="string"?c=JSON.parse(l):c=l,!VH(c))return;const u=new Map;c.modals.forEach(p=>{!p||!$H(p,p.id)||p.shouldBeVisible&&p.key&&u.set(p.key,p)}),a(u)}catch{a(new Map)}})},[e,n,r?.country_code,r?.payment_provider]),i}function zH(){const e=lC(!1);return d.useMemo(()=>!e||!e.banner||!e.banner.show?null:{config:e.banner,showPromoCode:e.showPromoCode!==!1},[e?.id,e?.banner?.show,e?.showPromoCode])}function bxe(){const e=lC(!1);return d.useMemo(()=>!e||!e.creditsBanner||!e.creditsBanner.show?null:{config:e.creditsBanner,showPromoCode:e.showPromoCode!==!1},[e?.id,e?.creditsBanner?.show,e?.showPromoCode])}const yxe=({config:e,isMobile:n,showPromoCode:s=!0,onCodeCopy:r})=>{const[i,a]=d.useState(null);if(!e||!e.text)return null;const o=!s&&e.alternativeText?e.alternativeText:e.text,l=m=>{navigator.clipboard.writeText(m),a(m),setTimeout(()=>a(null),2e3),r?.(m)},c=()=>o.split(/(\{(?:highlight|code):[^}]+\})/).map((h,x)=>{const g=h.match(/^\{highlight:([^}]+)\}$/);if(g){const b=g[1],y=e.highlightFontWeight==="semibold"?"font-semibold":e.highlightFontWeight==="medium"?"font-medium":"font-bold";return t.jsx("span",{className:y,style:{color:"#15331D",WebkitTextFillColor:"#15331D"},children:b},x)}const v=h.match(/^\{code:([^}]+)\}$/);if(v){const b=v[1],y=e.codeChipBgColor||"#0A171A",w=e.codeChipTextColor||"#FEFDF9";return t.jsxs("span",{className:"flex items-center gap-2 py-[2px] px-2 text-[16px] rounded-[8px] cursor-pointer hover:opacity-80 transition-opacity whitespace-nowrap font-['Brockmann'] font-semibold",style:{backgroundColor:y,color:w,background:y,WebkitTextFillColor:w},onClick:()=>l(b),children:[i===b?"Copied!":b,t.jsx(Di,{size:16})]},x)}return t.jsx("span",{children:h},x)}),u=e.backgroundImage||e.mobileBackgroundImage,p=n&&e.mobileBackgroundImage||e.backgroundImage,f={color:e.textColor,...u?{backgroundImage:`url(${p})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{background:"linear-gradient(180deg, rgba(0, 255, 73, 0.10) 0%, rgba(0, 240, 255, 0.10) 100%)",backdropFilter:"blur(25px)"}};return t.jsx("div",{className:"flex max-lg:flex-col items-center sticky z-[999] h-fit top-0 left-0 right-0 mb-2 justify-center w-full px-4 py-2 max-sm:pr-11 gap-2",style:f,children:t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-x-2 text-center font-['Brockmann'] text-[16px] font-semibold leading-[24px] tracking-[-0.2px] text-[#15331D]",children:c()})})},$p=({size:e=24,width:n,height:s,color:r="currentColor",className:i})=>{const a=n||e,o=s||e;return t.jsx("svg",{width:a,height:o,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1913 9.52867C15.5818 9.13815 16.2149 9.13815 16.6055 9.52867L22.4721 15.3953C22.8627 15.7858 22.8627 16.419 22.4721 16.8095L16.6055 22.6761C16.2149 23.0667 15.5818 23.0667 15.1913 22.6761C14.8007 22.2856 14.8007 21.6524 15.1913 21.2619L19.6508 16.8024L10.1327 16.8024C9.5804 16.8024 9.13269 16.3547 9.13269 15.8024C9.13269 15.2501 9.5804 14.8024 10.1327 14.8024L19.6508 14.8024L15.1913 10.3429C14.8007 9.95234 14.8007 9.31918 15.1913 9.52867Z",fill:r})})},Nk={card:{titleColor:"#001A09",descriptionColor:"#003714",couponBgColor:"#0F1011",couponTextColor:"#FFFFFF",copyButtonColor:"#BEFFE2",ctaBgColor:"#000000",ctaTextColor:"#BEFFE2",ctaShadow:"inset 0 2px 4px 2px rgba(255,255,255,0.30)",arrowBgColor:"#BEFFE2",arrowColor:"#000000"},banner:{mobileTitleColor:"#001A09",mobileDescriptionColor:"#004E1A",mobileCouponBgColor:"#0F1011",mobileButtonBgColor:"#0F0F10",mobileButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(251,200,70,0.40)",mobileArrowColor:"#FFFFFF",desktopTextColor:"#1B5E20",desktopButtonBgColor:"#06171A",desktopButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(255,255,255,0.40)",desktopArrowBgColor:"#FFFFFF",desktopArrowColor:"#0F1011",desktopCouponTextColor:"#FFFFFF",desktopCopyButtonColor:"#FFFFFF"}};function u3({variant:e="banner",inline:n=!1,content:s,images:r,styles:i={},useCouponHook:a,allowedTiers:o=["free"],autoApplied:l=!1,hidePromoIconOnDesktop:c=!1}){const{tier:u}=xs(),{totalBannerHeight:p}=ka(),{couponCode:f,isLoading:m,error:h,generateCoupon:x}=a(),[g,v]=d.useState(!1),b=Hr(),y={...Nk.card,...i.card},w={...Nk.banner,...i.banner},_=async()=>{await x()},N=()=>{b.open({planType:"personal",triggerLocation:"default"})},j=()=>{b.isOpen||b.open({planType:"personal",triggerLocation:"default"})},C=()=>{f&&(navigator.clipboard.writeText(f),v(!0),setTimeout(()=>v(!1),1e3))};return o.includes(u)?e==="card"?t.jsx("div",{className:"w-full mb-4 rounded-2xl overflow-hidden relative px-5 py-5 bg-cover bg-center",style:{backgroundImage:`url(${r.cardBackground})`},children:t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("h3",{className:"font-brockmann text-xl font-bold leading-6 tracking-[-0.3px]",style:{color:y.titleColor},children:s.cardTitle}),t.jsx("p",{className:"font-inter text-sm font-semibold leading-5 tracking-[-0.2px]",style:{color:y.descriptionColor},children:h?s.cardErrorDescription:s.cardDescription}),f?t.jsxs("div",{className:k("w-full flex items-center rounded-xl px-4 py-3 mt-2",l&&!h?"justify-center gap-3":"justify-between"),style:{backgroundColor:y.couponBgColor},children:[t.jsx("span",{className:"font-brockmann text-lg font-semibold leading-6",style:{color:y.couponTextColor},children:l&&!h?"Auto applied":f}),l&&!h?t.jsx(Oi,{size:20,color:w.desktopCouponTextColor}):t.jsxs("button",{type:"button",onClick:C,className:"gap-2 font-semibold flex items-center font-inter text-sm",style:{color:y.copyButtonColor},children:[t.jsx(Di,{size:16,style:{color:y.copyButtonColor}}),g?"Copied!":"Copy"]})]}):t.jsx("button",{type:"button",className:"w-full py-3.5 mt-2 rounded-xl font-brockmann text-base font-semibold leading-6 tracking-tight flex items-center justify-center gap-2 disabled:cursor-not-allowed cursor-pointer",style:{backgroundColor:y.ctaBgColor,color:y.ctaTextColor,boxShadow:y.ctaShadow},disabled:m,onClick:_,children:m?t.jsx(tn,{className:"w-5 h-5 animate-spin",style:{color:y.ctaTextColor}}):t.jsxs(t.Fragment,{children:[s.ctaText,t.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:y.arrowBgColor},children:t.jsx($p,{size:20,color:y.arrowColor})})]})})]})}):t.jsx("div",{className:k("flex items-center justify-center w-full md:pt-2.5 max-md:mt-1 max-md:px-4",n?"mb-6":"fixed z-[999]"),style:n?void 0:{top:`${56+p}px`},children:t.jsxs("div",{className:k("relative flex items-center max-md:h-[69px] h-12 max-md:p-1.5 md:p-2 md:pl-5 max-md:w-full max-md:rounded-2xl overflow-hidden",n?"md:rounded-xl":"md:rounded-full",n?"md:w-fit mx-auto max-md:justify-between":"max-md:justify-between md:justify-center w-fit"),children:[t.jsx("img",{src:r.mobileBanner,alt:r.bannerAlt||"Promotional banner",className:"absolute inset-0 w-full h-full object-cover md:hidden"}),t.jsx("img",{src:r.desktopBanner,alt:r.bannerAlt||"Promotional banner",className:"absolute inset-0 w-full h-full object-cover hidden md:block"}),t.jsxs("div",{className:"relative z-10 flex items-center gap-2 md:hidden flex-1 min-w-0",children:[r.promoIcon&&t.jsx("img",{src:r.promoIcon,alt:r.promoIconAlt||"Promotional offer",className:"w-[54px] h-[54px] rounded-xl object-cover shrink-0"}),t.jsxs("div",{className:"flex flex-col gap-0.5 min-w-0 flex-1",children:[t.jsx("span",{className:"font-brockmann text-base font-bold leading-[18px] tracking-[-0.2px]",style:{color:w.mobileTitleColor},children:s.bannerTitle}),t.jsx("span",{className:"font-inter text-[13px] font-semibold leading-4 tracking-[-0.2px] line-clamp-2",style:{color:w.mobileDescriptionColor},children:h?s.bannerErrorDescription:s.bannerDescription})]})]}),t.jsxs("div",{className:"relative z-10 hidden md:flex items-center gap-2",children:[!c&&r.promoIcon&&t.jsx("img",{src:r.promoIcon,alt:r.promoIconAlt||"Promotional offer",className:"w-10 h-10 rounded-xl object-cover shrink-0 -ml-4"}),t.jsx("span",{className:"font-brockmann text-base font-semibold leading-6 tracking-[-0.5px] whitespace-nowrap",style:{color:w.desktopTextColor},children:h?s.desktopErrorText:s.desktopText})]}),t.jsx("button",{type:"button",className:"relative z-10 md:hidden w-11 h-11 rounded-[50%] flex items-center justify-center shrink-0 cursor-pointer",style:{backgroundColor:w.mobileButtonBgColor,boxShadow:w.mobileButtonShadow},onClick:N,children:t.jsx($p,{size:28,color:w.mobileArrowColor})}),f?t.jsx(t.Fragment,{children:t.jsxs("div",{className:k("relative z-10 hidden md:flex md:ml-3 h-10 py-2 -mr-[3px] items-center shrink-0",n?"rounded-[10px]":"rounded-full",l&&!h?"px-3 gap-2 cursor-pointer":"pl-5 pr-3 gap-4"),style:{backgroundColor:w.mobileCouponBgColor},onClick:l&&!h?j:void 0,children:[t.jsx("span",{className:"font-brockmann font-semibold text-[14px] leading-4 tracking-[-0.25px]",style:{color:w.desktopCouponTextColor},children:l&&!h?"Auto applied":f}),l&&!h?t.jsx(Oi,{size:20,color:w.desktopCouponTextColor}):t.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-1.5 hover:opacity-80 transition-opacity font-brockmann font-semibold text-[14px] leading-4 tracking-[-0.25px]",style:{color:w.desktopCopyButtonColor},children:[t.jsx(Di,{size:16,color:w.desktopCopyButtonColor}),g?"Copied!":"Copy"]})]})}):t.jsx(t.Fragment,{children:t.jsx("button",{type:"button",className:k("relative z-10 hidden md:flex items-center justify-center gap-2 h-10 py-2 text-[15px] md:ml-8 text-white font-semibold border-none disabled:cursor-not-allowed cursor-pointer",n?"md:rounded-[10px]":"rounded-full",m?"px-5":"pl-5 pr-3"),style:{backgroundColor:w.desktopButtonBgColor,boxShadow:w.desktopButtonShadow},onClick:_,disabled:m,children:m?t.jsx(tn,{className:"w-4 h-4 animate-spin text-white"}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"line-clamp-2 max-w-[150px]",children:s.ctaText}),t.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center shrink-0",style:{backgroundColor:w.desktopArrowBgColor},children:t.jsx($p,{size:20,color:w.desktopArrowColor})})]})})})]})}):null}const vxe="4e7f6f21-6b1c-4dd9-8daf-713c52adf93d",wxe="GOOGLE20";function z2(){return iC(vxe,wxe,"one_dollar")}const Cxe={cardTitle:"95% Off for the First Month",cardDescription:"Celebrating $100M ARR with 95% off on our Standard monthly plan.",cardErrorDescription:`You've already redeemed the 95% off coupon.
Here's another great deal you can use.`,bannerTitle:"95% Off",bannerDescription:"Celebrating $100M ARR",bannerErrorDescription:"You've already redeemed the 95% off coupon.",desktopText:"Celebrating $100M ARR , FLAT 95% off on Standard monthly plan.",desktopErrorText:"You've already redeemed the 95% off coupon. Here's another great deal.",ctaText:"Get Discount Code"},_xe={mobileBanner:K.modals.pagbrasilOfferStripBgMobile,desktopBanner:K.modals.pagbrasilOfferStripBgWeb,cardBackground:K.modals.pagbrasilOfferStripBgCard,promoIcon:K.modals.pagbrasilGiftIcon,bannerAlt:"Series B 95% Off promotional banner",promoIconAlt:"Gift icon for 95% discount offer"},jxe={card:{titleColor:"#FFFFFF",descriptionColor:"#FFFFFFCC",couponBgColor:"#0F1011",couponTextColor:"#FFFFFF",copyButtonColor:"#FFFFFF",ctaBgColor:"#000000",ctaTextColor:"#FFFFFF",ctaShadow:"inset 0 2px 4px 2px rgba(255,255,255,0.30)",arrowBgColor:"#FFFFFF",arrowColor:"#000000"},banner:{mobileTitleColor:"#FFFFFF",mobileDescriptionColor:"#FFFFFFCC",mobileCouponBgColor:"#0F1011",mobileButtonBgColor:"#0F0F10",mobileButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(251,200,70,0.40)",mobileArrowColor:"#FFFFFF",desktopTextColor:"#FFFFFF",desktopButtonBgColor:"#06171A",desktopButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(255,255,255,0.40)",desktopArrowBgColor:"#FFFFFF",desktopArrowColor:"#0F1011"}};function Zw({inline:e=!1,variant:n="banner"}){const{tier:s}=xs(),{userDetails:r}=os(),i=d.useRef(!1),a=gl(),o=p0(r,a),{couponCode:l,generateCoupon:c,isLoading:u}=z2(),p=s==="free"&&o;return d.useEffect(()=>{p&&!l&&!i.current&&!u&&(i.current=!0,c())},[p,l,c,u]),t.jsx(u3,{variant:n,inline:e,content:Cxe,images:_xe,styles:jxe,useCouponHook:z2,allowedTiers:["free"],hidePromoIconOnDesktop:!0,autoApplied:!0})}const Nxe="f47ac10b-58cc-4372-a567-0e02b2c3d479",Fxe="GOOGLE20";function W2(){return iC(Nxe,Fxe,"gff")}function Exe(){return{couponCode:"AUTO_APPLIED",isLoading:!1,error:null,generateCoupon:async()=>({coupon:"AUTO_APPLIED",error:null})}}const Sxe={cardTitle:"75% Off for the First Month",cardDescription:"Celebrating $100M ARR with 75% off on our Standard monthly plan.",cardErrorDescription:`You've already redeemed the 75% off coupon.
Here's another great deal you can use.`,bannerTitle:"75% Off",bannerDescription:"Celebrating $100M ARR",bannerErrorDescription:"You've already redeemed the 75% off coupon.",desktopText:"Celebrating $100M ARR , FLAT 75% off on Standard monthly plan.",desktopErrorText:"You've already redeemed the 75% off coupon. Here's another great deal.",ctaText:"Get Discount Code"},kxe={mobileBanner:K.modals.pagbrasilOfferStripBgMobile,desktopBanner:K.modals.pagbrasilOfferStripBgWeb,cardBackground:K.modals.pagbrasilOfferStripBgCard,promoIcon:K.modals.pagbrasilGiftIcon,bannerAlt:"Google Future Funds 75% Off promotional banner",promoIconAlt:"Gift icon for 75% discount offer"},Ixe={card:{titleColor:"#FFFFFF",descriptionColor:"#FFFFFFCC",couponBgColor:"#0F1011",couponTextColor:"#FFFFFF",copyButtonColor:"#FFFFFF",ctaBgColor:"#000000",ctaTextColor:"#FFFFFF",ctaShadow:"inset 0 2px 4px 2px rgba(255,255,255,0.30)",arrowBgColor:"#FFFFFF",arrowColor:"#000000"},banner:{mobileTitleColor:"#FFFFFF",mobileDescriptionColor:"#FFFFFFCC",mobileCouponBgColor:"#0F1011",mobileButtonBgColor:"#0F0F10",mobileButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(251,200,70,0.40)",mobileArrowColor:"#FFFFFF",desktopTextColor:"#FFFFFF",desktopButtonBgColor:"#06171A",desktopButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(255,255,255,0.40)",desktopArrowBgColor:"#FFFFFF",desktopArrowColor:"#0F1011"}};function Jw({inline:e=!1,variant:n="banner"}){const{tier:s}=xs(),{userDetails:r}=os(),i=d.useRef(!1),a=gl(),o=p0(r,a),l=c3(r),c=r?.country_code==="IN",u=r?.country_code==="BR",{couponCode:p,generateCoupon:f,isLoading:m}=W2(),h=s==="free"&&o&&!c&&!u;return d.useEffect(()=>{h&&!p&&!i.current&&!m&&(i.current=!0,f())},[h,p,f,m]),s!=="free"||!o&&!l||c||u?null:t.jsx(u3,{variant:n,inline:e,content:Sxe,images:kxe,styles:Ixe,useCouponHook:l?Exe:W2,allowedTiers:["free"],hidePromoIconOnDesktop:!0,autoApplied:l||!!p})}const Fk="SPECIAL90";function Txe(){const[e]=d.useState(Fk),[n]=d.useState(!1),[s]=d.useState(null),r=d.useCallback(async()=>({coupon:Fk,error:null}),[]);return{couponCode:e,isLoading:n,error:s,generateCoupon:r}}const Axe={cardTitle:"90% Off for the First Month",cardDescription:"Celebrating $100M ARR with 90% off on our Starter monthly plan.",cardErrorDescription:`You've already redeemed the 90% off coupon.
Here's another great deal you can use.`,bannerTitle:"90% Off",bannerDescription:"Flat 90% off our Starter plan",bannerErrorDescription:"You've already redeemed the 90% off coupon.",desktopText:"Celebrating $100M ARR , FLAT 90% off on Starter monthly plan.",desktopErrorText:"You've already redeemed the 90% off coupon. Here's another great deal.",ctaText:"Get Discount Code"},Dxe={mobileBanner:K.modals.pagbrasilOfferStripBgMobile,desktopBanner:K.modals.pagbrasilOfferStripBgWeb,cardBackground:K.modals.pagbrasilOfferStripBgCard,promoIcon:K.modals.pagbrasilGiftIcon,bannerAlt:"90% Off Standard Plan promotional banner",promoIconAlt:"Gift icon for 90% discount offer"},Mxe={card:{titleColor:"#FFFFFF",descriptionColor:"#FFFFFFCC",couponBgColor:"#141517",couponTextColor:"#FFFFFF",copyButtonColor:"rgba(204,255,247,1)",ctaBgColor:"#000000",ctaTextColor:"#5EEAD4",ctaShadow:"inset 0 2px 4px 2px rgba(255,255,255,0.30)",arrowBgColor:"#5EEAD4",arrowColor:"#000000"},banner:{mobileTitleColor:"#0D3D3D",mobileDescriptionColor:"#FFFFFF",mobileCouponBgColor:"#141517",mobileButtonBgColor:"#0F0F10",mobileButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(45,212,191,0.40)",mobileArrowColor:"#FFFFFF",desktopTextColor:"#FFFFFF",desktopButtonBgColor:"#141517",desktopButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40)",desktopArrowBgColor:"#FFFFFF",desktopArrowColor:"#0F1011",desktopCouponTextColor:"#FFF",desktopCopyButtonColor:"rgba(255,255,255,0.60)"}};function Ek({inline:e=!1,maxWidth:n,variant:s="banner"}){const{tier:r}=xs(),{userDetails:i}=os(),a=gl(),o=sC(i,a);return r!=="free"||!o?null:t.jsx(u3,{variant:s,inline:e,maxWidth:n,content:Axe,images:Dxe,styles:Mxe,useCouponHook:Txe,allowedTiers:["free"],autoApplied:!0})}function Rxe(){return{couponCode:"AUTO_APPLIED",isLoading:!1,error:null,generateCoupon:async()=>({coupon:"AUTO_APPLIED",error:null})}}const Lxe={cardTitle:"75% Off for the First Month",cardDescription:"Celebrating $100M ARR with 75% off on our Standard monthly plan.",cardErrorDescription:`You've already redeemed the 75% off coupon.
Here's another great deal you can use.`,bannerTitle:"75% Off",bannerDescription:"Celebrating $100M ARR",bannerErrorDescription:"You've already redeemed the 75% off coupon.",desktopText:"Celebrating $100M ARR , FLAT 75% off on Standard monthly plan.",desktopErrorText:"You've already redeemed the 75% off coupon. Here's another great deal.",ctaText:"Get Discount Code"},Pxe={mobileBanner:K.modals.pagbrasilOfferStripBgMobile,desktopBanner:K.modals.pagbrasilOfferStripBgWeb,cardBackground:K.modals.pagbrasilOfferStripBgCard,promoIcon:K.modals.pagbrasilGiftIcon,bannerAlt:"Google Future Funds India 75% Off promotional banner",promoIconAlt:"Gift icon for 75% discount offer"},Oxe={card:{titleColor:"#FFFFFF",descriptionColor:"#FFFFFFCC",couponBgColor:"#0F1011",couponTextColor:"#FFFFFF",copyButtonColor:"#FFFFFF",ctaBgColor:"#000000",ctaTextColor:"#FFFFFF",ctaShadow:"inset 0 2px 4px 2px rgba(255,255,255,0.30)",arrowBgColor:"#FFFFFF",arrowColor:"#000000"},banner:{mobileTitleColor:"#FFFFFF",mobileDescriptionColor:"#FFFFFFCC",mobileCouponBgColor:"#0F1011",mobileButtonBgColor:"#0F0F10",mobileButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(251,200,70,0.40)",mobileArrowColor:"#FFFFFF",desktopTextColor:"#FFFFFF",desktopButtonBgColor:"#06171A",desktopButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(255,255,255,0.40)",desktopArrowBgColor:"#FFFFFF",desktopArrowColor:"#0F1011"}};function Xw({inline:e=!1,maxWidth:n,variant:s="banner"}){const{tier:r}=xs(),{userDetails:i}=os(),a=gl(),o=nC(i,a),l=i?.country_code==="IN";return r!=="free"||!o||!l?null:t.jsx(u3,{variant:s,inline:e,maxWidth:n,content:Lxe,images:Pxe,styles:Oxe,useCouponHook:Rxe,allowedTiers:["free"],hidePromoIconOnDesktop:!0,autoApplied:!0})}function p3({text:e,style:n="promo"}){return t.jsx("div",{className:k("w-full rounded-lg px-4 py-2 text-sm font-medium text-center",n==="success"&&"bg-green-500/10 text-green-400",n==="warning"&&"bg-yellow-500/10 text-yellow-400",n==="info"&&"bg-blue-500/10 text-blue-400",n==="promo"&&"bg-[#F3CA5F]/10 text-[#F3CA5F]"),children:e})}const Al={FREE:"free",PRO:"Pro",STANDARD:"Standard",STARTER:"Starter"},Bxe={MONTHLY_DIVISOR:12},d6={STANDARD_STARTER:1,PRO:2,OTHER:3},WH={background:`
      linear-gradient(90deg, #ffffff30, #00000050),
      #F3CA5F
    `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal",boxShadow:`
      0px 0px 20px 0px #F3CA5F66,
      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,
      0px -1.45px 0px 0px #00000033 inset,
      0px 0.73px 0.73px 0.73px #0000001A
    `},GH={background:"#fff",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"},qH={backgroundImage:"url('/unlock-standard-plan-bg.webp')",backgroundSize:"cover",backgroundPosition:"center",boxShadow:"0px 0px 40px 0px rgba(255, 181, 167, 0.3)",color:"#0f0f10"};function ud({isOpen:e,onOpenChange:n,organizationId:s,organizationName:r,planType:i="personal",triggerLocation:a="default",shouldShowModelSelectorTooltipAfterClose:o=!1,onReturnFlow:l}){const{toast:c}=ns(),{newToast:u}=Ga(),{t:p}=en("billing"),[f,m]=d.useState(null),h=d.useRef(!1),[x,g]=d.useState({}),[v,b]=d.useState(null),[y,w]=d.useState(new Set),_=d.useRef({}),[N,j]=d.useState(!1),[C,S]=d.useState(!1),[F,E]=d.useState(!1),I=ba(),{hasCreatedWorkspace:T}=hs(),{user:A,userDetails:D}=os();D?.is_sso_user;const O=Sa(),{subscriptionPlansResponse:M,personalPlansResponse:L,tier:P,personalTier:B,creditResponse:G,loading:$}=xs(),{isEligible:te,isLoading:U,planId:oe,canUsePromotionalSetup:Y}=Uf(),W=d.useMemo(()=>Fh((ne,De)=>{H(ne,De)},300),[]);d.useEffect(()=>()=>{W.cancel()},[W]),d.useEffect(()=>{if(e&&O){try{const ne=i||"personal",De=ne==="team"?P:B,Ye=De!=="free",ue=a||"upgrade-tier",be=lu(ue,Ye),{title:ht,description:yt}=Ro(ue);zi("TRIGGER_SUBSCRIPTION",{planType:ne,organizationId:ne==="team"?s:void 0,triggerLocation:ue,currentTier:De,hasActiveSubscription:Ye,title:ht,description:yt,...be&&{modalType:be}})}catch{}H("upgrade_tier_modal_mobile_redirect",{planType:i,triggerLocation:a,organizationId:s}),n(!1)}},[e,O,i,s,a,n,P,B]);const Z=D?.organizations?.find(ne=>ne.created_by===A?.id&&ne.status!=="PENDING"),le=D?.organizations?.some(ne=>ne.created_by===A?.id&&ne.status==="PENDING"),{data:q,refetch:Q}=y2(void 0,{skip:!A}),{data:he,isLoading:me}=v2(s?{organization_id:s}:void 0,{skip:!s}),{data:ce}=y2(s?{organization_id:s}:void 0,{skip:!0}),{subscriptionPricing:ee,subscriptionCouponCode:J,subscriptionLitmusConfig:re}=Y5(),{data:xe,isLoading:ae}=Wa(void 0,{skip:!D}),{data:Fe,isLoading:se}=lO(),[_e,{isLoading:Re}]=tie(),[Se,{isLoading:Ne}]=sie(),[ge]=rie(),Ce=Fe?.retention_offers,$e=se,[dt]=tO(),Me=zH(),we=i==="personal"?L:s&&he?he:M,Te=d.useMemo(()=>we&&(ee.plans&&we.plans?{...we,plans:dle(we.plans,ee.plans)}:ee.plans?{...we,plans:ee.plans}:we),[we,ee.plans]),ze=i==="personal"?$:s?me:$,_t=ne=>{if(!ne?.plans)return[];const De=[];return Object.values(ne.plans).forEach(Ye=>{Ye.monthly_plans&&De.push(...Ye.monthly_plans),Ye.yearly_plans&&De.push(...Ye.yearly_plans)}),De},Bt=(ne,De)=>{const Ye=_t(Te);return De?Ye.filter(ue=>ue.billing_period===De):Ye},qe=L?.current_subscription,Ae=G,{handleManageSubscription:Le,isUpgradeLoading:Ut,handleRazorpayPayment:tt,paymentModalState:xt,showPaymentLoading:St,hidePaymentModals:It,subscriptionPaymentResult:kt,hideSubscriptionPaymentResult:Ot,subscriptionCancelledSuccessfully:Ie,savedCard:nt,checkForSavedPaymentMethod:We,quickUpgradeConfirmation:Lt,showQuickUpgradeConfirmation:pt,hideQuickUpgradeConfirmation:ft,confirmQuickUpgrade:Tt}=d0(),[Gt,Ze]=d.useState("monthly"),ut=d.useRef(gl()),Qt=ne=>()=>{wle(Te?.is_first_time_offer||!1,ne.billing_period),Ps(ne)&&HO()},Sn=(()=>{const ne=kt.status;return ne==="pending"?"pending":ne==="success"?"success":ne==="cancelled"?"cancelled":"failed"})(),yn=()=>{Ot(),n(!1)},Ee=nC(D,ut.current),Ke=sC(D,ut.current),mt=p0(D,ut.current),Ge=c3(D),At=t0e(D,ut.current),Cn=Ke||D?.country_code==="BR"||D?.country_code==="KR"||B!=="free",[Mt,Pn]=d.useState(null),[wn,In]=d.useState(!1),[us,Kt]=d.useState(""),[dn,gt]=d.useState(!1),[ps,Zn]=d.useState(""),{couponCode:$s,generateCoupon:Ls,isLoading:ys}=MO(),zn=d.useRef(!1),{couponCode:_n,generateCoupon:Wn,isLoading:As}=W2(),tr=d.useRef(!1),{couponCode:Ht,generateCoupon:zs,isLoading:Ve,error:lt}=EH(),$t=d.useRef(!1),{couponCode:Tn,generateCoupon:Yt,isLoading:Is}=z2(),nn=d.useRef(!1),{isMobile:Ue}=ts(),Nt=W9(),bn=Nie(),Yn=i==="team"&&!!s,Jn={plan_type:i,plan_name:qe?.tier_name,...Yn?{organization_id:s}:{},billing_period:qe?.billing_period,payment_provider:At},fs=()=>{if(!s)return!0;const ne=D?.organizations?.find(De=>De.organization_id===s);return ne?.role==="OWNER"&&ne?.status==="ACTIVE"},Gn=async()=>{const ne=qe?.payment_provider||D?.payment_provider;if(gr()){H($r.CANCELLATION_FLOW_EVENTS.RESUME_CLICKED,Jn),S(!0),E(!0);try{await Le(Ae?.subscription?.id,ut.current,void 0,ne)}catch(De){throw jt(Zt.PAYMENT.RESUME_SUBSCRIPTION,De,{subscription_id:Ae?.subscription?.id,currency:ut.current,payment_provider:ne}),De}finally{E(!1),S(!1)}return}H($r.CANCELLATION_FLOW_EVENTS.SURVEY_INITIATED,Jn),j(!0)},Fs=async ne=>{const De=$r.CANCELLATION_FLOW_EVENTS.WARNING_CANCEL_CONFIRMED;H(De,{...Jn,...ne==="retention",flow:"multi_step"}),j(!1),S(!0),E(!0);const Ye=qe?.payment_provider||D?.payment_provider;try{await Le(Ae?.subscription?.id,ut.current,void 0,Ye),mt||Q()}finally{setTimeout(()=>{S(!1),E(!1)},Ee||Ke?0:1e4)}},nr=async(ne,De)=>{try{const Ye=await ge({offer_name:ne}).unwrap();return Ye.variant==="V3"?(H($r.CANCELLATION_FLOW_EVENTS.RETENTION_CLAIM_SUCCESS,{...Jn,offer_type:De,offer_name:ne}),Ye):("success"in Ye&&Ye.success?(H($r.CANCELLATION_FLOW_EVENTS.RETENTION_CLAIM_SUCCESS,{...Jn,offer_type:De,offer_name:ne}),u.success(Ye.message||"Offer claimed successfully!"),Q(),j(!1),n(!1)):"success"in Ye&&!Ye.success&&(H($r.CANCELLATION_FLOW_EVENTS.RETENTION_CLAIM_FAILURE,{...Jn,offer_type:De,error:Ye.message}),u.error(Ye.message||"Failed to claim offer")),Ye)}catch(Ye){const ue=Ye?.response?.data?.message||"Failed to claim offer";throw H($r.CANCELLATION_FLOW_EVENTS.RETENTION_CLAIM_API_ERROR,{...Jn,offer_type:De,error:ue}),u.error(ue),Ye}},an=d.useRef(!1);d.useEffect(()=>{if(!e){an.current=!1;return}e&&!an.current&&!$&&(an.current=!0,CO("pricing",A?.id),P==="free"&&Ise("pricing"))},[e,P,$]),d.useEffect(()=>{if(e){if(qe){Ze(qe.billing_period==="YEARLY"?"annually":"monthly");const ne=Ar(qe.tier_name);g(De=>({...De,[ne]:qe.id}))}else ee.billing_period_override&&Ze(ee.billing_period_override==="YEARLY"?"annually":"monthly");b(null)}},[e,qe,ee.billing_period_override]),d.useEffect(()=>{e&&Te?.is_first_time_offer&&!$s&&!zn.current&&!ys&&(zn.current=!0,Ls()),e||(zn.current=!1)},[e,Te?.is_first_time_offer,$s,ys,Ls]),d.useEffect(()=>{const ne=D?.country_code==="IN",De=D?.country_code==="BR",Ye=Cp()&&!Ee&&!Ge&&!ne&&!De;e&&Ye&&!U&&!te&&!_n&&!tr.current&&!As&&(tr.current=!0,Wn()),e||(tr.current=!1)},[e,D?.country_code,Ee,Ge,U,te,_n,As,Wn]),d.useEffect(()=>{e&&te&&!Ht&&!$t.current&&!Ve&&($t.current=!0,zs().then(({error:ne})=>{ne&&u.error("Unable to generate your discount. Please close and try again.")})),e||($t.current=!1)},[e,te,Ht,Ve,zs]),d.useEffect(()=>{const ne=xe?.promo_code_enabled&&!Ee&&!Ge;e&&ne&&!U&&!te&&!Tn&&!nn.current&&!Is&&(nn.current=!0,Yt()),e||(nn.current=!1)},[e,xe?.promo_code_enabled,Ee,Ge,U,te,Tn,Is,Yt]),d.useEffect(()=>{const ne=De=>{if(v){const Ye=_.current[v];Ye&&!Ye.contains(De.target)&&b(null)}};return v&&(document.addEventListener("mousedown",ne),document.addEventListener("touchend",ne)),()=>{document.removeEventListener("mousedown",ne),document.removeEventListener("touchend",ne)}},[v]);const Ws=ne=>{n(ne),H($r.UPGRADE_TIER_MODAL_EVENTS.MODAL_CLOSED,{plan_type:i,current_plan:qe?.tier_name||"free",trigger_location:a,has_applied_coupon:!!Mt,selected_billing_mode:Gt}),o&&setTimeout(()=>{yp(),I(_a(!0))},300),l&&setTimeout(()=>{l()},300)},ir=ne=>{Ze(ne),H($r.UPGRADE_TIER_MODAL_EVENTS.BILLING_MODE_SWITCHED,{previous_mode:Gt,new_mode:ne,plan_type:i,currency:ut.current})},vr=ne=>{if(!qe)return;const De=Bt(i,"YEARLY");let Ye;if(ne&&ne.ecu_credits?Ye=De?.find(ue=>ue.tier_name.toLowerCase()===ne.tier_name.toLowerCase()&&ue.ecu_credits===ne.ecu_credits):Ye=De?.find(ue=>ue.tier_name.toLowerCase()===qe.tier_name.toLowerCase()),Ye){if(A?.id){const ue=qe.tier_name;gg(A.id,ue,ue,"yearly",i==="team"||!!s,s,a,Ye?.currency,Ye?.amount)}Gs(Ye)}},rs=ne=>{if(A?.id){const De=qe?.tier_name||"free";gg(A.id,De,ve(ne.tier_name),"yearly",!0,Z?.id,a,ut?.current,ne?.amount)}Z?_s(ne,Z.id):Gs(ne)},Bs=()=>{u.info("Please contact support to downgrade your team subscription")},_s=async(ne,De)=>{m(ne.id);try{H($r.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_INITIATED,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,price:ne.amount,currency:ut.current,payment_provider:Ee?"razorpay":"stripe",has_coupon:!!it(ne),coupon_code:it(ne),organization_id:De,trigger_location:a,is_promotional_setup:!1});const Ye=O1("subscription",ne.amount,ut.current||"USD",ne.amount*12);if(xo("subscription",Ye),M1("subscription",ne.amount,ut.current||"USD"),Ee){const ue={amount:0,price:0,selected:!1,discount:0,currency:ut.current||"USD",couponCode:it(ne)};await tt(ue,void 0,{isSubscription:!0,planId:ne.id,planName:ne.tier_name,planType:i,eventId:Ye,litmusConfig:re})}else{St({paymentType:"subscription",currency:ut.current,planName:ne.tier_name});try{const ue=await vt.createCheckoutSession(0,!0,ne.id,void 0,ut.current,Ye,it(ne),!1,re);a6({response:ue,planId:ne.id,planName:ne.tier_name,hidePaymentModals:It,toast:c,errorMetadata:{organization_id:De},onBeforeCheckout:Qt(ne),email:A?.email})}catch(ue){throw It(),jt(Zt.PAYMENT.CHECKOUT_SESSION_API,ue,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,currency:ut.current,organization_id:De,coupon_code:it(ne)}),ue}}}catch(Ye){jt(Zt.PAYMENT.CHECKOUT_SESSION_CREATION,Ye,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,price:ne.amount,currency:ut.current,payment_provider:At,error_message:Ye?.response?.data?.detail||Ye?.message||"Unknown error",organization_id:De,trigger_location:a}),H($r.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_FAILED,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,price:ne.amount,currency:ut.current,payment_provider:Ee?"razorpay":"stripe",error_message:Ye?.response?.data?.detail||Ye?.message||"Unknown error",organization_id:De,trigger_location:a,is_promotional_setup:!1}),c({title:"Error",description:Ye?.response?.data?.detail||"Something went wrong. Please try again.",variant:"destructive"})}finally{m(null)}},wr=ne=>{const De=ne?()=>t.jsx(Oi,{color:"#FFF",className:"w-5 h-5 mr-3 mt-0.5"}):()=>t.jsx(xn,{className:"w-5 h-5 text-white mr-3 mt-0.5"});return t.jsxs(t.Fragment,{children:[Nt&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(De,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.githubIntegration")})})]}),Nt&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(De,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.forkTasks")})})]})]})},Gs=async ne=>{if(ne.id==="free-tier"){c({title:"Downgrade to Free",description:"Please contact support to downgrade to the free tier.",variant:"default"});return}if(!h.current){h.current=!0,m(ne.id);try{const De=Oe(ne)==="upgrade",Ye=i==="personal"&&!s,ue=!qt(ne.tier_name);if(De&&Ye&&ue&&mt&&await We()){pt(ne,it(ne),re),m(null);return}if(A?.id){const ht=qe?.tier_name||"free",yt=ve(ne.tier_name),mn=ne.billing_period==="YEARLY"?"yearly":"monthly",Nn=i==="team"||!!s;gg(A.id,ht,yt,mn,Nn,s,a,ne?.currency,ne?.amount)}H($r.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_INITIATED,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,price:ne.amount,currency:ut.current,payment_provider:At,has_coupon:!!it(ne),coupon_code:it(ne),trigger_location:a,is_promotional_setup:Ps(ne)});const be=O1("subscription",ne.amount,ut.current||"USD",ne.amount*12);if(xo("subscription",be),M1("subscription",ne.amount,ut.current||"USD"),Ee){const ht={amount:0,price:0,selected:!1,discount:0,currency:ut.current||"USD",couponCode:it(ne)};await tt(ht,void 0,{isSubscription:!0,planId:ne.id,planName:ne.tier_name,planType:i,eventId:be,litmusConfig:re})}else{St({paymentType:"subscription",currency:ut.current,planName:ne.tier_name});try{const ht=await vt.createCheckoutSession(0,!0,ne.id,void 0,ut.current,be,it(ne),!1,re);a6({response:ht,planId:ne.id,planName:ne.tier_name,hidePaymentModals:It,toast:c,errorMetadata:{billing_period:ne.billing_period},onBeforeCheckout:Qt(ne),email:A?.email})}catch(ht){throw It(),jt(Zt.PAYMENT.CHECKOUT_SESSION_API,ht,{plan_id:ne.id,plan_name:ne.tier_name,billing_period:ne.billing_period,currency:ut.current}),ht}}}catch(De){H($r.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_FAILED,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,price:ne.amount,currency:ut.current,payment_provider:At,error_message:De?.response?.data?.detail||De?.message||"Unknown error",trigger_location:a,is_promotional_setup:Ps(ne)}),c({title:"Error",description:De?.response?.data?.detail||"Something went wrong. Please try again.",variant:"destructive"})}finally{h.current=!1,m(null)}}},Sr=()=>{const ne=Lt.couponCode,De=Lt.litmusConfig;if(ft(),Lt.plan){const Ye=Lt.plan;St({paymentType:"subscription",currency:ut.current,planName:Ye.tier_name}),vt.createCheckoutSession(0,!0,Ye.id,void 0,ut.current,void 0,ne,!1,De).then(ue=>{a6({response:ue,planId:Ye.id,planName:Ye.tier_name,hidePaymentModals:It,toast:c,errorMetadata:{currency:Ye.currency||ut.current},onBeforeCheckout:Qt(Ye),email:A?.email})}).catch(ue=>{It(),u.error("Failed to create checkout session. Please try again."),jt(Zt.PAYMENT.CHANGE_PAYMENT_METHOD,ue,{plan_id:Ye.id,plan_name:Ye.tier_name,currency:Ye.currency||ut.current})})}},ve=ne=>{const De=Ar(ne);return De.includes("teams")?"Team":De.includes("standard")?Al.STANDARD:De.includes("starter")?Al.STARTER:De.includes("pro")?Al.PRO:ne},Xe=ne=>ve(ne)===Al.PRO,at=ne=>{const De=ve(ne);return De===Al.STANDARD||De===Al.STARTER},un=ne=>ve(ne)===Al.STARTER,Xn=Ke&&lw(),ke=(ne,De)=>{const ue=_t(Te).filter(be=>ve(be.tier_name)===ve(ne)&&be.billing_period===De);return ue.length===0?100:Math.min(...ue.map(be=>be.ecu_credits))},ye=ne=>{if(!Xn)return!1;const De=Pe(),Ye=un(ne.tier_name),ue=ne.billing_period==="MONTHLY",be=ke(ne.tier_name,ne.billing_period),ht=ne.ecu_credits===be;return De&&Ye&&ue&&ht},Et=ne=>{const De=at(ne.tier_name),Ye=ne.billing_period==="MONTHLY",ue=ke(ne.tier_name,ne.billing_period),be=ne.ecu_credits===ue;return De&&Ye&&be},qt=ne=>ve(ne)==="Team",Oe=ne=>{if(!qe||i==="team"&&!qe.tier_name.toLowerCase().includes("team"))return"upgrade";if(i==="personal"&&qe.tier_name.toLowerCase().includes("team"))return"downgrade";const De=be=>{const ht=be.toLowerCase().replace(/\s+/g,"");return ht.includes("free")?0:ht.includes("standard")||ht.includes("starter")?1:ht.includes("pro")?2:ht.includes("teams")?3:4},Ye=De(qe.tier_name),ue=De(ne.tier_name);return ue>Ye?"upgrade":ue<Ye?"downgrade":ne.amount>qe.amount?"upgrade":"downgrade"},He=ne=>ne.billing_period==="YEARLY"?Math.ceil(Math.round(ne.amount/Bxe.MONTHLY_DIVISOR*100)/100):ne.amount,it=ne=>{if(Ps(ne)&&Ht)return Ht;if(ee.discount_auto_apply===!1)return Mt?.code;if(Te?.is_first_time_offer&&ne.billing_period==="MONTHLY"&&at(ne.tier_name)&&ne.ecu_credits===100&&$s)return $s;if(xe?.promo_code_enabled&&!Ee&&!Ge&&ne.billing_period==="MONTHLY"&&at(ne.tier_name)&&Tn)return Tn;const ue=D?.country_code==="IN",be=D?.country_code==="BR";return Cp()&&!Ee&&!Ge&&!ue&&!be&&ne.billing_period==="MONTHLY"&&at(ne.tier_name)&&_n?_n:J||Mt?.code},Ln=ne=>Ps(ne)?!1:!!Te?.is_first_time_offer&&ne.billing_period==="MONTHLY"&&at(ne.tier_name)&&ne.ecu_credits===100&&(ys||!$s&&!zn.current),js=ne=>{if(Ps(ne))return!1;const De=D?.country_code==="IN",Ye=D?.country_code==="BR";return Cp()&&!Ee&&!Ge&&!De&&!Ye&&ne.billing_period==="MONTHLY"&&at(ne.tier_name)&&(As||!_n&&!tr.current)},Un=ne=>{if(lt)return!1;const De=!!Ht;return Ps(ne)&&(Ve||!De&&!$t.current)},on=ne=>Ps(ne)?!1:!!xe?.promo_code_enabled&&!Ee&&!Ge&&ne.billing_period==="MONTHLY"&&at(ne.tier_name)&&(Is||!Tn&&!nn.current),sn=ne=>{const De=He(ne),Ye=ne.billing_period==="MONTHLY"&&at(ne.tier_name);if(Ps(ne))return 0;if(te||ee.discount_auto_apply===!1)return De;if(Te?.is_first_time_offer&&Ye&&ne.ecu_credits===100)return Math.max(0,ee.first_month_price??1);if(ye(ne))return Math.ceil(De*.1);const ue=!!J,be=ue?ee.discount_percentage??75:75,yt=1-Math.min(100,Math.max(0,typeof be=="number"&&!isNaN(be)?be:75))/100,mn=Ee?"INR":"USD",Nn=Ee?1e3:15,Mn=ue?ee.discount_cap?.[mn]??Nn:Nn;if(Ee)return Math.max(Ye||ue?Math.floor(De*yt):0,De-Mn);{const Qn=ue?yt:xe?.promo_code_enabled?.05:yt,sr=ue?Mn:xe?.promo_code_enabled?19:Mn;return!ue&&xe?.promo_code_enabled&&!Ye?De:Math.max(Ye||ue?Math.floor(De*Qn):0,De-sr)}},On=()=>{if(Ae?.subscription){if(gr()){const ne=Ae.subscription.expires_at;return typeof ne=="string"?ne:Ae.monthly_credits_refresh_date||void 0}return Ae.monthly_credits_refresh_date||void 0}},rt=()=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(tn,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx("span",{children:p("credits.upgradeTierModal.processing")})]}),gr=()=>Ae?.subscription?.status==="initiated_cancellation"||Ie,Es=()=>qe?.payment_gateway==="REVENUECAT",ar=(ne,De)=>{if(!Es())return!1;if(!gr())return!0;if(!qe?.tier_name||!ne)return!1;const Ye=Ar(ne),ue=Ar(qe.tier_name);return!(!(Ye.includes(ue)||ue.includes(Ye))||De&&qe.id&&De!==qe.id)},Pe=()=>i==="personal"?!qe:P===Al.FREE,Ct=()=>!!(i==="team"&&qe&&qe.tier_name.toLowerCase().includes("team")),An=()=>ee.section_title?ee.section_title:te?p("credits.upgradeTierModal.claimYourFreeTrial"):a==="e2Agent"?p("credits.upgradeTierModal.unlockE2Agent"):i==="team"?Ct()?p("credits.upgradeTierModal.managePlanFor",{organizationName:r}):p("credits.upgradeTierModal.choosePlanFor",{organizationName:r}):Pe()?p("credits.upgradeTierModal.chooseYourPlan"):p("credits.upgradeTierModal.manageYourPlan"),Hn=(ne,De,Ye)=>ar(ne,Ye)?{background:"#4A4A4D",opacity:.6,cursor:"not-allowed"}:te&&oe&&Ye===oe?qH:De?WH:GH,ls=ne=>ne?"hover:!shadow-[0_0_30px_5px_rgba(243,202,95,0.25)] transition-shadow duration-200":"hover:shadow-[0_0_30px_5px_rgba(255,255,255,0.2)] transition-shadow duration-200",Rr=(ne,De,Ye,ue)=>{const be="w-full px-[12px] h-[48px] pr-[16px] text-[16px] leading-5 font-semibold rounded-[10px] items-center flex justify-center",ht=ls(Ye);return ar(ne.tier_name,ue)?k(be,"opacity-60 cursor-not-allowed text-gray-400"):k(be,"font-brockmann text-black tracking-[-0.2px] gap-1",ht)},Jt=(ne,De)=>{const Ye="gap-1 mb-1 font-semibold flex items-center font-inter";return qt(ne)?k(Ye,"text-transparent bg-clip-text"):k(Ye,De?"text-[#F3CA5F]":"text-[#fff]")},bi=(ne,De)=>{const Ye="rounded-full py-[8px] px-3 font-inter font-medium",ue="bg-[#252529]";return De==="monthly"?k(Ye,"max-md:w-1/2",ne==="monthly"&&ue):k(Ye,"flex-1 text-nowrap flex items-center justify-center gap-1",ne==="annually"&&ue)},Ri=()=>gr()?p("credits.upgradeTierModal.resume"):p("credits.upgradeTierModal.cancel"),Je=ne=>{if(!Pe()&&qe&&qe.billing_period==="MONTHLY"&&Gt==="annually"&&Ar(ne.tier_name)===Ar(qe.tier_name)&&ne.billing_period==="YEARLY")return!0;if(i==="personal"&&qt(ne.tier_name)&&T){const De=M?.current_subscription;if(De&&De.billing_period==="MONTHLY"&&Gt==="annually"&&Ar(ne.tier_name)===Ar(De.tier_name)&&ne.billing_period==="YEARLY")return!0}return!1},kr=ne=>{if(!Pe()&&qe&&qe.billing_period==="YEARLY"&&Gt==="monthly"&&Ar(ne.tier_name)===Ar(qe.tier_name)&&ne.billing_period==="MONTHLY")return!0;if(i==="personal"&&qt(ne.tier_name)&&T){const De=M?.current_subscription;if(De&&De.billing_period==="YEARLY"&&Gt==="monthly"&&Ar(ne.tier_name)===Ar(De.tier_name)&&ne.billing_period==="MONTHLY")return!0}return!1},Yr=(ne,De)=>{const Ye=Ar(ne.tier_name),ue=Db(ee.tier_features,Ye);return ue?t.jsx(is,{features:ue,isHighlighted:De}):qt(ne.tier_name)?t.jsx(Pt,{credits:ne.ecu_credits||1250}):Xe(ne.tier_name)?t.jsx(ot,{isHighlighted:De}):at(ne.tier_name)?t.jsx(jn,{isHighlighted:De}):null},Ps=ne=>!!(Y&&oe&&ne.id===oe&&ne.billing_period==="MONTHLY"),yi=(ne,De)=>{const Ye=qe&&Ar(ne.tier_name)===Ar(qe.tier_name);if(Ye&&qe){if(qe.billing_period==="MONTHLY"&&ne.billing_period==="YEARLY")return p("credits.upgradeTierModal.upgradeToAnnual");if(qe.billing_period==="YEARLY"&&ne.billing_period==="MONTHLY")return p("credits.upgradeTierModal.downgradeToMonthly");if(qe.billing_period===ne.billing_period){if(qe.id===ne.id)return p("credits.upgradeTierModal.currentPlan");if(ne.ecu_credits&&qe.ecu_credits){if(ne.ecu_credits>qe.ecu_credits)return p("credits.upgradeTierModal.upgradeCurrentPlan");if(ne.ecu_credits<qe.ecu_credits)return p("credits.upgradeTierModal.downgradeCurrentPlan")}return ne.amount>qe.amount?p("credits.upgradeTierModal.upgradeCurrentPlan"):ne.amount<qe.amount?p("credits.upgradeTierModal.downgradeCurrentPlan"):p("credits.upgradeTierModal.currentPlan")}}if(ne.id==="free-tier")return p("credits.upgradeTierModal.downgradeTo",{tier:ve(ne.tier_name)});if(qe&&qe.billing_period==="MONTHLY"&&ne.billing_period==="YEARLY"&&!Ye)return p("credits.upgradeTierModal.upgradeTo",{tier:ve(ne.tier_name)});if(!!!s&&qt(ne.tier_name))return le?p("credits.upgradeTierModal.paymentPending"):p("credits.upgradeTierModal.upgradeTo",{tier:ve(ne.tier_name)});if(Ps(ne))return p("credits.upgradeTierModal.startFreeTrialNow");if(Te?.is_first_time_offer&&at(ne.tier_name)&&ne.ecu_credits===100&&ne.billing_period==="MONTHLY")return p("credits.upgradeTierModal.startStandardTrial");const be=Oe(ne)==="upgrade";return be&&ee.plan_cta_text?ee.plan_cta_text:be?p("credits.upgradeTierModal.upgradeTo",{tier:ve(ne.tier_name)}):p("credits.upgradeTierModal.downgradeTo",{tier:ve(ne.tier_name)})},_l=ne=>{const De=ee.annual_savings_percentage,Ye=typeof De=="number"&&Number.isFinite(De)?De:17;return Math.min(100,Math.max(0,Ye))},_o=ne=>ne.billing_period!=="YEARLY"?null:Bt(i,"MONTHLY")?.find(ue=>Ar(ue.tier_name)===Ar(ne.tier_name)&&ue.ecu_credits===ne.ecu_credits)?.amount||null,pc=d.useMemo(()=>_t(Te).some(De=>De.billing_period==="YEARLY"),[Te,i,s]),fc=d.useMemo(()=>Pe()&&!Ue&&i==="personal",[Pe,Ue,i,P,qe]),jl=ne=>{const De=bn?1:0;return ne.length+De},Vr=ne=>ne===1?"md:grid-cols-1 md:max-w-md md:mx-auto":ne===2?"md:grid-cols-2 md:max-w-3xl md:mx-auto":ne===3?"md:grid-cols-3 md:max-w-[1200px] md:mx-auto":"md:grid-cols-4 md:max-w-7xl md:mx-auto",qo=(ne,{isMobile:De,isOnFreeTier:Ye})=>{if(ne.length<2)return ne;const ue=be=>ne.findIndex(ht=>be(ht.tier_name.toLowerCase()));if(De){const be=ue(Ye?ht=>ht.includes("standard")||ht.includes("starter"):ht=>ht.includes("pro"));if(be>0){const[ht]=ne.splice(be,1);ne.unshift(ht)}}else Ye&&([ne[0],ne[1]]=[ne[1],ne[0]]);return ne},vs=d.useMemo(()=>{const ne={};if(!Te?.plans)return[];Object.entries(Te.plans).forEach(([yt,mn])=>{const Nn=Gt==="annually"?mn.yearly_plans:mn.monthly_plans;if(Nn&&Nn.length>0){ut.current=Nn[0]?.currency?.toUpperCase()||"USD";const Mn=Nn[0].tier_name,Qn=Ar(Mn);if(Qn.includes("team"))return;const qs=[...Nn].sort((Qs,io)=>(Qs.ecu_credits||0)-(io.ecu_credits||0)),Xs=Db(ee.allowed_plan_variants,Qn),vi=Xs?qs.filter(Qs=>Xs.allowed_credits.includes(Qs.ecu_credits)):qs,es=vi.length>0?vi:qs,Lr=es[0];ne[Mn]||(ne[Mn]=[]),ne[Mn].push({...Lr,variants:es})}});const De=[];Object.values(ne).forEach(yt=>{yt.length>0&&(ut.current=yt[0]?.currency?.toUpperCase()||"USD"),De.push(...yt)});const Ye=yt=>{const mn=Ar(yt);return mn.includes("standard")||mn.includes("starter")?d6.STANDARD_STARTER:mn.includes("pro")?d6.PRO:mn.includes("teams")||mn.includes("team")?4:d6.OTHER},be=De.sort((yt,mn)=>Ye(yt.tier_name)-Ye(mn.tier_name)).map(yt=>{if(!ee.plan_overrides)return yt;const mn=aE([yt],ee.plan_overrides)[0];if(yt.variants&&yt.variants.length>0){const Nn=aE(yt.variants,ee.plan_overrides);return{...mn,variants:Nn}}return mn}),ht=i==="personal"?!qe:P===Al.FREE;return qo(be,{isMobile:Ue,isOnFreeTier:ht})},[Te,i,qe,Gt,s,Z,P,Ue,ee.allowed_plan_variants,ee.plan_overrides]);d.useEffect(()=>{!e||!ee.allowed_plan_variants||vs.length===0||g(ne=>{const De={};return vs.forEach(Ye=>{const ue=Ar(Ye.tier_name),be=Db(ee.allowed_plan_variants,ue);if(!be?.default_selected_credits||ne[ue])return;const yt=Ye.variants?.find(mn=>mn.ecu_credits===be.default_selected_credits);yt&&(De[ue]=yt.id)}),Object.keys(De).length>0?{...ne,...De}:ne})},[e,vs,ee.allowed_plan_variants]);const z=ne=>ne.includes("md:max-w-md")?"md:max-w-md":ne.includes("md:max-w-3xl")?"md:max-w-3xl":ne.includes("md:max-w-5xl")?"md:max-w-5xl":(ne.includes("md:max-w-7xl"),"md:max-w-7xl"),R=d.useMemo(()=>{const ne=vs.filter(ue=>!qt(ue.tier_name)),De=bn?jl(ne)-1:jl(ne),Ye=Vr(De);return{totalCards:De,gridColumns:Ye,maxWidth:z(Ye)}},[vs,i,fc,Ue,bn]);d.useMemo(()=>R.totalCards<=2?"md:max-w-[1200px]":R.maxWidth,[R.totalCards,R.maxWidth]);const V=async ne=>{if(!ne.trim()){u.error(p("credits.upgradeTierModal.pleaseEnterCoupon")),Zn(p("credits.upgradeTierModal.pleaseEnterCoupon"));return}gt(!0),Zn("");try{const De=ne.toUpperCase(),Ye=D?.payment_provider?.toUpperCase()||"STRIPE",ue=await dt({coupon_name:De,payment_mode:"subscription",payment_gateway:Ye}).unwrap();if(!ue.valid){const be=ue.message||p("credits.upgradeTierModal.invalidCoupon");u.error(be),Zn(be),H($r.UPGRADE_TIER_MODAL_EVENTS.COUPON_APPLY_FAILED,{coupon_code:De,error_message:be,plan_type:i,currency:ut.current});return}Pn({code:De,discount:0}),u.success(p("credits.upgradeTierModal.couponApplied")),In(!1),Kt(""),Zn(""),H($r.UPGRADE_TIER_MODAL_EVENTS.COUPON_APPLIED,{coupon_code:De,plan_type:i,currency:ut.current})}catch(De){const Ye=De?.data?.message||De?.message||p("credits.upgradeTierModal.failedToValidateCoupon");Zn(Ye),u.error(Ye),jt(Zt.COUPON.VERIFY,De,{coupon_code:ne,error_message:Ye,plan_type:i,currency:ut.current}),H($r.UPGRADE_TIER_MODAL_EVENTS.COUPON_APPLY_FAILED,{coupon_code:ne,error_message:Ye,plan_type:i,currency:ut.current})}finally{gt(!1)}},pe=()=>{V(us)},je=()=>{Mt&&H($r.UPGRADE_TIER_MODAL_EVENTS.COUPON_REMOVED,{coupon_code:Mt.code,plan_type:i,currency:ut.current}),Pn(null),Kt(""),Zn(""),In(!1)},ot=({isHighlighted:ne})=>{const De=ne?()=>t.jsx(Oi,{color:"#FFF",className:"w-5 h-5 mr-3 mt-0.5"}):()=>t.jsx(xn,{className:"w-5 h-5 text-white mr-3 mt-0.5"});return t.jsxs("div",{className:"flex-grow space-y-3",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(De,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium text-white font-inter",children:p("credits.upgradeTierModal.e2Agent")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(De,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium text-white font-inter",children:p("credits.upgradeTierModal.contextWindow")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(De,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium text-white font-inter",children:p("credits.upgradeTierModal.ultraThinking")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(De,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium text-white font-inter",children:p("credits.upgradeTierModal.systemPromptEdit")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(De,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium text-white font-inter",children:p("credits.upgradeTierModal.customAgents")})})]})]})},Pt=({credits:ne})=>t.jsxs("div",{className:"flex-grow space-y-3",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(xn,{className:"w-5 h-5 text-white mr-3 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.collaborativeWorkspace")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(xn,{className:"w-5 h-5 text-white mr-3 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.centralBilling")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(xn,{className:"w-5 h-5 text-white mr-3 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.sharedTeamPool",{credits:ne})})})]})]}),jn=({isHighlighted:ne})=>{const De=ne?()=>t.jsx(Oi,{color:"#FFF",className:"w-5 h-5 mr-3 mt-0.5"}):()=>t.jsx(xn,{className:"w-5 h-5 text-white mr-3 mt-0.5"});return t.jsxs("div",{className:"flex-grow space-y-3",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(De,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.mobileAppDevelopment")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(De,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.privateProjectHosting")})})]}),wr(ne),t.jsxs("div",{className:"flex items-start",children:[t.jsx(De,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.buyAdditionalCredits")})})]})]})},is=({features:ne,isHighlighted:De})=>{const Ye=De?()=>t.jsx(Oi,{color:"#FFF",className:"w-5 h-5 mr-3 mt-0.5"}):()=>t.jsx(xn,{className:"w-5 h-5 text-white mr-3 mt-0.5"});return t.jsx("div",{className:"flex-grow space-y-3",children:ne.map((ue,be)=>t.jsxs("div",{className:"flex items-start",children:[t.jsx(Ye,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:ue})})]},be))})};return O||!e?null:ze?t.jsx(as,{open:!0,children:t.jsx(Cr,{children:t.jsx(Kn,{children:t.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-[9999] bg-black/50 flex items-center justify-center",children:t.jsx(fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"bg-[#1C1C1F] border border-[#2E2F34] rounded-[20px] p-8 max-w-md mx-4 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-[#F3CA5F] border-t-transparent rounded-full animate-spin"}),t.jsx("div",{className:"font-medium text-white",children:"Loading latest plans..."}),t.jsx("div",{className:"text-sm text-gray-400",children:"Please wait while we fetch the most up-to-date pricing"})]})})})})})}):t.jsxs(t.Fragment,{children:[t.jsx(as,{open:!0,onOpenChange:n,children:t.jsx(Cr,{children:t.jsx(Kn,{children:t.jsxs("div",{"data-testid":er.upgradeTier.modal,className:"fixed inset-0 z-[9999]",children:[t.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-[#18181A]",onClick:()=>Ws(!1)}),t.jsxs("div",{className:"flex flex-col w-full h-full",children:[Me&&!xe?.promo_code_enabled&&t.jsx(yxe,{config:Me.config,showPromoCode:Me.showPromoCode,isMobile:Ue,onCodeCopy:ne=>{u.success("Code Copied"),H("promotional_banner_code_copied",{code:ne,banner_text:Me.config?.text,trigger_location:a})}}),xe?.pix_modal&&P==="free"&&t.jsx(hxe,{couponCode:ee.promo_code??"PIX90"}),ee.promo_code_display_text&&!xe?.pix_modal&&t.jsx("div",{className:"text-center text-sm text-white/50 font-inter font-medium py-2",children:ee.promo_code_display_text}),t.jsx("div",{className:"relative w-full h-full overflow-y-auto",children:t.jsxs(fe.div,{className:"min-h-full w-full flex items-center justify-center bg-[#18181A] px-4 py-8",onClick:ne=>ne.stopPropagation(),children:[t.jsx("button",{type:"button",onClick:()=>Ws(!1),disabled:f!==null,className:k("fixed top-4 right-4 md:right-6 z-[1000] p-2 bg-[#0000003c] backdrop-blur-lg hover:bg-[#242424] rounded-full transition-colors",f!==null&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5 text-[#FFFFFF]"})}),t.jsxs("div",{className:"flex flex-col w-full mx-auto max-w-8xl md:items-center",children:[t.jsx("div",{className:"flex items-start justify-start w-full mb-8 md:justify-center md:items-center",children:t.jsxs("div",{className:"flex flex-col items-start justify-center gap-1 md:items-center",children:[t.jsx("h2",{className:"text-[22px] md:text-[28px] font-medium text-[#E6E6E6]",children:An()}),ar()?t.jsx("span",{className:"text-[#FFFFFF]/40 md:text-center max-md:text-[16px] text-start font-inter font-medium whitespace-pre-line",children:p("credits.upgradeTierModal.revenueCatSubscriptionMessage")}):Pe()?t.jsx("span",{className:"text-[#FFFFFF]/40 md:text-center max-md:text-[16px] text-start md:text-nowrap font-inter font-medium",children:ee.section_subtitle?ee.section_subtitle:i==="team"?p("credits.upgradeTierModal.selectTeamPlanFor",{organizationName:r}):p("credits.upgradeTierModal.pickPlanDescription")}):t.jsxs("span",{className:"text-[#FFFFFF]/40 md:text-center max-md:text-[16px] text-start md:text-nowrap font-inter font-medium",children:[gr()?p("credits.upgradeTierModal.planCancelsOn"):p("credits.upgradeTierModal.monthlyCreditsRefreshesOn"),t.jsx("span",{className:"text-[#FFFFFF] font-inter font-medium ml-1",children:TH(On())})]})]})}),ee.banner_text&&t.jsx("div",{className:"mb-4",children:t.jsx(p3,{text:ee.banner_text,style:ee.banner_style})}),pc&&t.jsxs("div",{className:"bg-[#151517] rounded-full flex items-center text-[14px] border-[#FFFFFF1F] border p-1 mb-4",children:[t.jsx("button",{type:"button",onClick:()=>ir("monthly"),className:bi(Gt,"monthly"),children:p("credits.upgradeTierModal.monthly")}),t.jsxs("button",{type:"button",onClick:()=>ir("annually"),className:bi(Gt,"annually"),children:[p("credits.upgradeTierModal.annually")," ",t.jsx("div",{className:" text-[#47B24D] font-inter text-[14px] font-semibold rounded-full",children:ee.annual_savings_text??p("credits.upgradeTierModal.save",{percentage:_l()})})]})]}),ee.promo_code_enabled!==!1&&(Ee||Ke)&&i==="personal"&&!O&&t.jsx("div",{className:"mb-6",children:Mt?t.jsxs("div",{className:"flex items-center justify-center duration-300 animate-in fade-in-0 slide-in-from-top-2",children:[t.jsxs("div",{className:"flex",children:[t.jsxs("svg",{className:"self-center",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M10 18C8.89333 18 7.85333 17.79 6.88 17.37C5.90667 16.95 5.06 16.38 4.34 15.66C3.62 14.94 3.05 14.0933 2.63 13.12C2.21 12.1467 2 11.1067 2 10C2 8.89333 2.21 7.85333 2.63 6.88C3.05 5.90667 3.62 5.06 4.34 4.34C5.06 3.62 5.90667 3.05 6.88 2.63C7.85333 2.21 8.89333 2 10 2C11.1067 2 12.1467 2.21 13.12 2.63C14.0933 3.05 14.94 3.62 15.66 4.34C16.38 5.06 16.95 5.90667 17.37 6.88C17.79 7.85333 18 8.89333 18 10C18 11.1067 17.79 12.1467 17.37 13.12C16.95 14.0933 16.38 14.94 15.66 15.66C14.94 16.38 14.0933 16.95 13.12 17.37C12.1467 17.79 11.1067 18 10 18Z",fill:"#5FE55C"}),t.jsx("path",{d:"M13.1332 7C13.285 7 13.426 7.02648 13.5562 7.07943C13.6864 7.13239 13.8021 7.20829 13.9033 7.30713C14.0046 7.40598 14.0805 7.51719 14.1311 7.64075C14.1817 7.76431 14.2107 7.90375 14.2179 8.05909C14.2179 8.2003 14.1908 8.33621 14.1365 8.46683C14.0823 8.59745 14.0046 8.71219 13.9033 8.81104L9.59703 13.0209C9.49579 13.1198 9.37828 13.1957 9.2445 13.2486C9.11072 13.3016 8.97152 13.3298 8.82689 13.3333C8.68226 13.3333 8.54306 13.3069 8.40928 13.2539C8.2755 13.2009 8.15799 13.1233 8.05675 13.0209L6.09343 11.104C5.99219 11.0051 5.91445 10.8904 5.86021 10.7598C5.80598 10.6291 5.77705 10.4932 5.77344 10.352C5.77344 10.2037 5.80236 10.0661 5.86021 9.93896C5.91807 9.81187 5.9958 9.6989 6.09343 9.60006C6.19105 9.50121 6.30494 9.42707 6.43511 9.37765C6.56527 9.32822 6.70809 9.29998 6.86357 9.29292C7.0082 9.29292 7.1474 9.3194 7.28118 9.37235C7.41496 9.42531 7.53247 9.50121 7.63371 9.60006L8.82689 10.765L12.363 7.30713C12.4643 7.20829 12.5818 7.13239 12.7156 7.07943C12.8493 7.02648 12.9885 7 13.1332 7Z",fill:"#172218"})]}),t.jsx("span",{className:"ml-1 text-[#5FE55C] font-inter text-[14px] font-medium leading-[20px] uppercaseRetry",children:Mt.code})]}),t.jsx("button",{onClick:je,className:"ml-2 text-white/50 font-inter text-[16px] font-medium leading-[20px]",children:p("credits.upgradeTierModal.remove")})]}):wn?t.jsx("div",{className:"relative min-w-[300px] animate-in fade-in-0 slide-in-from-top-2 duration-300",children:t.jsxs("div",{className:k("relative w-full flex items-center rounded-[12px] pl-4 pr-2 py-2 transition-colors",ps?"border border-[rgba(255,128,128,0.30)]":"border border-white/10 focus-within:border-[rgba(255,255,255,0.20)]"),children:[t.jsx("input",{type:"text",value:us,onChange:ne=>Kt(ne.target.value.toUpperCase()),onKeyDown:ne=>{ne.key==="Enter"&&us.trim()&&!dn&&(ne.preventDefault(),pe())},placeholder:p("credits.upgradeTierModal.enterCode"),className:"bg-transparent flex-1  text-white placeholder-[#FFF]/30 focus:outline-none text-[14px] font-medium",autoFocus:!0}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{In(!1),Kt(""),Zn("")},className:"flex items-center justify-center transition-colors rounded-full w-7 h-7 bg-white/10",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:t.jsx("path",{d:"M12 4L4 12M4 4L12 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.60"})})}),t.jsx("button",{onClick:pe,disabled:dn||!us.trim(),className:k("w-7 h-7 rounded-full flex items-center justify-center transition-colors bg-white",us?"cursor-pointer":"bg-opacity-20"),children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M15.2803 5.73438C15.505 5.7344 15.7279 5.77923 15.9355 5.86523C16.143 5.95126 16.3324 6.07652 16.4912 6.23535C16.812 6.55627 16.9921 6.99252 16.9922 7.44629C16.9921 7.89995 16.8119 8.33539 16.4912 8.65625L9.49219 15.6562C9.32753 15.8209 9.13115 15.9509 8.91602 16.04C8.70088 16.1291 8.47016 16.1758 8.2373 16.1758C8.00442 16.1758 7.77376 16.1291 7.55859 16.04C7.34344 15.9509 7.14711 15.8209 6.98242 15.6562L3.50488 12.1787L3.50586 12.1777C3.34717 12.0219 3.21871 11.8372 3.13086 11.6328C3.04131 11.4243 2.99426 11.1996 2.99219 10.9727C2.99021 10.7454 3.03406 10.5189 3.12012 10.3086C3.20611 10.0986 3.33273 9.9076 3.49316 9.74707C3.65383 9.58641 3.84538 9.45911 4.05566 9.37305C4.26593 9.28703 4.49157 9.24317 4.71875 9.24512C4.94571 9.24712 5.17033 9.29429 5.37891 9.38379C5.58311 9.47151 5.76809 9.59938 5.92383 9.75781H5.9248L8.23633 12.0693L14.0693 6.23535C14.2281 6.07648 14.4175 5.95128 14.625 5.86523C14.8326 5.77923 15.0556 5.73442 15.2803 5.73438ZM7.53223 15.1064C7.6247 15.1989 7.73564 15.2722 7.85645 15.3223C7.94697 15.3597 8.04252 15.3829 8.13965 15.3926L8.04297 15.3779C7.97906 15.3652 7.91596 15.3463 7.85547 15.3213C7.73474 15.2712 7.62464 15.1979 7.53223 15.1055L5.5957 13.1689L7.53223 15.1064ZM8.61816 15.3213C8.59576 15.3306 8.57276 15.3381 8.5498 15.3457C8.57263 15.3381 8.59588 15.3315 8.61816 15.3223C8.64819 15.3098 8.6774 15.2955 8.70605 15.2803C8.67763 15.2954 8.64804 15.3089 8.61816 15.3213ZM16.0029 8.03711C15.9836 8.06074 15.9632 8.08366 15.9414 8.10547L8.94141 15.1055C8.89525 15.1516 8.84502 15.1934 8.79102 15.2295L8.86914 15.1719C8.89447 15.1512 8.91921 15.1296 8.94238 15.1064L15.9414 8.10645C15.9852 8.06266 16.0238 8.01464 16.0576 7.96387L16.0029 8.03711ZM3.83984 10.6035C3.82804 10.6324 3.81746 10.6617 3.80859 10.6914C3.79983 10.721 3.7929 10.751 3.78711 10.7812V10.7803C3.79875 10.7197 3.81639 10.6599 3.83984 10.6025C3.85147 10.5742 3.8646 10.5465 3.87891 10.5195L3.83984 10.6035Z",fill:"black"})})})]})]})}):t.jsx("div",{className:"text-center duration-300 animate-in fade-in-0 slide-in-from-top-2",children:t.jsx("button",{onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),In(!0),H($r.UPGRADE_TIER_MODAL_EVENTS.COUPON_INPUT_SHOWN,{plan_type:i,currency:ut.current})},className:"text-white/50 hover:text-white/40 font-inter text-[14px] font-medium leading-[20px]",children:p("credits.upgradeTierModal.havePromoCode")})})}),te||ae?null:xe?.promo_code_enabled?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(Zw,{inline:!0,maxWidth:R.maxWidth})}),t.jsx("div",{className:"md:hidden",children:t.jsx(Zw,{variant:"card"})})]}):Cp()?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(Jw,{inline:!0})}),t.jsx("div",{className:"md:hidden",children:t.jsx(Jw,{variant:"card"})})]}):lw()?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(Ek,{inline:!0,maxWidth:R.maxWidth})}),t.jsx("div",{className:"md:hidden",children:t.jsx(Ek,{variant:"card"})})]}):cw()?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(Xw,{inline:!0,maxWidth:R.maxWidth})}),t.jsx("div",{className:"md:hidden",children:t.jsx(Xw,{variant:"card"})})]}):null,t.jsxs("div",{className:k("flex flex-col gap-3 w-full","md:grid md:gap-3 md:justify-center",R.gridColumns,te&&"md:mt-4"),children:[vs.map(ne=>{if(qt(ne.tier_name))return null;const De=ne.variants,Ye=Ar(ne.tier_name),ue=x[Ye],be=De&&ue?De.find(Xs=>Xs.id===ue)||De[0]:De?.[0]||ne,ht=qe&&be.id===qe.id&&be.billing_period===qe.billing_period,yt=Je(be);kr(be);const mn=!qt(ne.tier_name)&&Xe(ne.tier_name),Nn=at(ne.tier_name),Mn=ee.highlighted_plan_id?ne.id===ee.highlighted_plan_id:Pe()?Nn:mn,Qn=Ps(be),sr=Qn?Math.floor(be.ecu_credits/2):null,qs=t.jsxs("div",{className:k("rounded-[16px] max-md:w-full pb-6 p-6 flex flex-col relative transition-colors duration-200 md:max-w-[410px] w-full min-h-[550px] md:min-h-[550px]","bg-[#212124]",Mn&&!Qn&&"bg-[#F3CA5F0D]",!Mn&&!Qn&&"md:scale-95"),children:[qt(ne.tier_name)?t.jsxs("div",{children:[t.jsxs("h3",{className:"text-white gap-1 mb-1 font-semibold flex items-center font-inter",children:[ve(ne.tier_name)," ",t.jsx(pxe,{size:24,fill:"white",className:"ml-1"})]}),t.jsx("p",{className:"text-white/50 text-[14px] font-medium font-inter",children:p("credits.upgradeTierModal.designedForTeams")})]}):t.jsxs("div",{children:[t.jsxs("h3",{className:Jt(ne.tier_name,Mn&&!Qn),children:[ve(ne.tier_name)," ",Xe(ne.tier_name)?t.jsx(Oi,{color:Mn&&!Qn?"#F3CA5F":"#FFF",size:24,height:24,width:24}):t.jsx(xxe,{color:Mn&&!Qn?"#F3CA5F":"#FFF",size:24,height:24,width:24})]}),Mn&&ee.plan_description_override?t.jsx("p",{className:"text-white/50 text-[14px] font-medium font-inter",children:ee.plan_description_override}):Xe(ne.tier_name)?t.jsx("p",{className:"text-white/50 text-[14px] font-medium font-inter",children:p("credits.upgradeTierModal.builtForCreators")}):Qn?t.jsx("p",{className:"text-white/60 text-[14px] font-medium font-inter",children:p("credits.upgradeTierModal.freeTrialSubtitle",{price:pr(be.amount,ut.current)})}):Te?.is_first_time_offer&&at(ne.tier_name)&&be.ecu_credits===100&&be.billing_period==="MONTHLY"?t.jsxs("div",{children:[t.jsx("p",{className:"text-white/50 text-[14px] font-medium font-inter",children:ee.first_month_price_text??p("credits.upgradeTierModal.firstMonthPrice")}),t.jsx("p",{className:"text-white/50 text-[14px] font-medium font-inter",children:ee.then_price_text??p("credits.upgradeTierModal.thenRegularPrice")})]}):t.jsx("p",{className:"text-white/50 text-[14px] font-medium font-inter",children:p("credits.upgradeTierModal.perfectForBuilders")})]}),t.jsxs("div",{className:"flex items-center justify-between my-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-baseline leading-[32px] h-[32px]",children:[t.jsxs("span",{className:k("font-semibold text-[28px] tracking-[-0.2px]",Qn&&"bg-[linear-gradient(149deg,#fce9ed_-0.46%,#f8b4b4_95.37%)] bg-clip-text text-transparent"),children:[Qn?pr(0,ut.current):Te?.is_first_time_offer&&at(ne.tier_name)&&be.ecu_credits===100&&be.billing_period==="MONTHLY"?pr(1,ut.current):pr((!Te?.is_first_time_offer&&!Ge||Et(be))&&(vb()&&be.billing_period==="MONTHLY"&&!Cn&&(!xe?.promo_code_enabled||at(be.tier_name))||ye(be))?sn(be):He(be),ut.current)," "]}),!Qn&&t.jsx("span",{className:"ml-2 font-medium text-white/50 text-[18px]",children:p("credits.upgradeTierModal.perMonth")})]}),Qn&&t.jsx("div",{className:"font-semibold w-fit text-2xl tracking-[-0.48px] text-white/30 line-through",children:pr(He(be),ut.current)}),!Qn&&!te&&(!Te?.is_first_time_offer&&!Ge||Et(be))&&(vb()&&be.billing_period==="MONTHLY"&&!Cn&&(!xe?.promo_code_enabled||at(be.tier_name))||ye(be))&&t.jsxs("div",{className:"font-semibold w-fit h-[32px] text-[20px] tracking-[-0.2px] text-[#646466] relative",children:[pr(He(be),ut.current)," ",t.jsx("div",{className:"absolute inset-0 transform -translate-y-1/2 h-[1.5px] w-full bg-[#969699] top-[50%]"})]})]}),ee.discount_badge_text&&Mn&&t.jsx("div",{children:t.jsx("span",{className:"inline-flex items-center px-[12px] py-[8px] h-[32px] rounded-full text-[14px] font-semibold bg-[#F3CA5F1A] text-[#F3CA5F]",children:ee.discount_badge_text})}),Qn&&t.jsx("div",{children:t.jsx("span",{className:"inline-flex items-center px-[12px] py-[8px] h-[32px] rounded-full text-[14px] font-semibold bg-[#66FF6F1A] text-[#66FF6F]",children:p("credits.upgradeTierModal.firstMonthOffer")})}),!Qn&&!te&&(!Te?.is_first_time_offer&&!Ge||Et(be))&&(vb()&&be.billing_period==="MONTHLY"&&!Cn&&(!xe?.promo_code_enabled||at(be.tier_name))||ye(be))&&t.jsx("div",{className:"",children:t.jsx("span",{className:"inline-flex items-center px-[12px] py-[8px] h-[32px] rounded-full text-[14px] font-semibold bg-[#66FF6F1A] text-[#66FF6F]",children:ee.discount_display_text??p("credits.upgradeTierModal.saveAmount",{amount:pr(He(be)-sn(be),ut.current)})})}),!Qn&&be.billing_period==="YEARLY"&&_o(be)&&t.jsx("div",{className:"",children:t.jsx("span",{className:"inline-flex flex-col items-center justify-center px-[12px] py-[8px] min-h-[32px] rounded-full text-[14px] font-semibold bg-[#66FF6F1A] text-[#66FF6F]",children:p("credits.upgradeTierModal.saveAmount",{amount:pr(_o(be)*12-be.amount,ut.current)}).split(`
`).map(Xs=>t.jsx("span",{children:Xs},Xs))})})]}),(!De||De.length<=1)&&t.jsxs("div",{className:"relative mt-2",children:[t.jsx("button",{type:"button",className:"w-full px-3 h-[48px] bg-[rgba(255,255,255,0.02)] mb-4 rounded-[10px] border border-white/20 flex items-center justify-between transition-colors cursor-default",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ho,{color:"#FFFFFF",size:20}),t.jsxs("span",{className:"text-[14px] font-inter font-medium text-white",children:[Qn&&sr&&be.ecu_credits!==sr&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"line-through text-white/50",children:be.ecu_credits})," "]}),sr??(Mn?ee.display_credits_override:null)??Cg(be.ecu_credits,Te?.is_first_time_offer,be.billing_period)," ",ee.credits_label_suffix??p("credits.credits")," ",t.jsx("span",{className:"text-white/50",children:p("credits.upgradeTierModal.perMonth")})]})]})}),ee.bonus_credits_text&&Mn&&t.jsx("p",{className:"text-[12px] text-[#66FF6F] font-inter font-medium mt-1",children:ee.bonus_credits_text})]}),De&&De.length>1&&(()=>{const Xs=v===Ye,vi=y.has(Ye);return t.jsxs("div",{className:"relative mt-2",ref:es=>{_.current[Ye]=es},children:[t.jsxs("button",{type:"button",onClick:()=>{b(Xs?null:Ye),vi||w(es=>new Set(es).add(Ye))},className:k("w-full px-3 h-[48px] bg-[rgba(255,255,255,0.02)] mb-4 rounded-[10px] border border-white/20 flex items-center justify-between hover:bg-[rgba(255,255,255,0.04)] transition-colors hover:border-[#FFFFFF4D]",Xs&&"border-[#FFFFFF4D] bg-[rgba(255,255,255,0.04)]"),children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ho,{color:"#FFFFFF",size:20}),t.jsxs("span",{className:"text-[14px] font-inter font-medium text-white",children:[!Qn&&Te?.is_first_time_offer&&be.ecu_credits===100&&be.billing_period==="MONTHLY"&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"line-through text-white/50",children:be.ecu_credits})," "]}),Qn&&sr&&be.ecu_credits!==sr&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"line-through text-white/50",children:be.ecu_credits})," "]}),sr??(Mn?ee.display_credits_override:null)??Cg(be.ecu_credits,Te?.is_first_time_offer,be.billing_period)," ",ee.credits_label_suffix??p("credits.credits")," ",t.jsx("span",{className:"text-white/50",children:p("credits.upgradeTierModal.perMonth")})]})]}),t.jsxs("div",{className:"flex justify-center items-center gap-[12px]",children:[Mn&&!Xs&&!vi&&t.jsxs("div",{className:"relative flex items-center justify-center",children:[t.jsx("span",{className:"absolute inline-flex h-[10px] w-[10px] rounded-full bg-[#ff6666] opacity-75 animate-ping"}),t.jsx("span",{className:"relative inline-flex h-[10px] w-[10px] rounded-full bg-[#ff6666]"})]}),t.jsx(Ur,{className:k("w-6 h-6 text-[#FFFFFF]/30 transition-transform",Xs&&"rotate-180")})]})]}),Xs&&t.jsx("div",{className:"absolute top-full -translate-y-3 left-0 gap-2 flex flex-col right-0 mt-1 p-2 bg-[#1A1A1C] border border-[#3A3A3B] rounded-lg overflow-hidden z-50 touch-manipulation",onMouseDown:es=>es.stopPropagation(),onTouchStart:es=>es.stopPropagation(),onTouchEnd:es=>es.stopPropagation(),children:De.map(es=>{const Lr=()=>{g(Qs=>({...Qs,[Ye]:es.id})),b(null),W($r.UPGRADE_TIER_MODAL_EVENTS.PLAN_VARIANT_SELECTED,{plan_name:es.tier_name,plan_id:es.id,credits:es.ecu_credits,billing_period:es.billing_period,price:es.amount,plan_type:i,currency:ut.current})};return t.jsxs("button",{type:"button",onTouchEnd:Qs=>{Qs.stopPropagation(),Lr()},onClick:Qs=>{Qs.stopPropagation(),Lr()},className:k("w-full rounded-[8px] text-left p-3 hover:bg-[#FFFFFF0F] transition-colors flex items-center text-white/60 justify-between touch-manipulation",be.id===es.id&&"bg-[#80FFF90F] text-[#80FFF9]"),children:[t.jsxs("span",{className:"text-[14px] font-medium font-inter",children:[Ps(es)?Math.floor(es.ecu_credits/2):Cg(es.ecu_credits,Te?.is_first_time_offer,es.billing_period)," ",ee.credits_label_suffix?`${ee.credits_label_suffix}/month`:p("credits.upgradeTierModal.creditsPerMonth"),Ps(es)&&t.jsxs("span",{className:"text-[#66FF6F] ml-1",children:["(",p("credits.upgradeTierModal.firstMonthFree"),")"]})]}),be.id===es.id&&t.jsx(xn,{color:"#80FFF9",size:20})]},es.id)})})]})})(),ht?t.jsx(fe.div,{className:"inline-block",whileHover:{y:-4},transition:{duration:.25,ease:"easeOut"},children:t.jsxs("button",{type:"button",className:"bg-[#FFFFFF29] text-[#FFFFFF] rounded-[10px] flex text-[16px] gap-2 font-semibold w-full px-[12px] h-[48px] pr-[16px] items-center justify-center",children:[p("credits.upgradeTierModal.currentActivePlan"),(Xe(ne.tier_name)||qt(ne.tier_name))&&t.jsx(Oi,{color:"#ffffff",size:24,height:24,width:24})]})}):yt?t.jsx(fe.div,{className:"inline-block",whileHover:{y:-4},transition:{duration:.25,ease:"easeOut"},children:t.jsxs("button",{type:"button",style:Hn(ne.tier_name,Mn,be.id),className:Rr(ne,!1,Mn,be.id),onClick:()=>{i==="personal"&&qt(be.tier_name)?rs(be):vr(be),H(qn.MODAL_EVENTS.UPDATE_TIER_CLICKED,{planType:i,plan:ne,selectedVariant:be,currency:ut.current})},disabled:f!==null||ar(ne.tier_name,be.id),children:[f!==null?rt():p("credits.upgradeTierModal.upgradeToAnnual"),Mn&&t.jsx(Oi,{color:"#0F0F10",size:24,height:24,width:24})]})}):t.jsx(fe.div,{className:"inline-block",whileHover:{y:-4},transition:{duration:.25,ease:"easeOut"},children:t.jsxs("button",{type:"button",style:Hn(ne.tier_name,Mn,be.id),className:Rr(ne,!1,Mn,be.id),onClick:()=>{i==="personal"&&qt(be.tier_name)&&kr(be)?Bs():Gs(be),H(qn.CREDIT_EVENTS.PLAN_UPGRADE_BUTTON_CLICKED,{planType:i,plan:ne,selectedVariant:be,currency:ut.current})},disabled:f===be.id||ar(ne.tier_name,be.id)||Ln(be)||js(be)||Un(be)||on(be),children:[f===be.id||Ln(be)||js(be)||Un(be)||on(be)?rt():yi(be),Qn?t.jsx(Cl,{size:20,strokeWidth:2.6}):Mn&&t.jsx(Oi,{color:"#0F0F10",size:24,height:24,width:24})]})}),t.jsx("div",{className:"mb-6"}),qt(ne.tier_name)?t.jsx("div",{className:"text-white/50 text-[14px] font-medium font-inter mb-4",children:p("credits.upgradeTierModal.everythingInProPlus")}):Xe(ne.tier_name)?t.jsx("div",{className:"text-white/50 text-[14px] font-medium font-inter mb-4",children:p("credits.upgradeTierModal.everythingInStandardPlus")}):t.jsx("div",{className:"text-white/50 text-[14px] font-medium font-inter mb-4",children:p("credits.upgradeTierModal.includes")}),Yr(be,Mn)]},ne.id);return Qn?t.jsxs("div",{children:[t.jsx("div",{className:"md:hidden mb-4 rounded-[20px] overflow-hidden pointer-events-none",children:t.jsxs("div",{className:"relative p-4",children:[t.jsx("div",{className:"absolute inset-0",children:t.jsx("img",{src:"/unlock-standard-plan-bg.webp",alt:"",className:"absolute h-[200%] w-[150%] left-[-25%] top-[-50%] max-w-none object-cover pointer-events-none"})}),t.jsxs("div",{className:"relative flex items-start gap-2",children:[t.jsx(Gr,{size:20,color:"#cc4141",className:"mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-[16px] leading-5 text-[#cc4141] block",style:{fontFamily:"'Brockmann', sans-serif",fontWeight:600},children:p("credits.upgradeTierModal.specialOffer")}),t.jsx("span",{className:"text-[14px] leading-5 text-[#0F0F10] font-medium",children:p("credits.upgradeTierModal.oneMonthFreeStandard")})]})]})]})}),t.jsx("div",{className:"md:hidden",children:qs}),t.jsxs("div",{className:"hidden md:block relative rounded-[24px] overflow-hidden p-[6px]",children:[t.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-[24px]",children:t.jsx("img",{src:"/unlock-standard-plan-bg.webp",alt:"",className:"absolute h-[150%] w-[130%] left-[-15%] top-[-25%] max-w-none object-cover pointer-events-none"})}),t.jsxs("div",{className:"relative flex items-center justify-center gap-3 pt-1.5 pb-2.5",children:[t.jsx(Gr,{size:24,color:"#cc4141",style:{transform:"rotate(-15deg)"}}),t.jsx("span",{className:"text-[18px] leading-6 tracking-[-0.5px] text-[#cc4141]",style:{fontFamily:"'Brockmann', sans-serif",fontWeight:600},children:p("credits.upgradeTierModal.freeFor1stMonth")}),t.jsx(Gr,{size:24,color:"#cc4141",style:{transform:"rotate(15deg)"}})]}),t.jsx("div",{className:"relative bg-[#212124] rounded-[20px]",children:qs})]})]},ne.id):Mn?t.jsxs("div",{className:"relative border border-[#F3CA5F66] p-[6px] rounded-[24px]",children:[t.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 h-[32px] px-2 z-10 rounded-bl-[10px] rounded-br-[10px] flex items-center text-[12px] font-bold",style:{border:"1px solid transparent",background:"linear-gradient(0deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05)), radial-gradient(163.12% 55.77% at 50% 55.77%, rgba(243, 202, 95, 0.6) 0%, rgba(243, 202, 95, 0) 100%)",mask:`
                                  linear-gradient(#000 0 0) padding-box,
                                  linear-gradient(#000 0 0)
                                `,maskComposite:"exclude"},children:t.jsx("span",{className:"invisible",children:ee.plan_badge_text??p("credits.upgradeTierModal.bestValue")})}),t.jsx("div",{className:"absolute top-[1.1px] left-1/2 -translate-x-1/2 z-20 h-[30px] px-2 bg-[#F3CA5F1A] backdrop-blur-sm text-[12px] font-bold text-[#F3CA5F] flex justify-center items-center rounded-bl-[9px] rounded-br-[9px]",children:t.jsx("div",{children:ee.plan_badge_text??p("credits.upgradeTierModal.bestValue")})}),qs]},ne.id):qs}),!1]}),ee.footer_text&&t.jsx("p",{className:"text-xs text-white/30 text-center mt-4",children:ee.footer_text}),Pe()&&t.jsx("div",{className:"flex items-center justify-center w-full mt-6 flex-nowrap",children:t.jsxs("span",{className:"text-[#FFFFFF66] font-inter text-[14px] flex gap-2 text-center text-nowrap",children:[p("credits.upgradeTierModal.needHelp")," ",t.jsxs("a",{href:ha.support,target:"_blank",rel:"noopener noreferrer",className:"text-[#FFFFFF] font-inter flex items-center gap-2",children:[p("credits.upgradeTierModal.contactUs")," ",t.jsx(pf,{color:"#FFFFFF"})]})]})}),!Pe()&&t.jsxs("div",{className:k("flex flex-col-reverse items-center justify-between w-full gap-4 max-md:pt-6 md:flex-row md:pt-4 mx-auto",R.maxWidth),children:[t.jsx("div",{className:"flex justify-center flex-nowrap",children:t.jsxs("span",{className:"text-[#FFFFFF66] font-inter text-[14px] flex gap-2 text-center text-nowrap",children:[p("credits.upgradeTierModal.needHelp")," ",t.jsxs("a",{href:ha.support,target:"_blank",rel:"noopener noreferrer",className:"text-[#FFFFFF] font-inter flex items-center gap-2",onClick:()=>H(qn.CREDIT_EVENTS.CONTACT_US_BUTTON_CLICKED,{currency:ut.current}),children:[p("credits.upgradeTierModal.contactUs")," ",t.jsx(pf,{color:"#FFFFFF"})]})]})}),!Pe()&&!Es()&&!((Ee||Ke)&&gr())&&!Ie&&fs()?t.jsx("button",{type:"button",onClick:Gn,disabled:Ut,className:k("text-[#FFFFFF66] max-md:w-full max-md:min-h-[48px] justify-center text-[14px] py-2 px-4 rounded-full flex items-center gap-1 hover:text-white/80 transition-colors duration-200",Ut&&"opacity-50 cursor-not-allowed"),children:Ut?rt():t.jsxs(t.Fragment,{children:[Ri()," ",p("credits.upgradeTierModal.subscription"),t.jsx(Xa,{className:"rotate-180",color:"#FFFFFF66",size:16})]})}):null]})]})]})})]})]})})})}),t.jsx(Hf,{isOpen:xt.isLoading,onOpenChange:It,paymentType:xt.paymentType||"subscription",amount:xt.amount,currency:xt.currency,planName:xt.planName}),t.jsx(O0e,{showModal:Lt.showModal,plan:Lt.plan,savedCard:nt,isLoading:Ut,onClose:ft,onConfirm:Tt,onChangePaymentMethod:Sr}),kt.paymentId&&t.jsx(aC,{isOpen:kt.showModal,onOpenChange:Ot,paymentId:kt.paymentId,initialStatus:Sn,paymentType:"subscription",planName:kt.planName,organizationId:kt.organizationId,navigationStrategy:"none",onClose:yn}),t.jsx(uxe,{isOpen:N,onClose:()=>{H($r.CANCELLATION_FLOW_EVENTS.SURVEY_CLOSED,Jn),j(!1)},onCancelComplete:async()=>{if(mt)await Fs("multi_step");else{const ne=qe?.payment_provider||D?.payment_provider;j(!1),S(!0);try{await Le(Ae?.subscription?.id,ut.current,void 0,ne)}catch{}finally{S(!1)}}},onClaimOffer:nr,onSubmitFeedback:async(ne,De)=>{H($r.CANCELLATION_FLOW_EVENTS.SURVEY_SUBMITTED,{...Jn,selected_reason:ne,additional_info:De}),await _e({selectedReason:ne,additionalInfo:De}).unwrap()},retentionOffers:mt?Ce:void 0,isLoadingOffers:mt?$e:!1,currency:ut.current,feedbackOnly:!mt}),t.jsx(as,{open:C||Re||Ne,children:t.jsx(Cr,{children:t.jsxs("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-[#0F0F10]/80 backdrop-blur-[6px]"}),t.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[t.jsx("div",{className:"w-8 h-8 mb-6 text-gray-200 border-2 rounded-full border-white/20 border-t-white animate-spin"}),F&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"mt-2 font-medium text-white",children:"Your subscription is being cancelled."}),t.jsx("p",{className:"text-sm text-gray-400",children:" This may take a few seconds"})]})]})]})})})]})}const Uxe=Object.freeze(Object.defineProperty({__proto__:null,UpgradeTierModal:ud,buttonStyle:WH,plainButtonStyle:GH,promoButtonStyle:qH},Symbol.toStringTag,{value:"Module"})),Hxe=K.common.bot,Vxe=K.pro.secondBanner,$xe=K.feature.arrowDark,zxe=[{number:"1",title:"Define Your Agent's Personality & Role",description:"Describe who your agent is and what they're great at."},{number:"2",title:"Map Out the Workflow & Logic",description:"Break down how they should approach tasks step by step."},{number:"3",title:"Add Guardrails for Better Decisions",description:"Establish do's and don'ts so your agent makes the right decisions."}],Wxe=({isOpen:e,onOpenChange:n})=>{const{user:s}=os(),{currentWorkspace:r}=hs(),{isMobile:i}=ts(),{setTabs:a,setActiveTab:o}=hi(),l=()=>{const c=`create-agent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;a(u=>[...u,{id:c,title:"Create New Agent",path:"/create-agent",level:r&&r!=="personal"?"organization":"user",organization_id:r&&r!=="personal"?r:void 0,created_by:s?.id,state:{tabId:c,fromModal:!0}}]),o(c),n(!1)};return t.jsx(as,{open:e,onOpenChange:n,children:t.jsxs(Er,{className:"md:w-[900px] max-h-[80vh] max-w-[90vw] md:h-[650px] p-0 bg-[#18181A] rounded-2xl overflow-hidden",children:[t.jsx(Yl,{className:"absolute z-10 flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-6 md:top-6 hover:bg-white/10",children:t.jsx(Ft,{className:"w-6 h-6 md:w-6 md:h-6"})}),t.jsxs("div",{className:"relative flex w-[inherit] h-full max-md:flex-col-reverse",children:[t.jsxs("div",{className:"flex flex-col justify-center flex-1 gap-4 md:px-[40px] md:py-12",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-8 max-md:px-5 max-md:pt-6",children:[t.jsx("img",{src:Hxe,alt:"Custom Agents",className:"w-12 h-12 max-md:hidden"}),t.jsx(fe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-[20px] md:text-[28px] leading-[32px] font-semibold tracking-[-2%] text-white",children:"Introducing Custom Agents"})]}),t.jsx(fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-[#737780] max-md:px-5 text-[14px] font-['Inter'] md:text-[15px] text-wrap whitespace-pre-wrap break-words leading-[20px] md:leading-[24px]",children:"Create and monetize expert-level AI agents tailored to custom use cases."})]}),t.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col gap-[16px] max-md:px-5",children:zxe.map((c,u)=>t.jsx("div",{className:"flex items-start gap-4 bg-[#80FFF908] p-4 rounded-[8px]",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h3",{className:"text-[16px] text-[#80FFF9] font-medium",children:c.title}),t.jsx("p",{className:"text-[14px] font-[500] text-[#80FFF966] font-['Inter']",children:c.description})]})},u))}),t.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"sticky max-md:px-5 bottom-4 max-md:pb-6",children:t.jsxs("button",{type:"button",onClick:l,className:"flex items-center max-md:max-h-[48px] mt-4 md:mt-[36px] justify-center w-full gap-4 text-[16px] font-semibold text-black transition-all duration-200 transform bg-white shadow-lg h-14 rounded-xl hover:bg-gray-100 hover:shadow-xl hover:-translate-y-1",children:["Create Your First Agent",t.jsx("img",{src:$xe,alt:"Arrow",className:"w-5 h-5"})]})})]}),t.jsx("div",{className:"relative max-md:max-h-[200px] flex-1 overflow-hidden bg-gradient-to-br from-[#DD99FF20] to-[#BB77DD20]",children:t.jsx("img",{src:Vxe,alt:"Right Banner",className:"object-cover w-full h-full md:object-fill "})})]})]})})},Sk=e=>{const n=e.toLowerCase(),s=K.payments.cardBrands;return{visa:s.visa,mastercard:s.mastercard,amex:s.amex,american_express:s.amex,jcb:s.jcb}[n]||null};function KH({showModal:e,bundle:n,savedCard:s,isLoading:r,discountPercentage:i,onClose:a,onConfirm:o,onChangePaymentMethod:l}){const{t:c}=en("billing"),[u]=tO(),[p,f]=d.useState(!1),[m,h]=d.useState(""),[x,g]=d.useState(!1),[v,b]=d.useState(""),[y,w]=d.useState(null);d.useEffect(()=>{e&&(h(""),b(""),w(null))},[e,n?.amount]);const _=n?.cohortTotalCredits||n?.amount||0,j=i&&i>0?Math.round((n?.price||0)*(1-i/100)*100)/100:n?.price||0,C=y?y.finalAmount:j,S=async()=>{const I=m.trim();if(!(!I||!n)){g(!0),b(""),w(null);try{const T=await u({coupon_name:I,payment_mode:"payment",payment_gateway:"STRIPE",amount:j,currency:n.currency||"USD"}).unwrap();T.valid&&T.discount_details?w({code:I,discountAmount:T.discount_details.discount_amount,finalAmount:T.discount_details.final_amount}):b(T.message||c("credits.buyCreditsModal.invalidPromoCode"))}catch{b(c("credits.buyCreditsModal.invalidPromoCode"))}finally{g(!1)}}},F=()=>{w(null),h(""),b("")},E=()=>{o(y?.code||m.trim()||void 0)};return t.jsx(as,{open:e,onOpenChange:I=>!I&&a(),children:t.jsx(Cr,{children:t.jsx(Kn,{children:t.jsxs("div",{className:"fixed inset-0 z-[10002] flex items-center justify-center",children:[t.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:a}),t.jsxs(fe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative bg-[#1C1C1F] rounded-2xl p-6 max-md:p-[16px] max-w-[600px] w-full m-4 shadow-2xl max-h-[96dvh] overflow-y-auto md:max-h-none md:overflow-visible hide-scrollbar",onClick:I=>I.stopPropagation(),children:[t.jsx("div",{className:"float-right sticky top-0 z-10",children:t.jsx("button",{type:"button",onClick:a,className:"w-[32px] h-[32px] bg-[#FFFFFF0A] hover:bg-[#ffffff1e] flex justify-center items-center rounded-full cursor-pointer transition-colors","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-[22px] h-[22px] text-white/50"})})}),t.jsx("h3",{className:"text-[24px] font-medium text-white mb-[24px] pr-10",children:c("credits.buyCreditsModal.confirmCreditPurchase")}),t.jsxs("div",{className:"space-y-[8px] border border-[#333333] rounded-[12px] px-[20px] py-[16px] mb-[20px]",children:[t.jsxs("div",{className:"flex justify-between items-center h-[32px]",children:[t.jsx("span",{className:"text-white/50 text-[16px] font-[Inter]",children:c("credits.buyCreditsModal.totalCredits")}),t.jsxs("span",{className:"text-white font-semibold text-[18px] font-[Inter]",children:[_," ",c("credits.buyCreditsModal.creditsLabel")]})]}),t.jsxs("div",{className:"flex justify-between items-center h-[32px]",children:[t.jsx("span",{className:"text-white/50 text-[16px] font-[Inter]",children:c("credits.buyCreditsModal.creditPack")}),t.jsx("span",{className:"text-white/60 font-semibold text-[18px] font-[Inter]",children:pr(j,n?.currency||"USD")})]}),y&&t.jsxs("div",{className:"flex justify-between items-center h-[32px]",children:[t.jsx("span",{className:"text-[#4ADE80] text-[16px] font-[Inter]",children:c("credits.buyCreditsModal.promoDiscount")}),t.jsxs("span",{className:"text-[#4ADE80] font-semibold text-[18px] font-[Inter]",children:["-",pr(y.discountAmount,n?.currency||"USD")]})]}),t.jsxs("div",{className:"border-t border-[#333333] pt-[8px] flex justify-between items-center",children:[t.jsx("span",{className:"text-white font-medium text-[20px]",children:c("credits.buyCreditsModal.totalPrice")}),t.jsx("span",{className:"text-white font-semibold text-[20px]",children:pr(C,n?.currency||"USD")})]})]}),t.jsx("div",{className:"mb-[20px]",children:y?t.jsxs("div",{className:"flex items-center justify-between bg-[#4ADE8014] border border-[#4ADE8033] rounded-[10px] px-4 py-[10px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($me,{className:"w-4 h-4 text-[#4ADE80]"}),t.jsx("span",{className:"text-[#4ADE80] text-[14px] font-medium",children:y.code})]}),t.jsx("button",{type:"button",onClick:F,className:"text-white/40 hover:text-white/70 transition-colors",children:t.jsx(Ft,{className:"w-4 h-4"})})]}):t.jsxs("div",{children:[t.jsx("p",{className:"text-[#FFFFFFB2] font-semibold text-[16px] mb-3",children:c("credits.buyCreditsModal.havePromoCode")}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:m,onChange:I=>{h(I.target.value),b("")},placeholder:c("credits.buyCreditsModal.enterPromoCode"),className:k("flex-1 bg-[#FFFFFF0A] border rounded-[10px] px-4 py-[10px] text-white text-[14px] placeholder:text-[#FFFFFF40] focus:outline-none transition-colors",v?"border-red-500":"border-[#333333] focus:border-[#F3CA5F80]")}),t.jsx("button",{type:"button",onClick:S,disabled:x||!m.trim(),className:"px-4 py-[10px] bg-[#FFFFFF14] hover:bg-[#FFFFFF1F] text-white text-[14px] font-medium rounded-[10px] transition-colors disabled:opacity-40",children:x?t.jsx(tn,{className:"w-4 h-4 animate-spin"}):c("credits.buyCreditsModal.apply")})]}),v&&t.jsx("p",{className:"mt-2 text-red-400 text-[13px]",children:v})]})}),t.jsxs("div",{className:"space-y-[8px] border border-[#333333] rounded-[12px] px-[20px] py-[16px] mb-[20px]",children:[t.jsxs("div",{className:"",children:[t.jsx("p",{className:"text-[#FFFFFFB2] font-semibold text-[16px]",children:c("credits.buyCreditsModal.payVia")}),t.jsx("p",{className:"text-[#FFFFFF66] text-sm mb-[20px] font-medium",children:c("credits.buyCreditsModal.useLastPaymentMethod")})]}),s&&t.jsxs("div",{className:"flex items-center justify-between bg-[#FFFFFF14] px-4 py-[12px] rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[Sk(s.brand||"")?t.jsxs("div",{className:"relative h-8 w-12",children:[!p&&t.jsx("div",{className:"absolute inset-0 bg-[#FFFFFF20] rounded animate-pulse"}),t.jsx("img",{src:Sk(s.brand||""),alt:s.brand,className:k("h-8 w-auto object-contain transition-opacity duration-200",p?"opacity-100":"opacity-0"),onLoad:()=>f(!0)})]}):t.jsx("span",{className:"text-white font-semibold uppercase text-sm bg-[#1C1C1F] px-2 py-1 rounded",children:s.brand}),t.jsx("div",{className:"h-[44px] flex justify-center items-center",children:t.jsxs("p",{className:"text-white text-[14px] font-medium",children:[(s.brand||"").charAt(0).toUpperCase()+(s.brand||"").slice(1)," ",t.jsx("span",{className:"ml-1 tracking-[0.15em]",children:""}),s.last4]})})]}),t.jsx("div",{className:"w-[20px] h-[20px] bg-white rounded-full flex items-center justify-center",children:t.jsx(xn,{className:"w-4 h-4 text-black"})})]})]}),t.jsxs("div",{className:"flex max-md:flex-col-reverse gap-4 mb-4",children:[t.jsx("button",{type:"button",onClick:l,disabled:r,className:"flex-1 py-3 px-4 border border-[#FFFFFF1F] hover:bg-[#3E3F44] text-[#FFFFFFCC] text-[15px] font-medium rounded-[10px] transition-all duration-150 disabled:opacity-50",children:c("credits.buyCreditsModal.changePaymentMethod")}),t.jsx("button",{type:"button",onClick:E,disabled:r,className:"flex-1 py-3 px-4 bg-[#F3CA5F] hover:bg-[#E7A93C] text-black font-semibold text-[15px] rounded-[10px] transition-all disabled:opacity-50 duration-150",children:r?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(tn,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx("span",{children:c("credits.buyCreditsModal.processing")})]}):c("credits.buyCreditsModal.confirmAndPay",{amount:pr(C,n?.currency||"USD")})})]}),t.jsxs("div",{className:"flex items-center py-[6px] justify-center gap-1 text-[#FFFFFF40] text-sm",children:[t.jsx(PH,{color:"#FFFFFF40",size:20}),t.jsx("p",{children:c("credits.buyCreditsModal.securePaymentsViaStripe")})]})]})]})})})})}function YH({bundle:e,variant:n,discountPercentage:s,cohortOriginalPrice:r,cohortBaseCredits:i,cohortTotalCredits:a}){const o=n==="premium",l=n==="discounted",c=!!i&&!!a&&a>i,u=c||e.discount>0;let p,f;c?(p=i,f=a):e.discount>0?(p=e.amount-e.discount,f=e.amount):(p=e.amount,f=e.amount);const m=!!r&&r!==e.price,h=!m&&l&&s&&s<100?Math.round(e.price/(1-s/100)):null;return{hasBonusCredits:u,baseCredits:p,totalCredits:f,isPremium:o,isDiscounted:l,hasCohortDiscount:m,originalPrice:r??h}}const Gxe=1.2,u6={INR:42500,BRL:3e3,KRW:75e4,USD:500},qxe={USD:Ih,INR:DH,BRL:MH,KRW:RH};function Kxe(e,n){const s=Math.min(Math.max(n,0),100);return Math.ceil(e*(1-s/100))}function Yxe(e,n,s){if(isNaN(e)||e<=0)return 0;const r=n.toUpperCase(),i=s?.bonusMultiplier??Gxe,a=Math.min(Math.max(i,1),5),o=s?.bonusThresholds?{...u6,...s.bonusThresholds}:u6,l=o[r]??o.USD??u6.USD,c=s?.creditPriceOverride?.[r]??qxe[r]??Ih,u=c>0?c:Ih;let p=e/u;e>=l&&(p*=a);const f=Math.max(s?.topupBonusCredits??0,0);return Math.floor(p+1e-9)+f}const Rc=3e3,Zxe=5,Jxe=3e6,vx={USD:5,BRL:10,INR:5,KRW:5};function p6(e){if(e.originalPrice)return"discounted";const n=e.discount>0&&e.amount>=Rc,s=!!e.cohortBaseCredits&&!!e.cohortTotalCredits&&e.cohortTotalCredits>e.cohortBaseCredits;return n||s?"premium":e.discount>0?"discounted":"standard"}function f6(e,n){if(e.originalPrice&&n?.is_eligible)return n.discount_percentage;if(!(e.discount<=0)&&!(e.amount>=Rc))return 25}function Xxe(e,n){if(!n?.is_eligible)return e;const s=Math.min(100,Math.max(0,n.discount_percentage));return e.map(r=>{if(r.amount<Rc){const l=1-s/100,c=Math.round(r.price*l*100)/100;return{...r,originalPrice:r.price,price:c}}const i=r.amount,a=Math.floor(i*(s/100)),o=i+a;return{...r,cohortBaseCredits:i,cohortTotalCredits:o}})}function m6(e){return Number.isFinite(e)?e:0}function Qxe(e,n){return e.map(s=>({amount:m6(s.amount),price:m6(s.price),selected:!1,discount:m6(s.discount),currency:s.currency??n,badge_text:s.badge_text,highlight:s.highlight})).filter(s=>s.price>0&&s.amount>0)}function ZH({amount:e,currency:n,calculateCredits:s}){return{amount:s(e.toString()),price:e,selected:!1,discount:0,currency:n}}function ege({isAnyLoading:e,selectedOption:n,discountedBundles:s,customAmount:r,calculateCreditsWithBonus:i,t:a,ctaText:o}){if(e)return null;if(o)return o;if(n?.type==="bundle"&&n.bundleIndex!==void 0){const l=s[n.bundleIndex],c=l?.cohortTotalCredits??l?.amount;if(c)return a("credits.buyCreditsModal.buyCredits",{count:c})}return n?.type==="custom"&&r?a("credits.buyCreditsModal.buyCredits",{count:i(r)}):a("credits.buyCreditsModal.buyNow")}function tge({bundles:e,topupPricing:n}){const[s,r]=d.useState(""),[i,a]=d.useState(""),[o,l]=d.useState(null),[c,u]=d.useState(!1),p=d.useCallback(()=>e.length>0?e[0].currency:kn.USD,[e]),f=p(),m=p().toUpperCase()===kn.INR,h=d.useCallback(y=>{const w=y.toUpperCase(),_=n?.min_purchase_override?.[w]??NF[w]??NF[kn.USD],N=n?.max_purchase_override?.[w]??FF[w]??FF[kn.USD],j=e.filter(S=>S.currency?.toUpperCase()===w&&S.price>0).map(S=>S.price);return{minimum:j.length>0?Math.min(_,...j):_,maximum:N}},[n,e]),x=d.useMemo(()=>{if(n)return{bonusMultiplier:n.bonus_multiplier,bonusThresholds:n.bonus_threshold,creditPriceOverride:n.credit_price_override,topupBonusCredits:n.topup_bonus_credits}},[n]),g=d.useCallback(y=>{const w=parseInt(y,10);return Yxe(w,f,x)},[f,x]),v=d.useMemo(()=>{const y=parseInt(s,10),w=h(f);return!isNaN(y)&&y>=w.minimum&&y<=w.maximum&&!i},[s,f,i,h]),b=d.useMemo(()=>{if(o?.type==="bundle"&&o.bundleIndex!==void 0)return e[o.bundleIndex]??null;if(o?.type==="custom"&&s&&v){const y=parseInt(s,10);return{amount:g(s),price:y,currency:f,discount:0,selected:!0}}return null},[o,e,s,f,v,g]);return{customAmount:s,setCustomAmount:r,customAmountError:i,setCustomAmountError:a,selectedOption:o,setSelectedOption:l,isProcessing:c,setIsProcessing:u,customAmountCurrency:f,isRazorpayFlowEnabled:m,selectedBundle:b,isCustomAmountValid:v,customAmountEnabled:n?.custom_amount_enabled!==!1,getDetectedCurrency:p,getCurrencyLimits:h,calculateCredits:g}}function nge({customAmount:e,customAmountCurrency:n,selectedOption:s,selectedBundle:r,isRazorpayFlowEnabled:i,setCustomAmount:a,setCustomAmountError:o,setSelectedOption:l,setIsProcessing:c,getCurrencyLimits:u,calculateCredits:p,getDetectedCurrency:f,tier:m,currentWorkspace:h,userId:x,location:g,handleBuyCredits:v,handleRazorpayPayment:b,checkForSavedPaymentMethod:y,showQuickTopupConfirmation:w,hideQuickTopupConfirmation:_,quickTopupConfirmation:N,onOpenChange:j,dynamoCouponCode:C,litmusConfig:S}){const{t:F}=en("billing"),[E,I]=d.useState(!1),[T,A]=d.useState(null),D=d.useRef(!1),O=d.useCallback(W=>{const Z=u(n);if(W<Z.minimum){const le=F("credits.buyCreditsModal.minimumAmount",{amount:pr(Z.minimum,n)});o(le),H(Ra.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_VALIDATION_ERROR,{error_type:"below_minimum",amount:W,minimum_required:Z.minimum,currency:n,workspace:h,tier:m})}else if(W>Z.maximum){const le=F("credits.buyCreditsModal.maximumAmount",{amount:pr(Z.maximum,n)});o(le),H(Ra.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_VALIDATION_ERROR,{error_type:"above_maximum",amount:W,maximum_allowed:Z.maximum,currency:n,workspace:h,tier:m})}else o("")},[n,u,o,F,h,m]),M=d.useCallback(W=>{W||(H(Ra.BUY_CREDITS_MODAL_EVENTS.MODAL_CLOSED,{tier:m,workspace:h,custom_amount_entered:!!e,custom_amount_value:e?parseInt(e):null}),o("")),j(W)},[m,h,e,j,o]),L=d.useCallback(()=>M(!1),[M]),P=d.useCallback(W=>{const Z=W.target.value;if(Z===""){a(""),o("");return}if(!/^\d+$/.test(Z))return;const le=parseInt(Z,10);if(isNaN(le)||le>Jxe)return;a(Z);const q=u(n);H(Ra.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_INPUT_CHANGED,{amount:le,currency:n,calculated_credits:p(Z),is_within_limits:le>=q.minimum&&le<=q.maximum}),O(le)},[n,u,p,O,a,o]),B=d.useCallback(()=>{H(Ra.BUY_CREDITS_MODAL_EVENTS.PRICING_INFO_LEARN_MORE_CLICKED,{tier:m,workspace:h,currency:f(),custom_amount_entered:!!e}),window.open(ha.creditsAndPricing,"_blank")},[m,h,f,e]),G=d.useCallback(()=>{const W=N.bundle,Z=N.organizationId,le=N.litmusConfig;if(_(),W){const q=ou(W.price,W.currency,W.amount);xo("credits",q),v(W,Z,!1,q,le)}},[N,_,v]),$=d.useCallback(()=>{const Z=(parseInt(e,10)||0)+1,le=u(n);Z<=le.maximum&&(a(Z.toString()),O(Z))},[e,n,u,a,O]),te=d.useCallback(()=>{const W=parseInt(e,10)||0,Z=Math.max(0,W-1);Z>0?(a(Z.toString()),O(Z)):(a(""),o(""))},[e,a,o,O]),U=d.useCallback(W=>{l({type:"bundle",bundleIndex:W}),o("")},[l,o]),oe=d.useCallback(()=>{l({type:"custom"});const W=parseInt(e,10);isNaN(W)||O(W)},[e,l,O]),Y=d.useCallback(async W=>{if(D.current)return;D.current=!0;const Z=W.mode==="inline",le=Z?W.bundle:r;if(!le){D.current=!1;return}const q=C?{...le,couponCode:C}:le,Q=Z?W.isCustom:s?.type==="custom",he=void 0;try{if(H(Ra.BUY_CREDITS_MODAL_EVENTS.BUNDLE_PURCHASE_CLICKED,{bundle_amount:q.amount,bundle_price:q.price,bundle_currency:q.currency,bundle_discount:q.discount||0,is_premium_bundle:(q.discount||0)>0,is_custom:Q,workspace:h,is_razorpay_flow:i}),Z?(I(!0),A(q.amount)):c(!0),i){const ce=ou(q.price,q.currency,q.amount);xo("credits",ce),await b(q,he,{eventId:ce,litmusConfig:S}),H(Ra.BUY_CREDITS_MODAL_EVENTS.BUY_CREDITS_CLICKED,{userId:x,credits:q.amount,price:q.price,discount:q.discount||0,tier:m||"free",isCustomAmount:Q,bundleType:Q?"custom":"preset",organizationId:he||"personal",triggerLocation:g,is_razorpay_flow:!0});return}if(await y(he))H(Ra.BUY_CREDITS_MODAL_EVENTS.BUY_CREDITS_CLICKED,{userId:x,credits:q.amount,price:q.price,discount:q.discount||0,tier:m||"free",isCustomAmount:Q,bundleType:Q?"custom":"preset",organizationId:he||"personal",triggerLocation:g,is_quick_topup:!0}),w(q,he,S);else{const ce=ou(q.price,q.currency,q.amount);xo("credits",ce),H(Ra.BUY_CREDITS_MODAL_EVENTS.BUY_CREDITS_CLICKED,{userId:x,credits:q.amount,price:q.price,discount:q.discount||0,tier:m||"free",isCustomAmount:Q,bundleType:Q?"custom":"preset",organizationId:he||"personal",triggerLocation:g,is_razorpay_flow:!1}),await v(q,he,Q,ce,S)}}catch(me){jt(tf.CREDITS_PURCHASE,me,{credits_amount:q.amount,price:q.price,currency:q.currency,is_custom:Q,is_razorpay_flow:i})}finally{D.current=!1,Z?(I(!1),A(null)):c(!1)}},[r,s,i,h,x,m,g,b,v,y,w,c,C,S]);return{handleOpenChange:M,closeModal:L,handleCustomAmountChange:P,handleLearnMoreClick:B,handleChangePaymentMethod:G,handleIncrement:$,handleDecrement:te,handleBundleSelect:U,handleCustomAmountSelect:oe,handlePurchase:Y,isCheckingSavedCard:E,checkingSavedCardBundleAmount:T}}const sge=K.payments.infoRed,rge=K.payments.info;function Qw({error:e,className:n,variant:s="error"}){const r=s==="info";return t.jsx(Kn,{mode:"wait",children:e&&t.jsxs(fe.div,{initial:{opacity:0,x:20,height:0},animate:{opacity:1,x:0,height:"auto"},exit:{opacity:0,x:20,height:0},transition:{duration:.2,ease:"easeOut",height:{duration:.15}},className:k("text-[14px] font-medium flex items-center gap-[6px] overflow-hidden",r?"text-[#F3CA5F]":"text-[#E57373]",n),children:[t.jsx("img",{src:r?rge:sge,alt:"Info",className:"flex-shrink-0 w-5 h-5"}),t.jsx("span",{children:e})]})})}function G2({size:e=24,color:n="#33E3FF",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C13.5759 24 15.1363 23.6896 16.5922 23.0866C18.0481 22.4835 19.371 21.5996 20.4853 20.4853C21.5996 19.371 22.4835 18.0481 23.0866 16.5922C23.6896 15.1363 24 13.5759 24 12C24 10.4241 23.6896 8.86371 23.0866 7.4078C22.4835 5.95189 21.5996 4.62902 20.4853 3.51472C19.371 2.40042 18.0481 1.5165 16.5922 0.913445C15.1363 0.310389 13.5759 -2.34822e-08 12 0C8.8174 4.74244e-08 5.76516 1.26428 3.51472 3.51472C1.26428 5.76515 0 8.8174 0 12C0 15.1826 1.26428 18.2348 3.51472 20.4853C5.76516 22.7357 8.8174 24 12 24ZM11.6907 16.8533L18.3573 8.85333L16.3093 7.14667L10.576 14.0253L7.60933 11.0573L5.724 12.9427L9.724 16.9427L10.756 17.9747L11.6907 16.8533Z",fill:n})})}function h6({bundle:e,isSelected:n,onSelect:s}){const{t:r}=en("billing"),i=e.discount>0,a=e.amount-e.discount;return t.jsx("button",{type:"button",onClick:s,className:k("relative p-1 rounded-2xl transition-all text-left w-full",n?"border border-white":"border border-[#FFFFFF1F] hover:border-white/50"),children:t.jsxs("div",{className:k("w-full h-full rounded-xl px-3 pt-3 md:px-3 md:pt-3 pb-6 md:pb-6 overflow-hidden border border-[#FFFFFF1F]",n?"bg-[#252528]":"bg-[#1f1f21]"),children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"text-[16px] font-semibold",children:i?t.jsxs("div",{className:"flex gap-1 items-center flex-wrap",children:[t.jsx("span",{className:"line-through opacity-20 text-white font-inter-tight",children:a.toLocaleString()}),t.jsxs("span",{className:"text-[#FFD566] font-inter-tight",children:[e.amount.toLocaleString()," ",r("credits.buyCreditsModal.creditsLabel")]})]}):t.jsxs("span",{className:"text-[#E6E6E6] font-inter-tight",children:[e.amount.toLocaleString()," ",r("credits.buyCreditsModal.creditsLabel")]})}),t.jsx("p",{className:k("text-[15px] font-inter font-medium",n?"text-[#29CC83]":"text-white/50"),style:{fontFeatureSettings:"'lnum' 1, 'tnum' 1"},children:pr(e.price,e.currency)})]}),n&&t.jsx("div",{className:"absolute bottom-[11px] right-[11px]",children:t.jsx(G2,{size:20,color:"#FFFFFF"})})]})})}const JH=({size:e=24,color:n="#C54800",className:s})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:s,children:t.jsx("path",{d:"M5.28234 12.0004H4.32234V19.6804C4.32234 20.1896 4.52463 20.678 4.8847 21.038C5.24477 21.3981 5.73313 21.6004 6.24234 21.6004H11.0423V12.0004H5.28234ZM17.7623 12.0004H12.9623V21.6004H17.7623C18.2716 21.6004 18.7599 21.3981 19.12 21.038C19.4801 20.678 19.6823 20.1896 19.6823 19.6804V12.0004H17.7623ZM18.5217 7.20039C18.6613 6.73336 18.729 6.24779 18.7223 5.76039C18.7223 3.90759 17.2151 2.40039 15.3623 2.40039C13.8052 2.40039 12.7655 3.82311 12.0945 5.36199C11.4331 3.90759 10.3406 2.40039 8.64234 2.40039C6.78954 2.40039 5.28234 3.90759 5.28234 5.76039C5.28234 6.33255 5.35818 6.80583 5.48298 7.20039H2.40234L2.40234 11.0404H11.0423V9.12039H12.9623V11.0404H21.6023V7.20039H18.5217ZM7.20234 5.76039C7.20234 4.96647 7.84842 4.32039 8.64234 4.32039C9.49482 4.32039 10.2878 5.78439 10.7524 7.20039H8.16234C7.8033 7.20039 7.20234 7.20039 7.20234 5.76039ZM15.3623 4.32039C16.1563 4.32039 16.8023 4.96647 16.8023 5.76039C16.8023 7.20039 16.2014 7.20039 15.8423 7.20039H13.4644C13.954 5.68743 14.6654 4.32039 15.3623 4.32039Z",fill:n})}),ige=2e3,age=e=>e.split(/(\{(?:highlight|code):[^}]+\})/),oge=e=>e.match(/^\{highlight:([^}]+)\}$/)?.[1],x6=e=>e.match(/^\{code:([^}]+)\}$/)?.[1]?.trim(),f3=({config:e,showPromoCode:n=!0,onCodeCopy:s})=>{const[r,i]=d.useState(null);if(!e||!e.text)return null;const a=f=>{navigator.clipboard.writeText(f).catch(()=>{}),i(f),setTimeout(()=>i(null),ige),s?.(f)},o=!n&&e.alternativeText?e.alternativeText:e.text,l=age(o),c=l.find(f=>x6(f)),u=c?x6(c):null,p=e.backgroundImage?{backgroundImage:`url(${e.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{background:"linear-gradient(90deg, #FFE4C4 0%, #FFD4A8 50%, #FFCC99 100%)"};return t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between w-full px-4 py-3 md:rounded-xl gap-2 md:gap-3",style:p,children:[t.jsxs("div",{className:"flex items-center gap-1",children:[e.showGiftIcon!==!1&&t.jsx(JH,{color:e.giftIconColor||"#C54800",className:"flex-shrink-0"}),t.jsx("div",{className:"flex flex-wrap items-center gap-x-1 text-[14px] font-semibold",children:l.map((f,m)=>{const h=oge(f);return h?t.jsx("span",{className:e.highlightFontWeight==="medium"?"font-medium":e.highlightFontWeight==="semibold"?"font-semibold":"font-bold",style:{color:e.highlightTextColor||"#E25C3A"},children:h},m):x6(f)?null:f?t.jsx("span",{style:{color:e.textColor||"#4A3728"},children:f},m):null})})]}),u&&t.jsxs("span",{className:"inline-flex items-center justify-between md:justify-start gap-2 py-2 md:py-1 px-3 text-[14px] rounded-lg cursor-pointer hover:opacity-80 transition-opacity whitespace-nowrap font-semibold w-full md:w-auto",style:{backgroundColor:e.codeChipBgColor||"#1A1A1C",color:e.codeChipTextColor||"#FEFDF9"},onClick:()=>a(u),children:[r===u?"Copied!":u,t.jsx(Di,{size:14})]})]})},lge=({color:e="white",size:n=16,className:s="",opacity:r=.6})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 16 16",fill:"none",className:s,children:t.jsx("path",{opacity:r,d:"M7.99994 4.58594L3.2926 9.2926L4.70727 10.7073L7.99994 7.41394L11.2926 10.7073L12.7073 9.2926L7.99994 4.58594Z",fill:e})}),cge=({color:e="white",size:n=16,className:s="",opacity:r=.6})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 16 16",fill:"none",className:s,children:t.jsx("path",{opacity:r,d:"M7.99994 10.7075L3.2926 6.00085L4.70727 4.58619L7.99994 7.87952L11.2926 4.58619L12.7073 6.00085L7.99994 10.7075Z",fill:e})});function q2({value:e,onChange:n,onSelect:s,isSelected:r,currency:i,error:a,onIncrement:o,onDecrement:l,isMobile:c=!1,calculatedCredits:u,variant:p="default",onBuy:f,isBuyLoading:m,isBuyDisabled:h,isValidAmount:x,discountPercentage:g,placeholder:v}){const{t:b}=en("billing"),y=d.useRef(null),w=LH(i),_=p==="v2",N=_&&!c&&f,j=()=>{s(),y.current?.focus()},C=E=>{E.stopPropagation(),s(),o()},S=E=>{E.stopPropagation(),s(),l()},F=t.jsx("div",{onClick:j,className:k("border transition-all cursor-text",_&&"bg-[#161617] rounded-[8px] pl-3 pr-2 py-2 h-[44px]",_&&(r?"border-[rgba(255,255,255,0.2)]":"border-[rgba(255,255,255,0.12)]"),_&&c&&"bg-[#1f1f21] rounded-xl p-4 h-auto",_&&c&&r&&"bg-[#252528] border-white",N&&"flex-1",!_&&"rounded-lg md:rounded-lg",!_&&(r?"border-[#FFFFFF33]":"border-[#FFFFFF1F]"),!_&&(c?"rounded-xl p-4":"px-3 pr-2 py-2")),children:t.jsxs("div",{className:"flex items-center justify-between gap-4 h-full",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx("span",{className:k("font-medium shrink-0",_||r?"text-white/50":"text-white/40"),children:w}),t.jsx("input",{ref:y,type:"text",value:e,onChange:n,onFocus:s,placeholder:v??b("credits.buyCreditsModal.customAmountPlaceholder"),className:k("bg-transparent outline-none font-inter-tight font-medium caret-white flex-1 min-w-0 text-[16px] placeholder:font-inter placeholder:text-white/20",_&&"tracking-[-0.32px]",!_&&e&&!r?"text-white/30":"text-white"),style:{fontFeatureSettings:"'lnum' 1, 'tnum' 1"},inputMode:"numeric",pattern:"[0-9]*"})]}),t.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[e&&u>0&&!N&&t.jsxs("span",{className:k("font-inter font-semibold whitespace-nowrap",_&&!c&&"text-[16px] text-[#E6E6E6]",_&&c&&"text-[14px] text-white/50",!_&&"text-[16px] text-[#E6E6E6] opacity-50"),children:[u.toLocaleString()," ",b("credits.buyCreditsModal.creditsLabel")]}),!c&&t.jsxs("div",{className:"flex flex-col",children:[t.jsx("button",{type:"button",onClick:C,className:"px-0.5 bg-[#1C1C1F] border border-[#292929] rounded-t hover:bg-[#252528] transition-colors",children:t.jsx(lge,{})}),t.jsx("button",{type:"button",onClick:S,className:"px-0.5 bg-[#1C1C1F] border border-[#292929] border-t-0 rounded-b hover:bg-[#252528] transition-colors",children:t.jsx(cge,{})})]})]})]})});return t.jsxs("div",{className:"space-y-2",children:[!c&&t.jsx("p",{className:"text-[14px] text-white/60 font-inter font-medium leading-5",children:b("credits.buyCreditsModal.customAmountLabel")}),N?t.jsxs("div",{className:"flex gap-2 items-start",children:[F,t.jsx("button",{type:"button",onClick:f,disabled:h||!x,className:k("h-[44px] px-6 py-2 rounded-[10px] shrink-0 transition-colors","bg-[#F3CA5F] hover:bg-[#E7A93C] text-[#0F0F10]","font-brockmann font-semibold text-[16px] leading-6 tracking-[-0.2px]","shadow-[0px_0px_20px_0px_rgba(243,202,95,0.1)]","relative overflow-hidden",(h||!x)&&"opacity-50 cursor-not-allowed"),children:m?t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"w-5 h-5 border-2 border-[#0F0F10]/30 border-t-[#0F0F10] rounded-full animate-spin"})}):t.jsxs(t.Fragment,{children:[b("credits.buyCreditsModal.buyCredits",{count:u||0}),t.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-[inherit] shadow-[inset_0px_-2px_1px_0px_rgba(0,0,0,0.2),inset_0px_2px_2px_0px_rgba(255,255,255,0.2)]"})]})})]}):F,t.jsx(Qw,{error:a}),!a&&g&&g>0&&e&&t.jsx(Qw,{error:b("credits.buyCreditsModal.priceAfterDiscount",{price:pr(Kxe(parseInt(e,10),g),i)}),variant:"info"})]})}const dge=K.payments.externalFilled;function uge({onCancel:e,onConfirm:n,onLearnMore:s,creditsAmount:r,isLoading:i,disabled:a,ctaText:o}){const{t:l}=en("billing");return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"hidden md:flex items-center justify-between border-t border-[#242424] pt-6 mt-10 -mx-6 px-6",children:[t.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-1 text-white opacity-40 hover:opacity-100 transition-opacity",children:[t.jsx("span",{className:"font-inter font-medium text-[16px]",children:l("credits.buyCreditsModal.howDoCreditsWork")}),t.jsx("img",{src:dge,alt:"External",className:"w-5 h-5"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{type:"button",onClick:e,className:"px-5 h-12 bg-[#272729] text-[#DCDCE5] rounded-xl font-medium text-[16px] hover:bg-[#323235] transition-colors",children:l("credits.buyCreditsModal.cancel")}),t.jsx("button",{type:"button",onClick:()=>n({mode:"selection"}),disabled:a||i,className:k("px-5 h-12 rounded-xl font-semibold text-[16px] tracking-[-0.2px] transition-colors",a||i?"bg-[#FFD566]/50 text-[#0f0f10]/50 cursor-not-allowed":"bg-[#FFD566] hover:bg-[#E7A93C] text-[#0f0f10]"),children:i?t.jsx(tn,{className:"w-5 h-5 animate-spin"}):o??l("credits.buyCreditsModal.buyCredits",{count:r})})]})]}),t.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 p-5 pb-8 bg-[#18181A] border-t border-[#FFFFFF1F] z-10",children:t.jsx("button",{type:"button",onClick:()=>n({mode:"selection"}),disabled:a||i,className:k("w-full h-12 rounded-xl font-semibold text-[16px] tracking-[-0.32px] transition-colors",a||i?"bg-[#FFD566]/50 text-[#111112]/50 cursor-not-allowed":"bg-[#FFD566] hover:bg-[#E7A93C] text-[#111112]"),children:i?t.jsx(tn,{className:"w-5 h-5 animate-spin mx-auto"}):o??l("credits.buyCreditsModal.buyCredits",{count:r})})})]})}function pge({bundle:e,onPurchase:n,isLoading:s,isCheckingCard:r,isDisabled:i}){const{t:a}=en("billing"),o=e.discount>0,l=e.amount-e.discount;return t.jsxs("div",{className:k("bg-[#212124] min-w-[190px] items-center group md:min-h-[208px] pt-4 md:pt-8 pb-4 px-4 transition-all ease-in-out duration-100 border rounded-xl relative",o?"border-none":"border-[#FFFFFF1F] hover:border-[#FFFFFF4D]"),children:[o&&t.jsx(Eh,{duration:5,size:100,className:"opacity-50",colorFrom:"#F3CA5F",colorTo:"#F3CA5F"}),t.jsxs("div",{className:"flex items-center justify-between gap-3 md:gap-0 md:flex-col",children:[t.jsxs("div",{className:"flex items-center gap-2 md:mb-2 md:flex-col",children:[t.jsx("div",{children:t.jsx("img",{src:K.common.whiteCopperCoin,alt:"Credits",className:k("w-8 h-8",!o&&"grayscale group-hover:grayscale-0")})}),t.jsx("div",{className:"md:mb-1 text-sm md:text-[24px] font-semibold",children:o?t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("span",{className:"text-[#E6E6E6]/40 line-through text-xs md:text-sm",children:[l," ",a("credits.buyCreditsModal.creditsLabel")]}),t.jsxs("span",{className:"tracking-[-0.5px] text-[#F3CA5F] text-nowrap text-sm md:text-[24px]",children:[e.amount," ",a("credits.buyCreditsModal.creditsLabel")]})]}):t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("span",{className:"text-xs text-transparent max-md:hidden md:text-sm",children:""}),t.jsxs("span",{className:"text-[#E6E6E6] leading-[-0.5px] text-sm md:text-[24px]",children:[e.amount," ",a("credits.buyCreditsModal.creditsLabel")]})]})})]}),t.jsx("div",{className:"md:mb-6 text-sm md:text-[20px] text-[#E6E6E6]/80 group-hover:text-[#29CC83] transition-colors duration-200 ease-in-out",children:pr(e.price,e.currency)}),t.jsx("button",{type:"button",onClick:n,disabled:i,className:k("min-w-[100px] w-auto px-4 h-[40px] md:w-full whitespace-nowrap duration-200 ease-in-out text-black font-semibold rounded-full tracking-[-0.2px] transition-colors text-center text-xs sm:text-sm",o?"bg-[#F3CA5F] hover:bg-[#E7A93C] shadow-md":"bg-[#cacacc] group-hover:bg-[#FFD566]"),children:s||r?t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"})}):a("credits.buyCreditsModal.buyNow")})]})]})}function fge({value:e,onChange:n,onPurchase:s,currency:r,error:i,isLoading:a,calculatedCredits:o,isValidAmount:l,placeholder:c}){const{t:u}=en("billing"),p=LH(r);return t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"bg-[#212124] border border-[#FFFFFF1F] rounded-xl p-[14px] py-[10px] pr-[10px] px-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative flex items-center flex-1 gap-1",children:[e&&parseInt(e)>=0&&t.jsx("span",{className:"text-[#E6E6E6] font-semibold text-lg",children:p}),t.jsx("input",{type:"text",value:e,onChange:n,placeholder:c??u("credits.buyCreditsModal.enterCustomAmount",{symbol:p}),className:"w-full text-lg pl-0 text-[#E6E6E6] font-['Inter'] text-[18px] font-semibold bg-transparent border-none outline-none placeholder:text-[#E6E6E6]/20 placeholder:p-0 placeholder:font-medium",inputMode:"numeric",pattern:"[0-9]*"})]}),t.jsx("button",{type:"button",onClick:s,disabled:!l||a,className:k("px-5 py-[6px] rounded-[8px] font-semibold transition-all duration-200 ease-out",l?"bg-[#F3CA5F] hover:bg-[#E7A93C] text-black":"bg-[#FFFFFF20] text-[#18181A] cursor-not-allowed"),children:a?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(tn,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx("span",{children:u("credits.buyCreditsModal.processing")})]}):l?u("credits.buyCreditsModal.buyCredits",{count:o}):u("credits.buyCreditsModal.buy")})]})}),t.jsx(Qw,{error:i})]})}function e8({percentage:e,position:n="top-center"}){return t.jsxs("div",{className:k("px-3 py-1 h-[24px] flex items-center justify-center bg-[#29CC83] text-[#00331C] text-[12px] font-inter font-bold leading-6","shadow-[0px_4px_8px_0px_rgba(0,0,0,0.25)]",n==="top-center"&&"rounded-b-lg",n==="top-right"&&"rounded-bl-lg rounded-tr-xl"),style:{fontFeatureSettings:"'lnum' 1, 'tnum' 1"},children:[e,"% OFF"]})}function mge({bundle:e,variant:n,discountPercentage:s,originalPrice:r,onPurchase:i,isLoading:a,isDisabled:o}){const{t:l}=en("billing"),{hasBonusCredits:c,baseCredits:u,totalCredits:p,isPremium:f,isDiscounted:m,hasCohortDiscount:h,originalPrice:x}=YH({bundle:e,variant:n,discountPercentage:s,cohortOriginalPrice:r,cohortBaseCredits:e.cohortBaseCredits,cohortTotalCredits:e.cohortTotalCredits});return t.jsxs("div",{className:k("relative flex flex-col h-full p-1 rounded-[16px] transition-all border","border-[rgba(255,255,255,0.12)] hover:border-[rgba(255,255,255,0.24)]"),children:[m&&s&&t.jsx("div",{className:"absolute top-[-1px] left-1/2 -translate-x-1/2 z-10",children:t.jsx(e8,{percentage:s,position:"top-center"})}),t.jsxs("div",{className:k("relative flex-1 flex flex-col items-center justify-between min-h-[172px] rounded-[12px] overflow-hidden border",f?"bg-[rgba(243,202,95,0.08)] border-[rgba(243,202,95,0.5)] backdrop-blur-[10px] pt-3 pb-5 px-5":k("bg-[rgba(37,37,40,0.5)] border-[rgba(255,255,255,0.12)] pb-5 px-5",m?"pt-8":"pt-5")),children:[t.jsxs("div",{className:"flex flex-col items-center",children:[f&&c?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"font-inter-tight text-[14px] font-semibold text-[#FFFFFF80] opacity-60 line-through leading-5",style:{fontFeatureSettings:"'lnum' 1, 'tnum' 1",textDecorationSkipInk:"none"},children:[u.toLocaleString()," ",l("credits.buyCreditsModal.creditsLabel")]}),t.jsxs("span",{className:"font-inter-tight text-[20px] font-semibold text-[#F3CA5F] leading-7 text-center",children:[p.toLocaleString()," ",l("credits.buyCreditsModal.creditsLabel")]})]}):t.jsxs("span",{className:"font-inter-tight text-[20px] font-semibold text-[#E6E6E6] leading-7 text-center",children:[e.amount.toLocaleString()," ",l("credits.buyCreditsModal.creditsLabel")]}),t.jsx("div",{className:"flex items-center gap-2 text-[16px] font-medium leading-6",style:{fontFeatureSettings:"'lnum' 1, 'tnum' 1"},children:m&&x?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"font-jetbrains text-white/50 line-through",style:{textDecorationSkipInk:"none"},children:pr(x,e.currency)}),t.jsx("span",{className:"font-jetbrains text-[#24B273]",children:pr(h?Math.ceil(e.price):e.price,e.currency)})]}):t.jsx("span",{className:"font-jetbrains text-[#24B273]",children:pr(e.price,e.currency)})})]}),t.jsx("button",{type:"button",onClick:i,disabled:o,className:k("w-full h-[40px] px-3 py-2 rounded-[10px] min-w-[166px] font-semibold text-[16px] tracking-[-0.2px] leading-6 transition-all duration-200 text-[#111112]",f?"bg-[#F3CA5F] hover:bg-[#E7B94E] shadow-[0px_0px_20px_0px_rgba(243,202,95,0.1),inset_0px_-2px_1px_0px_rgba(0,0,0,0.2),inset_0px_2px_2px_0px_rgba(255,255,255,0.2)] hover:shadow-[0px_0px_24px_2px_rgba(243,202,95,0.25),inset_0px_-2px_1px_0px_rgba(0,0,0,0.2),inset_0px_2px_2px_0px_rgba(255,255,255,0.2)]":"bg-white hover:bg-white/90 shadow-[0px_0px_20px_0px_rgba(255,255,255,0.1),inset_0px_-2px_1px_0px_rgba(0,0,0,0.2),inset_0px_2px_2px_0px_rgba(255,255,255,0.2)] hover:shadow-[0px_0px_24px_2px_rgba(255,255,255,0.2),inset_0px_-2px_1px_0px_rgba(0,0,0,0.2),inset_0px_2px_2px_0px_rgba(255,255,255,0.2)]",o&&"opacity-50 cursor-not-allowed"),children:a?t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"})}):l("credits.buyCreditsModal.buyNow")})]})]})}function kk({bundle:e,variant:n,discountPercentage:s,originalPrice:r,isSelected:i,onSelect:a,isCompact:o=!1}){const{t:l}=en("billing"),{hasBonusCredits:c,baseCredits:u,totalCredits:p,isPremium:f,isDiscounted:m,hasCohortDiscount:h,originalPrice:x}=YH({bundle:e,variant:n,discountPercentage:s,cohortOriginalPrice:r,cohortBaseCredits:e.cohortBaseCredits,cohortTotalCredits:e.cohortTotalCredits});return o?t.jsxs("button",{type:"button",onClick:a,className:k("relative p-1 rounded-2xl transition-all text-left w-full","border",i?"border-white":"border-[rgba(255,255,255,0.12)]"),children:[m&&s&&t.jsx("div",{className:"absolute top-1 right-1 z-10",children:t.jsx(e8,{percentage:s,position:"top-right"})}),t.jsxs("div",{className:k("w-full h-full rounded-xl p-4 border border-[rgba(255,255,255,0.12)]",i?"bg-[#252528]":"bg-[#1f1f21]",m&&"pt-6"),children:[t.jsxs("div",{className:"font-inter-tight text-[16px] font-semibold text-[#E6E6E6] leading-6",children:[e.amount.toLocaleString()," ",l("credits.buyCreditsModal.creditsLabel")]}),t.jsx("div",{className:"flex items-center gap-[6px] font-jetbrains text-[15px] font-medium leading-6",style:{fontFeatureSettings:"'lnum' 1, 'tnum' 1"},children:m&&x?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-white/50 line-through",style:{textDecorationSkipInk:"none"},children:pr(x,e.currency)}),t.jsx("span",{className:"text-[#24B273]",children:pr(h?Math.ceil(e.price):e.price,e.currency)})]}):t.jsx("span",{className:k(i?"text-[#24B273]":"text-white/50"),children:pr(e.price,e.currency)})}),i&&t.jsx("div",{className:"absolute bottom-[11px] right-[11px]",children:t.jsx(G2,{size:20,color:"#FFFFFF"})})]})]}):t.jsxs("button",{type:"button",onClick:a,className:k("relative p-1 rounded-2xl transition-all text-left w-full","border",i?"border-white":"border-[rgba(255,255,255,0.12)]"),children:[m&&s&&t.jsx("div",{className:"absolute top-1 right-1 z-10",children:t.jsx(e8,{percentage:s,position:"top-right"})}),t.jsxs("div",{className:k("relative w-full flex items-center justify-between rounded-xl p-4 border overflow-hidden",i?"bg-[#252528]":"bg-[#1f1f21]",f?"bg-[rgba(243,202,95,0.08)] border-[rgba(243,202,95,0.5)]":"border-[rgba(255,255,255,0.12)]"),children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"flex items-start gap-[4px]",children:f&&c?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"font-inter-tight text-[15px] font-semibold text-[#FFFFFF20] line-through leading-6",style:{fontFeatureSettings:"'lnum' 1, 'tnum' 1"},children:u.toLocaleString()}),t.jsxs("span",{className:"font-inter-tight text-[18px] font-semibold text-[#F3CA5F] leading-6",children:[p.toLocaleString()," ",l("credits.buyCreditsModal.creditsLabel")]})]}):t.jsxs("span",{className:"font-inter-tight text-[18px] font-semibold text-[#E6E6E6] leading-6",children:[e.amount.toLocaleString()," ",l("credits.buyCreditsModal.creditsLabel")]})}),t.jsx("div",{className:"flex items-center gap-[6px] font-jetbrains text-[15px] font-medium leading-6",style:{fontFeatureSettings:"'lnum' 1, 'tnum' 1"},children:m&&x?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"font-jetbrains text-white/50 line-through",style:{textDecorationSkipInk:"none"},children:pr(x,e.currency)}),t.jsx("span",{className:"font-jetbrains text-[#24B273]",children:pr(h?Math.ceil(e.price):e.price,e.currency)})]}):t.jsx("span",{className:k("font-jetbrains",f||i?"text-[#24B273]":"text-white/50"),children:pr(e.price,e.currency)})})]}),i&&t.jsx("div",{className:"absolute bottom-[11px] right-[11px]",children:t.jsx(G2,{size:20,color:"#FFFFFF"})})]})]})}const hge="/assets/MobileBGBanner-DI_pOp4g.png",xge="/assets/DesktopBGBanner-FvF5zFQ-.png",g6=bg,gge=2e3;function cC(){const[e,n]=d.useState(!1);if(!hO())return null;const s=()=>{navigator.clipboard.writeText(g6).catch(()=>{});try{localStorage.setItem("promoCouponCode",g6)}catch{}n(!0),setTimeout(()=>n(!1),gge)};return t.jsx("div",{className:"px-6 pt-5",children:t.jsxs("div",{className:"relative flex flex-col gap-3 md:flex-row md:items-center md:justify-between overflow-hidden rounded-xl p-4 md:pl-5 md:pr-2 md:py-2",children:[t.jsx("img",{src:hge,alt:"",className:"absolute inset-0 w-full h-full object-cover md:hidden"}),t.jsx("img",{src:xge,alt:"",className:"absolute inset-0 w-full h-full object-cover hidden md:block"}),t.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(JH,{size:24}),t.jsx("span",{className:"font-semibold text-[16px] leading-6 tracking-[-0.5px] text-[#C54800]",children:"20% Off"})]}),t.jsx("span",{className:"font-semibold text-[16px] leading-6 tracking-[-0.5px] text-[#0F0F10]",children:"on top-ups over $100"})]}),t.jsxs("button",{type:"button",onClick:s,className:"relative z-10 flex items-center justify-between w-full md:w-auto md:justify-start md:gap-6 bg-[#0F0F10] rounded-[10px] px-3 py-2 h-8 hover:opacity-90 transition-opacity cursor-pointer",children:[t.jsx("span",{className:"font-semibold text-[14px] leading-4 tracking-[-0.25px] text-white uppercase",children:g6}),t.jsxs("div",{className:"flex items-center gap-1 opacity-60",children:[e?t.jsx(xn,{size:16,className:"text-white"}):t.jsx(Di,{size:16,className:"text-white"}),t.jsx("span",{className:"font-semibold text-[14px] leading-4 tracking-[-0.25px] text-white w-[50px] text-center",children:e?"Copied!":"Copy"})]})]})]})})}const bge=K.common.joinedBuy;function yge({bundles:e,isLoading:n,customAmountEnabled:s,isProcessing:r,location:i,closeModal:a,creditsBannerData:o,customAmount:l,customAmountError:c,selectedOption:u,customAmountCurrency:p,selectedBundle:f,handleCustomAmountChange:m,handleIncrement:h,handleDecrement:x,handleBundleSelect:g,handleCustomAmountSelect:v,handlePurchase:b,handleLearnMoreClick:y,calculateCredits:w,topupPricing:_}){const{t:N}=en("billing"),j=d.useMemo(()=>e.length<=6?3:4,[e.length]);return t.jsxs("div",{className:"w-full max-w-[870px] mx-auto",children:[t.jsx("button",{type:"button",onClick:a,disabled:n||r,className:k("absolute right-4 md:right-6 p-[6.4px] bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#242424] rounded-full transition-colors z-10",o?"top-[120px] md:top-6":"top-4 md:top-6",(n||r)&&"opacity-50 cursor-not-allowed"),"aria-label":N("credits.buyCreditsModal.closeModal"),children:t.jsx(Ft,{className:"w-[19.2px] h-[19.2px] text-[#737780]"})}),t.jsxs("div",{className:"flex flex-col gap-4 md:gap-5 p-6 pb-0 md:p-6 md:pb-0",children:[o&&t.jsx("div",{className:"hidden md:block",children:t.jsx(f3,{config:o.config,showPromoCode:o.showPromoCode})}),_?.banner_text&&t.jsx(p3,{text:_.banner_text,style:_.banner_style}),t.jsx("img",{src:bge,alt:"Credits",className:"w-fit h-8 md:h-8"}),_?.promotional_text&&t.jsx("p",{className:"text-center text-sm md:text-base font-medium text-white/80 px-4",children:_.promotional_text}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h2",{className:"text-[24px] md:text-[22px] font-medium tracking-[-0.48px] md:tracking-[-0.44px] leading-8 md:leading-[30px] md:text-[#E6E6E6] bg-gradient-to-r from-[#F7E7D9] to-[#FFD566] bg-clip-text text-transparent md:bg-none md:[background:none] md:[color:#E6E6E6] md:[-webkit-text-fill-color:unset]",children:_?.section_title??N(i==="low-credit"?"credits.buyCreditsModal.runningLowOnCredits":"credits.buyCreditsModal.purchaseCredits")}),t.jsx("p",{className:"font-inter text-[14px] text-white/50 font-medium leading-5",children:_?.section_subtitle??N("credits.buyCreditsModal.subtitle")})]})]}),t.jsx(cC,{}),t.jsxs("div",{className:"p-6 pt-5 md:pt-6 md:pb-6 pb-[200px]",children:[t.jsxs("div",{className:"hidden md:flex flex-col gap-3",children:[Array.from({length:Math.ceil(e.length/j)},(C,S)=>t.jsx("div",{className:k("grid gap-3",j===3?"grid-cols-3":"grid-cols-4"),children:e.slice(S*j,S*j+j).map((F,E)=>{const I=S*j+E;return t.jsx(h6,{bundle:F,isSelected:u?.type==="bundle"&&u.bundleIndex===I,onSelect:()=>g(I)},F.amount)})},S)),s!==!1&&t.jsx("div",{className:"mt-3",children:t.jsx(q2,{value:l,onChange:m,onSelect:v,isSelected:u?.type==="custom",currency:p,error:c,onIncrement:h,onDecrement:x,calculatedCredits:w(l),placeholder:_?.custom_amount_placeholder??void 0})})]}),t.jsxs("div",{className:"md:hidden space-y-3",children:[t.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.slice(0,4).map((C,S)=>t.jsx(h6,{bundle:C,isSelected:u?.type==="bundle"&&u.bundleIndex===S,onSelect:()=>g(S)},C.amount))}),e.slice(4).map((C,S)=>t.jsx(h6,{bundle:C,isSelected:u?.type==="bundle"&&u.bundleIndex===S+4,onSelect:()=>g(S+4)},C.amount)),s!==!1&&t.jsx(q2,{value:l,onChange:m,onSelect:v,isSelected:u?.type==="custom",currency:p,error:c,onIncrement:h,onDecrement:x,isMobile:!0,calculatedCredits:w(l),placeholder:_?.custom_amount_placeholder??void 0}),t.jsxs("button",{type:"button",onClick:y,className:"w-full py-4 bg-[#1F1F1F] rounded-2xl flex items-center justify-center gap-[6px]",children:[t.jsx("span",{className:"text-white/60 font-semibold text-[16px] leading-5",children:N("credits.buyCreditsModal.howDoCreditsWork")}),t.jsx(Uo,{className:"w-5 h-5 text-white/60"})]})]}),_?.footer_text&&t.jsx("p",{className:"text-xs text-white/30 text-center mt-4",children:_.footer_text}),t.jsx(uge,{onCancel:a,onConfirm:b,onLearnMore:y,creditsAmount:f?.amount||0,isLoading:n||r,disabled:!f,ctaText:_?.cta_text})]})]})}function vge({bundles:e,isLoading:n,customAmountEnabled:s,processingBundleAmount:r,location:i,creditsBannerData:a,customAmount:o,customAmountError:l,customAmountCurrency:c,isCustomAmountValid:u,isCheckingSavedCard:p,checkingSavedCardBundleAmount:f,isAnyLoading:m,handleModalClose:h,handleCustomAmountChange:x,handlePurchase:g,handleLearnMoreClick:v,calculateCredits:b,tier:y,getUpgradeTierName:w,topupPricing:_}){const{t:N}=en("billing"),{currentWorkspace:j}=hs(),C=()=>{const S=parseInt(o,10);if(!u)return;H(Ra.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_PURCHASE_CLICKED,{amount:S,currency:c,calculated_credits:b(o),workspace:j});const F=ZH({amount:S,currency:c,calculateCredits:b});g({mode:"inline",bundle:F,isCustom:!0})};return t.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-start justify-start w-full p-4 pb-2 md:p-8 md:pb-2",children:[t.jsxs("div",{className:"flex flex-col items-start justify-center gap-1",children:[t.jsx("img",{src:K.common.joinedBuy,alt:"Add Credits",className:"w-[60px] h-[60px] mb-2"}),t.jsx("h2",{className:"text-[20px] md:text-[26px] font-medium text-[#E6E6E6]",children:_?.section_title??(i==="low-credit"?N("credits.buyCreditsModal.runningLowOnCredits"):y==="free"?N("credits.buyCreditsModal.upgradeTo",{tier:w()}):N("credits.buyCreditsModal.buyMoreCredits"))}),_?.section_subtitle&&t.jsx("p",{className:"font-inter text-[14px] text-white/50 font-medium leading-5",children:_.section_subtitle})]}),t.jsx("button",{type:"button",onClick:()=>h(!1),disabled:m,className:k("p-2 bg-[#FFFFFF05] absolute right-6 backdrop-blur-lg hover:bg-[#242424] rounded-full transition-colors",a?"top-[120px] md:top-6":"top-6",m&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5 text-[#737780]"})})]}),t.jsx("div",{className:"flex items-center justify-center p-4 md:p-8 md:pt-0",children:t.jsxs("div",{className:"w-full space-y-4 md:max-h-[calc(90dvh-200px)] md:overflow-y-auto",children:[_?.banner_text&&t.jsx(p3,{text:_.banner_text,style:_.banner_style}),_?.promotional_text&&t.jsx("p",{className:"text-center text-sm md:text-base font-medium text-white/80 px-4",children:_.promotional_text}),a&&t.jsx("div",{className:"hidden md:block",children:t.jsx(f3,{config:a.config,showPromoCode:a.showPromoCode})}),t.jsx(cC,{}),t.jsx("div",{className:"max-md:hidden",children:t.jsxs("p",{className:"text-sm text-white/50 md:text-[16px]",children:[t.jsx("span",{className:"font-medium",children:N("credits.buyCreditsModal.get")}),t.jsxs("span",{className:"text-[#F3CA5F] font-medium",children:[vx[e[0]?.currency]??vx.USD," ",N("credits.buyCreditsModal.credits")]}),t.jsx("span",{className:"font-medium",children:N("credits.buyCreditsModal.forJust")}),t.jsx("span",{className:"text-[#29CC83]",children:pr(M0e(vx[e[0]?.currency]??vx.USD,e[0]?.currency||"USD"),e[0]?.currency||"USD")}),t.jsx("span",{className:"font-medium",children:N("credits.buyCreditsModal.getBestValueBundle")}),t.jsx("span",{className:"text-[#F3CA5F] font-medium",children:N("credits.buyCreditsModal.percentOff")}),t.jsx("span",{className:"font-medium",children:N("credits.buyCreditsModal.orEnterCustomAmount")})]})}),t.jsx("div",{className:"grid gap-4 md:grid-cols-5",children:e.map(S=>t.jsx(pge,{bundle:S,onPurchase:()=>g({mode:"inline",bundle:S,isCustom:!1}),isLoading:n&&r===S.amount,isCheckingCard:p&&f===S.amount,isDisabled:m},S.amount))}),s!==!1&&t.jsx(fge,{value:o,onChange:x,onPurchase:C,currency:c,error:l,isLoading:p,calculatedCredits:b(o),isValidAmount:u,placeholder:_?.custom_amount_placeholder??void 0}),_?.footer_text&&t.jsx("p",{className:"text-xs text-white/30 text-center mt-2",children:_.footer_text}),t.jsx("div",{className:"pt-4",children:t.jsxs("button",{type:"button",className:"flex items-center text-sm text-white opacity-50 hover:text-white",onClick:v,children:[t.jsx("span",{className:"font-['Inter'] text-[16px] font-medium",children:N("credits.buyCreditsModal.howDoCreditsWork")}),t.jsx("img",{src:K.payments.externalFilled,alt:"External",className:"w-5 h-5 ml-1"})]})})]})})]})}function wge({bundles:e,isLoading:n,customAmountEnabled:s,processingBundleAmount:r,location:i,creditsBannerData:a,customAmount:o,customAmountError:l,customAmountCurrency:c,isCustomAmountValid:u,selectedOption:p,selectedBundle:f,topupDiscountInfo:m,isCheckingSavedCard:h,checkingSavedCardBundleAmount:x,isAnyLoading:g,closeModal:v,handleCustomAmountChange:b,handleIncrement:y,handleDecrement:w,handlePurchase:_,handleLearnMoreClick:N,handleBundleSelect:j,handleCustomAmountSelect:C,calculateCredits:S,topupPricing:F}){const{t:E}=en("billing"),{currentWorkspace:I}=hs(),T=Xxe(e,m),A=P=>{const B=S(P);if(m?.is_eligible&&B>=Rc){const G=Math.floor(B*(m.discount_percentage/100));return B+G}return B},D=P=>{_({mode:"inline",bundle:P,isCustom:!1})},O=()=>{const P=parseInt(o,10);if(!u)return;H(Ra.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_PURCHASE_CLICKED,{amount:P,currency:c,calculated_credits:A(o),workspace:I});const B=ZH({amount:P,currency:c,calculateCredits:S});if(m?.is_eligible&&B.amount>=Rc){const G=Math.floor(B.amount*(m.discount_percentage/100));B.cohortBaseCredits=B.amount,B.cohortTotalCredits=B.amount+G}_({mode:"inline",bundle:B,isCustom:!0})},M=()=>{if(p?.type==="custom")O();else if(p?.type==="bundle"&&p.bundleIndex!==void 0){const P=T[p.bundleIndex];P&&_({mode:"inline",bundle:P,isCustom:!1})}},L=ege({isAnyLoading:g,selectedOption:p,discountedBundles:T,customAmount:o,calculateCreditsWithBonus:A,t:E,ctaText:F?.cta_text});return t.jsxs("div",{className:"w-full max-w-[960px] mx-auto",children:[t.jsx("button",{type:"button",onClick:v,disabled:g,className:k("absolute right-4 md:right-6 p-2 bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#242424] rounded-full transition-colors z-10",a?"top-[120px] md:top-6":"top-4 md:top-6",g&&"opacity-50 cursor-not-allowed"),"aria-label":E("credits.buyCreditsModal.closeModal"),children:t.jsx(Ft,{className:"w-5 h-5 text-[#737780]"})}),t.jsxs("div",{className:"flex flex-col gap-5 p-6 pb-0",children:[a&&t.jsx("div",{className:"hidden md:block",children:t.jsx(f3,{config:a.config,showPromoCode:a.showPromoCode})}),F?.banner_text&&t.jsx(p3,{text:F.banner_text,style:F.banner_style}),t.jsx("img",{src:K.common.joinedBuy,alt:"Credits",className:"w-fit h-8"}),F?.promotional_text&&t.jsx("p",{className:"text-center text-sm md:text-base font-medium text-white/80 px-4",children:F.promotional_text}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h2",{className:"text-[22px] font-medium tracking-[-0.44px] leading-[30px] text-[#E6E6E6]",children:F?.section_title??E(i==="low-credit"?"credits.buyCreditsModal.runningLowOnCredits":"credits.buyCreditsModal.purchaseCredits")}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"font-inter text-[14px] text-white/50 font-medium leading-5",children:F?.section_subtitle??E("credits.buyCreditsModal.subtitle")}),t.jsx("button",{type:"button",onClick:N,className:"hidden md:inline-flex items-center font-inter text-[14px] text-white hover:text-white/70 underline underline-offset-2 leading-5 font-medium",children:E("credits.buyCreditsModal.howDoCreditsWork")})]})]})]}),t.jsx(cC,{}),t.jsxs("div",{className:"hidden md:block p-6",children:[t.jsx("div",{className:k("grid gap-x-5 gap-y-6",T.length===6?"grid-cols-3":"grid-cols-4"),children:T.map((P,B)=>{const G=p6(P),$=f6(P,m),te=n&&r===P.amount||h&&x===P.amount;return t.jsx(mge,{bundle:P,variant:G,discountPercentage:$,originalPrice:P.originalPrice,onPurchase:()=>D(P),isLoading:te,isDisabled:g},`bundle-${P.amount}-${B}`)})}),s!==!1&&t.jsx("div",{className:"mt-6",children:t.jsx(q2,{variant:"v2",value:o,onChange:b,onSelect:C,isSelected:p?.type==="custom",currency:c,error:l,onIncrement:y,onDecrement:w,calculatedCredits:A(o),onBuy:O,isBuyLoading:n&&r===null&&p?.type==="custom",isBuyDisabled:g,isValidAmount:u,discountPercentage:m?.is_eligible&&S(o)<Rc?m.discount_percentage:void 0,placeholder:F?.custom_amount_placeholder??void 0})}),F?.footer_text&&t.jsx("p",{className:"text-xs text-white/30 text-center mt-4",children:F.footer_text})]}),t.jsxs("div",{className:"md:hidden p-6 pt-5 pb-[180px]",children:[T.length===8&&t.jsx("div",{className:"grid grid-cols-2 gap-3 mb-3",children:T.slice(0,2).map((P,B)=>{const G=p6(P),$=f6(P,m);return t.jsx(kk,{bundle:P,variant:G,discountPercentage:$,originalPrice:P.originalPrice,isSelected:p?.type==="bundle"&&p.bundleIndex===B,onSelect:()=>j(B),isCompact:!0,isLoading:!1,isDisabled:!1},`mobile-compact-${P.amount}-${B}`)})}),t.jsx("div",{className:"space-y-3",children:(T.length===8?T.slice(2):T).map((P,B)=>{const G=T.length===8?B+2:B,$=p6(P),te=f6(P,m);return t.jsx(kk,{bundle:P,variant:$,discountPercentage:te,originalPrice:P.originalPrice,isSelected:p?.type==="bundle"&&p.bundleIndex===G,onSelect:()=>j(G),isLoading:!1,isDisabled:!1},`mobile-full-${P.amount}-${G}`)})}),s!==!1&&t.jsx("div",{className:"mt-3",children:t.jsx(q2,{variant:"v2",value:o,onChange:b,onSelect:C,isSelected:p?.type==="custom",currency:c,error:l,onIncrement:y,onDecrement:w,isMobile:!0,calculatedCredits:A(o),discountPercentage:m?.is_eligible&&S(o)<Rc?m.discount_percentage:void 0,placeholder:F?.custom_amount_placeholder??void 0})}),F?.footer_text&&t.jsx("p",{className:"text-xs text-white/30 text-center mt-4",children:F.footer_text}),t.jsxs("button",{type:"button",onClick:N,className:"w-full mt-6 py-4 bg-[#1F1F1F] rounded-2xl flex items-center justify-center gap-2",children:[t.jsx("span",{className:"text-white/60 font-semibold text-[16px]",children:E("credits.buyCreditsModal.howDoCreditsWork")}),t.jsx("img",{src:K.payments.externalFilled,alt:"External",className:"w-5 h-5 opacity-60"})]}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-5 pb-8 bg-[#18181A] border-t border-[rgba(255,255,255,0.08)]",children:t.jsx("button",{type:"button",onClick:M,disabled:g||(p?.type==="custom"?!u:!f),className:k("w-full h-[48px] rounded-xl font-semibold text-[16px] transition-colors leading-6 tracking-[-0.32px]","bg-[#FFD566] hover:bg-[#E7A93C] text-[#111112]",(g||(p?.type==="custom"?!u:!f))&&"opacity-50 cursor-not-allowed"),children:L??t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"})})})})]})]})}function m3({isOpen:e,onOpenChange:n,location:s="default"}){const{tier:r,getUpgradeTierName:i}=xs(),{currentWorkspace:a}=hs(),{user:o,userDetails:l}=os(),{isLoading:c,processingBundleAmount:u,bundles:p,handleBuyCredits:f,handleRazorpayPayment:m,savedCard:h,quickTopupConfirmation:x,showQuickTopupConfirmation:g,hideQuickTopupConfirmation:v,confirmQuickTopup:b,paymentModalState:y,hidePaymentModals:w,checkForSavedPaymentMethod:_}=d0(),N=bxe(),{topupPricing:j,topupCouponCode:C,topupLitmusConfig:S}=Y5(),{data:F}=Wa(void 0,{skip:!l}),E=d.useMemo(()=>{if(j?.topup_bundles&&j.topup_bundles.length>0)return ole(p,j.topup_bundles);if(j?.bundles&&j.bundles.length>0){const xe=p.length>0?p[0].currency:"USD",ae=Qxe(j.bundles,xe);if(ae.length>0)return ae}return j?.bundle_overrides?ile(p,j.bundle_overrides):p},[j?.topup_bundles,j?.bundles,j?.bundle_overrides,p]),I=!!F?.topup_discount_info,T=!I&&E.length===Zxe,{customAmount:A,setCustomAmount:D,customAmountError:O,setCustomAmountError:M,selectedOption:L,setSelectedOption:P,isProcessing:B,setIsProcessing:G,customAmountCurrency:$,isRazorpayFlowEnabled:te,selectedBundle:U,isCustomAmountValid:oe,customAmountEnabled:Y,getDetectedCurrency:W,getCurrencyLimits:Z,calculateCredits:le}=tge({bundles:E,topupPricing:j}),q=nge({customAmount:A,customAmountCurrency:$,selectedOption:L,selectedBundle:U,isRazorpayFlowEnabled:te,setCustomAmount:D,setCustomAmountError:M,setSelectedOption:P,setIsProcessing:G,getCurrencyLimits:Z,calculateCredits:le,getDetectedCurrency:W,tier:r,currentWorkspace:a,userId:o?.id,location:s,handleBuyCredits:f,handleRazorpayPayment:m,checkForSavedPaymentMethod:_,showQuickTopupConfirmation:g,hideQuickTopupConfirmation:v,quickTopupConfirmation:x,onOpenChange:n,dynamoCouponCode:C,litmusConfig:S}),Q=d.useRef(void 0),he=d.useRef(!1);d.useEffect(()=>{e||(he.current=!1,Q.current=void 0)},[e]),d.useEffect(()=>{if(!T&&E.length>0){const xe=j?.default_selected_index??0,ae=Math.max(0,Math.min(xe,E.length-1));(!L||Q.current!==xe)&&!he.current&&(Q.current=xe,P({type:"bundle",bundleIndex:ae}))}},[E,L,P,T,j?.default_selected_index]),d.useEffect(()=>{if(!Y&&L?.type==="custom"){const xe=Math.max(0,Math.min(j?.default_selected_index??0,E.length-1));P(E.length>0?{type:"bundle",bundleIndex:xe}:null),M("")}},[Y,L,P,M,E.length,j?.default_selected_index]);const{handleBundleSelect:me,handleCustomAmountSelect:ce}=q,ee=d.useCallback(xe=>{he.current=!0,me(xe)},[me]),J=d.useCallback(()=>{he.current=!0,ce()},[ce]),re=d.useRef(!1);return d.useEffect(()=>{if(!e){re.current=!1;return}if(re.current)return;re.current=!0,M(""),H(Ra.BUY_CREDITS_MODAL_EVENTS.MODAL_OPENED,{tier:r,workspace:a,bundle_count:E.length,currency:W(),is_razorpay_flow:te,design_type:I?"v2_cohort":T?"classic":"new",has_topup_discount_info:I}),CO(r==="free"?"upgrade_prompt":"credits_topup",o?.id)},[e,E.length,a,W,I,te,M,r,T,o?.id]),d.useEffect(()=>{y.isLoading&&H(Ra.BUY_CREDITS_MODAL_EVENTS.PAYMENT_LOADING_MODAL_OPENED,{payment_type:y.paymentType||"credits",amount:y.amount,currency:y.currency,workspace:a,tier:r})},[a,y.amount,y.currency,y.isLoading,y.paymentType,r]),t.jsxs(t.Fragment,{children:[t.jsx(as,{open:e,onOpenChange:q.handleOpenChange,children:t.jsx(Cr,{children:t.jsx(Kn,{children:e&&t.jsxs("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center",children:[t.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:q.closeModal}),t.jsxs(fe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:k("relative flex flex-col max-h-dvh md:max-h-[90dvh] w-full md:w-auto h-full md:h-auto bg-[#18181A] rounded-none md:rounded-2xl shadow-2xl overflow-y-auto",T?"items-center md:pb-[40px] md:overflow-hidden":"border border-[#1f1f1f]"),onClick:xe=>xe.stopPropagation(),children:[N&&t.jsx("div",{className:"w-full md:hidden",children:t.jsx(f3,{config:N.config,showPromoCode:N.showPromoCode})}),I?t.jsx(wge,{bundles:E,topupPricing:j,isLoading:c,customAmountEnabled:Y,processingBundleAmount:u,isCheckingSavedCard:q.isCheckingSavedCard,checkingSavedCardBundleAmount:q.checkingSavedCardBundleAmount,isAnyLoading:c||q.isCheckingSavedCard,customAmount:A,customAmountError:O,customAmountCurrency:$,isCustomAmountValid:oe,selectedOption:L,selectedBundle:U,topupDiscountInfo:F?.topup_discount_info,handleCustomAmountChange:q.handleCustomAmountChange,handleIncrement:q.handleIncrement,handleDecrement:q.handleDecrement,handleBundleSelect:ee,handleCustomAmountSelect:J,handlePurchase:q.handlePurchase,handleLearnMoreClick:q.handleLearnMoreClick,calculateCredits:le,closeModal:q.closeModal,location:s,creditsBannerData:N}):T?t.jsx(vge,{bundles:E,topupPricing:j,isLoading:c,customAmountEnabled:Y,processingBundleAmount:u,location:s,creditsBannerData:N,customAmount:A,customAmountError:O,customAmountCurrency:$,isCustomAmountValid:oe,isCheckingSavedCard:q.isCheckingSavedCard,checkingSavedCardBundleAmount:q.checkingSavedCardBundleAmount,isAnyLoading:c||q.isCheckingSavedCard,handleModalClose:q.handleOpenChange,handleCustomAmountChange:q.handleCustomAmountChange,handlePurchase:q.handlePurchase,handleLearnMoreClick:q.handleLearnMoreClick,calculateCredits:le,tier:r,getUpgradeTierName:i}):t.jsx(yge,{bundles:E,topupPricing:j,isLoading:c,customAmountEnabled:Y,isProcessing:B,location:s,closeModal:q.closeModal,creditsBannerData:N,customAmount:A,customAmountError:O,selectedOption:L,customAmountCurrency:$,selectedBundle:U,handleCustomAmountChange:q.handleCustomAmountChange,handleIncrement:q.handleIncrement,handleDecrement:q.handleDecrement,handleBundleSelect:ee,handleCustomAmountSelect:J,handlePurchase:q.handlePurchase,handleLearnMoreClick:q.handleLearnMoreClick,calculateCredits:le})]})]})})})}),t.jsx(Hf,{isOpen:y.isLoading,onOpenChange:w,paymentType:y.paymentType||"credits",amount:y.amount,currency:y.currency,isQuickTopup:y.isQuickTopup}),t.jsx(KH,{showModal:x.showModal,bundle:x.bundle||null,savedCard:h,isLoading:c,discountPercentage:(x.bundle?.amount||0)<Rc&&!x.bundle?.originalPrice&&F?.topup_discount_info?.is_eligible?F.topup_discount_info.discount_percentage:void 0,onClose:v,onConfirm:b,onChangePaymentMethod:q.handleChangePaymentMethod})]})}const Cge=Object.freeze(Object.defineProperty({__proto__:null,BuyCreditsModal:m3},Symbol.toStringTag,{value:"Module"})),sc=()=>{const[e,n]=d.useState(!1),{user:s}=os(),r=cc(),{getCurrentOrganizationId:i}=hs(),a=i(),{data:o,isLoading:l,error:c,refetch:u}=kre(a?{organization_id:a}:void 0,{pollingInterval:300*1e3}),p=()=>{o&&n(_ge(o,s||void 0,r))};return d.useEffect(()=>{p()},[o,s,r]),{config:o,loading:l,error:c?new Error("Failed to fetch config"):null,refetch:u,universalKeyEnabled:e}},_ge=(e,n,s)=>{if(s||e?.feature_flags?.universal_key===!0)return!0;if(Array.isArray(e?.feature_flags?.universal_key)&&n?.id){const r=n.id.slice(-1).toLowerCase();return e.feature_flags.universal_key.includes(r)}return!1},b6=({width:e=20,height:n=20,fill:s="white",className:r})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:r,children:t.jsx("path",{d:"M8.13671 7.82399V6.30398C8.13671 6.17596 8.18431 6.07991 8.29527 6.01598L11.3241 4.256C11.7364 4.01602 12.228 3.90406 12.7353 3.90406C14.6382 3.90406 15.8434 5.3921 15.8434 6.97604C15.8434 7.088 15.8434 7.21602 15.8274 7.34404L12.6877 5.488C12.4975 5.37605 12.3071 5.37605 12.1169 5.488L8.13671 7.82399ZM15.209 13.7441V10.112C15.209 9.88789 15.1138 9.7279 14.9236 9.61594L10.9434 7.27995L12.2437 6.5279C12.3547 6.46397 12.4499 6.46397 12.5609 6.5279L15.5896 8.28789C16.4619 8.79996 17.0484 9.88789 17.0484 10.9438C17.0484 12.1598 16.335 13.2798 15.209 13.7439V13.7441ZM7.20114 10.544L5.90086 9.77608C5.78989 9.71215 5.7423 9.6161 5.7423 9.48808V5.96811C5.7423 4.25615 7.04259 2.96006 8.80278 2.96006C9.46883 2.96006 10.0871 3.18413 10.6106 3.58409L7.48672 5.40816C7.29649 5.52012 7.20129 5.68011 7.20129 5.90418V10.5442L7.20114 10.544ZM9.99999 12.176L8.13671 11.12V8.8801L9.99999 7.82414L11.8631 8.8801V11.12L9.99999 12.176ZM11.1972 17.0401C10.5311 17.0401 9.91282 16.816 9.3894 16.4161L12.5132 14.5919C12.7034 14.48 12.7987 14.3201 12.7987 14.096V9.45596L14.1149 10.2239C14.2258 10.2878 14.2734 10.3839 14.2734 10.5119V14.0319C14.2734 15.7438 12.9572 17.0401 11.1972 17.0401ZM7.43898 13.4721L4.41018 11.7121C3.53797 11.2 2.95134 10.1121 2.95134 9.05615C2.95134 7.82414 3.68077 6.72015 4.80657 6.25611V9.9041C4.80657 10.1282 4.90177 10.2882 5.092 10.4001L9.05638 12.72L7.75609 13.4721C7.64513 13.5361 7.54993 13.5361 7.43898 13.4721ZM7.26465 16.0961C5.47278 16.0961 4.15658 14.736 4.15658 13.056C4.15658 12.928 4.17249 12.8 4.18826 12.672L7.3121 14.4961C7.50234 14.608 7.69273 14.608 7.88297 14.4961L11.8631 12.1762V13.6962C11.8631 13.8242 11.8155 13.9202 11.7045 13.9841L8.67574 15.7441C8.26344 15.9841 7.77185 16.0961 7.26451 16.0961H7.26465ZM11.1972 18C13.1159 18 14.7174 16.624 15.0823 14.8C16.8582 14.3359 18 12.6559 18 10.944C18 9.82396 17.5243 8.73603 16.668 7.95201C16.7473 7.61598 16.7949 7.27995 16.7949 6.94407C16.7949 4.65612 14.9554 2.944 12.8305 2.944C12.4025 2.944 11.9901 3.00794 11.5778 3.15201C10.8642 2.44799 9.88099 2 8.80278 2C6.88403 2 5.28254 3.37593 4.91768 5.19999C3.14173 5.66404 2 7.34404 2 9.056C2 10.176 2.47567 11.264 3.33197 12.048C3.25269 12.384 3.20509 12.72 3.20509 13.0559C3.20509 15.3438 5.04456 17.0559 7.16946 17.0559C7.59753 17.0559 8.00984 16.9921 8.42215 16.848C9.13565 17.552 10.1188 18 11.1972 18Z",fill:s})}),jge=K.chips.surprise,Nge=3;function Fge({config:e,showChips:n,onChipClick:s}){const{t:r}=en("home"),[i,a]=d.useState({}),[o,l]=d.useState([]),[c,u]=d.useState(new Set),[p,f]=d.useState(0),{isTrulyFreeUser:m}=gi();d.useEffect(()=>{if(e?.prompt_suggestions&&Array.isArray(e.prompt_suggestions)){const w=e.prompt_suggestions.reduce((_,N)=>(N.category==="Bots"||(_[N.category]||(_[N.category]=[]),_[N.category].push(N)),_),{});a(w)}},[e]);const h=d.useCallback((w=!1)=>{const _=Object.keys(i),N=(C,S)=>{if(w&&S.size>0){const F=C.filter(I=>!S.has(`${I.category}-${I.label}`)),E=F.length>0?F:C;return E[Math.floor(Math.random()*E.length)]}return C[Math.floor(Math.random()*C.length)]},j=_.map(C=>N(i[C],c));for(;j.length<Nge;){const C=new Set(j.map(E=>`${E.category}-${E.label}`)),S=Object.values(i).flat().filter(E=>!C.has(`${E.category}-${E.label}`));if(S.length===0)break;const F=S[Math.floor(Math.random()*S.length)];j.push(F)}return j},[i,c]),x=d.useCallback(w=>{const _=new Set(c);w.forEach(j=>{_.add(`${j.category}-${j.label}`)});const N=Object.values(i).flat().length;if(_.size>N*.8){const j=new Set(w.map(C=>`${C.category}-${C.label}`));u(j)}else u(_)},[c,i]);d.useEffect(()=>{if(o.length===0&&Object.keys(i).length>0){const w=h(!1);l(w),x(w)}},[i]);const g=async()=>{H(ql.REFRESH_CLICKED,{platform:"mobile"}),f(_=>_+180);const w=h(!0);l(w),x(w)},v=w=>{H(ql.CHIP_CLICKED,{chip_label:w.label,chip_category:w.category,platform:"mobile"}),s(w.prompt)},b=()=>{const w=Object.values(i).flat(),_=w[Math.floor(Math.random()*w.length)];H(ql.CHIP_CLICKED,{chip_label:"Surprise Me",chip_category:"Surprise Me",platform:"mobile"}),s(_.prompt)},y=e?.prompt_suggestions&&Array.isArray(e.prompt_suggestions)&&e.prompt_suggestions.length>0;return t.jsx(xa,{children:n&&y&&o.length>0&&t.jsx(Rn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:t.jsxs("div",{className:"flex gap-3 p-2 px-3 pb-3 overflow-x-auto overflow-clip hide-scrollbars",children:[o.map((w,_)=>t.jsxs(Rn.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.3,ease:"easeInOut",delay:_*.05},onClick:()=>v(w),whileTap:{scale:.95,transition:{duration:.1}},className:k("group relative min-w-fit pl-3 py-4 pr-4 flex text-[#FFFFFF] hover:text-[#FFFFFF] items-center gap-[6px] bg-[#202021] rounded-[12px] transition-colors duration-200 cursor-pointer",m()&&"border-opacity-0"),children:[t.jsx("img",{src:w.icon_url,alt:"Chip icon",className:"w-4 h-4"}),t.jsx("span",{className:"text-sm leading-4 font-medium font-brockmann drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:w.label}),w.isNew&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold text-white bg-[#E03E3E] rounded-full",children:"New"})]},`${w.category}-${w.label}-${_}`)),t.jsxs(Rn.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.3,ease:"easeInOut",delay:o.length*.05},onClick:b,whileTap:{scale:.95,transition:{duration:.1}},className:k("group relative min-w-fit pl-3 py-4 pr-4 flex text-[#FFFFFF] hover:text-[#FFFFFF] items-center gap-[6px] bg-[#202021] rounded-[12px] transition-colors duration-200 cursor-pointer",m()&&"border-opacity-0"),children:[t.jsx("img",{src:jge,alt:r("suggestionChips.surprise"),className:"w-4 h-4"}),t.jsx("span",{className:"text-sm leading-4 font-medium font-brockmann drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:r("suggestionChips.surpriseMe")})]}),t.jsx(Rn.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.3,ease:"easeInOut",delay:(o.length+1)*.05},onClick:g,whileTap:{scale:.95,transition:{duration:.1}},className:"group relative min-w-fit p-4 flex text-[#7B7B80] hover:text-white items-center gap-[6px] bg-[#202021] hover:bg-[#202022] rounded-[12px] transition-colors duration-200 cursor-pointer",title:"Refresh suggestions",children:t.jsx(Rn.div,{animate:{rotate:p},transition:{duration:.5,ease:"easeInOut"},children:t.jsx(df,{className:"w-4 h-4"})})})]})})})}const Ege=({color:e="white",size:n=16,className:s="",opacity:r=.4})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 16 16",fill:"none",className:s,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.27317 1.6339C7.67369 1.23336 8.32316 1.23336 8.72369 1.6339L13.339 6.24927C13.7395 6.64979 13.7395 7.29917 13.339 7.6997C12.9385 8.10031 12.2891 8.10031 11.8886 7.6997L9.02406 4.83527L9.02406 13.6412C9.02406 14.2076 8.56484 14.6668 7.99838 14.6668C7.43201 14.6668 6.9728 14.2076 6.9728 13.6412L6.9728 4.83527L4.10828 7.6997C3.70776 8.10031 3.05837 8.10031 2.65785 7.6997C2.25728 7.29917 2.25728 6.64979 2.65785 6.24927L7.27317 1.6339Z",fill:e,fillOpacity:r})}),Sge=({botSuggestion:e,visible:n,tier:s,onChipClick:r})=>{const{t:i}=en("home");return t.jsx(xa,{children:n&&e&&t.jsx(Rn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:t.jsxs("button",{onClick:()=>{H(ql.CHIP_CLICKED,{chip_label:e.label,chip_category:e.category,tier:s}),r(e.prompt)},className:"flex items-center justify-between w-[calc(100%-32px)] bg-[#18181A] border border-[#333] rounded-[12px] pl-[10px] pr-[12px] py-[12px] mx-[16px] mt-[12px] cursor-pointer active:scale-[0.98] transition-transform",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("div",{className:"opacity-80 w-[20px] h-[20px] overflow-clip",children:t.jsx("img",{src:e.icon_url,alt:e.label,className:"w-full h-full object-contain"})}),t.jsx("span",{className:"text-[14px] leading-[16px] font-medium font-brockmann text-white",style:{textShadow:"0px 0px 20px rgba(255, 255, 255, 0.4)"},children:i("suggestionChips.introducing",{name:e.label})}),e.isNew&&t.jsx("span",{className:"flex items-center justify-center px-[8px] bg-[#F14749] rounded-[20px] text-[12px] font-semibold leading-[16px] text-[#0F0F10]",children:i("suggestionChips.new")})]}),t.jsx(Ege,{size:16})]})})})},kg="landingPageChip",Th=e=>e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),kge=e=>Th(e),K2=(e,n,s)=>{!n||!s||e.has(n)||e.set(n,s)},Ige=(e,n)=>{const s=Th(n.label),r=Th(`${n.category}-${n.label}`);K2(e,s,n.prompt),K2(e,r,n.prompt)},Tge=(e,n)=>{const s=new Map;return e?.prompt_suggestions&&Array.isArray(e.prompt_suggestions)&&e.prompt_suggestions.forEach(r=>Ige(s,r)),n&&Object.values(jH).flat().forEach(r=>{if(!r)return;const i=n(`${r.translationKey}.label`),a=n(`${r.translationKey}.prompt`);!i||!a||(K2(s,Th(i),a),K2(s,Th(`${r.category}-${i}`),a))}),s},Ik=K.common.attachmentCross,Tk=K.common.attach,Age=K.common.close,Dge=K.common.copperCoin;function Mge({tabId:e,onClearTabId:n,isCustomAgentsModalOpen:s,setIsCustomAgentsModalOpen:r,showMobileAgentIntro:i,onMobileAgentIntroShown:a,jobsLength:o}){const{toast:l}=ns(),{t:c}=en("home"),{config:u,loading:p}=sc(),[f]=Fu(),m=d.useMemo(()=>Tge(u,c),[u,c]),h=d.useMemo(()=>ghe(u?.prompt_suggestions),[u?.prompt_suggestions]),[x,{isLoading:g}]=eO(),{getTabState:v,updateTabState:b,setTabs:y,setActiveTab:w}=hi(),{session:_,user:N}=os(),{credits:j}=xs(),{isOrganizationWorkspace:C,isTrulyFreeUser:S,tier:F,pro:E,restrictedFree:I,defaultPrivacy:T,isEmergentUser:A,canAccessModel:D,ownerHasProAccess:O,isCurrentWorkspaceOwner:M}=gi(),{isEligible:L,planId:P}=Uf(),{getCurrentOrganizationId:B}=hs(),G=d.useMemo(()=>C()?O:!1,[C,O]),{isConnected:$}=Du(),te=N2(),U=n0()&&E,oe=_ie(),[Y,W]=d.useState([]),[Z,le]=d.useState(!1),{compressImage:q}=i3(x1e),Q=B(),he=Q?{organization_id:Q}:{},{data:me,isLoading:ce}=Zre(he,{skip:I}),{data:ee}=G5(Q?{organization_id:Q}:void 0,{skip:!1}),[J,re]=d.useState({taskInput:"",selectedImage:"",selectedAgent:"",selectedModel:"",perInstanceCostLimit:"25",selectedSkills:[],selectedImages:[],loadingImages:!1,githubUrl:"",branchName:"",projectType:"new_app",selectedCustomAgent:null,privacy:T,ultraMode:!1,testMode:E,selectedMcpTools:[],modelManuallySelected:!1}),[xe,ae]=d.useState(!1),[Fe,se]=d.useState(!0),[_e,Re]=d.useState("fullstack"),[Se,Ne]=d.useState(!1),[ge,Ce]=d.useState(0),[$e,dt]=d.useState(!1),[Me,we]=d.useState(!1),[Te,ze]=d.useState(!1),[_t,Bt]=d.useState("default"),[qe,Ae]=d.useState(!1),[Le,Ut]=d.useState(!1),[tt,xt]=d.useState(!1),[St,It]=d.useState(null),kt=g,Ot=d.useRef(null),Ie=d.useRef(null),nt=()=>"none",We=KO(),Lt=Hr(),pt=Hle(),[ft,Tt]=d.useState(!1),[Gt,Ze]=d.useState(!1),ut=(ve,Xe,at=!1)=>at?!0:ve.user_tier?Xe===ve.user_tier:ve.unavailable_tier?Xe!==ve.unavailable_tier:!0,Qt=()=>u?.model_list&&u.model_list.find(Xe=>ut(Xe,F,C()))?.name||"",[Sn,yn]=d.useState(!1),[Ee,Ke]=d.useState(!1),[mt,Ge]=d.useState(!1),[At,Cn]=d.useState([]),{isMobile:Mt}=ts(),Pn=d.useRef(!1),wn=d.useRef(new Set),In=d.useRef(null),us=d.useRef(null),[Kt,dn]=d.useState(!1);d.useEffect(()=>{if(!Mt)return;const ve=window.visualViewport;if(!ve)return;const Xe=()=>{const at=window.innerHeight-ve.height;Ce(at>0?at:0),window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0};return ve.addEventListener("resize",Xe),ve.addEventListener("scroll",Xe),()=>{ve.removeEventListener("resize",Xe),ve.removeEventListener("scroll",Xe)}},[Mt]),d.useEffect(()=>()=>{Ot.current&&(window.removeEventListener("message",Ot.current),Ot.current=null),Ie.current&&(clearTimeout(Ie.current),Ie.current=null)},[]);const gt=ve=>{re(Xe=>({...Xe,...ve}))},ps=()=>{Tt(!1),yn(!1),Ke(!1),Ge(!1),gt({selectedCustomAgent:null})};d.useEffect(()=>{if(!e||!u||wn.current.has(e))return;const ve=v(e),at=u.form_layouts?.new_app?.cloud?.defaults||{},un=Qt(),Xn=ho("userInput"),ke=localStorage.getItem("landingPageTask");let ye="";Xn?(ye=Xn,xg("userInput","/",".emergent.sh")):ke?(ye=ke,localStorage.removeItem("landingPageTask")):ye=ve.task||at.taskDescription||"",gt({taskInput:ye,selectedImage:ve.selectedImage||at.dockerImage||"",selectedAgent:ve.selectedAgent||at.agent||"",selectedModel:ve.model_name||un||at.baseModel||"",perInstanceCostLimit:ve.per_instance_cost_limit||at.budget?.toString()||"25",selectedSkills:ve.agentic_skills||at.skills||[],selectedImages:ve.selectedImages||[],githubUrl:ve.repository||"",branchName:ve.branch||"",projectType:ve.projectType||"new_app",selectedCustomAgent:ve.selectedCustomAgent||null,selectedMcpTools:ve.selectedMcpServerIds||[],modelManuallySelected:ve.modelManuallySelected||!1}),wn.current.add(e)},[u,v,e,F]),d.useEffect(()=>{if(!u?.model_list||!J.selectedModel)return;const ve=u.model_list.find(Xe=>Xe.name===J.selectedModel);if(ve&&!D(ve?.user_tier)){const Xe=Qt();Xe&&gt({selectedModel:Xe})}},[F,J.selectedModel,u,D]),d.useEffect(()=>{gt({testMode:E})},[E]),d.useEffect(()=>{if(!e||wn.current.size===0)return;const Xe=v(e).selectedMcpServerIds||[];JSON.stringify(Xe)!==JSON.stringify(In.current)&&(In.current=Xe,gt({selectedMcpTools:Xe}))},[e,v]),d.useEffect(()=>{if(!e||wn.current.size===0)return;const ve={task:J.taskInput,selectedImage:J.selectedImage,image:J.selectedImage,selectedAgent:J.selectedAgent,model_name:J.selectedModel,modelManuallySelected:J.modelManuallySelected,per_instance_cost_limit:J.perInstanceCostLimit,agentic_skills:J.selectedSkills,selectedImages:J.selectedImages,repository:J.githubUrl,branch:J.branchName,projectType:J.projectType,selectedCustomAgent:J.selectedCustomAgent,privacy:J.privacy,ultraMode:J.ultraMode,testMode:J.testMode,selectedMcpServerIds:J.selectedMcpTools,isCloudFlow:!0};b(e,ve)},[J,e,b]),d.useEffect(()=>{u?.skills&&Cn(u.skills)},[u]),d.useEffect(()=>{if(J.selectedAgent&&u){const ve=u.agent_names?.find(Xe=>Xe.name===J.selectedAgent);if(ve?.sub_agents){const Xe=ve.sub_agents.filter(at=>At.some(un=>un.name===at));gt({selectedSkills:Xe})}else gt({selectedSkills:[]})}},[J.selectedAgent,At,u]),d.useEffect(()=>{if(!u)return;const Xe=u.form_layouts?.new_app?.cloud?.defaults||{};if(mt&&u.prototype_agent_experimental){const at={selectedAgent:u.prototype_agent_experimental.agent||Xe.agent||"",selectedImage:u.prototype_agent_experimental.dockerImage||Xe.dockerImage||"",perInstanceCostLimit:u.prototype_agent_experimental.budget?.toString()||Xe.budget?.toString()||"25"};J.modelManuallySelected||(at.selectedModel=u.prototype_agent_experimental.baseModel||Xe.baseModel||""),gt(at)}else if(Sn&&u.e15_experimental){const at={selectedAgent:u.e15_experimental.agent||Xe.agent||"",selectedImage:u.e15_experimental.dockerImage||Xe.dockerImage||"",perInstanceCostLimit:u.e15_experimental.budget?.toString()||Xe.budget?.toString()||"25"};J.modelManuallySelected||(at.selectedModel=u.e15_experimental.baseModel||Xe.baseModel||""),gt(at)}else if(Ee&&u.e2_experimental){const at={selectedAgent:u.e2_experimental.agent||Xe.agent||"",selectedImage:u.e2_experimental.dockerImage||Xe.dockerImage||"",perInstanceCostLimit:u.e2_experimental.budget?.toString()||Xe.budget?.toString()||"25"};J.modelManuallySelected||(at.selectedModel=u.e2_experimental.baseModel||Xe.baseModel||""),gt(at)}else gt(ft?{selectedAgent:u.agent_names?.find(at=>at.name==="expo_fullstack_v0")?.name||"",selectedImage:u.templates?.find(at=>at.id==="expo")?.env_image||""}:Gt?{selectedAgent:u.agent_names?.find(at=>at.name==="full_stack_app_builder_nextjs")?.name||"full_stack_app_builder_nextjs",selectedImage:u.templates?.find(at=>at.id==="nextjs")?.env_image||""}:{selectedAgent:Xe.agent||"",selectedImage:Xe.dockerImage||"",perInstanceCostLimit:Xe.budget?.toString()||"25"})},[Sn,Ee,mt,u,ft,Gt]),d.useEffect(()=>{J.taskInput===""&&!Fe&&se(!0)},[J.taskInput,Fe]),d.useEffect(()=>{_e==="mobile"?(ps(),Tt(!0)):ft&&Tt(!1)},[_e]),d.useEffect(()=>{const ve=B();y(Xe=>Xe.some(un=>un.id===e)?Xe:[...Xe,{id:e,title:"Setting up Task",path:"/not-defined",state:{tabId:e,sourceTabId:e,isCloudFlow:!0},status:!1,isCloudFlow:!0,...ve&&{organization_id:ve,level:"organization"}}]),b(e,{isCloudFlow:!0,...ve&&{organization_id:ve,level:"organization"}})},[e,B]);const Zn=sH({maxImages:5,maxSizeInMB:5,maxPixelDimensions:8e3,maxPixelDimensionsMultiple:2e3,onImagesChange:ve=>gt({selectedImages:ve})});d.useEffect(()=>{gt({loadingImages:Zn.isProcessing})},[Zn.isProcessing]);const $s=ve=>{},Ls=ve=>{gt({taskInput:ve})};d.useEffect(()=>{const ve=f.get("chip"),Xe=localStorage.getItem(kg);if(ve&&ve!==Xe)try{localStorage.setItem(kg,ve)}catch{}const at=ve||Xe;if(!at)return;const un=kge(at);if(!un||un===us.current)return;const Xn=m.get(un);Xn&&(Ls(Xn),us.current=un,Xe&&(dn(!0),localStorage.removeItem(kg)))},[m,Ls,f]),d.useEffect(()=>{Kt&&J.taskInput&&(dn(!1),_s())},[Kt,J.taskInput]);const ys=ve=>{yn(ve)},zn=ve=>{Ke(ve)},_n=ve=>{Ge(ve)},Wn=ve=>{Tt(ve),ve&&Re("mobile")},As=ve=>{Ze(ve)},tr=()=>{gt({githubUrl:"",branchName:""})},Ht=ve=>{if(!ve||ve.length===0)return;const Xe=Array.from(ve);if(Y.length+Xe.length>5){l({title:"Too many attachments",description:"Maximum 5 attachments allowed",variant:"destructive"});return}const at=200*1024*1024,un=Xe.filter(ye=>ye.size>at);if(un.length>0){l({title:"File too large",description:`Files must be smaller than 200MB. ${un.length} file(s) exceed this limit.`,variant:"destructive"});return}const Xn=[...Y,...Xe];W(Xn);const ke=v(e);b(e,{...ke,selectedFiles:Xn}),l({title:"Files selected",description:`${Xe.length} file(s) selected for upload`}),H(qn.HOME_PAGE_EVENTS.FILE_UPLOAD_SUCCESS,{file_count:Xe.length,file_types:Xe.map(ye=>ye.type),total_size_bytes:Xe.reduce((ye,Et)=>ye+Et.size,0)})},zs=()=>{{const ve=document.createElement("input");ve.type="file",ve.multiple=!0,ve.style.display="none",ve.onchange=Xe=>{const at=Xe.target;at.files&&at.files.length>0&&Ht(at.files),document.body.removeChild(ve)},ve.oncancel=()=>{H(qn.HOME_PAGE_EVENTS.FILE_UPLOAD_CANCELLED),document.body.removeChild(ve)},document.body.appendChild(ve),ve.click()}},Ve=()=>{if(H(qn.HOME_PAGE_EVENTS.ATTACH_FILE_CLICKED),window?.ReactNativeWebView){Ot.current&&(window.removeEventListener("message",Ot.current),Ot.current=null),Ie.current&&(clearTimeout(Ie.current),Ie.current=null);const ve=Xe=>{try{const at=typeof Xe.data=="string"?JSON.parse(Xe.data):Xe.data;at?.type==="CAMERA_PERMISSION_RESPONSE"&&(window.removeEventListener("message",ve),Ot.current=null,Ie.current&&(clearTimeout(Ie.current),Ie.current=null),at.status==="granted"||at.granted?zs():l({title:"Permission Required",description:"Please enable photo library access to attach files",variant:"destructive"}))}catch{}};Ot.current=ve,window.addEventListener("message",ve),Ie.current=setTimeout(()=>{Ot.current&&(window.removeEventListener("message",Ot.current),Ot.current=null),Ie.current=null},3e4),zi("CAMERA_PERMISSION_REQUEST",{});return}zs()},lt=ve=>{const Xe=Y.filter((un,Xn)=>Xn!==ve);W(Xe);const at=v(e);b(e,{...at,selectedFiles:Xe}),H(qn.HOME_PAGE_EVENTS.ATTACHMENT_REMOVED)},$t=async()=>{try{const ve=await navigator.mediaDevices.getUserMedia({audio:!0}),Xe=new MediaRecorder(ve),at=[];Xe.ondataavailable=un=>{at.push(un.data)},Xe.onstop=async()=>{const un=new Blob(at,{type:"audio/mp3"});await Yt(un),ve.getTracks().forEach(Xn=>Xn.stop())},Xe.start(),It(Xe),xt(!0)}catch{l({title:"Recording Error",description:"Could not access microphone. Please check permissions.",variant:"destructive"})}},Tn=()=>{St&&tt&&(St.stop(),xt(!1),It(null))},Yt=async ve=>{try{il("transcription_started",{component:"ChatInput",audioSize:ve.size});const Xe=new File([ve],"recording.mp3",{type:"audio/mp3"}),at=await x({audio_file:Xe,language_code:"en"}).unwrap();if(at.text){const un=J.taskInput,Xn=un?`${un} ${at.text}`:at.text;gt({taskInput:Xn}),il("transcription_completed",{component:"ChatInput",textLength:at.text.length})}else throw new Error("No transcription data received")}catch(Xe){il("transcription_failed",{component:"ChatInput",error:Xe instanceof Error?Xe.message:"Unknown error"}),l({title:"Transcription Error",description:"Failed to transcribe audio. Please try again.",variant:"destructive"})}},Is=()=>{if(tt){Tn();return}try{if(window?.ReactNativeWebView){const ve=Xe=>{try{const at=typeof Xe.data=="string"?JSON.parse(Xe.data):Xe.data;at?.type==="MICROPHONE_PERMISSION_RESPONSE"&&(window.removeEventListener("message",ve),at.status==="granted"||at.granted?$t():l({title:"Permission Required",description:"Please enable microphone access to record audio",variant:"destructive"}))}catch{}};window.addEventListener("message",ve),zi("MICROPHONE_PERMISSION_REQUEST",{});return}$t()}catch{l({title:"Recording Error",description:"Could not access microphone. Please check permissions.",variant:"destructive"})}},nn=ve=>u?.form_layouts?.[J.projectType]?.cloud?.fields?.find(un=>un.id===ve)?.show!==!1,Ue=ve=>{gt({taskInput:ve.target.value}),ve.target.value.length%50===0&&lx("started",{userId:N?.id,taskInputLength:ve.target.value.length,isTyping:!0,tabId:e})},Nt=ve=>gt({ultraMode:ve}),bn=ve=>gt({testMode:ve}),Yn=ve=>{const Xe=ve.clipboardData?.items;if(Xe){const at=Array.from(Xe).filter(Xn=>Xn.kind==="file");if(at.length===0)return;ve.preventDefault();const un=at.map(Xn=>Xn.getAsFile()).filter(Boolean);un.length>0&&Ht(un)}},Jn=()=>{pt.isOpen&&pt.close(),ae(!xe)},fs=ve=>Ne(ve),Gn=()=>{if(H(qn.HOME_PAGE_EVENTS.GITHUB_EVENTS.CONNECT_TO_GITHUB_ICON_CLICKED),!_){we(!0);return}xe&&ae(!1),pt.open({githubUrl:J.githubUrl,branchName:J.branchName,onGithubUrlChange:ve=>gt({githubUrl:ve}),onBranchNameChange:ve=>gt({branchName:ve})})},Fs=ve=>{H(qn.HOME_PAGE_EVENTS.CUSTOM_AGENT_SELECTED,{agentId:ve,userId:N?.id,projectType:J.projectType,isCloudFlow:!0,tabId:e}),gt({selectedCustomAgent:ve})},nr=u?.model_list?.map(ve=>({id:ve.name,name:ve.display_name,description:ve.description,icon:ve.provider==="openai"?b6:Eg,showNew:ve.provider==="openai",user_tier:ve.user_tier,unavailable_tier:ve.unavailable_tier}))||[],an=ve=>{gt({selectedModel:ve,modelManuallySelected:!0}),H(qn.HOME_PAGE_EVENTS.MODEL_VALUE_UPDATED,{selectedModel:ve})},Ws=ve=>gt({selectedImage:ve}),ir=ve=>gt({perInstanceCostLimit:ve}),vr=ve=>{ve!==J.privacy&&gt({privacy:ve})},rs=ve=>gt({selectedMcpTools:ve}),Bs=Fh(async()=>{try{if(Pn.current)return;if(Pn.current=!0,dt(!0),lx("submitted",{userId:N?.id,projectType:J.projectType,isCloudFlow:!0,taskInputLength:J.taskInput.length,taskInput:J.taskInput.substring(0,100),hasImages:J.selectedImages.length>0,imageCount:J.selectedImages.length,selectedModel:J.selectedModel,selectedAgent:J.selectedAgent,budget:J.perInstanceCostLimit,tabId:e}),!J.selectedImage||!J.taskInput){l({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}if(J.githubUrl&&!J.branchName){l({title:"Branch Required",description:"Please select a branch for the GitHub repository",variant:"destructive"});return}let ve=[],Xe=[];if(Y&&Y.length>0){le(!0);try{const Oe=await v1e(Y,q);ve=Oe.base64Images,Xe=Oe.filesToUploadAsArtifacts}finally{le(!1)}}const at=[...J.selectedImages||[],...ve],un=B(),ke={...{task:J.taskInput,selectedImage:J.selectedImage,image:J.selectedImage,selectedAgent:J.selectedAgent,model_name:J.selectedModel,modelManuallySelected:J.modelManuallySelected,per_instance_cost_limit:J.perInstanceCostLimit,agentic_skills:J.selectedSkills,selectedImages:at,repository:J.githubUrl,branch:J.branchName||"",projectType:J.projectType,selectedCustomAgent:J.selectedCustomAgent,privacy:J.privacy,ultraMode:J.ultraMode,testMode:J.testMode,test_mode_on:J.testMode,selectedMcpTools:J?.selectedMcpTools?.flatMap(Oe=>Oe?.mcpServers?Object.keys(Oe.mcpServers):[])||[],selectedMcpServers:J.selectedMcpTools,...un&&{organization_id:un,level:"organization"},fromCreateTask:!0,tabId:e,parentTabId:e,isCloudFlow:!0,client_ref_id:null,needsApiCall:!0,pending_client_ref_id:crypto.randomUUID(),id:e,title:"Setting up Task",path:"/chat",e15Enabled:Sn,e2Enabled:Ee,selectedFiles:Xe,base64_image_list:at.length>0?at:void 0,newJob:!0,state:{tabId:e,sourceTabId:e}},...J.selectedCustomAgent?{user_prompt_id:J.selectedCustomAgent}:{prompt_name:mt&&u?.prototype_agent_experimental?.agent?u.prototype_agent_experimental.agent:Sn&&u?.e15_experimental?.agent?u.e15_experimental.agent:Ee&&u?.e2_experimental?.agent?u.e2_experimental.agent:"auto_prompt_selector_dev"}};Zn.clearImages(),Tt(!1),Ze(!1),te&&W([]);const Et=u?.form_layouts?.new_app?.cloud?.defaults||{},qt=Qt();gt({taskInput:"",selectedImage:Et.dockerImage||"",selectedAgent:Et.agent||"",selectedModel:qt||Et.baseModel||"",perInstanceCostLimit:Et.budget?.toString()||"25",selectedSkills:[],selectedImages:[],loadingImages:!1,githubUrl:"",branchName:"",projectType:"new_app",selectedCustomAgent:null,privacy:T,ultraMode:!1,testMode:E,selectedMcpTools:[],modelManuallySelected:!1}),yn(!1),Ke(!1),Ge(!1),Re("fullstack"),b(e,ke),y(Oe=>Oe.some(it=>it.id===e)?Oe.map(it=>it.id===e?{...it,path:"/chat",title:"Setting up Task",state:ke,...un&&{organization_id:un,level:"organization"}}:it):[...Oe,{id:e,title:"Setting up Task",path:"/chat",state:ke,...un&&{organization_id:un,level:"organization"}}]),w(e),tr(),n()}catch(ve){l({title:"Error",description:"Failed to create task. Please try again.",variant:"destructive"}),lx("abandoned",{userId:N?.id,reason:"submission_error",error:String(ve),tabId:e})}finally{Pn.current=!1,dt(!1)}},700),_s=async()=>{if(!G&&L&&!C()&&H(xu.JOB_CREATED_WITHOUT_UPGRADE,{plan_type:"full_discount_standard",plan_id:P}),j<=0){if(C()&&!M){l({title:"Insufficient Credits",description:"Please ask the owner of this project to add more credits to continue.",variant:"destructive"});return}I?Lt.open({planType:"personal",triggerLocation:"default"}):Ae(!0);return}if(_&&N){const ve=v(e),Xe=[];if(Y&&Y.length>0){for(const ke of Y)if(ke.type.startsWith("image/"))try{const ye=await new Promise((Et,qt)=>{const Oe=new FileReader;Oe.onload=()=>{const it=Oe.result.split(",")[1];Et(it)},Oe.onerror=qt,Oe.readAsDataURL(ke)});Xe.push({mime_type:ke.type,img_base64:ye})}catch{}}const at=[...J.selectedImages||[],...Xe],un=B(),Xn={...ve,selectedImages:at,base64_image_list:at.length>0?at:void 0,selectedMcpTools:J?.selectedMcpTools?.flatMap(ke=>ke?.mcpServers?Object.keys(ke.mcpServers):[])||[],selectedMcpServers:J.selectedMcpTools,jobsLength:o,needsApiCall:!0,modelManuallySelected:J.modelManuallySelected,...un&&{organization_id:un,level:"organization"}};b(e,Xn),setTimeout(()=>{Bs()},100)}else we(!0)},wr=()=>t.jsxs("div",{children:[Y.length>0&&Mt&&t.jsx("div",{className:"max-w-[94%] mx-auto bg-[#18181A] border border-[#222] border-b-0 rounded-[18px] p-3",children:t.jsxs("div",{className:"flex flex-wrap gap-3",children:[(J.loadingImages||Z)&&t.jsxs("div",{className:"flex items-center justify-center w-full py-4",children:[t.jsx(tn,{className:"h-6 w-6 text-[#999] animate-spin mr-2"}),t.jsx("span",{className:"text-[#999]",children:Z?"Processing and compressing files...":"Processing files..."})]}),!J.loadingImages&&!Z&&Y.map((ve,Xe)=>{const at=ve.type.startsWith("image/"),un=at?URL.createObjectURL(ve):null;return t.jsxs("div",{className:"relative w-12 h-12 rounded-md border border-[#333] group","data-testid":Vs.mainTask.attachmentChip,children:[at&&un?t.jsx("img",{src:un,alt:ve.name,className:"w-full h-full object-cover z-[1] rounded-md"}):t.jsx("div",{className:"w-full h-full bg-[#2A2A2C] rounded-md flex items-center justify-center z-[1]",children:t.jsx("span",{className:"text-[#999] text-xs font-mono",children:ve.name.split(".").pop()?.toUpperCase()||"FILE"})}),t.jsx("button",{type:"button",onClick:()=>lt(Xe),className:"absolute top-[-8px] right-[-8px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove file","data-testid":Vs.mainTask.removeAttachmentButton,children:t.jsx("div",{className:"p-1 bg-white rounded-full",children:t.jsx("img",{src:Ik,alt:"Remove file",className:"w-3 h-3"})})})]},`${ve.name}-${Xe}`)})]})}),t.jsx("div",{className:"relative w-full ",children:F!=="free"||!oe&&Mt?t.jsx(mhe,{value:J.taskInput,onChange:ve=>{gt({taskInput:ve.target.value}),ve.target.value.length%50===0&&lx("started",{userId:N?.id,taskInputLength:ve.target.value.length,isTyping:!0,tabId:e})},e15Enabled:Sn,onE15Enabled:ys,e2Enabled:Ee,onE2Enabled:zn,prototypeEnabled:mt,onPrototypeEnabled:_n,ultraMode:J.ultraMode,onUltraModeChange:ve=>gt({ultraMode:ve}),testMode:J.testMode,onTestModeChange:ve=>gt({testMode:ve}),className:`relative bg-[#202021] w-full rounded-[24px] md:rounded-b-[12px] text-[#DDDDE6]
                    placeholder:text-[#666] md:text-base focus-visible:ring-1 focus:ring-1 z-10`,onAttachClick:Ve,attachIcon:Tk,attachTooltip:c("textarea.assets.attachTooltip.filesAndImages"),isUploadAssetEnabled:te,onPaste:ve=>{const Xe=ve.clipboardData?.items;if(Xe){const at=Array.from(Xe).filter(Xn=>Xn.kind==="file");if(at.length===0)return;ve.preventDefault();const un=at.map(Xn=>Xn.getAsFile()).filter(Boolean);un.length>0&&Ht(un)}},handleSettingsClick:()=>{pt.isOpen&&pt.close(),ae(!xe)},showControls:xe,onFocusChange:ve=>Ne(ve),onSubmit:_s,disabled:$e||!J.taskInput?.trim()||ow(),isSubmitting:$e,showGithubSettings:pt.isOpen,handleGithubSettings:Gn,hasUserConnectedGithub:$,githubUrl:J.githubUrl,onClearGithubUrl:tr,userPrompts:me?.user_prompts||[],isLoadingUserPrompts:ce,selectedCustomAgent:J.selectedCustomAgent,onCustomAgentChange:ve=>{H(qn.HOME_PAGE_EVENTS.CUSTOM_AGENT_SELECTED,{agentId:ve,userId:N?.id,projectType:J.projectType,isCloudFlow:!0,tabId:e}),gt({selectedCustomAgent:ve})},shouldShowUserPrompts:E,mobileEnabled:ft,onMobileEnabled:Tt,nextJSEnabled:Gt,onNextJSEnabled:As,showMobileAgentIntro:i,onMobileAgentIntroShown:a,showModelSelector:!0,availableModels:u?.model_list?.map(ve=>({id:ve.name,name:ve.display_name,description:ve.description,icon:ve.provider==="openai"?b6:Eg,showNew:ve.provider==="openai",user_tier:ve.user_tier,unavailable_tier:ve.unavailable_tier}))||[],selectedModelId:J.selectedModel,onModelChange:an,selectedImage:J.selectedImage,setSelectedImage:ve=>gt({selectedImage:ve}),globalConfig:u,perInstanceCostLimit:J.perInstanceCostLimit,setPerInstanceCostLimit:ve=>gt({perInstanceCostLimit:ve}),onPrivacyChange:ve=>{ve!==J.privacy&&gt({privacy:ve})},selectedMcpTools:J.selectedMcpTools,onMcpToolsChange:ve=>gt({selectedMcpTools:ve}),isRecording:tt,isTranscribing:kt,onVoiceClick:Is}):t.jsx(Ehe,{value:J.taskInput,onChange:Ue,e15Enabled:Sn,onE15Enabled:ys,e2Enabled:Ee,onE2Enabled:zn,prototypeEnabled:mt,onPrototypeEnabled:_n,ultraMode:J.ultraMode,onUltraModeChange:Nt,testMode:J.testMode,onTestModeChange:bn,className:`relative bg-[#202021] w-full rounded-[24px] md:rounded-b-[12px] text-[#DDDDE6]
                    placeholder:text-[#666] md:text-base focus-visible:ring-1 focus:ring-1 z-10`,onAttachClick:Ve,attachIcon:Tk,attachTooltip:c("textarea.assets.attachTooltip.filesAndImages"),isUploadAssetEnabled:te,onPaste:Yn,handleSettingsClick:Jn,showControls:xe,onFocusChange:fs,onSubmit:_s,disabled:$e||!J.taskInput?.trim()||ow(),isSubmitting:$e,showGithubSettings:pt.isOpen,handleGithubSettings:Gn,hasUserConnectedGithub:$,githubUrl:J.githubUrl,onClearGithubUrl:tr,userPrompts:me?.user_prompts||[],isLoadingUserPrompts:ce,selectedCustomAgent:J.selectedCustomAgent,onCustomAgentChange:Fs,shouldShowUserPrompts:E,mobileEnabled:ft,onMobileEnabled:Wn,nextJSEnabled:Gt,onNextJSEnabled:As,showMobileAgentIntro:i,onMobileAgentIntroShown:a,showModelSelector:!0,availableModels:nr,selectedModelId:J.selectedModel,onModelChange:an,selectedImage:J.selectedImage,setSelectedImage:Ws,globalConfig:u,perInstanceCostLimit:J.perInstanceCostLimit,setPerInstanceCostLimit:ir,onPrivacyChange:vr,selectedMcpTools:J.selectedMcpTools,onMcpToolsChange:rs,isRecording:tt,isTranscribing:kt,onVoiceClick:Is,activeTab:_e,onTabChange:Re})}),Y.length>0&&!Mt&&t.jsx("div",{className:"mt-[-20px] max-w-[94%] mx-auto bg-[#1D1D1F] border border-[#222] rounded-lg p-3",children:t.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[(J.loadingImages||Z)&&t.jsxs("div",{className:"flex items-center justify-center w-full py-4",children:[t.jsx(tn,{className:"h-6 w-6 text-[#999] animate-spin mr-2"}),t.jsx("span",{className:"text-[#999]",children:Z?"Processing and compressing files...":"Processing files..."})]}),!J.loadingImages&&!Z&&Y.map((ve,Xe)=>{const at=ve.type.startsWith("image/"),un=at?URL.createObjectURL(ve):null;return t.jsxs("div",{className:"relative w-12 h-12 rounded-md border border-[#333] group","data-testid":Vs.mainTask.attachmentChip,children:[at&&un?t.jsx("img",{src:un,alt:ve.name,className:"w-full h-full object-cover z-[1] rounded-md"}):t.jsx("div",{className:"w-full h-full bg-[#2A2A2C] rounded-md flex items-center justify-center z-[1]",children:t.jsx("span",{className:"text-[#999] text-xs font-mono",children:ve.name.split(".").pop()?.toUpperCase()||"FILE"})}),t.jsx("button",{type:"button",onClick:()=>lt(Xe),className:"absolute top-[-8px] right-[-8px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove file","data-testid":Vs.mainTask.removeAttachmentButton,children:t.jsx("div",{className:"p-1 bg-white rounded-full",children:t.jsx("img",{src:Ik,alt:"Remove file",className:"w-3 h-3"})})})]},`${ve.name}-${Xe}`)})]})})]}),Gs=ve=>{H(qn.HOME_PAGE_EVENTS.BUDGET_VALUE_UPDATED,{updatedValue:ve})},Sr=()=>t.jsxs("div",{"data-testid":Vs.mainTask.advancedControlsPanel,className:"w-full bg-[#0F181A] border border-[#66EAFF1F] rounded-[16px] transition-colors mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between w-full gap-4 px-5 pt-5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ff,{color:"#66eaff",size:20}),t.jsx("span",{className:"text-[#66EAFF] font-brockmann font-medium",children:c("textarea.advancedControls.title")})]}),t.jsx("img",{alt:c("textarea.advancedControls.close"),src:Age,"data-testid":Vs.mainTask.advancedControlsClose,className:"w-5 h-5 cursor-pointer",onClick:()=>ae(!1)})]}),t.jsxs("div",{className:"flex flex-col px-5 pt-5 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-[#FFFFFF50] font-inter font-medium text-[14px]",children:c("textarea.advancedControls.mcp.selectMcpsToUse")}),t.jsx("span",{className:"text-[#131314] px-2 py-[2px] font-semibold font-inter text-[12px] rounded-full bg-[#F49B57]",children:c("textarea.advancedControls.mcp.new")})]}),t.jsxs("button",{type:"button","data-testid":Vs.mainTask.mcpToolsSelector,onClick:()=>We.open({formState:J,updateFormState:gt,organizationId:B()}),className:k("w-full h-14 bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] hover:border-[#333] transition-colors px-4 flex items-center justify-between",J.selectedMcpTools.length>0&&"pl-3"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[J.selectedMcpTools.length<=0&&t.jsx(fa,{size:20}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:J.selectedMcpTools.length>0?t.jsxs(t.Fragment,{children:[J.selectedMcpTools.slice(0,3).map((ve,Xe)=>{const at=ee?.find(un=>un.id===ve);return t.jsxs("div",{className:"group relative flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-2 rounded-full hover:bg-[#FFFFFF]/15 cursor-pointer transition-all duration-200 ease-out",children:[at?.icon?t.jsx("img",{src:at.icon,alt:at.display_name,className:"flex-shrink-0 w-4 h-4 rounded-sm"}):t.jsx(fa,{size:16}),t.jsx("span",{className:"text-sm text-[#DDDDE6] flex-shrink-0",children:at?.display_name||ve}),t.jsx("button",{title:c("textarea.advancedControls.close"),type:"button",onClick:un=>{un.stopPropagation();const Xn=J.selectedMcpTools.filter((ke,ye)=>ye!==Xe);gt({selectedMcpTools:Xn})},className:"flex items-center justify-center w-4 h-4 transition-all duration-150 rounded-full opacity-50 right-2 hover:opacity-80",children:t.jsx(Ft,{size:16})})]},`${ve}-${Xe}`)}),J.selectedMcpTools.length>3&&t.jsx("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-2 rounded-full",children:t.jsx("span",{className:"text-sm text-[#DDDDE6]",children:c("textarea.advancedControls.mcp.more",{count:J.selectedMcpTools.length-3})})})]}):t.jsx("span",{children:c("textarea.advancedControls.mcp.selectMcpTools")})})]}),t.jsx(Ur,{size:20})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-5 px-5 py-5 md:grid-cols-2",children:[nn("dockerImage")&&t.jsx(Jme,{selectedImage:J.selectedImage,setSelectedImage:ve=>gt({selectedImage:ve}),globalConfig:u,label:c("textarea.advancedControls.template.selectTemplate"),isCloudFlow:!0}),nn("budget")&&t.jsxs("div",{className:"flex flex-col justify-between h-full",children:[t.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm",children:c("textarea.advancedControls.budget.label")}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx("button",{type:"button","data-testid":Vs.mainTask.budgetDecrement,title:c("textarea.advancedControls.budget.decreaseBudget"),onClick:()=>{const ve=parseInt(J.perInstanceCostLimit);ve>1&&(gt({perInstanceCostLimit:(ve-1).toString()}),Gs(ve-1))},className:"w-[40px] h-[40px] flex items-center justify-center absolute left-1 text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(G7,{className:"h-6 w-6 text-[#DDDDE6]"})}),t.jsxs("div",{className:"w-full h-[56px] bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] px-4 flex items-center justify-center hover:border-[#333]",children:[t.jsx("img",{alt:c("textarea.advancedControls.budget.label"),className:"text-[#B4A456] w-5 h-5",src:Dge}),t.jsx("input",{type:"number","data-testid":Vs.mainTask.budgetInput,min:"1",step:"1",value:J.perInstanceCostLimit,onChange:ve=>{ve.target.value!=="0"&&(gt({perInstanceCostLimit:ve.target.value}),Gs(ve.target.value))},disabled:p,placeholder:c(p?"textarea.advancedControls.budget.loading":"textarea.advancedControls.budget.placeholder"),className:"w-20 bg-transparent text-left focus:outline-none text-[#DDDDE6] font-inter text-xl font-semibold leading-[120%] tracking-[-0.4px] [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),t.jsx("button",{type:"button","data-testid":Vs.mainTask.budgetIncrement,title:c("textarea.advancedControls.budget.increaseBudget"),onClick:()=>{const ve=parseInt(J.perInstanceCostLimit);gt({perInstanceCostLimit:(ve+1).toString()}),Gs(ve+1)},className:"w-[40px] h-[40px] flex items-center justify-center absolute right-1 text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(ma,{className:"h-6 w-6 text-[#DDDDE6]"})})]})]}),U&&t.jsxs("div",{className:"flex flex-col justify-between h-full col-span-2",children:[t.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm mb-2",children:c("textarea.advancedControls.privacy.label")}),t.jsx("div",{className:" h-[56px] bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] px-4 w-full flex items-center gap-3 hover:border-[#333]",children:t.jsx(l3,{privacy:J.privacy})})]})]}),I&&t.jsxs("div",{className:"flex flex-col w-full px-5 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm",children:c("textarea.advancedControls.model.label")}),t.jsx(Q7,{models:u?.model_list?.map(ve=>({id:ve.name,name:ve.display_name,description:ve.description,icon:ve.provider==="openai"?b6:Eg,showNew:ve.provider==="openai",user_tier:ve.user_tier,unavailable_tier:ve.unavailable_tier}))||[],selectedModelId:J.selectedModel,onModelChange:an,currentUserTier:F,isEmergentUser:A,onUpgradeRequired:ve=>{if(H(qn.CREDIT_EVENTS.TIER_UPGRADE_BUTTON_CLICKED,{source:"model_selector_advanced_controls",currentTier:F,projectType:J.projectType,tabId:e}),C()&&!M){l({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}const Xe=ve?.user_tier==="pro_mode";Bt(Xe?"ultraThinkingModal":"default"),ze(!0)},disabled:p,placeholder:c(p?"textarea.advancedControls.model.loadingModels":"textarea.advancedControls.model.selectModel")})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-5 px-5 py-5",children:[nn("agent")&&t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm",children:c("textarea.advancedControls.agent.label")}),t.jsxs(Tu,{value:J.selectedAgent,onValueChange:ve=>gt({selectedAgent:ve}),disabled:p,children:[t.jsx(ld,{className:"w-full h-14 bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] hover:border-[#333] transition-colors data-[state=open]:border-[#333]",children:p?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tn,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:c("textarea.advancedControls.agent.loadingAgents")})]}):t.jsx(Au,{placeholder:c("textarea.advancedControls.agent.selectAgent")})}),t.jsx(cd,{className:"bg-[#131314] border border-[#222]",children:u?.agent_names?.map((ve,Xe)=>t.jsx(wo,{value:ve.name,className:"text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:ve.display_name},`${ve.name}-${Xe}`))})]})]}),nn("skills")&&t.jsx(c1e,{selectedSkills:J.selectedSkills,setSelectedSkills:ve=>gt({selectedSkills:ve}),skills:At,loadingSkills:!1,label:c("textarea.advancedControls.skills.label")})]})]});return u?t.jsxs(t.Fragment,{children:[t.jsx(NH,{enableWelcomeModal:!0,open:Me,onOpenChange:we,defaultView:"signup",onSuccess:$s}),t.jsx(Wxe,{isOpen:s,onOpenChange:r}),t.jsx(ud,{isOpen:Te,onOpenChange:ze,triggerLocation:_t,planType:"personal"}),t.jsx(m3,{isOpen:qe,onOpenChange:Ae,location:"default"}),t.jsx(IH,{isOpen:Le,onOpenChange:Ut}),t.jsx(Rp,{delayDuration:200,children:t.jsx("div",{className:"relative w-full",children:t.jsxs("div",{className:"w-full max-w-4xl mx-auto max-md:pt-0 md:p-6",children:[t.jsx(Rn.div,{initial:{opacity:Mt?1:0,y:0},animate:{opacity:1,y:0},transition:{duration:Mt?0:.3,ease:"easeOut"},className:k(Mt&&"contents"),children:t.jsxs("div",{className:k("max-md:fixed max-md:left-0 max-md:right-0 max-md:z-[100]","max-md:will-change-transform max-md:backface-hidden"),style:Mt?{bottom:`${Math.max(ge,16)}px`,transition:"bottom 0.1s ease-out"}:void 0,children:[(!oe||F!=="free")&&Mt&&Y.length===0&&t.jsx(Fge,{config:u,showChips:Fe&&!xe&&!Se,taskInput:J.taskInput,onChipClick:Ls}),t.jsx("div",{className:k("md:bg-[#FFFFFF0D]  max-md:rounded-[18px] md:rounded-[18px] max-md:mx-[14px] ","p-[0px]"),style:{background:Mt||S()?"transparent":nt()},children:wr()}),Mt&&t.jsx(Sge,{botSuggestion:h,visible:Fe&&!xe&&!Se,tier:F,onChipClick:Ls})]})}),Y.length===0&&!Mt&&t.jsx("div",{children:F==="free"&&oe?t.jsx(k0e,{showChips:Fe&&!xe,onChipClick:Ls,activeTab:_e,applyGrayscale:S(),botSuggestion:h}):t.jsx(S0e,{config:u,showChips:Fe&&!xe,taskInput:J.taskInput,onChipClick:Ls})}),t.jsx(xa,{children:xe&&!pt.isOpen&&t.jsx(Rn.div,{initial:{opacity:0,height:0,scale:.8},animate:{opacity:1,height:"auto",scale:1},exit:{opacity:0,height:0,scale:.8},transition:{duration:.3,ease:"easeInOut"},children:Sr()})})]})})})]}):t.jsx("div",{className:"flex items-center min-h-[300px] justify-center w-full h-full",children:t.jsx(tn,{className:"w-8 h-8 text-white opacity-25 animate-spin"})})}const Rge=({size:e=28,className:n=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:t.jsx("path",{d:"M9.41282 11.2345V21.2842H6.06614V11.2345H9.41282ZM9.62578 8.13087C9.6326 8.62458 9.46185 9.03707 9.11353 9.36835C8.76521 9.69962 8.30711 9.8653 7.7392 9.8653H7.71875C7.16447 9.8653 6.71828 9.69962 6.38019 9.36835C6.0421 9.03707 5.87305 8.62458 5.87305 8.13087C5.87305 7.63074 6.04721 7.21655 6.39553 6.88829C6.74384 6.56004 7.19855 6.39611 7.75964 6.39649C8.32073 6.39686 8.77032 6.5608 9.10842 6.88829C9.44651 7.21578 9.61897 7.62998 9.62578 8.13087ZM21.4508 15.5239V21.2842H18.1143V15.9095C18.1143 15.1996 17.9774 14.6434 17.7037 14.241C17.43 13.8385 17.0023 13.6373 16.4208 13.6373C15.9949 13.6373 15.6383 13.7539 15.3508 13.9872C15.0635 14.2204 14.8489 14.5094 14.7068 14.8543C14.6327 15.0573 14.5955 15.331 14.5955 15.6755V21.2836H11.2591C11.2727 18.586 11.2795 16.3989 11.2795 14.722C11.2795 13.0451 11.2761 12.0446 11.2693 11.7201L11.2591 11.2333H14.5955V12.6935H14.5751C14.7103 12.4773 14.8489 12.288 14.9908 12.1256C15.1328 11.9631 15.3238 11.7873 15.5638 11.5979C15.8038 11.4087 16.098 11.2615 16.4464 11.1567C16.7947 11.0518 17.1818 10.9994 17.6077 10.9994C18.764 10.9994 19.6936 11.3831 20.3967 12.1505C21.0998 12.918 21.4513 14.042 21.4513 15.5227L21.4508 15.5239Z",fill:"currentColor"})}),Lge=({size:e=28,className:n=""})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[t.jsx("mask",{id:"mask0_x_social",maskUnits:"userSpaceOnUse",x:"6",y:"7",width:"17",height:"15",children:t.jsx("path",{d:"M22.2802 7.24146H6.22852V21.6035H22.2802V7.24146Z",fill:"white"})}),t.jsx("g",{mask:"url(#mask0_x_social)",children:t.jsx("path",{d:"M18.8636 7.24146H21.3133L15.9626 13.3373L22.2802 21.6035H17.3165L13.4485 16.5928L9.0005 21.6035H6.55083L12.2882 15.0928L6.22852 7.24146H11.3212L14.8345 11.8373L18.8636 7.24146ZM17.9933 20.1354H19.3471L10.5799 8.61383H9.09719L17.9933 20.1354Z",fill:"currentColor"})})]}),Pge=({size:e=28,className:n=""})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 28 28",fill:"none",className:n,children:[t.jsx("mask",{id:"mask0_youtube",maskUnits:"userSpaceOnUse",x:"4",y:"7",width:"20",height:"14",children:t.jsx("path",{d:"M23.4631 7.21118H4.53906V20.4982H23.4631V7.21118Z",fill:"white"})}),t.jsxs("g",{mask:"url(#mask0_youtube)",children:[t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.5982 9.67754L21.5985 9.6785C21.7502 10.2462 21.8453 11.2415 21.895 12.2039C21.9186 12.6623 21.9305 13.078 21.9365 13.379C21.9395 13.5293 21.9409 13.6502 21.9416 13.7325C21.942 13.7737 21.9422 13.8053 21.9423 13.8261L21.9424 13.849V13.854V13.8605L21.9423 13.8833C21.9422 13.9041 21.942 13.9357 21.9416 13.9769C21.9409 14.0593 21.9395 14.1801 21.9365 14.3304C21.9305 14.6314 21.9186 15.0471 21.895 15.5055C21.8453 16.4679 21.7502 17.4632 21.5985 18.0311C21.5205 18.3238 21.2879 18.5559 21.0006 18.6329C20.7901 18.6894 20.2799 18.7576 19.5058 18.8143C18.7746 18.8678 17.9209 18.9042 17.0991 18.9286C16.2797 18.9531 15.504 18.9653 14.9325 18.9714C14.6469 18.9745 14.4131 18.976 14.2511 18.9768C14.1701 18.9772 14.107 18.9774 14.0645 18.9775H13.9376C13.8951 18.9774 13.8321 18.9772 13.751 18.9768C13.589 18.976 13.3552 18.9745 13.0697 18.9714C12.4981 18.9653 11.7224 18.9531 10.9031 18.9286C10.0812 18.9042 9.22757 18.8678 8.49636 18.8143C7.7223 18.7576 7.21272 18.6897 7.00223 18.6331C6.71493 18.556 6.48189 18.3246 6.40392 18.032C6.25224 17.4641 6.15685 16.4679 6.10716 15.5056C6.08348 15.0471 6.07158 14.6314 6.06563 14.3304C6.06267 14.1801 6.06119 14.0593 6.06047 13.9769C6.0601 13.9357 6.05993 13.9041 6.05983 13.8833L6.05976 13.8605L6.05975 13.8554L6.05976 13.849L6.05983 13.8261C6.05993 13.8053 6.0601 13.7737 6.06047 13.7325C6.06119 13.6502 6.06267 13.5293 6.06563 13.379C6.07158 13.078 6.08348 12.6623 6.10716 12.2039C6.15685 11.2415 6.252 10.2462 6.40367 9.6785L6.40393 9.67754C6.48192 9.38478 6.71423 9.15366 7.00134 9.07669L7.00231 9.07643C7.21277 9.01986 7.72232 8.95181 8.49639 8.89517C9.22759 8.84166 10.0812 8.80527 10.9031 8.78077C11.7224 8.75636 12.4981 8.74411 13.0697 8.73798C13.3552 8.73492 13.589 8.73339 13.751 8.73262C13.8321 8.73225 13.8951 8.73205 13.9376 8.73196H14.0645C14.107 8.73205 14.1701 8.73225 14.2511 8.73262C14.4131 8.73339 14.6469 8.73492 14.9325 8.73798C15.504 8.74411 16.2797 8.75636 17.0991 8.78077C17.9209 8.80527 18.7745 8.84166 19.5057 8.89517C20.2798 8.95181 20.7894 9.01986 20.9998 9.07643L21.0008 9.0767C21.2879 9.15365 21.5202 9.38471 21.5982 9.67754ZM14.0011 7.21118C14.0011 7.21118 8.08337 7.21118 6.60758 7.60786C5.79338 7.82614 5.15211 8.46927 4.9345 9.286C4.53906 10.7663 4.53906 13.8548 4.53906 13.8548C4.53906 13.8548 4.53906 16.9432 4.9345 18.4235C5.15211 19.2401 5.79338 19.8832 6.60758 20.1016C8.08337 20.4983 14.0011 20.4983 14.0011 20.4983C14.0011 20.4983 19.9188 20.4983 21.3946 20.1016C22.2088 19.8832 22.85 19.2401 23.0676 18.4235C23.4631 16.9432 23.4631 13.8548 23.4631 13.8548C23.4631 13.8548 23.4631 10.7663 23.0676 9.286C22.85 8.46927 22.2088 7.82614 21.3946 7.60786C19.9188 7.21118 14.0011 7.21118 14.0011 7.21118Z",fill:"currentColor"}),t.jsx("path",{d:"M12.0664 16.6548L17.0125 13.8509L12.0664 11.0466V16.6548Z",fill:"currentColor"})]})]}),Oge=({size:e=28,className:n=""})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 28 28",fill:"none",className:n,children:t.jsx("path",{d:"M14.005 5.55176C11.7092 5.55176 11.4211 5.56179 10.5194 5.60279C9.61939 5.64397 9.0051 5.78635 8.46759 5.99525C7.9116 6.21099 7.43996 6.49961 6.97009 6.96931C6.49987 7.43884 6.21103 7.91012 5.99442 8.46553C5.78483 9.00282 5.64218 9.61682 5.60167 10.5158C5.56134 11.4168 5.55078 11.7049 5.55078 13.999C5.55078 16.2931 5.561 16.5802 5.60185 17.4812C5.64324 18.3805 5.78572 18.9944 5.99458 19.5314C6.21068 20.087 6.49951 20.5583 6.96956 21.0278C7.43927 21.4977 7.91089 21.787 8.46654 22.0028C9.00439 22.2117 9.61886 22.3541 10.5186 22.3952C11.4203 22.4362 11.7083 22.4463 14.0039 22.4463C16.2999 22.4463 16.5872 22.4362 17.4889 22.3952C18.3888 22.3541 19.0039 22.2117 19.5418 22.0027C20.0975 21.787 20.5685 21.4977 21.0382 21.0278C21.5084 20.5583 21.7972 20.087 22.0139 19.5316C22.2216 18.9944 22.3643 18.3803 22.4065 17.4814C22.4471 16.5804 22.4576 16.2931 22.4576 13.999C22.4576 11.7049 22.4471 11.417 22.4065 10.516C22.3643 9.61664 22.2216 9.00282 22.0139 8.46571C21.7972 7.91012 21.5084 7.43883 21.0382 6.96931C20.5679 6.49943 20.0977 6.21082 19.5412 5.99524C19.0022 5.78635 18.3877 5.64397 17.4877 5.60279C16.586 5.56179 16.2989 5.55176 14.0024 5.55176H14.005ZM13.2467 7.07402C13.4717 7.07367 13.7229 7.07402 14.005 7.07402C16.2621 7.07402 16.5296 7.08212 17.4209 7.1226C18.2452 7.16026 18.6925 7.29787 18.9904 7.4135C19.385 7.5666 19.6662 7.74962 19.9619 8.04527C20.2578 8.34093 20.4409 8.62251 20.5946 9.01671C20.7102 9.31412 20.8481 9.76112 20.8857 10.5847C20.9261 11.4752 20.935 11.7428 20.935 13.997C20.935 16.2514 20.9261 16.519 20.8857 17.4094C20.8479 18.2331 20.7102 18.68 20.5946 18.9775C20.4413 19.3716 20.2578 19.6524 19.9619 19.9478C19.666 20.2435 19.3851 20.4265 18.9904 20.5796C18.6929 20.6957 18.2452 20.833 17.4209 20.8707C16.5298 20.9111 16.2621 20.9199 14.005 20.9199C11.7477 20.9199 11.4803 20.9111 10.5891 20.8707C9.76483 20.8326 9.31753 20.695 9.01936 20.5795C8.62486 20.4263 8.34308 20.2433 8.04721 19.9476C7.75134 19.652 7.56818 19.3711 7.41461 18.9767C7.2989 18.6793 7.16099 18.2323 7.12349 17.4087C7.08298 16.5182 7.07488 16.2508 7.07488 13.9949C7.07488 11.7392 7.08298 11.4731 7.12349 10.5826C7.16118 9.759 7.2989 9.31201 7.41461 9.01425C7.56782 8.62005 7.75134 8.33847 8.04721 8.04282C8.34308 7.74716 8.62486 7.56414 9.01936 7.41069C9.31735 7.29453 9.76483 7.15727 10.5891 7.11942C11.3689 7.08423 11.6711 7.07367 13.2467 7.07191V7.07402ZM18.5174 8.47662C17.9573 8.47662 17.503 8.93013 17.503 9.48993C17.503 10.0495 17.9573 10.5036 18.5174 10.5036C19.0774 10.5036 19.5318 10.0495 19.5318 9.48993C19.5318 8.93031 19.0774 8.47662 18.5174 8.47662ZM14.005 9.661C11.6075 9.661 9.66374 11.6033 9.66374 13.999C9.66374 16.3947 11.6075 18.3362 14.005 18.3362C16.4025 18.3362 18.3456 16.3947 18.3456 13.999C18.3456 11.6033 16.4025 9.661 14.005 9.661ZM14.005 11.1832C15.5611 11.1832 16.8229 12.4438 16.8229 13.999C16.8229 15.554 15.5611 16.8147 14.005 16.8147C12.4487 16.8147 11.1871 15.554 11.1871 13.999C11.1871 12.4438 12.4487 11.1832 14.005 11.1832Z",fill:"currentColor"})}),Bge=({size:e=18,color:n="#FFFFFF66",className:s=""})=>t.jsx("div",{className:`w-[${e}px] h-[${e}px] rounded-full border border-white/40 flex items-center justify-center ${s}`,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 18 18",fill:"none",children:t.jsx("path",{d:"M7.66332 11.9413H10.5433C10.7473 11.9413 10.9183 11.8723 11.0563 11.7343C11.1943 11.5963 11.2633 11.4253 11.2633 11.2213V9.78133H9.82332V10.5013H8.38332V7.62133H9.82332V8.34133H11.2633V6.90133C11.2633 6.69733 11.1943 6.52633 11.0563 6.38833C10.9183 6.25033 10.7473 6.18133 10.5433 6.18133H7.66332C7.45932 6.18133 7.28832 6.25033 7.15032 6.38833C7.01232 6.52633 6.94332 6.69733 6.94332 6.90133V11.2213C6.94332 11.4253 7.01232 11.5963 7.15032 11.7343C7.28832 11.8723 7.45932 11.9413 7.66332 11.9413ZM9.10332 16.2613C8.10732 16.2613 7.17132 16.0723 6.29532 15.6943C5.41932 15.3163 4.65732 14.8033 4.00932 14.1553C3.36132 13.5073 2.84832 12.7453 2.47032 11.8693C2.09232 10.9933 1.90332 10.0573 1.90332 9.06133C1.90332 8.06533 2.09232 7.12933 2.47032 6.25333C2.84832 5.37733 3.36132 4.61533 4.00932 3.96733C4.65732 3.31933 5.41932 2.80633 6.29532 2.42833C7.17132 2.05033 8.10732 1.86133 9.10332 1.86133C10.0993 1.86133 11.0353 2.05033 11.9113 2.42833C12.7873 2.80633 13.5493 3.31933 14.1973 3.96733C14.8453 4.61533 15.3583 5.37733 15.7363 6.25333C16.1143 7.12933 16.3033 8.06533 16.3033 9.06133C16.3033 10.0573 16.1143 10.9933 15.7363 11.8693C15.3583 12.7453 14.8453 13.5073 14.1973 14.1553C13.5493 14.8033 12.7873 15.3163 11.9113 15.6943C11.0353 16.0723 10.0993 16.2613 9.10332 16.2613ZM9.10332 14.8213C10.7113 14.8213 12.0733 14.2633 13.1893 13.1473C14.3053 12.0313 14.8633 10.6693 14.8633 9.06133C14.8633 7.45333 14.3053 6.09133 13.1893 4.97533C12.0733 3.85933 10.7113 3.30133 9.10332 3.30133C7.49532 3.30133 6.13332 3.85933 5.01732 4.97533C3.90132 6.09133 3.34332 7.45333 3.34332 9.06133C3.34332 10.6693 3.90132 12.0313 5.01732 13.1473C6.13332 14.2633 7.49532 14.8213 9.10332 14.8213Z",fill:n})})}),Uge=K.icons.emergentLogoNew,y6="text-white opacity-50 font-inter text-[15px] font-medium leading-[24px] hover:opacity-100 transition-colors duration-200",Hge=()=>{const{t:e}=en("common"),n=Hr(),{user:s,session:r}=os(),i=Mi(),a=!!(s&&r),o=i.pathname===bu,l=[{titleKey:"footer.product",links:[{labelKey:"footer.build",href:"https://emergent.sh/build",isExternal:!0},{labelKey:"footer.pricing",onClick:()=>n.open({})},{labelKey:"footer.integrations",href:"https://emergent.sh/integrations",isExternal:!0}]},{titleKey:"footer.solutions",links:[{labelKey:"footer.enterprise",href:"https://emergent.sh/enterprise",isExternal:!0},{labelKey:"footer.smbOwners",href:"https://emergent.sh/solutions/smb-owners",isExternal:!0},{labelKey:"footer.itAgencies",href:"https://emergent.sh/solutions/it-agencies",isExternal:!0},{labelKey:"footer.productManagers",href:"https://emergent.sh/solutions/product-managers",isExternal:!0},{labelKey:"footer.operationsTeam",href:"https://emergent.sh/solutions/operations-team",isExternal:!0}]},{titleKey:"footer.resources",links:[{labelKey:"footer.docs",href:"https://help.emergent.sh/",isExternal:!0},{labelKey:"footer.tutorials",href:"https://emergent.sh/tutorial",isExternal:!0},{labelKey:"footer.caseStudies",href:"https://emergent.sh/case-studies",isExternal:!0},{labelKey:"footer.blog",href:"https://emergent.sh/learn",isExternal:!0}]},{titleKey:"footer.company",links:[{labelKey:"footer.affiliates",href:"https://emergent.sh/affiliates",isExternal:!0},{labelKey:"footer.careers",href:"https://emergent.sh/careers",isExternal:!0},{labelKey:"footer.termsOfService",href:"/terms-of-service",isExternal:!0},{labelKey:"footer.privacyPolicy",href:"/privacy-policy",isExternal:!0}]}],c=[{href:"https://www.linkedin.com/company/emergentlabs",icon:t.jsx(Rge,{}),label:"LinkedIn"},{href:"https://x.com/emergentlabs",icon:t.jsx(Lge,{}),label:"X"},{href:"https://www.youtube.com/@emergentlabs",icon:t.jsx(Pge,{}),label:"YouTube"},{href:"https://www.instagram.com/emergentlabs",icon:t.jsx(Oge,{}),label:"Instagram"}],u=(p,f)=>{if(p.onClick){if(p.labelKey==="footer.pricing"&&!o){const m=e(a?"footer.pricingTooltipAuth":"footer.pricingTooltipUnauth");return t.jsx("li",{children:t.jsx(Rp,{delayDuration:0,children:t.jsxs(ri,{children:[t.jsx(ii,{asChild:!0,children:t.jsx("button",{className:`${y6} cursor-not-allowed opacity-30`,disabled:!0,children:e(p.labelKey)})}),t.jsx($a,{children:t.jsxs(qr,{className:"bg-[#1A1A1A] text-[#DDDDE6] text-sm px-3 py-2 rounded-lg shadow-lg z-[9999]",sideOffset:5,children:[m,t.jsx(na,{className:"fill-[#1A1A1A]"})]})})]})})},f)}return t.jsx("li",{children:t.jsx("button",{onClick:p.onClick,className:y6,children:e(p.labelKey)})},f)}return t.jsx("li",{children:t.jsx("a",{href:p.href,target:p.isExternal?"_blank":void 0,rel:p.isExternal?"noopener noreferrer":void 0,className:y6,children:e(p.labelKey)})},f)};return t.jsxs("footer",{className:"flex max-md:hidden min-h-[200px] flex-col w-full max-lg:pt-10 lg:pt-[120px] pb-6 max-lg:px-6 lg:px-20 max-lg:pb-20",children:[t.jsxs("div",{className:"flex justify-between lg:border-b max-lg:flex-col-reverse lg:border-[rgba(255,255,255,0.08)] lg:py-20",children:[t.jsxs("div",{className:"max-w-[470px] max-lg:mt-20",children:[t.jsx("img",{src:Uge,alt:"Emergent Logo",className:"h-8"}),t.jsx("p",{className:"max-lg:mt-4 lg:mt-6 text-white opacity-50 font-inter text-[15px] font-medium leading-[24px] whitespace-pre-line",children:e("footer.tagline")})]}),t.jsx("div",{className:"flex flex-wrap gap-y-10 max-lg:gap-x-20 lg:gap-x-16",children:l.map((p,f)=>t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-brockmann text-[16] font-medium leading-6 mb-2",children:e(p.titleKey)}),t.jsx("ul",{className:"space-y-2",children:p.links.map((m,h)=>u(m,h))})]},f))})]}),t.jsxs("div",{className:"relative flex flex-col justify-center w-full mx-auto max-lg:pt-10 lg:pt-6 lg:flex-row",children:[t.jsxs("div",{className:"flex flex-col max-lg:flex-col-reverse",children:[t.jsxs("div",{className:"flex gap-2 max-lg:mt-10 lg:absolute lg:left-0",children:[t.jsx("p",{className:"text-white/40 font-ndot text-center text-[12px] font-normal leading-5 tracking-[1.2px] uppercase",children:e("footer.copyright")}),t.jsx(Bge,{}),t.jsx("p",{className:"text-white/40 font-ndot text-center text-[12px] font-normal leading-5 tracking-[1.2px] uppercase",children:e("footer.companyName")})]}),t.jsx("div",{className:"text-center max-lg:ml-0 lg:mx-auto",children:t.jsxs("div",{className:"text-white/40 font-ndot text-left lg:text-center text-[12px] font-normal leading-5 tracking-[1.2px] uppercase",children:[e("footer.designedBy"),t.jsx("br",{}),e("footer.awesomePeople")," ",t.jsx("span",{className:"text-white",children:""})]})})]}),t.jsx("div",{className:"flex gap-4 max-lg:mx-auto max-lg:mb-5 max-lg:hidden lg:absolute lg:right-0",children:c.map((p,f)=>t.jsx("a",{href:p.href,target:"_blank",rel:"noopener noreferrer",className:"object-contain cursor-pointer w-7 h-7 text-white/40 hover:text-white transition-colors duration-200","aria-label":p.label,children:p.icon},f))})]})]})},Vge=()=>{const{t:e}=en("common"),{user:n,session:s}=os(),[r,i]=d.useState(!1),[a,o]=d.useState("login"),l=()=>{window.requestAnimationFrame(()=>{const u=document.getElementById("mainTaskInput");u&&(u.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{u.focus()},500))})},c=u=>{u.preventDefault(),n&&s?(H(uF.KEEP_BUILDING_CLICKED,{section:"download_section",isLoggedIn:!0}),l()):(H(uF.GET_STARTED_CLICKED,{section:"download_section",isLoggedIn:!1}),i(!0))};return t.jsxs("div",{className:"relative mb-14",children:[t.jsx(NH,{enableWelcomeModal:!0,open:r,onOpenChange:i,defaultView:"login",openView:a,onSuccess:()=>{o("login"),i(!1)}}),t.jsxs("section",{className:"hidden md:block overflow-hidden md:py-20 pb-[15rem] md:pb-[20rem] mt-[10rem] relative",children:[t.jsx(eC,{height:"70%",top:"30%",gridSizeX:50,gridSizeY:30,gridLineWidth:.3,gridOpacity:.6}),t.jsx("div",{className:"relative z-20 flex flex-col items-center justify-center w-full h-full",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("div",{className:"flex flex-col items-center md:gap-4",children:[t.jsx("h2",{"data-testid":Nr.downloadSection.title,className:"text-[40px] md:text-[80px] md:leading-[80px] font-medium text-white",children:e("downloadSection.startBuilding")}),t.jsx("h2",{className:"text-[#00FF66] font-ndot text-[34px]  md:text-[72px] md:leading-[72px] uppercase",children:e("downloadSection.emergentToday")})]}),t.jsx("button",{"data-testid":Nr.downloadSection.getStartedButton,onClick:c,className:"relative flex items-center gap-3 py-4 text-base font-semibold leading-6 tracking-wide text-black transition-colors bg-white rounded-full mt-14 px-14 hover:bg-gray-100 get-started-button before:absolute before:inset-0 before:-m-1 before:rounded-full before:border before:border-[#FFFFFF26] before:-z-10",children:e(n&&s?"downloadSection.keepBuilding":"downloadSection.getStarted")})]})})]}),t.jsx(Hge,{})]})},XH=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:k("w-full caption-bottom text-sm",e),...n})}));XH.displayName="Table";const QH=d.forwardRef(({className:e,...n},s)=>t.jsx("thead",{ref:s,className:k("[&_tr]:border-b",e),...n}));QH.displayName="TableHeader";const eV=d.forwardRef(({className:e,...n},s)=>t.jsx("tbody",{ref:s,className:k("[&_tr:last-child]:border-0",e),...n}));eV.displayName="TableBody";const $ge=d.forwardRef(({className:e,...n},s)=>t.jsx("tfoot",{ref:s,className:k("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...n}));$ge.displayName="TableFooter";const y1=d.forwardRef(({className:e,...n},s)=>t.jsx("tr",{ref:s,className:k("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...n}));y1.displayName="TableRow";const t8=d.forwardRef(({className:e,...n},s)=>t.jsx("th",{ref:s,className:k("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...n}));t8.displayName="TableHead";const To=d.forwardRef(({className:e,...n},s)=>t.jsx("td",{ref:s,className:k("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...n}));To.displayName="TableCell";const zge=d.forwardRef(({className:e,...n},s)=>t.jsx("caption",{ref:s,className:k("mt-4 text-sm text-muted-foreground",e),...n}));zge.displayName="TableCaption";const Sp=({className:e="",width:n=16,height:s=16,color:r="#80FFF9",opacity:i=1,backgroundColor:a,onClick:o})=>t.jsxs("svg",{width:n,height:s,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,style:{opacity:i},onClick:o,role:o?"button":void 0,tabIndex:o?0:void 0,children:[a&&t.jsx("rect",{width:"16",height:"16",fill:a}),t.jsx("path",{d:"M7 16V8.4L2 3.4V6H0V0H6V2H3.4L9 7.6V16H7ZM10.85 6.6L9.4 5.15L12.6 2H10V0H16V6H14V3.4L10.85 6.6Z",fill:r})]}),Wge=({size:e=16,color:n="white",opacity:s=1,className:r="",onClick:i,...a})=>{const o=e/4;return t.jsx("svg",{width:e,height:o,viewBox:"0 0 16 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,onClick:i,style:{cursor:"pointer"},...a,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.55556 2.00043C3.55556 2.47193 3.36825 2.92411 3.03486 3.25751C2.70146 3.59091 2.24927 3.77821 1.77778 3.77821C1.30628 3.77821 0.854097 3.59091 0.520699 3.25751C0.187301 2.92411 0 2.47193 0 2.00043C0 1.52894 0.187301 1.07675 0.520699 0.743356C0.854097 0.409958 1.30628 0.222656 1.77778 0.222656C2.24927 0.222656 2.70146 0.409958 3.03486 0.743356C3.36825 1.07675 3.55556 1.52894 3.55556 2.00043ZM8 0.222656C8.4715 0.222656 8.92368 0.409958 9.25708 0.743356C9.59048 1.07675 9.77778 1.52894 9.77778 2.00043C9.77778 2.47193 9.59048 2.92411 9.25708 3.25751C8.92368 3.59091 8.4715 3.77821 8 3.77821C7.5285 3.77821 7.07632 3.59091 6.74292 3.25751C6.40952 2.92411 6.22222 2.47193 6.22222 2.00043C6.22222 1.52894 6.40952 1.07675 6.74292 0.743356C7.07632 0.409958 7.5285 0.222656 8 0.222656ZM14.2222 0.222656C14.6937 0.222656 15.1459 0.409958 15.4793 0.743356C15.8127 1.07675 16 1.52894 16 2.00043C16 2.47193 15.8127 2.92411 15.4793 3.25751C15.1459 3.59091 14.6937 3.77821 14.2222 3.77821C13.7507 3.77821 13.2985 3.59091 12.9651 3.25751C12.6317 2.92411 12.4444 2.47193 12.4444 2.00043C12.4444 1.52894 12.6317 1.07675 12.9651 0.743356C13.2985 0.409958 13.7507 0.222656 14.2222 0.222656Z",fill:n,fillOpacity:s})})},K1=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:k("rounded-2xl border bg-card text-card-foreground shadow-sm",e),...n}));K1.displayName="Card";const Y2=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:k("flex flex-col space-y-1.5 p-6",e),...n}));Y2.displayName="CardHeader";const tV=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:k("text-2xl font-semibold leading-none tracking-tight",e),...n}));tV.displayName="CardTitle";const nV=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:k("text-sm text-muted-foreground",e),...n}));nV.displayName="CardDescription";const n8=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:k("p-6 pt-0",e),...n}));n8.displayName="CardContent";const Gge=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:k("flex items-center p-6 pt-0",e),...n}));Gge.displayName="CardFooter";function Qc({color:e="#2EE572",size:n=16,innerSize:s=8,animate:r=!1,className:i}){const a=`${e}20`;return t.jsxs("div",{className:k("rounded-full flex items-center justify-center",r&&"relative",i),style:{width:`${n}px`,height:`${n}px`,backgroundColor:a},children:[t.jsx("div",{className:k("rounded-full",r&&"animate-pulse"),style:{width:`${s}px`,height:`${s}px`,backgroundColor:e}}),r&&t.jsx("div",{className:"absolute inset-0 rounded-full opacity-75 animate-ping",style:{backgroundColor:a}})]})}const qge=K.common.captivePortal,Kge=K.icons.animatedSpinner,Yge=K.deployment.replace,Zge=K.deployment.timeGreyDeployed,Jge=K.deployment.goBack,Xge=(e,n)=>e==="running"?{bgColor:"#1588FC20",color:"#33DDFF",text:n?n("deployedApps.card.status.deploying"):"Deploying",animate:!0}:e==="success"?{bgColor:"#2EE57220",color:"#2EE572",text:n?n("deployedApps.card.status.live"):"Live",animate:!0}:e==="failed"?{bgColor:"#ffffff10",color:"#ED5B5B",text:n?n("deployedApps.card.status.failed"):"Failed",animate:!1}:{bgColor:"#73778020",color:"#737780",text:n?n("deployedApps.card.status.unknown"):"Unknown",animate:!1},sV=(e,n)=>{const r=Math.floor((new Date().getTime()-e.getTime())/1e3);if(r<60)return n?n(r!==1?"deployedApps.card.time.secsAgo_plural":"deployedApps.card.time.secsAgo",{count:r}):`${r} sec${r!==1?"s":""} ago`;const i=Math.floor(r/60);if(i<60)return n?n(i!==1?"deployedApps.card.time.minsAgo_plural":"deployedApps.card.time.minsAgo",{count:i}):`${i} min${i!==1?"s":""} ago`;const a=Math.floor(i/60);if(a<24)return n?n(a!==1?"deployedApps.card.time.hrsAgo_plural":"deployedApps.card.time.hrsAgo",{count:a}):`${a} hr${a!==1?"s":""} ago`;const o=Math.floor(a/24);if(o<30)return n?n(o!==1?"deployedApps.card.time.daysAgo_plural":"deployedApps.card.time.daysAgo",{count:o}):`${o} day${o!==1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return n?n(l!==1?"deployedApps.card.time.monthsAgo_plural":"deployedApps.card.time.monthsAgo",{count:l}):`${l} month${l!==1?"s":""} ago`;const c=Math.floor(l/12);return n?n(c!==1?"deployedApps.card.time.yearsAgo_plural":"deployedApps.card.time.yearsAgo",{count:c}):`${c} year${c!==1?"s":""} ago`};function rV({status:e,deployment:n,deployUrl:s}){if(e==="running")return"";if(n.template_name?.includes("expo"))return`${window.location.origin}/share?app=${encodeURIComponent(n.app_name)}`;const i=n?.custom_domain;return i&&i!==""&&i.trim()!==""?i.includes("http")?i:`https://${i}`:s||""}function iV({deployment:e,index:n,hoveredCard:s,onHoverStart:r,onHoverEnd:i,onClick:a,fromRedeployModal:o=!1,onReplaceClick:l,allowHover:c=!0}){const{t:u}=en("home"),p=e.deployStatus,f=Xge(p,u),m=e.deployUrl,h=e.id.substring(0,6),x=e.latest_run.updated_at?u("deployedApps.card.time.deployed",{time:sV(new Date(e.latest_run.updated_at),u)}):u("deployedApps.card.time.unknown");return t.jsx(fe.div,{"data-testid":`deployed-app-card-${e.id}`,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},whileHover:c?{y:-4,boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.2)",transition:{type:"tween",ease:"easeInOut",duration:.3}}:{},transition:{type:"tween",ease:"easeInOut",duration:.2,delay:n*.1},onHoverStart:()=>r(e.id),onHoverEnd:i,onClick:()=>{o&&H(dr.REPLACE_MODAL_VIEW_TASK_CLICKED,{deploymentId:e.id,appName:e.app_name}),a(e)},children:t.jsxs("div",{className:k("rounded-[16px] overflow-clip bg-[#2626291A] border h-full flex flex-col justify-between cursor-pointer transition-all duration-200",s===e.id?"border-[#FFFFFF20] shadow-lg":"border-[#FFFFFF0F]",o?"bg-[#161617]":"cursor-pointer "),children:[t.jsxs("div",{className:"px-4 py-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:k("text-[12px] md:text-[14px] font-['Inter'] font-medium transition-colors duration-200",s===e.id?"text-[#ffffff80]":"text-[#ffffff50]"),children:["# EMT-",h]}),t.jsxs("div",{className:k("flex items-center gap-[6px] px-[10px] py-[6px] rounded-[8px] transition-all duration-200"),style:{backgroundColor:s===e.id?f.bgColor.replace("20","30"):f.bgColor},children:[p!="running"&&t.jsx(Qc,{color:p!="failed"?f.color:"#ffffff60",size:16,innerSize:8,animate:f.animate}),p==="running"&&t.jsx("img",{src:Kge,alt:u("deployedApps.card.alt.loading"),className:"w-6 h-6"}),t.jsx("span",{className:k("text-[15px] font-medium transition-colors duration-200"),style:{color:p!="failed"?f.color:"#ffffff60",opacity:s===e.id?1:.9},children:f.text})]})]}),t.jsx("div",{className:k("mt-5 text-[20px]  md:text-[24px] font-medium font-brockmann transition-colors duration-200 capitalize line-clamp-1",s===e.id?"text-white/95":"text-white/80"),children:e.title||u("deployedApps.untitled")}),t.jsx("div",{className:k("mt-2 text-[14px] md:text-[16px]  font-['Inter'] font-medium transition-colors duration-200 truncate line-clamp-2",s===e.id?"text-white/40":"text-white/20"),children:e.description||u("deployedApps.noTaskAvailable")}),t.jsxs("div",{className:"flex gap-4",children:[p!="failed"&&t.jsxs("a",{href:rV({status:p,deployment:e,deployUrl:m}),target:"_blank",rel:"noopener noreferrer",className:k("flex mt-5 w-full items-center justify-center gap-2 px-4 py-2 md:min-h-[44px] rounded-[10px] transition-all duration-200",s===e.id&&p!=="running"?"bg-[#FFFFFF15]":"bg-[#FFFFFF0F]",s===e.id&&p!=="running"?"hover:bg-[#ffffff20]":"hover:bg-[#3A3A3C]",p==="running"&&"opacity-30 cursor-not-allowed hover:bg-[#FFFFFF0F]"),onClick:g=>{g.stopPropagation(),o&&H(dr.REPLACE_MODAL_VISIT_CLICKED,{deploymentId:e.id,appName:e.app_name})},children:[t.jsx("span",{className:k("transition-colors duration-200",s===e.id?"text-white/90":"text-white/70"),children:u("deployedApps.card.visit")}),t.jsx("img",{src:qge,alt:u("deployedApps.card.alt.visit"),className:"w-4 h-4"})]}),o&&t.jsxs("div",{className:k("flex mt-5 w-full items-center justify-center gap-2 px-4 py-2 rounded-[10px] md:min-h-[44px] cursor-pointer transition-all duration-200 bg-[#80FFF914] hover:bg-[#80FFF920]",e.deployStatus==="running"?"opacity-30 cursor-not-allowed":"opacity-100 cursor-pointer"),onClick:g=>{g.stopPropagation(),l&&e.deployStatus!=="running"&&(H(dr.REPLACE_MODAL_REPLACE_CLICKED,{deploymentId:e.id,appName:e.app_name}),l(e))},children:[t.jsx("span",{className:k("transition-colors duration-200",(s===e.id,"text-[#80FFF9]")),children:u("deployedApps.card.replace")}),t.jsx("img",{src:Yge,alt:u("deployedApps.card.replace"),className:"w-6 h-6"})]})]})]}),p!="failed"&&t.jsxs("div",{className:k("flex items-center px-4 justify-between py-3 bg-[#FFFFFF05] min-h-[44px] text-[14px] transition-colors duration-200",s===e.id?"text-[#FFFFFF80]":"text-[#FFFFFF33]"),children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:Zge,alt:u("deployedApps.card.alt.deployTime"),className:k("w-5 h-5 opacity-20 ",s===e.id?"opacity-30":"opacity-20")}),t.jsx("span",{className:"text-[12px] md:text-[14px]",children:x})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:k("text-[12px] md:text-[14px]",s===e.id?"text-[#FFFFFF80] block":" hidden"),children:u("deployedApps.card.viewTask")}),t.jsx("img",{src:Jge,alt:u("deployedApps.card.viewTask"),className:"w-4 h-4 rotate-180"})]})]})]})},e.id)}const Qge=K.common.copperCoin,e2e=K.common.webImage;function aV({handleJobClick:e,organizationId:n}){const{t:s}=en("home"),[r,i]=d.useState(null),[a,o]=d.useState([]),[l,c]=d.useState(!0),[u]=Df(),p=d.useRef(!1),f=d.useCallback(async()=>{try{c(!0);const x=await vt.getDeployments(n);if("error"in x)o([]);else{const v=x.map(b=>({id:b.job_id,app_name:b.app_name||"",deployStatus:b.status,deployUrl:b.deployed_url||"",custom_domain:b.custom_domain||"",latest_run:{status:b.status,updated_at:b.deployed_at||null},description:b.task||"",deployment_id:b.deployment_id,title:b.title||"",template_name:b.template_name})).sort((b,y)=>{const w=new Date(b.latest_run.updated_at).getTime();return new Date(y.latest_run.updated_at).getTime()-w});o(v)}}catch{o([])}finally{c(!1)}},[n]);d.useEffect(()=>{f()},[f]);const m=async x=>{if(!p.current){p.current=!0;try{const g=await u(x.id);if("error"in g)return;const v=g.data;H(fse.DEPLOYED_APP_CLICKED,{jobId:v?.id,appName:x.app_name}),v&&e(v)}catch{}finally{p.current=!1}}},h=Array(6-Math.min(a.length,6)).fill(null);return l?t.jsx("div",{className:"flex flex-col mt-2 mb-8 space-y-5 min-h-[546px] bg-[#0F0F10] md:border-[#252629] md:border md:p-6 rounded-[16px]",children:t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:Array(6).fill(null).map((x,g)=>t.jsxs(K1,{className:"bg-[#111112] border-[#FFFFFF0F] h-[300px] animate-pulse",children:[t.jsx(Y2,{className:"p-5",children:t.jsx("div",{className:"h-4 w-24 bg-[#FFFFFF14] rounded"})}),t.jsxs(n8,{className:"p-5 pt-0",children:[t.jsx("div",{className:"h-4 w-full bg-[#FFFFFF14] rounded mb-4"}),t.jsx("div",{className:"h-4 w-3/4 bg-[#FFFFFF14] rounded"})]})]},`loading-${g}`))})}):t.jsx("div",{className:"flex flex-col relative mt-2 mb-8 space-y-5 md:max-h-[650px] overflow-y-scroll min-h-[546px] bg-[#0F0F10] md:border-[#252629] md:border md:p-6 rounded-[16px]",children:a.length===0?t.jsxs("div",{className:"md:flex flex-col space-y-5 md:border-[#252629] md:border rounded-[16px]",children:[t.jsx("div",{className:"hidden grid-cols-1 gap-6 md:grid md:grid-cols-3",children:Array(6).fill(null).map((x,g)=>t.jsxs(K1,{className:"bg-[#111112] border-[#FFFFFF0F] hidden md:h-[300px]",children:[t.jsx(Y2,{className:"p-5",children:t.jsx("div",{className:"h-4 w-24 bg-[#FFFFFF14] rounded"})}),t.jsxs(n8,{className:"p-5 pt-0",children:[t.jsx("div",{className:"h-4 w-full bg-[#FFFFFF14] rounded mb-4"}),t.jsx("div",{className:"h-4 w-3/4 bg-[#FFFFFF14] rounded"})]})]},`empty-grid-${g}`))}),t.jsxs("div",{"data-testid":lo.deployedAppsEmptyState,className:"absolute  rounded-[16px] backdrop-blur-[2px] left-0 right-0 bottom-0 top-0 h-full md:border md:border-[#242424]/60 flex flex-col items-center justify-center text-center",children:[t.jsx("div",{className:"mb-4",children:t.jsx("img",{src:e2e,alt:s("deployedApps.alt.globe"),className:"w-[56px] h-[56px] mx-auto"})}),t.jsx("h3",{className:"mb-2 text-[24px] font-medium text-white/80",children:s("deployedApps.emptyState.title")}),t.jsx("p",{className:"max-w-md text-white/30 font-medium text-[16px]",children:s("deployedApps.emptyState.description")}),t.jsxs("div",{className:"mt-7 bg-[#242119] rounded-[12px] p-[14px] flex items-center gap-2",children:[t.jsx("img",{src:Qge,alt:s("deployedApps.alt.credits"),className:"w-5 h-5"}),t.jsxs("span",{className:"text-[#F3CA5F] text-[15px] font-medium font-['Inter']",children:[t.jsx("span",{className:"text-[#E6D9B8]",children:s("deployedApps.emptyState.deploymentCosts")})," ",s("deployedApps.emptyState.creditsPerMonth")]})]})]})]}):t.jsxs("div",{className:"grid h-full grid-cols-1 gap-6 md:grid-cols-3",children:[a.map((x,g)=>t.jsx(iV,{deployment:x,index:g,hoveredCard:r,onHoverStart:i,onHoverEnd:()=>i(null),onClick:m},x.id)),h.map((x,g)=>t.jsx(K1,{className:"bg-[#101011] hidden md:block border-[#282829] h-[290px] md:border-dotted"},`empty-${g}`))]})})}const Vf=({width:e=16,height:n=16,className:s,fill:r="white",fillOpacity:i=.6})=>t.jsx("svg",{width:e,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M2.3999 13.5999V9.77324L9.27546 2.92879C9.46212 2.74212 9.66953 2.60731 9.89768 2.52435C10.1258 2.44138 10.354 2.3999 10.5821 2.3999C10.831 2.3999 11.0695 2.44657 11.2977 2.5399C11.5258 2.63324 11.7332 2.77324 11.9199 2.9599L13.071 4.11101C13.2369 4.29768 13.3666 4.50509 13.4599 4.73324C13.5532 4.96138 13.5999 5.18953 13.5999 5.41768C13.5999 5.64583 13.5584 5.87916 13.4755 6.11768C13.3925 6.3562 13.2577 6.56879 13.071 6.75546L6.22657 13.5999H2.3999ZM4.26657 11.7332H5.44879L9.21324 7.93768L8.65324 7.34657L8.06212 6.78657L4.26657 10.551V11.7332ZM8.65324 7.34657L8.06212 6.78657L9.21324 7.93768L8.65324 7.34657Z",fill:r,fillOpacity:i})}),oV=({width:e=16,height:n=16,className:s,fill:r="#CCCCCC"})=>t.jsx("svg",{width:e,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.19913 3.2C7.06585 3.1998 6.9363 3.24398 6.83092 3.32557C6.72553 3.40716 6.65031 3.52152 6.61713 3.6506L6.44193 4.3346H9.69453L9.51873 3.6506C9.48557 3.52162 9.41044 3.40734 9.30518 3.32576C9.19991 3.24418 9.0705 3.19993 8.93733 3.2H7.19913ZM10.9335 4.3352L10.6809 3.3518C10.5815 2.96496 10.3562 2.62219 10.0405 2.37745C9.72485 2.13272 9.33675 1.99993 8.93733 2H7.19913C6.79971 1.99993 6.41161 2.13272 6.09595 2.37745C5.78028 2.62219 5.55498 2.96496 5.45553 3.3518L5.20293 4.3352H3.26553C3.1064 4.3352 2.95379 4.39841 2.84126 4.51094C2.72874 4.62346 2.66553 4.77607 2.66553 4.9352C2.66553 5.09433 2.72874 5.24694 2.84126 5.35946C2.95379 5.47199 3.1064 5.5352 3.26553 5.5352H3.32553L4.05453 12.3902C4.10151 12.8324 4.31049 13.2415 4.64118 13.5387C4.97188 13.8359 5.40088 14.0003 5.84553 14H10.2855C10.7301 14.0001 11.1589 13.8357 11.4895 13.5385C11.8201 13.2413 12.029 12.8323 12.0759 12.3902L12.8043 5.5352H12.8655C13.0247 5.5352 13.1773 5.47199 13.2898 5.35946C13.4023 5.24694 13.4655 5.09433 13.4655 4.9352C13.4655 4.77607 13.4023 4.62346 13.2898 4.51094C13.1773 4.39841 13.0247 4.3352 12.8655 4.3352H10.9335ZM11.5983 5.5352H4.53273L5.24793 12.2636C5.26365 12.4111 5.33341 12.5475 5.44376 12.6465C5.55412 12.7456 5.69724 12.8002 5.84553 12.8H10.2855C10.4337 12.8001 10.5767 12.7453 10.6869 12.6463C10.7971 12.5473 10.8668 12.4109 10.8825 12.2636L11.5977 5.5352H11.5983ZM6.86553 6.8C7.02466 6.8 7.17727 6.86321 7.28979 6.97574C7.40231 7.08826 7.46553 7.24087 7.46553 7.4V10.4C7.46553 10.5591 7.40231 10.7117 7.28979 10.8243C7.17727 10.9368 7.02466 11 6.86553 11C6.7064 11 6.55379 10.9368 6.44126 10.8243C6.32874 10.7117 6.26553 10.5591 6.26553 10.4V7.4C6.26553 7.24087 6.32874 7.08826 6.44126 6.97574C6.55379 6.86321 6.7064 6.8 6.86553 6.8ZM9.26553 6.8C9.42466 6.8 9.57727 6.86321 9.68979 6.97574C9.80231 7.08826 9.86553 7.24087 9.86553 7.4V10.4C9.86553 10.5591 9.80231 10.7117 9.68979 10.8243C9.57727 10.9368 9.42466 11 9.26553 11C9.1064 11 8.95379 10.9368 8.84126 10.8243C8.72874 10.7117 8.66553 10.5591 8.66553 10.4V7.4C8.66553 7.24087 8.72874 7.08826 8.84126 6.97574C8.95379 6.86321 9.1064 6.8 9.26553 6.8Z",fill:r})}),lV=({width:e=16,height:n=13,className:s})=>t.jsxs("svg",{width:e,height:n,viewBox:"0 0 16 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M14.4 1.48148H7.2L5.6 0H1.6C0.72 0 0 0.666667 0 1.48148V4.44444H16V2.96296C16 2.14815 15.28 1.48148 14.4 1.48148Z",fill:"#999999"}),t.jsx("path",{d:"M14.4 2.66797H1.6C0.72 2.66797 0 3.29654 0 4.06479V11.0489C0 11.8172 0.72 12.4457 1.6 12.4457H14.4C15.28 12.4457 16 11.8172 16 11.0489V4.06479C16 3.29654 15.28 2.66797 14.4 2.66797Z",fill:"white"})]}),t2e=({width:e=17,height:n=13,className:s})=>t.jsxs("svg",{width:e,height:n,viewBox:"0 0 17 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M1.5814 12.5263C1.14651 12.5263 0.774225 12.373 0.464535 12.0664C0.154845 11.7597 0 11.3911 0 10.9605V1.56579C0 1.1352 0.154845 0.766584 0.464535 0.459951C0.774225 0.153317 1.14651 0 1.5814 0H6.32558L7.90698 1.56579H14.2326C14.6674 1.56579 15.0397 1.71911 15.3494 2.02574C15.6591 2.33237 15.814 2.70099 15.814 3.13158H7.25465L5.67326 1.56579H1.5814V10.9605L3.47907 4.69737H14.5873C15.7883 4.69737 16.6483 5.85694 16.2998 7.0062L14.964 11.4107C14.8585 11.7499 14.6641 12.0207 14.3808 12.2229C14.0975 12.4252 13.7845 12.5263 13.4419 12.5263H1.5814ZM3.24186 10.9605H13.4419L14.8651 6.26316H4.66512L3.24186 10.9605Z",fill:"#999999"}),t.jsx("path",{d:"M15.8431 4.47266H3.99875C3.60455 4.47266 3.25679 4.73065 3.14246 5.10791L1.24454 11.3711C1.07042 11.9457 1.50044 12.5253 2.10082 12.5253H14.2158C14.6232 12.5253 14.9793 12.25 15.0817 11.8556L16.7091 5.5924C16.8563 5.02572 16.4286 4.47266 15.8431 4.47266Z",fill:"white"})]}),n2e=({isOpen:e,onClose:n,onAction:s,position:r,showMoveToProject:i=!0,showDelete:a=!0})=>{const o=d.useRef(null),[l,c]=d.useState(null);if(d.useEffect(()=>{const f=m=>{o.current&&!o.current.contains(m.target)&&n()};if(e)return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[e,n]),!e)return null;const p=[{id:"rename",label:"Rename",icon:t.jsx(Vf,{width:20,height:20})},{id:"moveToProject",label:"Move to project",icon:t.jsx(lV,{width:20,height:16}),hoverIcon:t.jsx(t2e,{width:20,height:16})},{id:"delete",label:"Delete",icon:t.jsx(oV,{width:20,height:20})}].filter(f=>!(f.id==="moveToProject"&&!i||f.id==="delete"&&!a));return t.jsx("div",{className:"fixed inset-0 z-[10001]",style:{backgroundColor:"transparent"},children:t.jsx("div",{"data-testid":er.threeDotMenu,ref:o,className:"shadow-lg p-1.5 flex flex-col top-10 -left-[120px] rounded-xl border bg-[#18181A] border-[#242424] absolute",style:{top:r.top,left:r.left,transform:"translateX(-50%)"},children:p.map(f=>t.jsxs("button",{"data-testid":`menu-item-${f.id}`,onClick:()=>{s(f.id),n()},onMouseEnter:()=>c(f.id),onMouseLeave:()=>c(null),className:"text-left hover:bg-[#2C2C2E] transition-colors flex items-center gap-3 text-sm text-[#FFFFFF] justify-between w-[175px] h-9 rounded-lg py-2 px-1.5",children:[t.jsx("span",{className:"flex-shrink-0 relative w-5 h-4",children:f.hoverIcon?t.jsxs(t.Fragment,{children:[t.jsx(fe.span,{initial:!1,animate:{opacity:l===f.id?0:1},transition:{duration:.2,ease:"easeOut"},className:"absolute inset-0 flex items-center justify-center",children:f.icon}),t.jsx(fe.span,{initial:!1,animate:{opacity:l===f.id?1:0},transition:{duration:.2,ease:"easeOut"},className:"absolute inset-0 flex items-center justify-center",children:f.hoverIcon})]}):f.icon}),t.jsx("span",{className:"flex-1 font-medium",children:f.label}),f.hasExternalIcon&&f.externalIcon]},f.id))})})},cV=({isOpen:e,onClose:n,onSave:s,currentName:r})=>{const[i,a]=d.useState(r),{isMobile:o}=ts(),l=d.useRef(null);d.useEffect(()=>{e&&(a(r),setTimeout(()=>{l.current&&l.current.focus()},100))},[e,r]),d.useEffect(()=>{const f=h=>{h.key==="Escape"&&n()},m=h=>{h.key==="Enter"&&i.trim()&&c()};if(e)return document.addEventListener("keydown",f),document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keydown",m)}},[e,i,n]);const c=()=>{i.trim()&&i!==r&&s(i.trim()),n()},u=()=>{a(r),n()},p=f=>{f.target===f.currentTarget&&u()};return e?o?t.jsx(Bf,{open:e,onOpenChange:f=>!f&&n(),children:t.jsx(a3,{children:t.jsx("div",{className:"mx-auto w-full bg-[#1D1D1E] border border-[#333333] rounded-t-[24px]",children:t.jsxs("div",{className:"px-4 pt-6 pb-8",children:[t.jsx(H2,{className:"px-0 pt-0 pb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(X7,{className:"text-white font-['Brockmann'] font-medium text-[20px] leading-[28px]",children:"Rename task"}),t.jsx(J7,{asChild:!0,children:t.jsx("button",{onClick:u,className:"transition-colors rounded-lg p-1",children:t.jsx(vu,{})})})]})}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{ref:l,type:"text",value:i,onChange:f=>a(f.target.value),className:"font-inter flex w-full h-14 rounded-xl border border-[#313133] p-4 gap-4 bg-[#313133] border-white/20 text-white placeholder:text-gray-500",placeholder:"Enter task name",maxLength:100})}),t.jsxs(V2,{className:"px-0 pb-0 flex-row gap-3 justify-end",children:[t.jsx("button",{onClick:u,className:"flex items-center justify-center h-12 rounded-[28px] bg-[#323233] cursor-pointer hover:bg-[#3a3a3b] transition-colors duration-300 ease-out px-6 py-3",children:t.jsx("span",{className:"font-['Brockmann'] font-medium text-base leading-6 tracking-[0px] text-[#DCDCE5]",children:"Cancel"})}),t.jsx("button",{onClick:c,className:"flex items-center justify-center h-12 rounded-[28px] bg-white text-black cursor-pointer hover:bg-gray-100 transition-colors duration-300 ease-out px-6 py-3",children:t.jsx("span",{className:"font-['Brockmann'] font-semibold text-base leading-6 tracking-[-0.2px] text-[#0E0E0F]",children:"Save"})})]})]})})})}):t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[10001] p-4",onClick:p,children:t.jsxs("div",{"data-testid":er.rename.modal,className:"flex flex-col w-full max-w-[644px] rounded-[20px] p-6 bg-[#262628]",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-white font-['Brockmann'] font-medium text-[23px] leading-[32px] tracking-[0%]",children:"Rename task"}),t.jsx("button",{onClick:u,className:"transition-colors rounded-lg",children:t.jsx(vu,{})})]}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{"data-testid":er.rename.input,ref:l,type:"text",value:i,onChange:f=>a(f.target.value),className:"font-inter flex w-full h-14 rounded-xl border border-[#313133] p-4 gap-4 bg-[#313133] border-white/20",placeholder:"Enter task name",maxLength:100})}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{"data-testid":er.rename.cancelButton,onClick:u,className:"flex items-center justify-center h-12 rounded-[28px] bg-[#323233] cursor-pointer hover:bg-[#3a3a3b] transition-colors duration-300 ease-out px-6 py-3",children:t.jsx("span",{className:"font-['Brockmann'] font-medium text-base leading-6 tracking-[0px] text-[#DCDCE5]",children:"Cancel"})}),t.jsx("button",{"data-testid":er.rename.saveButton,onClick:c,className:"flex items-center justify-center h-12 rounded-[28px] bg-white text-black cursor-pointer hover:bg-gray-100 transition-colors duration-300 ease-out px-6 py-3",children:t.jsx("span",{className:"font-['Brockmann'] font-semibold text-base leading-6 tracking-[-0.2px] text-[#0E0E0F]",children:"Save"})})]})]})}):null},Ak=e=>{switch(e){case"gold":return"text-[#F3CA5F] drop-shadow-[0_0_20px_rgba(243,202,95,0.4)] [text-shadow:0px_0.73px_0.73px_rgba(0,0,0,0.1)]";case"red":return"text-[#CC5252]";case"warning":return"text-[#F59E0B]";default:return"text-white"}},wx=(e,n=!0)=>{const s="rounded-[10px] px-5 py-2.5 gap-1.5 text-[15px] font-medium leading-5 tracking-[-0.2px] font-['Brockmann'] transition-all duration-200";return e==="danger"?`${s} bg-[#CC5252] hover:bg-[#B73E3E] text-white ${n?"font-semibold":"font-medium"}`:e==="warning"?`${s} bg-[#F59E0B] hover:bg-[#D97706] text-white ${n?"font-semibold":"font-medium"}`:e==="secondary"?`${s} bg-white/[0.04] hover:bg-white/[0.08] text-white`:`${s} bg-[#F3CA5F] hover:bg-[#E7A93C] text-black ${n?"font-semibold":"font-medium"}`},s2e=e=>{switch(e){case"sm":return"w-full max-w-[400px] sm:w-[80%] md:w-[35%]";case"lg":return"w-full max-w-[800px] sm:w-[90%] md:w-[60%]";default:return"w-full max-w-[600px] sm:w-[85%] md:w-[45%]"}};function dV({isOpen:e,onClose:n,onConfirm:s,onCancel:r,title:i,description:a,headerContent:o,bodyContent:l,footerContent:c,primaryButton:u,secondaryButton:p,titleColor:f="white",showCloseIcon:m=!0,allowBackdropClose:h=!0,className:x,containerClassName:g,size:v="md",children:b}){const{isMobile:y}=ts();if(!e)return null;const w=N=>{h&&N.target===N.currentTarget&&n()},_=()=>{r?.()||n()};return y?t.jsx(Bf,{open:e,onOpenChange:N=>!N&&n(),children:t.jsx(a3,{children:t.jsx("div",{className:"mx-auto w-full bg-[#1C1C1F] border border-[#333333] rounded-t-[24px]",children:t.jsxs("div",{className:"px-4 pt-6 pb-8",children:[o?t.jsx(H2,{className:"px-0 pt-0 pb-4",children:o}):t.jsx(H2,{className:"px-0 pt-0 pb-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx(X7,{className:`text-xl font-['Brockmann'] font-medium leading-6 ${Ak(f)} flex-1 mr-4`,children:i}),m&&t.jsx(J7,{asChild:!0,children:t.jsx("button",{onClick:n,className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors",children:t.jsx(vu,{width:24,height:24,className:"rounded-full"})})})]})}),l?t.jsx("div",{className:"mb-6",children:l}):b?t.jsx("div",{className:"mb-6",children:b}):a?t.jsx("div",{className:"mb-6",children:t.jsx("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-white opacity-60 break-words",children:a})}):null,c?t.jsx(V2,{className:"px-0 pb-0",children:c}):u||p?t.jsxs(V2,{className:"px-0 pb-0 flex-row gap-3 justify-end",children:[p&&t.jsx("button",{onClick:_,disabled:p.disabled||p.loading,className:`${wx(p.variant||"secondary",!1)} ${p.disabled?"opacity-50 cursor-not-allowed":""} flex-1 sm:flex-none bg-transparent border border-white/20 hover:bg-white/10 transition-colors`,children:p.loading?"Loading...":p.text}),u&&t.jsx("button",{onClick:s,disabled:u.disabled||u.loading,className:`${wx(u.variant||"primary",!0)} ${u.disabled?"opacity-50 cursor-not-allowed":""} flex-1 sm:flex-none bg-[#CC5252] hover:bg-[#CC5252]-600 transition-colors gap-1.5`,children:u.loading?"Loading...":u.text})]}):null]})})})}):t.jsx(as,{open:e,onOpenChange:N=>{N||n()},children:t.jsx(Cr,{children:t.jsx("div",{className:`fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 ${g||""}`,onClick:w,children:t.jsx("div",{"data-testid":er.confirmation.modal,className:`bg-[#1C1C1F] rounded-[20px] ${s2e(v)} relative max-h-[90vh] overflow-y-auto ${x||""}`,children:t.jsxs("div",{className:"flex flex-col p-5 md:p-6",children:[o?t.jsx("div",{className:"mb-5 md:mb-4",children:o}):t.jsxs("div",{className:"flex justify-between items-start mb-5 md:mb-4",children:[t.jsx("h1",{className:`text-xl md:text-2xl font-['Brockmann'] font-medium leading-6 md:leading-8 ${Ak(f)} flex-1 mr-4`,children:i}),m&&t.jsx("button",{onClick:n,className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors",children:t.jsx(vu,{width:24,height:24,className:"rounded-full md:w-8 md:h-8"})})]}),l?t.jsx("div",{className:"mb-[50px] md:mb-14",children:l}):b?t.jsx("div",{className:"mb-[50px] md:mb-14",children:b}):a?t.jsx("div",{className:"mb-[50px] md:mb-14",children:t.jsx("p",{className:"text-sm md:text-base font-['Inter'] font-medium leading-5 md:leading-6 text-white opacity-60 break-words",children:a})}):null,c?t.jsx("div",{className:"mt-auto",children:c}):u||p?t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-end mt-auto",children:[p&&t.jsx("button",{"data-testid":er.confirmation.cancelButton,onClick:_,disabled:p.disabled||p.loading,className:`${wx(p.variant||"secondary",!1)} ${p.disabled?"opacity-50 cursor-not-allowed":""} w-full sm:w-auto bg-transparent border border-white/20 hover:bg-white/10 transition-colors`,children:p.loading?"Loading...":p.text}),u&&t.jsx("button",{"data-testid":er.confirmation.confirmButton,onClick:s,disabled:u.disabled||u.loading,className:`${wx(u.variant||"primary",!0)} ${u.disabled?"opacity-50 cursor-not-allowed":""} w-full sm:w-auto bg-[#CC5252] hover:bg-[#CC5252]-600 transition-colors gap-1.5`,children:u.loading?"Loading...":u.text})]}):null]})})})})})}const $f=e=>{let n=0;for(let s=0;s<e.length;s++){const r=e.charCodeAt(s);n=(n<<5)-n+r,n=n&n}return Math.abs(n)},uV=(e,n)=>Math.floor(e/Math.pow(10,n)%10),s8=(e,n)=>!(uV(e,n)%2),la=(e,n,s)=>{const r=e%n;return s&&uV(e,s)%2===0?-r:r},wu=(e,n,s)=>n[e%s],r2e=e=>{e.slice(0,1)==="#"&&(e=e.slice(1));const n=parseInt(e.substr(0,2),16),s=parseInt(e.substr(2,2),16),r=parseInt(e.substr(4,2),16);return(n*299+s*587+r*114)/1e3>=128?"#000000":"#FFFFFF"},i2e=4,Tr=80;function a2e(e,n){const s=$f(e),r=n&&n.length;return Array.from({length:i2e},(i,a)=>({color:wu(s+a,n,r),translateX:la(s*(a+1),Tr/2-(a+17),1),translateY:la(s*(a+1),Tr/2-(a+17),2),rotate:la(s*(a+1),360),isSquare:s8(s,2)}))}const Dk=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=a2e(e,n),l=d.useId();return t.jsxs("svg",{viewBox:"0 0 "+Tr+" "+Tr,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:l,maskUnits:"userSpaceOnUse",x:0,y:0,width:Tr,height:Tr,children:t.jsx("rect",{width:Tr,height:Tr,rx:r?void 0:Tr*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${l})`,children:[t.jsx("rect",{width:Tr,height:Tr,fill:o[0].color}),t.jsx("rect",{x:(Tr-60)/2,y:(Tr-20)/2,width:Tr,height:o[1].isSquare?Tr:Tr/8,fill:o[1].color,transform:"translate("+o[1].translateX+" "+o[1].translateY+") rotate("+o[1].rotate+" "+Tr/2+" "+Tr/2+")"}),t.jsx("circle",{cx:Tr/2,cy:Tr/2,fill:o[2].color,r:Tr/5,transform:"translate("+o[2].translateX+" "+o[2].translateY+")"}),t.jsx("line",{x1:0,y1:Tr/2,x2:Tr,y2:Tr/2,strokeWidth:2,stroke:o[3].color,transform:"translate("+o[3].translateX+" "+o[3].translateY+") rotate("+o[3].rotate+" "+Tr/2+" "+Tr/2+")"})]})]})},kd=90,o2e=5;function l2e(e,n){const s=$f(e),r=n&&n.length,i=Array.from({length:o2e},(o,l)=>wu(s+l,n,r)),a=[];return a[0]=i[0],a[1]=i[1],a[2]=i[1],a[3]=i[2],a[4]=i[2],a[5]=i[3],a[6]=i[3],a[7]=i[0],a[8]=i[4],a}const c2e=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=l2e(e,n),l=et.useId();return t.jsxs("svg",{viewBox:"0 0 "+kd+" "+kd,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:l,maskUnits:"userSpaceOnUse",x:0,y:0,width:kd,height:kd,children:t.jsx("rect",{width:kd,height:kd,rx:r?void 0:kd*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${l})`,children:[t.jsx("path",{d:"M0 0h90v45H0z",fill:o[0]}),t.jsx("path",{d:"M0 45h90v45H0z",fill:o[1]}),t.jsx("path",{d:"M83 45a38 38 0 00-76 0h76z",fill:o[2]}),t.jsx("path",{d:"M83 45a38 38 0 01-76 0h76z",fill:o[3]}),t.jsx("path",{d:"M77 45a32 32 0 10-64 0h64z",fill:o[4]}),t.jsx("path",{d:"M77 45a32 32 0 11-64 0h64z",fill:o[5]}),t.jsx("path",{d:"M71 45a26 26 0 00-52 0h52z",fill:o[6]}),t.jsx("path",{d:"M71 45a26 26 0 01-52 0h52z",fill:o[7]}),t.jsx("circle",{cx:45,cy:45,r:23,fill:o[8]})]})]})},d2e=64,Id=80;function u2e(e,n){const s=$f(e),r=n&&n.length;return Array.from({length:d2e},(i,a)=>wu(s%(a+1),n,r))}const p2e=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=u2e(e,n),l=d.useId();return t.jsxs("svg",{viewBox:"0 0 "+Id+" "+Id,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:l,"mask-type":"alpha",maskUnits:"userSpaceOnUse",x:0,y:0,width:Id,height:Id,children:t.jsx("rect",{width:Id,height:Id,rx:r?void 0:Id*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${l})`,children:[t.jsx("rect",{width:10,height:10,fill:o[0]}),t.jsx("rect",{x:20,width:10,height:10,fill:o[1]}),t.jsx("rect",{x:40,width:10,height:10,fill:o[2]}),t.jsx("rect",{x:60,width:10,height:10,fill:o[3]}),t.jsx("rect",{x:10,width:10,height:10,fill:o[4]}),t.jsx("rect",{x:30,width:10,height:10,fill:o[5]}),t.jsx("rect",{x:50,width:10,height:10,fill:o[6]}),t.jsx("rect",{x:70,width:10,height:10,fill:o[7]}),t.jsx("rect",{y:10,width:10,height:10,fill:o[8]}),t.jsx("rect",{y:20,width:10,height:10,fill:o[9]}),t.jsx("rect",{y:30,width:10,height:10,fill:o[10]}),t.jsx("rect",{y:40,width:10,height:10,fill:o[11]}),t.jsx("rect",{y:50,width:10,height:10,fill:o[12]}),t.jsx("rect",{y:60,width:10,height:10,fill:o[13]}),t.jsx("rect",{y:70,width:10,height:10,fill:o[14]}),t.jsx("rect",{x:20,y:10,width:10,height:10,fill:o[15]}),t.jsx("rect",{x:20,y:20,width:10,height:10,fill:o[16]}),t.jsx("rect",{x:20,y:30,width:10,height:10,fill:o[17]}),t.jsx("rect",{x:20,y:40,width:10,height:10,fill:o[18]}),t.jsx("rect",{x:20,y:50,width:10,height:10,fill:o[19]}),t.jsx("rect",{x:20,y:60,width:10,height:10,fill:o[20]}),t.jsx("rect",{x:20,y:70,width:10,height:10,fill:o[21]}),t.jsx("rect",{x:40,y:10,width:10,height:10,fill:o[22]}),t.jsx("rect",{x:40,y:20,width:10,height:10,fill:o[23]}),t.jsx("rect",{x:40,y:30,width:10,height:10,fill:o[24]}),t.jsx("rect",{x:40,y:40,width:10,height:10,fill:o[25]}),t.jsx("rect",{x:40,y:50,width:10,height:10,fill:o[26]}),t.jsx("rect",{x:40,y:60,width:10,height:10,fill:o[27]}),t.jsx("rect",{x:40,y:70,width:10,height:10,fill:o[28]}),t.jsx("rect",{x:60,y:10,width:10,height:10,fill:o[29]}),t.jsx("rect",{x:60,y:20,width:10,height:10,fill:o[30]}),t.jsx("rect",{x:60,y:30,width:10,height:10,fill:o[31]}),t.jsx("rect",{x:60,y:40,width:10,height:10,fill:o[32]}),t.jsx("rect",{x:60,y:50,width:10,height:10,fill:o[33]}),t.jsx("rect",{x:60,y:60,width:10,height:10,fill:o[34]}),t.jsx("rect",{x:60,y:70,width:10,height:10,fill:o[35]}),t.jsx("rect",{x:10,y:10,width:10,height:10,fill:o[36]}),t.jsx("rect",{x:10,y:20,width:10,height:10,fill:o[37]}),t.jsx("rect",{x:10,y:30,width:10,height:10,fill:o[38]}),t.jsx("rect",{x:10,y:40,width:10,height:10,fill:o[39]}),t.jsx("rect",{x:10,y:50,width:10,height:10,fill:o[40]}),t.jsx("rect",{x:10,y:60,width:10,height:10,fill:o[41]}),t.jsx("rect",{x:10,y:70,width:10,height:10,fill:o[42]}),t.jsx("rect",{x:30,y:10,width:10,height:10,fill:o[43]}),t.jsx("rect",{x:30,y:20,width:10,height:10,fill:o[44]}),t.jsx("rect",{x:30,y:30,width:10,height:10,fill:o[45]}),t.jsx("rect",{x:30,y:40,width:10,height:10,fill:o[46]}),t.jsx("rect",{x:30,y:50,width:10,height:10,fill:o[47]}),t.jsx("rect",{x:30,y:60,width:10,height:10,fill:o[48]}),t.jsx("rect",{x:30,y:70,width:10,height:10,fill:o[49]}),t.jsx("rect",{x:50,y:10,width:10,height:10,fill:o[50]}),t.jsx("rect",{x:50,y:20,width:10,height:10,fill:o[51]}),t.jsx("rect",{x:50,y:30,width:10,height:10,fill:o[52]}),t.jsx("rect",{x:50,y:40,width:10,height:10,fill:o[53]}),t.jsx("rect",{x:50,y:50,width:10,height:10,fill:o[54]}),t.jsx("rect",{x:50,y:60,width:10,height:10,fill:o[55]}),t.jsx("rect",{x:50,y:70,width:10,height:10,fill:o[56]}),t.jsx("rect",{x:70,y:10,width:10,height:10,fill:o[57]}),t.jsx("rect",{x:70,y:20,width:10,height:10,fill:o[58]}),t.jsx("rect",{x:70,y:30,width:10,height:10,fill:o[59]}),t.jsx("rect",{x:70,y:40,width:10,height:10,fill:o[60]}),t.jsx("rect",{x:70,y:50,width:10,height:10,fill:o[61]}),t.jsx("rect",{x:70,y:60,width:10,height:10,fill:o[62]}),t.jsx("rect",{x:70,y:70,width:10,height:10,fill:o[63]})]})]})},ui=36;function f2e(e,n){const s=$f(e),r=n&&n.length,i=wu(s,n,r),a=la(s,10,1),o=a<5?a+ui/9:a,l=la(s,10,2),c=l<5?l+ui/9:l;return{wrapperColor:i,faceColor:r2e(i),backgroundColor:wu(s+13,n,r),wrapperTranslateX:o,wrapperTranslateY:c,wrapperRotate:la(s,360),wrapperScale:1+la(s,ui/12)/10,isMouthOpen:s8(s,2),isCircle:s8(s,1),eyeSpread:la(s,5),mouthSpread:la(s,3),faceRotate:la(s,10,3),faceTranslateX:o>ui/6?o/2:la(s,8,1),faceTranslateY:c>ui/6?c/2:la(s,7,2)}}const Mk=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=f2e(e,n),l=d.useId();return t.jsxs("svg",{viewBox:"0 0 "+ui+" "+ui,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:l,maskUnits:"userSpaceOnUse",x:0,y:0,width:ui,height:ui,children:t.jsx("rect",{width:ui,height:ui,rx:r?void 0:ui*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${l})`,children:[t.jsx("rect",{width:ui,height:ui,fill:o.backgroundColor}),t.jsx("rect",{x:"0",y:"0",width:ui,height:ui,transform:"translate("+o.wrapperTranslateX+" "+o.wrapperTranslateY+") rotate("+o.wrapperRotate+" "+ui/2+" "+ui/2+") scale("+o.wrapperScale+")",fill:o.wrapperColor,rx:o.isCircle?ui:ui/6}),t.jsxs("g",{transform:"translate("+o.faceTranslateX+" "+o.faceTranslateY+") rotate("+o.faceRotate+" "+ui/2+" "+ui/2+")",children:[o.isMouthOpen?t.jsx("path",{d:"M15 "+(19+o.mouthSpread)+"c2 1 4 1 6 0",stroke:o.faceColor,fill:"none",strokeLinecap:"round"}):t.jsx("path",{d:"M13,"+(19+o.mouthSpread)+" a1,0.75 0 0,0 10,0",fill:o.faceColor}),t.jsx("rect",{x:14-o.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:o.faceColor}),t.jsx("rect",{x:20+o.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:o.faceColor})]})]})]})},m2e=4,Aa=80;function h2e(e,n){const s=$f(e),r=n&&n.length;return Array.from({length:m2e},(i,a)=>wu(s+a,n,r))}const x2e=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=h2e(e,n),l=e.replace(/\s/g,""),c=d.useId();return t.jsxs("svg",{viewBox:"0 0 "+Aa+" "+Aa,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:c,maskUnits:"userSpaceOnUse",x:0,y:0,width:Aa,height:Aa,children:t.jsx("rect",{width:Aa,height:Aa,rx:r?void 0:Aa*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${c})`,children:[t.jsx("path",{fill:"url(#gradient_paint0_linear_"+l+")",d:"M0 0h80v40H0z"}),t.jsx("path",{fill:"url(#gradient_paint1_linear_"+l+")",d:"M0 40h80v40H0z"})]}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"gradient_paint0_linear_"+l,x1:Aa/2,y1:0,x2:Aa/2,y2:Aa/2,gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:o[0]}),t.jsx("stop",{offset:1,stopColor:o[1]})]}),t.jsxs("linearGradient",{id:"gradient_paint1_linear_"+l,x1:Aa/2,y1:Aa/2,x2:Aa/2,y2:Aa,gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:o[2]}),t.jsx("stop",{offset:1,stopColor:o[3]})]})]})]})},g2e=3,aa=80;function b2e(e,n){const s=$f(e),r=n&&n.length;return Array.from({length:g2e},(i,a)=>({color:wu(s+a,n,r),translateX:la(s*(a+1),aa/10,1),translateY:la(s*(a+1),aa/10,2),scale:1.2+la(s*(a+1),aa/20)/10,rotate:la(s*(a+1),360,1)}))}const pV=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=b2e(e,n),l=d.useId();return t.jsxs("svg",{viewBox:"0 0 "+aa+" "+aa,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:l,maskUnits:"userSpaceOnUse",x:0,y:0,width:aa,height:aa,children:t.jsx("rect",{width:aa,height:aa,rx:r?void 0:aa*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${l})`,children:[t.jsx("rect",{width:aa,height:aa,fill:o[0].color}),t.jsx("path",{filter:`url(#filter_${l})`,d:"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z",fill:o[1].color,transform:"translate("+o[1].translateX+" "+o[1].translateY+") rotate("+o[1].rotate+" "+aa/2+" "+aa/2+") scale("+o[2].scale+")"}),t.jsx("path",{filter:`url(#filter_${l})`,style:{mixBlendMode:"overlay"},d:"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z",fill:o[2].color,transform:"translate("+o[2].translateX+" "+o[2].translateY+") rotate("+o[2].rotate+" "+aa/2+" "+aa/2+") scale("+o[2].scale+")"})]}),t.jsx("defs",{children:t.jsxs("filter",{id:`filter_${l}`,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),t.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:7,result:"effect1_foregroundBlur"})]})})]})},y2e={pixel:p2e,bauhaus:Dk,ring:c2e,beam:Mk,sunset:x2e,marble:pV,geometric:Mk,abstract:Dk},Wc=({variant:e="marble",colors:n=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"],name:s="Clara Barton",title:r=!1,size:i="40px",square:a=!1,...o})=>{const l=y2e[e]||pV;return t.jsx(l,{colors:n,name:s,title:r,size:i,square:a,...o})},zp=["#3FF3C8","#62ECFE","#00FF66","#FF8C66","#9B59B6"],ea=(e,n)=>{if(e?.id==="personal"){const r=(n?.user_metadata?.name||n?.user_metadata?.full_name||n?.email?.split("@")[0]||"Personal").split(" ")[0];return r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()+"'s Project"}return e?.name||"Project"},Ah=(e,n)=>{if(e?.id==="personal")return n("workspaceSelector.owner");const s=e?.role?.toLowerCase();return n(s==="owner"?"workspaceSelector.owner":s==="admin"?"workspaceSelector.admin":"workspaceSelector.memberRole")},Dh=e=>{if(e?.id==="personal")return!0;const n=e?.role?.toUpperCase();return n==="ADMIN"||n==="OWNER"},cl=e=>e?.id==="personal"?1:e?.members||1,v2e=["#3FF3C8","#62ECFE","#00FF66","#FF8C66","#9B59B6"];function dC({isOpen:e,onOpenChange:n,onWorkspaceCreated:s,onCloseMenu:r,customSubmitText:i,customLoadingText:a}){const{t:o}=en("teams"),{newToast:l}=Ga(),{workspaces:c}=hs(),[u,p]=d.useState(""),[f,m]=d.useState("New Project"),[h,{isLoading:x}]=ZP(),g=d.useRef(!1),v=()=>{const C=Math.random().toString(36).substring(2,15)+Date.now().toString(36);m(C)},b=c.some(C=>C.name.toLowerCase().trim()===u.toLowerCase().trim()),y=u.trim().length>0&&!b;d.useEffect(()=>{e?(g.current||(H(ki.CREATE_PROJECT_MODAL_OPENED),g.current=!0),r?.()):g.current=!1},[e,r]);const w=!k1(),_=async()=>{if(y){H(ki.CREATE_PROJECT_SUBMIT_CLICKED,{workspaceName:u.trim()});try{const C=await h({name:u,description:""}).unwrap();l.success(o("teams.createWorkspace.workspaceCreated")),H(ki.WORKSPACE_CREATED_SUCCESSFULLY,{workspaceId:C.id,workspaceName:C.name}),w&&!Bp()&&v9(),w&&AL(),n(!1),p(""),m("New Project"),s?.(C.id,C.name)}catch(C){l.error(C?.error||o("teams.createWorkspace.failedToCreate"))}}},N=C=>{C.preventDefault(),_()},j=()=>{n(!1),p(""),m("New Project")};return e?t.jsx(as,{open:e,onOpenChange:n,children:t.jsx(Cr,{children:t.jsx(Kn,{children:t.jsxs("div",{className:"fixed inset-0 z-[999]",children:[t.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:j}),t.jsx("div",{className:"flex items-center justify-center w-full h-full p-4",children:t.jsxs(fe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative w-full max-w-[600px] bg-[#1A1A1C] rounded-2xl overflow-hidden",onClick:C=>C.stopPropagation(),children:[t.jsx("div",{className:"p-6 pb-0",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-[#E6E6E6] font-brockmann text-[20px] font-medium leading-7 tracking-[-0.5px]",children:o("teams.createWorkspace.title")}),t.jsxs("p",{className:"mt-2 text-[#E6E6E6] font-inter text-[14px] font-medium leading-5 opacity-40",children:[o("teams.createWorkspace.description")," ",t.jsx("a",{href:"https://help.emergent.sh/articles/205415-getting-started-with-projects",target:"_blank",rel:"noopener noreferrer",className:"text-[#80FFF9] hover:underline",children:o("teams.createWorkspace.learnMore")})]})]}),t.jsx("button",{type:"button",onClick:j,disabled:x,className:k("p-1.5 hover:bg-white/10 rounded-lg transition-colors",x&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5 text-white/60"})})]})}),t.jsx("div",{className:"flex justify-center py-8",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-[56px] h-[56px] rounded-full overflow-hidden",children:t.jsx(Wc,{size:56,name:f,variant:"marble",colors:v2e})}),t.jsx("button",{type:"button",onClick:v,disabled:x,className:k("absolute -right-2 -bottom-1 w-7 h-7 flex items-center justify-center rounded-full bg-[#303030] hover:bg-[#404040] border border-[#404040] transition-all duration-200",x&&"opacity-50 cursor-not-allowed"),"aria-label":"Randomize avatar gradient",title:"Randomize gradient",children:t.jsx(JU,{className:"w-3.5 h-3.5 text-white/80"})})]})}),t.jsx("div",{className:"px-6 pb-6",children:t.jsx("form",{onSubmit:N,children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"project-name",className:"block text-[15px] font-medium text-white font-inter",children:o("teams.createWorkspace.projectName")}),t.jsx(Gi,{type:"text",id:"project-name",value:u,onChange:C=>p(C.target.value),placeholder:o("teams.createWorkspace.placeholder"),className:k("w-full h-12 px-4 bg-transparent border rounded-lg text-white placeholder-white/40 focus-visible:ring-0 focus-visible:ring-offset-0",b?"border-red-500 focus:border-red-500":"border-[#404040] focus:border-[#606060]"),maxLength:100,disabled:x,autoFocus:!0}),b&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:o("teams.createWorkspace.duplicateName")})]})})}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-[#303030]",children:[t.jsx("button",{type:"button",onClick:j,disabled:x,className:"flex py-3 px-5 justify-center items-center gap-1 rounded-[12px] bg-[#303030] hover:bg-[#404040] text-white font-brockmann text-[16px] font-medium leading-6 tracking-[-0.2px] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:o("teams.createWorkspace.cancel")}),t.jsx("button",{type:"button",onClick:_,disabled:!y||x,className:k("flex py-3 px-5 justify-center items-center gap-1 rounded-[12px] font-brockmann text-[16px] font-semibold leading-6 tracking-[-0.2px] transition-all duration-200",y&&!x?"bg-white text-[#18181A] hover:bg-white/90":"bg-white/20 text-white/60 cursor-not-allowed"),children:x?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-current rounded-full border-t-transparent animate-spin"}),a||o("teams.createWorkspace.creating")]}):i||o("teams.createWorkspace.createProject")})]})]})})]})})})}):null}const w2e=Object.freeze(Object.defineProperty({__proto__:null,CreateWorkspaceModal:dC},Symbol.toStringTag,{value:"Module"}));function fV({isOpen:e,onClose:n,onSave:s,jobId:r,jobName:i,currentProjectId:a,jobOrganizationId:o}){const{t:l}=en("home"),{t:c}=en("teams"),{user:u}=os(),{workspaces:p,currentWorkspace:f}=hs(),{newToast:m}=Ga(),[h,x]=d.useState(""),[g,v]=d.useState(a||f),[b,y]=d.useState(!1),[w,{isLoading:_}]=Wre(),[N,{isLoading:j}]=Gre(),C=_||j,S=d.useMemo(()=>p?p.filter(O=>O.id==="personal"||O.role?.toLowerCase()==="owner"?ea(O,u).toLowerCase().includes(h.toLowerCase()):!1):[],[p,h,u]),F=d.useMemo(()=>o||"personal",[o]),E=O=>O===F,I=async()=>{if(!(!g||E(g))&&r){H(Zu.TRANSFER_INITIATED,{jobId:r,fromLocation:F,toLocation:g});try{if(g==="personal"){if(!u?.id){m.error(l("recentTasks.moveToProject.errors.noUser","User not found"));return}await N({jobId:r,userId:u.id}).unwrap()}else await w({jobId:r,organizationId:g}).unwrap();H(Zu.TRANSFER_SUCCESS,{jobId:r,fromLocation:F,toLocation:g}),s(g),n()}catch(O){H(Zu.TRANSFER_FAILED,{jobId:r,fromLocation:F,toLocation:g,error:O?.data?.detail||O?.error||"Unknown error"});const M=O?.data?.detail||O?.error||l("recentTasks.moveToProject.errors.generic","Failed to move task. Please try again");m.error(M)}}},T=()=>{x(""),v(a||f),n()},A=()=>{C||(H(ki.CREATE_NEW_PROJECT_CLICKED,{source:"move_to_project_modal",jobId:r}),y(!0))},D=async(O,M)=>{if(y(!1),v(O),!!r){H(Zu.TRANSFER_INITIATED,{jobId:r,fromLocation:F,toLocation:O,isNewProject:!0});try{await w({jobId:r,organizationId:O}).unwrap(),H(Zu.TRANSFER_SUCCESS,{jobId:r,fromLocation:F,toLocation:O,isNewProject:!0}),s(O),n()}catch(L){H(Zu.TRANSFER_FAILED,{jobId:r,fromLocation:F,toLocation:O,isNewProject:!0,error:L?.data?.detail||L?.error||"Unknown error"});const P=L?.data?.detail||L?.error||l("recentTasks.moveToProject.errors.generic","Failed to move task. Please try again");m.error(P)}}};return e?Lp.createPortal(t.jsxs(t.Fragment,{children:[t.jsx(Kn,{children:t.jsxs("div",{className:"fixed inset-0 z-[999]",children:[t.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:C?void 0:T}),t.jsx("div",{className:"flex items-center justify-center w-full h-full p-6",children:t.jsxs(fe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative w-full max-w-[600px] bg-[#18181A] rounded-2xl overflow-hidden",onClick:O=>O.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-6 pb-2",children:[t.jsx("h2",{className:"text-white text-xl font-semibold font-brockmann",children:l("recentTasks.moveToProject.title","Move to project")}),t.jsx("button",{type:"button",onClick:T,disabled:C,className:"p-1 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50",children:t.jsx(Ft,{className:"w-5 h-5 text-white/60"})})]}),t.jsx("div",{className:"px-6 pb-4",children:t.jsxs("p",{className:"text-[#E6E6E6]/40 text-sm font-medium font-inter leading-5",children:[l("recentTasks.moveToProject.subtitle","Select a project to move the")," ",t.jsx("span",{className:"text-[#E6E6E6]/80",children:i})," ",l("recentTasks.moveToProject.subtitleEnd","into.")]})}),t.jsxs("div",{className:"mx-6 mb-4 bg-[#18181A] rounded-xl border border-[#242424] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-[#303033]",children:[t.jsx($o,{className:"w-4 h-4 text-white/40"}),t.jsx("input",{type:"text",placeholder:l("recentTasks.moveToProject.searchPlaceholder","Search projects"),value:h,onChange:O=>x(O.target.value),disabled:C,className:"flex-1 bg-transparent text-white text-sm placeholder-white/40 outline-none disabled:opacity-50"})]}),t.jsxs("div",{className:"min-h-[280px] max-h-[280px] overflow-y-auto p-2 flex flex-col gap-2",children:[S.map(O=>{const M=g===O.id,L=E(O.id);return t.jsxs("button",{type:"button",onClick:()=>!C&&v(O.id),disabled:C,className:k("w-full flex items-center gap-3 px-4 py-3 transition-colors rounded-[12px] disabled:opacity-50",M?"bg-white/[0.08]":"hover:bg-white/[0.04]"),children:[t.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(Wc,{size:32,name:ea(O,u),variant:"marble",colors:zp})}),t.jsxs("div",{className:"flex-1 text-left min-w-0",children:[t.jsx("p",{className:"text-white text-sm font-medium truncate",children:ea(O,u)}),t.jsxs("p",{className:"text-white/50 text-xs",children:[Ah(O,c),"  ",cl(O)," ",cl(O)===1?c("workspaceSelector.member","member"):c("workspaceSelector.members","members")]})]}),L&&t.jsx("span",{className:"px-2 py-0.5 text-sm font-medium text-white opacity-80 bg-white/[0.04] rounded-[6px] font-inter leading-5",children:l("recentTasks.moveToProject.current","Current")}),t.jsx("div",{className:k("w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-colors",M?"border-white":"border-white/30"),children:M&&t.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})]},O.id)}),S.length===0&&t.jsx("div",{className:"px-4 py-8 text-center",children:t.jsx("p",{className:"text-white/40 text-sm",children:l("recentTasks.moveToProject.noProjectsFound","No projects found")})})]}),t.jsx("div",{className:"border-t border-white/[0.08] p-[6px]",children:t.jsxs("button",{type:"button",onClick:A,disabled:C,className:"w-full flex items-center justify-center gap-2 p-[6px] rounded-[10px] opacity-80 hover:opacity-100 hover:bg-white/[0.06] transition-all duration-200 group disabled:opacity-50",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center bg-white/[0.04] rounded-lg",children:t.jsx(ma,{className:"w-4 h-4 text-white transition-transform duration-300 group-hover:rotate-90"})}),t.jsx("span",{className:"text-white font-brockmann text-[16px] font-medium leading-6 tracking-[-0.2px]",children:l("recentTasks.moveToProject.createNewProject","Create new project")})]})})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-[#303033]",children:[t.jsx("button",{type:"button",onClick:T,disabled:C,className:"px-6 py-2.5 rounded-xl text-white text-sm font-medium bg-white/[0.08] hover:bg-white/[0.12] transition-colors disabled:opacity-50",children:l("recentTasks.moveToProject.cancel","Cancel")}),t.jsxs("button",{type:"button",onClick:I,disabled:!g||E(g||"")||C,className:k("px-6 py-2.5 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",g&&!E(g)&&!C?"bg-white text-black hover:bg-white/90":"bg-white/[0.08] text-white/40 cursor-not-allowed"),children:[C&&t.jsx(tn,{className:"w-4 h-4 animate-spin"}),C?l("recentTasks.moveToProject.moving","Moving..."):l("recentTasks.moveToProject.saveChanges","Save Changes")]})]})]})})]})}),t.jsx(dC,{isOpen:b,onOpenChange:y,onWorkspaceCreated:D,customSubmitText:l("recentTasks.moveToProject.createAndMove","Create project and move job"),customLoadingText:l("recentTasks.moveToProject.creatingAndMoving","Creating...")})]}),document.body):null}const C2e=K.common.globeWhite,_2e=K.common.globeActive,j2e=K.icons.task,v6=(e,n=100)=>e.length>n?e.slice(0,n)+"...":e,Cx=e=>{if(e?.state!=="ENV_INITIATED"||!e?.created_at)return!1;const n=new Date(e.created_at).getTime();return(Date.now()-n)/(1e3*60)<10};function N2e({jobs:e,handleJobClick:n,handleReload:s,reloading:r,setIsJobIdDialogOpen:i,loading:a=!1,refetchJobs:o,hasMore:l=!1,isLoadingMore:c=!1,onLoadMore:u}){const{t:p}=en("home"),f=cc(),{currentWorkspace:m,isPersonalWorkspace:h}=hs(),{isCurrentWorkspaceOwner:x}=gi(),[g]=XP(),{newToast:v}=Ga(),{setTabs:b,getTabByJobId:y}=hi(),{user:w}=os(),_=d.useRef(!1),N=d.useRef(null);d.useEffect(()=>()=>{N.current&&clearTimeout(N.current)},[]);const j=ae=>{_.current||(_.current=!0,n(ae),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{_.current=!1,N.current=null},300))},[C,S]=d.useState("recent");d.useEffect(()=>{H(C==="recent"?sb.RECENT_TASKS_VIEWED:sb.DEPLOYED_TASKS_VIEWED,{userId:w?.id||"",section:C})},[C]);const F=d.useMemo(()=>typeof m=="object"?m?.id:m,[m]),E=d.useMemo(()=>{if(!e?.length)return[];const ae=h();return e.filter(Fe=>{const se=Fe.organization_id||Fe.payload?.organization_id;return ae?!se:se===F})},[e,F,h]),I=ae=>{const Fe=!!ae.payload.forked_from;if(!!ae.payload.remixed_from){const _e=E.find(ge=>ge.id===ae.payload.remixed_from),Re=_e?_e.payload.original_task||_e.payload.task:ae.payload.remixed_from,Ne=E.filter(ge=>ge.payload.remixed_from===ae.payload.remixed_from).sort((ge,Ce)=>new Date(ge.created_at).getTime()-new Date(Ce.created_at).getTime()).findIndex(ge=>ge.id===ae.id)+1;return t.jsxs(To,{className:"text-[#FFFFFFCC] text-[13px] px-6 w-[45%]",children:[t.jsx("div",{className:"text-sm font-medium leading-6 tracking-normal text-white font-inter text-opacity-80 line-clamp-1",children:ae.title?ae.title:t.jsx("span",{className:"opacity-60",children:p("recentTasks.untitled")})}),t.jsxs("span",{className:"text-[#80FFF9] text-[14px] font-medium font-inter",children:[p("recentTasks.remixed")," ",t.jsx("span",{className:"font-inter font-medium px-[6px] leading-[20px] rounded-[5px] bg-[#80FFF915]",children:Ne})," ",p("recentTasks.from")," "]}),"-"," ",t.jsx("span",{className:"font-inter text-opacity-50 text-[13px] lineheight-5 font-medium text-white",children:v6(Re)})]})}else if(Fe){const _e=E.find(ge=>ge.id===ae.payload.forked_from),Re=_e?_e.payload.original_task||_e.payload.task:ae.payload.forked_from,Ne=E.filter(ge=>ge.payload.forked_from===ae.payload.forked_from).sort((ge,Ce)=>new Date(ge.created_at).getTime()-new Date(Ce.created_at).getTime()).findIndex(ge=>ge.id===ae.id)+1;return t.jsxs(To,{className:"text-[#FFFFFFCC] text-[13px] px-6 w-[45%]",children:[t.jsx("div",{className:"text-sm font-medium leading-6 tracking-normal text-white font-inter text-opacity-80 line-clamp-1",children:ae.title?ae.title:t.jsx("span",{className:"opacity-60",children:p("recentTasks.untitled")})}),t.jsxs("span",{className:"text-[#80FFF9] text-[14px] font-medium font-inter",children:[p("recentTasks.fork")," ",t.jsx("span",{className:"font-inter font-medium px-[6px] leading-[20px] rounded-[5px] bg-[#80FFF915]",children:Ne})," ",p("recentTasks.from")," "]}),"-"," ",t.jsx("span",{className:"font-inter text-opacity-50 text-[13px] lineheight-5 font-medium text-white",children:v6(Re)})]})}else return t.jsxs(To,{className:"text-[#FFFFFFCC] text-[13px] px-6 w-[45%]",children:[t.jsx("div",{className:"text-sm font-medium leading-6 tracking-normal text-white font-inter text-opacity-80 line-clamp-1",children:ae.title?ae.title:t.jsx("span",{className:"opacity-60",children:p("recentTasks.untitled")})}),t.jsx("span",{className:"font-inter font-medium text-[13px] lineheight-5 tracking-normal text-white align-middle text-opacity-50 line-clamp-2",children:v6(JSON.stringify(ae.payload.task).replace(/"/g,""))||""})]})},[T,A]=d.useState({currentPage:1,tasksPerPage:50,menuState:{isOpen:!1,jobId:null,position:{top:0,left:0}},renameModalState:{isOpen:!1,jobId:null,currentName:""},deleteModalState:{isOpen:!1,jobId:null,jobName:"",isDeleting:!1},moveToProjectModalState:{isOpen:!1,jobId:null,jobName:""}}),D=E.length,O=Math.ceil(D/T.tasksPerPage)||1,M=(T.currentPage-1)*T.tasksPerPage+1,L=Math.min(T.currentPage*T.tasksPerPage,D),P=ae=>{ae*T.tasksPerPage>E.length&&l&&u&&!c&&u(),ae>=1&&(ae<=O||l)&&A(se=>({...se,currentPage:Math.min(ae,O)}))},B=ae=>{A(Fe=>({...Fe,tasksPerPage:ae,currentPage:1})),ae>E.length&&l&&u&&!c&&u()},G=(ae,Fe)=>{ae.stopPropagation();const se=ae.currentTarget.getBoundingClientRect();A(_e=>({..._e,menuState:{isOpen:!0,jobId:Fe,position:{top:se.bottom+2,left:se.right-80}}}))},$=()=>{A(ae=>({...ae,menuState:{isOpen:!1,jobId:null,position:{top:0,left:0}}}))},te=ae=>{const Fe=e.find(se=>se.id===T.menuState.jobId);switch(ae){case"rename":Fe&&A(_e=>({..._e,renameModalState:{isOpen:!0,jobId:Fe.id,currentName:Fe.title}}));break;case"moveToProject":Fe&&A(_e=>({..._e,moveToProjectModalState:{isOpen:!0,jobId:Fe.id,jobName:Fe.title||Fe.payload?.original_task||Fe.payload?.task||p("recentTasks.thisTask")},menuState:{..._e.menuState,isOpen:!1}}));break;case"preview":j(Fe);break;case"share":break;case"delete":const se=e.find(_e=>_e.id===T.menuState.jobId);se&&A(_e=>({..._e,deleteModalState:{isOpen:!0,jobId:se.id,jobName:se.title||p("recentTasks.thisTask"),isDeleting:!1},menuState:{..._e.menuState,isOpen:!1}}));break}},U=()=>{A(ae=>({...ae,renameModalState:{isOpen:!1,jobId:null,currentName:""}}))},oe=()=>{T.deleteModalState.isDeleting||A(ae=>({...ae,deleteModalState:{isOpen:!1,jobId:null,jobName:"",isDeleting:!1}}))},[Y]=QP(),W=async()=>{if(T.deleteModalState.jobId){A(ae=>({...ae,deleteModalState:{...ae.deleteModalState,isDeleting:!0}}));try{const ae=await Y({jobId:T.deleteModalState.jobId,deletedBy:w?.id||""}).unwrap();if(ae?.success){v.success(ae?.message||p("recentTasks.toast.deleteSuccess"));const Fe=y(T.deleteModalState.jobId);Fe?.id&&b(se=>se.filter(_e=>_e.id!==Fe.id)),o(),H(vp.JOB_REMOVED,{jobId:T.deleteModalState.jobId,deletedBy:w?.id||""})}else v.error(ae?.message||p("recentTasks.toast.deleteFailed"))}catch(ae){v.error(ae?.data?.message||ae?.message||p("recentTasks.toast.deleteError"))}finally{A(ae=>({...ae,deleteModalState:{isOpen:!1,jobId:null,jobName:"",isDeleting:!1}}))}}},Z=()=>{A(ae=>({...ae,moveToProjectModalState:{isOpen:!1,jobId:null,jobName:""}}))},le=async ae=>{T.moveToProjectModalState.jobId&&(v.success(p("recentTasks.moveToProject.success","Task moved successfully")),Z(),o())},q=ae=>{if(!ae)return null;const Fe=e.find(se=>se.id===ae);return Fe?.organization_id||Fe?.payload?.organization_id||null},Q=()=>{const ae=[];if(O<=5){for(let Re=1;Re<=O;Re++)ae.push(Re);return ae}let se,_e;T.currentPage<=3?(se=1,_e=5):T.currentPage>=O-2?(se=O-5+1,_e=O):(se=T.currentPage-2,_e=T.currentPage+2);for(let Re=se;Re<=_e;Re++)ae.push(Re);return ae},he=d.useMemo(()=>Q(),[T.currentPage,O]),me=ae=>`flex items-center justify-center font-[Inter] text-[12px] hover:rounded-[8px] w-8 h-8 text-sm transition-colors ${ae?"bg-[#2d2d2d] text-white bg-[#FFF]/5 border border-white/[6%] rounded-[8px]":"hover:bg-[#2d2d2d] text-[#8f8f98]"}`,ce=d.useMemo(()=>{const ae=(T.currentPage-1)*T.tasksPerPage,Fe=T.currentPage*T.tasksPerPage;return E.slice(ae,Fe)},[E,T.currentPage,T.tasksPerPage]),ee=async ae=>{if(T.renameModalState.jobId)try{await g({job_id:T.renameModalState.jobId,title:ae}).unwrap(),await o(),H(vp.JOB_NAME_UPDATED,{jobId:T.renameModalState.jobId,newName:ae});const Fe=y(T.renameModalState.jobId);b(se=>se.map(_e=>_e.id===Fe?.id?{..._e,tabHeading:ae}:_e)),v.success(p("recentTasks.toast.renameSuccess"))}catch{v.error(p("recentTasks.toast.renameFailed"))}},J=ae=>{const Fe=ae.updated_at||ae.created_at,se=Date.now()-new Date(Fe).getTime(),_e=Math.floor(se/(1e3*60));if(_e<60)return _e<1?p("recentTasks.time.fewSecondsAgo"):p("recentTasks.time.minAgo",{count:_e});const Re=Math.floor(_e/60);if(Re<24)return p("recentTasks.time.hrsAgo",{count:Re<0?0:Re});const Se=Math.floor(Re/24);return Se>1?p("recentTasks.time.daysAgo",{count:Se}):p("recentTasks.time.dayAgo",{count:Se})},re=()=>t.jsxs(y1,{className:"w-full hover:bg-transparent",children:[t.jsx(To,{className:"rounded-l-lg w-[15%]",children:t.jsx("div",{className:"h-4 w-16 bg-[#252629] rounded animate-pulse"})}),t.jsx(To,{className:"w-[45%]",children:t.jsx("div",{className:"h-4 w-full bg-[#252629] rounded animate-pulse "})}),t.jsx(To,{className:"rounded-r-lg w-[20%]",children:t.jsx("div",{className:"h-4 bg-[#252629] rounded animate-pulse"})})]}),xe=()=>{const ae=T.deleteModalState.jobId,Fe=!!ae&&e?.some(Ce=>Ce?.payload?.forked_from===ae),se=!!ae&&e?.some(Ce=>Ce?.payload?.remixed_from===ae),_e=e?.find(Ce=>Ce.id===ae),Re=_e?.payload?.forked_from,Se=_e?.payload?.remixed_from;let Ne=null;Re?Ne=e?.find(Ce=>Ce.id===Re):Se&&(Ne=e?.find(Ce=>Ce.id===Se));const ge=!!((Re||Se)&&Ne);return t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-sm md:text-base font-['Inter'] font-medium leading-5 md:leading-6 break-words",children:[t.jsxs("span",{className:"text-white opacity-60 font-['Inter']",children:[p("recentTasks.deleteTask.confirmMessage")," "]}),t.jsxs("span",{className:"text-[#80FFF9] font-['Inter']",children:['"',T.deleteModalState.jobName,'"']}),t.jsx("span",{className:"text-white opacity-60 font-['Inter']",children:p("recentTasks.deleteTask.cannotUndo")})]}),Fe&&!ge&&t.jsxs("div",{className:"flex flex-col w-full h-24 rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Sp,{className:"p-1",width:24,height:24}),t.jsx("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:p("recentTasks.deleteTask.forkWarning")})]}),se&&!ge&&t.jsxs("div",{className:"flex flex-col w-full h-24 rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Sp,{className:"p-1",width:24,height:24}),t.jsx("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:p("recentTasks.deleteTask.remixWarning")})]}),ge&&Re&&t.jsxs("div",{className:"flex flex-col w-full h-24 rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Sp,{className:"p-1",width:24,height:24}),t.jsxs("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:[p("recentTasks.deleteTask.forkedFromWarning")," ",t.jsxs("span",{className:"text-white font-['Inter']",children:['"',Ne.title||Ne.payload?.original_task||Ne.payload?.task,'"']}),". ",p("recentTasks.deleteTask.parentUnaffected")]})]}),ge&&Se&&t.jsxs("div",{className:"flex flex-col w-full h-24 rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Sp,{className:"p-1",width:24,height:24}),t.jsxs("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:[p("recentTasks.deleteTask.remixedFromWarning")," ",t.jsxs("span",{className:"text-white font-['Inter']",children:['"',Ne.title||Ne.payload?.original_task||Ne.payload?.task,'"']}),". ",p("recentTasks.deleteTask.originalUnaffected")]})]})]})};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex-col hidden px-4 space-y-5 md:flex",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[t.jsxs("div",{onClick:()=>S("recent"),className:"flex items-center space-x-1 cursor-pointer","data-testid":lo.recentTasksTab,children:[t.jsx("img",{alt:p("recentTasks.accessibility.recentTasksIcon"),src:j2e,className:k("h-5 md:h-6 w-fit opacity-30",C==="recent"&&"opacity-100")}),t.jsx("h2",{className:k("text-[12px] md:text-lg text-white/30",C==="recent"&&"text-white"),children:p("recentTasks.title")})]}),t.jsx("div",{className:"w-[2px] h-[18px] bg-white/20"}),t.jsxs("div",{"data-testid":lo.deployedAppsTab,onClick:()=>S("deployed"),className:"flex items-center space-x-1 cursor-pointer",children:[t.jsx("img",{alt:p("recentTasks.accessibility.deployedAppsIcon"),src:C==="deployed"?_2e:C2e,className:k("h-5 md:h-6  opacity-50 w-5 md:w-6",C==="deployed"&&"opacity-100")}),t.jsx("h2",{className:k("text-[12px] md:text-lg text-[#898E98]",C==="deployed"&&"bg-gradient-to-r from-[#80fff9] to-[#1588fc] text-transparent bg-clip-text"),children:p("recentTasks.deployedApps")})]})]}),t.jsxs("div",{className:"flex gap-2",children:[f&&t.jsx(zt,{variant:"ghost",size:"icon",className:"w-8 h-8 text-muted-foreground hover:bg-transparent",onClick:()=>i(!0),children:t.jsx(ma,{className:"w-4 h-4"})}),C==="recent"&&t.jsx(zt,{"data-testid":lo.reloadButton,variant:"ghost",size:"icon",className:"w-8 h-8 text-muted-foreground hover:bg-transparent",onClick:()=>{H(sb.RELOAD_CLICKED),s()},disabled:r||a,children:t.jsx(zS,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]})]}),C==="recent"&&t.jsxs("div",{"data-testid":lo.list,className:"relative rounded-2xl border border-[#252629] bg-[rgba(15,15,16,0.01)] backdrop-blur-[2.5px] overflow-clip",children:[t.jsx("div",{className:"sticky top-0 z-10 mb-4",children:t.jsx("table",{className:"w-full border-separate border-spacing-0",children:t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[#18181A]",children:[t.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 rounded-tl-lg text-[12px] tracking-[1px] w-[15%] text-left",children:p("recentTasks.tableHeaders.id")}),t.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 text-[12px] tracking-[1px] w-[45%] text-left",children:p("recentTasks.tableHeaders.task")}),t.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 text-[12px] tracking-[1px] w-[20%] text-left",children:p("recentTasks.tableHeaders.lastModified")}),t.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 text-[12px] tracking-[1px] w-[5%] text-left"})]})})})}),t.jsx("div",{className:"min-h-[500px] max-h-[500px] overflow-y-auto relative text-[12px]",children:t.jsxs(XH,{className:"relative w-full border-separate border-spacing-0",children:[t.jsx(QH,{className:"hidden",children:t.jsxs(y1,{className:"bg-[#18181A] hover:bg-[#18181A]",children:[t.jsx(t8,{className:"text-[#8F8F98] font-normal px-6 rounded-tl-lg text-sm font-jetbrains w-[15%]",children:p("recentTasks.tableHeaders.id")}),t.jsx(t8,{className:"text-[#8F8F98] font-normal px-6 text-sm font-jetbrains w-[45%]",children:p("recentTasks.tableHeaders.task")})]})}),t.jsx(eV,{className:"w-full",children:a?Array(5).fill(0).map((ae,Fe)=>t.jsx(re,{},`shimmer-${Fe}`)):E.length==0?t.jsx(y1,{className:"hover:bg-transparent",children:t.jsx(To,{colSpan:3,className:"py-8 text-center hover:bg-transparent",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"text-[#8F8F98] text-sm",children:p("recentTasks.noTasks")}),t.jsx("div",{className:"text-[#92929A] text-xs max-w-lg",children:p("recentTasks.noTasksDescription")})]})})}):ce.map(ae=>t.jsxs(y1,{"data-testid":lo.taskRow(ae.id),className:"hover:bg-[#1C1C1E] transition-colors cursor-pointer max-h-[68px]",onClick:()=>j(ae),children:[t.jsx(To,{className:"text-[#92929A] text-[12px] md:text-[14px] px-6 py-4 w-[15%] font-inter align-top leading-6",children:`EMT - ${ae.id.slice(0,6)}`}),I(ae),t.jsx(To,{className:"text-[#C2C2CC] text-[12px] md:text-[14px] pl-8 pr-6 py-4 w-[20%] font-inter opacity-50 align-top leading-6",children:J(ae)}),t.jsx(To,{className:"pl-2 pr-0 py-4 w-[5%] text-right align-top",children:t.jsx("div",{className:"flex items-center justify-end gap-2 mr-6",children:t.jsx("button",{"data-testid":lo.taskOptionsButton(ae.id),title:p("recentTasks.accessibility.options"),className:`pb-1.5 rounded transition-colors inline-flex items-center justify-center ${Cx(ae)?"opacity-50 cursor-not-allowed":""}`,onClick:Fe=>{Fe.stopPropagation(),Cx(ae)||G(Fe,ae.id)},disabled:Cx(ae),children:t.jsx(Wge,{className:`flex w-8 h-8 rounded-md p-1.5 gap-[11.43px] bg-white/[0.15] ${Cx(ae)?"opacity-40":"opacity-40 hover:opacity-80"}`,size:32})})})})]},ae.id))})]})}),t.jsxs("div",{className:"flex items-center justify-between px-6 py-3 bg-[#18181a] text-[#8f8f98]",children:[t.jsx("p",{"data-testid":lo.count,className:"text-[14px] font-[Inter] font-medium leading-4 text-white/40 w-[200px]",children:p("recentTasks.pagination.showing",{start:M,end:L,total:l?`${D}+`:D})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{"data-testid":lo.paginationPrev,title:p("recentTasks.accessibility.previousPage"),onClick:()=>P(T.currentPage-1),disabled:T.currentPage===1,className:"flex items-center justify-center w-8 h-8 rounded-[8px] hover:bg-[#2d2d2d] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(V7,{className:"object-contain w-6 h-6"})}),he.map(ae=>t.jsx("button",{onClick:()=>P(ae),className:me(ae===T.currentPage),children:ae},ae)),T.currentPage===O&&l&&t.jsx("button",{"data-testid":lo.paginationLoadMore,onClick:()=>u?.(),disabled:c,className:"flex items-center justify-center px-2 h-8 rounded-[8px] hover:bg-[#2d2d2d] text-[#80FFF9] text-[12px] font-[Inter] disabled:opacity-50 transition-colors",children:c?t.jsx(zS,{className:"w-4 h-4 animate-spin"}):"..."}),t.jsx("button",{"data-testid":lo.paginationNext,title:p("recentTasks.accessibility.nextPage"),onClick:()=>P(T.currentPage+1),disabled:T.currentPage===O&&!l,className:"flex items-center justify-center w-8 h-8 rounded-[8px] hover:bg-[#2d2d2d] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(Bo,{className:"object-contain w-6 h-6"})})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx("p",{className:"text-[14px] font-[Inter] font-medium leading-4 text-white/40",children:p("recentTasks.pagination.tasksPerPage")}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{"data-testid":lo.perPageSelect,"aria-label":p("recentTasks.accessibility.selectTasksPerPage"),value:T.tasksPerPage,onChange:ae=>B(Number(ae.target.value)),className:"appearance-none bg-[#1A1A1A] font-[Inter] border px-3 py-1 pr-8 text-[#FFF] text-sm focus:outline-none focus:border-[#FFF] border-opacity-[12px] cursor-pointer rounded-[8px]",children:[t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:25,children:"25"}),t.jsx("option",{value:50,children:"50"})]}),t.jsx(Ur,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-3 h-3 pointer-events-none text-[#8f8f98]"})]})]})]})]}),C==="deployed"&&t.jsx(aV,{handleJobClick:j,organizationId:h()?void 0:m})]}),t.jsx(n2e,{isOpen:T.menuState.isOpen,onClose:$,onAction:te,position:T.menuState.position,showMoveToProject:x,showDelete:x}),t.jsx(cV,{isOpen:T.renameModalState.isOpen,onClose:U,onSave:ee,currentName:T.renameModalState.currentName}),T.deleteModalState.isOpen&&t.jsx(dV,{isOpen:T.deleteModalState.isOpen,onClose:oe,onConfirm:W,title:p("recentTasks.deleteTask.title"),bodyContent:xe(),primaryButton:{text:p("recentTasks.deleteTask.confirm"),variant:"danger",loading:T.deleteModalState.isDeleting,disabled:T.deleteModalState.isDeleting},secondaryButton:{text:p("recentTasks.deleteTask.nevermind"),variant:"secondary",disabled:T.deleteModalState.isDeleting}}),t.jsx(fV,{isOpen:T.moveToProjectModalState.isOpen,onClose:Z,onSave:le,jobId:T.moveToProjectModalState.jobId||"",jobName:T.moveToProjectModalState.jobName,currentProjectId:m,jobOrganizationId:q(T.moveToProjectModalState.jobId)})]})}const w6=()=>crypto.randomUUID(),F2e=({size:e=24,color:n="#22C55E",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M20 6L9 17L4 12",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),mV=({size:e=24,color:n="#EF4444",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});function hV({invitation:e,onAcceptInvitation:n,onDeclineInvitation:s,isAcceptingInvitation:r,variant:i="selector"}){const a=i==="switcher";return t.jsxs("div",{className:k("flex items-center gap-3 rounded-[8px] transition-colors  hover:bg-[#FFFFFF0D] cursor-pointer mb-2 p-2"),children:[t.jsx("div",{className:`rounded-full ${a?"w-8 h-8 p-2":"p-2"}`,style:{background:"linear-gradient(180deg, #364D36 0%, rgba(47, 66, 46, 0.593809) 40.62%, rgba(36, 51, 36, 0) 100%)"},children:t.jsx(UH,{size:a?16:24,color:"#37FF33"})}),t.jsxs("div",{className:"flex flex-col flex-1",children:[t.jsx("div",{className:"text-sm font-medium capitalize text-[#E6E6E6]",children:e.organization_name}),t.jsx("div",{className:k("text-[12px] font-medium font-inter text-[#CCCCCC] capitalize",a?"text-[12px] font-inter text-white/50":""),children:e?.role?.toLowerCase()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[s&&t.jsx("button",{type:"button",onClick:o=>{o.stopPropagation(),s(e.id,e.organization_name)},disabled:r,className:" transition-colors duration-200 rounded-full bg-[#FFFFFF1A]  disabled:opacity-50 disabled:cursor-not-allowed",title:"Decline Invitation",children:t.jsx(mV,{size:28,color:"#FFFFFF99",className:" bg-[#FFFFFF1A] rounded-full p-1"})}),t.jsx("button",{type:"button",onClick:o=>{o.stopPropagation(),n(e.id,e.organization_name)},disabled:r,className:"transition-colors duration-200 rounded-full bg-[#7BFF78] hover:bg-green-600/30 disabled:opacity-50 disabled:cursor-not-allowed",title:"Accept Invitation",children:r?t.jsx("div",{className:"w-4 h-4 text-green-400 border-2 border-current rounded-full border-t-transparent animate-spin"}):t.jsx(F2e,{size:28,color:"#000000",className:"bg-[#7BFF78] rounded-full p-1"})})]})]})}const uC=({size:e=16,color:n="#E8E8E6",className:s="",...r})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:t.jsx("path",{d:"M8.43865 1.6001C9.07985 1.6001 9.59961 2.11988 9.59961 2.76103C9.59961 2.91653 9.70969 3.08344 9.90745 3.16182C9.96233 3.18356 10.0168 3.20625 10.0707 3.22979L10.1434 3.25557C10.3127 3.30343 10.4748 3.26076 10.5714 3.16416C11.0255 2.71063 11.7614 2.71115 12.2152 3.16494L12.8347 3.78447L12.9145 3.87275C13.2869 4.32919 13.2605 5.00287 12.8347 5.42823C12.7245 5.53847 12.6851 5.73408 12.7699 5.92823L12.8379 6.09228L12.8714 6.16182C12.9581 6.31554 13.1026 6.40008 13.2386 6.4001C13.8798 6.4001 14.3996 6.91988 14.3996 7.56103V8.43914C14.3996 9.08034 13.8798 9.6001 13.2386 9.6001C13.1026 9.6001 12.9582 9.68466 12.8714 9.83842L12.8379 9.90794C12.8161 9.96274 12.7934 10.0174 12.7699 10.0712C12.685 10.2655 12.7243 10.4615 12.8347 10.5719C13.2886 11.0259 13.2886 11.7618 12.8347 12.2157L12.2152 12.8352C11.7613 13.2891 11.0254 13.2891 10.5714 12.8352C10.4749 12.7387 10.3127 12.6961 10.1434 12.7439L10.0707 12.7704C10.0171 12.7938 9.96273 12.8159 9.90817 12.8376C9.71041 12.916 9.59977 13.0828 9.59961 13.2384C9.59961 13.8798 9.07929 14.4001 8.43793 14.4001H7.56133C6.91993 14.4001 6.39961 13.8798 6.39961 13.2384C6.39946 13.1022 6.31496 12.9576 6.16133 12.8712L6.09179 12.8376C6.03681 12.8159 5.98177 12.7932 5.92774 12.7696C5.73338 12.685 5.53792 12.7251 5.42774 12.8352C5.00238 13.261 4.32871 13.2874 3.87227 12.915L3.78399 12.8352L3.16445 12.2157C2.71067 11.7619 2.71015 11.026 3.16367 10.5719L3.20195 10.5267C3.27081 10.4288 3.29609 10.289 3.25508 10.1439L3.2293 10.0712C3.20576 10.0173 3.18307 9.96282 3.16133 9.90794C3.08295 9.71018 2.91604 9.6001 2.76055 9.6001C2.11939 9.6001 1.59961 9.08034 1.59961 8.43914V7.56103C1.59961 6.91988 2.11939 6.4001 2.76055 6.4001C2.91602 6.40008 3.0823 6.28987 3.16055 6.09228L3.2293 5.92823L3.25508 5.85557C3.29607 5.71039 3.27089 5.5705 3.20195 5.47275L3.16367 5.42823C2.70998 4.97453 2.70998 4.23817 3.16367 3.78447L3.78399 3.16416L3.87227 3.08447C4.32858 2.71224 5.00237 2.7388 5.42774 3.16416C5.53798 3.27438 5.73335 3.31456 5.92774 3.22979C5.98196 3.20613 6.03661 3.18288 6.09179 3.16103C6.28938 3.08279 6.39959 2.91651 6.39961 2.76103C6.39961 2.11988 6.91939 1.6001 7.56055 1.6001H8.43865ZM7.56055 2.4001C7.36123 2.4001 7.19961 2.56171 7.19961 2.76103C7.19959 3.29991 6.83431 3.72823 6.38633 3.90557C6.33973 3.92402 6.2931 3.94261 6.24727 3.96259C5.80447 4.15569 5.24263 4.11185 4.86133 3.73057C4.7377 3.60693 4.54707 3.59094 4.40664 3.68369L4.35039 3.73057L3.73008 4.35088C3.5888 4.49215 3.5888 4.72054 3.73008 4.86182C4.0875 5.21926 4.14847 5.73546 3.99571 6.16338L3.96211 6.24775C3.94212 6.29359 3.92353 6.34022 3.90508 6.38682C3.72775 6.8348 3.29942 7.20008 2.76055 7.2001C2.56123 7.2001 2.39961 7.36171 2.39961 7.56103V8.43914C2.39961 8.6385 2.56123 8.8001 2.76055 8.8001C3.29942 8.8001 3.7276 9.16562 3.90508 9.61338C3.92339 9.65954 3.94228 9.70546 3.96211 9.7509C4.15545 10.1938 4.11127 10.756 3.73008 11.1376C3.58863 11.2791 3.58858 11.5086 3.73008 11.6501L4.34961 12.2696L4.40664 12.3165C4.54705 12.4091 4.73779 12.3932 4.86133 12.2696C5.24267 11.888 5.80509 11.8436 6.24805 12.0368C6.29363 12.0567 6.33998 12.0755 6.38633 12.0939L6.46914 12.1306C6.87835 12.3258 7.19946 12.7333 7.19961 13.2384C7.19961 13.4379 7.36175 13.6001 7.56133 13.6001H8.43793C8.63745 13.6001 8.79961 13.4379 8.79961 13.2384C8.79977 12.6995 9.16505 12.2714 9.61289 12.0939C9.65905 12.0755 9.70497 12.0567 9.75041 12.0368L9.83473 12.0032C10.263 11.8502 10.7794 11.9119 11.1371 12.2696C11.2786 12.4111 11.5081 12.4111 11.6496 12.2696L12.2691 11.6501C12.4106 11.5086 12.4106 11.2791 12.2691 11.1376C11.8876 10.7561 11.8433 10.194 12.0371 9.7509C12.057 9.7053 12.0758 9.6589 12.0942 9.61258L12.1309 9.52978C12.3263 9.12114 12.7336 8.8001 13.2386 8.8001C13.438 8.8001 13.5996 8.6385 13.5996 8.43914V7.56103C13.5996 7.36171 13.438 7.2001 13.2386 7.2001C12.7334 7.20008 12.3261 6.8787 12.1309 6.46963L12.0942 6.38682L12.0363 6.24854C11.8426 5.8055 11.8875 5.24315 12.2691 4.86182C12.3927 4.73827 12.4086 4.54754 12.316 4.40713L12.2691 4.3501L11.6496 3.73057C11.5259 3.60685 11.3348 3.59112 11.1942 3.68369L11.1371 3.73057C10.7555 4.11176 10.1933 4.15594 9.75041 3.96259L9.61289 3.90557C9.16513 3.72809 8.79961 3.29991 8.79961 2.76103C8.79961 2.56171 8.63801 2.4001 8.43865 2.4001H7.56055ZM7.99961 5.6001C9.32513 5.6001 10.3996 6.67462 10.3996 8.0001C10.3996 9.32562 9.32513 10.4001 7.99961 10.4001C6.67413 10.4001 5.59961 9.32562 5.59961 8.0001C5.59961 6.67462 6.67413 5.6001 7.99961 5.6001ZM7.99961 6.4001C7.11595 6.4001 6.39961 7.11644 6.39961 8.0001C6.39961 8.88378 7.11595 9.6001 7.99961 9.6001C8.88329 9.6001 9.59961 8.88378 9.59961 8.0001C9.59961 7.11644 8.88329 6.4001 7.99961 6.4001Z",fill:n})});uC.propTypes={size:Qe.oneOfType([Qe.number,Qe.string]),color:Qe.string,className:Qe.string,onClick:Qe.func,onMouseEnter:Qe.func,onMouseLeave:Qe.func,style:Qe.object,"aria-label":Qe.string,"aria-hidden":Qe.bool,role:Qe.string,id:Qe.string,"data-testid":Qe.string};const xV=({size:e=20,width:n,height:s,fill:r="#17171A",className:i,onClick:a,style:o})=>{const l=n||e,c=s||e;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:i,onClick:a,style:o,children:[t.jsx("mask",{id:"mask0_2058_52086",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:t.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_2058_52086)",children:t.jsx("path",{d:"M10.4167 9.95703C10.8194 9.51259 11.1285 9.00564 11.3438 8.4362C11.559 7.86675 11.6667 7.27648 11.6667 6.66536C11.6667 6.05425 11.559 5.46398 11.3438 4.89453C11.1285 4.32509 10.8194 3.81814 10.4167 3.3737C11.25 3.48481 11.9444 3.85286 12.5 4.47786C13.0556 5.10286 13.3333 5.83203 13.3333 6.66536C13.3333 7.4987 13.0556 8.22786 12.5 8.85286C11.9444 9.47786 11.25 9.84592 10.4167 9.95703ZM15 16.6654V14.1654C15 13.6654 14.8889 13.1897 14.6667 12.7383C14.4444 12.2869 14.1528 11.8876 13.7917 11.5404C14.5 11.7904 15.1562 12.1133 15.7604 12.5091C16.3646 12.9049 16.6667 13.457 16.6667 14.1654V16.6654H15ZM16.6667 10.832V9.16536H15V7.4987H16.6667V5.83203H18.3333V7.4987H20V9.16536H18.3333V10.832H16.6667ZM6.66667 9.9987C5.75 9.9987 4.96528 9.67231 4.3125 9.01953C3.65972 8.36675 3.33333 7.58203 3.33333 6.66536C3.33333 5.7487 3.65972 4.96398 4.3125 4.3112C4.96528 3.65842 5.75 3.33203 6.66667 3.33203C7.58333 3.33203 8.36806 3.65842 9.02083 4.3112C9.67361 4.96398 10 5.7487 10 6.66536C10 7.58203 9.67361 8.36675 9.02083 9.01953C8.36806 9.67231 7.58333 9.9987 6.66667 9.9987ZM0 16.6654V14.332C0 13.8598 0.121528 13.4258 0.364583 13.0299C0.607639 12.6341 0.930556 12.332 1.33333 12.1237C2.19444 11.6931 3.06944 11.3702 3.95833 11.1549C4.84722 10.9397 5.75 10.832 6.66667 10.832C7.58333 10.832 8.48611 10.9397 9.375 11.1549C10.2639 11.3702 11.1389 11.6931 12 12.1237C12.4028 12.332 12.7257 12.6341 12.9688 13.0299C13.2118 13.4258 13.3333 13.8598 13.3333 14.332V16.6654H0ZM6.66667 8.33203C7.125 8.33203 7.51736 8.16884 7.84375 7.84245C8.17014 7.51606 8.33333 7.1237 8.33333 6.66536C8.33333 6.20703 8.17014 5.81467 7.84375 5.48828C7.51736 5.16189 7.125 4.9987 6.66667 4.9987C6.20833 4.9987 5.81597 5.16189 5.48958 5.48828C5.16319 5.81467 5 6.20703 5 6.66536C5 7.1237 5.16319 7.51606 5.48958 7.84245C5.81597 8.16884 6.20833 8.33203 6.66667 8.33203ZM1.66667 14.9987H11.6667V14.332C11.6667 14.1793 11.6285 14.0404 11.5521 13.9154C11.4757 13.7904 11.375 13.6931 11.25 13.6237C10.5 13.2487 9.74306 12.9674 8.97917 12.7799C8.21528 12.5924 7.44444 12.4987 6.66667 12.4987C5.88889 12.4987 5.11806 12.5924 4.35417 12.7799C3.59028 12.9674 2.83333 13.2487 2.08333 13.6237C1.95833 13.6931 1.85764 13.7904 1.78125 13.9154C1.70486 14.0404 1.66667 14.1793 1.66667 14.332V14.9987Z",fill:r})})]})},gV=({size:e,width:n=14,height:s=12,className:r=""})=>{const i=`gradient_tick_${et.useId().replace(/:/g,"_")}`,a=e||n,o=e?e*12/14:s;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:o,viewBox:"0 0 14 12",fill:"none",className:r,children:[t.jsx("path",{d:"M4.59514 11.4989L0 6.90381L2.09408 4.80973L4.59514 7.31818L11.9059 0L14 2.09408L4.59514 11.4989Z",fill:`url(#${i})`}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:i,x1:"7",y1:"0",x2:"7",y2:"11.4989",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#00FF66"}),t.jsx("stop",{offset:"1",stopColor:"#62ECFE"})]})})]})},E2e=()=>{const{t:e}=en("teams"),{user:n}=os(),{currentWorkspace:s,workspaces:r,getCurrentWorkspaceData:i}=hs(),{toast:a}=ns(),o=ku(),l=s7(),[c,u]=d.useState(!1),[p,f]=d.useState(!1),[m,h]=d.useState(""),[x,g]=d.useState(!1);d.useEffect(()=>{const O=()=>{x||u(!1)},M=()=>u(!0),L=()=>g(!0),P=()=>g(!1);return window.addEventListener("close-workspace-switcher",O),window.addEventListener("open-workspace-switcher",M),window.addEventListener("tour-started",L),window.addEventListener("tour-ended",P),()=>{window.removeEventListener("close-workspace-switcher",O),window.removeEventListener("open-workspace-switcher",M),window.removeEventListener("tour-started",L),window.removeEventListener("tour-ended",P)}},[x]),d.useEffect(()=>{c||h("")},[c]);const{data:v,isLoading:b,refetch:y}=Kr(void 0,{skip:!n}),[w,{isLoading:_}]=z5(),[N,{isLoading:j}]=W5(),C=O=>{if(s===O){u(!1);return}u(!1);const M=r.find(G=>G.id===O),L=ea(M,n);H(ki.PROJECT_SWITCH_CLICKED,{fromWorkspace:s,toWorkspace:O,toWorkspaceName:L});const B=`${O==="personal"?bu:hh(O)}?switching=${encodeURIComponent(L)}`;window.location.href=B},S=()=>{u(!1),f(!0),H(ki.CREATE_NEW_PROJECT_CLICKED,{source:"workspace_switcher",currentWorkspace:s})},F=(O,M)=>{C(O)},E=async(O,M)=>{try{await w({invitation_id:O}).unwrap(),a({title:e("workspaceSelector.toast.invitationAccepted"),description:e("workspaceSelector.toast.successfullyJoined",{name:M}),variant:"default"}),localStorage.removeItem("pending_invitation")}catch(L){a({title:e("workspaceSelector.toast.error"),description:L?.error||e("workspaceSelector.toast.failedToAccept"),variant:"destructive"})}},I=async(O,M)=>{try{await N({invitation_id:O}).unwrap(),a({title:e("workspaceSelector.toast.invitationDeclined"),description:e("workspaceSelector.toast.successfullyDeclined",{name:M}),variant:"default"})}catch(L){a({title:e("workspaceSelector.toast.error"),description:L?.data?.detail||e("workspaceSelector.toast.failedToDecline"),variant:"destructive"})}},T=()=>{H(ki.PROJECT_SETTINGS_CLICKED,{currentWorkspace:s}),o.open({initialTab:"general"})},A=()=>{H(ki.PROJECT_INVITE_MEMBER_CLICKED,{currentWorkspace:s,source:"project_switcher"}),l.open({organizationId:s})},D=i();return t.jsxs("div",{className:`relative flex justify-center ${x?"z-[10001]":""}`,"data-tour":"workspace-switcher",children:[t.jsxs("button",{type:"button","data-testid":Nr.workspace.switcherButton,onClick:()=>{c||H(ki.PROJECT_SWITCHER_CLICKED,{currentWorkspace:s}),u(!c),y()},className:k("flex items-center gap-2 p-[10px] rounded-[31.689px] transition-all duration-200","bg-[#222224] hover:bg-[#2C2C2E] border-[1px] border-[#303033]"),children:[t.jsx("div",{className:"h-5 w-5 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(Wc,{size:20,name:ea(D,n),variant:"marble",colors:zp})}),t.jsx("span",{"data-testid":Nr.workspace.name,className:"text-white text-sm font-medium max-w-[150px] truncate",children:b?e("teams.loading"):ea(D,n)}),t.jsx(n3,{className:k("w-5 h-5 text-[#808080] transition-transform duration-200",!c&&"rotate-180")})]}),c&&t.jsxs("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 mt-2 w-[320px] bg-[#222224] rounded-[16px] border border-[#303033] shadow-2xl overflow-hidden ${x?"z-[10001]":"z-50"}`,children:[r.length>2&&t.jsx("div",{className:"px-5 py-[10px] border-b border-[#303033]",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($o,{className:"w-4 h-4 text-white/40"}),t.jsx("input",{type:"text",placeholder:e("workspaceSelector.searchProjects")||"Search projects",value:m,onChange:O=>h(O.target.value),onBlur:()=>{m.trim()&&H(ki.PROJECT_SEARCH_USED,{searchTerm:m.trim(),source:"project_switcher"})},className:"flex-1 bg-transparent text-white text-sm placeholder-white/40 outline-none font-brockmann"})]})}),t.jsxs("div",{className:"p-4 pb-[10px]",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(Wc,{size:32,name:ea(D,n),variant:"marble",colors:zp})}),t.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[t.jsx("h3",{className:"text-white text-sm font-semibold truncate",children:ea(D,n)}),t.jsxs("p",{className:"text-[#808080] text-sm",children:[Ah(D,e),"  ",cl(D)," ",cl(D)===1?e("workspaceSelector.member"):e("workspaceSelector.members")]})]}),t.jsx("div",{className:"flex-shrink-0 self-center",children:t.jsx(gV,{})})]}),s!=="personal"&&t.jsxs("div",{className:"flex gap-2 mt-4",children:[t.jsxs(zt,{variant:"secondary",size:"sm",onClick:T,centerContent:!Dh(D),className:"flex-1 rounded-lg border border-white/[0.08] backdrop-blur-[25px] opacity-80 hover:opacity-100 hover:bg-white/[0.08] transition-all duration-200",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.03) 100%)"},children:[t.jsx(uC,{size:16,color:"#E8E8E6",className:"mr-2"}),e("workspaceSelector.settings")]}),Dh(D)&&t.jsxs(zt,{variant:"secondary",size:"sm",onClick:A,"data-tour":"invite-members-button",className:"flex-1 rounded-lg border border-white/[0.08] backdrop-blur-[25px] opacity-80 hover:opacity-100 hover:bg-white/[0.08] transition-all duration-200",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.03) 100%)"},children:[t.jsx(xV,{size:16,fill:"#E8E8E6",className:"mr-2"}),e("workspaceSelector.inviteMembers")]})]})]}),r.length>1&&t.jsx("div",{children:t.jsx("div",{className:"px-[6px] pb-[6px] max-h-[240px] overflow-y-auto",children:r.filter(O=>O.id!==s).filter(O=>m===""||ea(O,n).toLowerCase().includes(m.toLowerCase())).map(O=>t.jsxs("div",{onClick:()=>C(O.id),className:"w-full flex items-center gap-3 p-[10px] rounded-[10px] hover:bg-[#2C2C2E] transition-all duration-200 group cursor-pointer",children:[t.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(Wc,{size:32,name:ea(O,n),variant:"marble",colors:zp})}),t.jsxs("div",{className:"flex-1 text-left min-w-0 overflow-hidden",children:[t.jsx("p",{className:"text-white/80 group-hover:text-white text-sm font-medium truncate transition-colors duration-200",children:ea(O,n)}),t.jsxs("p",{className:"text-[#808080] text-xs font-inter font-medium",children:[Ah(O,e),"  ",cl(O)," ",cl(O)===1?e("workspaceSelector.member"):e("workspaceSelector.members")]})]}),t.jsxs("button",{type:"button",onClick:M=>{M.stopPropagation(),C(O.id)},className:"opacity-0 group-hover:opacity-100 flex items-center gap-1.5 px-2.5 py-1.5 rounded-[8px] text-white/60 hover:text-white hover:bg-white/[0.04] transition-all duration-200 font-brockmann text-[14px] font-medium leading-4 tracking-[-0.2px]",children:[t.jsx(qU,{className:"w-4 h-4"}),t.jsx("span",{children:"Switch"})]})]},O.id))})}),!b&&v?.pending_invitations&&v.pending_invitations.length>0&&t.jsx("div",{className:"border-t border-[#303033] p-2",children:v.pending_invitations.map(O=>t.jsx(hV,{invitation:O,onAcceptInvitation:E,onDeclineInvitation:I,isAcceptingInvitation:_||j,variant:"switcher"},O.id))}),t.jsx("div",{className:"border-t border-white/[0.08] rounded-b-[10px] p-[6px]",children:t.jsxs("button",{type:"button",onClick:S,className:"w-full flex items-center justify-center gap-2 p-[6px] rounded-[10px] opacity-80 hover:opacity-100 hover:bg-white/[0.06] transition-all duration-200 group",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center bg-white/[0.04] rounded-lg",children:t.jsx(ma,{className:"w-4 h-4 text-white transition-transform duration-300 group-hover:rotate-90"})}),t.jsx("span",{className:"text-white font-brockmann text-[16px] font-medium leading-6 tracking-[-0.2px]",children:e("workspaceSelector.createNewProject")})]})})]}),c&&!x&&t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),t.jsx(dC,{isOpen:p,onOpenChange:f,onWorkspaceCreated:F})]})},S2e=K.discountModal.bg,k2e=K.discountModal.text,I2e=K.discountModal.assetOff,T2e=K.common.stars;function A2e({isOpen:e,onOpenChange:n,onClaimDiscount:s,onClose:r}){const i=()=>{r?.(),n(!1)},a=()=>{s?.()};return e?t.jsx(Kn,{children:t.jsx("div",{className:"fixed top-0 left-0 bottom-0 right-0 w-full h-full z-[10001] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:t.jsxs(fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"},className:"max-w-[95vw] md:max-w-[900px] md:h-[700px] w-full max-h-[90dvh] relative bg-[#131314] text-white border border-[#1A1A1A] rounded-2xl overflow-hidden",children:[t.jsx("img",{src:S2e,alt:"Background",className:"absolute inset-0 w-full h-full object-cover z-[0]"}),t.jsx("button",{title:"Close",className:"absolute top-4 right-4 md:top-6 md:right-6 z-[99] bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#FFFFFF12] p-2 rounded-full transition-colors",onClick:i,children:t.jsx(Ft,{className:"w-5 h-5 md:w-6 md:h-6"})}),t.jsxs("div",{className:"relative z-[10] flex flex-col items-center justify-center gap-[48px] h-full",children:[t.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"flex justify-center",children:t.jsx("img",{src:k2e,alt:"Discount Text",className:"w-[320px] mt-[56px] max-w-full h-auto"})}),t.jsxs(fe.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.1},onClick:a,className:"flex justify-center items-center gap-2 w-[300px] h-12 px-2 py-2 rounded-[30px] bg-gradient-to-b from-[#0F6] to-[#62ECFE] hover:opacity-90 transition-opacity",style:{boxShadow:"0 0 32.572px 0 rgba(98, 236, 254, 0.20), 0 0 32.572px 0 rgba(0, 255, 102, 0.50)"},children:[t.jsx("span",{className:"text-black font-semibold",children:"Subscribe Now"}),t.jsx("span",{children:t.jsx("img",{src:T2e,alt:"Stars",className:"w-6 h-6"})})]}),t.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.2},className:"flex justify-center",children:t.jsx("img",{src:I2e,alt:"Discount Asset",className:"w-[320px] max-w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:a})})]})]})})}):null}const D2e=d.memo(({isOpen:e,onOpenChange:n})=>{const{isMobile:s}=ts(),{showPaymentLoading:r,hidePaymentModals:i,paymentModalState:a}=d0(),{getCurrentOrganizationId:o}=hs(),l=d.useRef(gl()),c=d.useCallback(()=>{n(!1)},[n]),u=d.useCallback(async()=>{r("credits",4e4,l.current);try{const{url:p}=await vt.createCheckoutSession(5e3,!1,void 0,void 0,l.current,void 0,void 0);p?window.location.href=p:i()}catch(p){throw i(),jt("checkout_session_api_error",p,{plan_type:"payment",currency:l.current}),p}},[c,r,i,vt,l]);return e?t.jsxs(t.Fragment,{children:[t.jsx(Kn,{children:e&&t.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/80 backdrop-blur-sm",onClick:c,children:t.jsx("div",{className:"flex items-center justify-center w-full h-full p-4",children:t.jsxs(fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative w-full flex flex-col overflow-hidden rounded-2xl",style:{maxWidth:s?"95dvw":"800px",height:s?"85dvh":"640px",maxHeight:s?"90dvh":"95dvh",backgroundColor:"#151517"},onClick:p=>p.stopPropagation(),role:"dialog",children:[t.jsx("button",{type:"button",onClick:c,className:"absolute z-10 flex items-center justify-center w-8 h-8 transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-6 md:top-6 hover:bg-white/10",style:{color:"rgba(255, 255, 255, 0.8)",backgroundColor:"rgba(255, 255, 255, 0.05)"},"aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5 md:w-6 md:h-6"})}),t.jsxs("div",{className:"relative flex-1 overflow-hidden",children:[t.jsx("img",{src:s?"https://assets.emergent.sh/assets/free_credits_mobile.png":"https://assets.emergent.sh/assets/free_credits.png",alt:"Free Credits",className:"absolute inset-0 w-full h-full object-cover pointer-events-none"}),t.jsx("div",{className:"absolute inset-x-0 flex items-center justify-center px-4",style:{bottom:s?"40px":"60px"},children:t.jsxs(fe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},whileHover:{scale:1.05,y:-4},whileTap:{scale:.98},onClick:u,className:"flex items-center justify-center gap-2 px-6 md:px-8 py-2 h-12 rounded-full cursor-pointer max-w-full",style:{width:s?"280px":"332px",background:"linear-gradient(90deg, #ffffff30, #00000050), #F3CA5F",boxShadow:`0px 0px 20px 0px #F3CA5F66,
                                    0px 2.18px 3.64px 1.45px #FFFFFF66 inset,
                                    0px -1.45px 0px 0px #00000033 inset,
                                    0px 0.73px 0.73px 0.73px #0000001A`,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"},children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:"shrink-0",children:[t.jsxs("g",{clipPath:"url(#clip0_739_14111_left)",children:[t.jsx("circle",{opacity:.1,cx:"12",cy:"12",r:"12",fill:"black"}),t.jsx("path",{d:"M12 2.40039C17.3019 2.40039 21.5996 6.69807 21.5996 12C21.5996 17.3019 17.3019 21.5996 12 21.5996C6.69807 21.5996 2.40039 17.3019 2.40039 12C2.40039 6.69807 6.69807 2.40039 12 2.40039ZM12.4902 7.90723C12.174 7.12368 11.9071 6.86135 11.5273 7.79688C10.6963 9.79141 9.70407 10.7423 7.75098 11.5654C7.55481 11.6561 7.20249 11.8136 7.2002 12C7.20273 12.1864 7.55262 12.344 7.75098 12.4346C9.70163 13.2553 10.6964 14.2077 11.5273 16.2021C11.9118 17.1549 12.1793 16.8557 12.4902 16.0918C13.3235 14.1641 14.2544 13.2699 16.2197 12.4346C16.4258 12.3363 16.7654 12.2055 16.7998 12.0098V11.9873C16.765 11.7934 16.428 11.6617 16.2197 11.5635V11.5654C14.2545 10.7301 13.3235 9.83574 12.4902 7.90723Z",fill:"black"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_739_14111_left",children:t.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}),t.jsx("p",{className:"font-brockmann font-semibold text-lg md:text-xl leading-8 tracking-tight text-[#272728] whitespace-nowrap",style:{textShadow:"0 0 20px rgba(255, 255, 255, 0.6)"},children:"Claim 15k Free Credits"}),t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:"shrink-0",children:[t.jsxs("g",{clipPath:"url(#clip0_739_14111_right)",children:[t.jsx("circle",{opacity:.1,cx:"12",cy:"12",r:"12",fill:"black"}),t.jsx("path",{d:"M12 2.40039C17.3019 2.40039 21.5996 6.69807 21.5996 12C21.5996 17.3019 17.3019 21.5996 12 21.5996C6.69807 21.5996 2.40039 17.3019 2.40039 12C2.40039 6.69807 6.69807 2.40039 12 2.40039ZM12.4902 7.90723C12.174 7.12368 11.9071 6.86135 11.5273 7.79688C10.6963 9.79141 9.70407 10.7423 7.75098 11.5654C7.55481 11.6561 7.20249 11.8136 7.2002 12C7.20273 12.1864 7.55262 12.344 7.75098 12.4346C9.70163 13.2553 10.6964 14.2077 11.5273 16.2021C11.9118 17.1549 12.1793 16.8557 12.4902 16.0918C13.3235 14.1641 14.2544 13.2699 16.2197 12.4346C16.4258 12.3363 16.7654 12.2055 16.7998 12.0098V11.9873C16.765 11.7934 16.428 11.6617 16.2197 11.5635V11.5654C14.2545 10.7301 13.3235 9.83574 12.4902 7.90723Z",fill:"black"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_739_14111_right",children:t.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})]})})]})]})})})}),a.isLoading&&t.jsx(Hf,{isOpen:a.isLoading,onOpenChange:i,paymentType:a.paymentType||"credits",amount:a.amount,currency:a.currency})]}):null}),M2e="/assets/DesktopBGCredit-DIHKn3ld.png",R2e="/assets/MobileBGCredit-BQhYdh9z.png",L2e=d.memo(({isOpen:e,onOpenChange:n})=>{const{isMobile:s}=ts(),r=r0(),[i,a]=d.useState(!1),o=d.useCallback(()=>{navigator.clipboard.writeText(bg).catch(()=>{});try{localStorage.setItem("promoCouponCode",bg)}catch{}},[]),l=d.useCallback(()=>{o(),a(!0),setTimeout(()=>a(!1),2e3)},[o]),c=d.useCallback(()=>{n(!1)},[n]),u=d.useCallback(()=>{o(),n(!1),setTimeout(()=>r.open(),350)},[o,n,r]);return e?t.jsx(Kn,{children:e&&t.jsx("div",{className:"fixed inset-0 z-[10001] bg-black/80 backdrop-blur-sm",onClick:c,children:t.jsx("div",{className:"flex items-center justify-center w-full h-full p-4",children:t.jsxs(fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative flex flex-col w-full overflow-hidden rounded-2xl",style:{maxWidth:s?"95dvw":"800px",height:s?"85dvh":"640px",maxHeight:s?"90dvh":"95dvh",backgroundColor:"#151517"},onClick:p=>p.stopPropagation(),role:"dialog",children:[t.jsx("button",{type:"button",onClick:c,className:"absolute z-10 flex items-center justify-center w-8 h-8 transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-6 md:top-6 hover:bg-white/10",style:{color:"rgba(255, 255, 255, 0.8)",backgroundColor:"rgba(255, 255, 255, 0.05)"},"aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5 md:w-6 md:h-6"})}),t.jsxs("div",{className:"relative flex-1 overflow-hidden",children:[t.jsx("img",{src:s?R2e:M2e,alt:"Valentine Credits Discount",className:"absolute inset-0 object-cover w-full h-full pointer-events-none"}),t.jsx("div",{className:"absolute inset-x-0 flex justify-center px-4",style:{bottom:s?"120px":"150px"},children:t.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"flex flex-col items-center gap-4",style:{width:s?"100%":"460px",maxWidth:"460px"},children:[t.jsxs("div",{className:"flex items-center justify-between w-full overflow-clip rounded-[10px]",style:{backgroundColor:"white",border:"1px solid rgba(0, 0, 0, 0.2)",paddingLeft:"16px",paddingRight:"8px",paddingTop:"8px",paddingBottom:"8px"},children:[t.jsx("span",{className:"font-brockmann font-semibold text-[20px] text-[#04101c] uppercase",children:bg}),t.jsxs("button",{type:"button",onClick:l,className:"relative flex items-center justify-center gap-2 rounded-[8px] shrink-0",style:{backgroundColor:"black",height:"36px",width:"137px",padding:"8px 16px",boxShadow:"0px 0.727px 0.727px 0px rgba(0,0,0,0.1), 0px 0px 20px 0px rgba(255,255,255,0.4)"},children:[i?t.jsx(xn,{className:"w-5 h-5 text-white shrink-0"}):t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"shrink-0",children:t.jsx("path",{d:"M14.7988 5.52734C15.1535 5.52741 15.5053 5.59669 15.833 5.73242C16.1607 5.86822 16.4592 6.06755 16.71 6.31836C16.9607 6.56919 17.1592 6.86766 17.2949 7.19531C17.4306 7.52308 17.501 7.87474 17.501 8.22949V14.7949C17.5009 15.1496 17.4306 15.5015 17.2949 15.8291C17.1592 16.1565 16.9605 16.4544 16.71 16.7051C16.4592 16.9558 16.1606 17.1542 15.833 17.29C15.5053 17.4258 15.1535 17.497 14.7988 17.4971H8.2334C7.87858 17.4971 7.52703 17.4258 7.19922 17.29C6.87158 17.1543 6.57308 16.9558 6.32227 16.7051C6.07166 16.4544 5.87206 16.1566 5.73633 15.8291C5.60062 15.5015 5.53134 15.1496 5.53125 14.7949V8.22949C5.53125 7.51284 5.81554 6.82513 6.32227 6.31836C6.82901 5.81161 7.51675 5.52737 8.2334 5.52734H14.7988ZM8.2334 6.88965C7.87841 6.88968 7.53813 7.03219 7.28711 7.2832C7.03612 7.53424 6.89453 7.8745 6.89453 8.22949V14.7949C6.89462 14.9703 6.92901 15.1445 6.99609 15.3066C7.06336 15.4689 7.1629 15.617 7.28711 15.7412C7.41129 15.8653 7.55854 15.9641 7.7207 16.0312C7.88306 16.0985 8.05766 16.1328 8.2334 16.1328H14.7988C14.9744 16.1327 15.1484 16.0984 15.3105 16.0312C15.4729 15.964 15.6209 15.8655 15.7451 15.7412C15.8693 15.617 15.9679 15.4689 16.0352 15.3066C16.1023 15.1445 16.1366 14.9704 16.1367 14.7949V8.22949C16.1367 8.05375 16.1024 7.87917 16.0352 7.7168C15.968 7.55463 15.8692 7.40739 15.7451 7.2832C15.6209 7.15897 15.4728 7.05946 15.3105 6.99219C15.1484 6.92508 14.9743 6.88972 14.7988 6.88965H8.2334ZM12.2725 2.49609C12.6842 2.49613 13.047 2.60551 13.3564 2.83008C13.6512 3.04403 13.8525 3.32948 14.0049 3.60352C14.1878 3.93255 14.0692 4.34821 13.7402 4.53125C13.4112 4.71415 12.9955 4.59468 12.8125 4.26562C12.7063 4.07487 12.6231 3.98202 12.5566 3.93359C12.5048 3.89597 12.4287 3.85843 12.2725 3.8584H4.69629C4.2398 3.8586 3.86251 4.2359 3.8623 4.69238V12.2676L3.87012 12.376C3.88471 12.4848 3.92103 12.5901 3.97656 12.6855C4.05069 12.8128 4.15727 12.9192 4.28516 12.9922C4.61217 13.1786 4.72723 13.5948 4.54102 13.9219C4.35463 14.2488 3.9374 14.3628 3.61035 14.1768C3.27398 13.9849 2.99377 13.7067 2.79883 13.3721C2.60392 13.0374 2.50094 12.6568 2.5 12.2695V4.69238C2.5002 3.48278 3.48669 2.49629 4.69629 2.49609H12.2725Z",fill:"white"})}),t.jsx("span",{className:"font-brockmann font-semibold text-[16px] text-nowrap text-white tracking-[-0.32px] leading-6 w-[75px] text-center",children:i?"Copied!":"Copy Code"}),t.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-[inherit]",style:{boxShadow:"inset 0px -1.455px 0px 0px rgba(0,0,0,0.2), inset 0px 2.182px 3.636px 0px rgba(255,255,255,0.4)"}})]})]}),t.jsxs("div",{className:"text-center text-[14px] font-medium opacity-80 text-black",children:[t.jsx("p",{children:"Paste this code in the checkout session to redeem the offer."}),t.jsx("p",{className:"font-bold",children:"Available on top-ups over $100."})]})]})}),t.jsx("div",{className:"absolute inset-x-0 flex items-center justify-center px-4",style:{bottom:s?"40px":"60px"},children:t.jsxs(fe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},onClick:u,className:"relative flex items-center justify-center max-w-full gap-2 px-4 py-2 rounded-[100px] cursor-pointer",style:{width:"300px",height:"56px",backgroundColor:"#FFFFFF",boxShadow:"inset 0px 2.18px 3.64px 1.45px #FFFFFF66, inset 0px -4px 0px 0px #00000033"},children:[t.jsx("p",{className:"font-brockmann font-semibold leading-6 text-[18px] text-black whitespace-nowrap",children:"Claim 20% Off"}),t.jsx($p,{size:24,color:"#000000",className:"shrink-0"})]})})]})]})})})}):null}),P2e="pk_X807fuc0nfNQX8tFKDm3PatW0ZZNyDUd",O2e=["emergentlabsinc.partnerlinks.io","get.emergent.sh","trialcoig7l2s8gsenk14emergent.partnerlinks.io"];function B2e(e){const n=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return n?n[2]:null}function bV(){return!!B2e("ps_partner_key")}function yV(e){return!!localStorage.getItem(`ps_signup_tracked_${e}`)}function U2e(e){localStorage.setItem(`ps_signup_tracked_${e}`,"true")}function H2e(){return new Promise((e,n)=>{if(window.growsumo?.createSignup){e();return}const s=document.createElement("script");s.src="https://js.partnerstack.com/v1/",s.type="text/javascript",s.async=!0,s.onload=()=>{try{window.growsumo?._initialize(P2e,O2e),setTimeout(e,500)}catch(r){n(r)}},s.onerror=n,document.head.appendChild(s)})}async function V2e(e,n,s){if(yV(e)||!bV())return!1;try{return await H2e(),window.growsumo?.createSignup?(window.growsumo.data.email=n,window.growsumo.data.customer_key=e,window.growsumo.data.name=s||"",new Promise(r=>{window.growsumo.createSignup(i=>{U2e(e),r(!0)})})):!1}catch{return!1}}const $2e=K.common.foregroundImage,vV=d.memo(({isFreeUser:e})=>e?t.jsx(Rn.img,{src:$2e,alt:"Overlay",className:"fixed w-full top-0 right-0 bottom-0 left-0 h-full object-cover pointer-events-none z-[100]",initial:{opacity:0},animate:{opacity:.2},transition:{duration:1,ease:"easeOut"}}):null);vV.displayName="FreeUserBackground";const wV=d.memo(({isFreeUser:e,session:n,userName:s})=>{const{t:r}=en("home"),i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},{isMobile:o}=ts();return t.jsx(K1,{className:"flex bg-transparent border-0 max-md:items-center max-md:h-full max-md:flex md:space-y-1",children:t.jsx(Y2,{className:"max-md:absolute max-md:w-full max-md:transform max-md:-translate-x-1/2 max-md:-translate-y-1/2 max-md:top-1/2 max-md:left-1/2 max-md:pb-[200px]",children:t.jsxs(Rn.div,{variants:i,initial:"hidden",animate:"visible",className:"w-full",children:[o&&t.jsx(nV,{className:"flex items-center justify-center w-full h-6 md:py-1 mb-[10px] max-md:text-[14px] text-[16px]",children:t.jsx(Rn.span,{variants:a,style:{background:"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 22.43px rgba(98, 236, 254, 0.20), 0 0 22.43px rgba(0, 255, 102, 0.50)",fontWeight:400,lineHeight:"24px",letterSpacing:"1.6px",textTransform:"uppercase",textAlign:"center"},children:t.jsx("span",{className:"font-ndot",children:n?r("welcome.greetingWithName",{name:s}):r("welcome.greeting")})})}),t.jsx(tV,{className:"flex items-center justify-center w-full font-medium font-brockmann",children:t.jsx(Rn.span,{"data-testid":mB.welcomeText,variants:a,transition:{duration:.8,ease:"easeOut",delay:.4},className:`animate-text bg-gradient-to-r text-center text-[6.7vw] md:text-[40px] max-text-[40px] from-[#80FFF9] to-[#F7E7D9] text-transparent bg-clip-text leading-[1.2] py-1 ${e?"[text-shadow:0_0_40px_rgba(232,232,230,0.40)]":""}`,children:t.jsx("span",{className:"",children:r(e?"welcome.taglineFree":"welcome.taglinePaid")})})}),e&&t.jsx(Rn.p,{variants:a,transition:{duration:.8,ease:"easeOut",delay:.8},className:"flex items-center justify-center mt-4",children:t.jsx("p",{className:"text-center text-[#595959] max-md:text-[16px] md:text-[18px] font-medium leading-6 tracking-[-0.18px]",children:r("welcome.descriptionFree")})})]})})})});wV.displayName="WelcomeContent";const z2e=K.common.eLogo,CV=d.memo(({isFreeUser:e,jobs:n,showBottomPage:s,setShowBottomPage:r})=>{const{t:i}=en("home");return e?t.jsxs(t.Fragment,{children:[t.jsx(xa,{children:n.length==0&&!s&&t.jsx(Rn.div,{className:"max-md:hidden fixed -bottom-[60px] left-1/2 -translate-x-1/2 pointer-events-none z-[-1] w-full",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,ease:"easeOut",opacity:{duration:.8,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.3,ease:"easeOut"}},children:t.jsx("img",{src:z2e,alt:i("bottomPageElements.emergentLogo"),className:"w-auto h-[400px] md:w-[350px] md:h-[350px] object-cover mx-auto"})})}),n.length==0&&!s&&t.jsxs(Rn.div,{onClick:()=>r(!0),className:"max-md:hidden fixed bottom-5 inset-x-0 w-fit mx-auto flex justify-center items-center px-4 py-2 h-9 min-w-[42px] min-h-9 cursor-pointer bg-white/10 backdrop-blur-xl hover:backdrop-blur-xl rounded-[8px]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.6,ease:"easeOut",opacity:{duration:.5,ease:"easeInOut"}},whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},children:[t.jsx("p",{className:"text-[var(--text-tertiary)] select-none text-[16px] text-white leading-[18px]",children:i("bottomPageElements.exploreShowcases")}),t.jsx("div",{className:"ml-2",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[t.jsx("path",{d:"M4 5L8 9L12 5",stroke:"#B9B9B7",strokeWidth:"0.886667",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M4 9L8 13L12 9",stroke:"#858481",strokeWidth:"0.886667",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]}):null});CV.displayName="BottomPageElements";const W2e=K.seriesB.robot,G2e=K.seriesB.eyes,q2e=K.seriesB.bannerBg,Rk="series_b_celebration_closed",K2e=d.memo(()=>{const[e,n]=d.useState(()=>localStorage.getItem(Rk)!=="true"),[s,r]=d.useState(!1),i=d.useRef(null),a=()=>{i.current&&i.current.play()},o=()=>{localStorage.setItem(Rk,"true"),n(!1)};return t.jsx(xa,{children:e&&t.jsxs(Rn.div,{className:"fixed bottom-0 right-6 z-[50] hidden md:block",initial:{y:200,opacity:0},animate:{y:0,opacity:1},exit:{x:300,opacity:0},transition:{type:"spring",stiffness:50,damping:15,delay:.8},onAnimationComplete:a,children:[t.jsx("button",{onClick:o,className:"absolute -top-2 -right-2 z-30 p-1 bg-white/40 hover:bg-white/60 rounded-full backdrop-blur-sm transition-colors",children:t.jsx(Ft,{size:16,className:"text-white"})}),t.jsxs("div",{className:"relative flex flex-col items-center",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[t.jsx(Rn.div,{className:"absolute -top-5  w-[250px] h-[200px] rounded-full pointer-events-none",style:{background:"radial-gradient(ellipse, rgba(255, 255, 255, 1) 0%, transparent 70%)",filter:"blur(25px)"},initial:{opacity:0},animate:{opacity:s?1:0},transition:{duration:.3}}),t.jsx(Rn.div,{className:"relative z-10 overflow-hidden cursor-pointer",animate:{rotate:s?-2:0,y:s?-2:0},transition:{type:"spring",stiffness:300,damping:20},onClick:()=>window.open("https://x.com/emergentlabs/status/2013644671541748113","_blank"),children:t.jsx("video",{ref:i,muted:!0,playsInline:!0,className:"w-[180px] h-auto rounded-lg",children:t.jsx("source",{src:q2e,type:"video/webm"})})}),t.jsxs("div",{className:"relative -mt-2 z-20",children:[t.jsx("img",{src:W2e,alt:"Robot mascot",className:"w-[128px] h-auto"}),t.jsx("img",{src:G2e,alt:"",className:"absolute top-7 left-[45%] transform -translate-x-1/2 w-[28px] h-auto pointer-events-none"})]})]})]})})});K2e.displayName="SeriesBCelebration";function pC({size:e=24,color:n="#FFD464",className:s=""}){return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("mask",{id:"mask0_5965_64275",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_5965_64275)",children:t.jsx("path",{d:"M12 14.3C12.85 13.5167 13.5375 12.8708 14.0625 12.3625C14.5875 11.8542 14.9917 11.4167 15.275 11.05C15.5583 10.6833 15.75 10.3625 15.85 10.0875C15.95 9.8125 16 9.51667 16 9.2C16 8.6 15.7833 8.08333 15.35 7.65C14.9167 7.21667 14.4 7 13.8 7C13.45 7 13.1125 7.07083 12.7875 7.2125C12.4625 7.35417 12.2 7.55 12 7.8C11.8 7.55 11.5417 7.35417 11.225 7.2125C10.9083 7.07083 10.5667 7 10.2 7C9.6 7 9.08333 7.21667 8.65 7.65C8.21667 8.08333 8 8.6 8 9.2C8 9.51667 8.04583 9.80833 8.1375 10.075C8.22917 10.3417 8.41667 10.6583 8.7 11.025C8.98333 11.3917 9.38333 11.8292 9.9 12.3375C10.4167 12.8458 11.1167 13.5 12 14.3ZM5 21V5C5 4.45 5.19583 3.97917 5.5875 3.5875C5.97917 3.19583 6.45 3 7 3H17C17.55 3 18.0208 3.19583 18.4125 3.5875C18.8042 3.97917 19 4.45 19 5V21L12 18L5 21Z",fill:n})})]})}function C6({size:e=16,color:n="#0F0F10",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M4.466 1.5C3.906 1.5 3.43533 1.5 3.062 1.55C2.666 1.60333 2.304 1.72133 2.01267 2.01267C1.72133 2.304 1.60333 2.666 1.55 3.062C1.5 3.43533 1.5 3.906 1.5 4.466V4.53333C1.5 5.09333 1.5 5.564 1.55 5.93733C1.60333 6.33333 1.72133 6.69533 2.01267 6.98667C2.304 7.278 2.666 7.396 3.062 7.44933C3.43533 7.49933 3.906 7.49933 4.466 7.49933H4.53333C5.09333 7.49933 5.564 7.49933 5.93733 7.44933C6.33333 7.396 6.69533 7.278 6.98667 6.98667C7.278 6.69533 7.396 6.33333 7.44933 5.93733C7.49933 5.564 7.49933 5.09333 7.49933 4.53333V4.46667C7.49933 3.90667 7.49933 3.436 7.44933 3.06267C7.396 2.66667 7.278 2.30467 6.98667 2.01333C6.69533 1.722 6.33333 1.604 5.93733 1.55067C5.564 1.50067 5.09333 1.50067 4.53333 1.50067L4.466 1.5ZM11.466 1.5C10.906 1.5 10.4353 1.5 10.062 1.55C9.666 1.60333 9.304 1.72133 9.01267 2.01267C8.72133 2.304 8.60333 2.666 8.55 3.062C8.5 3.43533 8.5 3.906 8.5 4.466V4.53333C8.5 5.09333 8.5 5.564 8.55 5.93733C8.60333 6.33333 8.72133 6.69533 9.01267 6.98667C9.304 7.278 9.666 7.396 10.062 7.44933C10.4353 7.49933 10.906 7.49933 11.466 7.49933H11.534C12.094 7.49933 12.5647 7.49933 12.938 7.44933C13.334 7.396 13.696 7.278 13.9873 6.98667C14.2787 6.69533 14.3967 6.33333 14.45 5.93733C14.5 5.564 14.5 5.09333 14.5 4.53333V4.46667C14.5 3.90667 14.5 3.436 14.45 3.06267C14.3967 2.66667 14.2787 2.30467 13.9873 2.01333C13.696 1.722 13.334 1.604 12.938 1.55067C12.5647 1.50067 12.0947 1.50067 11.5347 1.50067L11.466 1.5ZM4.466 8.50467C3.906 8.50467 3.43533 8.50467 3.062 8.55467C2.666 8.608 2.304 8.726 2.01267 9.01733C1.72133 9.30867 1.60333 9.67067 1.55 10.0667C1.5 10.44 1.5 10.9107 1.5 11.4707V11.5387C1.5 12.0987 1.5 12.5693 1.55 12.9427C1.60333 13.3387 1.72133 13.7007 2.01267 13.992C2.304 14.2833 2.666 14.4013 3.062 14.4547C3.43533 14.5047 3.906 14.5047 4.466 14.5047H4.53333C5.09333 14.5047 5.564 14.5047 5.93733 14.4547C6.33333 14.4013 6.69533 14.2833 6.98667 13.992C7.278 13.7007 7.396 13.3387 7.44933 12.9427C7.49933 12.5693 7.49933 12.0987 7.49933 11.5387V11.4707C7.49933 10.9107 7.49933 10.4407 7.44933 10.0667C7.396 9.67067 7.278 9.30867 6.98667 9.01733C6.69533 8.726 6.33333 8.608 5.93733 8.55467C5.564 8.50467 5.09333 8.50467 4.53333 8.50467H4.466ZM11.466 8.50467C10.906 8.50467 10.4353 8.50467 10.062 8.55467C9.666 8.608 9.304 8.726 9.01267 9.01733C8.72133 9.30867 8.60333 9.67067 8.55 10.0667C8.5 10.44 8.5 10.9107 8.5 11.4707V11.5387C8.5 12.0987 8.5 12.5693 8.55 12.9427C8.60333 13.3387 8.72133 13.7007 9.01267 13.992C9.304 14.2833 9.666 14.4013 10.062 14.4547C10.4353 14.5047 10.906 14.5047 11.466 14.5047H11.534C12.094 14.5047 12.5647 14.5047 12.938 14.4547C13.334 14.4013 13.696 14.2833 13.9873 13.992C14.2787 13.7007 14.3967 13.3387 14.45 12.9427C14.5 12.5693 14.5 12.0987 14.5 11.5387V11.4707C14.5 10.9107 14.5 10.4407 14.45 10.0667C14.3967 9.67067 14.2787 9.30867 13.9873 9.01733C13.696 8.726 13.334 8.608 12.938 8.55467C12.5647 8.50467 12.094 8.50467 11.5347 8.50467H11.466Z",fill:n})})}function Y2e({size:e=16,color:n="#FFFFFF",className:s=""}){return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("mask",{id:"mask0_5965_65142",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:t.jsx("rect",{width:"16",height:"16",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_5965_65142)",children:t.jsx("path",{d:"M4.40281 13.7577V5.82403C4.40281 5.42825 4.54673 5.09243 4.83457 4.81658C5.12242 4.54074 5.46423 4.40281 5.86001 4.40281H13.7577C14.1534 4.40281 14.4923 4.54373 14.7741 4.82558C15.056 5.10742 15.1969 5.44624 15.1969 5.84202V11.5989L11.5989 15.1969H5.84202C5.44624 15.1969 5.10742 15.056 4.82558 14.7741C4.54373 14.4923 4.40281 14.1534 4.40281 13.7577ZM0.822781 3.86311C0.75082 3.46733 0.828777 3.11052 1.05665 2.7927C1.28453 2.47487 1.59636 2.27998 1.99214 2.20802L9.79984 0.822781C10.1956 0.75082 10.5524 0.828777 10.8703 1.05665C11.1881 1.28453 11.383 1.59636 11.4549 1.99214L11.6348 2.9636H10.1596L10.0337 2.244L2.244 3.62924L2.9636 7.695V12.7142C2.77171 12.6063 2.6068 12.4624 2.46888 12.2825C2.33095 12.1026 2.244 11.8987 2.20802 11.6708L0.822781 3.86311ZM5.84202 5.84202V13.7577H10.8792V10.8792H13.7577V5.84202H5.84202Z",fill:n})})]})}function Z2e({size:e=16,color:n="#FFFFFF",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M4.86338 1.68852C4.86338 1.30827 4.55513 1 4.17486 1C3.7946 1 3.48634 1.30827 3.48634 1.68852H4.86338ZM3.48634 6.6612C3.48634 7.04146 3.7946 7.34973 4.17486 7.34973C4.55513 7.34973 4.86338 7.04146 4.86338 6.6612H3.48634ZM1.68852 3.48634C1.30827 3.48634 1 3.7946 1 4.17486C1 4.55513 1.30827 4.86338 1.68852 4.86338V3.48634ZM6.6612 4.86338C7.04146 4.86338 7.34973 4.55513 7.34973 4.17486C7.34973 3.7946 7.04146 3.48634 6.6612 3.48634V4.86338ZM14.0701 10.5539C14.339 10.285 14.339 9.8491 14.0701 9.58021C13.8012 9.31132 13.3653 9.31132 13.0964 9.58021L14.0701 10.5539ZM9.58021 13.0964C9.31132 13.3653 9.31132 13.8012 9.58021 14.0701C9.84901 14.339 10.285 14.339 10.5539 14.0701L9.58021 13.0964ZM10.5539 9.58021C10.285 9.31132 9.84901 9.31132 9.58021 9.58021C9.31132 9.8491 9.31132 10.285 9.58021 10.5539L10.5539 9.58021ZM13.0964 14.0701C13.3653 14.339 13.8012 14.339 14.0701 14.0701C14.339 13.8012 14.339 13.3653 14.0701 13.0964L13.0964 14.0701ZM11.8252 5.97268C10.8322 5.97268 10.0273 5.16777 10.0273 4.17486H8.65024C8.65024 5.92829 10.0717 7.34973 11.8252 7.34973V5.97268ZM13.623 4.17486C13.623 5.16777 12.818 5.97268 11.8252 5.97268V7.34973C13.5786 7.34973 15 5.92829 15 4.17486H13.623ZM11.8252 2.37705C12.818 2.37705 13.623 3.18196 13.623 4.17486H15C15 2.42144 13.5786 1 11.8252 1V2.37705ZM11.8252 1C10.0717 1 8.65024 2.42144 8.65024 4.17486H10.0273C10.0273 3.18196 10.8322 2.37705 11.8252 2.37705V1ZM3.48634 1.68852V4.17486H4.86338V1.68852H3.48634ZM3.48634 4.17486V6.6612H4.86338V4.17486H3.48634ZM1.68852 4.86338H4.17486V3.48634H1.68852V4.86338ZM4.17486 4.86338H6.6612V3.48634H4.17486V4.86338ZM13.0964 9.58021L11.3382 11.3382L12.312 12.312L14.0701 10.5539L13.0964 9.58021ZM11.3382 11.3382L9.58021 13.0964L10.5539 14.0701L12.312 12.312L11.3382 11.3382ZM9.58021 10.5539L11.3382 12.312L12.312 11.3382L10.5539 9.58021L9.58021 10.5539ZM11.3382 12.312L13.0964 14.0701L14.0701 13.0964L12.312 11.3382L11.3382 12.312ZM3.21858 10.0273H5.13115V8.65024H3.21858V10.0273ZM5.97268 10.8689V12.7814H7.34973V10.8689H5.97268ZM5.13115 13.623H3.21858V15H5.13115V13.623ZM2.37705 12.7814V10.8689H1V12.7814H2.37705ZM3.21858 13.623C2.75382 13.623 2.37705 13.2462 2.37705 12.7814H1C1 14.0067 1.99329 15 3.21858 15V13.623ZM5.97268 12.7814C5.97268 13.2462 5.59591 13.623 5.13115 13.623V15C6.35644 15 7.34973 14.0067 7.34973 12.7814H5.97268ZM5.13115 10.0273C5.59591 10.0273 5.97268 10.4041 5.97268 10.8689H7.34973C7.34973 9.64355 6.35644 8.65024 5.13115 8.65024V10.0273ZM3.21858 8.65024C1.99329 8.65024 1 9.64355 1 10.8689H2.37705C2.37705 10.4041 2.75382 10.0273 3.21858 10.0273V8.65024Z",fill:n})})}function J2e({size:e=16,color:n="#FFFFFF",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsxs("g",{children:[t.jsx("rect",{x:"2.5",y:"2.5",width:"4",height:"7",rx:"0.5",stroke:n}),t.jsx("rect",{x:"13.5",y:"13.5",width:"4",height:"7",rx:"0.5",transform:"rotate(-180 13.5 13.5)",stroke:n}),t.jsx("rect",{x:"9.5",y:"2.5",width:"4",height:"1",rx:"0.5",fill:n,stroke:n}),t.jsx("rect",{x:"6.5",y:"13.5",width:"4",height:"1",rx:"0.5",transform:"rotate(-180 6.5 13.5)",fill:n,stroke:n})]})})}function Z2({children:e,icon:n,iconPosition:s="left",bgColor:r="#FFFFFF",textColor:i="#000000",className:a="",disabled:o=!1,type:l="button",...c}){return t.jsxs("button",{type:l,disabled:o,className:k("flex rounded-[10px] py-2 items-center font-semibold text-[14px] gap-1 px-6 w-fit",a),style:{backgroundColor:r,color:i,boxShadow:"0px 0px 20px 0px #FFFFFF66, 0px 2.18px 3.64px 1.45px #FFFFFF66 inset, 0px -1.45px 0px 0px #00000033 inset, 0px 0.73px 0.73px 0.73px #0000001A"},...c,children:[n&&s==="left"&&n,e,n&&s==="right"&&n]})}function X2e({size:e=20,color:n="#0F0F10",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M10.499 4.12891C12.2374 4.19435 13.9188 4.7679 15.335 5.77832C16.751 6.78879 17.8405 8.19186 18.4678 9.81445C18.5101 9.93164 18.5101 10.0605 18.4678 10.1777C17.8405 11.8003 16.751 13.2034 15.335 14.2139C13.9188 15.2243 12.2374 15.7978 10.499 15.8633C8.7606 15.7979 7.07924 15.2242 5.66309 14.2139C4.24699 13.2035 3.15763 11.8003 2.53027 10.1777C2.48791 10.0605 2.48791 9.93164 2.53027 9.81445C3.15763 8.19186 4.24696 6.78876 5.66309 5.77832C7.07925 4.76792 8.76058 4.19428 10.499 4.12891ZM11.8252 6.79297C11.1917 6.53063 10.4947 6.46194 9.82227 6.5957C9.14975 6.72948 8.53173 7.06006 8.04688 7.54492C7.56228 8.02964 7.23243 8.64712 7.09863 9.31934C6.96486 9.99186 7.03349 10.6897 7.2959 11.3232C7.55832 11.9565 8.00232 12.4981 8.57227 12.8789C9.1424 13.2599 9.81333 13.4629 10.499 13.4629C11.4178 13.4614 12.2985 13.0959 12.9482 12.4463C13.5981 11.7964 13.9644 10.9151 13.9658 9.99609C13.9658 9.31042 13.7618 8.64043 13.3809 8.07031C12.9999 7.50018 12.4587 7.05537 11.8252 6.79297ZM10.5 7.86328C11.6783 7.86328 12.6338 8.81877 12.6338 9.99707C12.6336 11.1752 11.6782 12.1299 10.5 12.1299C9.32186 12.1298 8.36636 11.1752 8.36621 9.99707C8.36621 8.81882 9.32176 7.86336 10.5 7.86328Z",fill:n})})}function J2({size:e=20,color:n="black",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M18.7883 13.7126C18.8757 13.7997 18.945 13.9032 18.9923 14.0171C19.0397 14.1311 19.064 14.2532 19.064 14.3766C19.064 14.5 19.0397 14.6222 18.9923 14.7361C18.945 14.8501 18.8757 14.9536 18.7883 15.0407L16.9133 16.9157C16.7372 17.0918 16.4983 17.1908 16.2492 17.1908C16.0001 17.1908 15.7613 17.0918 15.5852 16.9157C15.409 16.7396 15.3101 16.5007 15.3101 16.2516C15.3101 16.0026 15.409 15.7637 15.5852 15.5876L15.8594 15.3133H15.6961C14.7511 15.3123 13.8199 15.0862 12.9796 14.6538C12.1394 14.2213 11.4142 13.595 10.8641 12.8266L7.60781 8.26491C7.2315 7.73905 6.73531 7.31042 6.16035 7.01451C5.58539 6.71861 4.9482 6.56395 4.30156 6.56334H2.5C2.25136 6.56334 2.0129 6.46457 1.83709 6.28876C1.66127 6.11294 1.5625 5.87449 1.5625 5.62584C1.5625 5.3772 1.66127 5.13875 1.83709 4.96293C2.0129 4.78712 2.25136 4.68834 2.5 4.68834H4.30156C5.24657 4.68939 6.17775 4.91548 7.01802 5.34791C7.85829 5.78034 8.58349 6.40667 9.13359 7.17506L12.3922 11.7368C12.7685 12.2626 13.2647 12.6913 13.8397 12.9872C14.4146 13.2831 15.0518 13.4377 15.6984 13.4383H15.8594L15.5844 13.1641C15.4083 12.988 15.3093 12.7491 15.3093 12.5001C15.3093 12.251 15.4083 12.0121 15.5844 11.836C15.7605 11.6599 15.9994 11.5609 16.2484 11.5609C16.4975 11.5609 16.7364 11.6599 16.9125 11.836L18.7883 13.7126ZM11.318 8.03913C11.5051 8.20277 11.7495 8.28541 11.9976 8.26885C12.2456 8.2523 12.4769 8.13791 12.6406 7.95084C13.022 7.51498 13.4921 7.16568 14.0195 6.92638C14.5469 6.68708 15.1193 6.5633 15.6984 6.56334H15.8594L15.5844 6.83756C15.4083 7.01368 15.3093 7.25255 15.3093 7.50163C15.3093 7.7507 15.4083 7.98957 15.5844 8.16569C15.7605 8.34181 15.9994 8.44075 16.2484 8.44075C16.4975 8.44075 16.7364 8.34181 16.9125 8.16569L18.7875 6.29069C18.8749 6.20359 18.9442 6.1001 18.9916 5.98614C19.0389 5.87219 19.0632 5.75001 19.0632 5.62663C19.0632 5.50324 19.0389 5.38106 18.9916 5.26711C18.9442 5.15315 18.8749 5.04966 18.7875 4.96256L16.9125 3.08756C16.7364 2.91144 16.4975 2.8125 16.2484 2.8125C15.9994 2.8125 15.7605 2.91144 15.5844 3.08756C15.4083 3.26368 15.3093 3.50255 15.3093 3.75163C15.3093 4.0007 15.4083 4.23957 15.5844 4.41569L15.8594 4.68834H15.6961C14.8495 4.68875 14.0127 4.87021 13.242 5.22054C12.4712 5.57088 11.7843 6.08199 11.2273 6.71959C11.065 6.90685 10.9833 7.15079 11.0003 7.39807C11.0173 7.64534 11.1315 7.87583 11.318 8.03913ZM8.68203 11.9626C8.49491 11.7989 8.25046 11.7163 8.00242 11.7328C7.75439 11.7494 7.52309 11.8638 7.35938 12.0508C6.97804 12.4867 6.50792 12.836 5.98053 13.0753C5.45315 13.3146 4.8807 13.4384 4.30156 13.4383H2.5C2.25136 13.4383 2.0129 13.5371 1.83709 13.7129C1.66127 13.8887 1.5625 14.1272 1.5625 14.3758C1.5625 14.6245 1.66127 14.8629 1.83709 15.0388C2.0129 15.2146 2.25136 15.3133 2.5 15.3133H4.30156C5.14819 15.3129 5.98494 15.1315 6.75568 14.7811C7.52642 14.4308 8.21332 13.9197 8.77031 13.2821C8.93299 13.0951 9.01503 12.8514 8.99848 12.6041C8.98194 12.3568 8.86816 12.1262 8.68203 11.9626Z",fill:n})})}const _V=({jobId:e,showcaseDetails:n,onRemixSuccess:s})=>{const{toast:r}=ns(),[i,{isLoading:a}]=Vre(),{user:o}=os();return{handleRemixClick:d.useCallback(async()=>{if(H("showcase_remix_clicked",{showcase_id:n?.id,showcase_title:n?.title,job_id:e,category:n?.category}),!e||!o?.id){H("showcase_remix_failed",{showcase_id:n?.id,showcase_title:n?.title,job_id:e,error:"Missing job ID or user ID"}),r({title:"Error",description:"Unable to remix template. Please try again.",variant:"destructive"});return}if(!n){H("showcase_remix_failed",{job_id:e,error:"Showcase details not available"}),r({title:"Error",description:"Showcase details not available.",variant:"destructive"});return}try{const c=await i({job_id:e,title:n.title,preview_url:n.preview_url,summary:n.details?.description||n.title}).unwrap();c.status==="success"&&(H("showcase_remix_success",{showcase_id:n.id,showcase_title:n.title,original_job_id:e,new_job_id:c.new_job_id,category:n.category}),r({title:"Success",description:c.message||"Template remixed successfully!"}),c.new_job_id&&s&&s(c.new_job_id,n))}catch(c){H("showcase_remix_failed",{showcase_id:n.id,showcase_title:n.title,job_id:e,category:n.category,error:c?.error||c?.data?.detail||c?.data?.error||"Unknown error"}),r({title:"Remix Failed",description:c?.error||c?.data?.detail||c?.data?.error||"Failed to remix template. Please try again.",variant:"destructive"})}},[e,o?.id,n,i,r,s]),isRemixing:a}};function Q2e({title:e,category:n,jobId:s,onPreviewClick:r,onRemixClick:i,onRemixSuccess:a,image_url:o,showcaseDetails:l}){const{t:c}=en("showcase"),{userDetails:u}=os(),p=(u?.showcase_remix_enabled??!1)&&!n.toLowerCase().includes("mobile"),{handleRemixClick:f,isRemixing:m}=_V({jobId:s,showcaseDetails:l,onRemixSuccess:h=>{a?a(h,l):i&&i()}});return t.jsxs("div",{"data-testid":gs.showcase.card,className:"flex flex-col gap-[10px] group",children:[t.jsxs("div",{onClick:r,className:"relative p-1 border border-[#FFFFFF1F] rounded-[12px] overflow-clip cursor-pointer hover:border-[#FFFFFF33] hover:-translate-y-1 transition-all duration-300",children:[t.jsx("img",{"data-testid":gs.showcase.cardImage,alt:e,src:o,className:"rounded-[8px] w-full min-h-[200px] object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-[#00000033] rounded-[12px] max-md:hidden opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity flex items-center justify-center gap-2",onClick:h=>h.stopPropagation(),children:[t.jsx(Z2,{"data-testid":gs.showcase.cardPreviewButton,className:"px-4",icon:t.jsx(X2e,{}),onClick:()=>{r?.()},children:c("showcase.preview")}),p&&t.jsx(Z2,{"data-testid":gs.showcase.cardRemixButton,className:"px-4",icon:t.jsx(J2,{}),onClick:()=>{s&&l?f():i?.()},disabled:m,children:c(m?"showcase.remixing":"showcase.remixButton")})]})]}),t.jsxs("div",{className:"flex flex-col cursor-pointer",onClick:r,children:[t.jsx("div",{className:"flex justify-between w-full ",children:t.jsx("span",{"data-testid":gs.showcase.cardTitle,className:"text-[15px] text-white/80 font-medium tracking-[-0.1px] group-hover:text-[#FFFFFF] transition-colors",children:e})}),t.jsx("span",{"data-testid":gs.showcase.cardCategory,className:"font-medium text-white/40 font-inter text-[14px] group-hover:text-[#FF8C66] transition-colors",children:n})]})]})}function e5e(){return t.jsxs("div",{className:"flex flex-col gap-[10px] animate-pulse",children:[t.jsx("div",{className:"p-1 border border-[#FFFFFF1F] rounded-[12px]",children:t.jsx("div",{className:"w-full h-[200px] bg-[#FFFFFF1F] rounded-[8px]"})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex justify-between w-full",children:[t.jsx("div",{className:"h-4 bg-[#FFFFFF1F] rounded w-2/3"}),t.jsx("div",{className:"h-4 bg-[#FFFFFF1F] rounded w-20"})]}),t.jsx("div",{className:"h-4 bg-[#FFFFFF1F] rounded w-1/3"})]})]})}const t5e={landing:$1,advanced:J2e,business:Y2e,personal:Z2e,mobile:z1};function jV({onModalClose:e}){const{t:n}=en("showcase"),[s,r]=d.useState("all"),[i,a]=d.useState(6),[o,l]=d.useState(!1),{setTabs:c,setActiveTab:u,updateTabState:p,getTabByJobId:f}=hi(),m=Ea(),{getCurrentOrganizationId:h}=hs(),{config:x}=sc(),g=x?.showcases,v=!x,b=d.useMemo(()=>{if(!g?.categories)return[{label:n("showcase.all"),value:"all",icon:C6}];const F={label:n("showcase.all"),value:"all",icon:C6},E=g.categories.map(I=>({label:I.name,value:I.id,icon:t5e[I.id]||C6}));return[F,...E]},[g?.categories,n]),y=(F,E)=>{const I=f(F),T=h(),A=T?"organization":"user";if(I&&I.level===A){u(I.id);const P=h(),B=P?`/workspace/${P}/chat`:"/chat";m(`${B}?id=${F}`),e?.();return}const D=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,O=`/root/runs/${F}/trajectory.json`,M=T?`/workspace/${T}/chat`:"/chat",L={containerId:F,jobId:F,title:`${E.title} ${n("showcase.remix")}`,trajPath:O,tabId:D,fromJobList:!1,isCloudFlow:!0,tabHeading:`${E.title} ${n("showcase.remix")}`,isRemix:!0};c(P=>[...P,{id:D,title:`${E.title} ${n("showcase.remix")}`,tabHeading:`${E.title} ${n("showcase.remix")}`,path:M,level:A,organization_id:T}]),p(D,L),u(D),m(`${M}?id=${F}`),H("showcase_remix_success",{showcase_id:E.id,showcase_title:E.title,original_job_id:E.job_id,new_job_id:F,active_filter:s}),e?.()},w=async F=>{const E=b.find(P=>P.value===F.category)?.label||F.category;if(H("showcase_preview_clicked",{showcase_id:F.id,showcase_title:F.title,category:F.category,category_name:E,job_id:F.job_id,active_filter:s}),!F?.job_id)return;const I=f(F.job_id),T=h(),A=T?"organization":"user";if(I&&I.level===A){u(I.id);const P=h(),B=P?`/workspace/${P}/chat`:"/chat";m(`${B}?id=${F.job_id}`),e?.();return}const D=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,O=`/root/runs/${F.job_id}/trajectory.json`,M=T?`/workspace/${T}/chat`:"/chat",L={containerId:F.job_id,jobId:F.job_id,showcaseId:F.id,showcasePreviewUrl:F.preview_url,title:F.title,trajPath:O,tabId:D,fromJobList:!1,isCloudFlow:!0,tabHeading:F.title};c(P=>[...P,{id:D,title:F.title,path:M,level:A,organization_id:T,state:L,tabHeading:F.title,tabType:"ShowCasePreview"}]),p(D,L),u(D),m(`${M}?id=${F.job_id}`),e?.()},_=F=>{r(F),a(9);const E=b.find(I=>I.value===F);H("showcase_category_clicked",{category_id:F,category_name:E?.label||F,previous_category:s})},N=g?.items?.filter(F=>{const E=F.status||"active";return E==="active"||E==="published"})||[],S=[...s==="all"?N:N.filter(F=>F.category===s)].sort((F,E)=>{const I=F.priority??Number.MAX_SAFE_INTEGER,T=E.priority??Number.MAX_SAFE_INTEGER;if(I!==T)return I-T;const A=F.created_at?new Date(F.created_at).getTime():0;return(E.created_at?new Date(E.created_at).getTime():0)-A}).slice(0,s==="all"?6:i);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{"data-testid":gs.showcase.section,className:"flex flex-col gap-8 md:mt-[100px]",children:[t.jsxs("div",{className:"flex flex-col md:gap-2 max-md:hidden",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(pC,{}),t.jsx("span",{className:"font-medium text-[18px]",children:n("showcase.title")})]}),t.jsx("span",{className:"text-white/30 font-inter text-[14px] leading-5",children:n("showcase.description")})]}),t.jsxs("div",{className:"flex flex-col gap-6 max-md:gap-5 max-md:pb-[50px]",children:[t.jsx("div",{className:"flex items-center justify-between max-md:sticky max-md:top-[0] pb-3 max-md:z-10 max-md:bg-[linear-gradient(to_bottom,_#0E0E0F_0%,_transparent_100%)]",children:t.jsx("div",{className:"flex-1 max-md:mr-0 mr-4 overflow-hidden",children:t.jsx("div",{"data-testid":gs.showcase.categoryChips,className:"flex items-center max-md:gap-2 gap-3 md:p-1 max-md:px-4 max-md:py-3 max-md:pb-3 max-md:-mb-3 overflow-x-auto",children:b.map(F=>{const E=F.icon;return t.jsxs(fe.div,{"data-testid":gs.showcase.chip(F.value),"data-selected":s===F.value?"true":"false",onClick:()=>_(F.value),transition:{duration:.2},className:k("flex font-inter cursor-pointer bg-[#0E0E0F] max-h-[32px] max-md:text-[14px] text-[15px] font-medium items-center gap-1 text-[#FFFFFF]/40 px-3 py-2 border border-[#FFFFFF1F] rounded-full flex-shrink-0 hover:border-[#FFFFFF33] transition-colors",s===F.value&&"bg-[#FFFFFF]  text-[#0F0F10] font-inter font-semibold"),children:[t.jsx(E,{color:s===F.value?"#0F0F10":"#6E6E6F",size:16}),t.jsx("span",{className:"font-inter text-nowrap",children:F.label})]},F.value)})})})}),t.jsx("div",{"data-testid":gs.showcase.cardsGrid,className:"grid grid-cols-1 gap-6 lg:grid-cols-3 max-md:px-4",children:t.jsx(Kn,{mode:"wait",children:v?Array.from({length:6}).map((F,E)=>t.jsx(e5e,{},`skeleton-${E}`)):S.map((F,E)=>{const I=b.find(T=>T.value===F.category)?.label||F.category;return t.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:E*.05,ease:"easeOut"},children:t.jsx(Q2e,{title:F.title,category:I,jobId:F.job_id,image_url:F.image_url,showcaseDetails:F,onPreviewClick:()=>w(F),onRemixSuccess:T=>y(T,F)})},`${s}-${F.id}`)})})})]})]}),o&&t.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",onClick:()=>l(!1),children:[t.jsx("div",{className:"absolute inset-0 bg-black/50"}),t.jsx(fe.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},onClick:F=>F.stopPropagation(),className:"absolute bottom-0 w-full bg-[#0E0E0F] border-t border-[#FFFFFF1F] rounded-t-[24px]",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"relative flex items-center justify-center mb-2 border-b border-[#242424] p-4",children:[t.jsx("h3",{className:"text-white font-semibold text-[18px] font-inter",children:n("showcase.selectCategory")}),t.jsx("button",{title:n("showcase.selectCategory"),onClick:()=>l(!1),className:"absolute right-4 text-white/40 hover:text-white",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),t.jsx("div",{className:"grid grid-cols-2 gap-4 px-4 pb-6",children:b.map(F=>{const E=F.icon;return t.jsxs(fe.div,{onClick:()=>{_(F.value),l(!1)},whileTap:{scale:.98},className:k("flex font-inter relative justify-between items-start cursor-pointer bg-[#FFFFFF05] max-h-[170px] font-medium text-[#FFFFFF]/40 p-4  rounded-[12px]",s===F.value&&"bg-[#33E3FF1A] text-[#33E3FF] border-[#33E3FF4D] border font-inter font-semibold"),children:[t.jsxs("div",{className:"flex flex-col h-full gap-2",children:[t.jsx(E,{color:s===F.value?"#33E3FF":"#6E6E6F",size:20}),t.jsx("span",{className:"font-medium font-inter text-nowrap",children:F.label})]}),s==F.value&&t.jsx(G2,{color:"#33E3FF",className:"absolute min-h-6 min-w-6 right-4",size:24})]},F.value)})})]})})]})]})}const n5e=({size:e=8,width:n,height:s,color:r="#35F4B8",className:i})=>{const a=n||e,o=s||e;return t.jsx("svg",{width:a,height:o,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.775 3.3821C8.075 3.6825 8.075 4.1696 7.775 4.47L4.313 7.9315C4.013 8.2319 3.526 8.2319 3.225 7.9315C2.925 7.6311 2.925 7.1441 3.225 6.8437L5.374 4.6953L-0.231 4.6953C-0.656 4.6953 -1 4.3509 -1 3.926C-1 3.5013 -0.656 3.1568 -0.231 3.1568L5.374 3.1568L3.225 1.0085C2.925 0.7081 2.925 0.221 3.225 -0.0794C3.526 -0.3798 4.013 -0.3798 4.313 -0.0794L7.775 3.3821Z",fill:r,transform:"translate(0.5, 0.5)"})})},s5e=K.modals.betaImage;function r5e({modalChange:e}){const{totalBannerHeight:n}=ka();return t.jsx(t.Fragment,{children:t.jsx(fe.div,{className:"flex items-center justify-center w-full md:p-[10px]  z-[19] fixed",style:{top:`${56+n}px`},initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.6},children:t.jsxs(fe.div,{className:"flex items-center justify-center h-[48px] p-2 max-md:w-full md:pl-5 md:rounded-full pro-green backdrop-blur-lg w-fit gap-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:300,damping:25},children:[t.jsx("img",{src:s5e,alt:"pro",className:"w-6 h-6 "}),t.jsx("span",{className:"inline-block font-medium max-md:hidden",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:"Introducing E2: Smarter App Development, Join Beta Program to get Early Access."}),t.jsx("span",{className:"inline-block font-medium md:hidden text-nowrap text-[12px]",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:"Launching E2 Beta Access"}),t.jsxs("button",{type:"button",className:"relative flex items-center justify-center  max-md:text-[13px] md:text-[15px] md:ml-8","aria-label":"Join beta",title:"Join beta",onClick:()=>e(!0),style:{height:"32px",borderRadius:"16px",padding:"8px 8px 8px 12px",gap:"6px",background:"linear-gradient(180deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",boxShadow:`
              0 0 20px rgba(98, 236, 254, 0.4),
              inset 0 2.18px 3.64px rgba(255, 255, 255, 0.4),
              inset 0 -1.45px 1.45px rgba(255, 255, 255, 0.2)
            `,border:"none",cursor:"pointer",color:"#0F0F10",fontWeight:"600",opacity:1},children:[t.jsx("span",{children:"Join Beta"}),t.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"10px",backgroundColor:"black",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(n5e,{})})]})]})})})}const i5e=()=>{const{user:e}=os(),{tier:n}=xs(),[s,r]=d.useState(!1),[i,a]=d.useState(null),[o,l]=d.useState(null),[c,u]=d.useState(!1),[p,{isLoading:f}]=jre(),m=d.useCallback(async()=>{if(!e?.email){l("User email not available");return}try{l(null);const h=await p({tag:"pro_mode"}).unwrap();if(h.exists&&h.payment?.payment_status==="paid"){r(!0),a(h?.payment);const x=new Date(h.payment.created_at);u(x<new Date("2025-07-30T18:30:00.000Z"))}else r(!1),a(null),localStorage.removeItem("pro_mode_status")}catch(h){l(h.message||"Failed to verify payment status"),r(!1),a(null)}},[e?.email,p]);return d.useEffect(()=>{e?.email&&m()},[e?.email]),{isProModeUser:s,isLoading:f,error:o,paymentData:i,checkPaymentStatus:m,paidBefore30July:c}},a5e=K.pro.pro,o5e=K.pro.proMobile,l5e=({id:e})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:"flex-shrink-0",children:[t.jsx("path",{d:"M18.4958 10.2566L19.4231 10.0081L21.4108 17.4264C21.5426 17.9183 21.4736 18.4423 21.219 18.8833C20.9644 19.3243 20.545 19.6461 20.0531 19.7779L15.4167 21.0203L12.932 11.7474L18.4958 10.2566ZM6.44101 13.4866L11.0775 12.2443L13.5621 21.5172L8.92568 22.7595C8.43381 22.8913 7.90974 22.8223 7.46874 22.5677C7.02775 22.3131 6.70596 21.8937 6.57417 21.4019L4.58643 13.9836L6.44101 13.4866ZM4.4652 9.04672C4.20947 8.63174 4.01844 8.18023 3.89869 7.70772C3.41915 5.91805 4.4849 4.07212 6.27457 3.59258C7.77863 3.18956 9.15111 4.29472 10.1976 5.60748C10.4601 4.03145 11.1252 2.29285 12.7656 1.85331C14.5553 1.37377 16.4012 2.43952 16.8807 4.22919C17.0288 4.78185 17.0781 5.25864 17.0596 5.67205L20.0353 4.87472L21.0292 8.58388L12.6836 10.8201L12.1866 8.9655L10.3321 9.46243L10.829 11.317L2.48339 13.5532L1.48953 9.84405L4.4652 9.04672ZM15.0262 4.72612C14.8207 3.95926 14.0294 3.50241 13.2625 3.70789C12.4391 3.92853 12.0521 5.54788 11.9697 7.03588L14.4716 6.36552C14.8184 6.2726 15.3989 6.11706 15.0262 4.72612ZM6.7715 5.44715C6.00464 5.65264 5.54779 6.44392 5.75327 7.21079C6.12597 8.60172 6.70645 8.44618 7.05326 8.35325L9.35015 7.7378C8.48565 6.40311 7.44472 5.26677 6.7715 5.44715Z",fill:`url(#${e})`}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:e,x1:"9.52008",y1:"2.72294",x2:"14.4894",y2:"21.2687",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#00FF66"}),t.jsx("stop",{offset:"1",stopColor:"#62ECFE"})]})})]});function c5e({isAlreadyBooked:e,reactivationBanner:n,config:s}){const{isLoading:r}=i5e(),{tier:i}=xs(),{totalBannerHeight:a}=ka(),[o,l]=d.useState(!1),{open:c}=r0(),u=()=>{i==="free"||n?l(!0):c({location:"default"})};return i=="free"||n?t.jsxs(t.Fragment,{children:[t.jsx(fe.div,{className:"flex items-center justify-center w-full md:p-[10px] max-md:mt-1 fixed z-[19]",style:{top:`${56+a}px`},initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.6},children:t.jsxs(fe.div,{className:"flex items-center max-md:justify-between md:justify-center h-[48px] p-2 pl-4 max-md:w-full md:rounded-full pro-green backdrop-blur-lg w-fit gap-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:300,damping:25},children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"rotate-[15deg] translate-x-2",children:t.jsx(l5e,{id:"gift-icon"})}),t.jsx("span",{className:"inline-block font-medium max-md:hidden",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:s?.homeText}),t.jsx("span",{className:"inline-block font-medium md:hidden text-nowrap text-[15px]",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:"Claim 50% Off"})]}),t.jsxs("button",{type:"button",className:"relative flex items-center justify-center p-2  md:min-w-[150px] max-md:text-[15px] md:text-[15px] md:ml-8 max-md:rounded-[8px] md:rounded-[16px]",onClick:()=>u(),disabled:r,style:{height:"32px",gap:"6px",background:e?"linear-gradient(180deg, rgba(0, 255, 102, 0.8) 0%, rgba(98, 236, 254, 0.8) 100%)":"linear-gradient(180deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",boxShadow:`
              0 0 20px rgba(98, 236, 254, 0.4),
              inset 0 2.18px 3.64px rgba(255, 255, 255, 0.4),
              inset 0 -1.45px 1.45px rgba(255, 255, 255, 0.2)
            `,border:"none",cursor:"pointer",color:"#0F0F10",fontWeight:"600",opacity:r?.7:1},children:[s?.homeCtaText,t.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"10px",backgroundColor:"black",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.775 3.3821C8.075 3.6825 8.075 4.1696 7.775 4.47L4.313 7.9315C4.013 8.2319 3.526 8.2319 3.225 7.9315C2.925 7.6311 2.925 7.1441 3.225 6.8437L5.374 4.6953L-0.231 4.6953C-0.656 4.6953 -1 4.3509 -1 3.926C-1 3.5013 -0.656 3.1568 -0.231 3.1568L5.374 3.1568L3.225 1.0085C2.925 0.7081 2.925 0.221 3.225 -0.0794C3.526 -0.3798 4.013 -0.3798 4.313 -0.0794L7.775 3.3821Z",fill:"#35F4B8",transform:"translate(0.5, 0.5)"})})})]})]})}),t.jsx(ud,{isOpen:o,onOpenChange:l})]}):t.jsx(t.Fragment,{children:t.jsx(fe.div,{className:"flex items-center justify-center w-full md:p-[10px] max-md:mt-1  z-[19] fixed",style:{top:`${56+a}px`},initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.6},children:t.jsxs(fe.div,{className:"flex items-center justify-center h-[48px] p-2 max-md:w-full md:pl-5 md:rounded-full pro-green backdrop-blur-lg w-fit gap-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:300,damping:25},children:[t.jsx("img",{src:a5e,alt:"pro",className:" w-6 h-6 scale-[2.5]  md:scale-[3] max-md:hidden"}),t.jsx("img",{src:o5e,alt:"pro",className:"w-6 h-6 md:hidden"}),t.jsx("span",{className:"inline-block font-medium max-md:hidden",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:s?.homeText}),t.jsx("span",{className:"inline-block font-medium md:hidden text-nowrap text-[12px]",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:s?.homeText}),t.jsxs("button",{type:"button",className:"relative flex items-center justify-center  max-md:text-[13px] md:text-[15px] md:ml-8",onClick:()=>u(),disabled:r,style:{height:"32px",borderRadius:"16px",padding:"8px 8px 8px 12px",gap:"6px",background:"linear-gradient(180deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",boxShadow:`
              0 0 20px rgba(98, 236, 254, 0.4),
              inset 0 2.18px 3.64px rgba(255, 255, 255, 0.4),
              inset 0 -1.45px 1.45px rgba(255, 255, 255, 0.2)
            `,border:"none",cursor:"pointer",color:"#0F0F10",fontWeight:"600",opacity:r?.7:1},children:[t.jsx("span",{children:s?.homeCtaText}),t.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"10px",backgroundColor:"black",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.775 3.3821C8.075 3.6825 8.075 4.1696 7.775 4.47L4.313 7.9315C4.013 8.2319 3.526 8.2319 3.225 7.9315C2.925 7.6311 2.925 7.1441 3.225 6.8437L5.374 4.6953L-0.231 4.6953C-0.656 4.6953 -1 4.3509 -1 3.926C-1 3.5013 -0.656 3.1568 -0.231 3.1568L5.374 3.1568L3.225 1.0085C2.925 0.7081 2.925 0.221 3.225 -0.0794C3.526 -0.3798 4.013 -0.3798 4.313 -0.0794L7.775 3.3821Z",fill:"#35F4B8",transform:"translate(0.5, 0.5)"})})})]})]})})})}function d5e(){const{tier:e}=xs(),{totalBannerHeight:n}=ka(),{isEligible:s,createCheckoutAndRedirect:r,paymentModalState:i,couponCode:a,couponError:o}=Uf(),[l,c]=d.useState(!1),u=!!o&&!!a,p=()=>{H(xu.BANNER_CLICKED),r("unlockStandardPlanBanner")},f=()=>{a&&(navigator.clipboard.writeText(a),c(!0),setTimeout(()=>c(!1),1e3))};return e!=="free"||!s?null:t.jsxs(t.Fragment,{children:[t.jsxs(fe.div,{className:"flex items-center justify-center w-full md:p-2.5 max-md:mt-1 fixed z-[999]",style:{top:`${56+n}px`},initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.6},children:[t.jsxs(fe.div,{className:"hidden md:flex relative items-center h-12 pr-2  pl-5 rounded-full overflow-hidden justify-between w-full max-w-[770px] bg-[url('/unlock-standard-plan-bg.webp')] bg-cover bg-center",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:300,damping:25},children:[t.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[t.jsx(Gr,{size:20,color:"#B91C1C"}),u?t.jsx("span",{className:"text-[#0F0F10] text-base font-semibold leading-6 tracking-[-0.5px]",children:"You've already redeemed this offer. Here's another great deal."}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"whitespace-nowrap text-base text-[#B91C1C] font-semibold leading-6 tracking-[-0.5px]",children:"Special Offer"}),t.jsx("span",{className:"text-[#0F0F10] text-base font-semibold leading-6 tracking-[-0.5px]",children:"1 month of Standard Plan, completely free."})]})]}),u?t.jsxs("div",{className:"relative z-10 flex items-center h-10 pl-5 pr-3 py-2  bg-[#0f0f10] rounded-full",children:[t.jsx("span",{className:"text-white font-semibold text-sm leading-5 tracking-[-0.25px] mr-3",children:a}),t.jsxs("button",{type:"button",onClick:f,className:"flex items-center justify-center gap-1.5 h-6  font-semibold text-sm leading-5 tracking-[-0.25px] rounded-full transition-colors",children:[t.jsx(Di,{className:"w-3.5 h-3.5"}),l?"Copied!":"Copy"]})]}):t.jsxs("button",{type:"button",onClick:p,disabled:i.isLoading,className:"relative z-10 flex items-center justify-center gap-2 h-8 py-2 px-3 pr-2 ml-8 bg-[#0f0f10] text-white font-semibold text-sm leading-5 tracking-[-0.25px] rounded-full hover:bg-[#1a1a1a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Start Free Trial",t.jsx("span",{className:"flex items-center justify-center w-5 h-5 bg-white rounded-full",children:t.jsx(Cl,{className:"w-3 h-3 text-black",strokeWidth:3})})]})]}),t.jsxs(fe.div,{className:k("md:hidden relative flex items-center w-full h-[68px] rounded-2xl overflow-hidden mx-4 bg-[url('/unlock-standard-plan-bg.webp')] bg-cover bg-center",!u&&"cursor-pointer",i.isLoading&&!u&&"pointer-events-none opacity-50"),onClick:u?void 0:p,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:300,damping:25},children:[t.jsxs("div",{className:"relative z-10 flex items-center gap-2.5 pl-1.5 flex-1 min-w-0",children:[t.jsx("div",{className:"w-14 h-14 relative overflow-hidden rounded-[11.2px] bg-[#141318] shrink-0",children:t.jsx("img",{src:"/gift-icon.webp",alt:"Gift",className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[42px] h-[42px] object-cover",style:{filter:"hue-rotate(-50deg) saturate(0.7) brightness(1.1)"}})}),t.jsx("div",{className:"flex flex-col gap-0.5 min-w-0 flex-1",children:u?t.jsx(t.Fragment,{children:t.jsx("span",{className:"text-[13px] font-semibold leading-4 text-[#0F0F10] line-clamp-2",children:"You've already redeemed this offer."})}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-sm font-semibold leading-[18px] tracking-[-0.2px] text-[#B91C1C]",children:"Special Offer"}),t.jsx("span",{className:"text-[13px] font-semibold leading-4 text-[#0F0F10]",children:"100% Off on Standard Plan"})]})})]}),u?t.jsxs("div",{className:"flex items-center gap-1.5 pr-3 z-10",children:[t.jsx("span",{className:"flex items-center h-8 px-2.5 bg-[#0f0f10] text-white font-semibold text-xs leading-5 tracking-[-0.25px] rounded-full",children:a}),t.jsx("button",{type:"button",onClick:f,className:"flex items-center justify-center w-8 h-8 bg-[#0f0f10] text-white rounded-full",children:t.jsx(Di,{className:"w-4 h-4"})})]}):t.jsx(Cl,{className:"w-9 h-9 p-2 bg-[#0f0f10] text-white rounded-full absolute right-3 z-10",strokeWidth:2.5})]})]}),t.jsx(Hf,{isOpen:i.isLoading,onOpenChange:()=>{},paymentType:"subscription",planName:i.planName,currency:i.currency})]})}const u5e=K.modals.hundredMillionDesktop,p5e=K.modals.hundredMillionMobile;function f5e({isOpen:e,onOpenChange:n,onClose:s}){const{couponCode:r,isLoading:i,error:a,generateCoupon:o}=z2(),l=d.useRef(!1),{isSmallMobile:c}=ts(),u=Hr(),[p,f]=d.useState(!1);d.useEffect(()=>{e&&!r&&!l.current&&!i&&(l.current=!0,o())},[e,r,o,i]),d.useEffect(()=>{e||(l.current=!1)},[e]);const m=!!r&&!a,h=!!r&&!!a,x=()=>{r&&(navigator.clipboard.writeText(r),f(!0),setTimeout(()=>f(!1),1e3))},g=()=>{s?.(),n(!1)},v=()=>{g(),setTimeout(()=>{u.open({planType:"personal",triggerLocation:"default"})},350)};return t.jsx(as,{open:e,onOpenChange:n,children:t.jsx(Er,{className:"p-0 border-none bg-transparent max-w-[900px] w-full !overflow-visible h-auto max-h-[90dvh]",children:t.jsx("div",{className:"w-full overflow-y-auto hide-scrollbar px-4 max-h-[90dvh]",children:t.jsxs(fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"},className:"w-full relative overflow-hidden bg-white rounded-2xl min-h-[580px]",style:{height:`min(${c?"640px":"630px"}, calc(90dvh - 32px))`},children:[t.jsx("button",{type:"button",onClick:g,className:"absolute z-10 flex items-center justify-center transition-all duration-200 rounded-full w-8 h-8 backdrop-blur-lg right-6 top-6 bg-white","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5 text-black"})}),t.jsxs("div",{className:"relative overflow-hidden rounded-2xl h-full",children:[t.jsx("img",{alt:"OneDollar Offer Background",src:c?p5e:u5e,className:"w-full h-[640px] object-cover pointer-events-none absolute top-0 left-0"}),!h&&t.jsx("div",{className:k("absolute w-full text-center px-2 left-1/2 -translate-x-1/2",c?"top-[46%]":"top-[52%]"),children:t.jsxs("p",{className:k("font-[brockmann] font-semibold text-[#131997] tracking-[-0.4px]",c?"text-[20px]":"text-[24px]"),children:["Celebrating this milestone",t.jsx("br",{className:"md:hidden"})," with 95% off."]})}),i&&!m&&!h&&t.jsx("div",{className:k("absolute z-10 flex items-center justify-center left-1/2 -translate-x-1/2",c?"bottom-[12%]":"bottom-[29%]"),children:t.jsxs("div",{className:"flex h-[56px] gap-2 md:gap-[10px] py-3 md:py-3 px-6 md:px-8 rounded-[30px] justify-center items-center bg-[rgb(31,83,172)] shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(tn,{className:"w-5 h-5 text-white animate-spin"}),t.jsx("span",{className:"text-white text-[16px] md:text-[18px] font-semibold font-['brockmann'] whitespace-nowrap",children:"Loading..."})]})}),h&&c&&t.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 w-full flex flex-col items-center justify-center top-[46%]",children:t.jsxs("div",{className:"max-md:w-[85%] flex items-center justify-between rounded-xl bg-white px-4 py-2",children:[t.jsx("span",{className:"font-semibold text-xl text-center font-brockmann leading-6 text-[#01101D]",children:r}),t.jsxs("button",{type:"button",onClick:x,className:"translate-x-2 gap-2 font-semibold flex items-center rounded-lg font-inter px-4 py-2 text-sm whitespace-nowrap border border-white bg-black text-white",children:[t.jsx(Di,{size:20}),p?"Copied!":"Copy Code"]})]})}),h&&c&&t.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 w-full flex flex-col items-center justify-center gap-2.5 bottom-[6%]",children:[t.jsxs("span",{className:"text-wrap text-center text-sm font-[brockmann] font-semibold leading-5 text-[#131997] tracking-[-0.4px] px-2",children:["You've already redeemed the 95% off coupon.",t.jsx("br",{}),"Here's another great deal you can use."]}),t.jsx(fe.button,{type:"button",onClick:v,whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},className:"mt-2",children:t.jsxs("div",{className:"flex h-[56px] gap-2 py-3 px-6 rounded-[30px] justify-center items-center bg-[rgb(31,83,172)] shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(Gr,{color:"#fff",className:"rotate-[-15deg] w-4 h-4"}),t.jsx("span",{className:"text-white text-[16px] font-semibold font-['brockmann'] whitespace-nowrap",children:"Claim Now"}),t.jsx(Gr,{color:"#fff",className:"rotate-[15deg] w-4 h-4"})]})})]}),h&&!c&&t.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 w-full flex flex-col items-center justify-center gap-2.5 bottom-[20%]",children:[t.jsxs("div",{className:"md:w-[436px] flex items-center justify-between rounded-xl bg-white px-4 py-2",children:[t.jsx("span",{className:"font-semibold text-xl text-center font-brockmann leading-6 text-[#01101D]",children:r}),t.jsxs("button",{type:"button",onClick:x,className:"translate-x-2 gap-2 font-semibold flex items-center rounded-lg font-inter px-4 py-2 text-sm whitespace-nowrap border border-white bg-black text-white",children:[t.jsx(Di,{size:20}),p?"Copied!":"Copy Code"]})]}),t.jsxs("span",{className:"text-wrap text-center text-sm font-[brockmann] font-semibold md:leading-6 text-[#131997] tracking-[-0.4px] px-2",children:["You've already redeemed the 95% off coupon.",t.jsx("br",{}),"Here's another great deal you can use."]}),t.jsx(fe.button,{type:"button",onClick:v,whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},className:"mt-2",children:t.jsxs("div",{className:"flex h-[56px] gap-[10px] py-3 px-8 rounded-[30px] justify-center items-center bg-[rgb(31,83,172)] shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(Gr,{color:"#fff",className:"rotate-[-15deg] w-5 h-5"}),t.jsx("span",{className:"text-white text-[18px] font-semibold font-['brockmann'] whitespace-nowrap",children:"Claim Now"}),t.jsx(Gr,{color:"#fff",className:"rotate-[15deg] w-5 h-5"})]})})]}),m&&t.jsxs(t.Fragment,{children:[t.jsx(fe.button,{type:"button",onClick:v,className:k("absolute z-10 flex items-center justify-center cursor-pointer max-md:px-4 left-1/2",c?"bottom-[12%]":"bottom-[29%]"),initial:{x:"-50%",y:0},animate:{x:"-50%",y:0},whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},children:t.jsxs("div",{className:"flex h-[56px] gap-2 md:gap-[10px] py-3 md:py-3 px-6 md:px-8 rounded-[30px] justify-center items-center bg-[rgb(31,83,172)] shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(Gr,{color:"#fff",className:"rotate-[-15deg] w-4 h-4 md:w-5 md:h-5"}),t.jsx("span",{className:"text-white text-[16px] md:text-[18px] font-semibold font-['brockmann'] whitespace-nowrap",children:"Claim 95% Off"}),t.jsx(Gr,{color:"#fff",className:"rotate-[15deg] w-4 h-4 md:w-5 md:h-5"})]})}),t.jsx("div",{className:"absolute w-[220px] h-[45px] rounded-[48px] left-1/2 -translate-x-1/2 bottom-[14%] md:bottom-[8%] bg-black/20 blur-[13px]"})]})]})]})})})})}const m5e=K.modals.hundredMillionDesktop,h5e=K.modals.hundredMillionMobile;function x5e({isOpen:e,onOpenChange:n,onClose:s}){const{userDetails:r}=os(),i=c3(r),{couponCode:a,isLoading:o,error:l,generateCoupon:c}=W2(),u=d.useRef(!1),p=Hr(),{isSmallMobile:f}=ts(),[m,h]=d.useState(!1);d.useEffect(()=>{e&&!i&&!a&&!u.current&&!o&&(u.current=!0,c())},[e,i,a,c,o]),d.useEffect(()=>{e||(u.current=!1)},[e]);const x=i||!!a&&!l,g=!i&&!!a&&!!l,v=()=>{a&&(navigator.clipboard.writeText(a),h(!0),setTimeout(()=>h(!1),1e3))},b=()=>{s?.(),n(!1)},y=()=>{b(),setTimeout(()=>{p.open({planType:"personal",triggerLocation:"default"})},350)};return t.jsx(as,{open:e,onOpenChange:n,children:t.jsx(Er,{className:"p-0 border-none bg-transparent max-w-[900px] w-full !overflow-visible h-auto max-h-[90dvh]",children:t.jsx("div",{className:"w-full overflow-y-auto hide-scrollbar px-4 max-h-[90dvh]",children:t.jsxs(fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full relative overflow-hidden bg-white rounded-2xl min-h-[580px]",style:{height:`min(${f?"640px":"630px"}, calc(90dvh - 32px))`},children:[t.jsx("button",{type:"button",onClick:b,className:"absolute z-10 flex items-center justify-center transition-all duration-200 rounded-full w-8 h-8 backdrop-blur-lg right-6 top-6 bg-white","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5 text-black"})}),t.jsxs("div",{className:"relative overflow-hidden rounded-2xl h-full",children:[t.jsx("img",{alt:"GFF Offer Background",src:f?h5e:m5e,className:"w-full h-[640px] object-cover pointer-events-none absolute top-0 left-0"}),!g&&t.jsx("div",{className:k("absolute w-full text-center px-2 left-1/2 -translate-x-1/2",f?"top-[46%]":"top-[52%]"),children:t.jsxs("p",{className:k("font-[brockmann] font-semibold text-[#131997] tracking-[-0.4px]",f?"text-[20px]":"text-[24px]"),children:["Celebrating this milestone",t.jsx("br",{className:"md:hidden"})," with 75% off."]})}),g&&f&&t.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 w-full flex flex-col items-center justify-center top-[46%]",children:t.jsxs("div",{className:"max-md:w-[85%] flex items-center justify-between rounded-xl bg-white px-4 py-2",children:[t.jsx("span",{className:"font-semibold text-xl text-center font-brockmann leading-6 text-[#01101D]",children:a}),t.jsxs("button",{type:"button",onClick:v,className:"translate-x-2 gap-2 font-semibold flex items-center rounded-lg font-inter px-4 py-2 text-sm whitespace-nowrap border border-white bg-black text-white",children:[t.jsx(Di,{size:20}),m?"Copied!":"Copy Code"]})]})}),g&&f&&t.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 w-full flex flex-col items-center justify-center gap-2.5 bottom-[6%]",children:[t.jsxs("span",{className:"text-wrap text-center text-sm font-[brockmann] font-semibold leading-5 text-[#131997] tracking-[-0.4px] px-2",children:["You've already redeemed the 75% off coupon.",t.jsx("br",{}),"Here's another great deal you can use."]}),t.jsx(fe.button,{type:"button",onClick:y,whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},className:"mt-2",children:t.jsxs("div",{className:"flex h-[56px] gap-2 py-3 px-6 rounded-[30px] justify-center items-center bg-[rgb(31,83,172)] shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(Gr,{color:"#fff",className:"rotate-[-15deg] w-4 h-4"}),t.jsx("span",{className:"text-white text-[16px] font-semibold font-['brockmann'] whitespace-nowrap",children:"Claim Now"}),t.jsx(Gr,{color:"#fff",className:"rotate-[15deg] w-4 h-4"})]})})]}),g&&!f&&t.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 w-full flex flex-col items-center justify-center gap-2.5 bottom-[20%]",children:[t.jsxs("div",{className:"md:w-[436px] flex items-center justify-between rounded-xl bg-white px-4 py-2",children:[t.jsx("span",{className:"font-semibold text-xl text-center font-brockmann leading-6 text-[#01101D]",children:a}),t.jsxs("button",{type:"button",onClick:v,className:"translate-x-2 gap-2 font-semibold flex items-center rounded-lg font-inter px-4 py-2 text-sm whitespace-nowrap border border-white bg-black text-white",children:[t.jsx(Di,{size:20}),m?"Copied!":"Copy Code"]})]}),t.jsxs("span",{className:"text-wrap text-center text-sm font-[brockmann] font-semibold md:leading-6 text-[#131997] tracking-[-0.4px] px-2",children:["You've already redeemed the 75% off coupon.",t.jsx("br",{}),"Here's another great deal you can use."]}),t.jsx(fe.button,{type:"button",onClick:y,whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},className:"mt-2",children:t.jsxs("div",{className:"flex h-[56px] gap-[10px] py-3 px-8 rounded-[30px] justify-center items-center bg-[rgb(31,83,172)] shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(Gr,{color:"#fff",className:"rotate-[-15deg] w-5 h-5"}),t.jsx("span",{className:"text-white text-[18px] font-semibold font-['brockmann'] whitespace-nowrap",children:"Claim Now"}),t.jsx(Gr,{color:"#fff",className:"rotate-[15deg] w-5 h-5"})]})})]}),x&&t.jsxs(t.Fragment,{children:[t.jsx(fe.button,{type:"button",onClick:y,className:k("absolute z-10 flex items-center justify-center cursor-pointer max-md:px-4 left-1/2",f?"bottom-[12%]":"bottom-[29%]"),initial:{x:"-50%",y:0},animate:{x:"-50%",y:0},whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},children:t.jsxs("div",{className:"flex h-[56px] gap-2 md:gap-[10px] py-3 md:py-3 px-6 md:px-8 rounded-[30px] justify-center items-center bg-[rgb(31,83,172)] shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(Gr,{color:"#fff",className:"rotate-[-15deg] w-4 h-4 md:w-5 md:h-5"}),t.jsx("span",{className:"text-white text-[16px] md:text-[18px] font-semibold font-['brockmann'] whitespace-nowrap",children:"Claim 75% Off"}),t.jsx(Gr,{color:"#fff",className:"rotate-[15deg] w-4 h-4 md:w-5 md:h-5"})]})}),t.jsx("div",{className:"absolute w-[220px] h-[45px] rounded-[48px] left-1/2 -translate-x-1/2 bottom-[14%] md:bottom-[8%] bg-black/20 blur-[13px]"})]})]})]})})})})}const g5e=K.modals.hundredMillionDesktop,b5e=K.modals.hundredMillionMobile;function y5e({isOpen:e,onOpenChange:n,onClose:s}){const{isSmallMobile:r}=ts(),i=Hr(),a=()=>{s?.(),n(!1)},o=()=>{a(),setTimeout(()=>{i.open({planType:"personal",triggerLocation:"default"})},350)};return t.jsx(as,{open:e,onOpenChange:n,children:t.jsx(Er,{className:"p-0 border-none bg-transparent max-w-[900px] w-full !overflow-visible h-auto max-h-[90dvh]",children:t.jsx("div",{className:"w-full overflow-y-auto hide-scrollbar px-4 max-h-[90dvh]",children:t.jsxs(fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full relative overflow-hidden bg-white rounded-2xl min-h-[580px]",style:{height:`min(${r?"640px":"630px"}, calc(90dvh - 32px))`},children:[t.jsx("button",{type:"button",onClick:a,className:"absolute z-10 flex items-center justify-center transition-all duration-200 rounded-full w-8 h-8 backdrop-blur-lg right-6 top-6 bg-white","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5 text-black"})}),t.jsxs("div",{className:"relative overflow-hidden rounded-2xl h-full",children:[t.jsx("img",{alt:"GFFIN Offer Background",src:r?b5e:g5e,className:"w-full h-[640px] object-cover pointer-events-none absolute top-0 left-0"}),t.jsxs("div",{children:[t.jsx("div",{className:k("absolute w-full text-center px-2 left-1/2 -translate-x-1/2",r?"top-[46%]":"top-[52%]"),children:t.jsxs("p",{className:k("font-[brockmann] font-semibold text-[#131997] tracking-[-0.4px]",r?"text-[20px]":"text-[24px]"),children:["Celebrating this milestone",t.jsx("br",{className:"md:hidden"})," with 75% off."]})}),t.jsx(fe.button,{type:"button",onClick:o,className:k("absolute z-10 flex items-center justify-center cursor-pointer max-md:px-4 left-1/2",r?"bottom-[12%]":"bottom-[29%]"),initial:{x:"-50%",y:0},animate:{x:"-50%",y:0},whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},children:t.jsxs("div",{className:"flex h-[56px] gap-2 md:gap-[10px] py-3 md:py-3 px-6 md:px-8 rounded-[30px] justify-center items-center bg-[rgb(31,83,172)] shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(Gr,{color:"#fff",className:"rotate-[-15deg] w-4 h-4 md:w-5 md:h-5"}),t.jsx("span",{className:"text-white text-[16px] md:text-[18px] font-semibold font-['brockmann'] whitespace-nowrap",children:"Claim 75% Off"}),t.jsx(Gr,{color:"#fff",className:"rotate-[15deg] w-4 h-4 md:w-5 md:h-5"})]})}),t.jsx("div",{className:"absolute w-[220px] h-[45px] rounded-[48px] left-1/2 -translate-x-1/2 bottom-[14%] md:bottom-[8%] bg-black/20 blur-[13px]"})]})]})]})})})})}const v5e=K.modals.hundredMillionDesktop,w5e=K.modals.hundredMillionMobile;function C5e({isOpen:e,onOpenChange:n,onClose:s}){const{isSmallMobile:r}=ts(),i=Hr(),a=()=>{s?.(),n(!1)},o=()=>{a(),setTimeout(()=>{i.open({planType:"personal",triggerLocation:"default"})},350)};return t.jsx(as,{open:e,onOpenChange:n,children:t.jsx(Er,{className:"p-0 border-none bg-transparent max-w-[900px] w-full !overflow-visible h-auto max-h-[90dvh]",children:t.jsx("div",{className:"w-full overflow-y-auto hide-scrollbar px-4 max-h-[90dvh]",children:t.jsxs(fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full relative overflow-hidden bg-white rounded-2xl min-h-[580px]",style:{height:`min(${r?"640px":"630px"}, calc(90dvh - 32px))`},children:[t.jsx("button",{type:"button",onClick:a,className:"absolute z-10 flex items-center justify-center transition-all duration-200 rounded-full w-8 h-8 backdrop-blur-lg right-6 top-6 bg-white","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5 text-black"})}),t.jsxs("div",{className:"relative overflow-hidden rounded-2xl h-full",children:[t.jsx("img",{alt:"PagBrasil Offer Background",src:r?w5e:v5e,className:"w-full h-[640px] object-cover pointer-events-none absolute top-0 left-0"}),t.jsxs("div",{children:[t.jsx("div",{className:k("absolute w-full text-center px-2 left-1/2 -translate-x-1/2",r?"top-[46%]":"top-[52%]"),children:t.jsxs("p",{className:k("font-[brockmann] font-semibold text-[#131997] tracking-[-0.4px]",r?"text-[20px]":"text-[24px]"),children:["Celebrating this milestone",t.jsx("br",{className:"md:hidden"})," with 90% off."]})}),t.jsx(fe.button,{type:"button",onClick:o,className:k("absolute z-10 flex items-center justify-center cursor-pointer max-md:px-4 left-1/2",r?"bottom-[12%]":"bottom-[29%]"),initial:{x:"-50%",y:0},animate:{x:"-50%",y:0},whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},children:t.jsxs("div",{className:"flex h-[56px] gap-2 md:gap-[10px] py-3 md:py-3 px-6 md:px-8 rounded-[30px] justify-center items-center bg-[rgb(31,83,172)] shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(Gr,{color:"#fff",className:"rotate-[-15deg] w-4 h-4 md:w-5 md:h-5"}),t.jsx("span",{className:"text-white text-[16px] md:text-[18px] font-semibold font-['brockmann'] whitespace-nowrap",children:"Claim 90% Off"}),t.jsx(Gr,{color:"#fff",className:"rotate-[15deg] w-4 h-4 md:w-5 md:h-5"})]})}),t.jsx("div",{className:"absolute w-[220px] h-[45px] rounded-[48px] left-1/2 -translate-x-1/2 bottom-[14%] md:bottom-[8%] bg-black/20 blur-[13px]"})]})]})]})})})})}function _5e({children:e,title:n,buttonText:s,onClose:r,onAction:i,className:a,wrapperClassName:o,titleClassName:l,mediaClassName:c,mediaBackground:u}){return t.jsxs(fe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.5},className:k("hidden md:block fixed bottom-6 right-6 z-[60]",o),children:[t.jsxs("div",{className:k("relative w-[220px] bg-white rounded-[16px] p-2 flex flex-col gap-2 shadow-[0_221px_62px_0_rgba(255,255,255,0.00),0_141px_56px_0_rgba(255,255,255,0.02),0_79px_48px_0_rgba(255,255,255,0.05),0_35px_35px_0_rgba(255,255,255,0.09),0_9px_19px_0_rgba(255,255,255,0.10)]",a),children:[e&&t.jsx("div",{className:k("relative rounded-[10px] overflow-hidden w-full bg-cover bg-center",c),style:u?{backgroundImage:`url(${u})`}:void 0,children:e}),t.jsx("div",{className:"text-center px-1",children:typeof n=="string"?t.jsx("p",{className:k("text-[#0F0F10] text-[13px] font-semibold leading-[18px] tracking-[-0.2px] font-brockmann",l),children:n}):n}),t.jsx("button",{onClick:i,className:k("flex h-9 justify-center items-center gap-2 shrink-0 self-stretch","rounded-[10px] bg-[#0F0F10]","hover:bg-[#1A1A1A] transition-colors duration-200","py-2 pr-2 pl-3","shadow-[0_0.727px_0.727px_0.727px_rgba(0,0,0,0.10),inset_0_-1.455px_0_0_rgba(0,0,0,0.20),inset_0_2.182px_3.636px_1.455px_rgba(255,255,255,0.40),0_0_20px_0_rgba(243,202,95,0.40)]"),children:t.jsx("span",{className:"text-white text-[14px] font-semibold leading-5 tracking-[-0.2px] font-brockmann",children:s})})]}),t.jsx("button",{onClick:r,className:"absolute -top-1.5 -right-1.5 z-10 w-6 h-6 flex items-center justify-center bg-[#F5F0EB] hover:bg-[#e2ded9] rounded-full transition-colors duration-200 shadow-md border border-[#E0D8D0]",children:t.jsx(Ft,{className:"w-4 h-4 text-[#4A4A4A]"})})]})}function j5e({children:e,title:n,onClick:s,className:r,titleClassName:i,mediaClassName:a,backgroundImage:o,actionButton:l,actionButtonClassName:c}){return t.jsxs(fe.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{type:"spring",duration:.5},onClick:s,className:k("md:hidden flex items-center fixed top-20 left-4 right-4 z-[60] gap-2 rounded-[16px] overflow-hidden shadow-[0_4px_20px_rgba(0,0,0,0.1)] bg-cover bg-center cursor-pointer active:scale-[0.98] transition-transform",r),style:o?{backgroundImage:`url(${o})`}:void 0,children:[e&&t.jsx("div",{className:k("relative rounded-[10px] overflow-hidden shrink-0",a),children:e}),t.jsx("div",{className:"flex-1 min-w-0",children:typeof n=="string"?t.jsx("p",{className:k("text-[#0F0F10] text-[13px] font-semibold leading-[18px] tracking-[-0.2px] font-brockmann",i),children:n}):n}),t.jsx("div",{className:k("w-[36px] h-[36px] shrink-0 mr-2 flex items-center justify-center rounded-[20px] bg-[#0F0F10] shadow-[0_0.727px_0.727px_0.727px_rgba(0,0,0,0.10),inset_0_-1.455px_0_0_rgba(0,0,0,0.20),inset_0_2.182px_3.636px_1.455px_rgba(255,255,255,0.40),0_0_20px_0_rgba(243,202,95,0.40)]",c),children:l??t.jsx(Cl,{className:"w-5 h-5 text-white"})})]})}const N5e=K.gifting.warmupMail.bannerBg,F5e=K.gifting.warmupMail.gift,E5e=K.gifting.warmupMail.gift_success,$m={before:{title:"You are in for a surprise !!!",titleMobile:"You are in for a surprise !!!",buttonText:"Receive Mail",buttonTextMobile:"Receive Mail ",mediaBackground:F5e},after:{title:"",titleMobile:"We have sent you a surprise on mail, Check it out !",buttonText:"Continue Building",buttonTextMobile:"Okay, got it",mediaBackground:E5e}};function S5e(){const[e,n]=d.useState("before"),[s,r]=d.useState(HQ()),[i]=$re(),a=()=>{H("warmup_mail_dismissed"),r(!0)},o=()=>{e==="before"?(n("after"),VQ(),H("warmup_mail_clicked"),i().unwrap().catch(l=>jt("warmup_mail_notify_error",l))):a()};return s?null:t.jsxs(t.Fragment,{children:[t.jsx(Kn,{mode:"wait",children:t.jsx(_5e,{title:$m[e].title,buttonText:$m[e].buttonText,onClose:a,onAction:o,className:"gap-[10px]",titleClassName:"text-sm leading-[18px]",children:t.jsx("img",{src:$m[e].mediaBackground,alt:"",className:"w-full h-full object-contain"})},e)}),t.jsx(j5e,{title:$m[e].titleMobile,onClick:o,backgroundImage:N5e,actionButton:$m[e].buttonTextMobile,className:"rounded-[14px] h-14 p-3",titleClassName:"text-[15px]",actionButtonClassName:"w-fit h-[32px] px-3 rounded-[10px] text-sm leading-5 font-semibold bg-[#331200]"})]})}const k5e=()=>{const e=document.createElement("div"),n=i=>e.style[i]!==void 0?i:null,s=n("transform")||n("MozTransform")||n("webkitTransform")||n("-ms-transform")||n("OTransform"),r=window.requestAnimationFrame?i=>window.requestAnimationFrame(i):null;return{transform:{prop:s},getAnimationFrame:r}},Eo=(e,n)=>((n===void 0||isNaN(n))&&(n=0),Math.random()*e+n);class I5e{constructor(){Vt(this,"flakesMax",30);Vt(this,"flakesMaxActive",30);Vt(this,"animationInterval",80);Vt(this,"useGPU",!0);Vt(this,"flakeBottom",null);Vt(this,"snowColor","#fff");Vt(this,"snowCharacter","&bull;");Vt(this,"snowStick",!0);Vt(this,"targetElement",null);Vt(this,"useMeltEffect",!0);Vt(this,"usePositionFixed",!0);Vt(this,"usePixelPosition",!1);Vt(this,"freezeOnBlur",!1);Vt(this,"flakeLeftOffset",0);Vt(this,"flakeRightOffset",0);Vt(this,"flakeWidth",10);Vt(this,"flakeHeight",10);Vt(this,"vMaxX",.3);Vt(this,"vMaxY",.25);Vt(this,"zIndex",9999);Vt(this,"timer",null);Vt(this,"flakes",[]);Vt(this,"disabled",!1);Vt(this,"active",!1);Vt(this,"meltFrameCount",20);Vt(this,"meltFrames",[]);Vt(this,"features");Vt(this,"screenX",null);Vt(this,"screenX2",null);Vt(this,"screenY",null);Vt(this,"scrollY",null);Vt(this,"docHeight",null);Vt(this,"vRndX",null);Vt(this,"vRndY",null);Vt(this,"windOffset",1);Vt(this,"flakeTypes",6);Vt(this,"fixedForEverything",!1);Vt(this,"targetElementIsRelative",!1);Vt(this,"opacitySupported");Vt(this,"didInit",!1);Vt(this,"docFrag");Vt(this,"resolvedTargetElement",null);Vt(this,"animationFrameId",null);Vt(this,"timeoutId",null);Vt(this,"originalResizeHandler",null);Vt(this,"setXY",(n,s,r)=>{if(!n)return!1;this.usePixelPosition||this.targetElementIsRelative?(n.style.left=s-this.flakeWidth+"px",n.style.top=r-this.flakeHeight+"px"):this.flakeBottom?(n.style.right=100-s/(this.screenX||1)*100+"%",n.style.top=Math.min(r,(this.docHeight||0)-this.flakeHeight)+"px"):(n.style.right=100-s/(this.screenX||1)*100+"%",n.style.bottom=100-r/(this.screenY||1)*100+"%")});Vt(this,"randomizeWind",()=>{if(this.vRndX=Eo(this.vMaxX,.2),this.vRndY=Eo(this.vMaxY,.2),this.flakes)for(let n=0;n<this.flakes.length;n++)this.flakes[n].active&&this.flakes[n].setVelocities()});Vt(this,"scrollHandler",()=>{if(this.scrollY=this.flakeBottom?0:parseInt(String(window.scrollY||document.documentElement.scrollTop||0),10),isNaN(this.scrollY)&&(this.scrollY=0),!this.fixedForEverything&&!this.flakeBottom&&this.flakes)for(let n=0;n<this.flakes.length;n++)this.flakes[n].active===0&&this.flakes[n].stick()});Vt(this,"resizeHandler",()=>{window.innerWidth||window.innerHeight?(this.screenX=window.innerWidth-16-this.flakeRightOffset,this.screenY=this.flakeBottom||window.innerHeight):(this.screenX=(document.documentElement.clientWidth||document.body.clientWidth||document.body.scrollWidth)-8-this.flakeRightOffset,this.screenY=this.flakeBottom||document.documentElement.clientHeight||document.body.clientHeight||document.body.scrollHeight),this.docHeight=document.body.offsetHeight,this.screenX2=parseInt(String((this.screenX||0)/2),10)});Vt(this,"resizeHandlerAlt",()=>{const n=this.resolvedTargetElement;n&&(this.screenX=n.offsetWidth-this.flakeRightOffset,this.screenY=this.flakeBottom||n.offsetHeight,this.screenX2=parseInt(String((this.screenX||0)/2),10),this.docHeight=document.body.offsetHeight)});Vt(this,"freeze",()=>{if(!this.disabled)this.disabled=1;else return!1;this.timer=null});Vt(this,"resume",()=>{if(this.disabled)this.disabled=0;else return!1;this.timerInit()});Vt(this,"stop",()=>{this.freeze(),this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null);for(let n=0;n<this.flakes.length;n++)this.flakes[n].o.style.display="none";window.removeEventListener("scroll",this.scrollHandler),window.removeEventListener("resize",this.resizeHandler),this.freezeOnBlur&&(window.removeEventListener("blur",this.freeze),window.removeEventListener("focus",this.resume))});Vt(this,"destroy",()=>{this.stop();for(let n=0;n<this.flakes.length;n++){const s=this.flakes[n].o;s.parentNode?.removeChild(s)}this.flakes=[],this.meltFrames=[],this.didInit=!1,this.active=!1,this.disabled=!1,this.timer=null,this.resolvedTargetElement=null,this.docFrag=document.createDocumentFragment(),this.originalResizeHandler&&(this.resizeHandler=this.originalResizeHandler)});Vt(this,"createSnowFlake",(n,s,r)=>{const i=this,a=this.screenX||0,o=this.screenY||0,l={type:n,x:s??parseInt(String(Eo(a-20)),10),y:r!==void 0&&!isNaN(r)?r:Eo(o),vX:null,vY:null,vAmpTypes:[1,1.2,1.4,1.6,1.8],vAmp:1,melting:!1,meltFrameCount:i.meltFrameCount,meltFrames:i.meltFrames,meltFrame:0,active:1,fontSize:10+n/5*10,o:document.createElement("div"),refresh:()=>{},stick:()=>{},vCheck:()=>{},move:()=>{},animate:()=>{},setVelocities:()=>{},setOpacity:()=>{},melt:()=>{},recycle:()=>{}};l.vAmp=l.vAmpTypes[l.type]||1,l.o.innerHTML=i.snowCharacter,l.o.style.color=i.snowColor,l.o.style.position=i.fixedForEverything?"fixed":"absolute",i.useGPU&&i.features.transform.prop&&(l.o.style[i.features.transform.prop]="translate3d(0px, 0px, 0px)"),l.o.style.width=i.flakeWidth+"px",l.o.style.height=i.flakeHeight+"px",l.o.style.fontFamily="arial,verdana",l.o.style.cursor="default",l.o.style.overflow="hidden",l.o.style.fontWeight="normal",l.o.style.zIndex=String(i.zIndex),l.o.style.pointerEvents="none";const c=.2+Math.random()*.3;l.o.style.opacity=String(c),this.docFrag.appendChild(l.o),l.refresh=()=>{if(isNaN(l.x)||isNaN(l.y))return!1;i.setXY(l.o,l.x,l.y)},l.stick=()=>{const p=i.resolvedTargetElement;p!==document.documentElement&&p!==document.body?l.o.style.top=o+(i.scrollY||0)-i.flakeHeight+"px":i.flakeBottom?l.o.style.top=i.flakeBottom+"px":(l.o.style.display="none",l.o.style.bottom="0%",l.o.style.position="fixed",l.o.style.display="block")},l.vCheck=()=>{l.vX!==null&&(l.vX>=0&&l.vX<.2?l.vX=.2:l.vX<0&&l.vX>-.2&&(l.vX=-.2)),l.vY!==null&&l.vY>=0&&l.vY<.2&&(l.vY=.2)},l.move=()=>{const p=(l.vX||0)*i.windOffset;l.x+=p,l.y+=(l.vY||0)*l.vAmp;const f=i.screenX||0;l.x>=f||f-l.x<i.flakeWidth?l.x=0:p<0&&l.x-i.flakeLeftOffset<-i.flakeWidth&&(l.x=f-i.flakeWidth-1),l.refresh(),(i.screenY||0)+(i.scrollY||0)-l.y+i.flakeHeight<i.flakeHeight?(l.active=0,i.snowStick?l.stick():l.recycle()):i.useMeltEffect&&l.active&&l.type<3&&!l.melting&&Math.random()>.998&&(l.melting=!0,l.melt())},l.animate=()=>{l.move()},l.setVelocities=()=>{l.vX=(i.vRndX||0)+Eo(i.vMaxX*.12,.1),l.vY=(i.vRndY||0)+Eo(i.vMaxY*.12,.1)},l.setOpacity=(p,f)=>{if(!i.opacitySupported)return!1;p.style.opacity=String(f)},l.melt=()=>{!i.useMeltEffect||!l.melting?l.recycle():l.meltFrame<l.meltFrameCount?(l.setOpacity(l.o,l.meltFrames[l.meltFrame]),l.o.style.fontSize=l.fontSize-l.fontSize*(l.meltFrame/l.meltFrameCount)+"px",l.o.style.lineHeight=i.flakeHeight+2+i.flakeHeight*.75*(l.meltFrame/l.meltFrameCount)+"px",l.meltFrame++):l.recycle()},l.recycle=()=>{const p=i.screenX||0,f=i.screenY||0;l.o.style.display="none",l.o.style.position=i.fixedForEverything?"fixed":"absolute",l.o.style.bottom="auto",l.setVelocities(),l.vCheck(),l.meltFrame=0,l.melting=!1,l.setOpacity(l.o,.2+Math.random()*.3),l.o.style.padding="0px",l.o.style.margin="0px",l.o.style.fontSize=l.fontSize+"px",l.o.style.lineHeight=i.flakeHeight+2+"px",l.o.style.textAlign="center",l.o.style.verticalAlign="baseline",l.x=parseInt(String(Eo(p-i.flakeWidth-20)),10),l.y=parseInt(String(Eo(f)*-1),10)-i.flakeHeight,l.refresh(),l.o.style.display="block",l.active=1},l.recycle();const u=i.screenY||0;return l.y=Eo(u),l.refresh(),l});Vt(this,"snow",()=>{let n=0;for(let s=0,r=this.flakes.length;s<r;s++)this.flakes[s].active===1&&(this.flakes[s].move(),n++),this.flakes[s].melting&&this.flakes[s].melt();if(n<this.flakesMaxActive){const s=this.flakes[parseInt(String(Eo(this.flakes.length)),10)];s&&s.active===0&&(s.melting=!0)}this.timer&&(this.features.getAnimationFrame?this.animationFrameId=this.features.getAnimationFrame(this.snow):this.timeoutId=setTimeout(this.snow,1e3/(this.animationInterval||20)))});Vt(this,"createSnow",(n,s)=>{for(let r=0;r<n;r++)this.flakes[this.flakes.length]=this.createSnowFlake(parseInt(String(Eo(this.flakeTypes)),10));this.resolvedTargetElement&&this.resolvedTargetElement.appendChild(this.docFrag)});Vt(this,"timerInit",()=>{this.timer=!0,this.snow()});Vt(this,"init",()=>{for(let n=0;n<this.meltFrameCount;n++)this.meltFrames.push(1-n/this.meltFrameCount);this.randomizeWind(),this.createSnow(this.flakesMax),window.addEventListener("resize",this.resizeHandler),window.addEventListener("scroll",this.scrollHandler),this.freezeOnBlur&&(window.addEventListener("blur",this.freeze),window.addEventListener("focus",this.resume)),this.resizeHandler(),this.scrollHandler(),this.animationInterval=Math.max(20,this.animationInterval),this.timerInit()});Vt(this,"start",()=>{if(!this.didInit){if(this.didInit=!0,typeof this.targetElement=="string"){const n=this.targetElement;if(this.resolvedTargetElement=document.getElementById(n),!this.resolvedTargetElement)throw new Error('Snowstorm: Unable to get targetElement "'+n+'"')}if(this.resolvedTargetElement||(this.resolvedTargetElement=document.body||document.documentElement),this.resolvedTargetElement!==document.documentElement&&this.resolvedTargetElement!==document.body&&(this.resizeHandler=this.resizeHandlerAlt,this.usePixelPosition=!0),this.resizeHandler(),this.usePositionFixed=this.usePositionFixed&&!this.flakeBottom,window.getComputedStyle)try{this.targetElementIsRelative=window.getComputedStyle(this.resolvedTargetElement,null).getPropertyValue("position")==="relative"}catch{this.targetElementIsRelative=!1}this.fixedForEverything=this.usePositionFixed,this.screenX&&this.screenY&&!this.disabled&&(this.init(),this.active=!0)}});this.features=k5e(),this.opacitySupported=(()=>{try{document.createElement("div").style.opacity="0.5"}catch{return!1}return!0})(),this.docFrag=document.createDocumentFragment(),this.originalResizeHandler=this.resizeHandler}}const Lk=new I5e,NV=d.memo(()=>{const e=Mi();return d.useEffect(()=>(Dc(e.pathname)&&Lk.start(),()=>{Lk.destroy()}),[e.pathname]),null});NV.displayName="SnowAnimation";const T5e=K.icons.cloudflare,Xd=K.deployment.caddyToCloudflare,A5e=[{text:"Open the Re-deploy panel",img:Xd.step1},{text:"Un-link your custom domain",img:Xd.step2},{text:"Link the same domain again",img:Xd.step3}],D5e=[{text:"Click the  menu to open Quick Actions",img:Xd.mobileStep1},{text:"Go to Deployments",img:Xd.mobileStep2},{text:"Un-link your custom domain",img:Xd.mobileStep3},{text:"Link the same domain again",img:Xd.mobileStep4}],Pk=({step:e,index:n,imgClass:s})=>t.jsxs("div",{className:"flex flex-col px-3 py-4 bg-[#FFFFFF0A] rounded-[20px]",children:[t.jsx("span",{className:"px-2 text-white text-base font-semibold",children:n+1}),t.jsx("p",{className:"px-2 text-[#F2F5F7] text-sm font-inter font-medium",children:e.text}),t.jsx("img",{src:e.img,alt:e.text,className:k("mt-3 w-full rounded-xl",s)})]}),Ok=({app:e,onLinkDomain:n,className:s})=>t.jsxs("div",{className:`flex items-center justify-between py-3 px-4 bg-[#FFFFFF0A] rounded-[20px] border border-[#FFFFFF14] ${s??""}`,children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-base md:text-lg font-medium tracking-[-0.32px]",children:e.name}),t.jsxs("a",{href:`https://${e.domain}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-[#809FFF] font-inter text-sm font-medium hover:underline",children:[e.domain,t.jsx(Uo,{size:14})]})]}),t.jsx(zt,{onClick:n,className:"h-8 px-4 rounded-lg bg-white hover:bg-white/90 text-black text-sm font-medium",children:"Go to Task"})]});function M5e({isOpen:e,onOpenChange:n,apps:s=[],onLinkDomain:r}){const i=s.length;return t.jsx(as,{open:e,onOpenChange:n,children:t.jsxs(Er,{className:"md:max-w-[900px] md:max-h-[586px] w-full max-md:h-full bg-[#1C1C1F] md:border md:border-[#FFFFFF1F] max-md:rounded-none rounded-[20px] p-0 gap-0 flex flex-col",children:[t.jsx(Yl,{className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-[#FFFFFF14] hover:bg-[#FFFFFF20] transition-colors",children:t.jsx(Ft,{size:24,className:"text-[#C4C4CC]"})}),t.jsxs("div",{className:"flex flex-col p-5 md:px-8 pt-10 pb-8 md:pb-6 gap-2",children:[t.jsx("img",{src:T5e,alt:"Cloudflare",className:"w-16 my-4"}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(lf,{size:20,className:"text-[#1B1B1C]",fill:"#FFB042"}),t.jsx("span",{className:"text-[#FFB042] text-sm md:text-[15px] font-medium",children:"Action required by 15 Feb '26"})]}),t.jsxs("h2",{className:"text-white text-xl md:text-2xl font-medium tracking-[-0.4px] md:tracking-[-0.2px] max-md:max-w-96",children:["Unlink and re-link your custom domain for",i===1?t.jsxs(t.Fragment,{children:[" live app ",s[0]?.name]}):t.jsxs(t.Fragment,{children:[" your ",i," live apps"]})]}),t.jsx("p",{className:"font-inter text-[#A4A4A5] text-sm",children:"We're migrating deployments to Cloudflare for better speed and uptime."})]}),t.jsxs("div",{className:"overflow-y-auto",style:{scrollbarWidth:"none"},children:[t.jsxs("div",{className:"max-md:hidden mx-8 p-4 bg-[#242427] rounded-xl",children:[t.jsx("p",{className:"text-[#989EA0] text-xs font-inter leading-6 tracking-[0.72px] mb-3",children:"GO TO YOUR PROJECTS"}),t.jsx("div",{className:"flex gap-4",children:A5e.map((a,o)=>t.jsx(Pk,{step:a,index:o,imgClass:"h-[72px] object-cover"},a.text))})]}),t.jsxs("div",{className:"md:hidden m-5 mt-0 p-4 bg-[#242427] rounded-xl",children:[t.jsx("p",{className:"text-[#989EA0] text-xs font-inter leading-6 tracking-[0.72px] mb-3",children:"GO TO YOUR PROJECT"}),t.jsx("div",{className:"flex flex-col gap-3",children:D5e.map((a,o)=>t.jsx(Pk,{step:a,index:o},a.text))})]}),t.jsx("div",{className:"max-md:hidden flex flex-col gap-4 px-8 pb-6 mt-6",children:s.map(a=>t.jsx(Ok,{app:a,onLinkDomain:()=>r(a)},a.job_id))})]}),t.jsx(ad,{className:"md:hidden max-h-[152px] p-4 bg-[#242427] border-t border-[#FFFFFF14]",children:t.jsx("div",{className:"flex flex-col gap-3 overflow-y-auto",style:{scrollbarWidth:"none"},children:s.map(a=>t.jsx(Ok,{app:a,onLinkDomain:()=>r(a),className:"bg-[#FFFFFF08] rounded-2xl"},a.job_id))})})]})})}function R5e({handleJobClick:e}){const[n,s]=d.useState(!1),[r]=Df(),{data:i}=zre(),{totalBannerHeight:a}=ka(),o=d.useRef(!1),l=async c=>{if(!o.current){o.current=!0;try{const u=await r(c.job_id);if(u.error){jt(Zt.MIGRATION.CADDY_TO_CLOUDFLARE_JOB_FETCH,u.error,{jobId:c.job_id});return}const p=u.data;p&&(s(!1),setTimeout(()=>e(p,{openRedeployPanel:!0}),150))}catch(u){jt(Zt.MIGRATION.CADDY_TO_CLOUDFLARE_JOB_FETCH,u,{jobId:c.job_id})}finally{o.current=!1}}};return t.jsxs(t.Fragment,{children:[t.jsx(fe.div,{className:"fixed left-0 right-0 mx-auto w-full md:w-fit z-10 flex items-center justify-center md:p-[10px]",style:{top:a+56},initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},children:t.jsxs("div",{className:"flex items-center justify-between md:justify-center min-h-12 py-1 px-4 max-md:w-full md:rounded-full gap-2 md:gap-1 border-y md:border border-white/5 backdrop-blur-xl bg-white/5",children:[t.jsxs("div",{className:"flex items-center gap-2 md:gap-1",children:[t.jsx(lf,{size:22,className:"text-[#1B1B1C] shrink-0",fill:"#FFB042"}),t.jsx("span",{className:"max-md:hidden text-[#FFB042] text-[15px] font-medium leading-5",children:"Action required by 15 Feb '26"}),t.jsx("span",{className:"md:hidden text-[#FFB042] text-sm font-medium",children:"Unlink and re-link your custom domain for improved speed"}),t.jsx("span",{className:"max-md:hidden ml-1 font-inter text-white/80 text-[15px] font-medium leading-5",children:"Unlink and re-link your custom domain for improved speed and uptime"})]}),t.jsx(zt,{onClick:()=>s(!0),className:"flex items-center justify-center px-3 py-2 h-8 md:ml-3 text-[15px] font-semibold leading-5 tracking-[-0.25px] max-md:rounded-lg md:rounded-full cursor-pointer bg-[linear-gradient(90deg,#FBAD41_41.8%,#F6821F_99.59%)] shadow-[inset_0px_-1.45px_0px_0px_#00000033] hover:opacity-90",children:"Continue"})]})}),t.jsx(M5e,{isOpen:n,onOpenChange:s,apps:i?.apps??[],onLinkDomain:l})]})}const L5e=K.landingPage.landingBgMobile,P5e=K.icons.landingLight,O5e=K.logo.borderedLogoDark,_x="mweb_soft_block_dismissed";function B5e(){const{t:e}=en("common"),[n,s]=d.useState(!1),{isTrulyFreeUser:r}=xs(),i=r(),a=Die();d.useEffect(()=>{if(!i||!a||sessionStorage.getItem(_x))return;const u=setTimeout(()=>{s(!0),H(wp.SOFT_BLOCK_SHOWN)},2e3);return()=>clearTimeout(u)},[i,a]);const o=()=>{sessionStorage.setItem(_x,"true"),s(!1),H(wp.SOFT_BLOCK_DISMISSED)},l=()=>{sessionStorage.setItem(_x,"true"),H(wp.SOFT_BLOCK_OPEN_APP),window.location.href="/mobile-app?utm_source=mweb_soft_block"},c=()=>{sessionStorage.setItem(_x,"true"),s(!1),H(wp.SOFT_BLOCK_CONTINUE_WEB)};return t.jsx(Kn,{children:n&&t.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-[99999] bg-[#0e0e0f] flex flex-col items-center justify-center bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${L5e})`},children:[t.jsx(fe.img,{src:P5e,alt:"Overlay",className:"fixed inset-0 w-full h-full pointer-events-none transform -scale-x-100 mix-blend-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:2,ease:"easeOut"}}),t.jsx("button",{className:"absolute top-4 right-4 p-1.5 rounded-full bg-white/5",onClick:o,children:t.jsx(Ft,{size:20,className:"text-white/60"})}),t.jsxs("div",{className:"flex flex-col items-center gap-8 w-[300px]",children:[t.jsx("img",{src:O5e,alt:"Emergent",className:"w-20 h-20"}),t.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[t.jsx("p",{className:"text-white/90 text-base font-medium",children:e("mobileApp.tryMobileApp")}),t.jsx("p",{className:"text-white/80 text-[13px] leading-[18px]",children:e("mobileApp.previewDescription")})]}),t.jsxs("div",{className:"flex flex-col gap-4 w-full px-6",children:[t.jsx("button",{onClick:l,className:"w-full h-12 bg-white text-[#111112] font-semibold text-base rounded-[42px]",children:e("mobileApp.openInMobileApp")}),t.jsx("button",{onClick:c,className:"w-full h-12 bg-[#18181a] border border-[#292929] text-[#e6e6e6] font-medium text-[15px] rounded-[50px]",children:e("mobileApp.continueWithWeb")})]})]})]})})}function U5e(e){return{all:e=e||new Map,on:function(n,s){var r=e.get(n);r?r.push(s):e.set(n,[s])},off:function(n,s){var r=e.get(n);r&&(s?r.splice(r.indexOf(s)>>>0,1):e.set(n,[]))},emit:function(n,s){var r=e.get(n);r&&r.slice().map(function(i){i(s)}),(r=e.get("*"))&&r.slice().map(function(i){i(n,s)})}}}const Wp={PROJECTS_INTRO_CLOSED:"modal:projectsIntroClosed",FREE_STANDARD_PLAN_CLOSED:"modal:freeStandardPlanClosed"},Gp=U5e(),H5e=K.seriesB.robot,V5e=K.seriesB.eyes,$5e=K.moltbot.mascotBanner,Bk="moltbot_mascot_closed",FV=d.memo(()=>{const[e,n]=d.useState(()=>localStorage.getItem(Bk)!=="true"),[s,r]=d.useState(!1),i=()=>{localStorage.setItem(Bk,"true"),n(!1)};return t.jsx(xa,{children:e&&t.jsxs(Rn.div,{className:"fixed bottom-0 right-6 z-[50] hidden md:block",initial:{y:200,opacity:0},animate:{y:0,opacity:1},exit:{x:300,opacity:0},transition:{type:"spring",stiffness:50,damping:15,delay:.8},children:[t.jsx("button",{onClick:i,className:"absolute -top-2 -right-2 z-30 p-1 bg-white/40 hover:bg-white/60 rounded-full backdrop-blur-sm transition-colors",children:t.jsx(Ft,{size:16,className:"text-white"})}),t.jsxs("div",{className:"relative flex flex-col items-center",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[t.jsx(Rn.div,{className:"absolute -top-5  w-[250px] h-[200px] rounded-full pointer-events-none",style:{background:"radial-gradient(ellipse, rgba(255, 255, 255, 0.5) 0%, transparent 70%)",filter:"blur(25px)"},initial:{opacity:0},animate:{opacity:s?1:0},transition:{duration:.3}}),t.jsx(Rn.div,{className:"relative z-10 overflow-hidden cursor-pointer",animate:{rotate:s?-2:0,y:s?-2:0},transition:{type:"spring",stiffness:300,damping:20},onClick:()=>window.open("https://emergent.sh/tutorial/moltbot-on-emergent","_blank"),children:t.jsx("img",{src:$5e,alt:"Moltbot banner",className:"w-[180px] h-auto rounded-lg"})}),t.jsxs("div",{className:"relative -mt-2 z-20",children:[t.jsx("img",{src:H5e,alt:"Robot mascot",className:"w-[128px] h-auto"}),t.jsx("img",{src:V5e,alt:"",className:"absolute top-7 left-[45%] transform -translate-x-1/2 w-[28px] h-auto pointer-events-none"})]})]})]})})});FV.displayName="MoltBotMascot";const z5e=K.seriesB.robot,W5e=K.seriesB.eyes,G5e=K.modals.hundredMillionArrBot,Uk="hundred_million_mascot_closed",EV=d.memo(()=>{const[e,n]=d.useState(()=>localStorage.getItem(Uk)!=="true"),[s,r]=d.useState(!1),i=tae(),a=()=>{localStorage.setItem(Uk,"true"),n(!1)},o=()=>{i&&window.open(i,"_blank","noopener,noreferrer")};return t.jsx(xa,{children:e&&t.jsxs(Rn.div,{className:k("fixed bottom-0 right-6 z-[50] hidden md:block",i&&"cursor-pointer"),onClick:i?o:void 0,initial:{y:200,opacity:0},animate:{y:0,opacity:1},exit:{x:300,opacity:0},transition:{type:"spring",stiffness:50,damping:15,delay:.8},children:[t.jsx("button",{onClick:l=>{l.stopPropagation(),a()},className:"absolute -top-2 -right-2 z-30 p-1 bg-white/40 hover:bg-white/60 rounded-full backdrop-blur-sm transition-colors",children:t.jsx(Ft,{size:16,className:"text-white"})}),t.jsxs("div",{className:"relative flex flex-col items-center",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[t.jsx(Rn.div,{className:"absolute -top-5  w-[250px] h-[200px] rounded-full pointer-events-none",style:{background:"radial-gradient(ellipse, rgba(255, 255, 255, 0.5) 0%, transparent 70%)",filter:"blur(25px)"},initial:{opacity:0},animate:{opacity:s?1:0},transition:{duration:.3}}),t.jsx(Rn.div,{className:"relative z-10 overflow-hidden",animate:{rotate:s?-2:0,y:s?-2:0},transition:{type:"spring",stiffness:300,damping:20},children:t.jsx("img",{src:G5e,alt:"100M ARR Bot",className:"w-[180px] h-auto rounded-lg"})}),t.jsxs("div",{className:"relative -mt-2 z-20",children:[t.jsx("img",{src:z5e,alt:"Robot mascot",className:"w-[128px] h-auto"}),t.jsx("img",{src:W5e,alt:"",className:"absolute top-7 left-[45%] transform -translate-x-1/2 w-[28px] h-auto pointer-events-none"})]})]})]})})});EV.displayName="HundredMillionMascot";function hf(e,n){const s=e||n||void 0;return{tabLevel:s?"organization":"user",organizationId:s}}const q5e=K.common.banner,K5e=K.videos.bgVid,Hk=K.icons.bgPatternHome,Y5e=K.eLogoGif,Dl=100;function Vk(){const e=ba(),{getCurrentOrganizationId:n,getCurrentWorkspaceData:s}=hs(),[r]=VP(),[i,a]=d.useState([]),[o,l]=d.useState(0),[c,u]=d.useState(!0),[p,f]=d.useState(!1),[m,h]=d.useState(!0),x=n(),g=d.useRef(void 0);d.useEffect(()=>{if(g.current===x&&g.current!==void 0)return;g.current=x,(async()=>{h(!0),a([]),l(0),u(!0);try{const Nt=await r({organization_id:x,limit:Dl,offset:0}).unwrap();a(Nt||[]),l(Dl),u((Nt||[]).length===Dl)}catch{a([]),u(!1)}finally{h(!1)}})()},[x,r]);const v=d.useCallback(async()=>{if(!(!c||p)){f(!0);try{const Nt=await r({organization_id:x,limit:Dl,offset:o}).unwrap()||[];a(bn=>[...bn,...Nt]),l(bn=>bn+Dl),u(Nt.length===Dl)}catch{u(!1)}finally{f(!1)}}},[c,p,x,o,r]),b=d.useRef(!1);d.useEffect(()=>{b.current=i.length>0},[i.length]);const y=d.useCallback(async()=>{b.current||h(!0),l(0),u(!0);try{const Ue=await r({organization_id:x,limit:Dl,offset:0}).unwrap();a(Ue||[]),l(Dl),u((Ue||[]).length===Dl)}catch{a([]),u(!1)}finally{h(!1)}},[x,r]),{config:w}=sc(),[_,N]=d.useState(!1),[j,C]=d.useState(!1),[S,F]=d.useState(""),[E,I]=d.useState(w?.overload_lock?.enabled||!1),[T,A]=d.useState(!1),[D,O]=d.useState(!1),M=Hr(),L=Ele(),P=WO(),B=Sle(),G=Dle(),$=YO(),te=Lle(),U=Ple(),oe=Ole(),Y=ZO(),{isMobile:W}=ts(),Z=lC(),le=zH(),[q,Q]=d.useState(!1),he=JO(),me=Ble(),ce=QO(),ee=tB(),J=nB(),re=sB(),xe=Vle(),ae=Sa(),Fe=Ue=>{Ue||(ee.close(),ee.config?.onClose?.())},se=Ue=>{Ue||(J.close(),J.config?.onClose?.())},_e=Ue=>{Ue||(re.close(),re.config?.onClose?.())},Re=Ue=>{Ue||(yN(),xe.close(),xe.config?.onClose?.())},Se=d.useRef(null),Ne=d.useRef(null),{session:ge,user:Ce}=os(),{checkGitHubConnection:$e}=Du(),[dt,Me]=Fu(),{isTrulyFreeUser:we,tier:Te,loading:ze,personalPlansResponse:_t}=xs(),Bt=br(Ue=>Ue.menu?.showModelSelectorTooltip),qe=d.useMemo(()=>we()&&!ze,[Te,ze]),{isEligible:Ae}=Uf(),[Le,Ut]=d.useState(!1),{data:tt,isSuccess:xt}=Kr(void 0,{skip:!Ce}),St=Qie()&&!W,It=eae()&&!W&&!St,kt=tt?.email_warmup_enabled&&!tt?.has_kubernetes_apps&&!St&&!It,Ot=tt?.has_kubernetes_apps,Ie=Fle();Nle();const nt=kle(),We=Ile(),[Lt,pt]=d.useState([]),[ft,Tt]=d.useState(null),Gt=d.useRef(null),{data:Ze,isLoading:ut}=Wa(void 0,{skip:!xt}),Qt=()=>Ae?t.jsx(d5e,{}):xt&&ut?null:Ze?.promo_code_enabled?t.jsx(Zw,{}):Cp()?t.jsx(Jw,{}):cw()?t.jsx(Xw,{}):!kt&&le&&le.config?.homeText?t.jsx(c5e,{modalChange:()=>{},config:{homeText:le.config?.homeText,homeCtaText:le.config?.homeCtaText}}):null,[Sn,yn]=d.useState(!1),Ee=d.useRef(0),Ke=d.useRef(null),mt=d.useRef(null),Ge=d.useRef(!1);d.useEffect(()=>{let Ue=null;if(qe){const Nt=Yn=>{const fs=Yn.target.scrollTop;fs>0&&yn(!0),fs===0&&yn(!1),Ee.current=fs},bn=Ke.current;bn&&(bn.addEventListener("scroll",Nt,{passive:!0}),Ue=()=>bn.removeEventListener("scroll",Nt))}return()=>{Ue&&Ue()}},[qe,ze]);const[At,Cn]=d.useState(()=>{const Ue=localStorage.getItem("embeddedTaskTabId");if(!Ue){const Nt=w6();return localStorage.setItem("embeddedTaskTabId",Nt),Nt}return Ue||w6()});d.useEffect(()=>{Ce&&Kl.createUser(Ce?.id)},[Ce]);const Mt=()=>{const Ue=w6();localStorage.setItem("embeddedTaskTabId",Ue),Cn(Ue)},Pn=()=>{if(!tt?.pending_invitations||Ie.isOpen||ft)return;let Ue=null;try{const bn=localStorage.getItem("pending_invitation");bn&&(Ue=JSON.parse(bn).invitation_id)}catch{}const Nt=tt.pending_invitations.find(bn=>{const Yn=Ue===bn.id,Jn=!Lt.includes(bn.id),fs=!GX(bn.organization_id);return Yn&&Jn?!0:Jn&&fs});if(Nt){const bn={id:Nt.id,organization_id:Nt.organization_id,organization_name:Nt.organization_name,role:Nt.role,invited_by:Nt.invited_by,invited_by_email:Nt.invited_by,inviter_name:Nt.inviter_name,expires_at:Nt.expires_at,created_at:Nt.created_at};Tt(Nt.id);const Yn=()=>{pt(Jn=>[...Jn,Nt.id]),Tt(null),kL(Nt.organization_id),localStorage.removeItem("pending_invitation")};Ie.open({invitation:bn,onAccept:Yn,onDecline:Yn})}},wn=Ea(),In=Mi(),{setTabs:us,setActiveTab:Kt,updateTabState:dn,state:gt,getTabByJobId:ps,removeTab:Zn,activeTab:$s}=hi(),{refreshCredits:Ls,credits:ys}=xs(),zn=d.useRef(!1);d.useEffect(()=>{if(zn.current||!Ce||tt===void 0||(tt?.show_perceived_msg_experiment&&localStorage.setItem(rw,"true"),!(localStorage.getItem(rw)==="true"))||(zn.current=!0,sessionStorage.getItem("perceivedUXHandled")==="true"))return;sessionStorage.setItem("perceivedUXHandled","true");const Nt=`perceived-ux-${Date.now()}`,bn="/chat";us(Yn=>[...Yn,{id:Nt,title:"New Chat",path:bn,level:"user",state:{isPerceivedUX:!0,tabId:Nt,needsApiCall:!1,fromPerceivedUX:!0}}]),dn(Nt,{isPerceivedUX:!0,needsApiCall:!1,fromPerceivedUX:!0}),H(IP.TAB_OPENED,{userId:Ce?.id,tabId:Nt}),setTimeout(()=>{Kt(Nt),wn(bn)},0)},[tt,Ce,us,dn,Kt,wn]),d.useEffect(()=>{if(new URLSearchParams(window.location.search).get("utm_shift")!=="redirect")return;const bn=navigator.userAgent||navigator.vendor,Yn=/android/i.test(bn),Jn=/iPad|iPhone|iPod/.test(bn),fs=new URLSearchParams(window.location.search);fs.delete("utm_shift");const Gn="https://app.emergent.sh/home",Fs=fs.toString(),nr=Fs?`${Gn}?${Fs}`:Gn;Jn?window.location.href=`x-safari-https://${nr.replace("https://","")}`:Yn&&(window.location.href=`intent://${nr.replace("https://","")}#Intent;scheme=https;package=com.android.chrome;end`)},[]),d.useEffect(()=>{ge?(N(!1),gt.activeTab==="home"&&(Se.current!==null&&Se.current!=="home"&&Ls(),dn("home",{isCloudFlow:!0})),Se.current=gt.activeTab):N(!1)},[ge,gt.activeTab,In?.pathname]),d.useEffect(()=>{$s==="home"&&(y(),Ke.current&&(Ke.current.scrollTop=0))},[$s]),d.useEffect(()=>{ge&&y()},[n(),y,ge]),d.useEffect(()=>{const Ue=()=>{!E&&w?.overload_lock?.enabled&&I(!0)};return document.addEventListener("click",Ue),()=>{document.removeEventListener("click",Ue)}},[E,w]);const _n=d.useCallback(async()=>{C(!0),await y(),C(!1)},[y]);d.useEffect(()=>{ge?($e(),N(!1),FL()):N(!1)},[ge]);const Wn=d.useCallback((Ue,Nt)=>{const bn=Ue._openedInAdminMode;if(!Ue.payload.task||!(Ue.payload.container_id||Ue.id))return;const Jn=ps(Ue.id);if(Jn){const wr=Ue.organization_id||Ue.payload?.organization_id,Gs=Jn.organization_id;if(wr!==Gs)Zn(Jn.id);else{const ve=n(),{tabLevel:Xe,organizationId:at}=hf(Gs,ve);(Jn.level!==Xe||Jn.organization_id!==at)&&us(un=>un.map(Xn=>Xn.id===Jn.id?{...Xn,level:Xe,organization_id:at}:Xn)),Nt?.openRedeployPanel&&dn(Jn.id,{openRedeployPanel:!0}),Kt(Jn.id);return}}const fs=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Gn=`/root/runs/${Ue.id}/trajectory.json`;let Fs=null;Ue.payload.forked_from?Fs={parent_job_id:Ue.payload.forked_from,parent_job_title:null}:Ue.payload.forked?.parent_job_id&&(Fs=Ue.payload.forked);const nr=Ue.organization_id||Ue.payload?.organization_id,an={containerId:Ue.payload.container_id||Ue.id,initial_commit_id:Ue.payload.initial_commit_id,task:Ue.payload.task,jobId:Ue.id,title:Ue.payload?.original_task||Ue.payload.task,trajPath:Gn,tabId:fs,fromJobList:!0,isCloudFlow:Ue.payload?.is_cloud,clientRefId:Ue.client_ref_id,modelName:Ue.payload.model_name,promptName:Ue.payload.prompt_name,promptVersion:Ue.payload.prompt_version,costLimit:Ue.payload.per_instance_cost_limit,agentName:Ue.payload.agent_name,portMapping:Ue.payload.portMapping,created_by:Ue.created_by,forked:Fs,isAdminModeJob:bn,originalOrganizationId:bn?nr:void 0,originalOrganizationName:bn?Ue.organization_name||Ue.payload?.organization_name:void 0,tabHeading:Ue.title||void 0,dynamic_preview_subdomain:Ue.payload?.dynamic_preview_subdomain,openRedeployPanel:Nt?.openRedeployPanel},Ws=n();let ir,vr,rs,Bs;if(bn)ir="user",vr=void 0,rs=void 0,Bs="/chat";else{const wr=hf(nr,Ws);ir=wr.tabLevel,vr=wr.organizationId,rs=Ue.organization_name||Ue.payload?.organization_name;const Gs=n();Bs=Gs?`/workspace/${Gs}/chat`:"/chat"}const _s=Ue.title||Ue.payload.task;us(wr=>[...wr,{id:fs,title:`${Ue.payload.task}`,path:Bs,level:ir,organization_id:vr,organization_name:rs,state:an,tabHeading:_s}]),dn(fs,an),Kt(fs),wn(`${Bs}?id=${Ue.id}`),H(qn.HOME_PAGE_EVENTS.RECENT_TASK_OPENED,Ue)},[ps,dn,Kt,n,us,wn,Zn]);d.useEffect(()=>{},[]);const As=()=>{const Ue=new Date,bn=new Date(w?.overload_lock?.locked_until||"").getTime()-Ue.getTime(),Yn=Math.floor(bn/(1e3*60*60*24)),Jn=Math.floor(bn%(1e3*60*60*24)/(1e3*60*60)),fs=Math.floor(bn%(1e3*60*60)/(1e3*60)),Gn=Yn<10?`0${Yn}`:`${Yn}`,Fs=Jn<10?`0${Jn}`:`${Jn}`,nr=fs<10?`0${fs}`:`${fs}`;return{days:Gn,hours:Fs,minutes:nr}},tr=async()=>{bN();const Ue=_t?.available_plans?.find(bn=>bn.tier_name.toLowerCase()==="emergent standard"&&bn.billing_period==="MONTHLY"),{url:Nt}=await vt.createCheckoutSession(0,!0,Ue?.id,void 0,Ue?.currency||"USD");Nt&&(window.location.href=Nt)};d.useEffect(()=>{!Ie.isOpen&&!ft&&Pn()},[tt]);const[Ht,zs]=d.useState(Ie.isOpen);d.useEffect(()=>{Ht&&!Ie.isOpen&&(ft&&(pt(Ue=>[...Ue,ft]),Tt(null)),Gt.current&&clearTimeout(Gt.current),Gt.current=setTimeout(()=>{Gt.current=null,Pn()},500)),zs(Ie.isOpen)},[Ie.isOpen]),d.useEffect(()=>()=>{Gt.current&&(clearTimeout(Gt.current),Gt.current=null)},[]),d.useEffect(()=>{!Bt&&D&&O(!1)},[Bt,D]),d.useEffect(()=>{!M.isOpen&&D&&O(!1)},[M.isOpen,D]),d.useEffect(()=>{D&&We.isOpen&&(KX(),We.close())},[D,We]),d.useEffect(()=>{Ce&&ge&&Ze&&Ze.pix_modal&&!V4()&&!$.isOpen&&!ae&&!D&&Te==="free"&&(O(!0),$.open({couponCode:"PIX90",triggerLocation:"home",desktopImageUrl:K.modals.pixDesktop,mobileImageUrl:K.modals.pixMobile}))},[Ce,ge,Ze,$.isOpen,D,Te]),d.useEffect(()=>{!$.isOpen&&V4()&&O(!1)},[$.isOpen]),d.useEffect(()=>{$.isOpen&&!V4()&&pQ()},[$.isOpen]),d.useEffect(()=>{Ce&&ge&&Te!=="free"&&!vQ()&&i.length>0&&!U.isOpen&&!ae&&!ze&&Bie()&&(O(!0),U.open({onGetStarted:()=>{yp(),e(_a(!0))},onClose:()=>{yp(),e(_a(!0))},onShowUpgradeModal:()=>{M.open({triggerLocation:"default",shouldShowModelSelectorTooltipAfterClose:!0})},onPreventOtherModals:Ue=>{O(Ue)}}))},[Ce,ge,Te,U.isOpen,ze,i.length,ae]),d.useEffect(()=>{Ce&&ge&&Te!=="free"&&!pg()&&i.length>0&&!oe.isOpen&&!U.isOpen&&!ae&&!ze&&Uie()&&(O(!0),oe.open({onGetStarted:()=>{yp(),e(_a(!0))},onClose:()=>{yp(),e(_a(!0))},onShowUpgradeModal:()=>{M.open({triggerLocation:"default",shouldShowModelSelectorTooltipAfterClose:!1})},onPreventOtherModals:Ue=>{O(Ue)}}))},[Ce,ge,Te,oe.isOpen,U.isOpen,ze,i.length,ae]),d.useEffect(()=>{Ce&&ge&&Te==="free"&&!Ae&&!kQ()&&!ce.isOpen&&!ze&&!ae&&!D&&!U.isOpen&&!L.isOpen&&!G.isOpen&&!ee.isOpen&&!J.isOpen&&!re.isOpen&&Ze?.promo_code_enabled&&(O(!0),ce.open({onClose:()=>{O(!1)}}),IQ())},[Ce,ge,Te,Ae,ce.isOpen,ze,D,U.isOpen,L.isOpen,G.isOpen,ee.isOpen,J.isOpen,re.isOpen,Ze]),d.useEffect(()=>{const Ue=gl(),Nt=p0(tt,Ue),bn=c3(tt),Yn=tt?.country_code==="IN",Jn=tt?.country_code==="BR",fs=(Nt||bn)&&!Yn&&!Jn;Ce&&ge&&Te==="free"&&!Ae&&!AQ()&&!ee.isOpen&&!ze&&!ae&&!D&&xt&&!U.isOpen&&!L.isOpen&&!G.isOpen&&!ce.isOpen&&!J.isOpen&&!re.isOpen&&Cp()&&Ze&&!Ze.promo_code_enabled&&fs&&(O(!0),ee.open({onClose:()=>{O(!1)}}),DQ())},[Ce,ge,Te,Ae,ee.isOpen,ze,D,xt,U.isOpen,L.isOpen,G.isOpen,ce.isOpen,J.isOpen,re.isOpen,Ze,tt]),d.useEffect(()=>{const Ue=gl(),Nt=sC(tt,Ue);Ce&&ge&&Te==="free"&&Nt&&lw()&&!MQ()&&!J.isOpen&&!ze&&!ae&&!D&&xt&&!U.isOpen&&!L.isOpen&&!G.isOpen&&!ce.isOpen&&!ee.isOpen&&!re.isOpen&&(O(!0),J.open({onClose:()=>{O(!1)}}),RQ())},[Ce,ge,Te,tt,xt,J.isOpen,ze,ae,D,U.isOpen,L.isOpen,G.isOpen,ce.isOpen,ee.isOpen,re.isOpen]),d.useEffect(()=>{const Ue=gl(),Nt=nC(tt,Ue),bn=tt?.country_code==="IN";Ce&&ge&&Te==="free"&&!Ae&&!LQ()&&!re.isOpen&&!ze&&!ae&&!D&&!U.isOpen&&!L.isOpen&&!G.isOpen&&!ce.isOpen&&!J.isOpen&&!ee.isOpen&&cw()&&Ze&&!Ze.promo_code_enabled&&Nt&&bn&&(O(!0),re.open({onClose:()=>{O(!1)}}),PQ())},[Ce,ge,Te,Ae,re.isOpen,ze,D,U.isOpen,L.isOpen,G.isOpen,ce.isOpen,J.isOpen,ee.isOpen,Ze,tt]),d.useEffect(()=>{Ce&&ge&&Te==="free"&&Ae&&!TL()&&!xe.isOpen&&!ze&&!ae&&!D&&!U.isOpen&&!L.isOpen&&!G.isOpen&&(O(!0),xe.open({onClose:()=>{O(!1),Gp.emit(Wp.FREE_STANDARD_PLAN_CLOSED)}}),yN())},[Ce,ge,Te,Ae,xe.isOpen,ze,D,U.isOpen,L.isOpen,G.isOpen]),d.useEffect(()=>{Ce&&ge&&Te!=="free"&&!Ae&&!_Q()&&!he.isOpen&&!ze&&!ae&&!D&&!U.isOpen&&!L.isOpen&&!G.isOpen&&Hie()&&(O(!0),he.open({onClose:()=>{O(!1)}}),jQ())},[Ce,ge,Te,Ae,he.isOpen,ze,D,U.isOpen,L.isOpen,G.isOpen]),d.useEffect(()=>{Ce&&ge&&Te!=="free"&&!FQ()&&!me.isOpen&&!ze&&!ae&&!D&&!U.isOpen&&!L.isOpen&&!G.isOpen&&!he.isOpen&&hO()&&(O(!0),me.open({onClose:()=>{O(!1)}}))},[Ce,ge,Te,me.isOpen,ze,D,U.isOpen,L.isOpen,G.isOpen,he.isOpen,ae]),d.useEffect(()=>{Ce&&ge&&i.length>0&&!qX()&&!L.isOpen&&!ze&&!ae&&!D&&!G.isOpen&&!U.isOpen&&Oie()&&L.open({onGetStarted:()=>{},onClose:()=>{},onShowUpgradeModal:()=>{M.open({triggerLocation:"oneMillionModal",shouldShowModelSelectorTooltipAfterClose:!1})},onPreventOtherModals:Ue=>{O(Ue)}})},[Ce,ge,i.length,L.isOpen,ze,D,G.isOpen,U.isOpen]),d.useEffect(()=>{if(Ce&&ge&&Z&&!Ae&&!Y.isOpen&&!ae&&!D&&!G.isOpen&&!L.isOpen&&!U.isOpen&&!Ze?.promo_code_enabled&&!ce.isOpen&&!Bt&&Ne.current!==Z.id){const Ue=setTimeout(()=>{Ne.current=Z.id,Y.open({schema:Z})},1e3);return()=>clearTimeout(Ue)}},[Ce,ge,Z,Y,Ae,D,G.isOpen,L.isOpen,U.isOpen,ce.isOpen,Bt,Ze?.promo_code_enabled]),d.useEffect(()=>{const Ue=dt.get("job_id");if(Ue&&i.length>0){const Nt=i.find(bn=>bn.id===Ue);Nt&&(Wn(Nt),dt.delete("job_id"),Me(dt))}},[i,dt,Me,Wn]),d.useEffect(()=>{i.length===0&&Ce&&!W&&Kl.triggerEvent("no-jobs-created",{user_id:Ce?.id,user_email:Ce?.email,tier:Te,user_id_ends:Ce?.id?.slice(-1)}),i.length===0&&Ce&&W&&Kl.triggerEvent("no-jobs-created-mobile",{user_id:Ce?.id,user_email:Ce?.email,tier:Te,user_id_ends:Ce?.id?.slice(-1)})},[i?.length,Ce]);let Ve;Ce?.user_metadata?.name?Ve=Ce.user_metadata.name.split(" ")[0]:Ce?.user_metadata?.full_name?Ve=Ce.user_metadata.full_name.split(" ")[0]:Ve=Ce?.email?.split("@")[0],d.useEffect(()=>{Ce&&(H("home_visited",{userId:Ce?.id,userName:Ve,tier:Te}),qe&&Sse(Ce?.id))},[]),d.useEffect(()=>{Ce&&bV()&&!yV(Ce.id)&&V2e(Ce.id,Ce.email||"",Ce.user_metadata?.name||Ce.user_metadata?.full_name)},[Ce]),d.useEffect(()=>{!_&&!ze&&Ce&&H("home_loaded",{userId:Ce?.id,userName:Ve,credits:ys,tier:Te})},[ze,_,Ce?.id]),d.useEffect(()=>{const Ue=Mie();Q(Ue)},[Ce,Te]);const lt=()=>{Ce&&(Lie(Ce.id),hQ(),Pie("accepted",{userId:Ce.id,userEmail:Ce.email,tier:Te}),te.open())},$t=d.useCallback(Ue=>{Ue?P.open():P.close()},[P]),Tn=d.useCallback(()=>{Ut(!1)},[]),Yt=d.useCallback(Ue=>{yn(Ue),Ue&&setTimeout(()=>{mt.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)},[]),Is=d.useCallback(Ue=>{Ue?B.open({jobIdInput:S,setJobIdInput:F,handleJobClick:Wn}):B.close()},[B,S,Wn]),nn=d.useMemo(()=>i,[i]);return _||ze?t.jsx(xa,{mode:"wait",children:t.jsx(Rn.div,{className:"flex items-center justify-center min-h-screen",initial:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:t.jsx("img",{src:Y5e,alt:"Loading",width:64,height:64,style:{width:64,height:64,maxWidth:64,maxHeight:64}})},"loading")}):t.jsxs(t.Fragment,{children:[qie()&&t.jsx(NV,{}),t.jsxs("div",{"data-testid":mB.container,"data-scroll-lock-scrollable":!0,ref:Ke,className:k("relative flex flex-col items-center h-full overflow-hidden md:overflow-y-scroll md:h-screen justify-between md:block",qe&&"bg-cover bg-center bg-no-repeat"),style:{...qe&&!W?{backgroundImage:`url(${Hk})`}:{}},children:[t.jsx("img",{alt:"Background",src:Hk,className:"fixed top-0 bottom-0 pointer-events-none left-0 right-0 z-[-1] object-cover h-[100dvh]"}),t.jsx(vV,{isFreeUser:qe||W}),!ae&&Qt(),q&&!mQ()&&!qe&&t.jsx(r5e,{modalChange:lt}),t.jsx(xa,{children:E&&t.jsxs(Rn.div,{className:"absolute top-0 left-0 z-20 w-full",initial:{y:"-100%"},animate:{y:0},exit:{y:"-100%"},transition:{type:"spring",stiffness:100,damping:20},children:[t.jsxs("div",{className:"relative min-h-[300px] sm:min-h-[450px] lg:min-h-[400px]",children:[t.jsx("img",{alt:"Banner",src:q5e,className:"absolute inset-0 z-20 object-cover w-full h-full"}),t.jsx("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden",children:t.jsx("div",{className:"flex w-full h-full max-md:hidden",children:[...Array(4)].map((Ue,Nt)=>t.jsx("video",{src:K5e,autoPlay:!0,loop:!0,muted:!0,className:"flex-shrink-0 object-cover w-full h-full opacity-10",style:{maxWidth:"25%",transform:`rotate(${Nt*180}deg)`}},Nt))})}),t.jsx("div",{className:"absolute top-0 left-0 z-30 w-full h-full pb-10",children:t.jsx("div",{className:"flex px-4 py-6 w-full min-h-[300px] sm:min-h-[750px] lg:min-h-[400px] sm:px-8 sm:py-8 lg:px-[72px] lg:py-12",children:t.jsxs("div",{className:"flex flex-col items-start justify-between w-full space-y-8",children:[t.jsxs("div",{className:"flex flex-col space-y-2 max-w-full lg:max-w-[600px]",children:[t.jsx("span",{className:"text-[#242F33] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:w?.overload_lock?.title}),t.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7",children:w?.overload_lock?.description})]}),t.jsxs("div",{className:"flex flex-col w-full gap-6 lg:flex-row lg:items-center lg:justify-between lg:gap-0",children:[t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:gap-8 lg:gap-16",children:[t.jsxs("div",{className:"flex flex-col items-start gap-1 lg:gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-[#242F33] text-xl font-semibold leading-6 font-sans sm:text-2xl sm:leading-7 lg:text-[28px] lg:leading-9",children:w?.overload_lock?.capacity}),t.jsx(Qc,{color:"#CB6565"})]}),t.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7",children:"System Capacity"})]}),t.jsxs("div",{className:"flex flex-col items-start gap-1 lg:gap-2",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"text-[#242F33] text-xl font-semibold leading-6 font-sans sm:text-2xl sm:leading-7 lg:text-[28px] lg:leading-9",children:w?.overload_lock?.concurrent_tasks})}),t.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7",children:"Concurrent running tasks"})]})]}),t.jsxs("div",{className:"flex flex-col gap-1 lg:gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2 lg:justify-end",children:[t.jsx("div",{className:"p-2 bg-white rounded-lg flex items-center justify-center lg:p-[10px] lg:rounded-[12px]",children:t.jsxs("span",{className:"text-[#3D494D] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:[As().days,t.jsx("span",{className:"text-xs lg:text-sm",children:"d"})]})}),t.jsx("div",{className:"p-2 bg-white rounded-lg flex items-center justify-center lg:p-[10px] lg:rounded-[12px]",children:t.jsxs("span",{className:"text-[#3D494D] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:[As().hours,t.jsx("span",{className:"text-xs lg:text-sm",children:"h"})]})}),t.jsx("div",{className:"p-2 bg-white rounded-lg flex items-center justify-center lg:p-[10px] lg:rounded-[12px]",children:t.jsxs("span",{className:"text-[#3D494D] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:[As().minutes,t.jsx("span",{className:"text-xs lg:text-sm",children:"m"})]})})]}),t.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7 lg:text-right",children:"Estimated time to come back"})]})]})]})})})]}),t.jsx("div",{className:"h-12 bg-black/20 backdrop-blur-sm sm:h-16 lg:h-20"})]})}),t.jsx("div",{className:k("flex flex-col items-center w-full",W?"mt-0":"mt-[120px]"),children:t.jsxs("div",{className:"flex flex-col items-center w-full h-full md:max-w-6xl",children:[!W&&ge&&t.jsx(E2e,{}),t.jsx("div",{className:k("w-full flex items-center justify-center",W&&"mt-[80px]"),children:t.jsx(wV,{isFreeUser:qe,session:ge,userName:Ve})}),t.jsx("div",{"data-component":"embedded-task",className:"w-full h-full",children:t.jsx(Mge,{tabId:At,onClearTabId:Mt,isReferralModalOpen:P.isOpen,setIsReferralModalOpen:$t,isCustomAgentsModalOpen:T,setIsCustomAgentsModalOpen:A,showMobileAgentIntro:Le,onMobileAgentIntroShown:Tn,jobsLength:nn.length})}),t.jsx("div",{className:k("w-full",W&&"mb-[200px]"),children:t.jsx(CV,{isFreeUser:qe,jobs:nn,showBottomPage:Sn,setShowBottomPage:Yt})})]})}),t.jsx("div",{className:"flex items-center justify-center w-full",children:t.jsx("div",{className:"w-full max-w-6xl",children:!W&&nn?.length>0&&Ce&&ge&&t.jsx(Rn.div,{initial:Ge.current?!1:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:10,delay:.6},onAnimationComplete:()=>{Ge.current=!0},className:"mt-[100px]",children:t.jsx(N2e,{jobs:nn,handleJobClick:Wn,handleReload:_n,reloading:j,setIsJobIdDialogOpen:Is,loading:m,refetchJobs:y,hasMore:c,isLoadingMore:p,onLoadMore:v})})})}),t.jsx(Rn.div,{ref:mt,initial:{opacity:0,y:20},animate:{opacity:qe&&!Sn?0:1,y:qe&&!Sn?20:0,marginTop:qe&&nn.length===0?Sn?"100px":"300px":"100px"},transition:{duration:.8,ease:[.33,1,.68,1],opacity:{duration:Sn?.8:.6,ease:Sn?"easeInOut":"easeOut"},marginTop:{duration:Sn?.4:.5,ease:Sn?"easeOut":"easeIn"},y:{duration:Sn?.8:.6,ease:Sn?"easeOut":"easeIn"}},className:"flex items-center justify-center w-full max-md:hidden",children:t.jsx("div",{className:"w-full max-w-6xl px-4",children:t.jsx(jV,{})})}),t.jsx(Vge,{}),t.jsx(A2e,{isOpen:nt.isOpen,onOpenChange:nt.close,onClaimDiscount:tr,onClose:()=>{bN()}}),t.jsx(D2e,{isOpen:he.isOpen,onOpenChange:Ue=>{Ue||(he.close(),he.config?.onClose?.())}}),t.jsx(L2e,{isOpen:me.isOpen,onOpenChange:Ue=>{Ue||(EQ(),me.close(),me.config?.onClose?.())}}),t.jsx(f5e,{isOpen:ce.isOpen,onOpenChange:Ue=>{Ue||(ce.close(),ce.config?.onClose?.())}}),t.jsx(x5e,{isOpen:ee.isOpen,onOpenChange:Fe}),t.jsx(C5e,{isOpen:J.isOpen,onOpenChange:se}),t.jsx(y5e,{isOpen:re.isOpen,onOpenChange:_e}),t.jsx(IH,{isOpen:xe.isOpen,onOpenChange:Re}),St&&t.jsx(FV,{}),It&&t.jsx(EV,{}),kt&&t.jsx(S5e,{}),Ot&&t.jsx(R5e,{handleJobClick:Wn}),W&&!ae&&t.jsx(B5e,{})]})]})}const SV=d.createContext(null);function Z5e({tabId:e,children:n}){return t.jsx(SV.Provider,{value:{tabId:e},children:n})}function J5e(){return d.useContext(SV)?.tabId}const zf=()=>ba(),jr=br;class _6 extends d.Component{constructor(){super(...arguments);Vt(this,"state",{hasError:!1,error:null});Vt(this,"handleRetry",()=>{this.setState({hasError:!1,error:null}),window.location.reload()})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){zc(s,{errorInfo:r.componentStack,context:"error_boundary"})}render(){return this.state.hasError?t.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:t.jsxs("div",{className:"max-w-md text-center",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),t.jsx("p",{className:"text-gray-500 mb-6",children:this.state.error?.message||"An unexpected error occurred"}),t.jsx(zt,{onClick:this.handleRetry,children:"Try again"})]})}):this.props.children}}var kV="vercel.ai.error",X5e=Symbol.for(kV),IV,Q5e=class TV extends Error{constructor({name:n,message:s,cause:r}){super(s),this[IV]=!0,this.name=n,this.cause=r}static isInstance(n){return TV.hasMarker(n,kV)}static hasMarker(n,s){const r=Symbol.for(s);return n!=null&&typeof n=="object"&&r in n&&typeof n[r]=="boolean"&&n[r]===!0}};IV=X5e;var xf=Q5e;function AV(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var DV="AI_InvalidArgumentError",MV=`vercel.ai.error.${DV}`,e3e=Symbol.for(MV),RV,t3e=class extends xf{constructor({message:e,cause:n,argument:s}){super({name:DV,message:e,cause:n}),this[RV]=!0,this.argument=s}static isInstance(e){return xf.hasMarker(e,MV)}};RV=e3e;var LV="AI_JSONParseError",PV=`vercel.ai.error.${LV}`,n3e=Symbol.for(PV),OV,$k=class extends xf{constructor({text:e,cause:n}){super({name:LV,message:`JSON parsing failed: Text: ${e}.
Error message: ${AV(n)}`,cause:n}),this[OV]=!0,this.text=e}static isInstance(e){return xf.hasMarker(e,PV)}};OV=n3e;var BV="AI_TypeValidationError",UV=`vercel.ai.error.${BV}`,s3e=Symbol.for(UV),HV,r3e=class r8 extends xf{constructor({value:n,cause:s}){super({name:BV,message:`Type validation failed: Value: ${JSON.stringify(n)}.
Error message: ${AV(s)}`,cause:s}),this[HV]=!0,this.value=n}static isInstance(n){return xf.hasMarker(n,UV)}static wrap({value:n,cause:s}){return r8.isInstance(s)&&s.value===n?s:new r8({value:n,cause:s})}};HV=s3e;var zk=r3e;let i3e=(e,n=21)=>(s=n)=>{let r="",i=s|0;for(;i--;)r+=e[Math.random()*e.length|0];return r};var Td={exports:{}},Wk;function a3e(){if(Wk)return Td.exports;Wk=1;const e=typeof Buffer<"u",n=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,s=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function r(l,c,u){u==null&&c!==null&&typeof c=="object"&&(u=c,c=void 0),e&&Buffer.isBuffer(l)&&(l=l.toString()),l&&l.charCodeAt(0)===65279&&(l=l.slice(1));const p=JSON.parse(l,c);if(p===null||typeof p!="object")return p;const f=u&&u.protoAction||"error",m=u&&u.constructorAction||"error";if(f==="ignore"&&m==="ignore")return p;if(f!=="ignore"&&m!=="ignore"){if(n.test(l)===!1&&s.test(l)===!1)return p}else if(f!=="ignore"&&m==="ignore"){if(n.test(l)===!1)return p}else if(s.test(l)===!1)return p;return i(p,{protoAction:f,constructorAction:m,safe:u&&u.safe})}function i(l,{protoAction:c="error",constructorAction:u="error",safe:p}={}){let f=[l];for(;f.length;){const m=f;f=[];for(const h of m){if(c!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"__proto__")){if(p===!0)return null;if(c==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.__proto__}if(u!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"constructor")&&Object.prototype.hasOwnProperty.call(h.constructor,"prototype")){if(p===!0)return null;if(u==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.constructor}for(const x in h){const g=h[x];g&&typeof g=="object"&&f.push(g)}}}return l}function a(l,c,u){const p=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(l,c,u)}finally{Error.stackTraceLimit=p}}function o(l,c){const u=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(l,c,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=u}}return Td.exports=a,Td.exports.default=a,Td.exports.parse=a,Td.exports.safeParse=o,Td.exports.scan=i,Td.exports}var o3e=a3e();const l3e=ga(o3e);var c3e=({prefix:e,size:n=16,alphabet:s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=i3e(s,n);if(e==null)return i;if(s.includes(r))throw new t3e({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${s}".`});return a=>`${e}${r}${i(a)}`},fC=c3e(),i8=Symbol.for("vercel.ai.validator");function d3e(e){return{[i8]:!0,validate:e}}function u3e(e){return typeof e=="object"&&e!==null&&i8 in e&&e[i8]===!0&&"validate"in e}function p3e(e){return u3e(e)?e:f3e(e)}function f3e(e){return d3e(n=>{const s=e.safeParse(n);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}})}function m3e({value:e,schema:n}){const s=p3e(n);try{if(s.validate==null)return{success:!0,value:e};const r=s.validate(e);return r.success?r:{success:!1,error:zk.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:zk.wrap({value:e,cause:r})}}}function Gk({text:e,schema:n}){try{const s=l3e.parse(e);if(n==null)return{success:!0,value:s,rawValue:s};const r=m3e({value:s,schema:n});return r.success?{...r,rawValue:s}:r}catch(s){return{success:!1,error:$k.isInstance(s)?s:new $k({text:e,cause:s})}}}new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var Mh={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},Rh={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Lh={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(n=>n!=null&&typeof n=="object"&&"type"in n&&n.type==="text"&&"text"in n&&n.text!=null&&typeof n.text=="object"&&"value"in n.text&&typeof n.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Ph={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Oh={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},h3e=[Mh,Rh,Lh,Ph,Oh];Mh.code+"",Rh.code+"",Lh.code+"",Ph.code+"",Oh.code+"";Mh.name+"",Mh.code,Rh.name+"",Rh.code,Lh.name+"",Lh.code,Ph.name+"",Ph.code,Oh.name+"",Oh.code;h3e.map(e=>e.code);function x3e({promptTokens:e,completionTokens:n}){return{promptTokens:e,completionTokens:n,totalTokens:e+n}}function g3e(e){const n=["ROOT"];let s=-1,r=null;function i(c,u,p){switch(c){case'"':{s=u,n.pop(),n.push(p),n.push("INSIDE_STRING");break}case"f":case"t":case"n":{s=u,r=u,n.pop(),n.push(p),n.push("INSIDE_LITERAL");break}case"-":{n.pop(),n.push(p),n.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{s=u,n.pop(),n.push(p),n.push("INSIDE_NUMBER");break}case"{":{s=u,n.pop(),n.push(p),n.push("INSIDE_OBJECT_START");break}case"[":{s=u,n.pop(),n.push(p),n.push("INSIDE_ARRAY_START");break}}}function a(c,u){switch(c){case",":{n.pop(),n.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{s=u,n.pop();break}}}function o(c,u){switch(c){case",":{n.pop(),n.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{s=u,n.pop();break}}}for(let c=0;c<e.length;c++){const u=e[c];switch(n[n.length-1]){case"ROOT":i(u,c,"FINISH");break;case"INSIDE_OBJECT_START":{switch(u){case'"':{n.pop(),n.push("INSIDE_OBJECT_KEY");break}case"}":{s=c,n.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(u){case'"':{n.pop(),n.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(u){case'"':{n.pop(),n.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(u){case":":{n.pop(),n.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{i(u,c,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{a(u,c);break}case"INSIDE_STRING":{switch(u){case'"':{n.pop(),s=c;break}case"\\":{n.push("INSIDE_STRING_ESCAPE");break}default:s=c}break}case"INSIDE_ARRAY_START":{switch(u){case"]":{s=c,n.pop();break}default:{s=c,i(u,c,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(u){case",":{n.pop(),n.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{s=c,n.pop();break}default:{s=c;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{i(u,c,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{n.pop(),s=c;break}case"INSIDE_NUMBER":{switch(u){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{s=c;break}case"e":case"E":case"-":case".":break;case",":{n.pop(),n[n.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(u,c),n[n.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&a(u,c);break}case"}":{n.pop(),n[n.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&a(u,c);break}case"]":{n.pop(),n[n.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(u,c);break}default:{n.pop();break}}break}case"INSIDE_LITERAL":{const f=e.substring(r,c+1);!"false".startsWith(f)&&!"true".startsWith(f)&&!"null".startsWith(f)?(n.pop(),n[n.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?a(u,c):n[n.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(u,c)):s=c;break}}}let l=e.slice(0,s+1);for(let c=n.length-1;c>=0;c--)switch(n[c]){case"INSIDE_STRING":{l+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{l+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{l+="]";break}case"INSIDE_LITERAL":{const p=e.substring(r,e.length);"true".startsWith(p)?l+="true".slice(p.length):"false".startsWith(p)?l+="false".slice(p.length):"null".startsWith(p)&&(l+="null".slice(p.length))}}return l}function b3e(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let n=Gk({text:e});return n.success?{value:n.value,state:"successful-parse"}:(n=Gk({text:g3e(e)}),n.success?{value:n.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var y3e={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},v3e={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},w3e={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},C3e={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},_3e={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},j3e={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},N3e={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},F3e={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},E3e={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const n={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(n.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:n}}},S3e={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const n={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(n.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(n.isContinued=e.isContinued),{type:"finish_step",value:n}}},k3e={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},I3e={code:"g",name:"reasoning",parse:e=>{if(typeof e!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},T3e={code:"h",name:"source",parse:e=>{if(e==null||typeof e!="object")throw new Error('"source" parts expect a Source object.');return{type:"source",value:e}}},A3e={code:"i",name:"redacted_reasoning",parse:e=>{if(e==null||typeof e!="object"||!("data"in e)||typeof e.data!="string")throw new Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},D3e={code:"j",name:"reasoning_signature",parse:e=>{if(e==null||typeof e!="object"||!("signature"in e)||typeof e.signature!="string")throw new Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},M3e={code:"k",name:"file",parse:e=>{if(e==null||typeof e!="object"||!("data"in e)||typeof e.data!="string"||!("mimeType"in e)||typeof e.mimeType!="string")throw new Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}},mC=[y3e,v3e,w3e,C3e,_3e,j3e,N3e,F3e,E3e,S3e,k3e,I3e,T3e,A3e,D3e,M3e],R3e=Object.fromEntries(mC.map(e=>[e.code,e]));Object.fromEntries(mC.map(e=>[e.name,e.code]));var L3e=mC.map(e=>e.code),P3e=e=>{const n=e.indexOf(":");if(n===-1)throw new Error("Failed to parse stream string. No separator found.");const s=e.slice(0,n);if(!L3e.includes(s))throw new Error(`Failed to parse stream string. Invalid code ${s}.`);const r=s,i=e.slice(n+1),a=JSON.parse(i);return R3e[r].parse(a)},O3e=10;function B3e(e,n){const s=new Uint8Array(n);let r=0;for(const i of e)s.set(i,r),r+=i.length;return e.length=0,s}async function U3e({stream:e,onTextPart:n,onReasoningPart:s,onReasoningSignaturePart:r,onRedactedReasoningPart:i,onSourcePart:a,onFilePart:o,onDataPart:l,onErrorPart:c,onToolCallStreamingStartPart:u,onToolCallDeltaPart:p,onToolCallPart:f,onToolResultPart:m,onMessageAnnotationsPart:h,onFinishMessagePart:x,onFinishStepPart:g,onStartStepPart:v}){const b=e.getReader(),y=new TextDecoder,w=[];let _=0;for(;;){const{value:N}=await b.read();if(N&&(w.push(N),_+=N.length,N[N.length-1]!==O3e))continue;if(w.length===0)break;const j=B3e(w,_);_=0;const C=y.decode(j,{stream:!0}).split(`
`).filter(S=>S!=="").map(P3e);for(const{type:S,value:F}of C)switch(S){case"text":await n?.(F);break;case"reasoning":await s?.(F);break;case"reasoning_signature":await r?.(F);break;case"redacted_reasoning":await i?.(F);break;case"file":await o?.(F);break;case"source":await a?.(F);break;case"data":await l?.(F);break;case"error":await c?.(F);break;case"message_annotations":await h?.(F);break;case"tool_call_streaming_start":await u?.(F);break;case"tool_call_delta":await p?.(F);break;case"tool_call":await f?.(F);break;case"tool_result":await m?.(F);break;case"finish_message":await x?.(F);break;case"finish_step":await g?.(F);break;case"start_step":await v?.(F);break;default:{const E=S;throw new Error(`Unknown stream part type: ${E}`)}}}}async function H3e({stream:e,update:n,onToolCall:s,onFinish:r,generateId:i=fC,getCurrentDate:a=()=>new Date,lastMessage:o}){var l,c;const u=o?.role==="assistant";let p=u?1+((c=(l=o.toolInvocations)==null?void 0:l.reduce((j,C)=>{var S;return Math.max(j,(S=C.step)!=null?S:0)},0))!=null?c:0):0;const f=u?structuredClone(o):{id:i(),createdAt:a(),role:"assistant",content:"",parts:[]};let m,h,x;function g(j,C){const S=f.parts.find(F=>F.type==="tool-invocation"&&F.toolInvocation.toolCallId===j);S!=null?S.toolInvocation=C:f.parts.push({type:"tool-invocation",toolInvocation:C})}const v=[];let b=u?o?.annotations:void 0;const y={};let w={completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},_="unknown";function N(){const j=[...v];b?.length&&(f.annotations=b);const C={...structuredClone(f),revisionId:i()};n({message:C,data:j,replaceLastMessage:u})}await U3e({stream:e,onTextPart(j){m==null?(m={type:"text",text:j},f.parts.push(m)):m.text+=j,f.content+=j,N()},onReasoningPart(j){var C;x==null?(x={type:"text",text:j},h?.details.push(x)):x.text+=j,h==null?(h={type:"reasoning",reasoning:j,details:[x]},f.parts.push(h)):h.reasoning+=j,f.reasoning=((C=f.reasoning)!=null?C:"")+j,N()},onReasoningSignaturePart(j){x!=null&&(x.signature=j.signature)},onRedactedReasoningPart(j){h==null&&(h={type:"reasoning",reasoning:"",details:[]},f.parts.push(h)),h.details.push({type:"redacted",data:j.data}),x=void 0,N()},onFilePart(j){f.parts.push({type:"file",mimeType:j.mimeType,data:j.data}),N()},onSourcePart(j){f.parts.push({type:"source",source:j}),N()},onToolCallStreamingStartPart(j){f.toolInvocations==null&&(f.toolInvocations=[]),y[j.toolCallId]={text:"",step:p,toolName:j.toolName,index:f.toolInvocations.length};const C={state:"partial-call",step:p,toolCallId:j.toolCallId,toolName:j.toolName,args:void 0};f.toolInvocations.push(C),g(j.toolCallId,C),N()},onToolCallDeltaPart(j){const C=y[j.toolCallId];C.text+=j.argsTextDelta;const{value:S}=b3e(C.text),F={state:"partial-call",step:C.step,toolCallId:j.toolCallId,toolName:C.toolName,args:S};f.toolInvocations[C.index]=F,g(j.toolCallId,F),N()},async onToolCallPart(j){const C={state:"call",step:p,...j};if(y[j.toolCallId]!=null?f.toolInvocations[y[j.toolCallId].index]=C:(f.toolInvocations==null&&(f.toolInvocations=[]),f.toolInvocations.push(C)),g(j.toolCallId,C),N(),s){const S=await s({toolCall:j});if(S!=null){const F={state:"result",step:p,...j,result:S};f.toolInvocations[f.toolInvocations.length-1]=F,g(j.toolCallId,F),N()}}},onToolResultPart(j){const C=f.toolInvocations;if(C==null)throw new Error("tool_result must be preceded by a tool_call");const S=C.findIndex(E=>E.toolCallId===j.toolCallId);if(S===-1)throw new Error("tool_result must be preceded by a tool_call with the same toolCallId");const F={...C[S],state:"result",...j};C[S]=F,g(j.toolCallId,F),N()},onDataPart(j){v.push(...j),N()},onMessageAnnotationsPart(j){b==null?b=[...j]:b.push(...j),N()},onFinishStepPart(j){p+=1,m=j.isContinued?m:void 0,h=void 0,x=void 0},onStartStepPart(j){u||(f.id=j.messageId),f.parts.push({type:"step-start"}),N()},onFinishMessagePart(j){_=j.finishReason,j.usage!=null&&(w=x3e(j.usage))},onErrorPart(j){throw new Error(j)}}),r?.({message:f,finishReason:_,usage:w})}async function V3e({stream:e,onTextPart:n}){const s=e.pipeThrough(new TextDecoderStream).getReader();for(;;){const{done:r,value:i}=await s.read();if(r)break;await n(i)}}async function $3e({stream:e,update:n,onFinish:s,getCurrentDate:r=()=>new Date,generateId:i=fC}){const a={type:"text",text:""},o={id:i(),createdAt:r(),role:"assistant",content:"",parts:[a]};await V3e({stream:e,onTextPart:l=>{o.content+=l,a.text+=l,n({message:{...o},data:[],replaceLastMessage:!1})}}),s?.(o,{usage:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},finishReason:"unknown"})}var z3e=()=>fetch;async function W3e({api:e,body:n,streamProtocol:s="data",credentials:r,headers:i,abortController:a,restoreMessagesOnFailure:o,onResponse:l,onUpdate:c,onFinish:u,onToolCall:p,generateId:f,fetch:m=z3e(),lastMessage:h,requestType:x="generate"}){var g,v,b;const w=await(x==="resume"?m(`${e}?chatId=${n.id}`,{method:"GET",headers:{"Content-Type":"application/json",...i},signal:(g=a?.())==null?void 0:g.signal,credentials:r}):m(e,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",...i},signal:(v=a?.())==null?void 0:v.signal,credentials:r})).catch(_=>{throw o(),_});if(l)try{await l(w)}catch(_){throw _}if(!w.ok)throw o(),new Error((b=await w.text())!=null?b:"Failed to fetch the chat response.");if(!w.body)throw new Error("The response body is empty.");switch(s){case"text":{await $3e({stream:w.body,update:c,onFinish:u,generateId:f});return}case"data":{await H3e({stream:w.body,update:c,lastMessage:h,onToolCall:p,onFinish({message:_,finishReason:N,usage:j}){u&&_!=null&&u(_,{usage:j,finishReason:N})},generateId:f});return}default:{const _=s;throw new Error(`Unknown stream protocol: ${_}`)}}}function a8(e){return e?.reduce((n,s)=>{var r;return Math.max(n,(r=s.step)!=null?r:0)},0)}function VV(e){var n;return(n=e.parts)!=null?n:[...e.toolInvocations?e.toolInvocations.map(s=>({type:"tool-invocation",toolInvocation:s})):[],...e.reasoning?[{type:"reasoning",reasoning:e.reasoning,details:[{type:"text",text:e.reasoning}]}]:[],...e.content?[{type:"text",text:e.content}]:[]]}function j6(e){return e.map(n=>({...n,parts:VV(n)}))}function o8(e,n){if(e===n)return!0;if(e==null||n==null)return!1;if(typeof e!="object"&&typeof n!="object")return e===n;if(e.constructor!==n.constructor)return!1;if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(Array.isArray(e)){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!o8(e[i],n[i]))return!1;return!0}const s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(const i of s)if(!r.includes(i)||!o8(e[i],n[i]))return!1;return!0}async function qk(e){if(!e)return[];if(globalThis.FileList&&e instanceof globalThis.FileList)return Promise.all(Array.from(e).map(async n=>{const{name:s,type:r}=n,i=await new Promise((a,o)=>{const l=new FileReader;l.onload=c=>{var u;a((u=c.target)==null?void 0:u.result)},l.onerror=c=>o(c),l.readAsDataURL(n)});return{name:s,contentType:r,url:i}}));if(Array.isArray(e))return e;throw new Error("Invalid attachments type")}function G3e({originalMaxToolInvocationStep:e,originalMessageCount:n,maxSteps:s,messages:r}){var i;const a=r[r.length-1];return s>1&&a!=null&&(r.length>n||a8(a.toolInvocations)!==e)&&$V(a)&&((i=a8(a.toolInvocations))!=null?i:0)<s}function $V(e){if(e.role!=="assistant")return!1;const n=e.parts.reduce((r,i,a)=>i.type==="step-start"?a:r,-1),s=e.parts.slice(n+1).filter(r=>r.type==="tool-invocation");return s.length>0&&s.every(r=>"result"in r.toolInvocation)}function q3e({messages:e,toolCallId:n,toolResult:s}){var r;const i=e[e.length-1],a=i.parts.find(l=>l.type==="tool-invocation"&&l.toolInvocation.toolCallId===n);if(a==null)return;const o={...a.toolInvocation,state:"result",result:s};a.toolInvocation=o,i.toolInvocations=(r=i.toolInvocations)==null?void 0:r.map(l=>l.toolCallId===n?o:l)}const zV=0,WV=1,GV=2,Kk=3;var Yk=Object.prototype.hasOwnProperty;function l8(e,n){var s,r;if(e===n)return!0;if(e&&n&&(s=e.constructor)===n.constructor){if(s===Date)return e.getTime()===n.getTime();if(s===RegExp)return e.toString()===n.toString();if(s===Array){if((r=e.length)===n.length)for(;r--&&l8(e[r],n[r]););return r===-1}if(!s||typeof e=="object"){r=0;for(s in e)if(Yk.call(e,s)&&++r&&!Yk.call(n,s)||!(s in n)||!l8(e[s],n[s]))return!1;return Object.keys(n).length===r}}return e!==e&&n!==n}const $l=new WeakMap,Lc=()=>{},da=Lc(),c8=Object,or=e=>e===da,al=e=>typeof e=="function",ed=(e,n)=>({...e,...n}),qV=e=>al(e.then),N6={},jx={},hC="undefined",m0=typeof window!=hC,d8=typeof document!=hC,K3e=m0&&"Deno"in window,Y3e=()=>m0&&typeof window.requestAnimationFrame!=hC,KV=(e,n)=>{const s=$l.get(e);return[()=>!or(n)&&e.get(n)||N6,r=>{if(!or(n)){const i=e.get(n);n in jx||(jx[n]=i),s[5](n,ed(i,r),i||N6)}},s[6],()=>!or(n)&&n in jx?jx[n]:!or(n)&&e.get(n)||N6]};let u8=!0;const Z3e=()=>u8,[p8,f8]=m0&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Lc,Lc],J3e=()=>{const e=d8&&document.visibilityState;return or(e)||e!=="hidden"},X3e=e=>(d8&&document.addEventListener("visibilitychange",e),p8("focus",e),()=>{d8&&document.removeEventListener("visibilitychange",e),f8("focus",e)}),Q3e=e=>{const n=()=>{u8=!0,e()},s=()=>{u8=!1};return p8("online",n),p8("offline",s),()=>{f8("online",n),f8("offline",s)}},e4e={isOnline:Z3e,isVisible:J3e},t4e={initFocus:X3e,initReconnect:Q3e},Zk=!et.useId,Bh=!m0||K3e,n4e=e=>Y3e()?window.requestAnimationFrame(e):setTimeout(e,1),F6=Bh?d.useEffect:d.useLayoutEffect,E6=typeof navigator<"u"&&navigator.connection,Jk=!Bh&&E6&&(["slow-2g","2g"].includes(E6.effectiveType)||E6.saveData),Nx=new WeakMap,s4e=e=>c8.prototype.toString.call(e),S6=(e,n)=>e===`[object ${n}]`;let r4e=0;const m8=e=>{const n=typeof e,s=s4e(e),r=S6(s,"Date"),i=S6(s,"RegExp"),a=S6(s,"Object");let o,l;if(c8(e)===e&&!r&&!i){if(o=Nx.get(e),o)return o;if(o=++r4e+"~",Nx.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=m8(e[l])+",";Nx.set(e,o)}if(a){o="#";const c=c8.keys(e).sort();for(;!or(l=c.pop());)or(e[l])||(o+=l+":"+m8(e[l])+",");Nx.set(e,o)}}else o=r?e.toJSON():n=="symbol"?e.toString():n=="string"?JSON.stringify(e):""+e;return o},xC=e=>{if(al(e))try{e=e()}catch{e=""}const n=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?m8(e):"",[e,n]};let i4e=0;const h8=()=>++i4e;async function YV(...e){const[n,s,r,i]=e,a=ed({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=a.populateCache;const l=a.rollbackOnError;let c=a.optimisticData;const u=m=>typeof l=="function"?l(m):l!==!1,p=a.throwOnError;if(al(s)){const m=s,h=[],x=n.keys();for(const g of x)!/^\$(inf|sub)\$/.test(g)&&m(n.get(g)._k)&&h.push(g);return Promise.all(h.map(f))}return f(s);async function f(m){const[h]=xC(m);if(!h)return;const[x,g]=KV(n,h),[v,b,y,w]=$l.get(n),_=()=>{const D=v[h];return(al(a.revalidate)?a.revalidate(x().data,m):a.revalidate!==!1)&&(delete y[h],delete w[h],D&&D[0])?D[0](GV).then(()=>x().data):x().data};if(e.length<3)return _();let N=r,j,C=!1;const S=h8();b[h]=[S,0];const F=!or(c),E=x(),I=E.data,T=E._c,A=or(T)?I:T;if(F&&(c=al(c)?c(A,I):c,g({data:c,_c:A})),al(N))try{N=N(A)}catch(D){j=D,C=!0}if(N&&qV(N))if(N=await N.catch(D=>{j=D,C=!0}),S!==b[h][0]){if(C)throw j;return N}else C&&F&&u(j)&&(o=!0,g({data:A,_c:da}));if(o&&!C)if(al(o)){const D=o(N,A);g({data:D,error:da,_c:da})}else g({data:N,error:da,_c:da});if(b[h][1]=h8(),Promise.resolve(_()).then(()=>{g({_c:da})}),C){if(p)throw j;return}return N}}const Xk=(e,n)=>{for(const s in e)e[s][0]&&e[s][0](n)},a4e=(e,n)=>{if(!$l.has(e)){const s=ed(t4e,n),r=Object.create(null),i=YV.bind(da,e);let a=Lc;const o=Object.create(null),l=(p,f)=>{const m=o[p]||[];return o[p]=m,m.push(f),()=>m.splice(m.indexOf(f),1)},c=(p,f,m)=>{e.set(p,f);const h=o[p];if(h)for(const x of h)x(f,m)},u=()=>{if(!$l.has(e)&&($l.set(e,[r,Object.create(null),Object.create(null),Object.create(null),i,c,l]),!Bh)){const p=s.initFocus(setTimeout.bind(da,Xk.bind(da,r,zV))),f=s.initReconnect(setTimeout.bind(da,Xk.bind(da,r,WV)));a=()=>{p&&p(),f&&f(),$l.delete(e)}}};return u(),[e,i,u,a]}return[e,$l.get(e)[4]]},o4e=(e,n,s,r,i)=>{const a=s.errorRetryCount,o=i.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*s.errorRetryInterval;!or(a)&&o>a||setTimeout(r,l,i)},l4e=l8,[ZV,c4e]=a4e(new Map),d4e=ed({onLoadingSlow:Lc,onSuccess:Lc,onError:Lc,onErrorRetry:o4e,onDiscarded:Lc,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Jk?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Jk?5e3:3e3,compare:l4e,isPaused:()=>!1,cache:ZV,mutate:c4e,fallback:{}},e4e),u4e=(e,n)=>{const s=ed(e,n);if(n){const{use:r,fallback:i}=e,{use:a,fallback:o}=n;r&&a&&(s.use=r.concat(a)),i&&o&&(s.fallback=ed(i,o))}return s},p4e=d.createContext({}),f4e="$inf$",JV=m0&&window.__SWR_DEVTOOLS_USE__,m4e=JV?window.__SWR_DEVTOOLS_USE__:[],h4e=()=>{JV&&(window.__SWR_DEVTOOLS_REACT__=et)},x4e=e=>al(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],g4e=()=>{const e=d.useContext(p4e);return d.useMemo(()=>ed(d4e,e),[e])},b4e=e=>(n,s,r)=>e(n,s&&((...a)=>{const[o]=xC(n),[,,,l]=$l.get(ZV);if(o.startsWith(f4e))return s(...a);const c=l[o];return or(c)?s(...a):(delete l[o],c)}),r),y4e=m4e.concat(b4e),v4e=e=>function(...s){const r=g4e(),[i,a,o]=x4e(s),l=u4e(r,o);let c=e;const{use:u}=l,p=(u||[]).concat(y4e);for(let f=p.length;f--;)c=p[f](c);return c(i,a||l.fetcher||null,l)},w4e=(e,n,s)=>{const r=n[e]||(n[e]=[]);return r.push(s),()=>{const i=r.indexOf(s);i>=0&&(r[i]=r[r.length-1],r.pop())}};h4e();const k6=et.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(n=>{e.status="fulfilled",e.value=n},n=>{e.status="rejected",e.reason=n}),e}}),I6={dedupe:!0},Qk=Promise.resolve(da),C4e=(e,n,s)=>{const{cache:r,compare:i,suspense:a,fallbackData:o,revalidateOnMount:l,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:p,refreshWhenOffline:f,keepPreviousData:m}=s,[h,x,g,v]=$l.get(r),[b,y]=xC(e),w=d.useRef(!1),_=d.useRef(!1),N=d.useRef(b),j=d.useRef(n),C=d.useRef(s),S=()=>C.current,F=()=>S().isVisible()&&S().isOnline(),[E,I,T,A]=KV(r,b),D=d.useRef({}).current,O=or(o)?or(s.fallback)?da:s.fallback[b]:o,M=(ce,ee)=>{for(const J in D){const re=J;if(re==="data"){if(!i(ce[re],ee[re])&&(!or(ce[re])||!i(Y,ee[re])))return!1}else if(ee[re]!==ce[re])return!1}return!0},L=d.useMemo(()=>{const ce=!b||!n?!1:or(l)?S().isPaused()||a?!1:c!==!1:l,ee=se=>{const _e=ed(se);return delete _e._k,ce?{isValidating:!0,isLoading:!0,..._e}:_e},J=E(),re=A(),xe=ee(J),ae=J===re?xe:ee(re);let Fe=xe;return[()=>{const se=ee(E());return M(se,Fe)?(Fe.data=se.data,Fe.isLoading=se.isLoading,Fe.isValidating=se.isValidating,Fe.error=se.error,Fe):(Fe=se,se)},()=>ae]},[r,b]),P=dK.useSyncExternalStore(d.useCallback(ce=>T(b,(ee,J)=>{M(J,ee)||ce()}),[r,b]),L[0],L[1]),B=!w.current,G=h[b]&&h[b].length>0,$=P.data,te=or($)?O&&qV(O)?k6(O):O:$,U=P.error,oe=d.useRef(te),Y=m?or($)?or(oe.current)?te:oe.current:$:te,W=G&&!or(U)?!1:B&&!or(l)?l:S().isPaused()?!1:a?or(te)?!1:c:or(te)||c,Z=!!(b&&n&&B&&W),le=or(P.isValidating)?Z:P.isValidating,q=or(P.isLoading)?Z:P.isLoading,Q=d.useCallback(async ce=>{const ee=j.current;if(!b||!ee||_.current||S().isPaused())return!1;let J,re,xe=!0;const ae=ce||{},Fe=!g[b]||!ae.dedupe,se=()=>Zk?!_.current&&b===N.current&&w.current:b===N.current,_e={isValidating:!1,isLoading:!1},Re=()=>{I(_e)},Se=()=>{const ge=g[b];ge&&ge[1]===re&&delete g[b]},Ne={isValidating:!0};or(E().data)&&(Ne.isLoading=!0);try{if(Fe&&(I(Ne),s.loadingTimeout&&or(E().data)&&setTimeout(()=>{xe&&se()&&S().onLoadingSlow(b,s)},s.loadingTimeout),g[b]=[ee(y),h8()]),[J,re]=g[b],J=await J,Fe&&setTimeout(Se,s.dedupingInterval),!g[b]||g[b][1]!==re)return Fe&&se()&&S().onDiscarded(b),!1;_e.error=da;const ge=x[b];if(!or(ge)&&(re<=ge[0]||re<=ge[1]||ge[1]===0))return Re(),Fe&&se()&&S().onDiscarded(b),!1;const Ce=E().data;_e.data=i(Ce,J)?Ce:J,Fe&&se()&&S().onSuccess(J,b,s)}catch(ge){Se();const Ce=S(),{shouldRetryOnError:$e}=Ce;Ce.isPaused()||(_e.error=ge,Fe&&se()&&(Ce.onError(ge,b,Ce),($e===!0||al($e)&&$e(ge))&&(!S().revalidateOnFocus||!S().revalidateOnReconnect||F())&&Ce.onErrorRetry(ge,b,Ce,dt=>{const Me=h[b];Me&&Me[0]&&Me[0](Kk,dt)},{retryCount:(ae.retryCount||0)+1,dedupe:!0})))}return xe=!1,Re(),!0},[b,r]),he=d.useCallback((...ce)=>YV(r,N.current,...ce),[]);if(F6(()=>{j.current=n,C.current=s,or($)||(oe.current=$)}),F6(()=>{if(!b)return;const ce=Q.bind(da,I6);let ee=0;S().revalidateOnFocus&&(ee=Date.now()+S().focusThrottleInterval);const re=w4e(b,h,(xe,ae={})=>{if(xe==zV){const Fe=Date.now();S().revalidateOnFocus&&Fe>ee&&F()&&(ee=Fe+S().focusThrottleInterval,ce())}else if(xe==WV)S().revalidateOnReconnect&&F()&&ce();else{if(xe==GV)return Q();if(xe==Kk)return Q(ae)}});return _.current=!1,N.current=b,w.current=!0,I({_k:y}),W&&(g[b]||(or(te)||Bh?ce():n4e(ce))),()=>{_.current=!0,re()}},[b]),F6(()=>{let ce;function ee(){const re=al(u)?u(E().data):u;re&&ce!==-1&&(ce=setTimeout(J,re))}function J(){!E().error&&(p||S().isVisible())&&(f||S().isOnline())?Q(I6).then(ee):ee()}return ee(),()=>{ce&&(clearTimeout(ce),ce=-1)}},[u,p,f,b]),d.useDebugValue(Y),a){const ce=b&&or(te);if(!Zk&&Bh&&ce)throw new Error("Fallback data is required when using Suspense in SSR.");ce&&(j.current=n,C.current=s,_.current=!1);const ee=v[b],J=!or(ee)&&ce?he(ee):Qk;if(k6(J),!or(U)&&ce)throw U;const re=ce?Q(I6):Qk;!or(Y)&&ce&&(re.status="fulfilled",re.value=!0),k6(re)}return{mutate:he,get data(){return D.data=!0,Y},get error(){return D.error=!0,U},get isValidating(){return D.isValidating=!0,le},get isLoading(){return D.isLoading=!0,q}}},Fx=v4e(C4e);var T6,eI;function _4e(){if(eI)return T6;eI=1;function e(n,s){if(typeof n!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof n}\`.`);let r,i=0;return function(...o){clearTimeout(r);const l=Date.now(),c=l-i,u=s-c;u<=0?(i=l,n.apply(this,o)):r=setTimeout(()=>{i=Date.now(),n.apply(this,o)},u)}}return T6=e,T6}var j4e=_4e();const N4e=ga(j4e);function tI(e,n){return n!=null?N4e(e,n):e}function F4e(e){const[n,s]=d.useState(e);return d.useEffect(()=>{o8(e,n)||s(e)},[e,n]),n}function E4e({api:e="/api/chat",id:n,initialMessages:s,initialInput:r="",sendExtraMessageFields:i,onToolCall:a,experimental_prepareRequestBody:o,maxSteps:l=1,streamProtocol:c="data",onResponse:u,onFinish:p,onError:f,credentials:m,headers:h,body:x,generateId:g=fC,fetch:v,keepLastMessageOnError:b=!0,experimental_throttle:y}={}){const[w]=d.useState(g),_=n??w,N=typeof e=="string"?[e,_]:_,j=F4e(s??[]),C=d.useMemo(()=>j6(j),[j]),{data:S,mutate:F}=Fx([N,"messages"],null,{fallbackData:C}),E=d.useRef(S||[]);d.useEffect(()=>{E.current=S||[]},[S]);const{data:I,mutate:T}=Fx([N,"streamData"],null),A=d.useRef(I);d.useEffect(()=>{A.current=I},[I]);const{data:D="ready",mutate:O}=Fx([N,"status"],null),{data:M=void 0,mutate:L}=Fx([N,"error"],null),P=d.useRef(null),B=d.useRef({credentials:m,headers:h,body:x});d.useEffect(()=>{B.current={credentials:m,headers:h,body:x}},[m,h,x]);const G=d.useCallback(async(me,ce="generate")=>{var ee,J;O("submitted"),L(void 0);const re=j6(me.messages),xe=re.length,ae=a8((ee=re[re.length-1])==null?void 0:ee.toolInvocations);try{const se=new AbortController;P.current=se;const _e=tI(F,y),Re=tI(T,y),Se=E.current;_e(re,!1);const Ne=i?re:re.map(({role:Ce,content:$e,experimental_attachments:dt,data:Me,annotations:we,toolInvocations:Te,parts:ze})=>({role:Ce,content:$e,...dt!==void 0&&{experimental_attachments:dt},...Me!==void 0&&{data:Me},...we!==void 0&&{annotations:we},...Te!==void 0&&{toolInvocations:Te},...ze!==void 0&&{parts:ze}})),ge=A.current;await W3e({api:e,body:(J=o?.({id:_,messages:re,requestData:me.data,requestBody:me.body}))!=null?J:{id:_,messages:Ne,data:me.data,...B.current.body,...me.body},streamProtocol:c,credentials:B.current.credentials,headers:{...B.current.headers,...me.headers},abortController:()=>P.current,restoreMessagesOnFailure(){b||_e(Se,!1)},onResponse:u,onUpdate({message:Ce,data:$e,replaceLastMessage:dt}){O("streaming"),_e([...dt?re.slice(0,re.length-1):re,Ce],!1),$e?.length&&Re([...ge??[],...$e],!1)},onToolCall:a,onFinish:p,generateId:g,fetch:v,lastMessage:re[re.length-1],requestType:ce}),P.current=null,O("ready")}catch(se){if(se.name==="AbortError")return P.current=null,O("ready"),null;f&&se instanceof Error&&f(se),L(se),O("error")}const Fe=E.current;G3e({originalMaxToolInvocationStep:ae,originalMessageCount:xe,maxSteps:l,messages:Fe})&&await G({messages:Fe})},[F,O,e,B,u,p,f,L,T,A,c,i,o,a,l,E,P,g,v,b,y,_]),$=d.useCallback(async(me,{data:ce,headers:ee,body:J,experimental_attachments:re=me.experimental_attachments}={})=>{var xe,ae;const Fe=await qk(re),se=E.current.concat({...me,id:(xe=me.id)!=null?xe:g(),createdAt:(ae=me.createdAt)!=null?ae:new Date,experimental_attachments:Fe.length>0?Fe:void 0,parts:VV(me)});return G({messages:se,headers:ee,body:J,data:ce})},[G,g]),te=d.useCallback(async({data:me,headers:ce,body:ee}={})=>{const J=E.current;if(J.length===0)return null;const re=J[J.length-1];return G({messages:re.role==="assistant"?J.slice(0,-1):J,headers:ce,body:ee,data:me})},[G]),U=d.useCallback(()=>{P.current&&(P.current.abort(),P.current=null)},[]),oe=d.useCallback(async()=>{const me=E.current;G({messages:me},"resume")},[G]),Y=d.useCallback(me=>{typeof me=="function"&&(me=me(E.current));const ce=j6(me);F(ce,!1),E.current=ce},[F]),W=d.useCallback(me=>{typeof me=="function"&&(me=me(A.current)),T(me,!1),A.current=me},[T]),[Z,le]=d.useState(r),q=d.useCallback(async(me,ce={},ee)=>{var J;if((J=me?.preventDefault)==null||J.call(me),!Z&&!ce.allowEmptySubmit)return;ee&&(B.current={...B.current,...ee});const re=await qk(ce.experimental_attachments),ae={messages:E.current.concat({id:g(),createdAt:new Date,role:"user",content:Z,experimental_attachments:re.length>0?re:void 0,parts:[{type:"text",text:Z}]}),headers:ce.headers,body:ce.body,data:ce.data};G(ae),le("")},[Z,g,G]),Q=me=>{le(me.target.value)},he=d.useCallback(({toolCallId:me,result:ce})=>{const ee=E.current;if(q3e({messages:ee,toolCallId:me,toolResult:ce}),F([...ee.slice(0,ee.length-1),{...ee[ee.length-1]}],!1),D==="submitted"||D==="streaming")return;const J=ee[ee.length-1];$V(J)&&G({messages:ee})},[F,D,G]);return{messages:S??[],id:_,setMessages:Y,data:I,setData:W,error:M,append:$,reload:te,stop:U,experimental_resume:oe,input:Z,setInput:le,handleInputChange:Q,handleSubmit:q,isLoading:D==="submitted"||D==="streaming",status:D,addToolResult:he}}var S4e=E4e;const k4e=({size:e=20,width:n,height:s,color:r="#F4D475",className:i})=>{const a=n||e,o=s||e;return t.jsxs("svg",{width:a,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:[t.jsx("circle",{opacity:"0.16",cx:"10",cy:"10",r:"9",fill:r}),t.jsx("circle",{cx:"10.0001",cy:"9.99961",r:"5.85",stroke:"#0F0F10",strokeWidth:"0.9"}),t.jsx("path",{d:"M9.27981 13.6008H10.7198V10.7208H13.5998V9.28078H10.7198V6.40078H9.27981V9.28078H6.3998V10.7208H9.27981V13.6008ZM9.9998 17.2008C9.00381 17.2008 8.0678 17.0118 7.1918 16.6338C6.3158 16.2558 5.5538 15.7428 4.9058 15.0948C4.2578 14.4468 3.7448 13.6848 3.3668 12.8088C2.9888 11.9328 2.7998 10.9968 2.7998 10.0008C2.7998 9.00478 2.9888 8.06878 3.3668 7.19278C3.7448 6.31678 4.2578 5.55478 4.9058 4.90678C5.5538 4.25878 6.3158 3.74578 7.1918 3.36778C8.0678 2.98978 9.00381 2.80078 9.9998 2.80078C10.9958 2.80078 11.9318 2.98978 12.8078 3.36778C13.6838 3.74578 14.4458 4.25878 15.0938 4.90678C15.7418 5.55478 16.2548 6.31678 16.6328 7.19278C17.0108 8.06878 17.1998 9.00478 17.1998 10.0008C17.1998 10.9968 17.0108 11.9328 16.6328 12.8088C16.2548 13.6848 15.7418 14.4468 15.0938 15.0948C14.4458 15.7428 13.6838 16.2558 12.8078 16.6338C11.9318 17.0118 10.9958 17.2008 9.9998 17.2008Z",fill:r})]})},Qd=e=>{if(!e||e.includes("..")||e.endsWith(".")||e.endsWith("/")||e.startsWith("/")||e.includes("//")||e.includes(" ")||e.includes("~")||e.includes("^")||e.includes(":")||e.includes("?")||e.includes("*")||e.includes("[")||e.includes("@{")||e==="@"||e.includes("\\"))return!1;const n=e.split("/");for(const r of n)if(r.startsWith(".")||r.endsWith(".lock"))return!1;return/^[a-zA-Z0-9\-\.\/\_]+$/.test(e)},I4e=e=>!e||e.endsWith(".git")?!1:Qd(e),A6=e=>e.replace(/\s+/g,"-");function T4e(e,n){return!e||!n?e||[]:e.map(r=>({...r,isPrimary:r.account_login===n})).sort((r,i)=>r.isPrimary?-1:i.isPrimary?1:r.account_type==="Organization"&&i.account_type!=="Organization"?-1:r.account_type!=="Organization"&&i.account_type==="Organization"?1:r.account_login.localeCompare(i.account_login))}function A4e(e,n){let s=n,r="";const i=JSON.stringify(e);return e?.data?.detail?(s=e.data.detail,r=e.data.detail):e?.data?.message?(s=e.data.message,r=e.data.message):e?.message&&(s=e.message,r=e.message),{errorMessage:s,fullErrorText:r,errorString:i}}function D4e(e,n){return["GITHUB PUSH PROTECTION","Push cannot contain secrets","Secret push protection is enabled"].some(r=>e.includes(r)||n.includes(r))}function M4e(e){return e.match(/https:\/\/[^\s]+/g)?.find(s=>s.includes("atlas-kb.com")||s.includes("notion.site"))}function R4e(e,n){return["Updates were rejected because the remote contains work that you do not have locally","remote contains work that you do not have locally"].some(r=>e.includes(r)||n.includes(r))}function nI(){const e=new Date,n=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear().toString().slice(-2),i=e.toTimeString().slice(0,2)+e.toTimeString().slice(3,5);return`conflict_${n}${s}${r}_${i}`}function D6(e,n){const{defaultErrorMessage:s,needsForcePush:r=!1,allowConflictDetection:i=!0}=n,{errorMessage:a,fullErrorText:o,errorString:l}=A4e(e,s);if(D4e(o,l))return{type:"secret_protection",errorMessage:a,fullErrorText:o,learnMoreUrl:M4e(o)};if(R4e(o,l)){const c=i&&!r;return{type:"remote_rejection",errorMessage:a,fullErrorText:o,shouldShowConflictUI:c,shouldGenerateProposedBranch:c}}return{type:"generic",errorMessage:a,fullErrorText:o}}function XV(e,n){const{repositories:s,isCreatingNewRepo:r,selectedInstallation:i}=n;return e?I4e(e)?r?s.some(o=>o.name.toLowerCase()===e.toLowerCase())?{isValid:!1,errorMessage:`Repository "${e}" already exists.`}:{isValid:!0,successMessage:`New repo "${e}" will be created and your current changes will be pushed to it.`}:{isValid:!0}:{isValid:!1,errorMessage:"Invalid repository name. Names must follow Git naming rules: only alphanumeric characters and - . / _ are allowed. Cannot contain spaces, consecutive dots (..), begin/end with /, end with ., or contain special characters."}:{isValid:!1,errorMessage:r?"Enter a name for your new repository":"Repository name is required"}}function QV(e,n){const{branches:s,selectedRepository:r,isCreatingNewRepo:i}=n;return e?Qd(e)?i?{isValid:!0}:r&&!s.some(o=>o.name===e)?{isValid:!0,successMessage:`New branch "${e}" will be created and your current changes will be pushed to it.`}:{isValid:!0}:{isValid:!1,errorMessage:"Invalid branch name. Names must follow Git naming rules: only alphanumeric characters and - . / _ are allowed. Cannot contain spaces, consecutive dots (..), begin/end with /, end with ., or contain special characters."}:{isValid:!1,errorMessage:"Branch name is required"}}function L4e(e){return e?Qd(e)?{isValid:!0}:{isValid:!1,errorMessage:"Invalid branch name. Names must follow Git naming rules."}:{isValid:!1,errorMessage:"Branch name is required"}}function P4e(e){const{jobId:n,selectedInstallation:s,isCreatingNewRepo:r,newRepoName:i,selectedRepository:a,branchName:o,repositories:l,isLoading:c,secretProtectionError:u}=e;if(!n)return{isValid:!1,errorMessage:"Job ID is required"};if(!s)return{isValid:!1,errorMessage:"Please select a GitHub account"};if(r){const f=XV(i,{repositories:l,isCreatingNewRepo:!0,selectedInstallation:s});if(!f.isValid)return f}else if(!a)return{isValid:!1,errorMessage:"Please select a repository"};const p=QV(o,{branches:[],selectedRepository:a,isCreatingNewRepo:r});return p.isValid?c?{isValid:!1,errorMessage:"Please wait for loading to complete"}:u?{isValid:!1,errorMessage:"Please resolve secret protection issues before pushing"}:{isValid:!0}:p}const rc=({value:e,feedbackType:n="tooltip",defaultText:s="Copy",copiedText:r="Copied!",tooltipText:i="Copy",copiedTooltipText:a="Copied",feedbackDuration:o=1e3,className:l="",buttonClassName:c="",tooltipClassName:u="",children:p,showIcon:f=!0,iconOnly:m=!1,iconProps:h={size:16},copiedClassName:x,onCopy:g,showTooltipOnHover:v=!0,tooltipEnabled:b=!0,tooltipOpen:y,onTooltipOpenChange:w,..._})=>{const[N,j]=d.useState(!1),[C,S]=d.useState(void 0),F=d.useRef(null);d.useEffect(()=>()=>{F.current&&clearTimeout(F.current)},[]);const E=async()=>{try{const P=typeof e=="function"?e():e;await navigator.clipboard.writeText(P),F.current&&clearTimeout(F.current),j(!0),b&&n==="tooltip"&&S(!0),g&&g(P),F.current=setTimeout(()=>{j(!1),b&&n==="tooltip"&&C&&S(!1)},o)}catch{}},I=N?xn:Di,T=N?jme:Nme,A=h.clipboard?T:I,D=k("inline-flex items-center justify-center rounded-md font-inter","transition-all duration-200 focus:outline-none",c||"px-3 py-1 text-sm bg-gray-800 text-white hover:bg-gray-700",N&&n==="border"&&"ring-2 ring-green-400 ring-offset-1"),O=()=>p||(m?t.jsx(A,{...h}):f?t.jsxs(t.Fragment,{children:[t.jsx(A,{...h}),s&&t.jsx("span",{className:"ml-1",children:(n==="text"||n==="icon-text")&&N?r:s})]}):(n==="text"||n==="icon-text")&&N?r:s),M=y!==void 0?y:C,L=P=>{w?w(P):S(P)};return!b||n!=="tooltip"?t.jsx("button",{className:k(D,l,(n==="text"||n==="icon-text")&&N&&x),onClick:E,type:"button",..._,children:O()}):t.jsx(ms,{children:t.jsxs(Ss,{open:M,onOpenChange:L,delayDuration:v?0:9999999,children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{className:k(D,l,N&&x),onClick:E,type:"button",..._,children:O()})}),t.jsx(Ns,{className:k(u,"bg-[#DDDDE6] text-black border-0"),children:N?a:i})]})})},O4e=K.common.repo,sI=K.common.saveCloud,B4e=K.common.githubConnect,rI=K.common.line,iI=K.icons.github,U4e=K.menuIcons.github,H4e=K.icons.branch,Ex=K.icons.infoSquare,V4e=K.github.arrowGreen,$4e=K.github.shieldLock,aI=K.github.emergencyHome,z4e=K.github.emergencyHomeRed,oI=K.github.gitBranch,W4e=K.github.githubGreenDark,G4e=K.github.githubBack,q4e=K.github.gitBranchDark,K4e=K.github.emergencyHomePurple;function Sx({isOpen:e,onClose:n,triggerRef:s,children:r,className:i="",scrollableContainerRef:a}){const[o,l]=d.useState({top:0,left:0,width:0}),c=d.useCallback(()=>{if(e&&s.current){const p=s.current.getBoundingClientRect();if(p.width===0||p.height===0)return;const f=window.innerHeight,m=window.innerWidth,h=300,x=f-p.bottom,g=p.top,v=8,b=120,y=Math.min(h,200);let w=p.bottom+4,_=!1;x<b&&g>y+50&&(w=p.top-y-4,_=!0);const N=m-v*2,j=Math.min(p.width,N);let C=w;if(_)C=Math.max(v,w);else{const F=Math.min(y,x-v);C=Math.min(w,f-F-v)}const S={top:C,left:Math.max(v,Math.min(p.left,m-j-v)),width:j};l(S)}},[e,s]);d.useEffect(()=>{c()},[c]),d.useEffect(()=>{if(!e)return;const p=()=>c(),f=()=>c();window.addEventListener("scroll",p,!0),window.addEventListener("resize",f);const m=a?.current;return m&&m.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p,!0),window.removeEventListener("resize",f),m&&m.removeEventListener("scroll",p)}},[e,c,a]);const u=p=>!p&&n?.();return t.jsx(as,{open:e,onOpenChange:u,children:t.jsx(Cr,{children:t.jsx("div",{className:`fixed z-[9999] bg-[#131314] border border-[#242424] rounded-md shadow-lg pointer-events-auto ${i}`,style:{top:o.top,left:o.left,width:o.width,maxHeight:"300px",overflowY:"auto",overflowX:"hidden"},"data-portal-dropdown":i,onMouseDown:p=>{p.stopPropagation()},onClick:p=>{p.stopPropagation()},onFocus:p=>{p.stopPropagation()},onWheel:p=>{p.stopPropagation()},children:r})})})}function Y4e({podIsPaused:e,isOpen:n,onOpenChange:s,jobId:r,lastGithubUsed:i,onSuccess:a}){const[o,l]=d.useState({showBranchDropdown:!1,showCustomBranchInput:!1,showRepositoryDropdown:!1,showInstallationDropdown:!1}),c=Ve=>{l(lt=>({...lt,...Ve}))},u=()=>c({showInstallationDropdown:!1}),p=()=>c({showRepositoryDropdown:!1}),f=()=>c({showBranchDropdown:!1}),m=()=>c({showCustomBranchInput:!1}),{user:h}=os(),[x,g]=d.useState("main"),[v,b]=d.useState(!1),[y,w]=d.useState(""),[_,N]=d.useState(!1),[j,C]=d.useState([]),[S,F]=d.useState(""),[E,I]=d.useState(!1),[T,A]=d.useState(!0),[D,O]=d.useState(""),[M,L]=d.useState(""),[P,B]=d.useState(!1),[G,$]=d.useState(""),[te,U]=d.useState(null),[oe,Y]=d.useState(!1),[W,Z]=d.useState(""),[le,q]=d.useState(!1),[Q,he]=d.useState(!1),[me,ce]=d.useState(null),[ee,J]=d.useState(!1),[re,xe]=d.useState(null),[ae,Fe]=d.useState(null),se=d.useRef(null),_e=d.useRef(null),Re=d.useRef(null),Se=d.useRef(null),Ne=Mi(),Ce=["/verify","/activate","/reset-password","/login","/register","/oauth"].some(Ve=>Ne.pathname.startsWith(Ve)),{data:$e,refetch:dt}=Kr(void 0,{skip:!n||Ce||!h}),{data:Me,isLoading:we,refetch:Te}=BP(void 0,{skip:!n||!$e?.github?.authorized}),ze=d.useMemo(()=>!D||!Me?"":Me.find(lt=>lt.installation_id===D)?.account_login||"",[D,Me]),{data:_t,isLoading:Bt,refetch:qe}=gre(ze,{skip:!D||!ze}),Ae=d.useMemo(()=>!M||P||!ze?null:{accountLogin:ze,repoName:M},[M,P,ze]),{data:Le,isFetching:Ut,refetch:tt}=bre(Ae||{accountLogin:"",repoName:""},{skip:!Ae}),xt=()=>ze,St=()=>P?G:_t?.find(lt=>lt.name===M)?.name||"",[It,{isLoading:kt}]=yre(),[Ot,{isLoading:Ie}]=vre(),[nt,We]=d.useState(!1),[Lt,pt]=d.useState(!1),ft=d.useMemo(()=>T4e(Me,$e?.github?.account_name),[Me,$e?.github?.account_name]),Tt=_t||[],Gt=$e?.github?.authorized||!1,{toast:Ze}=ns(),{redirectToGitHubInstallation:ut,isConnecting:Qt,setIsConnecting:Sn}=Du(),yn=()=>{l({showBranchDropdown:!1,showCustomBranchInput:!1,showRepositoryDropdown:!1,showInstallationDropdown:!1}),N(!1),g("main"),C([]),F(""),I(!1),A(!0),O(""),L(""),B(!1),$(""),w(""),U(null),Y(!1),Z(""),q(!1),he(!1),ce(null),J(!1),xe(null),Fe(null),We(!1),pt(!1)},Ee=Ve=>{if(!Ve){if(ee&&re&&a){const lt={branch:re.branch,repo:re.repo,owner:re.owner,provider:"github"};a(lt)}yn()}s(Ve)},Ke=d.useCallback(()=>{if(te&&te.includes("Conflict Detected")){N(!0),Y(!0);const Ve=new Date,lt=Ve.toISOString().slice(0,10).replace(/-/g,""),$t=Ve.toTimeString().slice(0,2)+Ve.toTimeString().slice(3,5);Z(`conflict_${lt}_${$t}`)}else N(!1),Y(!1),Z("")},[te]);d.useEffect(()=>{Ke()},[Ke]),d.useEffect(()=>{if(!n)return;if(A(!0),N(!1),g("main"),$e){const lt=setTimeout(()=>{A(!1)},500);return()=>clearTimeout(lt)}const Ve=setTimeout(()=>{A(!1)},5e3);return()=>clearTimeout(Ve)},[n,$e]);const mt=d.useCallback(()=>{L(""),w(""),C([]),B(!1),$(""),I(!1),g("main"),setTimeout(()=>{const Ve=document.querySelector(".repository-input input");Ve&&(Ve.value="")},0)},[]);d.useEffect(()=>{D&&mt()},[D,mt]),d.useEffect(()=>{Gt&&Qt&&Sn(!1)},[Gt,Qt,Sn]);const Ge=d.useMemo(()=>{if(!Le||!Array.isArray(Le)||Le.length===0)return"main";if(i){const lt=Le.find($t=>$t.name===i.branch);if(lt)return lt.name}const Ve=Le.find(lt=>lt.name==="main"||lt.name==="master");return Ve?Ve.name:Le[0].name},[Le,i]);d.useEffect(()=>{Le&&Array.isArray(Le)?(C(Le),g(Ge)):C([])},[Le,Ge,P,M]);const At=d.useRef(P);d.useEffect(()=>{if(At.current&&!P&&M&&ze&&!Ut){const $t=setTimeout(async()=>{try{const Tn=await tt()}catch{}},50);return()=>clearTimeout($t)}At.current=P},[P,M,ze,Ut,tt]);const Cn=async()=>{!D||Bt||v||(b(!0),await qe(),b(!1))},Mt=async()=>{!M||Ut||P||await tt()},Pn=Tt.filter(Ve=>y?Ve.name.toLowerCase().includes(y.toLowerCase()):!0),wn=Ve=>{const lt=Ve.target.value,$t=A6(lt);g($t),o.showCustomBranchInput},In=d.useRef(x),us=d.useRef(M);d.useEffect(()=>{const Ve=In.current!==x,lt=us.current!==M;if((Ve||lt)&&(Q&&(he(!1),q(!1),N(!1),Z(""),U(null)),me)){const $t=xt(),Tn=St();me.repository===Tn&&me.branch===x&&me.owner===$t&&!Q&&(he(!0),N(!0),Z(nI()))}In.current=x,us.current=M},[x,M,Q,me]),d.useEffect(()=>{Q&&Se.current&&setTimeout(()=>{if(Se.current){const Ve=Se.current,lt=Ve.scrollHeight-Ve.clientHeight,$t=Ve.scrollTop,Tn=lt-$t,Yt=800,Is=performance.now(),nn=Nt=>Nt<.5?4*Nt*Nt*Nt:(Nt-1)*(2*Nt-2)*(2*Nt-2)+1,Ue=Nt=>{const bn=Nt-Is,Yn=Math.min(bn/Yt,1),Jn=nn(Yn);Ve.scrollTop=$t+Tn*Jn,Yn<1&&requestAnimationFrame(Ue)};requestAnimationFrame(Ue)}},150)},[Q]);const Kt=()=>Lt?{isValid:!0}:XV(G,{repositories:Tt,isCreatingNewRepo:P,selectedInstallation:D}),dn=()=>QV(x,{branches:j,selectedRepository:M,isCreatingNewRepo:P}),gt=()=>L4e(W),ps=()=>{const Ve=ft.find(lt=>lt.installation_id===D);return Ve?.account_type==="User"&&!Ve?.isPrimary},Zn=()=>{if(!me)return!1;const Ve=xt(),lt=St();return me.repository===lt&&me.branch===x&&me.owner===Ve},$s=async Ve=>{Ve.preventDefault(),We(!0);try{if(!r||!D)return;if(e){Ze({title:"Pod is paused",description:"Please unpause your pod before pushing to GitHub",variant:"destructive"}),s(!1);return}const lt=xt(),$t=St();if(!lt||!$t)return;if(Zn()){Ze({title:"Conflict detected",description:"This repository and branch combination has a conflict. Please resolve it using the options below.",variant:"destructive"});return}P&&(pt(!0),await It({installation_id:D,org:ft.find(Tn=>Tn.installation_id===D)?.account_type!=="User"?lt:void 0,name:$t}).unwrap(),await new Promise(Tn=>setTimeout(Tn,1500))),await Ot({jobId:r,data:{account_login:lt,repo_name:$t,branch_name:x,is_new_repo:P,force:_}}).unwrap(),he(!1),q(!1),N(!1),U(null),ce(null),xe({branch:x,repo:$t,owner:lt,isNewRepo:P,isNewBranch:!1}),J(!0),pt(!1)}catch(lt){const $t=D6(lt,{defaultErrorMessage:"Failed to push to GitHub",needsForcePush:_,allowConflictDetection:!0});switch($t.type){case"secret_protection":Fe({fullError:$t.fullErrorText,learnMoreUrl:$t.learnMoreUrl,isExpanded:!1});return;case"remote_rejection":if($t.shouldShowConflictUI){he(!0),N(!0),Z(nI()),ce({repository:St(),branch:x,owner:xt()});return}break}U($t.errorMessage),Ze({title:"Error",description:$t.errorMessage,variant:"destructive"})}finally{We(!1),pt(!1)}},Ls=async()=>{We(!0);try{if(!r||!D||!W)return;const Ve=xt(),lt=St();if(!Ve||!lt)return;await Ot({jobId:r,data:{account_login:Ve,repo_name:lt,branch_name:W,is_new_repo:P,force:!1}}).unwrap(),he(!1),q(!1),N(!1),U(null),ce(null),xe({branch:W,repo:lt,owner:Ve,isNewRepo:P,isNewBranch:!0}),J(!0)}catch(Ve){const lt=D6(Ve,{defaultErrorMessage:"Failed to create branch and push to GitHub",needsForcePush:!1,allowConflictDetection:!1});switch(lt.type){case"secret_protection":Fe({fullError:lt.fullErrorText,learnMoreUrl:lt.learnMoreUrl,isExpanded:!1});return;case"remote_rejection":case"generic":default:U(lt.errorMessage),Ze({title:"Error",description:lt.errorMessage,variant:"destructive"});break}}finally{We(!1)}},ys=async()=>{We(!0);try{if(!r||!D)return;const Ve=xt(),lt=St();if(!Ve||!lt)return;await Ot({jobId:r,data:{account_login:Ve,repo_name:lt,branch_name:x,is_new_repo:P,force:!0}}).unwrap(),he(!1),q(!1),N(!1),U(null),ce(null),xe({branch:x,repo:lt,owner:Ve,isNewRepo:P,isNewBranch:!1}),J(!0)}catch(Ve){const lt=D6(Ve,{defaultErrorMessage:"Failed to force push to GitHub",needsForcePush:!0,allowConflictDetection:!1});switch(lt.type){case"secret_protection":Fe({fullError:lt.fullErrorText,learnMoreUrl:lt.learnMoreUrl,isExpanded:!1});return;case"remote_rejection":case"generic":default:U(lt.errorMessage),Ze({title:"Error",description:lt.errorMessage,variant:"destructive"});break}}finally{We(!1)}},zn=T||we||Bt,_n=nt||Ie||kt,Wn=async()=>{Sn(!0);const Ve=async()=>{try{const $t=await dt();return $t.data&&$t.data.github&&$t.data.github.authorized===!0?(await Te(),Ze({title:"Success",description:"Successfully connected to GitHub"}),!0):!1}catch{return!1}finally{Sn(!1)}},lt=()=>{let $t=0;const Tn=10,Yt=3e3,Is=setInterval(async()=>{$t++;const nn=await Ve();(nn||$t>=Tn)&&(clearInterval(Is),!nn&&$t>=Tn&&Sn(!1))},Yt);setTimeout(()=>{clearInterval(Is),Sn(!1)},Yt*Tn+1e3)};try{ut({isPopup:!0,pollingEnabled:!1,onSuccess:async()=>{await Ve()}}),lt()}catch{Sn(!1),Ze({title:"Error",description:"Failed to connect to GitHub",variant:"destructive"})}},As=Ve=>{};d.useEffect(()=>{const Ve=$t=>{const Tn=$t.target;if(o.showInstallationDropdown&&!Tn.closest(".installation-dropdown")&&!Tn.closest(".installation-input")&&c({showInstallationDropdown:!1}),o.showRepositoryDropdown&&!Tn.closest(".repository-dropdown")&&!Tn.closest(".repository-input")&&!Tn.closest(".repo-toggle-buttons")&&c({showRepositoryDropdown:!1}),o.showBranchDropdown&&!Tn.closest(".branch-dropdown")&&!Tn.closest(".branch-input")&&!Tn.closest("#branch-selector")&&c({showBranchDropdown:!1}),o.showCustomBranchInput&&!Tn.closest("[data-portal-dropdown='branch-dropdown custom-branch-input']")&&!Tn.closest("#branch-selector")){(Tn.closest(".modal-backdrop")||Tn.closest("[data-dialog-close]"))&&(c({showCustomBranchInput:!1}),F(""));return}};if((o.showInstallationDropdown||o.showRepositoryDropdown||o.showBranchDropdown||o.showCustomBranchInput)&&!o.showCustomBranchInput)return document.addEventListener("mousedown",Ve),()=>document.removeEventListener("mousedown",Ve)},[o.showInstallationDropdown,o.showRepositoryDropdown,o.showBranchDropdown,o.showCustomBranchInput]),d.useEffect(()=>{n||c({showInstallationDropdown:!1,showRepositoryDropdown:!1,showBranchDropdown:!1,showCustomBranchInput:!1})},[n]);const tr=Ve=>{const lt=Ve.target.value,$t=A6(lt);if(w($t),$t!==y&&(L(""),C([]),g("main")),P){$($t),I(!1);return}const Tn=Tt.find(Yt=>Yt.name.toLowerCase()===$t.toLowerCase());if(Tn)L(Tn.name),c({showRepositoryDropdown:!1}),I(!1);else if($t){L(""),c({showRepositoryDropdown:!0});const Yt=Tt.some(Is=>Is.name.toLowerCase().includes($t.toLowerCase()));I(!Yt&&$t.length>0),C([])}else L(""),I(!1),C([])},Ht=d.useMemo(()=>{if(ft.length===0||we||D)return null;if(i&&i.owner){const lt=ft.find($t=>$t.account_login===i.owner);if(lt)return lt.installation_id}const Ve=ft.find(lt=>lt.isPrimary);return Ve?Ve.installation_id:ft[0]?.installation_id||null},[i,ft,we,D]);d.useEffect(()=>{Ht&&O(Ht)},[Ht]);const zs=d.useMemo(()=>{if(!i||Bt||Tt.length===0||!D)return{repoName:"",branchName:"main"};const Ve=ft.find(lt=>lt.installation_id===D);return Ve&&Ve.account_login===i.owner?{repoName:i.repo,branchName:i.branch||"main"}:{repoName:"",branchName:"main"}},[i,Tt,Bt,D,ft]);return d.useEffect(()=>{zs.repoName&&(L(zs.repoName),w(zs.repoName)),g(zs.branchName)},[zs]),Gt?t.jsx(t.Fragment,{children:t.jsx(as,{open:n,onOpenChange:Ee,children:t.jsxs(Er,{className:k("max-w-[700px] p-0 overflow-visible transition-all duration-300 ease-in-out top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",le||ee&&"overflow-hidden"),hideclosebutton:!0,children:[Qt&&t.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-[#0F0F10]/90 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg",children:[t.jsx(tn,{className:"w-12 h-12 text-[#00E573] animate-spin mb-4"}),t.jsx("p",{className:"text-lg font-medium text-white",children:"Connecting to GitHub..."})]})}),!le&&!ee&&t.jsxs("div",{className:"flex items-center gap-2 px-4  md:px-8 max-h-[98px] py-6 border-b border-[#242424]",children:[t.jsx("div",{className:"flex items-center justify-center bg-[#ffffff05] p-2 rounded-full",children:t.jsx("img",{src:U4e,alt:"GitHub",className:"w-6 h-6"})}),t.jsx("h2",{className:"text-[22px] font-medium text-white",children:"Save to Github"}),t.jsx(Yl,{className:"ml-auto",children:t.jsx(Ft,{className:"w-5 h-5 text-gray-400 hover:text-white"})})]}),t.jsxs("div",{ref:Se,className:"relative max-h-[500px] overflow-y-auto",children:[zn&&t.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-[#0F0F10] transition-opacity duration-300 ease-in-out",children:[t.jsx(tn,{className:"h-8 w-8 text-[#00FF85] animate-spin mb-4"}),t.jsx("p",{className:"text-[#DDDDE6]/70 text-sm",children:T?"Connecting to GitHub...":we?"Loading GitHub accounts...":"Loading repositories..."})]}),ee&&re?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:rI,className:"absolute top-0 left-0 right-0 z-[-1] w-full pointer-events-none",alt:"Line"}),t.jsx(Yl,{className:"absolute z-20 p-2 rounded-md group backdrop-blur-lg bg-white/5 top-8 right-8",children:t.jsx(Ft,{className:"w-5 h-5 text-gray-400 group-hover:text-white"})}),t.jsx("div",{className:"p-8 pt-[10rem] space-y-6",children:t.jsxs("div",{className:"flex flex-col items-start w-full gap-6",children:[t.jsx("img",{src:W4e,alt:"GitHub",className:"w-16 h-16 mb-4"}),t.jsxs("div",{className:"space-y-2 text-start",children:[t.jsx("h2",{className:"text-2xl font-medium text-white",children:"Successfully Saved to GitHub!"}),t.jsxs("p",{className:"text-[#737780] font-medium font-['Inter']",children:["Your changes have been saved to"," ",t.jsxs("span",{className:"text-[#fff] font-medium font-['Inter']",children:[re.owner,"/",re.repo,",",t.jsx("br",{})]}),"Continue working on your task or view the codebase on GitHub."]})]}),t.jsxs("div",{onClick:()=>{const Ve=`https://github.com/${re.owner}/${re.repo}/tree/${re.branch}`;window.open(Ve,"_blank")},className:"bg-[#18181A] mb-4 w-full cursor-pointer flex justify-between items-center border border-[#242424] rounded-lg p-4 gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:iI,alt:"GitHub",className:"w-6 h-6"}),t.jsxs("span",{className:"font-medium font-['Inter'] text-white text-nowrap",children:[re.owner," \\ ",re.repo]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("img",{src:oI,alt:"Branch",className:"w-5 h-5 opacity-50 grayscale"}),t.jsx("span",{className:"font-medium text-[#626266] truncate",children:re.branch})]})]}),t.jsx("div",{className:"flex items-center gap-2 cursor-pointer group hover:opacity-80",children:t.jsxs("span",{className:"flex group-hover:text-[#2EE572] items-center text-nowrap gap-2 text-[#626266] font-medium",children:["View on GitHub",t.jsx("img",{src:V4e,alt:"Arrow",className:k("w-6 h-6 grayscale opacity-35 group-hover:opacity-100 group-hover:grayscale-0")})]})})]})]})})]}):le?t.jsxs("div",{className:"p-4 space-y-6 md:p-8",children:[t.jsxs("div",{className:"flex items-start w-full gap-2",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("h2",{className:"text-2xl font-medium text-white",children:"Confirm force push to"}),t.jsxs("p",{className:"text-[#E38F45] font-medium text-[22px] leading-[28px] tracking-[-2%]",children:['"',x,'"']})]}),t.jsx("div",{onClick:()=>q(!1),className:"z-20 rounded-sm p-1 group ml-auto bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#FFFFFF12]",children:t.jsx(Ft,{className:"z-20 w-5 h-5 text-gray-400 group-hover:text-white top-12 right-12"})})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("p",{className:"text-[#B7BECC] font-['Inter'] font-medium leading-[24px] text-[15px] md:max-w-[80%]",children:["Are you sure you want to force push? ",t.jsx("br",{}),"This will replace everything on ",t.jsxs("span",{className:"font-semibold text-[#FFA04D]",children:["'",x,"'"]})," ","with your current changes  and can't be undone."]})})]}):t.jsxs("form",{onSubmit:$s,className:"p-4 space-y-4 md:space-y-6 md:p-8",onClick:As,children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:iI,alt:"GitHub",className:"w-5 h-5 opacity-70"}),t.jsx("span",{className:"text-sm text-gray-400",children:"Connected Organizations"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{ref:_e,className:`flex items-center justify-between w-full h-14 bg-[#131314] border ${o.showInstallationDropdown?"border-white/50":"border-[#242424]"} rounded-md p-3 text-white installation-input`,onClick:()=>{c({showRepositoryDropdown:!1,showBranchDropdown:!1,showInstallationDropdown:!o.showInstallationDropdown})},children:[t.jsx("div",{className:"flex items-center w-full",children:t.jsx("div",{className:"relative flex-1",children:D?t.jsxs("div",{className:"flex items-center",children:[ft.find(Ve=>Ve.installation_id===D)?.account_login||"Select a GitHub account",ft.find(Ve=>Ve.installation_id===D)?.account_type==="User"&&!ft.find(Ve=>Ve.installation_id===D)?.isPrimary&&t.jsx("span",{className:"text-xs text-[#DDDDE6] rounded-full bg-[#FFFFFF0D] ml-1 px-2 py-1 font-['Inter'] font-medium",children:"Collaborator"})]}):t.jsx("span",{className:"text-[#8F8F98]",children:"Select a GitHub account"})})}),t.jsx(Ur,{className:`h-4 w-4 text-[#898F99] transition-transform duration-200 ${o.showInstallationDropdown?"rotate-180":""}`})]}),t.jsx(Sx,{isOpen:ft.length>0&&o.showInstallationDropdown,onClose:u,triggerRef:_e,className:"installation-dropdown",scrollableContainerRef:Se,children:t.jsxs("div",{className:"flex flex-col gap-[6px] p-2",children:[ft.map(Ve=>t.jsx("div",{className:k("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",D===Ve.installation_id&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:()=>{if(Ve.installation_id===D){c({showInstallationDropdown:!1});return}L(""),w(""),C([]),B(!1),$(""),I(!1),c({showRepositoryDropdown:!1,showBranchDropdown:!1,showInstallationDropdown:!1}),O(Ve.installation_id);const lt=document.querySelector(".repository-input input");lt&&(lt.value="")},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:Ve.account_login}),Ve.account_type==="User"&&!Ve.isPrimary&&t.jsx("span",{className:"text-xs text-[#DDDDE6] rounded-full bg-[#FFFFFF0D] ml-1 px-2 py-1 font-['Inter'] font-medium",children:"Collaborator"})]}),D===Ve.installation_id&&t.jsx(xn,{className:"h-4 w-4 text-[#1BB4CC]"})]})},Ve.installation_id)),t.jsx("div",{className:"border-t border-[#ffffff12]"}),t.jsx("div",{className:`px-3 min-h-[40px] rounded-[8px] py-2 text-[#4ADE80] hover:bg-[#4ADE80]/10 font-medium ${Qt?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onClick:()=>{Qt||(Wn(),c({showInstallationDropdown:!1}))},children:t.jsxs("div",{className:"flex items-center gap-2",children:[Qt?t.jsx(tn,{className:"w-4 h-4 animate-spin"}):t.jsx(ma,{className:"w-4 h-4"}),Qt?"Connecting...":"Add New Github Organizations"]})})]})})]}),ft.length===0&&!T&&!we&&t.jsx("p",{className:"text-[#FF4545] text-sm",children:"No GitHub accounts connected. Please connect a GitHub account."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:O4e,alt:"Repository",className:"w-5 h-5"}),t.jsx("span",{className:"text-[#898F99] text-sm font-medium font-[Inter]",children:"Selected Repo"})]}),D&&t.jsx("button",{type:"button",className:"flex items-center justify-center w-6 h-6 ml-1 rounded-full hover:bg-blue-400/5 group",onClick:Cn,disabled:Bt||v,title:"Refresh repositories",children:t.jsx(df,{className:`h-3.5 w-3.5 text-[#898F99] group-hover:text-white ${v?"animate-spin":""}`})})]})}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{ref:Re,className:`flex items-center justify-between w-full h-14 bg-[#131314] border ${o.showRepositoryDropdown?"border-white/50":"border-[#242424]"} rounded-md p-3 text-white repository-input`,children:[t.jsxs("div",{className:"flex items-center w-full",children:[t.jsx($o,{className:"h-4 w-4 text-[#8F8F98] mr-2"}),t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Gi,{type:"text",value:y,onChange:tr,onFocus:()=>{P||c({showBranchDropdown:!1,showInstallationDropdown:!1,showRepositoryDropdown:!0})},placeholder:P?"Enter new repository name":"Search for a repository",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0",disabled:!D||P&&ps()}),M&&!P&&t.jsx("button",{type:"button",className:"absolute right-0 flex items-center justify-center w-6 mr-1 h-6 transform hover:bg-[#ffffff05] -translate-y-1/2 rounded-full top-1/2",onClick:()=>{L(""),w(""),C([]),g("main"),c({showRepositoryDropdown:!0})},title:"Clear selected repository",children:t.jsx(Ft,{className:"h-3.5 w-3.5 text-[#898F99]"})})]})]}),t.jsxs("div",{className:"flex text-sm text-nowrap bg-[#ffffff15] p-[6px] rounded-full font-semibold cursor-pointer repo-toggle-buttons",children:[t.jsx("span",{className:`px-[10px] py-1 rounded-full transition-colors ${P?"text-white/50 hover:text-white/80 font-medium":"bg-white text-black"}`,onClick:async()=>{if(B(!1),c({showBranchDropdown:!1,showInstallationDropdown:!1,showRepositoryDropdown:!!(D&&Tt.length>0)}),y){const Ve=Tt.find(lt=>lt.name.toLowerCase()===y.toLowerCase());if(Ve){if(L(Ve.name),w(Ve.name),I(!1),ze)try{const lt=await tt()}catch{}}else L(""),I(!0),C([]),g("main")}else if(M){const Ve=Tt.find(lt=>lt.name===M);if(Ve){if(w(Ve.name),I(!1),ze)try{const lt=await tt()}catch{}}else L(""),C([]),g("main")}else C([]),g("main")},children:"Select Repo"}),t.jsx("span",{className:`px-[10px] py-1 rounded-full transition-colors ${P?"bg-white text-black ":ps()?"text-white/20 cursor-not-allowed":"text-white/50 hover:text-white/80 font-medium"}`,onClick:()=>{if(!ps()){if(B(!0),c({showRepositoryDropdown:!1,showBranchDropdown:!1,showInstallationDropdown:!1}),L(""),I(!1),y)$(y);else{const Ve=Tt.find(lt=>lt.name===M);Ve&&($(Ve.name),w(Ve.name))}C([]),g("main")}},children:"Create New"})]})]}),t.jsx(Sx,{isOpen:Tt.length>0&&Pn.length>0&&o.showRepositoryDropdown&&!P,onClose:p,triggerRef:Re,className:"repository-dropdown",scrollableContainerRef:Se,children:t.jsx("div",{className:"px-2 py-1 flex flex-col gap-[6px]",children:Pn.map(Ve=>t.jsx("div",{className:k("px-3 min-h-[40px] rounded-[8px]   py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium  cursor-pointer",Ve.permissions.push?"":"opacity-20",M===Ve.name&&"bg-[#172426] text-[#1BB4CC]"),onClick:lt=>{lt.preventDefault(),lt.stopPropagation(),Ve.permissions.push?(L(Ve.name),w(Ve.name),B(!1),$(""),c({showRepositoryDropdown:!1}),I(!1)):Ze({title:"You don't have push access to this repository.",description:"Please select a repository you have push access to.",variant:"destructive"})},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:Ve.name}),i?.repo===Ve.name&&i?.owner===xt()&&t.jsx(tH,{variant:"secondary",className:"bg-green-700",children:"Last used"})]})},Ve.id))})}),D&&P&&ps()&&t.jsxs("p",{className:"text-[#FF4545] text-sm mt-2 flex items-center gap-1",children:[t.jsx("img",{src:Ex,alt:"Info",className:"w-3 h-3"}),t.jsx("span",{children:"You don't have permission to create repositories in an organization where you're a collaborator."})]}),D&&P&&!G&&t.jsx("p",{className:"text-[#DDDDE6]/50 text-sm mt-2",children:"Enter a name for your new repository"}),D&&P&&G&&!Kt().isValid&&t.jsx("p",{className:"text-[#FF4545] text-sm mt-2",children:Kt().errorMessage}),D&&P&&G&&Kt().isValid&&t.jsx("span",{className:"text-[#CCC] text-sm mt-2 flex items-center gap-1",children:Kt().successMessage&&t.jsxs(t.Fragment,{children:[t.jsx("img",{src:Ex,alt:"Info",className:"w-3 h-3"}),t.jsx("span",{className:"text-[#00FF85]",children:Kt().successMessage})]})}),D&&Tt.length===0&&t.jsx("p",{className:"text-[#DDDDE6]/50 text-sm mt-2",children:"No repositories found. Enter a name to create a new one."}),D&&!P&&E&&y&&t.jsxs("p",{className:"text-[#FF4545] text-sm mt-2 flex items-center gap-1",children:[t.jsx("img",{src:Ex,alt:"Info",className:"w-3 h-3"}),t.jsxs("span",{children:["Repository ",t.jsxs("span",{className:"font-semibold",children:['"',y,'"']}),` doesn't exist. Switch to "Create New" to create it.`]})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:H4e,alt:"Branch",className:"w-5 h-5"}),t.jsx("span",{className:"text-[#898F99] text-sm font-medium font-[Inter]",children:"Branch"})]}),M&&!P&&t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{type:"button",className:"flex items-center justify-center w-6 h-6 ml-1 rounded-full hover:bg-blue-400/5 group",onClick:Mt,disabled:Ut,title:"Refresh branches",children:t.jsx(df,{className:`h-3.5 w-3.5 text-[#898F99] group-hover:text-white ${v?"animate-spin":""}`})})})]}),Ut?t.jsx("div",{className:"flex items-center justify-center h-14 bg-[#131314] border border-[#242424] rounded-md",children:t.jsx(tn,{className:"h-4 w-4 text-[#00FF85] animate-spin"})}):P?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"relative",children:t.jsx("div",{className:"flex items-center justify-between w-full h-14 bg-[#131314] border border-[#242424] rounded-md p-3 text-white",children:t.jsx("div",{className:"flex items-center w-full branch-input",children:t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Gi,{type:"text",value:x,onChange:wn,placeholder:"Branch name (e.g., main)",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0",disabled:!D||!G&&P}),x&&t.jsx(zt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 w-6 h-6 transform -translate-y-1/2 rounded-full top-1/2",onClick:()=>{g("main")},title:"Clear branch name",disabled:!D||!G&&P,children:t.jsx(Ft,{className:"h-3.5 w-3.5 text-[#898F99]"})})]})})})}),x&&!dn().isValid&&t.jsx("div",{className:"text-[#FF4545] text-sm mt-2",children:dn().errorMessage})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("div",{ref:se,className:k(`flex items-center justify-between w-full h-14 bg-[#131314] border ${o.showBranchDropdown?"border-white/50":"border-[#242424]"} rounded-md p-3 text-[#C4C4CC] branch-input`,Q?"border border-[#E38F4533]":ae?"border border-[#A199FF33]":""),onClick:()=>{!D||!M||j.length===0||c({showRepositoryDropdown:!1,showInstallationDropdown:!1,showBranchDropdown:!o.showBranchDropdown})},id:"branch-selector",children:[t.jsx("div",{className:"flex items-center w-full",children:t.jsx("div",{className:"relative flex-1",children:x?t.jsx("div",{className:"flex items-center",children:x}):t.jsx("span",{className:"text-[#8F8F98]",children:"Select a branch"})})}),(Q||ae)&&t.jsx("img",{src:Q?aI:K4e,alt:"Branch",className:"w-6 h-6 mr-4"}),t.jsx(Ur,{className:`h-4 w-4 text-[#898F99] transition-transform duration-200 ${o.showBranchDropdown?"rotate-180":""}`})]}),t.jsx(Sx,{isOpen:j.length>0&&o.showBranchDropdown,onClose:f,triggerRef:se,className:"branch-dropdown",scrollableContainerRef:Se,children:t.jsxs("div",{className:"flex flex-col gap-[6px] p-2 max-h-[210px]",children:[j.map(Ve=>t.jsx("div",{className:k("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",x===Ve.name&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:()=>{g(Ve.name),c({showBranchDropdown:!1,showRepositoryDropdown:!1,showInstallationDropdown:!1})},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("span",{children:Ve.name}),x===Ve.name&&t.jsx(xn,{className:"h-4 w-4 text-[#1BB4CC]"})]})},Ve.name)),t.jsx("div",{className:"border-t border-[#ffffff12] mt-2"}),t.jsx("div",{className:"px-3 min-h-[40px] rounded-[8px] py-2 text-[#4ADE80] hover:bg-[#4ADE80]/10 font-medium cursor-pointer",onClick:Ve=>{Ve.preventDefault(),Ve.stopPropagation(),F(x||"main"),c({showCustomBranchInput:!0,showBranchDropdown:!1})},children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ma,{className:"w-4 h-4"}),"Create New Branch"]})})]})})]}),t.jsx(Sx,{isOpen:o.showCustomBranchInput,onClose:m,triggerRef:se,className:"branch-dropdown custom-branch-input",scrollableContainerRef:Se,children:t.jsxs("div",{className:"p-3 space-y-3",onMouseDown:Ve=>Ve.stopPropagation(),onClick:Ve=>Ve.stopPropagation(),children:[t.jsx("div",{className:"text-sm text-[#898F99]",children:"Enter a new branch name:"}),t.jsx("div",{className:"flex items-center w-full branch-input",children:t.jsx("div",{className:"relative flex-1",children:t.jsx(Gi,{type:"text",value:S,onChange:Ve=>{const lt=A6(Ve.target.value);F(lt)},onKeyDown:Ve=>{Ve.key==="Enter"&&Qd(S)&&(g(S),c({showCustomBranchInput:!1})),Ve.key==="Escape"&&(c({showCustomBranchInput:!1}),F(""))},placeholder:"Branch name (e.g., feature/my-new-branch)",className:"w-full p-2 bg-[#1A1A1C] border border-[#242424] rounded-md focus-visible:ring-0 focus-visible:border-white/50 focus-visible:ring-offset-0 text-white",autoFocus:!0})})}),S&&!Qd(S)&&t.jsx("div",{className:"text-[#FF4545] text-xs",children:"Invalid branch name. Names must follow Git naming rules."}),t.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[t.jsx(zt,{type:"button",variant:"outline",size:"sm",onClick:()=>{c({showCustomBranchInput:!1}),F("")},className:"border-[#242424] text-gray-300 hover:bg-[#1a1a1c] bg-transparent",children:"Cancel"}),t.jsx(zt,{type:"button",size:"sm",onClick:()=>{Qd(S)&&(g(S),c({showCustomBranchInput:!1}))},disabled:!Qd(S),className:"bg-[#00FF85] hover:bg-[#00FF85]/90 text-black font-medium",children:"Use Branch"})]})]})})]}),x&&!dn().isValid&&t.jsx("div",{className:"text-[#FF4545] text-sm mt-2",children:dn().errorMessage}),M&&!P&&Ut&&t.jsxs("div",{className:"text-[#898F99] text-sm font-medium font-[Inter] flex items-center gap-1",children:[t.jsx(tn,{className:"w-3 h-3 animate-spin"}),t.jsx("span",{children:"Checking branches..."})]}),x&&dn().isValid&&dn().successMessage&&M&&!Ut&&t.jsxs("div",{className:"text-[#898F99] text-sm font-medium font-[Inter] flex items-center gap-1",children:[t.jsx("img",{src:Ex,alt:"Info",className:"w-3 h-3"}),t.jsx("span",{className:"text-[#00FF85]",children:dn().successMessage})]})]}),Q&&!le?t.jsxs("div",{className:"space-y-[10px]",children:[t.jsxs("div",{className:"bg-[#1F1B18]  rounded-[10px] p-3 flex items-start gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{alt:"Warning",src:aI,className:"w-5 h-5"}),t.jsx("span",{className:"text-[#E38F45] text-[14px] font-medium font-['Inter']",children:"Changes conflict detected"})]}),t.jsxs("p",{className:"text-[#99897A] text-[13px] font-['Inter'] leading-[20px] font-medium",children:["Your changes conflict with what's already on the"," ",t.jsxs("span",{className:"text-[#FFE4CC] font-semibold font-['Inter']",children:["'",x,"'"]})," branch. You can force push to replace it, but this will permanently erase what's currently there."]})]}),t.jsx("button",{type:"button",onClick:()=>q(!0),className:"ml-auto bg-[#2E2720]  text-[#CC9666] w-fit text-nowrap font-medium px-[10px] py-[6px] rounded-[6px] tracking-[-0.2px]",children:"Force Push anyway"})]}),t.jsxs("div",{className:"bg-[#00E5731A]  rounded-[10px] p-3 flex flex-col gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"Warning",src:oI,className:"w-5 h-5"}),t.jsx("span",{className:"text-[#00E573] font-medium text-[14px] font-['Inter']",children:"Recommended Solution"})]}),t.jsxs("p",{className:"text-[#FFFFFF60] text-[13px] font-medium font-['Inter']",children:[t.jsx("span",{className:"font-semibold font-['Inter'] text-white",children:"Save your changes to a new branch."})," ","This keeps your work safe and allows for proper conflict resolution on GitHub."]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[#FFFFFF] text-[13px] font-['Inter'] font-medium",children:"Proposed branch name :"}),t.jsx(Gi,{type:"text",value:W,onChange:Ve=>Z(Ve.target.value),className:"w-full px-4 py-3 bg-[#80FFF90D] border border-[#80FFF94D] text-white focus:border-[#80FFF9] focus:ring-[#80FFF94D]",placeholder:"Enter branch name"})]})]})]}):null,ae&&t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"bg-[#A199FF0D]  rounded-[10px] p-4",children:t.jsx("div",{className:"flex items-start gap-3",children:t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex justify-between gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-start gap-[6px]",children:[t.jsx("img",{src:$4e,alt:"Warning",className:"w-5 h-5"}),t.jsx("h4",{className:"text-[#A199FF] font-medium font-['Inter'] text-[16px] mb-1 leading-[20px]",children:"Security Protection Activated"})]}),t.jsx("p",{className:"text-[#A199FF50] font-medium text-[13px] font-['Inter'] leading-[20px]",children:"We detected a secret key in your code and blocked this upload to protect you."})]}),ae?.learnMoreUrl&&t.jsx("button",{type:"button",onClick:()=>window.open(ae?.learnMoreUrl,"_blank"),className:" text-[#FFFFFF60] flex gap-1 items-center px-3 hover:bg-[#FFFFFF]/10 transition-all duration-150 ease-out hover:text-[#ffffff80] bg-[#FFFFFF0F] w-fit text-nowrap font-medium text-[16px] h-8 rounded-[8px]",children:"Learn how to fix this?"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("button",{type:"button",onClick:()=>Fe(Ve=>Ve?{...Ve,isExpanded:!Ve.isExpanded}:null),className:k("flex items-center gap-2 font-['Inter'] text-[#ffffff40] hover:text-[#FFFFFF80] text-[13px] font-medium transition-colors",{"text-[#FFFFFF80]":ae?.isExpanded}),children:["View error details",t.jsx(Ur,{className:`w-4 h-4 transition-transform ${ae?.isExpanded?"rotate-180":""}`})]}),ae?.isExpanded&&t.jsxs("div",{className:"bg-[#FFFFFF08] rounded-[8px] relative backdrop-blur-lg p-3 md:max-w-[600px] mt-2 max-h-[300px]",children:[t.jsx(rc,{showIcon:!0,iconOnly:!0,className:"absolute border-none opacity-45 hover:opacity-100 bg-none right-3 top-3",value:ae?.fullError,tooltipText:"Copy",copiedTooltipText:"Copied",buttonClassName:"p-0",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{navigator.clipboard.writeText(ae?.fullError)}}),t.jsx("pre",{className:"text-[#FFFFFF50] text-[14px] whitespace-pre-wrap break-words w-full leading-[16px] max-h-[200px] font-[400] overflow-y-auto font-jetbrains",children:ae?.fullError})]})]})]})})})}),te&&!ae&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:z4e,alt:"Error",className:"w-5 h-5"}),t.jsx("h4",{className:"text-red-400 font-medium text-[14px] font-[Inter] leading-[20px]",children:"Error"})]}),t.jsxs("div",{className:"bg-[#FFFFFF08] rounded-[8px] relative backdrop-blur-lg p-3 md:max-w-[600px] mt-2 max-h-[300px]",children:[t.jsx(rc,{showIcon:!0,iconOnly:!0,value:te,className:"absolute border-none opacity-45 hover:opacity-100 bg-none right-3 top-3",tooltipText:"Copy",copiedTooltipText:"Copied",buttonClassName:"p-0",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{navigator.clipboard.writeText(te)}}),t.jsx("pre",{className:"text-[#FFFFFF50] text-[14px] whitespace-pre-wrap break-words w-full leading-[16px] max-h-[200px] font-[400] overflow-y-auto font-jetbrains",children:te})]})]})]})]})]}),t.jsx(ad,{className:"flex justify-end p-4  md:p-6 border-t rounded-b-lg border-[#242424] ",children:ee?t.jsx(zt,{type:"button",onClick:()=>{J(!1),xe(null),s(!1),a&&a(re)},className:"bg-[#272729] hover:bg-[#272729]/90 px-5 font-semibold text-[#DCDCE5]",children:"Okay, Got It"}):Q&&!le?t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:()=>s(!1),className:"mr-2 text-[#ACACB2] bg-[#222224] hover:bg-[#22222490] px-4 pl-3 py-3 rounded-[28px] ",disabled:_n,children:"Cancel"}),t.jsx("button",{type:"button",onClick:Ls,disabled:_n||!gt().isValid,className:"bg-[#00FF85] font-semibold flex items-center gap-2 rounded-[28px] pl-4 pr-3 py-3  hover:bg-[#00FF85]/90 text-black",children:_n?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Branch..."]}):t.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:["Create Branch & Push",t.jsx("img",{src:q4e,alt:"Branch",className:"w-6 h-6"})]})})]}):le?t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:()=>q(!1),className:" text-[#ACACB2] px-4 py-3 pr-3 bg-[#222224] hover:bg-[#22222490] rounded-[28px]",disabled:_n,children:t.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[t.jsx("img",{src:G4e,alt:"Back",className:"w-6 h-6"}),"Go Back"]})}),t.jsx("button",{type:"button",onClick:()=>{ys()},disabled:_n,className:"bg-[#FFA04D] hover:bg-[#FFA04D]/90 flex items-center gap-2 rounded-[28px] pl-4 pr-3  text-[#111112] font-medium",children:_n?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-4 h-4 mr-2 animate-spin"}),"Force Pushing..."]}):t.jsxs("div",{className:"flex items-center font-semibold tracking-[-0.2px] gap-2 text-[#111112]",children:['Force Push to "',x,'"',t.jsx("img",{src:sI,alt:"Save Cloud",className:"w-6 h-6"})]})})]}):t.jsxs("div",{className:"flex justify-end w-full gap-2",children:[t.jsx("button",{type:"button",onClick:()=>s(!1),className:" bg-[#272729] rounded-full font-medium px-5 py-3 text-gray-300 hover:bg-[#27272990]",disabled:_n,children:"Cancel"}),t.jsx("button",{type:"submit",onClick:$s,disabled:_n||!P4e({jobId:r,selectedInstallation:D,isCreatingNewRepo:P,newRepoName:G,selectedRepository:M,branchName:x,repositories:Tt,isLoading:zn}).isValid,className:k("bg-[#00FF85] rounded-full max-md:max-w-[200px] flex items-center gap-1 px-5 py-3 hover:bg-[#00FF85]/90 text-black font-semibold",_n&&"opacity-50 cursor-not-allowed","disabled:opacity-50"),children:_n?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-4 h-4 mr-2 animate-spin"}),kt?"Creating Repository...":P?"Creating & Pushing...":"Pushing..."]}):t.jsxs("div",{className:"flex items-center gap-2",children:[P?"Create & Push to Github":"Push to Github",t.jsx("img",{src:sI,alt:"Save Cloud",className:"w-6 h-6"})]})})]})})]})})}):t.jsx(t.Fragment,{children:t.jsx(as,{open:n,onOpenChange:Ee,children:t.jsxs(Er,{className:"md:max-w-[620px] md:min-h-[600px] transition-all duration-300 ease-in-out  bg-[#0F0F10] overflow-hidden",hideclosebutton:!0,children:[Qt&&t.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-[#0F0F10]/90 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg",children:[t.jsx(tn,{className:"w-12 h-12 text-[#00E573] animate-spin mb-4"}),t.jsx("p",{className:"text-lg font-medium text-white",children:"Connecting to GitHub..."})]})}),t.jsx("img",{src:rI,alt:"Line",className:"absolute top-0 left-0 right-0 z-[-1] w-full pointer-events-none"}),t.jsx(Yl,{className:"z-20 ml-auto bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#FFFFFF12]",children:t.jsx(Ft,{className:"absolute z-20 w-5 h-5 text-gray-400 hover:text-white top-12 right-12"})}),t.jsx("div",{className:"flex items-center p-[40px] pt-[80px] gap-1 z-10",children:t.jsx("img",{src:B4e,alt:"GitHub"})}),t.jsxs("div",{className:"p-[40px] pt-[0px] flex flex-col items-start gap-4 h-[300px] z-10",children:[t.jsx("span",{className:"text-white text-[24px] font-medium font-brockmann",children:"Connect Github to Emergent"}),t.jsx("span",{className:"text-[18px] text-[#8A8F98]",children:"Connect your GitHub account to effortlessly save, sync, and access your work in all repositories, anytime."})]}),t.jsxs("div",{className:"flex items-center justify-end gap-4 border border-[#242424] p-[20px] bg-[#111112]",children:[t.jsx(zt,{onClick:()=>s(!1),className:"flex items-center px-[20px] w-fit justify-center bg-[#272729] hover:bg-[#343434] text-white",disabled:Qt,children:t.jsx("div",{className:"flex items-center justify-center w-full text-[16px]",children:"Cancel"})}),t.jsx(zt,{onClick:Wn,className:"max-w-[200px] w-full bg-[#00E573] hover:bg-[##00E573]/90 text-[#0E0E0F] font-brockmann font-semibold hover:bg-[#00E573]/80",disabled:Qt,children:t.jsx("div",{className:"flex items-center justify-center w-full text-[16px]",children:Qt?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tn,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):"Connect GitHub"})})]})]})})})}const Z4e=K.common.visualEdit,gC=d.forwardRef(({visualEditMode:e,disabled:n,onClick:s,isVisualEditChangesEnabled:r,variant:i="default",className:a,showTooltip:o=!0,tooltipSide:l="top"},c)=>{const u=t.jsxs("button",{ref:c,type:"button",disabled:n,onClick:s,className:k("flex items-center justify-center gap-1.5 transition-colors duration-200",i==="default"&&"h-8 pl-1 pr-2 rounded-[6px]",i==="chat"&&"rounded-full h-9 p-2",e?"bg-[#0161D1]":i==="default"?"bg-[#FFFFFF0A] hover:bg-[#FFFFFF14]":"bg-[#FFFFFF14] hover:bg-gray-100/10","disabled:opacity-50 disabled:cursor-not-allowed",r&&i==="chat"&&"pl-2 pr-2.5",a),children:[t.jsx("img",{src:Z4e,alt:"Visual Edit",className:"w-5 h-4"}),r&&t.jsx("span",{className:"text-sm font-medium text-white",children:"Edit"})]});return o?t.jsx(ms,{children:t.jsxs(ri,{delayDuration:0,children:[t.jsx(ii,{asChild:!0,children:u}),t.jsx(qr,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm p-[10px] rounded-lg shadow-lg z-[9999]",side:l,sideOffset:5,asChild:!0,children:t.jsxs(fe.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},className:"flex items-center gap-1",children:[t.jsx("span",{children:e?"Disable Edit Mode":"Enable Edit Mode"}),t.jsxs("div",{className:"flex items-center gap-[2px]",children:[t.jsx("div",{className:"flex items-center justify-center h-5 px-1 rounded bg-[rgba(0,0,0,0.14)] border border-[rgba(0,0,0,0.08)]",children:t.jsx("span",{className:"text-xs font-medium text-[rgba(0,0,0,0.4)] font-brockmann",children:typeof navigator<"u"&&navigator.platform?.toLowerCase().includes("mac")?"":"ctrl"})}),t.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded bg-[rgba(0,0,0,0.14)] border border-[rgba(0,0,0,0.08)]",children:t.jsx("span",{className:"text-xs font-medium text-[rgba(0,0,0,0.4)] font-brockmann",children:"E"})})]}),t.jsx(na,{className:"fill-[#fff]"})]})})]})}):u});gC.displayName="VisualEditButton";function J4e({maxFiles:e=10,maxSizeInMB:n=50,allowedTypes:s=[],jobId:r,onUploadComplete:i,onUploadError:a}={}){const[o,l]=d.useState([]),[c,u]=d.useState([]),[p,f]=d.useState(!1),{toast:m}=ns(),h=d.useCallback(C=>{const S=n*1024*1024;return C.size>S?`File size exceeds ${n}MB limit`:s.length>0&&!s.some(E=>E.startsWith(".")?C.name.toLowerCase().endsWith(E.toLowerCase()):C.type.toLowerCase().includes(E.toLowerCase()))?`File type not allowed. Allowed types: ${s.join(", ")}`:null},[n,s]),x=d.useCallback(C=>{if(!C)return;const S=Array.from(C),F=[],E=[];o.length+S.length>e&&E.push(`Cannot add more than ${e} files`),S.forEach(I=>{const T=h(I);T?E.push(`${I.name}: ${T}`):F.push({file:I,name:I.name,size:I.size,type:I.type,lastModified:I.lastModified})}),E.length>0&&m({title:"File Validation Error",description:E.join(`
`),variant:"destructive"}),F.length>0&&l(I=>[...I,...F])},[o.length,e,h,m]),g=d.useCallback(C=>{x(C)},[x]),v=d.useCallback(()=>{const C=document.createElement("input");return C.type="file",C.multiple=!0,C.style.display="none",s.length>0&&(C.accept=s.join(",")),C.onchange=S=>{const F=S.target;g(F.files),document.body.removeChild(C)},C},[s,g]),b=d.useCallback(()=>{const C=v();document.body.appendChild(C),setTimeout(()=>{C.click()},0)},[v]),y=d.useCallback(async C=>{if(!r)throw new Error("Job ID is required for file upload");const S=`${C.name}-${Date.now()}`;u(F=>[...F,{artifactId:S,fileName:C.name,progress:0,status:"uploading"}]);try{const F={file_name:C.name,mime_type:C.type},E=await vt.uploadArtifact(r,F);u(T=>T.map(A=>A.artifactId===S?{...A,progress:33,artifactId:E.artifact_id,file_path:E.file_path}:A)),await vt.uploadFileToUrl(E.upload_url,C.file),u(T=>T.map(A=>A.artifactId===E.artifact_id?{...A,progress:66}:A));const I={entity_id:r,entity_type:"job",visibility:"public",file_name:C.name,description:C.description||void 0,file_path:E.file_path};await vt.finalizeArtifactUpload(E.artifact_id,I),u(T=>T.map(A=>A.artifactId===E.artifact_id?{...A,progress:100,status:"completed"}:A)),i?.(E.artifact_id,C.name),m({title:"Upload Complete",description:`${C.name} uploaded successfully`})}catch(F){u(E=>E.map(I=>I.artifactId===S?{...I,status:"failed",error:F.message}:I)),a?.(C.name,F.message),m({title:"Upload Failed",description:`Failed to upload ${C.name}: ${F.message}`,variant:"destructive"})}},[r,i,a,m]),w=d.useCallback(async C=>{if(C.length===0){m({title:"No Files",description:"Please select files to upload",variant:"destructive"});return}if(!r){m({title:"Error",description:"Job ID is required for file upload",variant:"destructive"});return}f(!0);try{const S=[];for(const F of C){const E=`${F.name}-${Date.now()}`;u(I=>[...I,{artifactId:E,fileName:F.name,progress:0,status:"uploading"}]);try{const I={file_name:F.name,mime_type:F.type},T=await vt.uploadArtifact(r,I);u(A=>A.map(D=>D.artifactId===E?{...D,progress:25,artifactId:T.artifact_id,file_path:T.file_path}:D)),await vt.uploadFileToUrl(T.upload_url,F.file),u(A=>A.map(D=>D.artifactId===T.artifact_id?{...D,progress:50}:D)),S.push({artifact_id:T.artifact_id,entity_id:r,entity_type:"job",visibility:"public",file_name:F.name,description:F.description||void 0,file_path:T.file_path})}catch(I){u(T=>T.map(A=>A.artifactId===E?{...A,status:"failed",error:I.message}:A)),a?.(F.name,I.message),m({title:"Upload Failed",description:`Failed to upload ${F.name}: ${I.message}`,variant:"destructive"})}}if(S.length>0)try{await vt.batchFinalizeArtifactUpload({artifacts:S}),u(F=>F.map(E=>S.find(T=>T.artifact_id===E.artifactId)?{...E,progress:100,status:"completed"}:E)),S.forEach(F=>{i?.(F.artifact_id,F.file_name)}),m({title:"Upload Complete",description:`${S.length} file(s) uploaded successfully`})}catch(F){u(E=>E.map(I=>S.find(A=>A.artifact_id===I.artifactId)?{...I,status:"failed",error:F.message}:I)),m({title:"Finalization Failed",description:`Failed to finalize uploads: ${F.message}`,variant:"destructive"})}l([])}catch{m({title:"Upload Failed",description:"Failed to upload files. Please try again.",variant:"destructive"})}finally{f(!1)}},[o,r,i,a,m]),_=d.useCallback(C=>{l(S=>S.filter((F,E)=>E!==C))},[]),N=d.useCallback(()=>{l([]),u([])},[]),j=d.useCallback(()=>{u(C=>C.filter(S=>S.status!=="completed"))},[]);return{files:o,uploadProgress:c,isProcessing:p,handleFileSelect:g,openFilePicker:b,uploadFile:y,uploadAllFiles:w,removeFile:_,clearFiles:N,clearCompletedUploads:j,hasFiles:o.length>0,hasUploads:c.length>0}}function e$(){const{getCurrentOrganizationId:e,isOrganizationWorkspace:n}=hs(),{restrictedFree:s}=gi(),r=Hr(),i=Sa(),{personalTier:a,orgTier:o}=xs();return{handleBuyCredits:d.useCallback((c={})=>{const{source:u="unknown",jobId:p,remainingCredits:f,additionalTrackingData:m={}}=c,h="personal";if(i){try{const x=a,g=x!=="free",v=lu("buy-credits",g),{title:b,description:y}=Ro("buy-credits");window?.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({type:"TRIGGER_SUBSCRIPTION",planType:h,organizationId:void 0,triggerLocation:"buy-credits",currentTier:x,hasActiveSubscription:g,title:b,description:y,...v&&{modalType:v}}))}catch{}H("buy_credits_button_clicked",{source:u,jobId:p,remainingCredits:f,planType:h,isMobileApp:!0,...m});return}H("buy_credits_button_clicked",{source:u,jobId:p,remainingCredits:f,...m}),r.open({planType:h,triggerLocation:"default"})},[i,n,e,r,a,o]),isMobileApp:i,isRestrictedFreeUser:s}}function li(e){const n=J5e(),s=e||n;return br(i=>s?BX(i,s):!1)&&Gie()}const X4e=K.files.pdf,lI=K.files.csv,Q4e=K.files.doc,ebe=K.files.ppt,tbe=K.files.txt,nbe=K.files.video,t$=K.files.svg,cI=K.files.other,n$=K.files.zip,sbe=(e,n)=>n&&["image/jpeg","image/png","image/gif","image/webp"].includes(n)?!0:[".jpg",".jpeg",".png",".gif",".webp"].some(i=>e.toLowerCase().endsWith(i)),rbe=(e,n)=>n==="image/svg+xml"||e.toLowerCase().endsWith(".svg"),ibe=e=>{if(!e)return"";if(e===0)return"0 B";const n=1024,s=["B","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(1))+" "+s[r]},abe=(e,n=20)=>{if(e.length<=n)return e;const s=e.lastIndexOf(".");if(s===-1)return e.substring(0,n-3)+"...";const r=e.substring(s),i=e.substring(0,s),a=n-r.length-3;return a<=0?"..."+r:i.substring(0,a)+"..."+r},obe=(e,n)=>{if(!e&&!n)return cI;const s=e?.toLowerCase()||"";return s.endsWith(".pdf")||n==="application/pdf"?X4e:s.endsWith(".csv")||n==="text/csv"?lI:s.endsWith(".doc")||s.endsWith(".docx")||n==="application/msword"||n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?Q4e:s.endsWith(".ppt")||s.endsWith(".pptx")||n==="application/vnd.ms-powerpoint"||n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?ebe:s.endsWith(".txt")||s.endsWith(".md")||s.endsWith(".log")||n==="text/plain"||n==="text/markdown"?tbe:s.endsWith(".zip")||s.endsWith(".tar")||s.endsWith(".rar")||s.endsWith(".7z")?n$:s.endsWith(".mp4")||s.endsWith(".avi")||s.endsWith(".mov")||s.endsWith(".wmv")||s.endsWith(".mkv")||n?.startsWith("video/")?nbe:s.endsWith(".svg")||n==="image/svg+xml"?t$:s.endsWith(".xls")||s.endsWith(".xlsx")||n==="application/vnd.ms-excel"||n==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?lI:cI};function lbe({artifact:e}){const n=sbe(e.file_name,e.mime_type),s=rbe(e.file_name,e.mime_type),r=obe(e.file_name,e.mime_type),i=r===n$,a=e.local_preview_url||e.file_path;return n?t.jsx("div",{className:"flex items-center gap-2 min-h-[44px] max-h-[44px] max-w-[44px] min-w-[44px]  rounded-[8px] overflow-clip",children:t.jsx("img",{src:a,alt:e.file_name,className:"flex h-[44px] object-cover w-[44px] items-center justify-center"})}):s&&a?t.jsx("div",{className:"flex items-center gap-2 min-h-[44px] max-h-[44px] max-w-[44px] min-w-[44px] rounded-[8px] overflow-clip",children:t.jsx("img",{src:a,alt:e.file_name,className:"flex h-[44px] object-contain w-[44px] items-center justify-center",onError:o=>{const l=o.target;l.src=t$,l.className="w-8 h-8"}})}):t.jsx("div",{className:"flex items-center gap-2 min-h-[44px] max-h-[44px] min-w-[100px] p-1 pr-4 bg-[#FFFFFF0D] rounded-[8px]",children:t.jsxs("div",{className:"flex items-center flex-1 h-full min-w-0 gap-2",children:[t.jsx("img",{src:r,alt:"File",className:k("w-8 h-8",i&&"p-1")}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-[14px] font-medium font-['Inter'] text-[#FFFFFFCC] truncate text-nowrap",children:abe(e.file_name,20)}),e.file_size&&t.jsx("div",{className:"text-[12px] font-['Inter'] font-medium text-white/40 mt-0.5",children:ibe(e.file_size)})]})]})},e.artifact_id)}const cbe=K.common.whiteGithub,dbe=K.github.gitDot,ube=K.fork.fork,pbe=K.icons.animatedSpinner,fbe=({isOpen:e,onOpenChange:n,isGitHubConnected:s=!1,onSaveToGitHub:r,isGitHubDisabled:i=!1,onForkClick:a,isForkDisabled:o=!1,forkStatus:l=null,ultraMode:c=!1,onUltraModeChange:u,isUltraDisabled:p=!1,tier:f,onUpgradeRequired:m,getCurrentOrganizationId:h})=>{const x=g=>{f==="pro_mode"||h?.()?(H(g?"ultra_mode_enabled":"ultra_mode_disabled",{source:"mobile_settings_bottom_sheet"}),u?.(g)):(H("ultra_mode_upgrade_required",{source:"mobile_settings_bottom_sheet",currentTier:f}),m?.())};return t.jsxs(Fa,{open:e,onOpenChange:n,showDefaultFooter:!1,contentPadding:"p-0",showCancel:!0,onCancel:()=>n(!1),title:"Settings",maxWidth:"max-w-full",trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsx("div",{className:"space-y-4 bg-[#111112] px-4 pb-4 rounded-t-2xl",children:t.jsxs("div",{className:"flex flex-col pt-4 space-y-4",children:[t.jsxs("div",{className:k("flex items-center justify-between p-4 rounded-[12px] transition-colors",c?"bg-[#FF8C661A]":"bg-[#FFFFFF0F]"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Xl,{color:c?"#FF8C66":"#ffffff",size:24}),t.jsx("div",{className:"flex flex-col items-start",children:t.jsx("span",{className:k("font-medium transition-colors",c?"text-[#FF8C66]":"text-white"),children:"Ultra thinking"})})]}),t.jsx(mf,{checked:c,onCheckedChange:x,disabled:p,className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66]"})]}),t.jsxs("button",{disabled:i,onClick:()=>{H("github_push_button_clicked",{source:"mobile_settings_bottom_sheet",isGitHubConnected:s}),r?.(),n(!1)},className:k("flex items-center justify-between p-4 rounded-[12px] bg-[#FFFFFF0F] hover:bg-[#FFFFFF14] transition-colors",i&&"opacity-50 cursor-not-allowed"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:s?dbe:cbe,alt:"GitHub",className:k("w-6 h-6",s?"scale-[1.2]":"")}),t.jsx("span",{className:"font-medium text-white",children:"Save to GitHub"})]}),t.jsx("div",{className:"w-2 h-2 rounded-full bg-white/30"})]}),t.jsxs("button",{disabled:o||l==="running",onClick:()=>{H("fork_button_clicked",{source:"mobile_settings_bottom_sheet",forkStatus:l}),a?.(),n(!1)},className:k("flex items-center justify-between p-4 rounded-[12px] transition-colors",l==="running"?"bg-[#80FFF90D] cursor-not-allowed":"bg-[#FFFFFF0F] hover:bg-[#FFFFFF14]",o&&l!=="running"&&"opacity-50 cursor-not-allowed"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:l==="running"?pbe:ube,alt:"Fork",className:"w-6 h-6"}),t.jsx("span",{className:k("font-medium",l==="running"?"text-[#80FFF9]":"text-white"),children:l==="running"?"Forking...":"Fork"})]}),t.jsx("div",{className:"w-2 h-2 rounded-full bg-white/30"})]})]})})]})},X2=({size:e=20,color:n="currentColor",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M7.58584 4.5374C8.08417 3.07906 10.0992 3.0349 10.69 4.4049L10.74 4.53823L11.4125 6.5049C11.5666 6.95592 11.8157 7.36865 12.1429 7.71525C12.47 8.06184 12.8678 8.33424 13.3092 8.51406L13.49 8.58156L15.4567 9.25323C16.915 9.75156 16.9592 11.7666 15.59 12.3574L15.4567 12.4074L13.49 13.0799C13.0388 13.2339 12.6259 13.4829 12.2792 13.8101C11.9324 14.1373 11.6599 14.5351 11.48 14.9766L11.4125 15.1566L10.7408 17.1241C10.2425 18.5824 8.2275 18.6266 7.6375 17.2574L7.58584 17.1241L6.91417 15.1574C6.76015 14.7062 6.51115 14.2933 6.18395 13.9466C5.85676 13.5998 5.459 13.3273 5.0175 13.1474L4.8375 13.0799L2.87084 12.4082C1.41167 11.9099 1.3675 9.8949 2.7375 9.3049L2.87084 9.25323L4.8375 8.58156C5.28853 8.42744 5.70126 8.17839 6.04786 7.8512C6.39445 7.52402 6.66685 7.12631 6.84667 6.6849L6.91417 6.5049L7.58584 4.5374ZM15.83 1.66406C15.9859 1.66406 16.1387 1.70779 16.271 1.79029C16.4032 1.87278 16.5097 1.99073 16.5783 2.13073L16.6183 2.22823L16.91 3.08323L17.7658 3.3749C17.9221 3.42798 18.059 3.52624 18.1594 3.65724C18.2597 3.78824 18.3189 3.94608 18.3294 4.11075C18.3399 4.27542 18.3013 4.43951 18.2185 4.58222C18.1357 4.72493 18.0124 4.83985 17.8642 4.9124L17.7658 4.9524L16.9108 5.24406L16.6192 6.0999C16.566 6.25609 16.4677 6.39298 16.3366 6.49322C16.2056 6.59347 16.0477 6.65256 15.883 6.663C15.7184 6.67344 15.5543 6.63477 15.4117 6.55188C15.269 6.46899 15.1541 6.34562 15.0817 6.1974L15.0417 6.0999L14.75 5.2449L13.8942 4.95323C13.7379 4.90015 13.601 4.80188 13.5006 4.67088C13.4003 4.53988 13.3411 4.38205 13.3306 4.21738C13.3201 4.05271 13.3587 3.88862 13.4415 3.74591C13.5243 3.60319 13.6476 3.48828 13.7958 3.41573L13.8942 3.37573L14.7492 3.08406L15.0408 2.22823C15.097 2.06358 15.2033 1.92065 15.3449 1.81948C15.4864 1.7183 15.656 1.66396 15.83 1.66406Z",fill:n})}),Gc=pK,qc=fK,td=d.forwardRef(({className:e,align:n="center",sideOffset:s=4,...r},i)=>t.jsx(uK,{children:t.jsx(J8,{ref:i,align:n,sideOffset:s,className:k("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));td.displayName=J8.displayName;const mbe=mK,s$=d.forwardRef(({className:e,align:n="center",sideOffset:s=4,...r},i)=>t.jsx(J8,{ref:i,align:n,sideOffset:s,className:k("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));s$.displayName="PopoverContentNested";const r$=({title:e,description:n,qrCodeUrl:s,align:r="center",source:i,children:a})=>{const[o,l]=d.useState(!1),[c,u]=d.useState(!1),p=d.useRef(),f=o||c,m=()=>{clearTimeout(p.current),c||(l(!0),H(wp.QR_CTA_HOVER,{source:i}))},h=()=>{c||(p.current=setTimeout(()=>l(!1),150))},x=b=>{b.preventDefault(),u(y=>!y),l(!1),H(wp.QR_CTA_CLICK,{source:i})},g=b=>{b||(u(!1),l(!1))},v=typeof a=="function"?a(f):a;return t.jsxs(Gc,{open:f,onOpenChange:g,children:[t.jsx(qc,{asChild:!0,children:t.jsx("div",{onMouseEnter:m,onMouseLeave:h,onClick:x,children:v})}),t.jsxs(td,{side:"bottom",align:r,sideOffset:24,className:"bg-[#19191a] rounded-2xl p-2 w-[240px] border border-[#242424]",onMouseEnter:m,onMouseLeave:h,children:[t.jsx("div",{className:"flex justify-center px-2 py-3 bg-[#FFFFFF0A] rounded-xl",children:t.jsx("img",{src:`${ie}/${s}`,alt:"QR Code",className:"h-[100px]"})}),t.jsx("p",{className:"mt-2 text-center text-[#F2F5F7] text-base font-medium",children:e}),t.jsx("p",{className:"m-1 text-center text-[#f2f5f799] text-sm",children:n})]})]})};function x8(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...e,children:t.jsx("path",{d:"M9 16C9 15.4477 8.5523 15 8 15H6C5.44771 15 5 15.4477 5 16V18C5 18.5523 5.44771 19 6 19H8C8.5523 19 9 18.5523 9 18V16ZM13 20V19.9902C13 19.438 13.4477 18.9902 14 18.9902C14.5523 18.9902 15 19.438 15 19.9902V20C15 20.5523 14.5523 21 14 21C13.4477 21 13 20.5523 13 20ZM17 20V18C17 17.4477 17.4477 17 18 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H19V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20ZM13 14C13 13.4477 13.4477 13 14 13C14.5523 13 15 13.4477 15 14V15H16C16.5523 15 17 15.4477 17 16C17 16.5523 16.5523 17 16 17H14C13.4477 17 13 16.5523 13 16V14ZM20 13C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H18C17.4477 15 17 14.5523 17 14C17 13.4477 17.4477 13 18 13H20ZM9 6C9 5.44771 8.55229 5 8 5H6C5.44771 5 5 5.44771 5 6V8C5 8.55229 5.44771 9 6 9H8C8.55229 9 9 8.55229 9 8V6ZM19 6C19 5.44771 18.5523 5 18 5H16C15.4477 5 15 5.44771 15 6V8C15 8.5523 15.4477 9 16 9H18C18.5523 9 19 8.5523 19 8V6ZM11 18C11 19.6569 9.65685 21 8 21H6C4.34315 21 3 19.6569 3 18V16C3 14.3431 4.34315 13 6 13H8C9.65685 13 11 14.3431 11 16V18ZM11 8C11 9.65685 9.65685 11 8 11H6C4.34315 11 3 9.65685 3 8V6C3 4.34315 4.34315 3 6 3H8C9.65685 3 11 4.34315 11 6V8ZM21 8C21 9.65685 19.6569 11 18 11H16C14.3431 11 13 9.65685 13 8V6C13 4.34315 14.3431 3 16 3H18C19.6569 3 21 4.34315 21 6V8Z",fill:"currentColor"})})}const hbe=K.common.attach,xbe=K.common.folderAdd,gbe=K.common.pause,bbe=K.common.send,M6=K.common.attachmentCross,ybe=K.common.whiteGithub,vbe=K.common.visualEdit,wbe=K.icons.animatedSpinner,Cbe=K.github.gitDot,_be=K.fork.fork,jbe=K.upload.close,Nbe=K.panels.phone,R6=d.memo(function(){return t.jsx("img",{src:vbe,alt:"Visual Editing",className:"w-4 h-4",style:{filter:"brightness(0) saturate(100%) invert(71%) sepia(43%) saturate(424%) hue-rotate(182deg) brightness(102%) contrast(101%)"}})}),L6=d.memo(function({elementName:n}){return t.jsxs("div",{className:"flex items-center",style:{gap:"4px",padding:"6px 8px",height:"24px",borderRadius:"6px",backgroundColor:"rgba(1, 97, 209, 0.2)",border:"1px solid rgba(83, 169, 255, 0.4)"},children:[t.jsx("div",{className:"flex items-center justify-center",style:{width:"12px",height:"12px",flexShrink:0},children:t.jsx("svg",{width:"10",height:"10",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.93934 1.06066L7 0L8.06066 1.06066L12.9393 5.93934L14 7L12.9393 8.06066L8.06066 12.9393L7 14L5.93934 12.9393L1.06066 8.06066L0 7L1.06066 5.93934L5.93934 1.06066ZM2.12132 7L7 11.8787L11.8787 7L7 2.12132L2.12132 7Z",fill:"#53A9FF"})})}),t.jsx("span",{style:{fontWeight:500,fontSize:"14px",lineHeight:"1em",color:"#53A9FF",textAlign:"center"},children:n})]})}),P6=d.memo(function({status:n,colors:s}){const r=s[n].color||"#5FD3F3";return t.jsx("div",{className:k("w-4 h-4 rounded-lg flex justify-center items-center",n!="stopped"&&n!="exit_cost"&&"animate-status-pulse"),style:{backgroundColor:`${r}20`,"--status-pulse-color":`${r}70`,"--status-pulse-transparent":`${r}00`},children:t.jsx("div",{className:"w-2 h-2 rounded",style:{backgroundColor:r}})})}),O6=d.memo(function({status:n,colors:s,statusText:r}){const i=li();return t.jsx("span",{"data-testid":Wr.status,className:k("font-medium md:text-nowrap",i?"text-[14px] leading-5":"text-[15px] md:text-[16px]"),style:{color:s[n].color,whiteSpace:"normal"},children:r[n]})}),bC=d.memo(({onSubmit:e,placeholder:n="Message Neo",isDisabled:s,agentState:r,agentStatus:i,containerId:a,jobDetails:o,newJob:l,acc_cost:c,max_budget:u,isCloudFlow:p,inputValue:f,modelName:m,agentName:h,isSubagentActive:x,hideStatus:g=!1,disableWhenSubagentActive:v=!1,onPause:b,onOpenSubagentPanel:y,showFinishSubagentText:w,pauseWasClicked:_,onImagesChange:N,lastGithubUsed:j,subagentName:C,onGitHubPush:S,modalOpen:F,setModalOpen:E,fromSubagentPanel:I=!1,isMoltbot:T=!1,isPauseLoading:A,buildMode:D,forked_status:O,onOpenUploadAssetsModal:M,ultraMode:L=!1,onUltraModeChange:P,autoMessageEnabled:B=!1,visualEditMode:G=!1,onVisualEditModeChange:$,selectedElementName:te=null,enableVisualEdit:U,visualEditDisabled:oe,hasUnsavedVisualEditChanges:Y=!1,onSaveVisualEditChanges:W,onDiscardVisualEditChanges:Z,isVisualEditChangesEnabled:le,showUnsavedChangesModal:q,isRemix:Q=!1,isPerceivedUXMode:he=!1,aiMessagesCount:me=0,salesmanFinished:ce=!1})=>{const ee=li(),{toast:J}=ns(),re=zf(),xe=jr(P5),ae=jr(Pe=>g9(Pe,xe)),Fe=jr(Pe=>I?"":MX(Pe,xe)),[se]=$P(),[_e,{isLoading:Re}]=eO(),[Se]=Hre(),[Ne,ge]=d.useState(Fe),[Ce,$e]=d.useState(!1),[dt,Me]=d.useState(!1),[we,Te]=d.useState(!1),[ze,_t]=d.useState(!1),[Bt,qe]=d.useState(!1),[Ae,Le]=d.useState(!1),[Ut,tt]=d.useState(!1),[xt,St]=d.useState(!1),[It,kt]=d.useState(!1),[Ot,Ie]=d.useState(null),nt=Re,We=Hr(),{handleBuyCredits:Lt}=e$(),pt=d.useRef(null),ft=d.useRef(null),Tt=d.useRef(null),Gt=d.useRef(0),[Ze,ut]=d.useState("normal"),[Qt,Sn]=d.useState(!1),yn=d.useMemo(()=>Tie(),[]),{isMobile:Ee}=ts(),[Ke,mt]=d.useState(0);d.useEffect(()=>{if(typeof window>"u"||!window.visualViewport||!(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1))return;const Ct=window.visualViewport,An=window.innerHeight,Hn=()=>{const ls=Ct.height,Rr=An-ls;mt(Rr>100?Rr:0)};return Ct.addEventListener("resize",Hn),Ct.addEventListener("scroll",Hn),()=>{Ct.removeEventListener("resize",Hn),Ct.removeEventListener("scroll",Hn)}},[]);const Ge=A??!1,{isConnected:At}=Du(),{user:Cn}=os(),{getCurrentOrganizationId:Mt}=hs(),{sendMessage:Pn,isMobileApp:wn}=K9(),{credits:In,dailyCreditsEnabled:us,creditResponse:Kt,refreshCredits:dn,personalTier:gt}=xs(),{pro:ps,restrictedFree:Zn,isEmergentUser:$s,userDetails:Ls,tier:ys,ownerHasProAccess:zn,isOrganizationWorkspace:_n,isCurrentWorkspaceOwner:Wn}=gi(),{getPendingMessage:As,getActiveTab:tr,removePendingMessage:Ht}=hi(),[zs,Ve]=d.useState(!1),[lt,$t]=d.useState(!1),Tn=N2(),{isMobile:Yt}=ts(),Is=W9(),nn=d.useMemo(()=>_n()?zn:!1,[_n,zn]),Ue=d.useMemo(()=>$s&&dt,[$s,dt]),{compressImage:Nt,getMimeType:bn}=i3({maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"});d.useEffect(()=>{$t(Tn)},[o,N2]),d.useEffect(()=>{if(!VX()&&!(i!=="waiting"&&i!=="subagent_waiting"||D!=="build"||x)&&!Yt){const An=setTimeout(()=>{_t(!0)},1e3);return()=>clearTimeout(An)}},[i,D,x]),d.useEffect(()=>{const Pe=Ct=>{if((Ct.metaKey||Ct.ctrlKey)&&Ct.key==="e"){if(!(U&&!I&&!Yt)||(i!=="waiting"&&i!=="subagent_waiting"||D!=="build"||x))return;Ct.preventDefault(),Ct.stopPropagation();const ls=!G;if(!ls&&Y){q?.({onConfirm:Jn,title:"You have unsaved changes",description:"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:{text:"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"}});return}H(ls?Xt.VISUAL_EDIT_ENABLED:Xt.VISUAL_EDIT_DISABLED,{jobId:o?.job_id,agentStatus:i,enableVisualEdit:U,source:"keyboard_shortcut"}),$?.(ls)}};return document.addEventListener("keydown",Pe),()=>{document.removeEventListener("keydown",Pe)}},[U,I,Yt,i,D,x,G,Y,o?.job_id,$,xe]);const Yn=d.useCallback(async()=>{W&&await W()},[W]),Jn=d.useCallback(()=>{Z&&Z(),G&&$?.(!1),H(Xt.VISUAL_EDIT_DISCARDED,{jobId:o?.job_id,agentStatus:i,source:"chat_input"})},[Z,G,$,o?.job_id,i]);d.useEffect(()=>{const Pe=Ct=>{(Ct.metaKey||Ct.ctrlKey)&&Ct.key==="s"&&G&&Y&&(Ct.preventDefault(),Ct.stopPropagation(),H(Xt.VISUAL_EDIT_SAVED,{jobId:o?.job_id,agentStatus:i,source:"keyboard_shortcut"}),Yn())};return document.addEventListener("keydown",Pe),()=>{document.removeEventListener("keydown",Pe)}},[G,Y,Yn,o?.job_id,i]);const fs=d.useCallback(()=>{_t(!1),$X()},[]),Gn=sH({maxImages:5,maxSizeInMB:200,maxPixelDimensions:8e3,maxPixelDimensionsMultiple:2e3,onImagesChange:N}),Fs=J4e({maxFiles:5,maxSizeInMB:200,jobId:o?.job_id,onUploadComplete:(Pe,Ct)=>{},onUploadError:(Pe,Ct)=>{}}),nr=d.useCallback(Pe=>{if(!Pe||Pe.length===0)return;const Ct=Array.from(Pe),An=200*1024*1024,Hn=Ct.filter(ls=>ls.size>An);if(Hn.length>0){J({title:"File too large",description:`Files must be smaller than 200MB. ${Hn.length} file(s) exceed this limit.`,variant:"destructive"});return}if(I||!lt||he){const ls=Ct.filter(Ri=>Ri.type.startsWith("image/")&&["image/jpeg","image/png","image/gif","image/webp"].includes(Ri.type)),Rr=Ct.filter(Ri=>!Ri.type.startsWith("image/")),Jt=Gn.images.length+Fs.files.length+ae.length;if(Jt+Ct.length>5){J({title:"Too many attachments",description:`Maximum 5 attachments allowed. Currently have ${Jt} (${ae.length} uploaded + ${Gn.images.length+Fs.files.length} selected), trying to add ${Ct.length}.`,variant:"destructive"});return}ls.length>0&&Gn.handleImageSelect(ls),Rr.length>0&&o?.job_id&&Fs.handleFileSelect(Rr)}else{if(ae.length>=5){J({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${ae.length} uploaded files.`,variant:"destructive"});return}if(ae.length+Ct.length>5){J({title:"Too many attachments",description:`Maximum 5 attachments allowed. You have ${ae.length} uploaded files, trying to add ${Ct.length} more.`,variant:"destructive"});return}M?.(Ct)}},[I,lt,he,M,Gn,Fs,o?.job_id,ae,J]),an=d.useCallback(Pe=>{const Ct=Pe.target.files;if(Ct&&Ct.length>0)if(I||!lt||he)nr(Ct);else{const An=Array.from(Ct);M?.(An)}Tt.current&&(Tt.current.value="")},[I,nr,lt,he,M]),Ws=d.useCallback(()=>{if(!Un){if(H("attachment_button_clicked",{jobId:o?.job_id,isUploadAssetEnabled:lt,fromSubagentPanel:I}),!I&&ae.length>=5){J({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${ae.length} uploaded files.`,variant:"destructive"});return}if(I||!lt||he)ir();else{qe(!Bt);return}}},[I,Bt,lt,he,ae,J,o?.job_id]),ir=d.useCallback(()=>{if(!I&&ae.length>=5){J({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${ae.length} uploaded files.`,variant:"destructive"});return}Tt.current?Tt.current.click():Gn.openFilePicker(),qe(!1)},[Gn,I,ae,J]),vr=d.useCallback(()=>{if(H("upload_asset_button_clicked",{jobId:o?.job_id,pendingArtifactCount:ae.length}),ae.length>=5){J({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${ae.length} uploaded files.`,variant:"destructive"});return}Tt.current&&Tt.current.click(),qe(!1)},[ae,J,o?.job_id]),rs=d.useCallback(Pe=>{re(_X({tabId:xe,artifactId:Pe})),J({title:"File removed",description:"Attachment has been removed successfully"})},[re,xe,J]);d.useEffect(()=>{f&&ge(f)},[f]),d.useEffect(()=>{I||ge(Fe)},[Fe,xe,I]),d.useEffect(()=>{if(I)return;const Pe=setTimeout(()=>{re(jX({tabId:xe,text:Ne}))},300);return()=>clearTimeout(Pe)},[Ne,xe,re,I]),d.useEffect(()=>{const Pe=Ct=>{ft.current&&!ft.current.contains(Ct.target)&&qe(!1)};return Bt&&document.addEventListener("mousedown",Pe),()=>{document.removeEventListener("mousedown",Pe)}},[Bt]),d.useEffect(()=>{(i==="running"||i==="subagent_running")&&me>2&&ys==="free"&&yn&&!Qt&&!Yt&&!I?ut("mobile_app_promo"):B&&i==="waiting"&&!I?ut("auto_message"):!I&&(us&&Kt&&Zn&&Kt.ecu_balance<=5||D==="salesman_agent"&&ce&&In<=0)?ut("credit_exhausted"):ut("normal")},[Kt,us,B,i,I,Zn,yn,Qt,Yt,ys,me,D,ce,In]);const Bs=()=>{if(D==="salesman_agent"&&ce&&In<=0)return Ee?"Credit Exhausted":"You have exhausted all of your credits.";if(!Kt||!us)return null;const Pe=Kt.ecu_balance;return Pe<=0?Ee?"Credit Exhausted":"You have exhausted all of your credits.":Pe<=5?t.jsxs(t.Fragment,{children:[Pe.toFixed(2)," free credit remaining!"]}):null},_s=d.useCallback(async()=>{!o?.job_id||!r?.agent_running||(H("pause_button_clicked",{jobId:o?.job_id,agentStatus:i,fromSubagentPanel:I}),b&&b({origin:I?"SubagentButton":"MainInput"}))},[o?.job_id,r?.agent_running,b,i,I]),wr=d.useCallback(async()=>{if(!(!o?.job_id||Ut)){tt(!0);try{await vt.cloneEnvironment(o.job_id),J({title:"Clone Complete",description:"Environment has been successfully cloned."})}catch(Pe){J({title:"Clone Failed",description:Pe?.message||"Failed to clone environment.",variant:"destructive"})}finally{tt(!1)}}},[o?.job_id,Ut,J]),Gs=d.useCallback(async Pe=>{const Ct=Pe||Ne.trim();if(!o?.job_id||!Ct)return;if(_n()&&!Wn&&In<=0){J({title:"Insufficient Credits",description:"Please ask the owner of this project to add more credits to continue.",variant:"destructive"});return}if(Ct.length>Ac){J({title:"Message too long",description:`Message cannot exceed ${Ac.toLocaleString()} characters. Current: ${Ct.length.toLocaleString()}`,variant:"destructive"});return}if(Ue){await vt.handleHimMessage(o.job_id,Ct),ge(""),!I&&ae.length>0&&re(Rv({tabId:xe}));return}const An=Gn.images.length>0?Gn.images.map(Je=>({mime_type:Je.mime_type,img_base64:Je.img_base64})):[];let Hn=[];if(!I)try{Hn=await Promise.all(ae.filter(Je=>{if(!Je.readByAgent)return!1;const kr=["image/jpeg","image/png","image/gif","image/webp"],Yr=Je.mime_type&&kr.includes(Je.mime_type),Ps=/\.(jpg|jpeg|png|gif|webp)$/i.test(Je.file_name);return Yr||Ps}).map(async Je=>{try{const kr=Je.local_preview_url||Je.file_path;if(!kr)return null;const Yr=await fetch(kr);if(!Yr.ok)return null;const Ps=await Yr.blob(),yi=await Nt(Ps);return yi?{mime_type:bn("jpeg"),img_base64:yi.base64}:null}catch{return null}}))}catch{Hn=[]}const ls=Hn.filter(Je=>Je!==null),Rr=[...An,...ls],Jt=Ct,bi=Rr;e(Jt,Rr,I?[]:ae),ge(""),I||re(mN({tabId:xe})),Gn.images.length>0&&Gn.clearImages(),!I&&ae.length>0&&re(Rv({tabId:xe}));try{const Je=Mt(),kr=Cn?.id,Yr={processor_type:"env_only",is_cloud:!0,task:Jt,prompt_name:"",prompt_version:"latest",work_space_dir:"",model_name:m||"claude-3-5-sonnet-20241022",env_image:"",base64_image_list:bi,human_timestamp:new Date().toISOString(),is_pro_user:ps,thinking_level:L?"ultra_mode":"thinking",...Je&&{organization_id:Je},...kr&&{user_id:kr}};let Ps;!I&&ae.length>0&&(Ps={artifacts:ae.map(yi=>({artifact_id:yi.artifact_id,entity_id:yi.entity_id,entity_type:yi.entity_type,visibility:yi.visibility,file_name:yi.file_name,description:yi.description,file_path:yi.file_path}))}),await se({payload:Yr,client_ref_id:o?.job_id,resume:!0,finalize_artifact_upload:Ps}).unwrap();try{H("message_sent_successfully",{jobId:o?.job_id,messageLength:Jt.length,message:Ck(Jt),hasImages:bi.length>0,imageCount:bi.length,hasArtifacts:ae.length>0,artifactCount:ae.length,ultraMode:L})}catch{}}catch(Je){Ht(tr().id,Jt),ge(Jt);const kr=Je?.data?.detail||Je?.response?.data?.detail||Je?.message||"Failed to resume agent";J({title:"Error",description:kr,variant:"destructive"})}},[o?.job_id,a,Ne,p,J,m,Gn,$s,dt,Cn?.id,Ue,In,_n,Wn]),Sr=d.useCallback(async Pe=>{if(xt)return;const Ct=Ls?.llm_auto_hitl_enabled;if(H("auto_answer_button_clicked",{location:Pe,jobId:o?.job_id,agentStatus:i}),o?.job_id&&Ct){St(!0);try{const An=await Se(o.job_id).unwrap();if(An?.auto_answer){const Hn=`<auto_response>${An.auto_answer}</auto_response>`;Gs(Hn)}}catch{}finally{St(!1)}}else St(!0),Gs("Assume Default and Proceed"),St(!1)},[xt,o?.job_id,i,Se,Gs]),ve=d.useCallback(Pe=>{if(Pe.preventDefault(),Pe.stopPropagation(),ps)H(L?Za.ULTRA_MODE_DISABLED:Za.ULTRA_MODE_ENABLED,{source:"chat_input_desktop",jobId:o?.job_id,agentStatus:i}),P?.(!L);else{if(H(Za.ULTRA_MODE_UPGRADE_REQUIRED,{source:"chat_input_desktop",currentTier:ys,jobId:o?.job_id}),_n()&&!Wn){J({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}if(wn){const Ct="personal",An=gt,Hn=An!=="free",ls="ultraThinkingModal",Rr=lu(ls,Hn),{title:Jt,description:bi}=Ro(ls);Pn("TRIGGER_SUBSCRIPTION",{planType:Ct,organizationId:void 0,triggerLocation:ls,currentTier:An,hasActiveSubscription:Hn,title:Jt,description:bi,...Rr&&{modalType:Rr}})}else We.open({triggerLocation:"ultraThinkingModal"})}},[ps,L,o?.job_id,i,P,ys,_n,Wn,J,wn,gt,We]),Xe=d.useMemo(()=>{const Pe=An=>({color:AH(An,C,x)});return{running:Pe("running"),waiting:Pe("waiting"),exit_cost:Pe("exit_cost"),stopped:Pe("stopped"),stopping:Pe("stopping"),subagent_running:Pe("subagent_running"),subagent_waiting:Pe("subagent_waiting"),subagent_stopping:Pe("subagent_stopping"),forking:Pe("forking")}},[C,x]),at=d.useMemo(()=>{const Pe=()=>h||"Agent",Ct=()=>C?kh(C):"Subagent";return{exit_cost:`${Pe()} is offline`,running:`${Pe()} is running...`,waiting:`${Pe()} is waiting...`,stopped:`${Pe()} is offline`,stopping:`${Pe()} is stopping...`,subagent_running:`${Ct()} is running...`,subagent_waiting:`${Ct()} is waiting...`,subagent_stopping:`${Ct()} is stopping...`,forking:"Forking is in progress..."}},[h,C]),un=(Pe="bottom")=>{const Ct={running:`linear-gradient(to ${Pe}, rgba(255, 255, 255, 0.02) 0%, rgba(103, 203, 101, 0.2) 100%)`,waiting:`linear-gradient(to ${Pe}, rgba(255, 255, 255, 0.02) 0%, rgba(95, 211, 243, 0.2) 100%)`,stopped:`linear-gradient(to ${Pe}, rgba(255, 255, 255, 0.02) 0%, rgba(123, 123, 128, 0.2) 100%)`,stopping:`linear-gradient(to ${Pe}, rgba(255, 255, 255, 0.02) 0%, rgba(244, 155, 87, 0.2) 100%)`,exit_cost:`linear-gradient(to ${Pe}, rgba(255, 255, 255, 0.02) 0%, rgba(123, 123, 128, 0.2) 100%)`,mobile_app_promo:`linear-gradient(to ${Pe}, rgba(128, 255, 249, 0.00) 0%, rgba(128, 255, 249, 0.08) 100%), rgba(255, 255, 255, 0.04)`};if(Ze==="mobile_app_promo")return Ct.mobile_app_promo;if(I)return Ct[i]||Ct.stopped;if(x&&C){const An=i.startsWith("subagent_")?i.replace("subagent_",""):"waiting";return D0e(C,An,Pe)}return i.startsWith("subagent_")?`linear-gradient(to ${Pe}, rgba(255, 255, 255, 0.2) 0%, rgba(221, 153, 255, 1) 100%)`:Ct[i]||Ct.stopped},Xn=d.useMemo(()=>{if(Ge)return t.jsx(tn,{className:"w-6 h-6 text-gray-500 animate-spin"});switch(i){case"running":case"subagent_running":case"stopping":case"subagent_stopping":return t.jsx("img",{src:gbe,className:"w-6 h-6",alt:"pause"});default:return t.jsx("img",{src:bbe,className:"w-6 h-6",alt:"send"})}},[i,Ge]),ke=d.useMemo(()=>Ge?!1:!["running","subagent_running","stopping","subagent_stopping"].includes(i),[i,Ge]),ye=d.useCallback(()=>{if(H("github_push_button_clicked",{jobId:o?.job_id,agentStatus:i,tier:ys,isPaywallEnabled:Is}),!nn&&Is&&Zn){if(_n()&&!Wn){J({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}We.open({planType:"personal",triggerLocation:"default"});return}$e(!0)},[Is,Zn,nn,_n,Wn,J,o?.job_id,i]),Et=d.useCallback(()=>{if(H("fork_button_clicked",{jobId:o?.job_id,agentStatus:i,tier:ys,isPaywallEnabled:Is,forked_status:O}),!nn&&Is&&Zn){if(_n()&&!Wn){J({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}We.open({planType:"personal",triggerLocation:"default"});return}O!=="running"&&(ze&&fs(),F&&E&&E({fork:!F.fork,visualEdits:!!F.visualEdits,unsavedChanges:!!F.unsavedChanges}))},[ze,fs,F,ys,Is,Zn,nn,_n,Wn,J,o?.job_id,i,O]),qt=d.useCallback(async()=>{if(!(we||!o?.job_id)){if(dt){Me(!1);return}Te(!0);try{await vt.initializeHimSession(o.job_id),Me(!0),J({title:"HIM mode activated",description:"You can now send messages as HIM"})}catch(Pe){const Ct=Pe?.data?.detail||Pe?.response?.data?.detail||Pe?.message||"Failed to initialize HIM session";J({title:"Error",description:Ct,variant:"destructive"})}finally{Te(!1)}}},[we,o?.job_id,dt,J]),Oe=d.useCallback(async()=>{try{const Pe=await navigator.mediaDevices.getUserMedia({audio:!0}),Ct=new MediaRecorder(Pe),An=[];Ct.ondataavailable=Hn=>{An.push(Hn.data)},Ct.onstop=async()=>{const Hn=new Blob(An,{type:"audio/mp3"});await it(Hn),Pe.getTracks().forEach(ls=>ls.stop())},Ct.start(),Ie(Ct),kt(!0),il("recording_started",{component:"ChatInput"})}catch{J({title:"Recording Error",description:"Could not access microphone. Please check permissions.",variant:"destructive"})}},[J]),He=d.useCallback(()=>{Ot&&It&&(Ot.stop(),kt(!1),Ie(null),il("recording_stopped",{component:"ChatInput"}))},[Ot,It]),it=d.useCallback(async Pe=>{try{il("transcription_started",{component:"ChatInput",audioSize:Pe.size});const Ct=new File([Pe],"recording.mp3",{type:"audio/mp3"}),An=await _e({audio_file:Ct,language_code:"en"}).unwrap();if(An.text){const Hn=Ne,ls=Hn?`${Hn} ${An.text}`:An.text;ge(ls),il("transcription_completed",{component:"ChatInput",textLength:An.text.length})}else throw new Error("No transcription data received")}catch(Ct){il("transcription_failed",{component:"ChatInput",error:Ct instanceof Error?Ct.message:"Unknown error"}),J({title:"Transcription Error",description:"Failed to transcribe audio. Please try again.",variant:"destructive"})}},[_e,Ne,J]),Ln=d.useCallback(()=>{It?He():Oe()},[It,He,Oe]),js=d.useMemo(()=>D==="salesman_agent"&&Ls?.salesman_job_id!=null&&o?.job_id===Ls.salesman_job_id&&!ce,[D,o?.job_id,Ls?.salesman_job_id,ce]),Un=d.useMemo(()=>js?!1:D==="salesman_agent"&&ce?In<=0:$s&&localStorage.getItem("mobile")!=="true"?!1:G||O=="running"||D=="brainstorming_done"&&i==="running"||(x||i==="subagent_waiting")&&!I||As(tr().id)?.content?!0:s,[js,D,ce,In,s,v,x,tr,As,c,u,$s,i,G]),on=d.useCallback(()=>{const Pe=pt.current;Pe&&(Pe.style.height="auto",Pe.style.height=`${Math.min(Pe.scrollHeight,200)}px`)},[]),sn=d.useCallback(Pe=>{ge(Pe.target.value),requestAnimationFrame(on);const Ct=Date.now();if(Pe.target.value.length>0&&Ct-Gt.current>5e3){Gt.current=Ct;try{H("chat_input_typing",{jobId:o?.job_id,messageLength:Pe.target.value.length,message:Ck(Pe.target.value)})}catch{}}},[on,o?.job_id]);d.useEffect(()=>{on()},[on]),d.useEffect(()=>{on()},[Ne,on]),d.useEffect(()=>{if(!Yt)return;const Pe=pt.current;if(!Pe)return;let Ct=0;const An=ls=>{Ct=ls.touches[0]?.clientY||0},Hn=ls=>{if(!(Pe.scrollHeight>Pe.clientHeight)){ls.preventDefault();return}const Jt=ls.touches[0]?.clientY||0,bi=Ct-Jt;Ct=Jt;const Ri=Pe.scrollTop===0,Je=Pe.scrollTop+Pe.clientHeight>=Pe.scrollHeight-1;(Ri&&bi<0||Je&&bi>0)&&ls.preventDefault()};return Pe.addEventListener("touchstart",An,{passive:!0}),Pe.addEventListener("touchmove",Hn,{passive:!1}),()=>{Pe.removeEventListener("touchstart",An),Pe.removeEventListener("touchmove",Hn)}},[Yt]);const On=d.useCallback(Pe=>{if(Pe.preventDefault(),Ne.length>Ac){J({title:"Message too long",description:`Message cannot exceed ${Ac.toLocaleString()} characters. Current: ${Ne.length.toLocaleString()}`,variant:"destructive"});return}if(he){if(!Ne.trim())return;const Ct=Gn.images.map(Hn=>({mime_type:Hn.mime_type,img_base64:Hn.img_base64})),An=Gn.images.map(Hn=>Hn.originalFile).filter(Hn=>Hn!==void 0);e(Ne,Ct,[],An),ge(""),re(mN({tabId:xe})),Gn.clearImages();return}if(!(Un&&i!=="subagent_running"&&i!=="running")){if(Ue){Gs();return}if(i==="running"||i==="subagent_running"||i==="stopping"||i==="subagent_stopping")_s();else if(i==="waiting"&&!I||i==="subagent_waiting"&&I){if(!Ne.trim())return;Gs(),ge("")}}},[he,e,Ne,s,Gn,i,_s,Gs,o,Un,$s,dt,Cn?.id,J]),rt=d.useMemo(()=>{if(js)return!!(ke&&!Ne.trim());if(he)return!Ne.trim();let Pe=!1;return(Ge||i==="subagent_waiting"||i==="running"&&D==="brainstorming_done"||_||!o?.job_id)&&(Pe=!0),i==="subagent_waiting"&&I&&(Pe=!1),O=="running"&&(Pe=!0),G&&(Pe=!0),ke&&!Ne.trim()&&(Pe=!0),Pe},[js,he,Ge,i,w,_,D,I,x,O,o?.job_id,G,ke,Ne]),gr=d.useMemo(()=>rt?ke&&!Ne.trim()?"cursor-default":"cursor-not-allowed":"cursor-pointer",[rt,ke,Ne]),Es=d.useCallback(()=>G?"Save your changes to continue chatting":O=="running"?"Please wait for forking to finish":n,[n,c,u,O,G]),{ForkDisabled:ar}=d.useMemo(()=>G?{ForkDisabled:!0,ForkDisabledReason:"Cannot fork while in visual edit mode"}:me<10?{ForkDisabled:!0,ForkDisabledReason:"Need at least 10 messages before forking"}:i!=="waiting"&&i!=="subagent_waiting"?{ForkDisabled:!0,ForkDisabledReason:"Please wait for the agent to finish before forking"}:D!=="build"?{ForkDisabled:!0,ForkDisabledReason:"Please wait for agent to write code before forking"}:x?{ForkDisabled:!0,ForkDisabledReason:"Cannot fork while subagent is active"}:In<=0?{ForkDisabled:!0,ForkDisabledReason:"Insufficient credits to fork"}:{ForkDisabled:!1,ForkDisabledReason:null},[i,D,x,In,G,me]);return t.jsx(Kn,{children:t.jsxs(fe.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:k("flex flex-col md:p-1 p-0 max-w-full sm:max-w-4xl md:pt-1 pt-0 w-full md:rounded-[14px] rounded-b-l-none rounded-b-r-none md:backdrop-blur-[40px] xs:backdrop-blur-[0px] shadow-sm md:bg-[#1A1A1C] rounded-t-l-[14px] rounded-t-r-[14px]",Yt&&"border border-b-0 border-[#333333] rounded-[14px] rounded-b-none"),style:{background:Yt?"transparent":un(),paddingBottom:Ke>0?`${Ke}px`:void 0,transition:"padding-bottom 0.1s ease-out"},children:[Ze=="normal"&&t.jsx("div",{className:"flex items-center justify-between w-full px-2 md:px-3 md:py-2",children:t.jsxs("div",{className:k("flex items-center gap-2 ",!I&&ae.length>0?"w-full":""),children:[Gn.images.length>0&&t.jsx("div",{className:"flex items-center gap-2 pt-1",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:Gn.isProcessing?t.jsxs("div",{className:"flex items-center justify-center py-1",children:[t.jsx(tn,{className:"h-4 w-4 text-[#999] animate-spin mr-2"}),t.jsx("span",{className:"text-[#999] text-xs",children:"Processing..."})]}):Gn.images.map((Pe,Ct)=>t.jsxs("div",{className:"relative w-16 h-16 md:w-20 md:h-20 rounded-md border border-[#333] group",children:[t.jsx("img",{src:`data:${Pe.mime_type};base64,${Pe.img_base64}`,alt:`Selected image ${Ct+1}`,className:"w-full h-full object-cover z-[1] rounded-md"}),t.jsx("button",{onClick:()=>Gn.removeImage(Ct),className:"absolute top-[-6px] right-[-6px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove image",type:"button",children:t.jsx("div",{className:"bg-white rounded-full p-[2px]",children:t.jsx("img",{src:M6,alt:"Remove image",className:"w-2 h-2"})})})]},Ct))})}),Fs.hasFiles&&t.jsx("div",{className:"flex items-center gap-2 pt-1",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:Fs.isProcessing?t.jsxs("div",{className:"flex items-center justify-center py-1",children:[t.jsx(tn,{className:"h-4 w-4 text-[#999] animate-spin mr-2"}),t.jsx("span",{className:"text-[#999] text-xs",children:"Uploading..."})]}):Fs.files.map((Pe,Ct)=>t.jsxs("div",{className:"relative w-16 h-16 overflow-hidden rounded-lg md:w-20 md:h-20 group backdrop-blur-md",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full p-2",children:[t.jsx("div",{className:"w-8 h-8 mb-1 flex items-center justify-center rounded bg-[#FFFFFF20]",children:t.jsx("img",{src:xbe,alt:"File",className:"w-5 h-5 invert opacity-70"})}),t.jsx("div",{className:"text-[8px] text-white/90 text-center leading-tight truncate max-w-full",children:Pe.name.length>8?`${Pe.name.substring(0,8)}...`:Pe.name}),t.jsxs("div",{className:"text-[6px] text-white/50 text-center mt-1",children:[(Pe.size/1024/1024).toFixed(1),"MB"]})]}),t.jsx("button",{onClick:()=>Fs.removeFile(Ct),className:"absolute top-[-6px] right-[-6px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove file",type:"button",children:t.jsx("div",{className:"bg-white rounded-full p-[2px]",children:t.jsx("img",{src:M6,alt:"Remove file",className:"w-2 h-2"})})})]},Ct))})}),!I&&ae.length>0&&!l&&t.jsx("div",{className:"w-full",children:t.jsx("div",{className:"flex max-w-full gap-2 pb-1 overflow-x-auto overflow-y-hidden flex-nowrap scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent hover:scrollbar-thumb-white/30",children:ae.map(Pe=>t.jsxs("div",{"data-testid":Nr.pendingArtifact(Pe.file_name),className:"relative flex-shrink-0 group",children:[t.jsx(lbe,{artifact:Pe}),t.jsx("button",{type:"button","data-testid":Nr.removePendingArtifact(Pe.file_name),onClick:()=>rs(Pe.artifact_id),className:"absolute top-[-5px] right-[-5px] bg-transparent rounded-full p-1 transition-opacity opacity-0 group-hover:opacity-100","aria-label":"Remove attachment",children:t.jsx("div",{className:"p-1 bg-white rounded-full",children:t.jsx("img",{src:M6,alt:"Remove attachment",className:"w-2 h-2"})})})]},Pe.artifact_id))})}),Gn.images.length===0&&!Fs.hasFiles&&(I||ae.length===0||l)&&!g&&!Yt&&t.jsxs("div",{className:k("flex items-center gap-2",!ee&&"md:gap-4"),children:[t.jsx("div",{className:k("flex items-center gap-2 min-w-[58vw] md:min-w-fit",!ee&&"md:gap-4"),children:G?t.jsxs(t.Fragment,{children:[t.jsx(R6,{}),t.jsx("span",{className:"text-[15px] md:text-[16px] font-medium md:text-nowrap",style:{color:"#95C6FF"},children:te?"Editing":"Visual Editing..."}),te&&t.jsx(L6,{elementName:te})]}):t.jsxs(t.Fragment,{children:[t.jsx(P6,{status:i,colors:Xe}),t.jsx(O6,{status:i,colors:Xe,statusText:at})]})}),i==="subagent_waiting"&&y&&t.jsx("button",{onClick:y,className:"ml-2 px-2 py-1 text-xs font-semibold rounded-md transition-colors",style:{backgroundColor:`${Xe.subagent_waiting.color}`,color:Vp(C||"").color},type:"button",children:"Reply"})]})]})}),Ze=="credit_exhausted"&&t.jsx("div",{className:"max-md:py-1",children:t.jsxs("div",{className:"flex items-center justify-between w-full px-2 md:px-3 md:py-2",children:[t.jsxs("div",{className:k("flex items-center gap-2"),children:[t.jsx(Ho,{fill:"#CCC",className:"w-5 h-5"}),t.jsx("span",{className:k(ee?"text-[14px]":"text-[16px] max-md:text-[14px]"),children:Bs()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{if(_n()&&!Wn){J({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}Lt({source:"chat_input_credit_exhausted_header",jobId:o?.job_id,remainingCredits:Kt?.ecu_balance||0})},className:"text-[14px] text-[#F5CC62] flex gap-1 items-center font-medium p-1 pl-[6px] pr-4 rounded-[8px] bg-[#F5CC621F]",children:[t.jsx(k4e,{size:20,className:"self-center"}),t.jsx("p",{children:"Buy Credits"})]}),t.jsx("button",{title:"Close",onClick:()=>{ut("normal")},className:"flex items-center justify-center w-4 h-4 hover:bg-[#FFFFFF0D] rounded-[8px]",children:t.jsx(Ft,{})})]})]})}),Ze=="auto_message"&&!Yt&&t.jsx("div",{className:"px-2 md:px-3 md:py-2",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:k("flex items-center gap-2",!ee&&"md:gap-4"),children:[t.jsx("div",{className:k("flex items-center gap-2 min-w-[58vw] md:min-w-fit",!ee&&"md:gap-4"),children:G?t.jsxs(t.Fragment,{children:[t.jsx(R6,{}),t.jsx("span",{className:"text-[15px] md:text-[16px] font-medium md:text-nowrap",style:{color:"#95C6FF"},children:te?"Editing":"Visual Editing..."}),te&&t.jsx(L6,{elementName:te})]}):t.jsxs(t.Fragment,{children:[t.jsx(P6,{status:i,colors:Xe}),t.jsx(O6,{status:i,colors:Xe,statusText:at})]})}),i==="subagent_waiting"&&y&&t.jsx("button",{onClick:y,className:"ml-2 px-2 py-1 text-xs font-semibold rounded-md transition-colors",style:{backgroundColor:`${Xe.subagent_waiting.color}`,color:Vp(C||"").color},type:"button",children:"Reply"})]}),!Q&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Sr("desktop"),disabled:xt,className:"px-[6px] flex items-center gap-1 py-1 text-[15px] font-semibold rounded-md transition-colors bg-white text-[#000000] disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:xt?t.jsxs(t.Fragment,{children:[t.jsx(tn,{size:20,className:"animate-spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(X2,{size:20}),"Auto Answer"]})}),t.jsx("button",{title:"Close",onClick:()=>{ut("normal")},className:"flex items-center justify-center w-4 h-4 hover:bg-[#FFFFFF0D] rounded-[8px]",type:"button",children:t.jsx(Ft,{})})]})]})}),Ze==="mobile_app_promo"&&yn&&t.jsxs("div",{className:"flex items-center justify-between w-full py-[6px] pl-3 pr-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:Nbe,alt:"Phone Icon",className:"w-5 h-5 invert"}),t.jsx("span",{className:k("text-white font-medium leading-5",ee?"text-[14px]":"text-[15px]"),children:yn.headerTitle}),!ee&&t.jsx("span",{className:"text-white/50 text-[14px] font-medium leading-5",children:yn.headerDescription})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(r$,{title:yn.title,description:yn.description,qrCodeUrl:yn.qrCodeUrl,source:"chatinput",children:t.jsxs("button",{type:"button",className:"flex items-center gap-1 p-[6px] pr-[10px] rounded-lg bg-white/[0.08] hover:bg-white/[0.12] transition-colors duration-200 text-white/90 font-semibold text-[15px] leading-5 tracking-[-0.5px]",children:[t.jsx(x8,{className:"w-4 h-4"}),yn.headerButtonText]})}),t.jsx("button",{type:"button",title:"Dismiss",onClick:()=>Sn(!0),className:"p-[6px] hover:bg-[#FFFFFF0D] rounded-lg",children:t.jsx(Ft,{size:20,className:"text-[#7b7b80]"})})]})]}),t.jsxs("form",{onSubmit:On,className:k("flex flex-1 flex-col md:bg-background bg-[#1A1A1C] rounded-none rounded-tl-[14px] rounded-tr-[14px] border border-1 relative md:rounded-xl",zs?"border-[#5FD3F3]/50 border-2 border-dashed":"border-[#252526]"),onDragOver:Pe=>{Pe.preventDefault(),Pe.stopPropagation()},onDragEnter:Pe=>{Pe.preventDefault(),Pe.stopPropagation(),Ve(!0)},onDragLeave:Pe=>{Pe.preventDefault(),Pe.stopPropagation(),!Pe.currentTarget.contains(Pe.relatedTarget)&&Ve(!1)},onDrop:Pe=>{Pe.preventDefault(),Pe.stopPropagation(),Ve(!1);const Ct=Pe.dataTransfer.files;Ct.length>0&&nr(Ct)},children:[zs&&t.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-background/80 rounded-xl",children:t.jsx("div",{className:"text-[#5FD3F3] text-center",children:t.jsx("p",{className:"font-medium",children:"Drop files here"})})}),t.jsx("textarea",{ref:pt,value:Ne,onChange:sn,onFocus:()=>{dn()},onPaste:Pe=>{const Ct=Pe.clipboardData?.items;if(!Ct)return;const An=Array.from(Ct).filter(ls=>I||!lt||he?ls.type.startsWith("image/"):ls.kind==="file");if(An.length===0)return;Pe.preventDefault();const Hn=An.map(ls=>ls.getAsFile()).filter(Boolean);Hn.length>0&&nr(Hn)},className:k("w-full resize-none md:bg-background bg-[#1A1A1C] outline-none text-[16px]  px-4 py-3 min-h-[64px] overflow-y-auto placeholder:text-white/50",Un&&"cursor-not-allowed opacity-20",I?"max-h-[120px]":"max-h-[200px]",Yt?"rounded-none rounded-tl-[14px] rounded-tr-[14px]":"rounded-xl"),style:{lineHeight:"1.5",...Yt&&{overscrollBehavior:"none"}},onKeyDown:Pe=>{Pe.key==="Enter"&&(Pe.metaKey||Pe.ctrlKey)&&(Pe.preventDefault(),On(Pe))},placeholder:Es(),rows:2,disabled:Un,"data-testid":Vs.input.container}),t.jsxs("div",{className:k("flex items-center justify-between p-2.5 md:bg-background bg-[#1A1A1C]",Yt?"rounded-none":"rounded-xl"),style:Yt?{touchAction:"none"}:void 0,children:[t.jsxs("div",{className:"relative flex items-center gap-2",ref:ft,children:[t.jsx("button",{type:"button","data-testid":Vs.input.attachButton,onClick:()=>{I||!lt||he?Ws():vr()},className:k("p-2 transition-colors duration-200 rounded-[30px] bg-[#FFFFFF14] hover:bg-gray-100/10 group/paperclip",{"opacity-50 cursor-not-allowed":Un}),disabled:Un,children:t.jsx("img",{src:Bt?jbe:hbe,alt:"Attach",className:k("transition-transform duration-200 transform",ee?"size-[18px]":"size-5",!Bt&&"group-hover/paperclip:rotate-45")})}),t.jsx("input",{ref:Tt,type:"file",accept:I||!lt||he?"image/jpeg,image/png,image/gif,image/webp":"*/*",multiple:!0,onChange:an,style:{display:"none"},"aria-hidden":"true"}),t.jsxs("button",{disabled:i!=="waiting"&&i!=="subagent_waiting"||D!="build"||x||G,type:"button",onClick:ye,"data-testid":Vs.input.githubButton,className:k("p-2 pr-2.5 h-9 transition-colors duration-200 rounded-full flex items-center gap-1 bg-[#FFFFFF14] hover:bg-gray-100/10",i!=="waiting"&&i!=="subagent_waiting"||D!="build"||x||G?"opacity-50 cursor-not-allowed":"",I||Yt?"hidden":""),children:[t.jsx("img",{src:At?Cbe:ybe,alt:"GitHub",className:k(ee?"size-[18px]":"size-5",At&&"scale-[1.2] mt-1")}),t.jsx("span",{className:k("font-medium text-[#E6E6E6]",ee?"text-[13px]":"text-sm"),children:"Save"})]}),$s&&o?.createdBy&&t.jsx("button",{type:"button",disabled:D!="build"||we,onClick:qt,className:k("p-2 h-9 transition-colors duration-200 rounded-full flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",I?"hidden":"",dt?"bg-blue-500/20 border border-blue-500/50 hover:bg-blue-500/30":"bg-[#FFFFFF14] hover:bg-gray-100/10"),children:we?t.jsx(tn,{className:k("text-gray-400 animate-spin",ee?"size-[18px]":"size-5")}):t.jsx("span",{className:k("font-medium mx-0.5",ee?"text-[13px]":"text-[14px]",dt?"text-blue-400":"text-[#E6E6E6]"),children:"HIM"})}),t.jsx("div",{className:k("relative transition-all duration-200",I||Yt||T?"hidden":""),children:t.jsxs("button",{type:"button",disabled:ar,onClick:Et,"data-testid":Vs.input.forkButton,className:k("p-2 pr-2.5 h-9 transition-colors duration-200 rounded-full flex items-center gap-1 bg-[#FFFFFF14] hover:bg-gray-100/10 disabled:opacity-50 disabled:cursor-not-allowed",O==="running"?"bg-[#80FFF90D] hover:bg-[#80FFF90D] disabled:opacity-100 cursor-not-allowed":""),children:[O=="running"?t.jsx("img",{src:wbe,alt:"Fork",className:k(ee?"size-[18px]":"size-5")}):t.jsx("img",{src:_be,alt:"Fork",className:k("ml-0.5",ee?"size-[18px]":"size-5")}),t.jsx("span",{className:k("font-medium text-[#E6E6E6] truncate max-w-[80px]",ee?"text-[13px]":"text-[14px]",O=="running"?"text-[#80FFF9]":""),children:zie()?O==="running"?"Summarizing...":"Summarize":O==="running"?"Forking...":"Fork"})]})}),$s&&t.jsx("div",{className:k("relative transition-all duration-200",I||Yt?"hidden":""),children:t.jsx(ms,{children:t.jsxs(ri,{delayDuration:0,children:[t.jsx(ii,{asChild:!0,children:t.jsxs("button",{type:"button",disabled:Ut||!o?.job_id,onClick:wr,className:k("p-2 h-9 transition-colors duration-200 rounded-full flex items-center bg-[#FFFFFF14] hover:bg-gray-100/10 disabled:opacity-50 disabled:cursor-not-allowed",ee?"justify-center w-9":"gap-1 pr-2.5",Ut?"bg-[#80FFF90D] hover:bg-[#80FFF90D] disabled:opacity-100 cursor-not-allowed":""),children:[t.jsx("div",{className:k("flex items-center justify-center",ee?"size-[18px]":"w-5 h-5"),children:Ut?t.jsx(tn,{className:k("animate-spin text-[#80FFF9]",ee?"size-[18px]":"w-4 h-4")}):t.jsx("svg",{className:k(ee?"size-[18px]":"w-4 h-4"),fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})})}),!ee&&t.jsx("span",{className:k("text-[14px] font-medium text-[#E6E6E6]",Ut?"text-[#80FFF9]":""),children:Ut?"Cloning...":"Clone"})]})}),ee&&t.jsx($a,{children:t.jsx(qr,{className:"bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm p-[10px] rounded-lg shadow-lg z-[9999]",side:"top",sideOffset:5,asChild:!0,children:t.jsxs(fe.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},className:"flex items-center gap-1",children:[t.jsx("span",{children:Ut?"Cloning...":"Clone"}),t.jsx(na,{className:"fill-[#fff]"})]})})})]})})}),t.jsx(ms,{children:t.jsxs(ri,{delayDuration:0,children:[t.jsx(ii,{asChild:!0,children:t.jsxs("button",{type:"button",disabled:i!=="waiting"&&i!=="subagent_waiting"||D!="build"||x||G,"data-testid":Vs.input.ultraButton,onClick:ve,className:k("flex items-center p-2 h-9 rounded-full transition-colors duration-200",ee?"justify-center w-9":"gap-1",L?"bg-[#FF8C661A]":"bg-[#FFFFFF14] hover:bg-gray-100/10",I||Yt?"hidden":"","disabled:opacity-50 disabled:cursor-not-allowed"),children:[t.jsx(Xl,{color:L?"#FF8C66":"#ffffff",size:ee?18:20}),!ee&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:k("text-[14px] font-medium transition-colors",L?"text-[#FF8C66]":"text-[#E6E6E6]"),children:"Ultra"}),t.jsx("div",{className:k("inline-flex h-5 w-9 shrink-0 items-center rounded-full border-2 border-transparent shadow-sm scale-[0.8] pointer-events-none",L?"bg-[#FF8C66]":"bg-[#3B3B3B]"),children:t.jsx("div",{className:k("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg transition-transform",L?"translate-x-4":"translate-x-0")})})]})]})}),ee&&t.jsx($a,{children:t.jsx(qr,{className:"bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm p-[10px] rounded-lg shadow-lg z-[9999]",side:"top",sideOffset:5,asChild:!0,children:t.jsxs(fe.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},className:"flex items-center gap-1",children:[t.jsx("span",{children:"Ultra Thinking Mode"}),t.jsx(na,{className:"fill-[#fff]"})]})})})]})}),U&&!I&&!Yt&&t.jsx(gC,{visualEditMode:G,variant:"chat",disabled:oe,isVisualEditChangesEnabled:le,onClick:Pe=>{Pe.preventDefault(),Pe.stopPropagation();const Ct=!G;if(!Ct&&Y){q?.({onConfirm:Jn,title:"You have unsaved changes",description:"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:{text:"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"}});return}H(Ct?Xt.VISUAL_EDIT_ENABLED:Xt.VISUAL_EDIT_DISABLED,{jobId:o?.job_id,agentStatus:i,source:"chat_input",enableVisualEdit:U}),$?.(Ct)}}),Yt&&!I&&t.jsx("button",{title:"Options",type:"button",onClick:()=>{H("mobile_settings_button_clicked",{source:"chat_input",jobId:o?.job_id,agentStatus:i}),Le(!0)},className:"p-2 transition-colors duration-200 rounded-full bg-[#FFFFFF14] hover:bg-gray-100/10",children:t.jsx(ff,{size:20,className:"md:hidden"})}),Ee&&L&&t.jsx("button",{title:"Fix",type:"button",className:k("transition-colors duration-200 hover:opacity-80 size-9 flex items-center hover:bg-[#FFFFFF]/10 p-2 rounded-full",L?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:()=>{if(ps)H(L?Za.ULTRA_MODE_DISABLED:Za.ULTRA_MODE_ENABLED,{source:"chat_input_mobile_button",jobId:o?.job_id,agentStatus:i}),P?.(!L);else{if(H(Za.ULTRA_MODE_UPGRADE_REQUIRED,{source:"chat_input_mobile_button",currentTier:ys,jobId:o?.job_id}),_n()&&!Wn){J({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}if(wn){const Pe="personal",Ct=gt,An=Ct!=="free",Hn="ultraThinkingModal",ls=lu(Hn,An),{title:Rr,description:Jt}=Ro(Hn);Pn("TRIGGER_SUBSCRIPTION",{planType:Pe,organizationId:void 0,triggerLocation:Hn,currentTier:Ct,hasActiveSubscription:An,title:Rr,description:Jt,...ls&&{modalType:ls}})}else We.open({triggerLocation:"ultraThinkingModal"})}},children:t.jsx(Xl,{size:ee?18:20,color:L?"#FF8C66":"#E6E6E6"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[B&&Ee&&!Q&&t.jsx("button",{onClick:()=>Sr("mobile"),disabled:xt,className:" px-[6px] md:hidden flex items-center h-[40px] pr-3 gap-1 py-1 text-[15px] font-semibold rounded-full transition-colors bg-white text-[#000000] disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:xt?t.jsxs(t.Fragment,{children:[t.jsx(tn,{size:20,className:"animate-spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(X2,{size:20}),"Auto Answer"]})}),t.jsx("button",{type:"button",onClick:Ln,className:k("p-2 transition-colors duration-200 rounded-[30px] flex items-center justify-center size-9",It?"bg-white text-black hover:bg-white":"bg-[#FFFFFF14] hover:bg-[#FFFFFF14]",nt&&"opacity-50 cursor-not-allowed",{"opacity-50 cursor-not-allowed":Un}),disabled:Un||nt,title:nt?"Transcribing audio...":It?"Stop recording":"Start voice recording",children:nt?t.jsx(tn,{className:"w-5 h-5 animate-spin"}):It?t.jsx(fe.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:t.jsx(Y7,{width:18,height:18,fill:"currentColor"})}):t.jsx(K7,{width:18,height:18,fill:"currentColor"})}),t.jsxs("button",{onClick:On,className:k(i==="subagent_running"&&w&&!ee?"w-auto px-3":"w-[48px] px-[12px]","flex py-[6px] justify-center items-center gap-[10px] max-md:h-9 rounded-[38px] bg-[#ECECEC] transition-all duration-300",rt?"opacity-50":"hover:bg-primary/90",gr),type:"submit",disabled:rt,"data-testid":Vs.input.submitButton,children:[i==="subagent_running"&&w&&!ee&&t.jsx("span",{className:"text-sm font-medium text-black max-md:hidden",children:"Finish Sub-Agent"}),Xn]})]})]})]}),t.jsx("div",{className:"flex flex-row justify-between items-center w-full md:hidden p-[10px] bg-[#5fd3f3]/10 backdrop-blur-md",style:{touchAction:"none"},children:!g&&t.jsxs("div",{className:k("flex items-center gap-2",!ee&&"md:gap-4"),children:[t.jsx("div",{className:k("flex items-center gap-2 min-w-[58vw] md:min-w-fit",!ee&&"md:gap-4"),children:G?t.jsxs(t.Fragment,{children:[t.jsx(R6,{}),t.jsx("span",{className:"text-[15px] md:text-[16px] font-medium md:text-nowrap",style:{color:"#95C6FF"},children:te?"Editing":"Visual Editing..."}),te&&t.jsx(L6,{elementName:te})]}):t.jsxs(t.Fragment,{children:[t.jsx(P6,{status:i,colors:Xe}),t.jsx(O6,{status:i,colors:Xe,statusText:at})]})}),i==="subagent_waiting"&&y&&t.jsx("button",{onClick:y,className:"ml-2 px-2 py-1 text-xs font-semibold rounded-md transition-colors",style:{backgroundColor:`${Xe.subagent_waiting.color}`,color:Vp(C||"").color},type:"button",children:"Reply"})]})}),t.jsx(fbe,{isOpen:Ae,onOpenChange:Le,isGitHubConnected:At,onSaveToGitHub:ye,isGitHubDisabled:i!=="waiting"&&i!=="subagent_waiting"||D!=="build"||x,onForkClick:Et,isForkDisabled:ar,forkStatus:O,ultraMode:L,onUltraModeChange:P,isUltraDisabled:i!=="waiting"&&i!=="subagent_waiting"||D!=="build"||x,tier:ys,onUpgradeRequired:()=>{if(_n()&&!Wn){J({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}if(wn){const Pe="personal",Ct=gt,An=Ct!=="free",Hn="ultraThinkingModal",ls=lu(Hn,An),{title:Rr,description:Jt}=Ro(Hn);Pn("TRIGGER_SUBSCRIPTION",{planType:Pe,organizationId:void 0,triggerLocation:Hn,currentTier:Ct,hasActiveSubscription:An,title:Rr,description:Jt,...ls&&{modalType:ls}})}else We.open({triggerLocation:"ultraThinkingModal"})},getCurrentOrganizationId:Mt}),Ce&&t.jsx(Y4e,{isOpen:Ce,onOpenChange:Pe=>$e(Pe),jobId:o?.job_id||"",onSuccess:Pe=>{Pe&&S&&S(Pe),$e(!1)},lastGithubUsed:j})]})})});bC.displayName="ChatInput";const Fbe=({searchState:e,updateSearchQuery:n,navigateToPrevMatch:s,navigateToNextMatch:r,toggleSearch:i})=>{const a=(...o)=>o.filter(Boolean).join(" ");return t.jsx(xa,{children:e.isActive&&t.jsxs(Rn.div,{className:"absolute left-0 right-0 z-[999] flex items-center gap-2 p-2 mx-auto border border-white/15 rounded-lg shadow-lg bg-white/5 top-4 w-96 bg-clip-padding backdrop-filter backdrop-blur-xl",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},transition:{duration:.2,ease:"easeInOut"},children:[t.jsx($o,{size:18,className:"text-gray-400"}),t.jsx("input",{autoFocus:!0,type:"text",value:e.query,onChange:o=>n(o.target.value),placeholder:"Search messages...",className:"flex-1 text-sm text-white bg-transparent border-none outline-none placeholder:text-white/30"}),e.matches.length>0&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-400",children:[t.jsxs("span",{children:[e.currentMatchIndex+1," "]})," of ",t.jsx("span",{children:e.matches.length})]}),t.jsx("button",{onClick:s,disabled:e.matches.length===0,className:a("p-1 hover:bg-white/10 rounded transition-colors",e.matches.length===0?"opacity-50 cursor-not-allowed":""),title:"Previous match (Shift+Enter)",children:t.jsx(bme,{size:18,className:"text-gray-400"})}),t.jsx("button",{onClick:r,disabled:e.matches.length===0,className:a("p-1 hover:bg-white/10 rounded transition-colors",e.matches.length===0?"opacity-50 cursor-not-allowed":""),title:"Next match (Enter)",children:t.jsx(xme,{size:18,className:"text-gray-400"})}),t.jsx("button",{onClick:()=>i(!1),className:"p-1 transition-colors rounded hover:bg-white/10",title:"Close search (Esc)",children:t.jsx(Ft,{size:18,className:"text-gray-400"})})]})})};function Ebe(){const[e,n]=d.useState(document.visibilityState==="visible");return d.useEffect(()=>{const s=()=>{n(document.visibilityState==="visible")};return document.addEventListener("visibilitychange",s),()=>{document.removeEventListener("visibilitychange",s)}},[]),e}const Q2=["EmergentAssistant","ChatAssistant"],e5=e=>e?Q2.includes(e):!1,Sbe=({agentState:e,isSubagentActive:n=!1,currentAgentStatus:s="stopped",isPauseLoading:r=!1,forked_status:i=null,lastMessage:a=null})=>{if(r)return n?"subagent_stopping":"stopping";if(a?.next_call_agent&&!e5(a.next_call_agent)){if(!e?.agent_running&&!e?.job_running){if(a?.subagent_trajectory&&a.subagent_trajectory.length>0){const l=a.subagent_trajectory[a.subagent_trajectory.length-1];if(l&&e5(l.next_call_agent))return"waiting"}return"subagent_waiting"}return s==="subagent_stopping"?"subagent_stopping":"subagent_running"}return s==="stopping"?!e?.agent_running&&!e?.job_running?"waiting":"stopping":e?.agent_running||e?.job_running?"running":i==="running"?"forking":"waiting"},B6=2e3,dI=50,kbe=100,Ibe=50,uI={cursor:null,hasMore:!1,loading:!1,justCompleted:!1,initialized:!1,lastRequestedCursor:null,loadingPromise:null,hydrateFailCount:0};function Tbe({isCloudFlow:e,containerId:n,jobId:s,trajPath:r,isActive:i,historyEnabled:a=!1,onJobDetailsResult:o=()=>{},onTrajectoryResult:l,onAgentStateResult:c,onCurrentChunkResult:u,onBrainStormingResult:p,onLogsResult:f=()=>{},onError:m,onMessage:h=()=>{}}){d.useRef(`polling-${Date.now().toString(36)}`);const x=d.useRef(!1),g=d.useRef({containerId:n,jobId:s,trajPath:r}),[v,b]=d.useState("disconnected"),[y,w]=d.useState(!0),_=d.useRef(!0),N=Ebe(),j=d.useRef({jobDetails:null,trajectory:[],agentState:null,logs:null,currentChunk:null,lastRequestId:null}),C=d.useRef({...uI}),S=()=>{C.current={...uI}},F=d.useRef(null),E=d.useRef("disconnected"),I=d.useRef(()=>{x.current&&(x.current=!1,F.current&&(clearTimeout(F.current),F.current=null),E.current!=="disconnected"&&(E.current="disconnected",b("disconnected")))});d.useEffect(()=>{g.current={containerId:n,jobId:s,trajPath:r}},[n,s,r]);const T=d.useCallback(Y=>{E.current!==Y&&(E.current=Y,b(Y))},[]),A=d.useCallback(Y=>[...Y].sort((W,Z)=>new Date(W.created_at).getTime()-new Date(Z.created_at).getTime()).map(W=>({...W.traj_payload,id:W.id,request_id:W.request_id,job_id:W.job_id,traj_payload:W.traj_payload,commit_id:W.commit_id,parent_request_id:W.parent_request_id,status:W.status,created_at:W.created_at,updated_at:W.updated_at})),[]),D=d.useCallback((Y,W,Z="update")=>{if(Z==="replace")return W;if(Z==="prepend"){const q=new Set(Y.map(he=>he.id));return[...W.filter(he=>!q.has(he.id)),...Y]}if(Z==="append"){const q=new Set(Y.map(he=>he.id)),Q=W.filter(he=>!q.has(he.id));return[...Y,...Q]}let le=[...Y];for(const q of W){const Q=le.findIndex(he=>he.id===q.id);Q!==-1?le[Q]={...le[Q],...q}:le.push(q)}return le},[]);d.useEffect(()=>{S(),j.current.agentState=null},[s,a]);const O=d.useCallback(()=>a?C.current.initialized&&j.current.lastRequestId||void 0:j.current.lastRequestId||void 0,[a]),M=d.useCallback((Y,W,Z)=>{let le=[...W];if(Y.trajectories?.updated_data?.length>0){const Fe=Y.trajectories.updated_data.sort((se,_e)=>new Date(se.created_at).getTime()-new Date(_e.created_at).getTime()).map(se=>({...se.traj_payload,id:se.id,request_id:se.request_id,job_id:se.job_id,traj_payload:se.traj_payload,commit_id:se.commit_id,parent_request_id:se.parent_request_id,status:se.status,created_at:se.created_at,updated_at:se.updated_at}));for(const se of Fe){const _e=le.findIndex(Re=>Re.id===se.id);_e!==-1?le[_e]={...le[_e],...se}:le.push(se)}}const q=[...Y.trajectories?.data||[],...Y.trajectories?.updated_data||[]];let Q=null;q.length>0&&(Q=q.reduce((se,_e)=>{const Re=new Date(_e.created_at).getTime(),Se=new Date(se.created_at).getTime();return Re>Se?_e:se},q[0]).request_id);const he=typeof Y.trajectories.agent_status=="boolean",me=typeof Y.trajectories.agent_status_new<"u",ce=typeof Y.trajectories.pod_state_display<"u",ee=typeof Y.trajectories.pod_state_hitl<"u",J=typeof Y.trajectories.show_upgrade<"u",re=typeof Y.trajectories.chat_mode<"u",ae=he||me||ce||ee||J||Z?{agent_running:he?!!Y.trajectories.agent_status:!!Z?.agent_running,job_running:he?!!Y.trajectories.agent_status:!!Z?.job_running,agent_status_new:me?Y.trajectories.agent_status_new:Z?.agent_status_new,chat_mode:re?Y.trajectories.chat_mode:Z?.chat_mode,pod_state_display:ce?Y.trajectories.pod_state_display:Z?.pod_state_display,pod_state_hitl:ee?Y.trajectories.pod_state_hitl:Z?.pod_state_hitl,show_upgrade:J?Y.trajectories.show_upgrade:Z?.show_upgrade}:null;return{trajectory:le,lastRequestId:Q,agentState:ae,chatModeState:{chat_mode:Y.trajectories.chat_mode||null}}},[]),L=d.useCallback(async()=>{if(!a)return;const Y=g.current.jobId;if(!Y||!C.current.hasMore)return;const W=C.current.cursor;if(!W||C.current.lastRequestedCursor===W)return;const Z=20,le=10,q=async()=>{if(!C.current.hasMore||C.current.lastRequestedCursor===W)return;C.current.loading=!0,C.current.lastRequestedCursor=W;let Q=W,he=0,me=0;try{for(;Q;){const ee=(await vt.getTrajectoryHistory(Y,Q,dI))?.data;if(he++,ee?.data?.length){const J=A(ee.data);j.current.trajectory=D(j.current.trajectory,J,"prepend");const re=ee.data.filter(xe=>{const ae=xe.traj_payload?.agent_name||xe.agent_name||"EmergentAssistant";return Q2.includes(ae)}).length;if(me+=re,C.current.cursor=ee?.next_cursor??null,C.current.hasMore=ee?.has_more??!1,me>=le||!C.current.hasMore||he>=Z)break;Q=C.current.cursor;continue}else{C.current.cursor=ee?.next_cursor??null,C.current.hasMore=ee?.has_more??!1;break}}l(j.current.trajectory),C.current.justCompleted=!0,setTimeout(()=>{C.current.justCompleted=!1},kbe),D1(ce=>{ce.lastHistoryAt=Date.now()})}catch(ce){jt(Zt.POLLING.AGENT_MESSAGES_FETCH,ce,{jobId:g.current.jobId,containerId:g.current.containerId,trajPath:g.current.trajPath,phase:"fetchTrajectoryHistoryPagination"}),j.current.trajectory.length>0&&l(j.current.trajectory),C.current.lastRequestedCursor=null}finally{C.current.loading=!1}};return C.current.loadingPromise=C.current.loadingPromise?C.current.loadingPromise.then(()=>q()).catch(Q=>q()):q(),C.current.loadingPromise},[a,A,D,l]),P=d.useCallback(async()=>{if(!a)return;const Y=g.current.jobId;if(Y&&!(C.current.loading||C.current.initialized)){C.current.loading=!0;try{const Z=(await vt.getTrajectoryHistory(Y,void 0,dI))?.data;if(Z?.data){const le=A(Z.data);if(j.current.trajectory=D([],le,"replace"),l(j.current.trajectory),j.current.lastRequestId=Z.latest_request_id||null,C.current.cursor=Z.next_cursor,C.current.hasMore=Z.has_more,D1(Q=>{Q.lastHistoryAt=Date.now(),Q.lastRequestId=Z.latest_request_id||null}),C.current.initialized=!0,Z.data.filter(Q=>{const he=Q.traj_payload?.agent_name||Q.agent_name||"EmergentAssistant";return Q2.includes(he)}).length<10&&C.current.hasMore)try{await L()}catch(Q){jt(Zt.POLLING.AGENT_MESSAGES_FETCH,Q,{jobId:g.current.jobId,containerId:g.current.containerId,trajPath:g.current.trajPath,phase:"hydrateHistory_olderPagesFailed"})}}}catch(W){C.current.hydrateFailCount+=1,jt(Zt.POLLING.AGENT_MESSAGES_FETCH,W,{jobId:g.current.jobId,containerId:g.current.containerId,trajPath:g.current.trajPath,phase:"fetchTrajectoryHistory"}),C.current.hydrateFailCount>=3&&(C.current.initialized=!0)}finally{C.current.loading=!1}}},[a,A,D,l,L]),B=d.useCallback(async Y=>{if(g.current.jobId)try{const W=await vt.fetchTrajectory(g.current.jobId,Y,{onTrajectoryResult:Z=>{!C.current.loading&&!C.current.justCompleted&&l(Z)},onCurrentChunkResult:u,cache:j});if(W.trajectories){const{trajectory:Z,lastRequestId:le,agentState:q,chatModeState:Q}=M(W,j.current.trajectory,j.current.agentState);j.current.trajectory=Z,le&&(j.current.lastRequestId=le),!C.current.loading&&!C.current.justCompleted&&l(Z),p&&p(Q),q&&(j.current.agentState=q,c(q)),le&&D1(he=>{he.lastRequestId=le})}}catch(W){throw jt(Zt.POLLING.AGENT_MESSAGES_FETCH,W,{jobId:g.current.jobId,containerId:g.current.containerId,trajPath:g.current.trajPath,phase:"fetchTrajectory"}),W}},[l,u,p,c,M]),G=d.useCallback(async()=>{if(x.current){try{a&&!C.current.initialized&&!C.current.loading&&await P();const Y=O();if(a&&!C.current.initialized){x.current&&(F.current=setTimeout(G,B6));return}if(g.current.jobId)try{await B(Y)}catch(W){if(m(W instanceof Error?W.message:String(W)),T("error"),!y){I.current();return}T("reconnecting"),x.current&&(F.current&&clearTimeout(F.current),F.current=setTimeout(G,B6));return}T("connected")}catch(Y){jt(Zt.POLLING.AGENT_MESSAGES_FETCH,Y,{jobId:g.current.jobId,containerId:g.current.containerId,trajPath:g.current.trajPath,phase:"pollingCycle"}),m(Y instanceof Error?Y.message:String(Y)),T("error"),Y instanceof Error&&Y.message==="Container is not running"&&I.current()}x.current&&(F.current=setTimeout(G,B6))}},[y,a,P,O,B,T,m]),$=d.useCallback(()=>{x.current||!i||!N||!(g.current.containerId||g.current.jobId||g.current.trajPath)||(x.current=!0,T("connecting"),G())},[i,N,G,T]);d.useEffect(()=>{I.current=()=>{x.current&&(x.current=!1,F.current&&(clearTimeout(F.current),F.current=null),E.current!=="disconnected"&&(E.current="disconnected",b("disconnected")))}},[]);const te=d.useCallback(()=>{I.current()},[]),U=d.useCallback(()=>{j.current.trajectory=[],j.current.agentState=null,j.current.lastRequestId=null,S(),x.current&&(I.current(),i&&N&&$())},[i,N,$]);d.useEffect(()=>{if(_.current){_.current=!1;const Y=g.current.containerId||g.current.jobId||g.current.trajPath;i&&N&&Y&&!x.current&&setTimeout(()=>{i&&N&&!x.current&&$()},Ibe);return}if(i&&N){if(x.current)return;(g.current.containerId||g.current.jobId||g.current.trajPath)&&$()}else x.current&&I.current()},[i,N,$]),d.useEffect(()=>()=>{x.current&&(F.current&&(clearTimeout(F.current),F.current=null),x.current=!1)},[]);const oe=d.useCallback(()=>C.current.hasMore,[]);return{startPolling:$,stopPolling:te,resetPolling:U,loadOlderHistory:L,hasMoreHistory:oe,connectionStatus:v,autoReconnect:y,setAutoReconnect:w,isTabVisible:N}}function Abe(e,n={}){const{virtuosoRef:s,containerRef:r,caseSensitive:i=!1}=n,[a,o]=d.useState({isActive:!1,query:"",matches:[],currentMatchIndex:-1});d.useRef(null);const l=d.useCallback(g=>{o(v=>({...v,isActive:g!==void 0?g:!v.isActive,...g===!1?{query:"",matches:[],currentMatchIndex:-1}:{}}))},[]),c=d.useCallback(g=>{o(v=>({...v,query:g}))},[]);d.useEffect(()=>{if(!a.isActive||!a.query.trim()){o(b=>({...b,matches:[],currentMatchIndex:-1}));return}const g=[],v=i?a.query:a.query.toLowerCase();e.forEach((b,y)=>{const w=[];b.content&&typeof b.content=="string"&&w.push({field:"content",text:b.content}),b.observation&&typeof b.observation=="string"&&w.push({field:"observation",text:b.observation}),b.action&&typeof b.action=="string"&&w.push({field:"action",text:b.action}),b.error_message&&typeof b.error_message=="string"&&w.push({field:"error_message",text:b.error_message}),b.subagent_trajectory&&Array.isArray(b.subagent_trajectory)&&b.subagent_trajectory.forEach((_,N)=>{_.content&&typeof _.content=="string"&&w.push({field:`subagent_${N}`,text:_.content})}),w.forEach(({field:_,text:N})=>{const j=N.split(`
`);let C=0;j.forEach((S,F)=>{const E=i?S:S.toLowerCase();let I=0,T;for(;(T=E.indexOf(v,I))!==-1;){const A=C+T,D=A+v.length;g.push({messageIndex:y,messageId:b.id,text:N.substring(A,D),lineIndex:F,startIndex:T,endIndex:T+v.length,globalStartIndex:A,globalEndIndex:D}),I=T+1}C+=S.length+1})})}),o(b=>({...b,matches:g,currentMatchIndex:g.length>0?0:-1})),g.length>0&&setTimeout(()=>{if(g.length>0){const b=g[0];if(s?.current)s.current.scrollToIndex({index:b.messageIndex,behavior:"smooth",align:"center"});else if(r?.current){const y=document.getElementById(b.messageId);y&&y.scrollIntoView({behavior:"smooth",block:"center"})}}},0)},[a.isActive,a.query,e,i,s,r]);const u=d.useCallback(g=>{if(!a.matches.length)return;const v=g<0?a.matches.length-1:g>=a.matches.length?0:g,b=a.matches[v];if(o(y=>({...y,currentMatchIndex:v})),b){if(s?.current)s.current.scrollToIndex({index:b.messageIndex,behavior:"smooth",align:"center"});else if(r?.current){const y=document.getElementById(b.messageId);y&&y.scrollIntoView({behavior:"smooth",block:"center"})}setTimeout(()=>{const y=document.getElementById(b.messageId);y&&(y.classList.add("flash-highlight"),setTimeout(()=>{y.classList.remove("flash-highlight")},1e3))},100)}},[a.matches,s,r]),p=d.useCallback(()=>{u(a.currentMatchIndex+1)},[a.currentMatchIndex,u]),f=d.useCallback(()=>{u(a.currentMatchIndex-1)},[a.currentMatchIndex,u]),m=d.useCallback(g=>!a.isActive||!a.matches.length?[]:a.matches.filter(v=>v.messageId===g).map(v=>({startIndex:v.globalStartIndex,endIndex:v.globalEndIndex})),[a.isActive,a.matches]),h=d.useCallback(g=>!a.isActive||!a.matches.length?!1:a.matches.some(v=>v.messageId===g),[a.isActive,a.matches]),x=d.useCallback(g=>!a.isActive||a.currentMatchIndex===-1?!1:a.matches[a.currentMatchIndex]?.messageId===g,[a.isActive,a.currentMatchIndex,a.matches]);return{searchState:a,toggleSearch:l,updateSearchQuery:c,navigateToMatch:u,navigateToNextMatch:p,navigateToPrevMatch:f,getSearchHighlightsForMessage:m,isMessageContainingMatch:h,isMessageContainingCurrentMatch:x}}const yC=d.forwardRef(({className:e,children:n,...s},r)=>t.jsxs(TM,{ref:r,className:k("relative overflow-hidden",e),...s,children:[t.jsx(hK,{className:"h-full w-full rounded-[inherit]",children:n}),t.jsx(i$,{}),t.jsx(xK,{})]}));yC.displayName=TM.displayName;const i$=d.forwardRef(({className:e,orientation:n="vertical",...s},r)=>t.jsx(AM,{ref:r,orientation:n,className:k("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:t.jsx(gK,{className:"relative flex-1 rounded-full bg-border"})}));i$.displayName=AM.displayName;const Dbe=K.common.folder,Mbe=K.common.testFile,Rbe=K.common.file,U6=K.common.activeFile,Lbe=K.icons.code,Pbe=e=>{e.editor.defineTheme("github-dark",{base:"vs-dark",inherit:!0,rules:[{token:"deleted",foreground:"ff4a4a",fontStyle:"italic"},{token:"inserted",foreground:"4af94a"}],colors:{"editor.background":"#111112","editor.foreground":"#cccccc","editor.lineHighlightBackground":"#1e1e1e","editorLineNumber.foreground":"#6e7681","editorLineNumber.activeForeground":"#cccccc","editorGutter.background":"#111112","diffEditor.insertedTextBackground":"#23863a33","diffEditor.removedTextBackground":"#da363333","diffEditor.insertedLineBackground":"#23863a22","diffEditor.removedLineBackground":"#da363322"}})},Obe=({isOpen:e,onClose:n,onOpenVSCode:s,containerId:r,modifiedFiles:i,initialCommitId:a,isCloudFlow:o,jobId:l})=>{const[c,u]=d.useState("all"),[p,f]=d.useState(""),[m,h]=d.useState(null),[x,g]=d.useState(null),[v,b]=d.useState(!1),[y,w]=d.useState(null),_=d.useMemo(()=>i.map(C=>({...C,parentFolder:C.fileName?C.fileName.split("/").slice(0,-1).join("/"):""})),[i]),N=d.useMemo(()=>{const C={};return _.forEach(S=>{const F=S.parentFolder||"";C[F]||(C[F]=[]),C[F].push(S)}),C},[_]),j=d.useCallback(async C=>{b(!0),w(null),g(null);try{let S;if(o&&l){const T=await vt.getCloudGitDiff(l,C,a);if(!T.data?.data?.data?.diff){w("No changes in this file");return}S=atob(T.data.data.data.diff)}else S=await Af.getGitDiff(r,C,a);if(!S.trim()){w("No changes in this file");return}if(S.length>1e5){w("Diff is too large to render. Please use VS Code to view this diff.");return}const F=S.split(`
`);let E="",I="";for(const T of F)T.startsWith("--- a/")||T.startsWith("+++ b/")||T.startsWith("@@")||(T.startsWith("-")?E+=T.slice(1)+`
`:T.startsWith("+")?I+=T.slice(1)+`
`:(E+=T+`
`,I+=T+`
`));g({originalContent:E.trim(),modifiedContent:I.trim()})}catch(S){w(S.message)}finally{b(!1)}},[r,a,o,l]);return d.useEffect(()=>{e&&i.length>0&&!m&&h(i[0].fileName)},[e,i]),d.useEffect(()=>{m&&j(m)},[m,j]),e?t.jsx(as,{open:e,onOpenChange:C=>!C&&n(),children:t.jsxs(Er,{className:"max-w-[90vw] w-[90vw] h-[90vh] max-h-[90vh] p-0 gap-0 bg-[#111112]",hideclosebutton:!0,children:[t.jsx(lc,{className:"border-b border-[#333333] bg-[#111112] p-0",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"w-[30%] p-4 border-r border-[#333333]",children:t.jsxs("div",{className:"relative flex-1",children:[t.jsx($o,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#666666]"}),t.jsx(Gi,{value:p,onChange:C=>f(C.target.value),className:"pl-8 pr-14 bg-[#1e1e1e] border-[#333333] text-[#cccccc] h-8 text-sm",placeholder:"Search files..."}),t.jsx("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-[#666666]",children:" K"})]})}),t.jsxs("div",{className:"w-[70%] p-4 flex justify-between items-center space-x-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("img",{alt:"Active file",src:U6,className:"w-4 h-4"}),t.jsx("h2",{className:"text-[#cccccc] text-sm font-medium",children:m||"No file selected"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-[#2A2A2A] rounded hover:bg-[#3A3A3A] transition-colors",onClick:s,children:[t.jsx("img",{src:Lbe,className:"w-4 h-4"}),t.jsx("span",{className:"text-[#CCCCCC] text-sm",children:"Open in VS Code"})]}),t.jsx("button",{className:"p-1.5 hover:bg-[#2A2A2A] rounded transition-colors",onClick:n,children:t.jsx(Ft,{className:"w-4 h-4 text-[#CCCCCC]"})})]})]})]})}),t.jsxs("div",{className:"flex h-[calc(90vh-4rem)]",children:[t.jsxs("div",{className:"w-[30%] min-w-[30%] border-r border-[#333333] h-full",children:[t.jsx("div",{className:"border-b border-[#333333]",children:t.jsxs("div",{className:"flex text-[#cccccc]",children:[t.jsxs("button",{className:k("flex-1 flex items-center justify-center gap-2 py-3 transition-colors","text-[#DDDDE6] text-center font-inter text-xs font-semibold leading-4 tracking-[0.48px] uppercase",c==="all"?"border-b-2 border-[#ff6b6b] opacity-100":"opacity-60 hover:opacity-100"),onClick:()=>u("all"),children:[t.jsx("img",{src:Dbe,className:"w-4 h-4"}),"ALL FILES"]}),t.jsxs("button",{className:k("flex-1 flex items-center justify-center gap-2 py-3 transition-colors","text-[#DDDDE6] text-center font-inter text-xs font-semibold leading-4 tracking-[0.48px] uppercase",c==="test"?"border-b-2 border-[#ff6b6b] opacity-100":"opacity-60 hover:opacity-100"),onClick:()=>u("test"),children:[t.jsx("img",{src:Mbe,className:"w-4 h-4"}),"TEST FILES"]}),t.jsxs("button",{className:k("flex-1 flex items-center justify-center gap-2 py-3 transition-colors","text-[#DDDDE6] text-center font-inter text-xs font-semibold leading-4 tracking-[0.48px] uppercase",c==="doc"?"border-b-2 border-[#ff6b6b] opacity-100":"opacity-60 hover:opacity-100"),onClick:()=>u("doc"),children:[t.jsx("img",{src:Rbe,className:"w-4 h-4"}),"DOC FILES"]})]})}),t.jsx(yC,{className:"h-[calc(100%-3rem)]",children:t.jsxs("div",{className:"p-2 space-y-2",children:[N[""]&&t.jsx("div",{className:"mb-4",children:N[""].map(C=>t.jsxs("div",{className:k("flex items-center gap-2 p-2 rounded cursor-pointer text-sm",m===C?.fileName?"bg-[#1A1A1C] text-white":k("hover:bg-[#1A1A1C]",C.status==="M"?"text-[#CCB252]":"text-[#cccccc]")),onClick:()=>h(C?.fileName),children:[t.jsx("img",{src:U6,className:k("w-4 h-4",C.status==="M"&&"opacity-80")}),t.jsx("span",{children:C.fileName?C.fileName.split("/").pop():""}),t.jsx("span",{className:"ml-auto text-xs opacity-60",children:C.status})]},C?.fileName))}),Object.entries(N).filter(([C])=>C!=="").map(([C,S])=>t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"mb-2 text-sm font-medium text-gray-500",children:C}),S.map(F=>t.jsxs("div",{className:k("flex items-center gap-2 p-2 rounded cursor-pointer text-sm",m===F.fileName?"bg-[#1A1A1C] text-white":k("hover:bg-[#1A1A1C]",F.status==="M"?"text-[#CCB252]":"text-[#cccccc]")),onClick:()=>h(F.fileName),children:[t.jsx("img",{src:U6,className:k("w-4 h-4",F.status==="M"&&"opacity-80")}),t.jsx("span",{children:F.fileName?F.fileName.split("/").pop():""}),t.jsx("span",{className:"ml-auto text-xs opacity-60",children:F.status})]},F.fileName))]},C))]})})]}),t.jsx("div",{className:"w-[70%] max-w-[70%] h-full",children:v?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("div",{className:"text-[#cccccc]",children:"Loading diff..."})}):y?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("div",{className:"text-[#ff6b6b] max-w-md text-center p-4",children:y})}):x?t.jsx(zg,{height:"100%",theme:"github-dark",original:x.originalContent,modified:x.modifiedContent,beforeMount:Pbe,options:{renderSideBySide:!0,readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,lineNumbers:"on",diffWordWrap:"off",renderOverviewRuler:!1,fontSize:13,fontFamily:"'JetBrains Mono', 'Fira Code','SF Mono', Menlo, Monaco, Consolas, 'Courier New', monospace",lineHeight:20,glyphMargin:!1,folding:!1,renderIndicators:!0,renderMarginRevertIcon:!1,ignoreTrimWhitespace:!1,"bracketPairColorization.enabled":!1}}):t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("div",{className:"text-[#666666]",children:"Select a file to view diff"})})})]})]})}):null},Bbe={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",svg:"image/svg+xml",pdf:"application/pdf",mp4:"video/mp4",webm:"video/webm",mp3:"audio/mpeg",wav:"audio/wav"},a$="application/octet-stream",Ube="DOWNLOAD_FILE_REQUEST",o$=()=>!!window?.ReactNativeWebView,Hbe=e=>{const n=e.split(".").pop()?.toLowerCase().split("?")[0];return Bbe[n||""]||a$},Vbe=e=>{const n=e.match(/^data:([^;]+);/);return n?n[1]:a$},l$=e=>{window.ReactNativeWebView?.postMessage(JSON.stringify({type:Ube,payload:e}))},c$=(e,n)=>{const s=document.createElement("a");s.href=e,s.download=n,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)},h0=async(e,n)=>{const s=n||"download";if(o$()){l$({url:e,filename:s,mimeType:Hbe(e)});return}try{const r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file: ${r.statusText}`);const i=await r.blob(),a=URL.createObjectURL(i);c$(a,s),URL.revokeObjectURL(a)}catch{const i=document.createElement("a");i.href=e,i.target="_blank",i.download=s,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}},$be=(e,n)=>{if(o$()){l$({url:e,filename:n,mimeType:Vbe(e),isBase64:!0});return}c$(e,n)};function zbe({image:e,isOpen:n,onClose:s}){d.useEffect(()=>{const a=o=>{o.key==="Escape"&&n&&s()};return n&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow=""}},[n,s]);const r=async()=>{if(!e)return;const a=e.mime_type?.split("/")[1]||"png",o=`image-${new Date().getTime()}.${a}`;if(e.img_url&&!e.img_url.startsWith("data:"))await h0(e.img_url,o);else{const l=e.img_url||`data:${e.mime_type};base64,${e.img_base64}`;$be(l,o)}},i=a=>{a.target===a.currentTarget&&s()};return t.jsx(as,{open:n&&!!e,onOpenChange:a=>{a||s()},children:t.jsx(Cr,{children:t.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:i,"data-testid":er.imagePreview.modal,children:[t.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4 bg-gradient-to-b from-black/50 to-transparent",children:[t.jsx("div",{className:"text-sm text-white/70",children:"Image Preview"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:r,"data-testid":er.imagePreview.download,className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Download image",children:t.jsx(Ja,{className:"w-5 h-5"})}),t.jsx("button",{type:"button",onClick:s,className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Close preview","data-testid":er.imagePreview.close,children:t.jsx(Ft,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"relative flex items-center justify-center w-full h-full p-8 pt-20",children:t.jsx("img",{src:e?.img_url||`data:${e?.mime_type};base64,${e?.img_base64}`,alt:"Full size preview",className:"object-contain max-w-full max-h-full rounded-lg shadow-2xl",onClick:a=>a.stopPropagation()})})]})})})}function vC({images:e,className:n}){const[s,r]=d.useState(null);return!e||e.length===0?null:t.jsxs(t.Fragment,{children:[t.jsx("div",{className:k("grid gap-2 relative my-4 rounded-lg w-full",e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-2 md:grid-cols-3",n),children:e.map((i,a)=>t.jsx("div",{className:"relative rounded-lg max-h-[300px] overflow-hidden bg-white/10 flex items-center justify-center cursor-pointer","data-testid":Nr.imageGallery.item,onClick:()=>{H("screenshot_opened",{image_url:i.img_url,image_mime_type:i.mime_type,image_base64:i.img_base64}),r(i)},children:t.jsx("img",{src:i.img_url||`data:${i.mime_type};base64,${i.img_base64}`,alt:`Image ${a+1}`,className:"w-full h-full object-contain rounded-lg max-h-[300px]"})},a))}),t.jsx(zbe,{image:s,isOpen:!!s,onClose:()=>{H("screenshot_closed",{image_url:s?.img_url,image_mime_type:s?.mime_type,image_base64:s?.img_base64}),r(null)}})]})}function d$({imageUrl:e,imageName:n,isOpen:s,onClose:r}){d.useEffect(()=>{const o=l=>{l.key==="Escape"&&s&&r()};return s&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow=""}},[s,r]);const i=async()=>{if(e)try{const o=n||`image-${new Date().getTime()}`,l=e.split(".").pop()?.split("?")[0]||"png",c=o.includes(".")?o:`${o}.${l}`;await h0(e,c)}catch{window.open(e,"_blank")}},a=o=>{o.target===o.currentTarget&&r()};return t.jsx(as,{open:s&&!!e,onOpenChange:o=>{o||r()},children:t.jsx(Cr,{children:t.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:a,children:[t.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4 bg-gradient-to-b from-black/50 to-transparent",children:[t.jsx("div",{className:"text-sm truncate text-white/70 max-w-[80%]",children:n?`${n} - Image Preview`:"Image Preview"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:i,className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Download image",children:t.jsx(Ja,{className:"w-5 h-5"})}),t.jsx("button",{type:"button",onClick:r,className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Close preview",children:t.jsx(Ft,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"relative flex items-center justify-center w-full h-full p-8 pt-20",children:t.jsx("img",{src:e||"",alt:n||"Full size preview",className:"object-contain max-w-full max-h-full rounded-lg shadow-2xl min-h-[300px] min-w-[300px]",onClick:o=>o.stopPropagation()})})]})})})}const Wbe=K.files.pdf,pI=K.files.csv,Gbe=K.files.doc,qbe=K.files.ppt,Kbe=K.files.txt,Ybe=K.files.video,Zbe=K.files.svg,fI=K.files.other,u$=K.files.zip,H6=(e,n,s)=>{if(!e&&!n&&!s)return!1;const i=[".jpg",".jpeg",".png",".gif",".webp",".svg",".bmp",".tiff",".tif",".ico",".avif",".heic",".heif"].some(l=>{const c=e?e.toLowerCase().endsWith(l):!1,u=n?n.toLowerCase().includes(l):!1;return c||u});if(s&&s.startsWith("image/"))return!0;const o=n?["image","img","photo","picture","pic",".jpg",".jpeg",".png",".gif",".webp",".svg",".bmp",".tiff",".tif",".ico",".avif",".heic",".heif"].some(l=>n.toLowerCase().includes(l)):!1;return i||o},Jbe=(e,n)=>{if(!n&&!e)return fI;const s=n?.toLowerCase()||"";return s.endsWith(".pdf")||e==="application/pdf"?Wbe:s.endsWith(".csv")||e==="text/csv"?pI:s.endsWith(".doc")||s.endsWith(".docx")||e==="application/msword"||e==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?Gbe:s.endsWith(".zip")||s.endsWith(".tar")||s.endsWith(".rar")||s.endsWith(".7z")||e?.includes("zip")||e?.includes("tar")||e?.includes("rar")||e?.includes("7z")?u$:s.endsWith(".ppt")||s.endsWith(".pptx")||e==="application/vnd.ms-powerpoint"||e==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?qbe:s.endsWith(".txt")||s.endsWith(".md")||s.endsWith(".log")||e==="text/plain"||e==="text/markdown"?Kbe:s.endsWith(".mp4")||s.endsWith(".avi")||s.endsWith(".mov")||s.endsWith(".wmv")||s.endsWith(".mkv")||e?.startsWith("video/")?Ybe:s.endsWith(".svg")||e==="image/svg+xml"?Zbe:s.endsWith(".xls")||s.endsWith(".xlsx")||e==="application/vnd.ms-excel"||e==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?pI:fI},Xbe=(e,n)=>e?.startsWith("image/")?W7:e?.startsWith("video/")?q7:e?.startsWith("text/")||n?.endsWith(".txt")?vo:e?.includes("zip")||e?.includes("tar")||e?.includes("rar")?H7:n?.endsWith(".pdf")||n?.endsWith(".csv")||n?.endsWith(".xlsx")?vo:Nh,mI=e=>{if(!e)return"Unknown size";if(e===0)return"0 Bytes";const n=1024,s=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(2))+" "+s[r]},hI=(e,n=15)=>{if(e.length<=n)return e;const s=e.split(".").pop()||"",r=e.substring(0,e.lastIndexOf("."));return r.length<=10?e:`${r.substring(0,15)}...${s}`};function Qbe({images:e,className:n}){const[s,r]=d.useState(null),[i,a]=d.useState(null);if(!e||e.length===0)return null;const o=async(c,u)=>{u.stopPropagation(),!(c.visibility==="private"&&!c.url)&&await h0(c.url,c.name||"download")},l=c=>{c.visibility==="private"&&!c.url||H6(c.name,c.url,c.mime_type)&&r(c)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:k("flex flex-wrap max-w-4xl overflow-x-auto gap-[10px] relative my-2 mb-0 rounded-lg w-full",n),"data-testid":Nr.artifactGallery,children:e.map((c,u)=>{const p=H6(c.name,c.url,c.mime_type),f=Jbe(c.mime_type,c.name),m=Xbe(c.mime_type,c.name),h=c.visibility==="private"&&!c.url;return t.jsxs("div",{className:`relative rounded-[12px] p-[6px] min-h-[180px] max-h-[180px] min-w-[180px] max-w-[180px] overflow-hidden bg-[#FFFFFF0F] flex flex-col items-center justify-center transition-colors ${h?"":"cursor-pointer hover:bg-[#FFFFFF15]"}`,onClick:()=>l(c),onMouseEnter:()=>!h&&a(u),onMouseLeave:()=>a(null),"data-testid":Nr.artifactItem,children:[p&&c.url?t.jsx("img",{src:c.url,alt:c.name||`Image ${u+1}`,className:"object-cover w-full h-full rounded-lg",onError:x=>{const v=x.target.parentElement;v&&(v.innerHTML=`
                        <div class="flex flex-col items-center justify-center h-full p-4">
                          <img src="${f}" alt="File" class="w-12 h-12 mb-2" />
                          <span class="text-[12px] text-white/70 text-center break-words">${hI(c.name)}</span>
                          <span class="text-[10px] text-white/50 mt-1">${mI(c.file_size)}</span>
                        </div>
                      `)}}):t.jsxs("div",{className:"flex flex-col items-start justify-between w-full h-full p-3 bg-[#FFFFFF05] rounded-[8px]",children:[t.jsx("div",{className:"flex items-center w-full ",children:f?t.jsx("img",{src:f,alt:"File",className:k("w-12 h-12 mb-2",f===u$&&"p-1")}):t.jsx(m,{className:"w-12 h-12 mb-2 text-[#FFFFFF60]"})}),t.jsxs("div",{className:"flex flex-col items-start justify-center",children:[t.jsx("span",{className:"text-[12px] text-white/70 text-nowrap text-center break-words mb-1",children:hI(c.name)}),(c.file_size||0)>0&&t.jsx("span",{className:"text-[10px] text-white/50",children:mI(c.file_size)})]})]}),t.jsx("button",{type:"button",onClick:x=>o(c,x),disabled:h,className:`absolute top-2 right-2 p-1.5 bg-black/50 rounded-lg transition-opacity ${h?"opacity-0":`hover:bg-black/70 ${i===u?"opacity-100":"opacity-0"}`}`,title:h?"Private file - Download not available":"Download file",children:t.jsx(Ja,{className:"w-4 h-4 text-white"})})]},u)})}),s&&H6(s.name,s.url,s.mime_type)&&t.jsx(d$,{imageUrl:s.url,imageName:s.name,isOpen:!!s,onClose:()=>r(null)})]})}const Y1=e=>{if(!e||!e.name&&!e.mime_type)return!1;const n=["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml","image/bmp","image/tiff","image/ico","image/avif","image/heic","image/heif"];if(e.mime_type&&n.includes(e.mime_type))return!0;const s=e.name||e.file_name;return s?[".jpg",".jpeg",".png",".gif",".webp",".svg",".bmp",".tiff",".tif",".ico",".avif",".heic",".heif"].some(i=>s.toLowerCase().endsWith(i)):!1},e6e=(e,n)=>{const s=[],r=[];return new Set(e.filter(Y1).map(i=>i.name?.toLowerCase()).filter(i=>i!==void 0)),n.forEach(i=>{e.some(o=>Y1(o)&&!0)||r.push(i)}),e.forEach(i=>{Y1(i)&&s.push(i)}),{matchedArtifacts:s,unmatchedBase64:r}},p$=({base64Images:e,artifacts:n,artifactSharedData:s,className:r,fromMember:i})=>{const a=()=>{const h=n||s?.artifacts||[],x=e||s?.base64_image_list||[],g=h.filter(y=>y.file_name||y.name).map(y=>{let w="";return y.local_preview_base64?w=`data:${y.mime_type||"image/jpeg"};base64,${y.local_preview_base64}`:y.local_preview_url?w=y.local_preview_url:y.file_path?w=y.file_path:y.url&&(w=y.url),{name:y.file_name||y.name||"unnamed",url:w,artifact_type:y.artifact_type,mime_type:y.mime_type,file_size:y.file_size,visibility:y.visibility||(w?"public":"private")}}),v=g.filter(Y1),b=g.filter(y=>!Y1(y));if(g.length>0)if(x.length>0){const{matchedArtifacts:y,unmatchedBase64:w}=e6e(v,x);return{imageArtifacts:y,nonImageArtifacts:b,base64Images:w,hasImageArtifacts:y.length>0,hasNonImageArtifacts:b.length>0,hasBase64:w.length>0}}else return{imageArtifacts:v,nonImageArtifacts:b,base64Images:[],hasImageArtifacts:v.length>0,hasNonImageArtifacts:b.length>0,hasBase64:!1};return{imageArtifacts:[],nonImageArtifacts:[],base64Images:x,hasImageArtifacts:!1,hasNonImageArtifacts:!1,hasBase64:x.length>0}},{imageArtifacts:o,nonImageArtifacts:l,base64Images:c,hasImageArtifacts:u,hasNonImageArtifacts:p,hasBase64:f}=a(),m=[...o,...l];return m.length===0&&!f?null:t.jsxs("div",{className:k("enhanced-image-renderer",r),children:[m.length>0&&t.jsx(Qbe,{images:m,className:i?"justify-start md:ml-[42px]":"justify-end"}),f&&t.jsx(vC,{images:c,className:i?"justify-start md:ml-[42px]":"justify-end"})]})},f$=bK,wC=d.forwardRef(({className:e,...n},s)=>t.jsx(DM,{ref:s,className:k("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...n}));wC.displayName=DM.displayName;const eu=d.forwardRef(({className:e,...n},s)=>t.jsx(MM,{ref:s,className:k("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...n}));eu.displayName=MM.displayName;const tu=d.forwardRef(({className:e,...n},s)=>t.jsx(RM,{ref:s,className:k("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));tu.displayName=RM.displayName;const g8=({data:e,searchTerm:n,path:s="",isRoot:r=!1,defaultExpanded:i=!1})=>{const[a,o]=d.useState(i||r),l=n?JSON.stringify(e).toLowerCase().includes(n.toLowerCase()):!1,c=f=>{if(!n)return f;const m=new RegExp(`(${n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return f.split(m).map((x,g)=>m.test(x)?t.jsx("span",{className:"text-white bg-yellow-500/30",children:x},g):x)};if(e===null)return t.jsx("span",{className:"text-gray-500",children:"null"});if(e===void 0)return t.jsx("span",{className:"text-gray-500",children:"undefined"});if(typeof e!="object"){const f=String(e);return t.jsxs("span",{className:typeof e=="string"?"text-green-400":"text-blue-400",children:[typeof e=="string"?'"':"",c(f),typeof e=="string"?'"':""]})}if(Array.isArray(e)&&e.length===0)return t.jsx("span",{className:"text-gray-400",children:"[]"});if(Object.keys(e).length===0&&!Array.isArray(e))return t.jsx("span",{className:"text-gray-400",children:"{}"});const u=Array.isArray(e),p=u?e:Object.entries(e);return t.jsxs("div",{className:`${r?"":"ml-4"} ${l&&n?"border-l-2 border-yellow-500 pl-2":""}`,children:[t.jsxs("div",{className:"flex items-center px-1 rounded cursor-pointer hover:bg-gray-800",onClick:()=>o(!a),children:[a?t.jsx(Ur,{className:"w-4 h-4 mr-1 text-gray-400"}):t.jsx(Bo,{className:"w-4 h-4 mr-1 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:u?`Array(${p.length})`:`Object{${Object.keys(e).length}}`})]}),a&&t.jsx("div",{className:"ml-2",children:u?p.map((f,m)=>t.jsxs("div",{className:"flex",children:[t.jsxs("span",{className:"mr-2 text-gray-500",children:["[",m,"]:"]}),t.jsx(g8,{data:f,searchTerm:n,path:`${s}[${m}]`,defaultExpanded:l&&n!==""})]},`${s}.${m}`)):Object.entries(e).map(([f,m],h)=>t.jsxs("div",{className:"flex",children:[t.jsxs("span",{className:"mr-2 text-purple-400",children:['"',c(f),'":']}),t.jsx(g8,{data:m,searchTerm:n,path:`${s}.${f}`,defaultExpanded:l&&n!==""})]},`${s}.${f}`))})]})};function t6e({isOpen:e,onOpenChange:n,containerId:s,message:r}){const{isMobile:i}=ts(),[a,o]=d.useState(!1),[l,c]=d.useState(null),[u,p]=d.useState(null),[f,m]=d.useState(""),[h,x]=d.useState("formatted");d.useEffect(()=>{const w=r?.request_id||s;e&&w&&g()},[e,s,r?.request_id]);const g=async()=>{const w=r?.request_id||s;if(!w){c("No request ID or container ID available for debugging");return}o(!0),c(null);try{const _=await vt.getDebugInfo(w);p(_)}catch(_){c(_.message||"Failed to fetch debug information")}finally{o(!1)}},v=()=>{n(!1)},b=w=>{if(!w)return null;if(h==="raw"){const _=JSON.stringify(w,null,2);if(!f)return t.jsx("pre",{className:"bg-[#1E1E1E] p-4 rounded-md overflow-auto h-full w-full text-sm",children:_});const N=new RegExp(`(${f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),j=_.split(N);return t.jsx("pre",{className:"bg-[#1E1E1E] p-4 rounded-md overflow-auto h-full w-full text-sm",children:j.map((C,S)=>N.test(C)?t.jsx("span",{className:"text-white bg-yellow-500/30",children:C},S):t.jsx("span",{children:C},S))})}return t.jsx("div",{className:"bg-[#1E1E1E] p-4 rounded-md overflow-auto h-full w-full text-sm font-mono",children:t.jsx(g8,{data:w,searchTerm:f,isRoot:!0,defaultExpanded:!0})})},y=()=>t.jsx("div",{className:"flex-1 overflow-auto",children:a?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx(tn,{className:"w-8 h-8 animate-spin text-primary"}),t.jsx("span",{className:"ml-2",children:"Loading debug information..."})]}):l?t.jsx("div",{className:"p-4 text-red-500 rounded-md bg-red-500/10",children:l}):u?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex flex-col gap-4 px-4 mb-4",children:t.jsxs("div",{className:"relative flex items-center",children:[t.jsx($o,{className:"absolute w-4 h-4 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),t.jsx("input",{type:"text",placeholder:"Search in JSON...",className:"w-full pl-10 pr-4 py-2 bg-[#1E1E1E] border border-gray-700 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",value:f,onChange:w=>m(w.target.value)}),t.jsx(rc,{showIcon:!0,iconOnly:!0,className:"ml-4 border-none bg-none",buttonClassName:yu({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 bg-white/10 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:JSON.stringify(u,null,2),tooltipText:"Copy",copiedTooltipText:"Copied",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{}})]})}),t.jsxs(f$,{defaultValue:"raw",onValueChange:x,children:[t.jsxs(wC,{className:"grid w-full grid-cols-2",children:[t.jsx(eu,{value:"formatted",children:"Formatted"}),t.jsx(eu,{value:"raw",children:"Raw JSON"})]}),t.jsx(tu,{value:"formatted",className:"p-4 overflow-auto",children:b(u)}),t.jsx(tu,{value:"raw",className:"p-4 overflow-auto",children:b(u)})]})]}):t.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"No debug information available"})});return i?t.jsx(Fa,{trigger:t.jsx("div",{}),title:`Debug Information for ${r?.request_id||s}`,open:e,onOpenChange:n,maxWidth:"max-w-full",showDefaultFooter:!1,footer:t.jsx("div",{className:"flex justify-end w-full",children:t.jsx(zt,{onClick:v,children:"Close"})}),children:t.jsx("div",{className:"h-[80vh] flex flex-col",children:y()})}):t.jsx(as,{open:e,onOpenChange:n,children:t.jsxs(Er,{className:"sm:max-w-[90vw] h-[90vh] flex flex-col",children:[t.jsx(lc,{children:t.jsxs(Lo,{children:["Debug Information for ",r?.request_id||s]})}),y(),t.jsx(ad,{children:t.jsx(zt,{onClick:v,children:"Close"})})]})})}const Z1=({size:e=20,color:n,className:s=""})=>{const r=n||"currentColor";return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M9.97494 20C7.38513 20 5.13784 19.1417 3.23308 17.425C1.32832 15.7083 0.250627 13.5667 0 11H2.03008C2.2807 13.0167 3.16207 14.6875 4.67419 16.0125C6.1863 17.3375 7.95322 18 9.97494 18C12.2139 18 14.1103 17.225 15.6642 15.675C17.218 14.125 17.995 12.2333 17.995 10C17.995 7.76667 17.218 5.875 15.6642 4.325C14.1103 2.775 12.2139 2 9.97494 2C8.53801 2 7.20551 2.35417 5.97744 3.0625C4.74937 3.77083 3.77611 4.75 3.05764 6H5.96491V8H0.150376C0.634921 5.66667 1.79616 3.75 3.63409 2.25C5.47201 0.75 7.58563 0 9.97494 0C11.3617 0 12.665 0.2625 13.8847 0.7875C15.1044 1.3125 16.1654 2.025 17.0677 2.925C17.9699 3.825 18.6842 4.88333 19.2105 6.1C19.7368 7.31667 20 8.61667 20 10C20 11.3833 19.7368 12.6833 19.2105 13.9C18.6842 15.1167 17.9699 16.175 17.0677 17.075C16.1654 17.975 15.1044 18.6875 13.8847 19.2125C12.665 19.7375 11.3617 20 9.97494 20Z",fill:r}),t.jsx("path",{d:"M12.7822 14.2L8.97266 10.4V5H10.9777V9.6L14.1857 12.8L12.7822 14.2Z",fill:r})]})},n6e=K.icons.history,m$=d.memo(({isHovered:e,handleRollback:n,message:s,isCloudFlow:r,className:i,hideImportantActions:a,hideRollback:o,forkStatus:l,onCopy:c,agentStatus:u,podIsPaused:p=!1})=>{const f=li(),m=cc(),[h,x]=d.useState(!1),{isMobile:g}=ts(),v=()=>{H(Up.DEBUG_CLICKED,{messageId:s.id,containerId:s.containerId,requestId:s.request_id,action:s.action,functionName:s.function_name}),x(!0)},b=()=>p?"Please wake up the agent before rolling back":u==="subagent_running"?"Please wait for the subagent to finish before rolling back":u==="subagent_stopping"?"Can't rollback at the moment - Subagent is stopping":u==="subagent_waiting"?"Please finish the subagent before rolling back":u==="running"?"Can't rollback at the moment - Agent is running":"",y=f?k("h-[30px] px-2",!g&&"pr-[8px]"):k("p-[6px]",!g&&"pr-[10px]");return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:k("inline-flex items-center gap-2",e?"opacity-100 pointer-events-auto":"opacity-0 absolute pointer-events-none",i),children:[s.enable_rollback&&!a&&!o&&l!=="running"&&t.jsx(ms,{children:t.jsxs(Ss,{delayDuration:0,children:[t.jsx(ks,{asChild:!0,children:t.jsxs("button",{type:"button",className:k("bg-[#222224] hover:bg-[#3c3c40] text-[#7B7B80] disabled:opacity-50 hover:text-[#ccc] flex items-center space-x-1 rounded-lg transition-colors",y),onClick:()=>{n&&u==="waiting"&&(H(Up.ROLLBACK_CLICKED,{messageId:s.id,containerId:s.containerId,requestId:s.request_id,action:s.action,agentStatus:u,enableRollback:s.enable_rollback}),n())},disabled:p||u!=="waiting",children:[t.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:f?t.jsx(Z1,{className:"w-3 h-3"}):t.jsx("img",{src:n6e,className:"w-4 h-4 text-[#5C5F66]",alt:"Rollback"})}),!g&&t.jsx("span",{className:k("leading-[20px] font-['Inter'] font-medium",f?"text-[14px]":"text-[15px]"),children:"Rollback"})]})}),t.jsx(Ns,{className:k("bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",b()?"":"hidden"),children:b()})]})}),m&&(s.containerId||s.request_id)&&!g&&t.jsx("button",{type:"button",className:"p-[6px] pr-[10px] bg-[#222224] hover:bg-[#3c3c40] text-[#7B7B80] hover:text-[#ccc] flex items-center space-x-1 rounded-lg transition-colors",onClick:v,children:t.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:t.jsx(U2,{className:"w-4 h-4 text-[#5C5F66]"})})}),t.jsx(rc,{value:()=>s.action?[s.content,s.action&&`
Action: ${s.action}`,s.observation&&`
Observation: ${s.observation}`,s.thought&&`
Thought: ${s.thought}`].filter(Boolean).join(""):s.content,feedbackType:f?"tooltip":"icon-text",iconOnly:f,tooltipEnabled:f,showTooltipOnHover:f,tooltipText:"Copy",copiedTooltipText:"Copied",defaultText:f?void 0:g?"":"Copy",copiedText:f?void 0:"Copied",showIcon:!0,onCopy:w=>{H(Up.COPY_CLICKED,{messageId:s.id,containerId:s.containerId,requestId:s.request_id,action:s.action,contentLength:typeof w=="string"?w.length:0,hasAction:!!s.action,hasObservation:!!s.observation,hasThought:!!s.thought}),c&&c()},copiedClassName:"",buttonClassName:f?"h-[30px] w-[30px] bg-[#222224] hover:bg-[#3c3c40] text-[12px] font-inter font-medium text-[#7B7B80] hover:text-[#ccc] flex items-center justify-center rounded-lg transition-colors":"p-[6px] bg-white/5 hover:bg-white/15 text-[15px] font-inter font-medium text-white/50 hover:text-white flex items-center space-x-1 rounded-lg transition-colors",iconProps:f?{size:14,className:e?"hover:text-[#ccc]":"text-[#7B7B80]"}:{size:16,className:"text-white/60"},className:k("max-h-full bg-none",f&&"font-inter text-[14px]"),"data-testid":Wr.messageCopyButton})]}),t.jsx(t6e,{isOpen:h,onOpenChange:x,containerId:s.containerId||s.request_id,message:s})]})}),h$=(e,n=80)=>e.split(" ").some(r=>r.length>n),s6e=[{pattern:/\b(API key|api key|API_KEY|apikey)\s+([\w\-\.]{20,})/gi,type:"API_KEY"},{pattern:/\b(secondary key|primary key|access key|secret key)\s+([\w\-\.]{20,})/gi,type:"KEY"},{pattern:/\b(database password|db password)\s+([\w\-\.&@!#%^*()+=]{3,})/gi,type:"PASSWORD"},{pattern:/\b(password|pwd)\s+([a-zA-Z0-9\-_\.&@!#%^*()+=]{6,})/gi,type:"PASSWORD"},{pattern:/(mongodb(\+srv)?:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/(postgres:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/(mysql:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/(redis:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/([a-zA-Z]+:\/\/[^:\s]+:[^@\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/\b([a-fA-F0-9]{40,64})\b/g,type:"HASH"},{pattern:/(eyJ[a-zA-Z0-9_-]{10,}\.[a-zA-Z0-9_-]{10,}\.[a-zA-Z0-9_-]{10,})/g,type:"JWT"},{pattern:/\b([a-zA-Z0-9_-]+)?api[_-]?key["']?\s*[:=]\s*["']?([\w\-\.]{20,})["']?/gi,type:"API_KEY"},{pattern:/\b([a-zA-Z0-9_-]+)?token["']?\s*[:=]\s*["']?([\w\-\.]{20,})["']?/gi,type:"TOKEN"},{pattern:/\b([a-zA-Z0-9_-]+)?secret["']?\s*[:=]\s*["']?([\w\-\.]{20,})["']?/gi,type:"SECRET"},{pattern:/\b([a-zA-Z0-9_-]+)?password["']?\s*[:=]\s*["']?([\w\-\.]{6,})["']?/gi,type:"PASSWORD"},{pattern:/\bAKIA[0-9A-Z]{16}/g,type:"AWS_KEY"},{pattern:/\bTr0ub4dor&3\b/g,type:"PASSWORD"}],x$=e=>{const n=[];return s6e.forEach(({pattern:s,type:r})=>{let i;const a=new RegExp(s.source,s.flags);for(;(i=a.exec(e))!==null;){const o=i[0],l=i.index,c=l+o.length;let u=o;if(i.length>1){const p=i[i.length-1];if(p&&o.includes(p)){u=p;const f=o.indexOf(p);if(f!==-1){const m=l+f,h=m+p.length;n.push({originalText:p,startIndex:m,endIndex:h,type:r});continue}}}n.push({originalText:u,startIndex:l,endIndex:c,type:r})}}),n.sort((s,r)=>s.startIndex-r.startIndex)},xI=(e,n,s,r="")=>{const i="my-1 overflow-hidden",o=[/^\s*```/,/^(\s{4,}|\t)/,/^[\s]*[{}\[\]()=><;.]/,/^[\s]*\w+\(/,/^[\s]*(const|let|var|function|class|import|export|return|if|else|for|while)\s/,/^[\s]*\/\//,/^[\s]*\/\*/,/^[\s]*\*/,/^[\s]*#/,/[;{}]\s*$/,/^[\s]*<\/?[a-zA-Z]/].some(f=>f.test(e)),c=n||o?"font-mono text-sm":s?"text-[#cfe3e6] font-['Inter'] text-[16px] leading-[28px] font-normal":"text-[#dcdce5] font-['Inter'] text-[16px] leading-[28px] font-normal",p=h$(e)?"break-words":"";return[i,c,p,r].filter(Boolean).join(" ")},gI=e=>h$(e)?{wordBreak:"break-word"}:{},g$=({originalText:e,truncatedText:n,className:s})=>{const r=n||r6e(e);return t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("span",{className:k("cursor-help border-b border-dotted border-gray-500",s),children:r})}),t.jsx(Ns,{children:t.jsx("span",{className:"font-mono text-xs break-all",children:e})})]})})},r6e=e=>{if(!e||e.length<=8)return e;const n=e.substring(0,3),s=e.substring(e.length-3);return`${n}...${s}`},i6e=({children:e,className:n,variant:s="default",customComponents:r={}})=>{const i=li(),a="selection:text-[#66EAFF] text-wrap break-words selection:bg-[#66EAFF] selection:bg-opacity-10 font-['Inter'] max-w-3xl select-text",o={default:k("p-0 text-[#dcdce5] font-['Inter'] leading-[28px] font-normal max-w-4xl",i?"text-[15px]":"text-[16px]"),compact:"p-0 text-[#dcdce5] font-['Inter'] text-[14px] leading-[24px] font-normal max-w-4xl",minimal:"p-0 text-[#dcdce5] font-['Inter'] text-[14px] leading-[20px] font-normal max-w-4xl"},c={...{p:({...u})=>t.jsx("p",{className:k("my-4 font-['Inter']",i&&"text-[15px] leading-[28px]"),...u}),h1:({...u})=>t.jsx("h1",{className:"mt-8 mb-4 text-[28px] leading-[36px] font-semibold tracking-tight text-white font-['Inter']",...u}),h2:({...u})=>t.jsx("h2",{className:"mt-6 mb-3 text-2xl font-semibold tracking-tight text-white/90 font-['Inter']",...u}),h3:({...u})=>t.jsx("h3",{className:"mt-5 mb-2 text-xl font-semibold text-white/80 font-['Inter']",...u}),h4:({...u})=>t.jsx("h4",{className:"mt-4 mb-2 text-lg font-semibold text-white/70 font-['Inter']",...u}),h5:({...u})=>t.jsx("h5",{className:"mt-3 mb-1 text-base font-medium text-white/60 font-['Inter']",...u}),h6:({...u})=>t.jsx("h6",{className:"mt-2 mb-1 text-sm font-medium tracking-wider uppercase text-white/50 font-['Inter']",...u}),ul:({...u})=>t.jsx("ul",{className:"pl-4 space-y-1 list-disc font-['Inter']",...u}),ol:({...u})=>t.jsx("ol",{className:"pl-4 space-y-1 list-decimal font-['Inter']",...u}),li:({className:u,...p})=>u==="task-list-item"?t.jsx("li",{className:"pl-1 ml-4 font-['Inter']",...p}):t.jsx("li",{className:k("pl-1 ml-4 font-['Inter']",u),...p}),blockquote:({...u})=>t.jsx("blockquote",{className:"pl-4 my-4 italic border-l-4 border-blue-500/40 text-white/70 font-['Inter']",...u}),code:({inline:u,className:p,children:f,...m})=>{const h=String(f||"");return u===!0||u!==!1&&!p?.startsWith("language-")&&!h.includes(`
`)&&h.length<200?t.jsx("span",{className:" px-1.5 py-0.5 rounded-[6px] text-[12px] font-jetbrains border border-[#80fff920]  bg-[#80fff910] text-[#80fff9] whitespace-nowrap inline",...m,children:f}):t.jsx("span",{className:"block p-4 overflow-x-auto text-sm rounded-lg bg-white/5 text-[#dcdce5] font-jetbrains",...m,children:f})},pre:({...u})=>t.jsx("pre",{className:"p-0 my-4 overflow-hidden bg-transparent rounded-md",...u}),a:({...u})=>t.jsx("a",{className:"text-blue-400 transition-colors duration-200 hover:text-blue-300 hover:underline underline-offset-2 font-['Inter']",...u}),table:({...u})=>t.jsx("table",{className:"w-full my-4 border-collapse font-['Inter']",...u}),thead:({...u})=>t.jsx("thead",{className:"bg-gray-800/40 font-['Inter']",...u}),tbody:({...u})=>t.jsx("tbody",{className:"divide-y divide-gray-800/60 font-['Inter']",...u}),tr:({...u})=>t.jsx("tr",{className:"transition-colors duration-150 hover:bg-gray-800/20 font-['Inter']",...u}),th:({...u})=>t.jsx("th",{className:"px-3 py-2 font-semibold text-left text-white/80 font-['Inter']",...u}),td:({...u})=>t.jsx("td",{className:"px-3 py-2 font-['Inter']",...u}),hr:({...u})=>t.jsx("hr",{className:"my-6 border-t border-white/[0.08] font-['Inter']",...u}),strong:({...u})=>t.jsx("strong",{className:"font-bold text-white font-['Inter']",...u}),em:({...u})=>t.jsx("em",{className:"italic text-white/90 font-['Inter']",...u}),img:({...u})=>t.jsx("img",{className:"h-auto max-w-full my-4 rounded-lg shadow-md shadow-black/20",...u,loading:"lazy"}),dl:({...u})=>t.jsx("dl",{className:"my-4 space-y-2 font-['Inter']",...u}),dt:({...u})=>t.jsx("dt",{className:"font-medium text-white/90 font-['Inter']",...u}),dd:({...u})=>t.jsx("dd",{className:"ml-4 text-white/70 font-['Inter']",...u}),details:({...u})=>t.jsx("details",{className:k("overflow-hidden font-['Inter'] border rounded-md border-gray-700/50",i?"my-6":"my-3"),...u}),summary:({...u})=>t.jsx("summary",{className:"px-4 py-2 transition-colors font-['Inter'] duration-200 cursor-pointer bg-gray-800/30 hover:bg-gray-800/50",...u}),sup:({...u})=>t.jsx("sup",{className:"text-xs align-super font-['Inter']",...u}),sub:({...u})=>t.jsx("sub",{className:"text-xs align-sub font-['Inter']",...u}),del:({...u})=>t.jsx("del",{className:"text-gray-400 line-through decoration-1 font-['Inter']",...u})},...r};return t.jsx(JM,{className:k(a,o[s],n,"max-w-[50rem]"),remarkPlugins:[XM],components:c,children:e})},dl=d.memo(i6e,(e,n)=>e.children===n.children&&e.variant===n.variant&&e.className===n.className),CC=e=>/^\s*```/.test(e),a6e=e=>/^(\s{4,}|\t)/.test(e)&&e.trim().length>0,b$=e=>CC(e)||a6e(e)?!0:[/^[\s]*[{}\[\]()=><;.]/,/^[\s]*\w+\(/,/^[\s]*(const|let|var|function|class|import|export|return|if|else|for|while)\s/,/^[\s]*\/\//,/^[\s]*\/\*/,/^[\s]*\*/,/^[\s]*#/,/[;{}]\s*$/,/^[\s]*\w+\s*[:=]\s*/,/^[\s]*<\/?[a-zA-Z]/].some(s=>s.test(e)),o6e=e=>{const n=[];let s=null;for(let r=0;r<e.length;r++)CC(e[r])&&(s===null?s=r:(n.push({start:s,end:r}),s=null));return n},l6e=(e,n)=>{for(const s of n)if(e>=s.start&&e<=s.end)return{inside:!0,isMarker:e===s.start||e===s.end};return{inside:!1,isMarker:!1}},c6e=e=>{const n=[];let s=null;const r=o6e(e);let i=0;for(;i<e.length;){const a=e[i],o=l6e(i,r);if(o.inside){if(o.isMarker&&CC(a)){const p=r.find(f=>f.start===i||f.end===i);if(p&&p.start===i){s&&(n.push(s),s=null);const f=[];for(let m=p.start;m<=p.end;m++){let h=e[m];(m===p.start||m===p.end)&&(h=h.replace(/^\s*```/,"")),(h.length>0||m!==p.start&&m!==p.end)&&f.push(h)}n.push({type:"code",lines:f,startLineIndex:p.start}),i=p.end+1;continue}}i++;continue}const c=b$(a)?"code":"text",u=a.trim()==="";s?u||s.type===c?s.lines.push(a):(n.push(s),s={type:c,lines:[a],startLineIndex:i}):s={type:u?"text":c,lines:[a],startLineIndex:i},i++}return s&&n.push(s),n},d6e=(e,n,s,r=!1,i=[],a=0)=>{const o=b$(e),l=r&&i?i.filter(p=>{const f=p.startIndex-a,m=p.endIndex-a;return f<e.length&&m>0}).map(p=>({startIndex:Math.max(0,p.startIndex-a),endIndex:Math.min(e.length,p.endIndex-a)})):[],c=x$(e);if(c.length===0&&(!r||l.length===0))return t.jsx("div",{className:k(xI(e,o,s)),style:gI(e),children:t.jsx(dl,{variant:"default",className:"[&_p]:my-0",children:e})},n);const u=y$([...c.map(p=>({type:"sensitive",content:p.originalText,startIndex:p.startIndex,endIndex:p.endIndex})),...l.map(p=>({type:"highlight",content:e.substring(p.startIndex,p.endIndex),startIndex:p.startIndex,endIndex:p.endIndex}))],e);return t.jsx("p",{className:k(xI(e,o,s)),style:gI(e),children:u.map((p,f)=>p.type==="text"?p.content:p.type==="sensitive"?t.jsx(g$,{originalText:p.content},`sensitive-${n}-${f}`):t.jsx("span",{className:"bg-[#ffff4d] text-black rounded px-0.5",children:p.content},`highlight-${n}-${f}`))},n)},u6e=(e,n=[])=>{if(!n||n.length===0)return e;const s=[];let r=0;return[...n].sort((a,o)=>a.startIndex-o.startIndex).forEach((a,o)=>{a.startIndex>r&&s.push(e.substring(r,a.startIndex)),s.push(t.jsx("span",{className:"bg-yellow-500/30 rounded px-0.5",children:e.substring(a.startIndex,a.endIndex)},`highlight-${o}`)),r=a.endIndex}),r<e.length&&s.push(e.substring(r)),t.jsx(t.Fragment,{children:s})},y$=(e,n)=>{if(e.length===0)return[{type:"text",content:n,startIndex:0,endIndex:n.length}];const s=[...e].sort((a,o)=>a.startIndex-o.startIndex),r=[];let i=0;for(const a of s)a.startIndex>i&&r.push({type:"text",content:n.substring(i,a.startIndex),startIndex:i,endIndex:a.startIndex}),a.startIndex>=i&&(r.push(a),i=a.endIndex);return i<n.length&&r.push({type:"text",content:n.substring(i),startIndex:i,endIndex:n.length}),r},p6e=e=>{const n=e.split(`
`),s=[];let r=0;return n.forEach((i,a)=>{s.push(r),r+=i.length+(a<n.length-1?1:0)}),s},f6e=(e,n,s,r,i)=>{const a=s&&r?r.filter(c=>{const u=c.startIndex-i,p=c.endIndex-i;return u<e.length&&p>0}).map(c=>({startIndex:Math.max(0,c.startIndex-i),endIndex:Math.min(e.length,c.endIndex-i)})):[],o=x$(e);if(o.length===0&&(!s||a.length===0))return e;const l=y$([...o.map(c=>({type:"sensitive",content:c.originalText,startIndex:c.startIndex,endIndex:c.endIndex})),...a.map(c=>({type:"highlight",content:e.substring(c.startIndex,c.endIndex),startIndex:c.startIndex,endIndex:c.endIndex}))],e);return t.jsx(t.Fragment,{children:l.map((c,u)=>c.type==="text"?c.content:c.type==="sensitive"?t.jsx(g$,{originalText:c.content},`sensitive-${n}-${u}`):t.jsx("span",{className:"bg-[#ffff4d] text-black rounded px-0.5",children:c.content},`highlight-${n}-${u}`))})},Ig=(e,n,s=!1,r=[])=>{const i=e.split(`
`),a=p6e(e),o=c6e(i);return t.jsx(t.Fragment,{children:o.map((l,c)=>l.type==="text"?l.lines.map((u,p)=>{const f=l.startLineIndex+p;return d6e(u,f,n,s,r,a[f]||0)}):t.jsx("pre",{className:k("my-2 p-3 rounded-lg overflow-x-auto max-w-full","font-jetbrains text-sm leading-relaxed","bg-[#1a1a1a]","whitespace-pre-wrap break-words","text-[#dcdce5]"),children:t.jsx("code",{children:l.lines.map((u,p)=>{const f=l.startLineIndex+p,m=a[f]||0,h=p===l.lines.length-1;return t.jsxs(et.Fragment,{children:[f6e(u,f,s,r,m),!h&&`
`]},`code-line-${f}`)})})},`code-block-${c}`))})},m6e=({size:e=24,color:n="white",accentColor:s="#2EE572",className:r=""})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("path",{d:"M5.8 4.8498V10.2723V10.2498V19.2498V4.8498ZM7.6 13.8498H10.75C10.885 13.5048 11.05 13.1823 11.245 12.8823C11.44 12.5823 11.665 12.3048 11.92 12.0498H7.6V13.8498ZM7.6 17.4498H10.4575C10.3825 17.1498 10.3338 16.8498 10.3113 16.5498C10.2888 16.2498 10.2925 15.9498 10.3225 15.6498H7.6V17.4498ZM5.8 21.0498C5.305 21.0498 4.88125 20.8736 4.52875 20.5211C4.17625 20.1686 4 19.7448 4 19.2498V4.8498C4 4.3548 4.17625 3.93105 4.52875 3.57855C4.88125 3.22605 5.305 3.0498 5.8 3.0498H13L18.4 8.4498V10.6998C18.115 10.5798 17.8225 10.4861 17.5225 10.4186C17.2225 10.3511 16.915 10.3023 16.6 10.2723V9.3498H12.1V4.8498H5.8V19.2498H11.2225C11.4625 19.6098 11.7325 19.9436 12.0325 20.2511C12.3325 20.5586 12.6625 20.8248 13.0225 21.0498H5.8ZM16.15 18.3498C16.78 18.3498 17.3125 18.1323 17.7475 17.6973C18.1825 17.2623 18.4 16.7298 18.4 16.0998C18.4 15.4698 18.1825 14.9373 17.7475 14.5023C17.3125 14.0673 16.78 13.8498 16.15 13.8498C15.52 13.8498 14.9875 14.0673 14.5525 14.5023C14.1175 14.9373 13.9 15.4698 13.9 16.0998C13.9 16.7298 14.1175 17.2623 14.5525 17.6973C14.9875 18.1323 15.52 18.3498 16.15 18.3498ZM20.74 21.9498L18.31 19.5198C17.995 19.7298 17.6537 19.8873 17.2862 19.9923C16.9187 20.0973 16.54 20.1498 16.15 20.1498C15.025 20.1498 14.0687 19.7561 13.2812 18.9686C12.4937 18.1811 12.1 17.2248 12.1 16.0998C12.1 14.9748 12.4937 14.0186 13.2812 13.2311C14.0687 12.4436 15.025 12.0498 16.15 12.0498C17.275 12.0498 18.2312 12.4436 19.0187 13.2311C19.8062 14.0186 20.2 14.9748 20.2 16.0998C20.2 16.4898 20.1475 16.8686 20.0425 17.2361C19.9375 17.6036 19.78 17.9448 19.57 18.2598L22 20.6898L20.74 21.9498Z",fill:n}),t.jsx("path",{d:"M16.1516 18.3498C16.7816 18.3498 17.3141 18.1323 17.7491 17.6973C18.1841 17.2623 18.4016 16.7298 18.4016 16.0998C18.4016 15.4698 18.1841 14.9373 17.7491 14.5023C17.3141 14.0673 16.7816 13.8498 16.1516 13.8498C15.5216 13.8498 14.9891 14.0673 14.5541 14.5023C14.1191 14.9373 13.9016 15.4698 13.9016 16.0998C13.9016 16.7298 14.1191 17.2623 14.5541 17.6973C14.9891 18.1323 15.5216 18.3498 16.1516 18.3498ZM20.7416 21.9498L18.3116 19.5198C17.9966 19.7298 17.6553 19.8873 17.2878 19.9923C16.9203 20.0973 16.5416 20.1498 16.1516 20.1498C15.0266 20.1498 14.0703 19.7561 13.2828 18.9686C12.4953 18.1811 12.1016 17.2248 12.1016 16.0998C12.1016 14.9748 12.4953 14.0186 13.2828 13.2311C14.0703 12.4436 15.0266 12.0498 16.1516 12.0498C17.2766 12.0498 18.2328 12.4436 19.0203 13.2311C19.8078 14.0186 20.2016 14.9748 20.2016 16.0998C20.2016 16.4898 20.1491 16.8686 20.0441 17.2361C19.9391 17.6036 19.7816 17.9448 19.5716 18.2598L22.0016 20.6898L20.7416 21.9498Z",fill:s})]}),h6e=K.deployment.logs,x6e=K.deployment.logWithError,g6e=K.deployment.mdiCheckAll,kx=K.upload.blueCheck,b6e=(e,n)=>{if(n!=="user")return e;const s=e.includes("User has recorded a test case"),r=e.match(/<reported_bug>([\s\S]*?)<\/reported_bug>/);return s&&r?r[1].trim():e},y6e=(e,n)=>{if(n!=="user")return{content:e,isAutoResponse:!1};const s=e.match(/<auto_response>([\s\S]*?)<\/auto_response>/);return s?{content:s[1].trim(),isAutoResponse:!0}:{content:e,isAutoResponse:!1}},v6e=({message:e,handleRollback:n,isCloudFlow:s,searchActive:r=!1,searchHighlights:i=[],isSubagent:a=!1,isMatchingMessage:o=!1,hideImportantActions:l=!1,hideRollback:c,podIsPaused:u=!1})=>{const p=li(),[f,m]=d.useState(!1),[h,x]=d.useState(!1),g=d.useRef(null);d.useEffect(()=>{o&&r&&!f&&m(!0)},[o,r,f]);const v=async()=>{try{await navigator.clipboard.writeText(e.content)}catch{}},b=L=>{const P=L.split(Da.logsIdentifier),B=L.includes("USER SHARED ASSETS WITH AGENT"),G=L.includes("Assume Default and Proceed"),$=L==="Call Deployer Agent and Run Health Check to Check for Readiness for Deployment",te=L.includes("VISUAL_EDIT_NOTIFICATION");let U=0,oe="";if(te){const Y=L.split("|||");Y.length>=4&&(U=parseInt(Y[1])||0,oe=Y[2]||"")}return P.length===3?{cleanContent:"",logs:P[1].split(`
`).filter(Y=>Y.trim()!==""),hasLogs:!0,hasError:P[1].toLowerCase().includes("error")||P[1].toLowerCase().includes("failed")||P[1].toLowerCase().includes("exception")||P[1].toLowerCase().includes("fatal")||P[1].toLowerCase().includes("critical"),assetShared:B,autoAnswered:G,isHealthCheck:$,isVisualEdit:te,visualEditCount:U,visualEditDetails:oe}:{cleanContent:L,logs:[],hasLogs:!1,hasError:!1,assetShared:B,autoAnswered:G,isHealthCheck:$,isVisualEdit:te,visualEditCount:U,visualEditDetails:oe}},{cleanContent:y,logs:w,hasLogs:_,hasError:N,assetShared:j,autoAnswered:C,isHealthCheck:S,isVisualEdit:F,visualEditCount:E,visualEditDetails:I}=b(e.content),{content:T,isAutoResponse:A}=y6e(y,e.role),O=b6e(T,e.role),M=O.split(`
`);return t.jsx("div",{onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:k("relative group flex justify-center","mb-0"),ref:g,id:e.id,"data-testid":Vs.message.user(e.id),children:t.jsxs("div",{className:k("my-4 group flex flex-col space-y-[10px] w-full md:pl-12 justify-end items-end gap-1",p?"md:max-w-full":"md:max-w-4xl md:my-8"),children:[t.jsx(p$,{base64Images:e.base64_image_list,artifacts:e.artifacts,artifactSharedData:e.artifact_shared_data,className:"justify-end"}),t.jsx("div",{className:k("px-4 py-1 rounded-xl rounded-br-none space-y-[10px] flex items-end break-words",e.role==="user"&&"bg-[#273638]",e.role==="user"&&(p?"max-w-full":"max-w-4xl"),_||j||C||S||F||A?"hidden":""),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:t.jsx("div",{className:"flex items-start gap-3",children:t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("div",{className:k("prose prose-invert max-w-none",p&&"text-[15px]"),children:e.role==="user"?Ig(O,!0,r,i):f||o&&r?Ig(O,!1,r,i):t.jsx("p",{className:"text-[#CCEEFF] font-['Inter'] text-[15px] leading-6 font-normal",children:r&&i&&i.length>0?u6e(M[0],i.filter(L=>L.startIndex<M[0].length)):M[0]})})})})}),_&&t.jsxs("div",{className:"bg-[#1E1E1F] rounded-[10px] p-3 flex max-md:w-full md:min-w-[65%]  md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:N?x6e:h6e,alt:"Logs",className:"w-6 h-6"}),t.jsxs("span",{className:"max-md:text-[14px]",children:["Build ",N?"Error":""," Logs shared with agent"]})]}),t.jsxs("div",{className:"flex items-center gap-3 max-md:hidden",children:[t.jsxs("span",{className:"text-[#FFFFFF80] max-md:text-[10px]",children:[w.length," log entries"]}),t.jsx("div",{className:"w-1 h-1 rounded-full bg-[#FFFFFF33]"}),t.jsx("img",{src:g6e,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]})]}),j&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px]  md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Assets Shared with Agent"})}),t.jsx("img",{src:kx,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),C&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px] md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(X2,{color:"#80FFF9",size:24}),t.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Auto Answered"})]}),t.jsx("img",{src:kx,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),S&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px] md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(m6e,{size:24,accentColor:"#80FFF9"}),t.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9]",children:"Running Health Check"})]}),t.jsx("img",{src:kx,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),F&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px] md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.24748 5.23582C6.44259 5.2128 6.64037 5.24142 6.82267 5.31687L6.82365 5.3159L15.2846 8.77683L15.4281 8.84715C15.5653 8.92714 15.6848 9.03498 15.7787 9.16355L15.8295 9.23972L15.8735 9.31882C15.9702 9.50791 16.013 9.72113 15.9965 9.93406C15.9775 10.1772 15.8824 10.4088 15.724 10.5942C15.5656 10.7794 15.3517 10.9087 15.1147 10.9653V10.9663L11.7699 11.7671L10.9701 15.1128C10.9138 15.3496 10.7837 15.5626 10.599 15.7212C10.4133 15.8805 10.181 15.9765 9.93693 15.9956C9.69289 16.0146 9.44886 15.9553 9.24064 15.8266C9.03263 15.698 8.87085 15.5063 8.77873 15.2798L5.31779 6.82078L5.31877 6.8198C5.23249 6.61111 5.20827 6.38147 5.25138 6.15965L5.27092 6.07664C5.32356 5.88376 5.42572 5.70699 5.56779 5.56492L5.63029 5.5073C5.78178 5.3768 5.96529 5.28688 6.16252 5.24851L6.24748 5.23582ZM9.75041 13.5942L10.2738 11.4087V11.4077C10.3402 11.1318 10.4822 10.8797 10.683 10.6792C10.8839 10.4786 11.1364 10.3369 11.4125 10.271L13.5951 9.74754L7.0883 7.08543L9.75041 13.5942ZM3.13517 7.77488C3.42776 7.46696 3.91511 7.45498 4.22306 7.74754C4.5306 8.04012 4.54275 8.52661 4.25041 8.83445L2.78947 10.3725C2.4969 10.6805 2.01052 10.6924 1.70256 10.3999C1.39462 10.1073 1.38167 9.62093 1.67424 9.31297L3.13517 7.77488ZM0.0277509 4.40965C0.140698 4.00021 0.564602 3.7597 0.97404 3.87254L3.20451 4.48777C3.61397 4.60075 3.85457 5.02458 3.74162 5.43406C3.62853 5.84338 3.20473 6.08313 2.79533 5.97019L0.56486 5.35496C0.155728 5.24186 -0.0849285 4.81889 0.0277509 4.40965ZM9.31779 1.67234C9.62571 1.37982 10.1121 1.39187 10.4047 1.69968C10.6972 2.00753 10.685 2.49398 10.3774 2.7866L8.8383 4.24851C8.5304 4.54073 8.0439 4.52879 7.75138 4.22117C7.45881 3.91319 7.47173 3.42585 7.7797 3.13328L9.31779 1.67234ZM4.41154 0.0278093C4.8209 -0.085006 5.24479 0.155625 5.35783 0.564919L5.97306 2.79539C6.08592 3.20475 5.84523 3.6286 5.43595 3.74168C5.02656 3.85445 4.60262 3.61394 4.48967 3.20457L3.87443 0.974098C3.7616 0.564688 4.00216 0.140791 4.41154 0.0278093Z",fill:"#80FFF9E5"})}),t.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Visually edited few files"})]}),t.jsx("img",{src:kx,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),A&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] px-4 py-3 flex flex-col rounded-br-[0px] gap-2",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(X2,{color:"#80FFF999",size:16}),t.jsx("span",{className:" text-[14px] text-[#80FFF999]",children:"Auto Answered"})]}),t.jsx("div",{className:k("prose prose-invert max-w-none",p&&"text-[15px]"),children:Ig(O,!0,r,i)})]}),t.jsxs("div",{className:k("transition-opacity duration-200 h-5 text-right flex items-center gap-2",h?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),children:[t.jsx("div",{className:k("inline-flex items-center gap-2 text-[#5C5F66]"),children:t.jsx("span",{className:"font-mono text-[13px]  md:text-[13px] leading-[16px]",children:f0(e.timestamp)})}),t.jsx("div",{className:"relative",children:t.jsx(m$,{isHovered:h,message:e,handleRollback:n,isCloudFlow:s||!1,onCopy:v,podIsPaused:u,className:k("inline-flex items-center gap-1"),hideImportantActions:l,hideRollback:c})})]})]})})},v$=d.memo(v6e,(e,n)=>e.message.id===n.message.id&&e.message.artifacts===n.message.artifacts&&e.message.content===n.message.content&&e.message.timestamp===n.message.timestamp&&e.searchActive===n.searchActive&&e.isMatchingMessage===n.isMatchingMessage&&e.searchHighlights===n.searchHighlights&&e.hideRollback===n.hideRollback);var w6e="Label",w$=d.forwardRef((e,n)=>t.jsx(yK.label,{...e,ref:n,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));w$.displayName=w6e;var C$=w$;const C6e=r3("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),bl=d.forwardRef(({className:e,...n},s)=>t.jsx(C$,{ref:s,className:k(C6e(),e),...n}));bl.displayName=C$.displayName;function _6e({isOpen:e,onOpenChange:n,chatId:s}){const[r,i]=d.useState(!1),[a,o]=d.useState(!1),[l,c]=d.useState(null),[u,p]=d.useState(null),[f,m]=d.useState([]),[h,x]=d.useState(""),[g,v]=d.useState(""),[b,y]=d.useState(new Set),[w,_]=d.useState(""),[N,j]=d.useState("all"),[C,S]=d.useState(null),[F,E]=d.useState(""),[I,T]=d.useState(null),[A,D]=d.useState(""),[O,M]=d.useState(null),{toast:L}=ns();d.useEffect(()=>{e&&s&&(v(s),P(s))},[e,s]);const P=async(re=g)=>{if(re){i(!0),c(null);try{const xe=await vt.getChatHistory(re),ae=xe.data?xe.data:xe;p(ae);let Fe=[];typeof ae.chat_history=="string"?Fe=JSON.parse(ae.chat_history):Fe=ae.chat_history,m(Fe),x(JSON.stringify(Fe,null,2))}catch(xe){c(xe.message||"Failed to fetch chat history")}finally{i(!1)}}},B=async()=>{if(g){o(!0),c(null);try{const re=typeof u.chat_history=="string"?JSON.stringify(f):f,xe=await vt.updateChatHistory(g,{chat_history:re}),ae=xe.data?xe.data:xe;p(ae),L({title:"Success",description:"Chat history updated successfully"}),n(!1)}catch(re){c(re.message||"Failed to update chat history"),L({title:"Error",description:re.message||"Failed to update chat history",variant:"destructive"})}finally{o(!1)}}},G=re=>{const xe=new Set(b);xe.has(re)?xe.delete(re):xe.add(re),y(xe)},$=re=>{const xe=f.filter((ae,Fe)=>Fe!==re);m(xe),x(JSON.stringify(xe,null,2))},te=re=>{const ae=f[re].content.find(Fe=>Fe.type==="text")?.text||"";S(re),E(ae)},U=()=>{if(C===null)return;const re=[...f],xe={...re[C]};xe.content=[...xe.content];const ae=xe.content.findIndex(Fe=>Fe.type==="text");ae!==-1?xe.content[ae]={...xe.content[ae],text:F}:xe.content.push({type:"text",text:F}),re[C]=xe,m(re),x(JSON.stringify(re,null,2)),S(null),E(""),L({title:"Success",description:"Message updated (remember to save changes)"})},oe=()=>{S(null),E("")},Y=(re,xe)=>{const Fe=f[re].tool_calls?.[xe];Fe&&(T({messageIndex:re,toolIndex:xe}),D(JSON.stringify(Fe,null,2)))},W=()=>{if(I)try{const re=JSON.parse(A),xe=[...f],ae={...xe[I.messageIndex]};ae.tool_calls&&(ae.tool_calls=[...ae.tool_calls],ae.tool_calls[I.toolIndex]=re),xe[I.messageIndex]=ae,m(xe),x(JSON.stringify(xe,null,2)),T(null),D(""),L({title:"Success",description:"Tool call updated (remember to save changes)"})}catch{L({title:"Error",description:"Invalid JSON format",variant:"destructive"})}},Z=()=>{T(null),D("")},le=async re=>{try{await navigator.clipboard.writeText(re),M(re),setTimeout(()=>M(null),2e3),L({title:"Copied",description:"Request ID copied to clipboard"})}catch{L({title:"Error",description:"Failed to copy request ID",variant:"destructive"})}},q=async()=>{try{const re=JSON.stringify(f,null,2);await navigator.clipboard.writeText(re),L({title:"Copied",description:"Full chat history JSON copied to clipboard"})}catch{L({title:"Error",description:"Failed to copy JSON",variant:"destructive"})}},Q=re=>{const xe=re.content.find(ae=>ae.type==="text")?.text||"";return xe.slice(0,100)+(xe.length>100?"...":"")},he=re=>{switch(re){case"system":return t.jsx(Bme,{className:"w-4 h-4"});case"user":return t.jsx(qme,{className:"w-4 h-4"});case"assistant":return t.jsx(yme,{className:"w-4 h-4"});default:return null}},me=re=>{switch(re){case"system":return"bg-[#FFFFFF08] text-[#B7BFCC] border-[#FFFFFF12]";case"user":return"bg-[#FFFFFF08] text-[#B7BFCC] border-[#FFFFFF12]";case"assistant":return"bg-[#FFFFFF08] text-[#B7BFCC] border-[#FFFFFF12]";default:return"bg-[#FFFFFF08] text-[#B7BFCC] border-[#FFFFFF12]"}},ce=f.filter(re=>{const xe=N==="all"||re.role===N,ae=re.content.find(se=>se.type==="text")?.text||"",Fe=w===""||ae.toLowerCase().includes(w.toLowerCase());return xe&&Fe}),ee=re=>{v(re.target.value)},J=()=>{g&&P(g)};return t.jsx(as,{open:e,onOpenChange:n,children:t.jsxs(Er,{className:"sm:max-w-[90vw] h-[90vh] overflow-hidden flex flex-col p-6",children:[t.jsx(lc,{className:"pb-4",children:t.jsx(Lo,{children:"Edit Chat History"})}),t.jsxs("div",{className:"mb-4 space-y-3 px-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(bl,{htmlFor:"chat-id",className:"text-sm font-medium",children:"Chat ID"}),t.jsx(Gi,{id:"chat-id",value:g,onChange:ee,className:"font-mono text-sm"})]}),t.jsx("div",{className:"pt-6",children:t.jsx(zt,{onClick:J,variant:"default",size:"sm",disabled:r||!g,children:r?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading..."]}):"Fetch"})})]}),f.length>0&&t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx($o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx(Gi,{placeholder:"Search messages...",value:w,onChange:re=>_(re.target.value),className:"pl-10"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:N,onChange:re=>j(re.target.value),className:"pl-4 pr-10 py-2 bg-[#FFFFFF08] border border-[#FFFFFF12] rounded-md text-sm text-[#B7BFCC] min-w-[130px] appearance-none cursor-pointer w-full",children:[t.jsx("option",{value:"all",children:"All Roles"}),t.jsx("option",{value:"system",children:"System"}),t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"assistant",children:"Assistant"})]}),t.jsx(Ur,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#737780] pointer-events-none"})]}),t.jsxs(zt,{size:"sm",variant:"outline",onClick:q,className:"h-9 bg-[#FFFFFF08] border-[#FFFFFF12] hover:bg-[#FFFFFF12] text-[#B7BFCC] whitespace-nowrap",children:[t.jsx(Di,{className:"w-4 h-4"}),t.jsx("span",{className:"ml-2",children:"Copy JSON"})]}),t.jsxs("div",{className:"text-sm text-[#737780] whitespace-nowrap min-w-[90px] text-right",children:[ce.length," of ",f.length]})]})]}),t.jsx("div",{className:"flex-1 overflow-hidden",children:r?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx(tn,{className:"w-8 h-8 animate-spin text-primary"}),t.jsx("span",{className:"ml-2",children:"Loading chat history..."})]}):l?t.jsx("div",{className:"p-4 text-red-500 rounded-md bg-red-500/10",children:l}):u?t.jsx("div",{className:"flex flex-col h-full",children:t.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-2",children:ce.length===0?t.jsx("div",{className:"text-center text-gray-400 py-8",children:"No messages found"}):ce.map((re,xe)=>{const ae=f.indexOf(re),Fe=b.has(ae),se=C===ae,_e=re.content.find(Re=>Re.type==="text")?.text||"";return t.jsxs("div",{className:k("border rounded-lg overflow-hidden transition-all",me(re.role)),children:[t.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-[#FFFFFF08]",onClick:()=>G(ae),children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[he(re.role),t.jsx("span",{className:"font-semibold capitalize text-[#B7BFCC]",children:re.role})]}),t.jsxs("span",{className:"text-xs text-[#737780]",children:["#",ae+1]}),!Fe&&t.jsx("span",{className:"text-sm text-[#737780] truncate flex-1",children:Q(re)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{size:"sm",variant:"ghost",onClick:Re=>{Re.stopPropagation(),$(ae)},className:"h-8 w-8 p-0 hover:bg-[#FFFFFF08] text-[#737780] hover:text-red-400",children:t.jsx(Of,{className:"w-4 h-4"})}),Fe?t.jsx(n3,{className:"w-4 h-4 text-[#737780]"}):t.jsx(Ur,{className:"w-4 h-4 text-[#737780]"})]})]}),Fe&&t.jsx("div",{className:"p-3 border-t border-white/10 space-y-3",onClick:Re=>Re.stopPropagation(),children:se?t.jsxs("div",{className:"space-y-2",children:[t.jsx("textarea",{value:F,onChange:Re=>E(Re.target.value),className:"w-full h-64 p-3 bg-[#131314] border border-[#FFFFFF12] rounded-md text-sm font-mono text-[#B7BFCC] focus:outline-none focus:ring-1 focus:ring-[#FFFFFF20]",spellCheck:"false",onClick:Re=>Re.stopPropagation()}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx(zt,{size:"sm",variant:"outline",onClick:oe,className:"border-[#FFFFFF20] bg-[#FFFFFF08] hover:bg-[#FFFFFF12] text-[#B7BFCC]",children:"Cancel"}),t.jsx(zt,{size:"sm",onClick:U,className:"bg-[#FFFFFF20] hover:bg-[#FFFFFF30] text-white border border-[#FFFFFF30]",children:"Save"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-[#131314] p-3 rounded-md max-h-96 overflow-auto border border-[#FFFFFF12]",children:t.jsx("pre",{className:"text-sm whitespace-pre-wrap break-words text-[#B7BFCC]",children:_e})}),re.tool_calls&&re.tool_calls.length>0&&t.jsx("div",{className:"space-y-3",children:re.tool_calls.map((Re,Se)=>{const Ne=I?.messageIndex===ae&&I?.toolIndex===Se,ge=Re.function?.name||Re.name||"Unknown Tool",Ce=Re.function?.arguments||Re.arguments;return t.jsx("div",{className:"bg-[#131314] rounded-md border border-[#FFFFFF12]",children:Ne?t.jsxs("div",{className:"p-3 space-y-2",children:[t.jsx("div",{className:"text-xs text-[#737780] font-semibold mb-2",children:"Edit Tool Call (Full JSON)"}),t.jsx("textarea",{value:A,onChange:$e=>D($e.target.value),className:"w-full h-64 p-3 bg-[#0A0A0A] border border-[#FFFFFF12] rounded-md text-xs font-mono text-[#B7BFCC] focus:outline-none focus:ring-1 focus:ring-[#FFFFFF20]",spellCheck:"false",onClick:$e=>$e.stopPropagation()}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx(zt,{size:"sm",variant:"outline",onClick:Z,className:"border-[#FFFFFF20] bg-[#FFFFFF08] hover:bg-[#FFFFFF12] text-[#B7BFCC]",children:"Cancel"}),t.jsx(zt,{size:"sm",onClick:W,className:"bg-[#FFFFFF20] hover:bg-[#FFFFFF30] text-white border border-[#FFFFFF30]",children:"Save"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-[#FFFFFF12]",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-sm font-semibold text-[#B7BFCC]",children:ge}),t.jsxs("span",{className:"text-xs text-[#737780]",children:["#",Re.index!==void 0?Re.index:Se]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[Re.id&&t.jsx("span",{className:"text-xs text-[#737780] font-mono",children:Re.id.slice(0,16)}),t.jsx(zt,{size:"sm",variant:"outline",onClick:$e=>{$e.stopPropagation(),Y(ae,Se)},className:"h-7 bg-[#FFFFFF08] border-[#FFFFFF12] hover:bg-[#FFFFFF12] text-[#B7BFCC]",children:"Edit"})]})]}),Ce&&t.jsx("div",{className:"p-3",children:t.jsx("pre",{className:"text-xs text-[#B7BFCC] bg-[#0A0A0A] p-3 rounded overflow-auto max-h-60 whitespace-pre-wrap break-words",children:typeof Ce=="string"?(()=>{try{return JSON.stringify(JSON.parse(Ce),null,2)}catch{return Ce}})():JSON.stringify(Ce,null,2)})})]})},Re.id||Se)})}),t.jsxs("div",{className:"flex justify-between items-center text-xs text-[#737780] mt-3",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[re.request_id&&t.jsxs("button",{onClick:()=>le(re.request_id),className:"flex items-center gap-1 hover:text-[#B7BFCC] transition-colors",title:"Click to copy full request ID",children:[t.jsxs("span",{children:["Request: ",re.request_id.slice(0,8),"..."]}),O===re.request_id?t.jsx(xn,{className:"w-3 h-3 text-green-400"}):t.jsx(Di,{className:"w-3 h-3"})]}),re.iteration_number!==void 0&&t.jsxs("span",{children:["Iteration: ",re.iteration_number]}),re.thinking_blocks&&t.jsxs("span",{children:["Thinking: ",re.thinking_blocks.length," blocks"]}),re.tool_calls&&t.jsxs("span",{children:["Tools: ",re.tool_calls.length," calls"]})]}),t.jsx(zt,{size:"sm",variant:"outline",onClick:()=>te(ae),className:"h-7 bg-[#FFFFFF08] border-[#FFFFFF12] hover:bg-[#FFFFFF12] text-[#B7BFCC]",children:"Edit"})]})]})})]},ae)})})}):t.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"No chat history available"})}),t.jsxs(ad,{className:"pt-4 px-1 gap-3",children:[t.jsx(zt,{onClick:()=>n(!1),variant:"outline",disabled:a,className:"bg-[#FFFFFF08] border-[#FFFFFF12] hover:bg-[#FFFFFF12] text-[#B7BFCC]",children:"Cancel"}),t.jsx(zt,{onClick:B,disabled:r||a||!u,className:"bg-[#FFFFFF20] hover:bg-[#FFFFFF30] text-white border border-[#FFFFFF30]",children:a?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})}const _C=({jobId:e,tabId:n,silent:s=!1,pollingInterval:r=1e4,enabled:i=!0,onDeploymentSuccess:a})=>{const o=ba(),{getCurrentOrganizationId:l}=hs(),{setTabs:c,state:{activeTab:u,tabs:p}}=hi(),[f,m]=d.useState([]),[h,x]=d.useState(null),g=d.useRef(null),v=d.useRef(!1),b=d.useRef(null),y=d.useRef(a);d.useEffect(()=>{y.current=a},[a]);const w=br(Me=>b9(Me,n)),_=br(P5),N=d.useRef(w);d.useEffect(()=>{N.current=w},[w]);const j=l(),C=()=>{for(let Me=0;Me<p.length;++Me)if(p[Me].id===n){!p[Me]?.tabHeading&&S?.app_name&&c(we=>we.map(Te=>Te.id===n?{...Te,tabHeading:S.app_name||Te.tabHeading}:Te));return}},{data:S,error:F,isLoading:E,isError:I,refetch:T}=zP({jobId:e,silent:s,organization_id:j},{skip:!i||!e,pollingInterval:i&&e&&(w?.deployStatus==="running"||w?.latestRunStatus==="running")?r:0,refetchOnMountOrArgChange:!0}),A=d.useRef(S);d.useEffect(()=>{A.current=S},[S]),C();const[D,{isLoading:O,error:M}]=Dre(),[L]=GP(),[P]=qP(),[B]=KP(),[G]=YP(),[$]=Mre(),[te]=Lre(),[U]=Pre(),[oe]=Rre(),{data:Y,refetch:W}=Ore({jobId:e,organization_id:j},{skip:!i||!e}),[Z]=Bre(),le=d.useMemo(()=>{if(!S)return!1;const{status:Me,latest_run:we,deployed_run_id:Te,deploy_url:ze,custom_domain:_t}=S;return Me==="not_deployed"&&we==null&&!Te&&!ze&&_t==null},[S]),q=i&&e&&w?.deployStatus&&w.deployStatus!=="not_deployed"&&w.deployStatus!=="loading"&&w.latestRunStatus!=="running",{data:Q}=WP({jobId:e,organization_id:j},{skip:!q,refetchOnMountOrArgChange:!0});d.useEffect(()=>{if(!S||!e)return;if(le){o(ci({tabId:n,deployState:{deployStatus:"not_deployed",latestRunStatus:null,loading:E,deploymentSteps:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",customDomain:null,runId:"",errorMessage:null,deploymentHistory:[]}}));return}let Me=S.status;S.latest_run&&S.latest_run.status==="running"?Me="running":S.latest_run&&S.latest_run.status&&S.status==="success"&&(S.latest_run.status==="pending"?Me="loading":Me=S.latest_run.status);let we=-1;if(S.latest_run&&S.latest_run.steps&&Array.isArray(S.latest_run.steps))if(S.status==="running"&&S.latest_run.steps.every(Bt=>Bt.status==="pending"))we=0;else{const Bt=S.latest_run.steps.findIndex(qe=>qe.status==="running");if(Bt!==-1)we=Bt;else{for(let qe=0;qe<S.latest_run.steps.length-1;qe++)if(S.latest_run.steps[qe].status==="success"&&S.latest_run.steps[qe+1].status==="pending"){we=qe+1;break}if(we===-1){const qe=S.latest_run.steps.findIndex(Ae=>Ae.status==="pending");qe!==-1?we=qe:S.status==="success"&&(we=S.latest_run.steps.length-1)}}}let Te=null,ze="";if(S.custom_domain&&S.custom_domain.domain!==""&&S.custom_domain.status&&S.custom_domain.dns_records&&(Te={domain:S.custom_domain.domain,status:S.custom_domain.status,dns_records:Array.isArray(S.custom_domain.dns_records)?S.custom_domain.dns_records:[S.custom_domain.dns_records],current_ips:S.custom_domain.current_ips},S.custom_domain.status==="verified")){const Bt=S.custom_domain.domain;ze=Bt.startsWith("http")?Bt:`https://${Bt}`}const _t={deployStatus:Me,latestRunStatus:S.latest_run?.status||null,loading:E,deploymentSteps:S.latest_run?.steps||w?.deploymentSteps||[],currentStepIndex:we,deployUrl:S.deploy_url||w?.deployUrl||"",customDomainUrl:ze,customDomain:Te,runId:S.latest_run&&S.latest_run.run_id&&S.latest_run.status==="success"?S.latest_run.run_id:S.deployed_run_id||w?.runId||"",errorMessage:null};o(ci({tabId:n,deployState:_t}))},[S,e,n,o,E]),d.useEffect(()=>{if(!Q||!e)return;const Me=Q.runs||[];o(ci({tabId:n,deployState:{deploymentHistory:Me}}))},[Q,e,n,o]),d.useEffect(()=>{!e||!i||(w?.deployStatus==="running"||w?.latestRunStatus==="running"?T():(w?.deployStatus==="success"||w?.deployStatus==="failed")&&T().then(()=>{const Me=N.current,we=A.current;if(Me?.deployStatus==="success"){const Te=Me?.runId;if(y.current&&Te&&g.current!==Te&&v.current===!0){g.current=Te,v.current=!1;const ze=Me?.deployUrl||"",_t=Me?.customDomain?.domain,Bt=we?.app_name;H("deployment_success_modal_shown",{deployUrl:ze,customDomain:_t,appName:Bt}),y.current(ze,_t,Bt)}Te&&b.current!==Te&&(b.current=Te,DF({jobId:e,status:"success"}))}if(Me?.deployStatus==="failed"){v.current=!1;const Te=Me?.runId;Te&&b.current!==Te&&(b.current=Te,DF({jobId:e,status:"failed"}))}}).catch(Me=>{}))},[w?.deployStatus,w?.latestRunStatus,e,i,T]),d.useEffect(()=>{if(I&&F&&!s){let Me="Failed to get deployment status";if("data"in F){const we=F.data;we?.detail?Me=we.detail:we?.message?Me=we.message:we?.error&&(Me=we.error)}else"message"in F&&F.message&&(Me=F.message);Me.includes("Rate limited")||o(ci({tabId:n,deployState:{errorMessage:Me,loading:!1}}))}},[I,F,s,n,o]),d.useEffect(()=>{_===n&&h!==n&&i&&e&&(o(ec.util.invalidateTags([{type:"Jobs",id:`deploy-status-${e}`}])),W&&W()),x(_)},[_,n,h,i,e,T,W]);const he=d.useCallback(()=>{o(ci({tabId:n,deployState:{deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,customDomain:null,deployLogs:{},liveLogs:{app_id:"",app_name:"",live_logs:[]}}}))},[n,o]),me=d.useCallback(async Me=>{if(!Me.jobId){Ds({title:"Deploy Error",description:"No job ID provided",variant:"destructive",duration:2e3});return}w?.deployStatus==="not_deployed"&&(v.current=!0);try{o(ci({tabId:n,deployState:{loading:!0,errorMessage:null}}));const we={jobId:Me.jobId,image:Me.image,deployment_id:Me.deployment_id,acknowledgements:Me.acknowledgements,db_mode:Me.db_mode,organization_id:j,tier:Me.tier,deployment_type:Me.deployment_type};await D(we).unwrap(),o(ci({tabId:n,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),Ds({title:"Deployment Started",description:"Your application deployment has been initiated successfully.",variant:"default",duration:3e3})}catch(we){const Te=we?.error||"Failed to deploy application",ze=w?.deployStatus,_t=ze==="success"||ze==="failed";throw o(ci({tabId:n,deployState:{deployStatus:_t?ze:"not_deployed",latestRunStatus:_t?w?.latestRunStatus:null,loading:!1,errorMessage:Te}})),Ds({title:"Deployment Error",description:Te,variant:"destructive",duration:5e3}),we}},[D,n,o,j,w?.deployStatus,w?.latestRunStatus]),ce=d.useCallback(async(Me,we)=>{try{return await L({domain:Me,jobId:we,organization_id:j}).unwrap()}catch(Te){throw Te}},[L,j]),ee=d.useCallback(async(Me,we)=>{try{return await P({domain:Me,jobId:we,organization_id:j}).unwrap()}catch(Te){throw Te}},[P,j]),J=d.useCallback(async(Me,we)=>{try{return await B({domain:Me,jobId:we,organization_id:j}).unwrap()}catch(Te){throw Te}},[B,j]),re=d.useCallback(async(Me,we)=>{try{return await G({domain:Me,jobId:we,organization_id:j}).unwrap()}catch(Te){throw Te}},[G,j]),xe=d.useCallback(async Me=>{if(!Me)throw new Error("No job ID provided");try{const we=await te({jobId:Me,organization_id:j}).unwrap();return o(ci({tabId:n,deployState:{deployLogs:we}})),we}catch(we){throw we}},[te,n,o,j]),ae=d.useCallback(async Me=>{if(!Me.app&&!Me.app_id)throw new Error("Either app slug or app_id must be provided");try{const we=await U(Me).unwrap();return o(ci({tabId:n,deployState:{liveLogs:we}})),we}catch(we){throw we}},[U,n,o]),Fe=d.useCallback(async Me=>{if(!e){Ds({title:"Rollback Error",description:"No job ID provided",variant:"destructive",duration:2e3});return}const we=w?.deploymentHistory?.find(Te=>Te.run_id===Me||Te.id===Me);if(!we){Ds({title:"Rollback Error",description:"Target deployment not found",variant:"destructive",duration:2e3});return}try{if(w?.deployStatus==="running"||w?.latestRunStatus==="running"){Ds({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before rolling back.",variant:"destructive",duration:3e3});return}Ds({title:"Rolling back...",description:"Please wait while we rollback your deployment.",duration:2e3}),o(ci({tabId:n,deployState:{loading:!0,errorMessage:null}})),await D({jobId:e,image:we.run_id,deployment_id:we.run_id,acknowledgements:"rollback",db_mode:!0,organization_id:j}).unwrap(),o(ci({tabId:n,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),Ds({title:"Rollback Initiated",description:"Your rollback has been initiated and will be completed shortly.",duration:3e3})}catch(Te){let ze="Failed to rollback deployment";throw Te?.message?ze=Te.message:Te?.data?.detail?ze=Te.data.detail:Te?.data?.message&&(ze=Te.data.message),ze.includes("deploy in progress")?Ds({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before rolling back.",variant:"destructive",duration:3e3}):Ds({title:"Rollback Failed",description:ze,variant:"destructive",duration:3e3}),o(ci({tabId:n,deployState:{loading:!1,errorMessage:ze}})),Te}},[D,n,o,e,w?.deploymentHistory,w?.deployStatus,w?.latestRunStatus,j]),se=d.useCallback(async(Me,we)=>{try{o(ci({tabId:n,deployState:{loading:!0,errorMessage:null}})),await $({jobId:Me,image:we,organization_id:j}).unwrap(),o(ci({tabId:n,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),Ds({title:"Rollback Initiated",description:"Your rollback has been initiated and will be completed shortly.",duration:3e3})}catch(Te){let ze="Failed to rollback deployment";throw Te?.message?ze=Te.message:Te?.data?.detail?ze=Te.data.detail:Te?.data?.message&&(ze=Te.data.message),ze.includes("deploy in progress")?Ds({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before rolling back.",variant:"destructive",duration:3e3}):Ds({title:"Rollback Failed",description:ze,variant:"destructive",duration:3e3}),o(ci({tabId:n,deployState:{loading:!1,errorMessage:ze}})),Te}},[$,n,o,j]),_e=d.useCallback(async()=>{if(!e){Ds({title:"Shutdown Error",description:"No job ID provided",variant:"destructive",duration:2e3});return}try{Ds({title:"Shutting down...",description:"Please wait while we shut down your deployment.",duration:2e3}),o(ci({tabId:n,deployState:{loading:!0,errorMessage:null}})),await oe({jobId:e,organization_id:j}).unwrap(),o(ci({tabId:n,deployState:{deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,customDomain:null,deployLogs:{},liveLogs:{app_id:"",app_name:"",live_logs:[]},deploymentHistory:[]}})),Ds({title:"Deployment Shut Down",description:"Your deployment has been successfully shut down.",duration:3e3})}catch(Me){let we="Failed to shut down deployment";throw Me?.message?we=Me.message:Me?.data?.detail?we=Me.data.detail:Me?.data?.message&&(we=Me.data.message),o(ci({tabId:n,deployState:{loading:!1,errorMessage:we}})),Ds({title:"Shutdown Failed",description:we,variant:"destructive",duration:3e3}),Me}},[oe,n,o,e,j]),Re=d.useCallback(async(Me,we,Te)=>{if(!e){Ds({title:"Replace Deployment Error",description:"No job ID provided",variant:"destructive",duration:2e3});return}try{if(w?.deployStatus==="running"||w?.latestRunStatus==="running"){Ds({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before replacing.",variant:"destructive",duration:3e3});return}Ds({title:"Replacing deployment...",description:"Please wait while we replace your deployment.",duration:2e3}),o(ci({tabId:n,deployState:{loading:!0,errorMessage:null}})),vg({jobId:e,deploymentType:"replace"}),await D({jobId:e,deployment_id:Me,db_mode:we,acknowledgements:"replacement",organization_id:j,...Te&&{deployment_type:Te}}).unwrap(),o(ci({tabId:n,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),Ds({title:"Replacement Initiated",description:"Your deployment replacement has been initiated successfully.",duration:3e3})}catch(ze){let _t=ze?.error||"Failed to replace deployment";throw Ds({title:"Replacement Failed",description:_t,variant:"destructive",duration:3e3}),o(ci({tabId:n,deployState:{loading:!1,errorMessage:_t}})),ze}},[D,n,o,e,w?.deployStatus,w?.latestRunStatus,j]),Se=d.useCallback(Me=>Me?.envs_with_version?Object.entries(Me.envs_with_version).map(([we,Te],ze)=>{const _t=Te;return{id:`env-${ze}`,key:we,value:_t.value,originalValue:_t.value,version:_t.version||0,system:_t.system===!0}}):Me?.envs?Object.entries(Me.envs).map(([we,Te],ze)=>{if(typeof Te=="string")return{id:`env-${ze}`,key:we,value:Te,originalValue:Te,version:0,system:!1};if(typeof Te=="object"&&Te!==null&&"value"in Te){const _t=Te;return{id:`env-${ze}`,key:we,value:_t.value,originalValue:_t.value,version:_t.version||0,system:_t.system===!0}}else return{id:`env-${ze}`,key:we,value:String(Te),originalValue:String(Te),version:0,system:!1}}):[],[]),Ne=d.useCallback(async()=>{if(!e)return[];try{const Me=await W();if(Me.data){const we=Se(Me.data);return m(we),we}return[]}catch{return[]}},[e,W,Se]),ge=d.useCallback(async Me=>{if(!e)return null;try{const we=await W();if(!we.data)throw new Error("Failed to fetch latest environment variables");const Te=Se(we.data),ze=Me.map(Bt=>{const qe=Te.find(Le=>Le.key===Bt.key),Ae=qe?qe.version:0;return{...Bt,version:Ae}}),_t=await Z({jobId:e,envs:ze,organization_id:j});if(_t.data!==void 0||!_t.error){const Bt=ze.map(qe=>({...qe,originalValue:qe.value}));return m(Bt),_t.data||{success:!0}}else throw new Error("Environment variables update failed")}catch(we){throw we}},[e,Z,W,Se,j]),Ce=d.useCallback(Me=>{m(Me)},[]),$e=Se(Y),dt=f.length>0?f:$e;return{isLoading:E,isError:I,error:F,deployStatus:w?.deployStatus||"not_deployed",latestRunStatus:w?.latestRunStatus||null,deploymentSteps:w?.deploymentSteps||[],deploymentHistory:w?.deploymentHistory||[],currentStepIndex:w?.currentStepIndex||-1,deployUrl:w?.deployUrl||"",customDomainUrl:w?.customDomainUrl||"",runId:w?.runId||"",errorMessage:w?.errorMessage||null,customDomain:w?.customDomain||null,deployLogs:w?.deployLogs||{},liveLogs:w?.liveLogs||{app_id:"",app_name:"",live_logs:[]},data:S,refetch:T,resetDeployState:he,deployApp:me,registerDomain:ce,verifyDomain:ee,connectDomain:J,unlinkDomain:re,loadDeployLogs:xe,loadLiveLogs:ae,rollbackToDeployment:Fe,rollbackWithApi:se,shutdownDeployment:_e,replaceDeployment:Re,envs:dt,loadEnvironmentVariables:Ne,updateEnvironmentVariables:ge,saveEnvironmentVariables:Ce,isDeploying:O,deployError:M}},_$=({width:e=16,height:n=16,stroke:s="#66C2FF",strokeWidth:r=2.66667,strokeLinecap:i="round",strokeLinejoin:a="round",className:o,style:l,onClick:c,"aria-label":u="Double check icon",focusable:p=!1,viewBox:f="0 0 16 16",...m})=>t.jsx("svg",{width:e,height:n,viewBox:f,fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,"aria-label":u,focusable:p,...m,children:t.jsx("path",{d:"M1.33337 7.99998L4.00004 10.6666L9.33337 5.33331M9.33337 10.6666L14.6667 5.33331",stroke:s,strokeWidth:r,strokeLinecap:i,strokeLinejoin:a})}),Uh=({color:e="#1F1F1F",fill:n,className:s="",style:r,onClick:i})=>{const a=n||e;return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 11",fill:"none",className:s,style:r,onClick:i,children:t.jsx("path",{d:"M0 10.5234C0.125 9.03733 0.579861 7.66927 1.36458 6.41927C2.14931 5.16927 3.19444 4.17622 4.5 3.4401L2.95833 0.773438C2.875 0.648438 2.85417 0.516493 2.89583 0.377604C2.9375 0.238715 3.02778 0.134549 3.16667 0.0651042C3.27778 -0.00434028 3.40278 -0.0182292 3.54167 0.0234375C3.68056 0.0651042 3.79167 0.148437 3.875 0.273438L5.41667 2.9401C6.61111 2.4401 7.86111 2.1901 9.16667 2.1901C10.4722 2.1901 11.7222 2.4401 12.9167 2.9401L14.4583 0.273438C14.5417 0.148437 14.6528 0.0651042 14.7917 0.0234375C14.9306 -0.0182292 15.0556 -0.00434028 15.1667 0.0651042C15.3056 0.134549 15.3958 0.238715 15.4375 0.377604C15.4792 0.516493 15.4583 0.648438 15.375 0.773438L13.8333 3.4401C15.1389 4.17622 16.184 5.16927 16.9688 6.41927C17.7535 7.66927 18.2083 9.03733 18.3333 10.5234H0ZM5 8.23177C5.29167 8.23177 5.5382 8.13108 5.73958 7.92969C5.94097 7.7283 6.04167 7.48177 6.04167 7.1901C6.04167 6.89844 5.94097 6.65191 5.73958 6.45052C5.5382 6.24913 5.29167 6.14844 5 6.14844C4.70833 6.14844 4.46181 6.24913 4.26042 6.45052C4.05903 6.65191 3.95833 6.89844 3.95833 7.1901C3.95833 7.48177 4.05903 7.7283 4.26042 7.92969C4.46181 8.13108 4.70833 8.23177 5 8.23177ZM13.3333 8.23177C13.625 8.23177 13.8715 8.13108 14.0729 7.92969C14.2743 7.7283 14.375 7.48177 14.375 7.1901C14.375 6.89844 14.2743 6.65191 14.0729 6.45052C13.8715 6.24913 13.625 6.14844 13.3333 6.14844C13.0417 6.14844 12.7951 6.24913 12.5938 6.45052C12.3924 6.65191 12.2917 6.89844 12.2917 7.1901C12.2917 7.48177 12.3924 7.7283 12.5938 7.92969C12.7951 8.13108 13.0417 8.23177 13.3333 8.23177Z",fill:a})})},gf=({color:e="#1F1F1F",fill:n,className:s="",style:r,onClick:i})=>{const a=n||e;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:s,style:r,onClick:i,children:[t.jsx("path",{d:"M14.5482 10.5303C14.5648 9.23168 15.2454 8.0324 16.3516 7.35255C15.6509 6.35118 14.5183 5.73939 13.2968 5.7012C12.0114 5.56648 10.7656 6.46993 10.1108 6.46993C9.44341 6.46993 8.43509 5.71439 7.349 5.73661C5.92056 5.78314 4.62058 6.57548 3.92546 7.82477C2.44563 10.3872 3.54908 14.1538 4.96711 16.2253C5.67681 17.2399 6.50527 18.3725 7.59067 18.3329C8.65245 18.2891 9.04897 17.6558 10.3302 17.6558C11.5996 17.6558 11.9718 18.3329 13.0788 18.3072C14.2176 18.2885 14.9357 17.2885 15.6204 16.2642C16.1301 15.5413 16.5224 14.7427 16.7822 13.8976C15.4294 13.3254 14.5496 11.9997 14.5482 10.5303Z",fill:a}),t.jsx("path",{d:"M12.4559 4.33798C13.0767 3.59216 13.383 2.63385 13.3087 1.6665C12.3601 1.7665 11.483 2.21997 10.8539 2.93662C10.2323 3.64424 9.91707 4.56923 9.97818 5.50948C10.94 5.51921 11.8531 5.08727 12.4559 4.33798Z",fill:a})]})},bI=({className:e=""})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[t.jsx("mask",{id:"mask0_android",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_android)",children:t.jsx("path",{d:"M0.996094 18.0002C1.14609 16.2169 1.69193 14.5752 2.63359 13.0752C3.57526 11.5752 4.82943 10.3835 6.39609 9.5002L4.54609 6.3002C4.44609 6.1502 4.42109 5.99186 4.47109 5.8252C4.52109 5.65853 4.62943 5.53353 4.79609 5.4502C4.92943 5.36686 5.07943 5.3502 5.24609 5.4002C5.41276 5.4502 5.54609 5.5502 5.64609 5.7002L7.49609 8.9002C8.92943 8.3002 10.4294 8.0002 11.9961 8.0002C13.5628 8.0002 15.0628 8.3002 16.4961 8.9002L18.3461 5.7002C18.4461 5.5502 18.5794 5.4502 18.7461 5.4002C18.9128 5.3502 19.0628 5.36686 19.1961 5.4502C19.3628 5.53353 19.4711 5.65853 19.5211 5.8252C19.5711 5.99186 19.5461 6.1502 19.4461 6.3002L17.5961 9.5002C19.1628 10.3835 20.4169 11.5752 21.3586 13.0752C22.3003 14.5752 22.8461 16.2169 22.9961 18.0002H0.996094ZM6.99609 15.2502C7.34609 15.2502 7.64193 15.1294 7.88359 14.8877C8.12526 14.646 8.24609 14.3502 8.24609 14.0002C8.24609 13.6502 8.12526 13.3544 7.88359 13.1127C7.64193 12.871 7.34609 12.7502 6.99609 12.7502C6.64609 12.7502 6.35026 12.871 6.10859 13.1127C5.86693 13.3544 5.74609 13.6502 5.74609 14.0002C5.74609 14.3502 5.86693 14.646 6.10859 14.8877C6.35026 15.1294 6.64609 15.2502 6.99609 15.2502ZM16.9961 15.2502C17.3461 15.2502 17.6419 15.1294 17.8836 14.8877C18.1253 14.646 18.2461 14.3502 18.2461 14.0002C18.2461 13.6502 18.1253 13.3544 17.8836 13.1127C17.6419 12.871 17.3461 12.7502 16.9961 12.7502C16.6461 12.7502 16.3503 12.871 16.1086 13.1127C15.8669 13.3544 15.7461 13.6502 15.7461 14.0002C15.7461 14.3502 15.8669 14.646 16.1086 14.8877C16.3503 15.1294 16.6461 15.2502 16.9961 15.2502Z",fill:"#3DDB85"})})]}),yI=({className:e=""})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[t.jsxs("g",{clipPath:"url(#clip0_ios)",children:[t.jsx("path",{d:"M15.6267 0C18.0267 0 19.2267 0 20.5333 0.4C21.9467 0.906667 23.0667 2.02667 23.5733 3.44C24 4.74667 24 5.97333 24 8.37333V15.6267C24 18.0267 24 19.2267 23.6 20.5333C23.0933 21.9467 21.9733 23.0667 20.56 23.5733C19.2267 24 18.0267 24 15.6267 24H8.37333C5.97333 24 4.77333 24 3.46667 23.6C2.02667 23.0667 0.933333 21.9733 0.4 20.5333C0 19.2533 0 18.0533 0 15.6267V8.37333C0 5.97333 0 4.77333 0.4 3.46667C0.933333 2.05333 2.02667 0.933333 3.46667 0.426667C4.74667 0 5.94667 0 8.37333 0H15.6267Z",fill:"url(#paint0_ios)"}),t.jsx("path",{d:"M5.41305 16.8799C5.43972 16.8265 5.49305 16.7999 5.54639 16.7732C5.75972 16.7199 5.97305 16.6665 6.18639 16.6665C6.77305 16.6665 7.30639 16.8799 7.73305 17.2532C7.78639 17.3065 7.78639 17.3865 7.75972 17.4399L6.66639 19.3065C6.45305 19.6799 6.05305 19.8932 5.65305 19.8932C5.41305 19.8932 5.17305 19.8132 4.95972 19.6532C4.47972 19.3065 4.37305 18.6132 4.66639 18.1065L5.41305 16.8799ZM19.6264 14.0265C20.2397 14.0265 20.7731 14.4799 20.8264 15.0665C20.8797 15.7599 20.3464 16.3465 19.6797 16.3465H18.2664L19.3064 18.1332C19.5997 18.6399 19.4931 19.3332 19.0131 19.6799C18.7997 19.8399 18.5597 19.9199 18.3197 19.9199C17.9197 19.9199 17.5197 19.7065 17.3064 19.3332L14.7997 14.9865L12.8264 11.5732C12.7997 11.5465 12.7997 11.5199 12.7997 11.4665C12.7997 11.3332 12.7731 11.1999 12.7731 11.0665C12.7731 10.1332 12.9864 9.19986 13.4131 8.4532C13.4664 8.3732 13.5997 8.3732 13.6531 8.4532L16.9064 13.9999H19.6264V14.0265ZM13.4931 14.0799C14.0797 14.4265 14.4531 15.0932 14.4531 15.8399C14.4531 15.9999 14.4264 16.1332 14.3997 16.2932C14.3997 16.3199 14.3464 16.3465 14.3197 16.3465H4.37305C3.70639 16.3465 3.14639 15.7599 3.22639 15.0665C3.27972 14.4532 3.81305 14.0265 4.42639 14.0265H7.06639L10.6664 7.83986L9.67972 6.15986C9.33305 5.5732 9.57305 4.79986 10.2131 4.5332C10.7731 4.2932 11.4131 4.5332 11.7331 5.03986L12.0264 5.54653L12.3464 5.0132C12.6931 4.42653 13.4664 4.23986 14.0264 4.63986C14.5331 4.98653 14.6397 5.67986 14.3197 6.2132L9.73305 14.0265H13.3064C13.3864 14.0265 13.4397 14.0532 13.4931 14.0799Z",fill:"white"})]}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_ios",x1:"11.9947",y1:"0.0106667",x2:"11.9947",y2:"23.9947",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#19E6FF"}),t.jsx("stop",{offset:"1",stopColor:"#1E51EE"})]}),t.jsx("clipPath",{id:"clip0_ios",children:t.jsx("rect",{width:"24",height:"24",fill:"white"})})]})]}),j6e=K.icons.code,N6e=K.icons.info,F6e=K.icons.preview,E6e=K.icons.history,S6e=K.icons.animatedSpinner,k6e=K.icons.deployCloud,I6e=K.icons.redeploy,j$=d.memo(({handleVSCodeLink:e,handlePreviewClick:n,handleInfoClick:s,handleDeployClick:r,onPublish:i,showActions:a,hideImportantActions:o,jobId:l,tabId:c,podIsPaused:u=!1,enableDeploy:p=!0,publishConfig:f={},previewUrl:m,buildMode:h,isShowcaseRemix:x,isExpoImage:g=!1,isPhishingBlocked:v=!1})=>{const{enablePublish:b=!1,isPublishing:y=!1,isPublished:w=!1}=f,[_,N]=d.useState(!1),{openModal:j}=Ms(),C=cc(),{getTabByJobId:S}=hi(),F=d.useMemo(()=>S(l||"")?.state?.showCase||!1,[S,l]),{deployStatus:E,latestRunStatus:I,isLoading:T,deploymentHistory:A}=_C({jobId:l,tabId:c||l||"",enabled:!!l&&!u&&h==="build"&&!F}),{isMobile:D}=ts(),{isSuccess:O}=Kr(),{data:M}=Wa(void 0,{skip:!O}),L=M?.moltbot??!1,P=d.useMemo(()=>({fontFamily:"Inter",fontWeight:500}),[]),B=d.useMemo(()=>l&&r&&!o&&!F&&(!b||L),[l,r,o,F,b,L]),G=d.useMemo(()=>l&&i&&!o&&!F&&b&&!L,[l,i,o,F,b,L]);d.useEffect(()=>{},[l,F,u,h]);const $=A.some(oe=>oe.status==="success"),te=A.length>0||E==="success"||E==="failed",U=()=>T?"Loading...":E==="running"||I==="running"?"Deploying...":te?"Redeploy":"Deploy";return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-1"}),t.jsxs("div",{className:"flex items-center",children:[a&&!o&&t.jsx("div",{className:"flex items-center gap-1",children:t.jsx(ms,{children:t.jsxs("div",{className:"flex items-center gap-1",children:[C&&l&&t.jsxs(Ss,{delayDuration:100,children:[t.jsx(ks,{asChild:!0,children:t.jsx(zt,{variant:"ghost",className:"group h-[36px] w-[36px] p-0 hover:bg-white/5 rounded-lg transition-colors duration-200",onClick:()=>N(!0),children:t.jsx("div",{className:"flex items-center justify-center w-full",children:t.jsx("img",{src:E6e,alt:"chat history",className:"w-6 h-6 opacity-50 group-hover:opacity-100"})})})}),t.jsx(Ns,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:P,children:"Edit Chat History"})]}),!D&&t.jsxs(Ss,{delayDuration:100,children:[t.jsx(ks,{asChild:!0,children:t.jsx(zt,{variant:"ghost","data-testid":Rm.infoButton,className:"group h-[36px] w-[36px] p-0 bg-white/10 hover:bg-[#ffffff]/15 backdrop-blur-lg rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:s,disabled:v,children:t.jsx("div",{className:"flex items-center justify-center w-full",children:t.jsx("img",{src:N6e,alt:"info",className:"w-6 h-6 opacity-60 group-hover:opacity-100"})})})}),t.jsx(Ns,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:P,children:"Info"})]})]})})}),a&&t.jsx(t.Fragment,{children:!D&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"",children:t.jsx(zt,{variant:"default","data-testid":Rm.codeButton,className:"group h-[36px] ml-2 pl-2 pr-2 md:pr-3 rounded-[8px] hover:bg-white/100 transition-colors duration-200",onClick:e,disabled:u||h!="build"||v,children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("img",{alt:"code",src:j6e,className:"w-6 h-6"}),t.jsx("span",{className:"hidden text-base font-semibold md:block",children:"Code"})]})})}),t.jsx("div",{className:"ml-2",children:t.jsx(zt,{variant:"default","data-testid":Rm.previewButton,className:"group h-[36px] pl-2 pr-2 md:pr-3 rounded-[8px] hover:bg-white/100 transition-colors duration-200",onClick:n,disabled:h!="build"&&x===!1||v,children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("img",{alt:"preview",src:F6e,className:"w-6 h-6"}),t.jsx("span",{className:"hidden text-base font-semibold md:block",children:"Preview"})]})})}),B&&t.jsx("div",{className:"ml-2",children:t.jsx(zt,{variant:"ghost","data-testid":Rm.deployButton,className:k("group h-[36px] pl-2 pr-2 md:pr-3  rounded-[8px] hover:bg-white/10 transition-colors duration-200",$?"bg-white/10 grayscale-0":E==="running"||I==="running"?"bg-[#4DA5FF29] text-[#33DDFF]":"bg-gradient-to-r from-[#80FFF9] to-[#1588FC] text-[#0F0F10] hover:text-[#0F0F10] hover:opacity-80",(T||!p)&&E=="not_deployed"&&"opacity-90 grayscale","disabled:grayscale"),onClick:r,disabled:(T||!p)&&E=="not_deployed"||v,children:t.jsxs("div",{className:"relative flex items-center gap-1",children:[T?t.jsx(tn,{className:"w-5 h-5 animate-spin"}):E==="running"||I==="running"?t.jsx("img",{src:S6e,alt:"deploying",className:"w-5 h-5"}):g&&!$?t.jsxs("div",{className:"flex items-center gap-px",children:[t.jsx(Uh,{className:"w-[24px] h-auto"}),t.jsx(gf,{className:"size-[22px]"})]}):t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:$?I6e:k6e,alt:"Deploy",className:k("w-5 h-5 ",!$&&"invert")}),$&&t.jsx(Qc,{color:"#2EE572",size:16,innerSize:8,animate:$,className:"absolute -bottom-[4px] -right-[4.5px]"})]}),t.jsx("span",{className:"hidden text-base font-semibold md:block",children:U()})]})})}),G&&t.jsx("div",{className:"ml-2",children:t.jsx(zt,{variant:"ghost","data-testid":Rm.publishButton,className:k("group h-[36px] py-2 px-3 rounded-[8px] transition-opacity duration-200 disabled:opacity-50 disabled:cursor-not-allowed",w?"bg-[#66C2FF1A] hover:bg-[#66C2FF1A]":"bg-gradient-to-b from-[#33CCFF] to-[#337AF2] hover:opacity-90"),disabled:y||!p||u||v,onClick:()=>{H(m2.CHAT_HEADER_PUBLISH_CLICKED,{jobId:l}),j(w?{type:"moltbot-published",previewUrl:m||""}:{type:"publish-moltbot",jobId:l,previewUrl:m,source:"chat_header"})},children:t.jsxs("div",{className:"flex items-center gap-[6px]",children:[y?t.jsx(tn,{className:"w-4 h-4 animate-spin text-white"}):w?t.jsx(_$,{width:16,height:16}):null,t.jsx("span",{className:k("hidden text-sm font-semibold md:block",w?"text-[#66C2FF]":"text-white"),children:y?"Publishing...":w?"Published":"Publish"})]})})})]})})]})]}),t.jsx(_6e,{isOpen:_,onOpenChange:N,chatId:l})]})});j$.displayName="ChatHeader";const Mu=d.forwardRef(({className:e,...n},s)=>t.jsx(LM,{ref:s,className:k("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...n}));Mu.displayName=LM.displayName;const N$=d.forwardRef(({className:e,...n},s)=>t.jsx(PM,{ref:s,className:k("aspect-square h-full w-full",e),...n}));N$.displayName=PM.displayName;const Wf=d.forwardRef(({className:e,...n},s)=>t.jsx(OM,{ref:s,className:k("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...n}));Wf.displayName=OM.displayName;function t5({title:e,onClick:n,style:s,className:r="",children:i,variant:a="filled",icon:o,hoverIcon:l,disabled:c=!1,isLoading:u=!1}){const[p,f]=d.useState(!1),m=a==="filled"?"bg-[#F3CA5F] text-[#0F0F10]":"border border-blue-500 bg-[#E6E6E6] border-[1px] border-[#333333] text-[#0F0F10]",h=()=>{f(!0)},x=()=>{f(!1)},g=()=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(tn,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx("span",{children:"Processing..."})]}),v=p&&l?l:o;return t.jsx(zt,{style:s,className:k("flex items-center gap-[12px] max-h-[44px] rounded-full px-3 py-2 md:px-4 md:py-3  transition-none text-[13px] md:text-[16px]",m,r),onClick:n,onMouseEnter:h,onMouseLeave:x,disabled:c||u,children:i||t.jsx("div",{className:r,children:u?g():t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"font-semibold",children:e}),v&&t.jsx("img",{title:"Icon",src:v,className:"",alt:""})]})})})}const T6e=({width:e=16,height:n=16,fill:s="#E6E6E6",className:r})=>t.jsx("svg",{width:e,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.24748 5.23582C6.44259 5.2128 6.64037 5.24142 6.82267 5.31687L6.82365 5.3159L15.2846 8.77683L15.4281 8.84715C15.5653 8.92714 15.6848 9.03498 15.7787 9.16355L15.8295 9.23972L15.8735 9.31882C15.9702 9.50791 16.013 9.72113 15.9965 9.93406C15.9775 10.1772 15.8824 10.4088 15.724 10.5942C15.5656 10.7794 15.3517 10.9087 15.1147 10.9653V10.9663L11.7699 11.7671L10.9701 15.1128C10.9138 15.3496 10.7837 15.5626 10.599 15.7212C10.4133 15.8805 10.181 15.9765 9.93693 15.9956C9.69289 16.0146 9.44886 15.9553 9.24064 15.8266C9.03263 15.698 8.87085 15.5063 8.77873 15.2798L5.31779 6.82078L5.31877 6.8198C5.23249 6.61111 5.20827 6.38147 5.25138 6.15965L5.27092 6.07664C5.32356 5.88376 5.42572 5.70699 5.56779 5.56492L5.63029 5.5073C5.78178 5.3768 5.96529 5.28688 6.16252 5.24851L6.24748 5.23582ZM9.75041 13.5942L10.2738 11.4087V11.4077C10.3402 11.1318 10.4822 10.8797 10.683 10.6792C10.8839 10.4786 11.1364 10.3369 11.4125 10.271L13.5951 9.74754L7.0883 7.08543L9.75041 13.5942ZM3.13517 7.77488C3.42776 7.46696 3.91511 7.45498 4.22306 7.74754C4.5306 8.04012 4.54275 8.52661 4.25041 8.83445L2.78947 10.3725C2.4969 10.6805 2.01052 10.6924 1.70256 10.3999C1.39462 10.1073 1.38167 9.62093 1.67424 9.31297L3.13517 7.77488ZM0.0277509 4.40965C0.140698 4.00021 0.564602 3.7597 0.97404 3.87254L3.20451 4.48777C3.61397 4.60075 3.85457 5.02458 3.74162 5.43406C3.62853 5.84338 3.20473 6.08313 2.79533 5.97019L0.56486 5.35496C0.155728 5.24186 -0.0849285 4.81889 0.0277509 4.40965ZM9.31779 1.67234C9.62571 1.37982 10.1121 1.39187 10.4047 1.69968C10.6972 2.00753 10.685 2.49398 10.3774 2.7866L8.8383 4.24851C8.5304 4.54073 8.0439 4.52879 7.75138 4.22117C7.45881 3.91319 7.47173 3.42585 7.7797 3.13328L9.31779 1.67234ZM4.41154 0.0278093C4.8209 -0.085006 5.24479 0.155625 5.35783 0.564919L5.97306 2.79539C6.08592 3.20475 5.84523 3.6286 5.43595 3.74168C5.02656 3.85445 4.60262 3.61394 4.48967 3.20457L3.87443 0.974098C3.7616 0.564688 4.00216 0.140791 4.41154 0.0278093Z",fill:s})});function h3({jobId:e,onPublishSuccess:n}){const{toast:s}=ns(),[r,{isLoading:i,isSuccess:a}]=Tre({fixedCacheKey:e?`publish-${e}`:void 0}),{data:o}=Sre(e??"",{skip:!e}),l=a||(o?.payload?.is_persisted??!1),c=d.useCallback(async()=>{if(!e)return s({title:"Error",description:"No job ID available for publishing",variant:"destructive"}),!1;try{const u=await r(e).unwrap();return s({title:"Success",description:"App published successfully!",variant:"default"}),n?.(),!0}catch(u){jt(u,{context:NP.PUBLISH_APP,jobId:e});const p=u.error||u.message||"Failed to publish app. Please try again.";return s({title:"Publish Failed",description:p,variant:"destructive"}),!1}},[e,s,n,r]);return{isPublishing:i,isPublished:l,publishApp:c}}const A6e=K.common.deploy,vI=K.icons.preview,wI=({hideImportantActions:e=!1,handleDeploy:n,togglePanel:s,podIsPaused:r=!1,isExpoImage:i=!1,onEnableVisualEdit:a,isVisualEditEnabled:o=!1,enableVisualEdit:l=!1,enablePublish:c=!1,previewUrl:u="",jobId:p,onPublishSuccess:f})=>{const m=li(),{openModal:h}=Ms(),{isPublishing:x,isPublished:g}=h3({jobId:p,onPublishSuccess:f}),{isSuccess:v}=Kr(),{data:b}=Wa(void 0,{skip:!v}),y=b?.moltbot??!1,w=o&&l;if(e)return null;const _=()=>{H(m2.CHAT_TRAJ_PUBLISH_CLICKED,{jobId:p,isPublished:g}),h(g?{type:"moltbot-published",previewUrl:u}:{type:"publish-moltbot",jobId:p,previewUrl:u,source:"chat_traj",onPublishSuccess:f})},N=()=>{H(m2.CHAT_TRAJ_PREVIEW_CLICKED,{jobId:p}),s({panelName:"showUrlPreviewPanel"})},j=i?t.jsxs("div",{className:"flex items-center gap-px",children:[t.jsx(Uh,{}),t.jsx(gf,{})]}):t.jsx("img",{src:A6e,alt:"deploy",className:"w-5 h-5"});if(c)return t.jsxs("div",{className:"flex gap-4 w-full",children:[y?t.jsxs("button",{onClick:n,disabled:r,className:k("flex items-center gap-2 h-[40px] px-[16px] rounded-[10px] transition-opacity duration-200 disabled:opacity-50 disabled:cursor-not-allowed",i?"bg-[#2ee572] hover:bg-[#28d066]":"bg-green-400 hover:bg-[#25b75b]"),children:[t.jsx("span",{className:"font-brockmann text-[16px] leading-[20px] font-semibold tracking-[-0.2px] text-[#0f0f10]",children:"Deploy"}),j]}):t.jsxs("button",{onClick:_,disabled:r||x,className:k("flex items-center gap-[6px] h-[40px] px-[16px] rounded-[10px] transition-opacity duration-200 disabled:opacity-50 disabled:cursor-not-allowed",g?"bg-[#66C2FF1A] hover:bg-[#66C2FF1A]":"bg-gradient-to-b from-[#33CCFF] to-[#337af2] hover:opacity-90"),children:[x?t.jsx(tn,{className:"w-4 h-4 animate-spin text-white"}):g?t.jsx(_$,{width:16,height:16}):null,t.jsx("span",{className:k("font-brockmann text-[16px] leading-[20px] font-semibold tracking-[-0.2px]",g?"text-[#66C2FF]":"text-white"),children:x?"Publishing...":g?"Published":"Publish Moltbot"})]}),t.jsxs("button",{onClick:N,className:"flex items-center gap-2 h-[40px] px-[16px] pr-[12px] rounded-[10px] bg-white hover:bg-[#cfcfcf]",children:[t.jsx("span",{className:"font-brockmann text-[16px] leading-[20px] font-semibold tracking-[-0.2px] text-[#0f0f10]",children:"Preview"}),t.jsx("img",{src:vI,alt:"preview",className:"w-5 h-5"})]})]});const C=w?"Edit Visually":"Preview";return t.jsxs("div",{className:k("flex flex-col w-full",m?"pt-2 space-y-2":"space-y-4"),children:[t.jsx("div",{className:"w-full max-w-4xl px-2 mx-auto"}),t.jsx("div",{className:"w-full",children:t.jsxs("div",{className:k("flex w-full max-w-4xl px-2 pl-0 mx-auto",m?"gap-2":"gap-4"),children:[t.jsx(t5,{title:"Deploy",variant:"filled",className:k("flex items-center",i?"gap-2 bg-[#2ee572] hover:bg-[#28d066]":"gap-12 bg-green-400 hover:bg-[#25b75b]",m&&"h-10"),onClick:n,disabled:r,children:t.jsxs("div",{className:"flex items-center justify-center w-full gap-4",children:[t.jsx("span",{className:"font-brockmann text-[16px] leading-[20px] font-semibold tracking-[-0.02em]",children:"Deploy"}),j]})}),t.jsx(t5,{title:C,variant:"filled",className:k("flex items-center gap-12 bg-white hover:bg-[#cfcfcf]",m&&"h-10"),onClick:w?a:N,disabled:r,children:t.jsxs("div",{className:"flex items-center justify-center w-full gap-4",children:[t.jsx("span",{className:"font-brockmann  text-[16px] leading-[20px] font-semibold",children:C}),w?t.jsx(T6e,{width:20,height:20,fill:"#000000"}):t.jsx("img",{src:vI,alt:"preview",className:"w-5 h-5 text-white"})]})})]})})]})},D6e=K.common.bot,M6e=({thought:e,action:n,typingSpeed:s=50,className:r="",onContentChange:i,onTypingComplete:a,isExpanded:o=!0,hideRobotIcon:l=!1,marginBottom:c=!0})=>{const u=li(),[p,f]=d.useState(""),[m,h]=d.useState(!1),x=d.useRef(i),g=d.useRef(a);x.current=i,g.current=a;const v=d.useRef(null),b=d.useRef(0),y=[e,n].filter(Boolean).join(`

Action: `);d.useEffect(()=>{if(f(""),h(!1),b.current=0,v.current&&(clearTimeout(v.current),v.current=null),!y){h(!0),g.current&&g.current();return}const j=()=>{if(b.current<y.length){f(y.slice(0,b.current+1)),b.current+=1,x.current&&x.current();const C=1e3/(s*10);v.current=setTimeout(j,C)}else h(!0),v.current=null,g.current&&g.current()};return v.current=setTimeout(j,30),()=>{v.current&&(clearTimeout(v.current),v.current=null)}},[y,s]),d.useEffect(()=>{y&&p===y&&!m&&(h(!0),g.current&&g.current())},[p,y,m]);const w=p.split(`

Action: `),_=w[0]||"",N=w[1]||"";return t.jsx("div",{className:k("flex flex-col w-full space-y-4",c&&"pb-4",r),children:t.jsxs("div",{className:"flex w-full gap-4",children:[!u&&!l&&t.jsxs("div",{className:"flex flex-col items-center w-[40px]",children:[t.jsx(Mu,{className:"h-[40px] w-[40px] bg-black border border-[#555]/25 flex items-center justify-center",children:t.jsx("img",{src:D6e,alt:"Robot",className:"h-[22px] w-[22px]"})}),t.jsx("div",{className:"w-[1px] h-full mt-2 bg-[#555]/25"})]}),t.jsx("div",{className:"flex flex-col flex-1",children:o&&t.jsxs("div",{className:"flex flex-col",children:[_&&t.jsx("div",{className:k("overflow-hidden text-[#dcdce5] font-['Inter'] leading-[28px] font-normal",u?"text-[15px]":"text-[16px]"),children:t.jsx(dl,{children:_})}),N&&t.jsxs("div",{className:"mt-4",children:[t.jsx("span",{className:"font-semibold text-[#A8A9AD]",children:"Action: "}),t.jsx("span",{className:k("overflow-hidden text-[#dcdce5] font-['Inter'] leading-[28px] font-normal",u?"text-[15px]":"text-[16px]"),children:N})]})]})})]})})},R6e=K.common.reply;function CI({handleSubagentClick:e,agentState:n,enableLoading:s=!1,runningState:r=!1,panelState:i,isSelected:a=!1,jobDetails:o,subagentName:l,subagentTrajectoryLength:c,onPause:u,isPauseLoading:p}){const f=li(),m=p??!1,h=d.useCallback(async()=>{!o?.job_id||!n?.agent_running||u&&u({origin:"MainInput"})},[o?.job_id,n?.agent_running,u]),x=Vp(l),g=l?.includes("testing");return t.jsxs("div",{className:k("flex items-center gap-2",!f&&"md:ml-[52px]"),children:[s&&n?.agent_running?t.jsx(t.Fragment,{children:t.jsxs("button",{type:"button",title:"Subagent Button",className:k("relative flex items-center gap-2 rounded-[6px] pl-2 pr-6",f?"h-[30px]":"py-[6px]"),style:{backgroundColor:r?x.bgColor:a&&i.showSubagentPanel?"#ffffff10":"transparent",color:r?x.color:"#B8B8CC"},onClick:e,children:[a&&i.showSubagentPanel&&r&&t.jsx("div",{className:k("before:absolute before:inset-0 before:-m-[4px] before:rounded-[10px] before:border-[1.5px] ",r?x.beforeBorder:"before:border-[#ffffff20]")}),t.jsxs("div",{className:"flex items-center gap-1 text-nowrap",children:[t.jsx(w0e,{size:"18",stroke:"4",speed:"0.9",color:x.iconColor}),t.jsxs("span",{className:" font-brockmann font-medium text-[14px]",children:[" ",_k(kh(l),30)," "]})]}),t.jsx("img",{src:K.subagent.subagentPanelIcon,alt:"Subagent Trigger",className:"min-h-5 min-w-5"})]})}):t.jsx(t.Fragment,{children:t.jsxs("button",{type:"button",title:"Subagent Button",className:k("relative flex items-center gap-2 rounded-[6px] hover:bg-[#ffffff10] pl-2 pr-6",f?"h-[30px]":"py-[6px]",!(s&&n?.agent_running)&&(f?"cursor-pointer":"cursor-pointer bg-red-400 hover:bg-red-600")),style:{backgroundColor:a&&i.showSubagentPanel?"#ffffff10":"transparent",color:"#B8B8CC"},onClick:e,children:[a&&i.showSubagentPanel&&r&&t.jsx("div",{className:k("before:absolute before:inset-0 before:-m-[4px] before:rounded-[10px] before:border-[1.5px] ",r?x.beforeBorder:"before:border-[#ffffff20]")}),t.jsxs("div",{className:"flex items-center gap-1 text-nowrap",children:[t.jsx("img",{alt:"Reply Icon",src:R6e,className:"w-4 h-4"}),t.jsxs("span",{className:" font-brockmann font-medium text-[14px]",children:[c," ",_k(kh(l),30)," messages"]})]})]})}),s&&n?.agent_running&&g?t.jsxs("button",{type:"button",title:"Stop Subagent Button",className:"p-[6px] flex items-center px-[8px]  gap-[6px] rounded-[6px] bg-[#FFFFFF] hover:bg-[#ffffff90] disabled:opacity-50",onClick:h,disabled:m,children:[m?t.jsx(tn,{className:"w-4 h-4 text-black animate-spin"}):t.jsx("div",{className:"w-3 h-3 bg-black rounded-sm"}),t.jsx("span",{className:" font-brockmann font-semibold text-[14px] text-[#0F0F10]",children:m?"Stopping...":"Stop"})]}):null]})}const L6e=({className:e})=>t.jsxs("svg",{className:e,width:"17",height:"18",viewBox:"0 0 17 17.9984",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12.3544 0.33236C12.3308 0.149301 12.1846 0 12.0005 0C11.8164 0 11.6692 0.149309 11.6467 0.33236C11.4963 1.53912 10.5401 2.49531 9.33338 2.64563C9.15032 2.66813 9 2.8154 9 2.99949C9 3.18358 9.15033 3.33083 9.33338 3.35334C10.5401 3.50368 11.4963 4.45988 11.6467 5.66662C11.6692 5.84968 11.8164 5.99898 12.0005 5.99898C12.1846 5.99898 12.3308 5.84967 12.3544 5.66662C12.5047 4.45986 13.4609 3.50367 14.6676 3.35334C14.8497 3.33085 15 3.18358 15 2.99949C15 2.8154 14.8497 2.66815 14.6676 2.64563C13.4609 2.4953 12.5047 1.53909 12.3544 0.33236Z",fill:"var(--fill-0, #EFEFEE)"}),t.jsx("path",{d:"M15.2421 6.25281C15.2196 6.11462 15.1082 6 14.9679 6C14.8275 6 14.7161 6.11462 14.6958 6.25281C14.5854 6.99731 13.9973 7.58544 13.2539 7.69577C13.1146 7.71612 13 7.82753 13 7.96786C13 8.10819 13.1146 8.2196 13.2528 8.2421C13.9984 8.361 14.5865 8.99304 14.6958 9.74612C14.7161 9.88538 14.8275 9.99893 14.9679 9.99893C15.1082 9.99893 15.2207 9.88538 15.24 9.74612C15.3514 8.96734 15.9673 8.35031 16.7461 8.23996C16.8854 8.2196 17 8.1082 17 7.96786C17 7.82753 16.8854 7.71612 16.7461 7.69577C15.993 7.5865 15.361 6.99731 15.2421 6.25281Z",fill:"var(--fill-0, #EFEFEE)"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 4.6643C0 3.68258 0.795882 2.88672 1.77759 2.88672H7.1112C7.60206 2.88672 8.00042 3.28424 8.00042 3.77511C8.00042 4.26597 7.60206 4.66433 7.1112 4.66433H2.22177C1.97676 4.66433 1.77759 4.8635 1.77759 5.10851V15.7757C1.77759 16.0216 1.97676 16.2207 2.22177 16.2207H10.6672C10.9122 16.2207 11.1114 16.0216 11.1114 15.7757V12.2206C11.1114 11.7297 11.5098 11.3313 12.0006 11.3313C12.4915 11.3313 12.889 11.7297 12.889 12.2206V16.2208C12.889 17.2025 12.0931 17.9984 11.1114 17.9984H1.77761C0.795881 17.9984 2.15669e-05 17.2025 2.15669e-05 16.2208L0 4.6643Z",fill:"var(--fill-0, #EFEFEE)"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.55389 8.88922C9.55389 9.38008 9.15637 9.77761 8.6655 9.77761H3.99859C3.50773 9.77761 3.10938 9.38008 3.10938 8.88922C3.10938 8.39836 3.50773 8 3.99859 8H8.6655C9.15637 8 9.55389 8.39836 9.55389 8.88922Z",fill:"var(--fill-0, #EFEFEE)"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.9988 12.2213C7.9988 12.7121 7.60045 13.1096 7.10958 13.1096H3.99859C3.50773 13.1096 3.10938 12.7121 3.10938 12.2213C3.10938 11.7304 3.50773 11.332 3.99859 11.332H7.10958C7.60045 11.332 7.9988 11.7304 7.9988 12.2213Z",fill:"var(--fill-0, #EFEFEE)"})]}),P6e=({className:e})=>t.jsx("svg",{className:e,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M10 9L6.16667 12.8333L5 11.6667L10 6.66667L15 11.6667L13.8333 12.8333L10 9Z",fill:"var(--fill-0, #EFEFEE)"})}),O6e="data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2016.6667%2018.3333'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='document_scanner'%20d='M0%204.16667V0H4.16667V1.66667H1.66667V4.16667H0ZM15%204.16667V1.66667H12.5V0H16.6667V4.16667H15ZM0%2018.3333V14.1667H1.66667V16.6667H4.16667V18.3333H0ZM12.5%2018.3333V16.6667H15V14.1667H16.6667V18.3333H12.5ZM4.16667%2014.1667H12.5V4.16667H4.16667V14.1667ZM4.16667%2015.8333C3.70833%2015.8333%203.31597%2015.6701%202.98958%2015.3438C2.66319%2015.0174%202.5%2014.625%202.5%2014.1667V4.16667C2.5%203.70833%202.66319%203.31597%202.98958%202.98958C3.31597%202.66319%203.70833%202.5%204.16667%202.5H12.5C12.9583%202.5%2013.3507%202.66319%2013.6771%202.98958C14.0035%203.31597%2014.1667%203.70833%2014.1667%204.16667V14.1667C14.1667%2014.625%2014.0035%2015.0174%2013.6771%2015.3438C13.3507%2015.6701%2012.9583%2015.8333%2012.5%2015.8333H4.16667ZM5.83333%207.5H10.8333V5.83333H5.83333V7.5ZM5.83333%2010H10.8333V8.33333H5.83333V10ZM5.83333%2012.5H10.8333V10.8333H5.83333V12.5Z'%20fill='var(--fill-0,%20%2380FFF9)'/%3e%3c/svg%3e",B6e="data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='format_ink_highlighter'%3e%3cmask%20id='mask0_176_1450'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='20'%20height='20'%3e%3crect%20id='Bounding%20box'%20width='20'%20height='20'%20fill='var(--fill-0,%20%23D9D9D9)'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_176_1450)'%3e%3cpath%20id='format_ink_highlighter_2'%20d='M1.66667%2020V16.6667H18.3333V20H1.66667ZM12.1667%2010L10%207.83333L6.66667%2011.1667L8.8125%2013.3333L12.1667%2010ZM11.1875%206.66667L13.3333%208.8125L16.6667%205.5L14.5%203.33333L11.1875%206.66667ZM9.4375%206.0625L13.9375%2010.5625L10%2014.5208C9.66667%2014.8542%209.27431%2015.0208%208.82292%2015.0208C8.37153%2015.0208%207.97917%2014.8542%207.64583%2014.5208L7.08333%2015H2.91667L5.54167%2012.3958C5.20833%2012.0625%205.03472%2011.6632%205.02083%2011.1979C5.00694%2010.7326%205.16667%2010.3333%205.5%2010L9.4375%206.0625ZM9.4375%206.0625L13.3333%202.16667C13.6667%201.83333%2014.059%201.66667%2014.5104%201.66667C14.9618%201.66667%2015.3542%201.83333%2015.6875%202.16667L17.8542%204.3125C18.1875%204.64583%2018.3542%205.03819%2018.3542%205.48958C18.3542%205.94097%2018.1875%206.33333%2017.8542%206.66667L13.9375%2010.5625L9.4375%206.0625Z'%20fill='var(--fill-0,%20%2380FFF9)'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",U6e="data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2015%2011.6667'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='dehaze'%20d='M0%201.66667V0H15V1.66667H0ZM0%2011.6667V10H15V11.6667H0ZM0%206.66667V5H15V6.66667H0Z'%20fill='var(--fill-0,%20%2380FFF9)'/%3e%3c/svg%3e",H6e="data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2015%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='article'%20d='M3.33333%2011.6667H9.16667V10H3.33333V11.6667ZM3.33333%208.33333H11.6667V6.66667H3.33333V8.33333ZM3.33333%205H11.6667V3.33333H3.33333V5ZM1.66667%2015C1.20833%2015%200.815972%2014.8368%200.489583%2014.5104C0.163194%2014.184%200%2013.7917%200%2013.3333V1.66667C0%201.20833%200.163194%200.815972%200.489583%200.489583C0.815972%200.163194%201.20833%200%201.66667%200H13.3333C13.7917%200%2014.184%200.163194%2014.5104%200.489583C14.8368%200.815972%2015%201.20833%2015%201.66667V13.3333C15%2013.7917%2014.8368%2014.184%2014.5104%2014.5104C14.184%2014.8368%2013.7917%2015%2013.3333%2015H1.66667ZM1.66667%2013.3333H13.3333V1.66667H1.66667V13.3333Z'%20fill='var(--fill-0,%20%2380FFF9)'/%3e%3c/svg%3e",V6e=({className:e})=>t.jsxs("svg",{className:e,width:"17",height:"18",viewBox:"0 0 17 17.9984",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12.3544 0.33236C12.3308 0.149301 12.1846 0 12.0005 0C11.8164 0 11.6692 0.149309 11.6467 0.33236C11.4963 1.53912 10.5401 2.49531 9.33338 2.64563C9.15032 2.66813 9 2.8154 9 2.99949C9 3.18358 9.15033 3.33083 9.33338 3.35334C10.5401 3.50368 11.4963 4.45988 11.6467 5.66662C11.6692 5.84968 11.8164 5.99898 12.0005 5.99898C12.1846 5.99898 12.3308 5.84967 12.3544 5.66662C12.5047 4.45986 13.4609 3.50367 14.6676 3.35334C14.8497 3.33085 15 3.18358 15 2.99949C15 2.8154 14.8497 2.66815 14.6676 2.64563C13.4609 2.4953 12.5047 1.53909 12.3544 0.33236Z",fill:"var(--fill-0, #80FFF9)"}),t.jsx("path",{d:"M15.2421 6.25281C15.2196 6.11462 15.1082 6 14.9679 6C14.8275 6 14.7161 6.11462 14.6958 6.25281C14.5854 6.99731 13.9973 7.58544 13.2539 7.69577C13.1146 7.71612 13 7.82753 13 7.96786C13 8.10819 13.1146 8.2196 13.2528 8.2421C13.9984 8.361 14.5865 8.99304 14.6958 9.74612C14.7161 9.88538 14.8275 9.99893 14.9679 9.99893C15.1082 9.99893 15.2207 9.88538 15.24 9.74612C15.3514 8.96734 15.9673 8.35031 16.7461 8.23996C16.8854 8.2196 17 8.1082 17 7.96786C17 7.82753 16.8854 7.71612 16.7461 7.69577C15.993 7.5865 15.361 6.99731 15.2421 6.25281Z",fill:"var(--fill-0, #80FFF9)"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 4.6643C0 3.68258 0.795882 2.88672 1.77759 2.88672H7.1112C7.60206 2.88672 8.00042 3.28424 8.00042 3.77511C8.00042 4.26597 7.60206 4.66433 7.1112 4.66433H2.22177C1.97676 4.66433 1.77759 4.8635 1.77759 5.10851V15.7757C1.77759 16.0216 1.97676 16.2207 2.22177 16.2207H10.6672C10.9122 16.2207 11.1114 16.0216 11.1114 15.7757V12.2206C11.1114 11.7297 11.5098 11.3313 12.0006 11.3313C12.4915 11.3313 12.889 11.7297 12.889 12.2206V16.2208C12.889 17.2025 12.0931 17.9984 11.1114 17.9984H1.77761C0.795881 17.9984 2.15669e-05 17.2025 2.15669e-05 16.2208L0 4.6643Z",fill:"var(--fill-0, #80FFF9)"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.55389 8.88922C9.55389 9.38008 9.15637 9.77761 8.6655 9.77761H3.99859C3.50773 9.77761 3.10938 9.38008 3.10938 8.88922C3.10938 8.39836 3.50773 8 3.99859 8H8.6655C9.15637 8 9.55389 8.39836 9.55389 8.88922Z",fill:"var(--fill-0, #80FFF9)"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.9988 12.2213C7.9988 12.7121 7.60045 13.1096 7.10958 13.1096H3.99859C3.50773 13.1096 3.10938 12.7121 3.10938 12.2213C3.10938 11.7304 3.50773 11.332 3.99859 11.332H7.10958C7.60045 11.332 7.9988 11.7304 7.9988 12.2213Z",fill:"var(--fill-0, #80FFF9)"})]}),$6e=({className:e})=>t.jsx("svg",{className:e,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.0002 5.62491C17.0002 4.17517 15.825 2.99991 14.3752 2.99991H5.62524C4.1755 2.99991 3.00024 4.17517 3.00024 5.62491V14.375C3.00024 15.8247 4.1755 17 5.62524 17H14.3752C15.825 17 17.0002 15.8247 17.0002 14.375L17.0002 5.62491ZM9.99996 8.3229C10.604 8.3229 11.0937 7.83321 11.0937 7.22915C11.0937 6.62509 10.604 6.1354 9.99996 6.1354C9.3959 6.1354 8.90621 6.62509 8.90621 7.22915C8.90621 7.83321 9.3959 8.3229 9.99996 8.3229ZM8.90621 9.41665C8.5035 9.41665 8.17704 9.74311 8.17704 10.1458C8.17704 10.5485 8.5035 10.875 8.90621 10.875H9.63566L9.63566 13.6458C9.63566 14.0485 9.96212 14.375 10.3648 14.375C10.7675 14.375 11.094 14.0485 11.094 13.6458L11.094 10.1458C11.094 9.74311 10.7675 9.41665 10.3648 9.41665H8.90621Z",fill:"var(--fill-0, white)",fillOpacity:"0.64"})}),z6e=({className:e})=>t.jsx("svg",{className:e,width:"19",height:"19",viewBox:"0 0 19.2 19.2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.24649 4.2464C4.57502 3.91788 5.10766 3.91788 5.43619 4.2464L9.6001 8.41031L13.764 4.2464C14.0926 3.91788 14.6251 3.91788 14.9537 4.2464C15.2822 4.57492 15.2822 5.10756 14.9537 5.43608L10.7898 9.59999L14.9537 13.7639C15.2822 14.0924 15.2822 14.625 14.9537 14.9536C14.6251 15.2821 14.0926 15.2821 13.764 14.9536L9.6001 10.7897L5.43619 14.9536C5.10766 15.2821 4.57502 15.2821 4.24649 14.9536C3.91797 14.625 3.91797 14.0924 4.24649 13.7639L8.41042 9.59999L4.24649 5.43608C3.91797 5.10756 3.91797 4.57492 4.24649 4.2464Z",fill:"var(--fill-0, white)",fillOpacity:"0.64"})}),uc={autoCompactMask:L6e,keyboardArrowUp:P6e,documentScanner:O6e,inkHighlighterAlt:B6e,dehaze:U6e,articleFillAlt:H6e,autoSummarisationSparkle:V6e,autoSummarisationInfo:$6e,autoSummarisationClose:z6e},W6e="_autoCompactLoop_tx9nq_25",_I={autoCompactLoop:W6e},kp=vK,Ip=wK,Tp=CK,G6e=K.common.alertOrange,q6e=K.fork.fork,K6e=K.payments.question,Y6e=uc.autoCompactMask,Z6e=uc.keyboardArrowUp,J6e=uc.documentScanner,X6e=uc.inkHighlighterAlt,Q6e=uc.dehaze,eye=uc.articleFillAlt,tye=uc.autoSummarisationSparkle,nye=uc.autoSummarisationInfo,sye=uc.autoSummarisationClose,rye=({iconUrl:e,maskUrl:n,fallbackUrl:s,size:r=20,duration:i=2.4})=>{const a=d.useId().replace(/[:]/g,""),o=`shimmer-gradient-${a}`,l=`shimmer-mask-${a}`,[c,u]=d.useState(e),[p,f]=d.useState(n||e),m=p;d.useEffect(()=>{u(e),f(n||e)},[e,n]);const h=()=>{s&&c!==s&&(u(s),n||f(s))};return t.jsxs("div",{className:"relative shrink-0",style:{width:r,height:r},children:[t.jsx("img",{alt:"",className:"absolute inset-0 size-full",style:{opacity:.5},src:c,onError:h}),t.jsxs("svg",{"aria-hidden":"true",className:"absolute inset-0 size-full",width:r,height:r,viewBox:`0 0 ${r} ${r}`,children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:o,x1:"0",y1:"0",x2:"1",y2:"0",children:[t.jsx("stop",{offset:"0%",stopColor:"rgba(128,255,249,0)"}),t.jsx("stop",{offset:"40%",stopColor:"rgba(128,255,249,0.7)"}),t.jsx("stop",{offset:"50%",stopColor:"rgba(128,255,249,1)"}),t.jsx("stop",{offset:"60%",stopColor:"rgba(128,255,249,0.7)"}),t.jsx("stop",{offset:"100%",stopColor:"rgba(128,255,249,0)"}),t.jsx("animate",{attributeName:"x1",values:"-1;2;-1",dur:`${i}s`,repeatCount:"indefinite",calcMode:"spline",keySplines:"0.4 0 0.6 1; 0.4 0 0.6 1"}),t.jsx("animate",{attributeName:"x2",values:"0;3;0",dur:`${i}s`,repeatCount:"indefinite",calcMode:"spline",keySplines:"0.4 0 0.6 1; 0.4 0 0.6 1"})]}),t.jsx("mask",{id:l,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"},children:t.jsx("image",{href:m,x:"0",y:"0",width:r,height:r})})]}),t.jsx("rect",{width:r,height:r,fill:`url(#${o})`,mask:`url(#${l})`})]})]})},iye=({variants:e,renderText:n})=>{const s=d.useMemo(()=>[...e,e[0]],[e]);return t.jsxs("div",{className:"flex items-center gap-[12px]",children:[t.jsx("div",{className:"relative h-[24px] w-[20px] overflow-hidden",children:t.jsx("div",{className:_I.autoCompactLoop,style:{"--row-height":"24px","--loop-duration":"9.6s"},children:s.map((r,i)=>t.jsx("div",{className:"flex items-center justify-center h-[24px] w-[20px]",children:t.jsx(rye,{iconUrl:r.icon})},`${r.text}-${i}`))})}),t.jsx("div",{className:"relative h-[24px] w-[261px] overflow-hidden",children:t.jsx("div",{className:_I.autoCompactLoop,style:{"--row-height":"24px","--loop-duration":"9.6s"},children:s.map((r,i)=>t.jsx("div",{className:"flex items-center h-[24px]",children:n(r.text)},`${r.text}-${i}`))})})]})},jI=({open:e,onOpenChange:n,onGoToPreferences:s})=>t.jsx(as,{open:e,onOpenChange:n,children:t.jsx(Er,{className:"w-[calc(100vw-32px)] max-w-[740px] border-[rgba(255,255,255,0.08)] bg-[#18181A] p-0",children:t.jsxs("div",{className:"relative",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),className:"absolute right-[24px] top-[24px] z-10 rounded-full bg-[rgba(255,255,255,0.02)] p-[6.4px] backdrop-blur-[20px]","aria-label":"Close modal",children:t.jsx(sye,{className:"size-[19.2px]"})}),t.jsx("div",{className:"p-[24px]",children:t.jsxs("div",{className:"flex flex-col gap-[24px]",children:[t.jsx("div",{className:"bg-gradient-to-b from-[rgba(128,255,249,0.12)] to-[rgba(128,255,249,0)] rounded-[32px] p-[12px] w-fit",children:t.jsx("div",{className:"bg-[rgba(128,255,249,0.12)] rounded-[24px] p-[4px]",children:t.jsx("div",{className:"bg-[rgba(128,255,249,0.12)] rounded-[16px] p-[6px]",children:t.jsx(tye,{className:"size-[20px]"})})})}),t.jsxs("div",{className:"flex flex-col gap-[8px]",children:[t.jsx("h2",{className:"font-brockmann text-[24px] font-medium leading-[32px] tracking-[-0.48px] text-white",children:"Why summarisation?"}),t.jsxs("div",{className:"font-['Inter'] text-[16px] font-medium leading-[24px] text-[rgba(255,255,255,0.64)]",children:[t.jsx("p",{className:"font-['Inter']",children:"As your conversation grows, the agent's memory fills up, just like ours. To keep things running smoothly, we summarise the chat while preserving everything important: your goals, decisions, and code."}),t.jsx("p",{className:"mt-[16px] font-['Inter']",children:"You can continue in the same chat (this happens automatically by default) or fork to a new chat if you want a fresh start or to branch your work."})]})]})]})}),t.jsxs("div",{className:"border-t border-[rgba(255,255,255,0.08)] p-[24px]",children:[t.jsxs("div",{className:"flex items-center gap-[8px]",children:[t.jsx(nye,{className:"size-[20px]"}),t.jsx("p",{className:"font-['Inter'] text-[16px] font-medium leading-[24px] text-[rgba(255,255,255,0.64)]",children:"Auto-summarisation can be turned off from Preferences in Account Settings"})]}),t.jsxs("div",{className:"mt-[16px] flex flex-wrap gap-[16px]",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),className:"rounded-[8px] bg-white px-[24px] py-[8px] font-brockmann text-[16px] font-semibold leading-[24px] tracking-[-0.2px] text-[#0e0e0f]",children:"Okay, got it"}),t.jsx("button",{type:"button",onClick:s,className:"rounded-[8px] bg-[rgba(255,255,255,0.04)] px-[24px] py-[8px] font-brockmann text-[16px] font-medium leading-[24px] tracking-[-0.2px] text-white",children:"Go to Preferences"})]})]})]})})}),aye=({message:e,credits:n,handleAddToken:s,podIsPaused:r,modalOpen:i,setModalOpen:a,enablePublish:o=!1})=>{const l=E=>{if(!E)return 0;const I=Date.parse(E);return Number.isNaN(I)?0:Math.max(0,Math.floor((Date.now()-I)/1e3))},c=ku(),{toast:u}=ns();li();const[p,f]=d.useState(0),[m,h]=d.useState(!1),[x,g]=d.useState(!1),v=d.useMemo(()=>[{text:"Summarising our conversation...",icon:J6e},{text:"Focussing on important bits...",icon:X6e},{text:"Removing extra fluff...",icon:Q6e},{text:"Putting everything together...",icon:eye}],[]),b=E=>{const I=Math.floor(E/60).toString().padStart(2,"0"),T=Math.floor(E%60).toString().padStart(2,"0");return`${I}:${T}`},y=e.action==="auto_summarisation_reached",w=y&&e.summarisation_status==="success",_=y&&!w,N=y,j=()=>{if(y){h(!0);return}window.open(ha.forking.learnMore,"_blank")},C=()=>{h(!1),window.setTimeout(()=>{c.open({initialTab:"preferences"})},0)},S=t.jsxs("span",{className:"text-[#c4c4cc] text-[15px] leading-[24px] font-[400] text-start font-['Inter'] whitespace-pre-wrap",children:["This conversation has grown quite long, and I'm running low on working memory. I'm summarising our conversation so we can keep going. I'll retain all the important context like your project goals, key decisions, and current code.",`
`,"If you want, you can turn off auto-summarisation from Preferences in Account Settings."," ",t.jsx("button",{type:"button",onClick:j,className:"underline decoration-solid [text-decoration-skip-ink:none]",children:"Learn more"})]});d.useEffect(()=>{if(!_){f(0);return}const E=()=>{f(l(e.timestamp))};E();const I=window.setInterval(()=>{E()},1e3);return()=>{window.clearInterval(I)}},[_,e.timestamp]),d.useEffect(()=>{w&&g(!1)},[w,e.observation,e.content]);const F=E=>E?"text-[#E55C5C]":"text-[#F2994A]";if(e.action==="auto_summarisation_reached"){if(N){const E=(e.observation||e.content||"").trim(),I=E.length>0?E:"Summary will appear here once conversation is compacted.",T={"--shiny-width":"150px"};if(_)return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col gap-[24px] items-start",children:[t.jsx("div",{children:S}),t.jsxs("div",{className:"bg-[rgba(128,255,249,0.04)] border border-[rgba(128,255,249,0.12)] rounded-[8px] content-stretch flex items-center justify-between px-[20px] py-[10px] w-full",children:[t.jsx("div",{className:"content-stretch flex gap-[12px] items-center",children:t.jsx(iye,{variants:v,renderText:A=>t.jsx("span",{className:k("font-['Berkeley_Mono_Trial',monospace] text-[14px] leading-[20px] whitespace-nowrap","bg-clip-text text-transparent","animate-shiny-text bg-no-repeat [background-size:var(--shiny-width)_100%]"),style:{...T,animationDuration:"2.4s",backgroundImage:"linear-gradient(90deg, rgba(128,255,249,0.5) 0%, rgba(128,255,249,1) 50%, rgba(128,255,249,0.5) 100%)",backgroundColor:"rgba(128,255,249,0.5)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:A})})}),t.jsx("div",{className:"content-stretch flex items-center justify-center",children:t.jsx("div",{className:"font-jetbrains text-[15px] leading-[24px] text-[rgba(128,255,249,0.64)] whitespace-nowrap",children:b(p)})})]})]}),t.jsx(jI,{open:m,onOpenChange:h,onGoToPreferences:C})]});if(w){const A=`The conversation is summarized below:${I?`

${I}`:""}`;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col gap-[24px] items-start",children:[t.jsx("div",{children:S}),t.jsx("div",{className:"border border-[rgba(239,239,238,0.12)] rounded-[8px] overflow-hidden w-full",children:t.jsxs(kp,{open:x,onOpenChange:g,children:[t.jsx(Ip,{asChild:!0,children:t.jsxs("button",{type:"button",className:k("w-full bg-[rgba(239,239,238,0.04)] content-stretch flex h-[44px] items-center justify-between px-[20px] text-left",x&&"border-b border-[rgba(239,239,238,0.12)] border-solid"),children:[t.jsx("div",{className:"content-stretch flex items-center",children:t.jsxs("div",{className:"content-stretch flex gap-[12px] items-center",children:[t.jsx("div",{className:"relative shrink-0 size-[20px]",children:t.jsx("div",{className:"absolute inset-[0_5%_10.01%_10%]",children:t.jsx(Y6e,{className:"block max-w-none size-full"})})}),t.jsx("span",{className:"font-jetbrains text-[14px] leading-[20px] text-[#efefee] whitespace-nowrap",children:"Conversation summarised"})]})}),t.jsx("div",{className:"relative shrink-0 size-[20px]",children:t.jsx(Z6e,{className:k("block max-w-none size-full transition-transform duration-200",!x&&"rotate-180")})})]})}),t.jsx(Tp,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:t.jsx("div",{className:"bg-[rgba(239,239,238,0.04)] content-stretch flex items-start justify-between overflow-clip px-[20px] py-[16px] w-full",children:t.jsx(yC,{className:"h-[300px] w-full",children:t.jsx("div",{className:"pr-3 text-[#dddde6] text-[12px] leading-[20px] whitespace-pre-wrap font-['Berkeley_Mono_Trial',monospace]",children:A})})})})]})})]}),t.jsx(jI,{open:m,onOpenChange:h,onGoToPreferences:C})]})}}return null}return e.action==="context_limit_reached"?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"bg-[#1111112] border-[#FFFFFF1F] border p-2 rounded-[16px] flex flex-col gap-2",children:[t.jsx("div",{className:"flex items-center justify-between gap-2 p-[10px] rounded-[8px] bg-[#FFAE6614]",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:G6e,alt:"Alert",className:k("w-5 h-5",F(e.error_message_exists))}),t.jsx("span",{className:"font-medium text-[#FFAE66]",children:"Agent context used"})]})}),t.jsx("div",{className:"flex items-center justify-between gap-2 text-sm bg-[#FFFFFF0D] rounded-lg",children:t.jsxs("div",{className:"flex flex-col items-start gap-6 p-4 py-5",children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("span",{className:"text-white text-[16px] leading-[24px] font-[600] text-start font-['Inter']",children:"Summarize & continue in a fresh session"}),t.jsx("span",{className:"text-[#c4c4cc] text-[15px] leading-[24px] font-[400] text-start font-['Inter']",children:"Continue your work in a new conversation while keeping the important context from this session, perfect for continuing complex projects without losing progress."})]}),t.jsxs("div",{className:"flex justify-between w-full border-[#242424]",children:[t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{children:t.jsxs("button",{type:"button",onClick:()=>{if(o){u({title:"This job cannot be forked",description:"Forking is not yet available for this type of job. We're actively working on it.",variant:"destructive",duration:3e3});return}i&&a&&a({...i,fork:!i.fork})},disabled:r,className:"pl-4 pr-3 py-[10px] h-[40px] bg-white text-black hover:bg-gray-100 rounded-[10px] font-[600] text-[16px] flex items-center gap-2",children:["Fork Session",t.jsx("img",{src:q6e,alt:"Fork",className:"w-5 h-5 invert"})]})}),t.jsxs(Ns,{className:k("bg-[#DDDDE6] text-black border-0",r?"":"hidden"),children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:r?"Please wake up the agent before forking session":""}),t.jsx(Co,{className:"fill-[#DDDDE6]"})]})]})}),t.jsxs("button",{onClick:()=>{window.open(ha.forking.learnMore,"_blank")},className:"pl-4 pr-3 py-[10px] h-[40px] bg-transparent text-white/70 hover:bg-[#FFFFFF0A] rounded-[10px] font-[500] text-[16px] flex items-center gap-2",children:["Learn more about Forking",t.jsx("img",{src:K6e,alt:"Question",className:"w-5 h-5"})]})]})]})})]})}):null},oye=K.common.rollbackTime,lye=(e,n)=>{if(n!=="user")return e;const s=e.includes("User has recorded a test case"),r=e.match(/<reported_bug>([\s\S]*?)<\/reported_bug>/);return s&&r?r[1].trim():e},cye=({message:e,userName:n,searchActive:s=!1,searchHighlights:r=[],handleRollback:i,enablePublish:a=!1})=>{const o=li();if(e.function_name==="default_tool")return t.jsxs("span",{className:k("py-2 font-['Inter']",o&&"text-[15px]"),children:["Hey ",n,", Quick input needed :"]});if(e.function_name==="ask_human"&&!e.content)return t.jsxs("span",{className:k("py-2 font-['Inter']",o&&"text-[15px]"),children:["Hey ",n,", Quick input needed :"]});if(e.function_name==="ask_human"&&e.action=="fork")return t.jsxs("span",{className:"py-2 font-['Inter']",children:["Hey ",n,", Quick input needed :"]});if(e.function_name==="rollback")return t.jsx("div",{className:"relative flex flex-col items-center w-full space-y-4",children:t.jsxs("div",{className:k("flex w-full justify-between items-center text-[15px] text-[#FFFFFF] font-['Inter'] py-1",o?"gap-3":"gap-4"),children:[t.jsxs("span",{className:"font-['Inter']",children:["Context has been cleared and a ",t.jsx("span",{className:"text-[#FF884D]",children:"Code Checkpoint"})," has been created at"," ",t.jsx("span",{className:k("text-[#FF884D]",o&&"font-mono text-[13px]"),children:f0(e.timestamp)})," "]}),t.jsxs("button",{onClick:i,className:k("bg-[#FF884D]/10 hover:bg-[#FF884D30] rounded-[8px] flex gap-1 items-center text-[#FF884DCC]",o?"text-[14px] min-w-max px-[8px] py-[5px]":"px-[10px] py-[6px]"),children:[t.jsx("img",{alt:"Time",src:oye,className:k(o?"w-4 h-4":"w-5 h-5")}),"Rollback"]})]})});if(e.action==="finish"&&e.content)return a?null:t.jsx("div",{className:"flex flex-col prose prose-invert max-w-none","data-testid":Wr.messageContent,children:t.jsx(dl,{variant:"default",className:k("[&>*:first-child]:mt-1 [&>*:first-child]:pt-1 [&_p]:my-2",o&&"text-[15px]"),children:e.content})});const l=lye(e.content,e.role);return t.jsx("div",{className:"flex flex-col prose prose-invert max-w-none","data-testid":Wr.messageContent,children:Ig(l,e.role==="user",s,r)})};function Pc({className:e=""}){return t.jsxs("svg",{className:`h-5 w-5 animate-spin ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}const dye=({size:e=20,color:n="#E5F6FF",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M15.2017 5.13281C15.4534 5.13281 15.6872 5.17777 15.903 5.26769C16.1188 5.3576 16.3106 5.48648 16.4785 5.65433C16.6463 5.82217 16.7722 6.011 16.8561 6.2208C16.9401 6.43061 16.988 6.66739 17 6.93114C17 7.17092 16.955 7.40171 16.8651 7.6235C16.7752 7.84529 16.6463 8.04011 16.4785 8.20796L9.33911 15.3563C9.17127 15.5242 8.97645 15.653 8.75466 15.743C8.53286 15.8329 8.30208 15.8808 8.0623 15.8868C7.82252 15.8868 7.59174 15.8419 7.36994 15.752C7.14815 15.662 6.95333 15.5302 6.78548 15.3563L3.53051 12.1013C3.36266 11.9335 3.23378 11.7387 3.14387 11.5169C3.05395 11.2951 3.00599 11.0643 3 10.8245C3 10.5728 3.04796 10.339 3.14387 10.1232C3.23978 9.90738 3.36866 9.71556 3.53051 9.54771C3.69236 9.37987 3.88118 9.25399 4.09698 9.17006C4.31278 9.08614 4.54956 9.03819 4.80732 9.0262C5.0471 9.0262 5.27788 9.07116 5.49968 9.16107C5.72147 9.25099 5.91629 9.37987 6.08414 9.54771L8.0623 11.5259L13.9249 5.65433C14.0927 5.48648 14.2875 5.3576 14.5093 5.26769C14.7311 5.17777 14.9619 5.13281 15.2017 5.13281Z",fill:n})}),uye=({size:e=20,fill:n="#E5F6FF",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M13.7862 4.40112C13.904 4.27661 14.0456 4.17697 14.2025 4.1081C14.3594 4.03922 14.5286 4.00251 14.6999 4.00012C14.8713 3.99774 15.0414 4.02974 15.2002 4.09422C15.359 4.15871 15.5033 4.25437 15.6244 4.37556C15.7456 4.49675 15.8413 4.64101 15.9058 4.7998C15.9703 4.95859 16.0023 5.1287 15.9999 5.30007C15.9975 5.47145 15.9608 5.6406 15.8919 5.79754C15.823 5.95448 15.7234 6.09602 15.5989 6.21379L11.842 9.97077C11.837 9.97573 11.833 9.98163 11.8304 9.98812C11.8277 9.99461 11.8263 10.0016 11.8263 10.0086C11.8263 10.0156 11.8277 10.0226 11.8304 10.0291C11.833 10.0356 11.837 10.0415 11.842 10.0464L15.5989 13.8034C15.7196 13.9221 15.8155 14.0635 15.8813 14.2195C15.947 14.3755 15.9812 14.5429 15.9819 14.7122C15.9827 14.8814 15.9498 15.0492 15.8854 15.2057C15.821 15.3622 15.7262 15.5044 15.6065 15.6241C15.4868 15.7438 15.3446 15.8386 15.1881 15.9031C15.0316 15.9676 14.8639 16.0004 14.6947 15.9998C14.5254 15.9991 14.358 15.9649 14.202 15.8992C14.046 15.8335 13.9045 15.7376 13.7858 15.6169L10.0289 11.8599C10.0239 11.855 10.0181 11.851 10.0116 11.8483C10.0051 11.8456 9.99811 11.8442 9.99109 11.8442C9.98406 11.8442 9.9771 11.8456 9.97061 11.8483C9.96412 11.851 9.95822 11.855 9.95326 11.8599L6.19635 15.6169C6.07765 15.7376 5.93624 15.8336 5.78027 15.8993C5.6243 15.9651 5.45685 15.9993 5.28759 16C5.11833 16.0007 4.95061 15.9679 4.79409 15.9035C4.63757 15.839 4.49536 15.7442 4.37566 15.6245C4.25596 15.5049 4.16114 15.3627 4.09666 15.2062C4.03219 15.0497 3.99934 14.882 4.00001 14.7127C4.00068 14.5434 4.03485 14.376 4.10056 14.22C4.16627 14.064 4.26222 13.9226 4.38286 13.8038L8.13977 10.0468C8.14475 10.0419 8.14869 10.036 8.15139 10.0295C8.15408 10.023 8.15547 10.016 8.15547 10.009C8.15547 10.002 8.15408 9.99504 8.15139 9.98854C8.14869 9.98205 8.14475 9.97616 8.13977 9.9712L4.38286 6.21422C4.1456 5.97312 4.01322 5.64803 4.01456 5.30977C4.0159 4.97151 4.15084 4.64748 4.39 4.40826C4.62916 4.16905 4.95315 4.03402 5.2914 4.03261C5.62966 4.03119 5.95477 4.16349 6.19592 4.4007L9.95283 8.15767C9.95779 8.16265 9.96369 8.1666 9.97018 8.16929C9.97667 8.17198 9.98363 8.17337 9.99066 8.17337C9.99768 8.17337 10.0046 8.17198 10.0111 8.16929C10.0176 8.1666 10.0235 8.16265 10.0285 8.15767L13.7862 4.40112Z",fill:n})}),pye=({isRunning:e,envSuccess:n,action:s})=>{const r=li();if(e)return t.jsxs(t.Fragment,{children:[t.jsx(Pc,{className:k("text-[#29CC83]",r&&"w-4 h-4")}),t.jsx("span",{className:k("text-[#29CC83]",r&&"text-[13px]"),children:"Running"})]});const i=n===void 0||n||s?.includes("file_editor str_replace"),a=r?16:20;return t.jsx("div",{className:"flex items-center gap-2 select-text",children:i?t.jsx(dye,{size:a}):t.jsx(uye,{size:a})})};function fye(e){const n=[],s=/"([^"]+)"|'([^']+)'|([^,\s][^,]*[^,\s])/g;let r;for(;(r=s.exec(e))!==null;){const i=r[1]||r[2]||r[3];i&&n.push(i)}return n}function mye(e){let n="",s=null,r=0,i=!1;const a=[];for(let o=0;o<e.length;o++){const l=e[o];if(i){n+=l,i=!1;continue}if(l==="\\"){i=!0,n+=l;continue}if((l==="'"||l==='"')&&!s){s=l,n+=l;continue}if(l===s&&!i){s=null,n+=l;continue}if(l==="["&&r++,l==="]"&&r--,l===","&&!s&&r===0){a.push(n.trim()),n="";continue}n+=l}return n.trim()&&a.push(n.trim()),a}function hye(e){let n=e;return(n.startsWith("'")&&n.endsWith("'")||n.startsWith('"')&&n.endsWith('"'))&&(n=n.substring(1,n.length-1)),n=n.replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\'/g,"'").replace(/\\\\/g,"\\"),n}function nu(e,n){try{const s=JSON.parse(e);return!(s.type!=="mcp_tool"||!s.tool_name||!s.tool_arguments||n&&s.tool_name!==n)}catch{return!1}}function xye(e){try{const n=JSON.parse(e);return n.type!=="mcp_tool"||n.tool_name!=="mcp_bulk_file_writer"?[]:n.tool_arguments&&n.tool_arguments.files?n.tool_arguments.files.map(s=>({path:s.path,content:s.content||""})):[]}catch{return[]}}function F$(e){try{const n=JSON.parse(e);return n.type!=="mcp_tool"||n.tool_name!=="mcp_search_replace"?null:n.tool_arguments?{path:n.tool_arguments.path||"",oldStr:n.tool_arguments.old_str||"",newStr:n.tool_arguments.new_str||""}:null}catch{return null}}function gye(e){try{const n=JSON.parse(e);return n.type!=="mcp_tool"||n.tool_name!=="mcp_multi_search_replace"?null:n.tool_arguments&&n.tool_arguments.edits?{path:n.tool_arguments.path||"",edits:n.tool_arguments.edits.map(s=>({oldStr:s.old_str||"",newStr:s.new_str||""}))}:null}catch{return null}}function bye(e){try{const n=JSON.parse(e);return n.type!=="mcp_tool"||n.tool_name!=="mcp_view_bulk"?[]:n.tool_arguments&&n.tool_arguments.paths?n.tool_arguments.paths:[]}catch{return[]}}function yye(e){if(!e||!e.trim())return[];const n=e.split(`
`),s=[];let r=[];for(const i of n)i.startsWith("===FILE:")||i.startsWith("===DIR:")||i.startsWith("===ERROR:")?(r.length>0&&s.push(r.join(`
`)),r=[i]):r.push(i);return r.length>0&&s.push(r.join(`
`)),s.filter(i=>i.trim()).map(i=>{const a=i.split(`
`),o=a[0];if(o.startsWith("===FILE:")){const l=o.replace("===FILE:","").trim();let c=1;a[1]&&a[1].trim().endsWith(":")&&(c=2);const u=a.slice(c).filter(p=>!p.startsWith("===END")).map(p=>p.replace(/^\d+\|/,"")).join(`
`);return{path:l,type:"file",success:!0,output:u}}if(o.startsWith("===DIR:")){const l=o.replace("===DIR:","").trim();let c=1;a[1]&&(a[1].trim().endsWith(":")||a[1].includes("(depth="))&&(c=2);const u=a.slice(c).filter(p=>!p.startsWith("===END")&&p.trim()).map(p=>p.trim());return{path:l,type:"directory",success:!0,entries:u}}if(o.startsWith("===ERROR:")){const l=o.replace("===ERROR:","").trim(),c=a.slice(1).filter(u=>!u.startsWith("===END")).join(`
`).trim();return{path:l,type:"error",success:!1,error:c}}return null}).filter(i=>i!==null)}function NI(e){const n=e.indexOf("["),s=FI(e,n),r=e.indexOf("[",s+1),i=FI(e,r);if(n===-1||s===-1||r===-1||i===-1)throw new Error("Invalid bulk file creator action format");const a=e.substring(n+1,s),o=e.substring(r+1,i),l=fye(a),u=mye(o).map(hye);return l.map((p,f)=>({path:p,content:f<u.length?u[f]:""}))}function FI(e,n){if(e[n]!=="[")return-1;let s=1,r=!1,i="",a=!1;for(let o=n+1;o<e.length;o++){const l=e[o];if(a){a=!1;continue}if(l==="\\"){a=!0;continue}if((l==='"'||l==="'")&&!r){r=!0,i=l;continue}if(l===i&&!a){r=!1;continue}if(!r&&(l==="["&&s++,l==="]"&&s--,s===0))return o}return-1}const su=e=>{switch(e.split(".").pop()?.toLowerCase()){case"js":return"javascript";case"ts":return"typescript";case"tsx":return"typescript";case"jsx":return"javascript";case"py":return"python";case"json":return"json";case"html":return"html";case"css":return"css";case"md":return"markdown";case"yaml":case"yml":return"yaml";case"sh":case"bash":return"shell";case"c":return"c";case"cpp":case"cc":return"cpp";case"java":return"java";case"go":return"go";case"rs":return"rust";case"php":return"php";case"rb":return"ruby";case"sql":return"sql";case"xml":return"xml";case"swift":return"swift";case"kt":case"kts":return"kotlin";case"dart":return"dart";default:return"plaintext"}},vye=({files:e,isSubagent:n})=>{const[s,r]=d.useState(e.length-1),i=d.useRef(null),a=d.useRef(null),o=d.useRef(null),l=d.useRef(e.length);return d.useEffect(()=>{e.length>l.current&&r(e.length-1),l.current=e.length},[e.length]),d.useEffect(()=>{if(i.current&&a.current){const c=i.current,u=a.current,p=c.clientWidth,f=u.clientWidth,h=u.offsetLeft-p/2+f/2;c.scrollTo({left:h,behavior:"smooth"})}setTimeout(()=>{if(o.current){const c=o.current.getModel().getLineCount();o.current.revealLine(c,1)}},100)},[s]),e.length?t.jsx("div",{className:"w-full border border-[#252526] rounded-lg overflow-hidden",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{ref:i,className:"flex overflow-x-auto bg-[#252526] scrollbar-thin scrollbar-thumb-[#3E3E42] scrollbar-track-[#252526]",style:{msOverflowStyle:"none",...n?{flexWrap:"nowrap",overflow:"scroll",whiteSpace:"pre-wrap",width:n?"calc(100% - 159px)":"100%"}:{}},children:e.map((c,u)=>{const p=u===s,f=c.path.split("/").pop()||c.path;return t.jsx("button",{ref:p?a:null,className:`px-4 py-2 whitespace-nowrap font-mono text-sm flex-shrink-0 ${p?"bg-[#1E1E1E] text-[#DD99FF] border-b-2 border-[#DD99FF]":"text-[#E5E5E5] hover:bg-[#2D2D2D]"}`,onClick:m=>{r(u),m.stopPropagation()},title:c.path,children:f},u)})}),t.jsx("div",{className:"bg-[#252526] px-4 py-2 font-mono text-[#E5E5E5] text-sm flex items-center border-t border-[#3E3E42] border-b border-[#3E3E42] overflow-hidden text-ellipsis whitespace-nowrap",children:t.jsx("span",{className:"text-[#DD99FF]",children:e[s].path})}),t.jsx("div",{className:"h-[400px] w-full",children:e[s]&&e[s].content?t.jsx(Wg,{height:"100%",defaultLanguage:su(e[s].path),value:e[s].content,theme:"vs-dark",onMount:c=>{o.current=c,setTimeout(()=>{if(o.current){const u=o.current.getModel().getLineCount();o.current.revealLine(u,1)}},100)},options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"all",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},fontSize:13,fontFamily:"'Menlo', 'Monaco', 'Courier New', monospace"}}):t.jsx("div",{className:"h-full w-full flex items-center justify-center bg-[#1E1E1E] text-[#E5E5E5]",children:"No content available for this file"})})]})}):t.jsx("div",{className:"text-[#E5E5E5] p-4",children:"No files to display"})},wye=({path:e,edits:n,isSubagent:s})=>{const[r,i]=d.useState(n.length-1),a=d.useRef(null),o=d.useRef(null),l=d.useRef(n.length);return d.useEffect(()=>{n.length>l.current&&i(n.length-1),l.current=n.length},[n.length]),d.useEffect(()=>{if(a.current&&o.current){const c=a.current,u=o.current,p=c.clientWidth,f=u.clientWidth,h=u.offsetLeft-p/2+f/2;c.scrollTo({left:h,behavior:"smooth"})}},[r]),n.length?(e.split("/").pop(),t.jsx("div",{className:"w-full border border-[#252526] rounded-lg overflow-hidden",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"bg-[#252526] px-4 py-2 font-mono text-[#E5E5E5] text-sm flex items-center border-b border-[#3E3E42] overflow-hidden text-ellipsis whitespace-nowrap",children:t.jsx("span",{className:"text-[#DD99FF]",children:e})}),t.jsx("div",{ref:a,className:"flex overflow-x-auto bg-[#252526] scrollbar-thin scrollbar-thumb-[#3E3E42] scrollbar-track-[#252526]",style:{msOverflowStyle:"none",...s?{flexWrap:"nowrap",overflow:"scroll",whiteSpace:"pre-wrap",width:s?"calc(100% - 159px)":"100%"}:{}},children:n.map((c,u)=>{const p=u===r;return t.jsxs("button",{ref:p?o:null,className:`px-4 py-2 whitespace-nowrap font-mono text-sm flex-shrink-0 ${p?"bg-[#1E1E1E] text-[#DD99FF] border-b-2 border-[#DD99FF]":"text-[#E5E5E5] hover:bg-[#2D2D2D]"}`,onClick:f=>{i(u),f.stopPropagation()},title:`Edit ${u+1}`,children:["Edit ",u+1]},u)})}),t.jsx("div",{className:"h-[400px] w-full",children:n[r]?t.jsx(zg,{height:"100%",language:su(e),original:n[r].oldStr,modified:n[r].newStr,theme:"vs-dark",options:{readOnly:!0,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"all",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},originalEditable:!1,enableSplitViewResizing:!0,fontSize:13,fontFamily:"'Menlo', 'Monaco', 'Courier New', monospace"}}):t.jsx("div",{className:"h-full w-full flex items-center justify-center bg-[#1E1E1E] text-[#E5E5E5]",children:"No content available for this edit"})})]})})):t.jsx("div",{className:"text-[#E5E5E5] p-4",children:"No edits to display"})},Cye=({action:e,functionName:n,isExpanded:s,setIsExpanded:r,isSubagent:i=!1})=>{const a=li(),o=c=>c.length>50?`${c?.substring?.(0,50)}...`:c,l=()=>{if(!e)return"";if(n&&["str_replace_editor","create_file","view_file","search_replace","insert_text"].includes(n)){const[u,p,f]=e?.split?.(" ")??[];if(p==="view")return t.jsxs("span",{className:"flex items-center gap-2 font-mono text-wrap",children:["Viewed ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:f})]});if(p==="str_replace")return t.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Edited ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:f})]});if(p==="create"){const m=e?.split?.(" ")?.[2];return t.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Created ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:m})]})}}else if(e?.startsWith?.("bulk_file_creator")||n==="bulk_file_writer")try{let u;return e?.startsWith?.("bulk_file_creator")?u=NI(e):n==="bulk_file_writer"&&nu(e,"mcp_bulk_file_writer")?u=xye(e):u=NI(e),s?t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[t.jsx("span",{className:"text-[#FF99FD]",children:"Created"})," ",u.length," ",u.length===1?"file":"files"]}),t.jsx(vye,{files:u,isSubagent:i})]}):t.jsx("div",{className:"flex flex-col w-full space-y-1 cursor-pointer",onClick:()=>r(!0),children:t.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[t.jsx("span",{className:"text-[#FF99FD]",children:"Created"})," ",u.length," ",u.length===1?"file":"files"]})})}catch{return t.jsx("span",{className:"text-red-500",children:"Error parsing file content"})}else if(n==="search_replace"){if(nu(e,"mcp_search_replace")){const u=F$(e);if(u)return t.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Edited ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:u.path})]})}}else if(n==="multi_search_replace"){if(nu(e,"mcp_multi_search_replace"))try{const u=gye(e);if(u)return s?t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[t.jsx("span",{className:"text-[#FF99FD]",children:"Applied"})," ",u.edits.length," ",u.edits.length===1?"edit":"edits"," to"," ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:u.path})]}),t.jsx(wye,{path:u.path,edits:u.edits,isSubagent:i})]}):t.jsx("div",{className:"flex flex-col w-full space-y-1 cursor-pointer",onClick:()=>r(!0),children:t.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[t.jsx("span",{className:"text-[#FF99FD]",children:"Applied"})," ",u.edits.length," ",u.edits.length===1?"edit":"edits"," to"," ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:u.path})]})})}catch{return t.jsx("span",{className:"text-red-500",children:"Error parsing edits"})}}else if(n==="view_bulk"&&nu(e,"mcp_view_bulk")){const u=bye(e);if(u.length>0)return t.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Viewing ",t.jsx("span",{className:"text-[#FF99FD]",children:u.length})," ",u.length===1?"path":"paths"]})}const c=typeof e=="string"?e:JSON.stringify(e);return s?c:o(c)};return t.jsx("code",{className:k("text-[#CCEDFF99] font-mono w-full overflow-hidden",a?"text-[13px]":"text-sm"),children:l()})},_ye=({files:e,isSubagent:n})=>{const s=e.findIndex(u=>u.success),[r,i]=d.useState(s>=0?s:0),a=d.useRef(null),o=d.useRef(null),l=d.useRef(null);if(d.useEffect(()=>{if(a.current&&o.current){const u=a.current,p=o.current,f=u.clientWidth,m=p.clientWidth,x=p.offsetLeft-f/2+m/2;u.scrollTo({left:x,behavior:"smooth"})}},[r]),!e.length)return t.jsx("div",{className:"text-[#E5E5E5] p-4",children:"No files to display"});const c=e[r];return t.jsx("div",{className:"w-full border border-[#252526] rounded-lg overflow-hidden",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{ref:a,className:"flex overflow-x-auto bg-[#252526] scrollbar-thin scrollbar-thumb-[#3E3E42] scrollbar-track-[#252526]",style:{msOverflowStyle:"none",...n?{flexWrap:"nowrap",overflow:"scroll",whiteSpace:"pre-wrap",width:n?"calc(100% - 159px)":"100%"}:{}},children:e.map((u,p)=>{const f=p===r,m=u.path.split("/").pop()||u.path,h=u.type==="error",x=u.type==="directory",g=u.type==="file",v=()=>h?t.jsx(lf,{className:"w-3 h-3"}):x?t.jsx(Sme,{className:"w-3 h-3"}):g?t.jsx(vo,{className:"w-3 h-3"}):null;return t.jsxs("button",{ref:f?o:null,className:`px-4 py-2 whitespace-nowrap font-mono text-sm flex-shrink-0 flex items-center gap-2 ${f?h?"bg-[#1E1E1E] text-[#FF6B6B] border-b-2 border-[#FF6B6B]":"bg-[#1E1E1E] text-[#DD99FF] border-b-2 border-[#DD99FF]":h?"text-[#FF6B6B99] hover:bg-[#2D2D2D]":"text-[#E5E5E5] hover:bg-[#2D2D2D]"}`,onClick:b=>{i(p),b.stopPropagation()},title:u.path,children:[v(),m]},p)})}),t.jsxs("div",{className:"bg-[#252526] px-4 py-2 font-mono text-[#E5E5E5] text-sm flex items-center justify-between border-t border-[#3E3E42] border-b border-[#3E3E42] overflow-hidden",children:[t.jsx("span",{className:c.success?"text-[#DD99FF]":"text-[#FF6B6B]",children:c.path}),c.type==="error"&&t.jsx("span",{className:"text-[#FF6B6B] text-xs",children:"Failed to load"}),c.type==="directory"&&t.jsx("span",{className:"text-[#9999FF] text-xs",children:"Directory"})]}),t.jsx("div",{className:"h-[400px] w-full",children:c.type==="file"&&c.output?t.jsx(Wg,{height:"100%",defaultLanguage:su(c.path),value:c.output,theme:"vs-dark",onMount:u=>{l.current=u},options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"all",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},fontSize:13,fontFamily:"'Menlo', 'Monaco', 'Courier New', monospace"}}):c.type==="directory"&&c.entries?t.jsx("div",{className:"h-full w-full bg-[#1E1E1E] p-4 overflow-auto",children:t.jsx("div",{className:"font-mono text-sm text-[#E5E5E5]",children:c.entries.length>0?t.jsx("div",{className:"flex flex-col gap-1",children:c.entries.map((u,p)=>t.jsx("div",{className:"py-1 px-2 hover:bg-[#2D2D2D] rounded",children:u},p))}):t.jsx("div",{className:"text-[#9999FF99] italic",children:"Empty directory"})})}):c.type==="error"?t.jsx("div",{className:"h-full w-full flex items-center justify-center bg-[#1E1E1E] text-[#FF6B6B] p-8",children:t.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md text-center",children:[t.jsx(lf,{className:"w-12 h-12"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold mb-2",children:"Error"}),t.jsx("p",{className:"text-sm text-[#E5E5E599]",children:c.error||"An error occurred"})]})]})}):null})]})})},jye=({message:e})=>{const n=li(),s=i=>{i=i.replace(/--status\b/,"");const a=i.split("--old-str");if(a.length<2)return{oldStr:"",newStr:""};const o=a[1].split("--new-str");if(o.length<2)return{oldStr:"",newStr:""};const l=c=>c.trim().replace(/^["']|["']$/g,"").replace(/\\n/g,`
`).replace(/\\t/g,"	").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");return{oldStr:l(o[0]),newStr:l(o[1])}},r=()=>{if(!e.action)return e.observation;if(e.function_name==="search_replace"&&nu(e.action,"mcp_search_replace")){const l=F$(e.action);if(l)return t.jsx("div",{className:"w-full h-[400px] border border-[#252526] rounded-lg overflow-hidden",children:t.jsx(zg,{height:"100%",language:su(l.path),original:l.oldStr,modified:l.newStr,theme:"vs-dark",options:{readOnly:!0,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},originalEditable:!1,enableSplitViewResizing:!0}})})}if(e.function_name==="multi_search_replace"&&nu(e.action,"mcp_multi_search_replace"))return null;if(e.function_name==="view_bulk"&&nu(e.action,"mcp_view_bulk")){if(e.observation){const l=yye(e.observation);if(l.length>0)return t.jsx(_ye,{files:l})}return null}const[i,a,o]=e.action.split(" ");if(a==="view")return t.jsx("div",{className:"w-full h-[300px] border border-[#252526] rounded-lg overflow-hidden",children:t.jsx(Wg,{height:"100%",defaultLanguage:su(o),defaultValue:e.observation?.includes("|")?e.observation?.split(`
`).slice(1).map(l=>{const[,...c]=l.split("|");return c.join("|")}).join(`
`):e?.observation?.split(`
`).slice(1).join(`
`),theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"}}})});if(a==="str_replace"){const{oldStr:l,newStr:c}=s(e.action);return t.jsx("div",{className:"w-full h-[400px] border border-[#252526] rounded-lg overflow-hidden",children:t.jsx(zg,{height:"100%",language:su(o),original:l,modified:c,theme:"vs-dark",options:{readOnly:!0,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},originalEditable:!1,enableSplitViewResizing:!0}})})}else if(a==="create"){const l=e.action.match(/--file-text\s+(.*?)$/s),c=l?l[1].replace(/\\'/g,"'").replace(/^'|'$/g,"").replace(/\\n/g,`
`).replace(/\\t/g,"	").replace(/\\r/g,"\r"):e.observation;return t.jsx("div",{className:"w-full h-[400px] border border-[#252526] rounded-lg overflow-hidden",children:t.jsx(Wg,{height:"100%",defaultLanguage:su(o),defaultValue:c||"",theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"}}})})}else if(e.action.startsWith("bulk_file_creator")||e.function_name==="bulk_file_writer")return null;return t.jsx(JM,{className:k("p-0",!n&&"font-['Inter'] text-[16px]"),remarkPlugins:[XM],components:{p:({node:l,...c})=>t.jsx("p",{className:k("my-2",n&&"px-2"),...c}),h3:({node:l,...c})=>t.jsx("h3",{className:k("mt-4 mb-2 font-bold",n&&"px-2"),...c}),li:({node:l,...c})=>t.jsx("li",{className:k("my-1 ml-4",n&&"px-2"),...c}),ul:({node:l,...c})=>t.jsx("ul",{className:k("my-2",n&&"px-2"),...c}),del:({node:l,...c})=>t.jsx("del",{className:"text-gray-400 line-through",...c}),pre:({node:l,...c})=>t.jsx("pre",{className:k(n&&"overflow-x-auto whitespace-pre-wrap px-2"),...c}),code:({node:l,...c})=>t.jsx("code",{className:k(n&&"break-all"),...c})},children:e.observation})};return t.jsx("div",{className:k("select-text selection:text-[#66EAFF] selection:bg-[#66EAFF] selection:bg-opacity-10",n&&"text-[14px] font-jetbrains overflow-x-auto break-words"),onClick:i=>i.stopPropagation(),onMouseDown:i=>i.stopPropagation(),onDoubleClick:i=>i.stopPropagation(),children:r()})},Nye=({message:e,isExpanded:n,setIsExpanded:s,isSubagent:r=!1})=>{const i=li();if(!e.action||e.action==="finish"||e.action==="exit_cost_credit_limit_reached"||e.action==="exit_cost"||e.action==="context_limit_reached"||e.action==="auto_summarisation_reached"||e.function_name==="rollback"||e.function_name==="ask_human")return null;const a=e.content?.includes("thought:")&&!!e.action,o=()=>{if(!n&&e.observation){const c=window.getSelection();if(c&&c.toString().length>0)return;H(Up.ACTION_EXPANDED,{messageId:e.id,containerId:e.containerId,requestId:e.request_id,action:e.action,functionName:e.function_name,isSubagent:r,expandMethod:"div_click",hasObservation:!!e.observation}),s(!0)}},l=c=>{if(c.stopPropagation(),e.observation){const u=!n;H(u?Up.ACTION_EXPANDED:Up.ACTION_COLLAPSED,{messageId:e.id,containerId:e.containerId,requestId:e.request_id,action:e.action,functionName:e.function_name,isSubagent:r,expandMethod:"chevron_click",hasObservation:!!e.observation}),s(u)}};return t.jsxs("div",{onClick:o,className:k("max-md:max-w-screen w-full text-wrap backdrop-blur-lg text-left select-text",i?"rounded-[8px]":"rounded-[12px] max-w-[calc(896px-52px)]",e.observation&&!n&&"cursor-pointer hover:bg-[#202020]"),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(230, 247, 255, 0.1) 0%, rgba(229, 246, 255, 0.05) 100%)"},"data-testid":Wr.action.display,children:[t.jsxs("div",{className:k("flex items-start justify-between",i?"p-2":"p-3"),children:[t.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-2",children:[t.jsx("div",{className:k("flex items-start gap-2 text-wrap",n&&"hidden"),children:t.jsx(pye,{isRunning:a,envSuccess:e.env_success,action:e.action})}),t.jsx("div",{className:"flex items-center flex-1 min-w-0 gap-2",children:t.jsx(Cye,{action:e.action,functionName:e.function_name,isExpanded:n,setIsExpanded:s,isSubagent:r})})]}),e.observation&&t.jsx("div",{onClick:l,className:"text-[#939399] transition-all duration-200 ml-2 shrink-0 cursor-pointer hover:text-[#E5E5E5] p-1 -m-1","data-testid":Wr.action.displayChevron,children:t.jsx(Bo,{className:k("w-5 h-5 transition-transform duration-200 ease-in-out",n&&"rotate-90")})})]}),n&&t.jsx("div",{className:k("grid transition-[grid-template-rows] duration-200",n?"grid-rows-[1fr]":"grid-rows-[0fr]"),"data-testid":Wr.action.displayContent,children:t.jsx("div",{className:"overflow-hidden",children:t.jsx("div",{className:"border-t border-[#313131]",children:e.observation&&t.jsx(jye,{message:e})})})})]})},qp=({size:e=24,width:n,height:s,color:r="white",fill:i,fillOpacity:a=.2,className:o,style:l,onClick:c,...u})=>{const p=n||e,f=s||e,m=i||r;return t.jsx("svg",{width:p,height:f,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...u,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 7C20 5.34315 18.6569 4 17 4H7C5.34315 4 4 5.34315 4 7V17.0001C4 18.6569 5.34315 20.0001 7 20.0001H17C18.6569 20.0001 20 18.6569 20 17.0001L20 7ZM11.9997 10.0834C12.69 10.0834 13.2497 9.52377 13.2497 8.83342C13.2497 8.14306 12.69 7.58342 11.9997 7.58342C11.3093 7.58342 10.7497 8.14306 10.7497 8.83342C10.7497 9.52377 11.3093 10.0834 11.9997 10.0834ZM10.7497 11.3334C10.2894 11.3334 9.91634 11.7065 9.91634 12.1667C9.91634 12.627 10.2894 13.0001 10.7497 13.0001H11.5833L11.5833 16.1667C11.5833 16.627 11.9564 17.0001 12.4167 17.0001C12.8769 17.0001 13.25 16.627 13.25 16.1667L13.25 12.1667C13.25 11.7065 12.8769 11.3334 12.4167 11.3334H10.7497Z",fill:m,fillOpacity:a})})},EI=K.common.mingcuteQuestionFill,Fye=K.common.infoSquare02,Eye=K.common.keyboardArrowUp,Sye=({message:e,nextMessageExists:n=!1,children:s,isPublished:r=!1,isDeployed:i=!1})=>{const a=li(),{isSuccess:o}=Kr(),{data:l}=Wa(void 0,{skip:!o}),[c,u]=d.useState(!1),p=e.action&&["fork"].includes(e.action)||e.function_name&&["exit_cost","exit_cost_credit_limit_reached"].includes(e.function_name)?e.content:e.action||"",f=p?.length>650?300:150,m=e.content?.length>950?400:150;return(e.function_name==="ask_human"||e.function_name==="exit_cost"||e.function_name==="exit_cost_credit_limit_reached")&&!n?t.jsxs("div",{className:k("w-full p-[8px] relative rounded-[12px] bg-[#111112] border-[#FFFFFF1F] border-[1px] text-left flex flex-col gap-2"),children:[t.jsxs("div",{className:"flex items-center font-inter font-medium text-[#80FFF9] p-[10px] rounded-[8px] gap-2",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.1) 0%, rgba(128, 255, 249, 0.05) 100%)"},children:[t.jsx("img",{src:EI,alt:"Ask Question",className:"w-6 h-6 font-inter"}),t.jsx("span",{className:k("font-inter",a&&"text-[15px]"),children:"Agent is asking a question, Please answer it to further continue :"})]}),t.jsx("div",{className:"bg-[#FFFFFF0D] rounded-[8px] p-4 py-0",children:t.jsx(dl,{className:k(a?"text-[15px] leading-7":"text-base"),variant:"default",children:p||""})}),t.jsx(Eh,{size:f,duration:12,delay:9,colorFrom:"#80FFF9",colorTo:"transparent"})]}):e.function_name==="ask_human"||e.function_name==="exit_cost"||e.function_name==="exit_cost_credit_limit_reached"?t.jsxs("div",{className:k("w-full p-[8px] relative rounded-[12px] bg-[#111112] border-[#FFFFFF1F] border-[1px] text-left flex flex-col gap-2"),children:[t.jsxs("div",{onClick:()=>u(!c),className:"flex cursor-pointer items-center font-inter grayscale font-medium text-[#80FFF9] p-[10px] rounded-[8px] justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(230, 247, 255, 0.1) 0%, rgba(229, 246, 255, 0.05) 100%)"},children:[t.jsxs("div",{className:"flex justify-between gap-2",children:[t.jsx("img",{src:EI,alt:"Ask Question",className:"w-6 h-6 font-inter"}),t.jsx("span",{className:k("font-inter",a&&"text-[15px]"),children:"Agent asked a question"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"bg-[#FFFFFF1A] rounded-full text-white px-[12px] py-1 text-[14px] font-medium",children:"Answered"}),t.jsx("button",{onClick:()=>{u(!c)},children:t.jsx("img",{src:Eye,alt:"Up",className:k("transition-transform duration-200",c?"rotate-180":"rotate-0")})})]})]}),c&&t.jsx("div",{className:"bg-[#FFFFFF0D] rounded-[8px] p-4 py-0",children:t.jsx(dl,{variant:"default",children:p||""})})]}):e.function_name==="default_tool"?t.jsxs("div",{className:k("w-full p-[8px] relative rounded-[12px] bg-[#111112] border-[#FFFFFF1F] border-[1px] text-left flex flex-col gap-2"),children:[!n&&t.jsxs("div",{className:"flex items-center font-inter font-medium text-[#80FFF9] p-[10px] rounded-[8px] gap-2",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.1) 0%, rgba(128, 255, 249, 0.05) 100%)"},children:[t.jsx("img",{src:Fye,alt:"Ask Question",className:"w-6 h-6 font-inter"}),t.jsx("span",{className:k("font-inter",a&&"text-[15px]"),children:"Agent will continue working after your reply"})]}),t.jsx("div",{className:"bg-[#FFFFFF0D] rounded-[8px] p-4 py-0",children:t.jsx(dl,{variant:"default",children:e.content||""})}),n?null:t.jsx(Eh,{size:m,duration:12,delay:9,colorFrom:"#80FFF9",colorTo:"transparent"})]}):e.action==="finish"&&s?t.jsx("div",{className:"-mt-3 w-full p-[1px] relative rounded-[12px] text-left flex flex-col bg-[conic-gradient(from_0deg_at_40%_30%,rgba(255,255,255,0.12)_0deg,rgba(255,255,255,0.12)_180deg,rgba(51,204,255,0.5)_225deg,rgba(255,255,255,0.12)_270deg,rgba(255,255,255,0.12)_360deg)]",children:t.jsx("div",{className:"w-full rounded-[11px] bg-[#111112] p-2 flex flex-col gap-2",children:t.jsxs("div",{className:"bg-[#FFFFFF0D] rounded-[8px] p-4 pt-0 flex flex-col",children:[t.jsx(dl,{children:e.content||""}),!r&&!i&&t.jsxs("div",{className:"flex items-center gap-2 mb-4 bg-[#301b07] rounded-lg py-[10px] pl-[10px] pr-[16px]",children:[t.jsx(qp,{size:20,color:"#cc9666",fillOpacity:1,className:"shrink-0"}),t.jsxs("span",{className:"font-inter font-medium text-[14px] text-[#cc9666] leading-[20px]",children:["Your Moltbot server will shut down after inactivity. ",l?.moltbot?"Deploy":"Publish"," to keep it running."]})]}),s]})})}):null},kye=({message:e,isPreviewPanelOpen:n=!1})=>{const[s,r]=d.useState(!1);return!e.error||typeof e.error_message=="string"&&e.error_message.includes("context limit")?null:t.jsx("div",{className:k("flex items-start gap-2 bg-[#CC5254]/10 border border-1 border-[#CC5254]/20 rounded-lg text-sm cursor-pointer",n?"p-3":"px-4 py-4"),onClick:()=>r(!s),children:t.jsxs("div",{className:"flex flex-col items-start w-full gap-2",children:[t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex items-start justify-center gap-2",children:[t.jsx(Mme,{className:"w-5 h-5 text-[#E55C5C]"}),t.jsx("p",{className:k("text-[#E55C5C] font-['Inter'] leading-6 font-normal",n?"text-[15px]":"text-base"),children:"There has been an error"})]}),s?t.jsx(Ur,{className:"w-5 h-5 text-[#E55C5C]"}):t.jsx(Bo,{className:"w-5 h-5 text-[#E55C5C]"})]}),s&&t.jsx("span",{className:k("text-[#C4C4CC]/70 font-['Inter'] leading-6 font-normal",n?"text-[14px]":"text-base"),children:JSON.stringify(e.error_message)})]})})},Iye={"Deployment Succeeded":"#00E573","Deployment Failed":"#E55C5C","Deployment Started":"#33CCFF"},v1=({label:e,color:n,timestamp:s,timestampFormatter:r=I0e})=>{const i=li();return t.jsx("div",{className:"flex flex-col w-full py-4 space-y-4",children:t.jsxs("div",{className:"flex w-full gap-4",children:[t.jsx("div",{className:k("w-[16px] h-[1px] mt-[10px]",i?"md:w-[20px]":"md:w-[120px]"),style:{backgroundColor:`${n}33`}}),t.jsx("div",{className:"flex flex-col flex-1",children:t.jsxs("div",{className:"flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center w-full gap-4",children:[t.jsx("span",{className:"font-jetbrains text-[15px] leading-[20px] font-normal",style:{color:n},children:e}),t.jsx("div",{className:"h-[1px] flex-1",style:{backgroundColor:`${n}33`}})]}),t.jsx("span",{className:"text-[#5C5F66] font-jetbrains mt-2 text-[13px] md:text-[15px] leading-[20px] font-normal text-right",children:r(s)})]})})]})})},E$=d.memo(({message:e,credits:n,user:s,session:r})=>s&&r&&n!==void 0&&e.action==="exit_cost_credit_limit_reached"&&n<0?t.jsx(v1,{label:"Credit Exhausted",color:"#F5CC62",timestamp:e.timestamp}):null);E$.displayName="TopStatusSeparators";const S$=d.memo(({message:e,credits:n})=>{if(e.action==="exit_cost_credit_limit_reached"&&n!==void 0&&e.max_budget!==void 0&&n>0)return t.jsx(v1,{label:"Credits Recharged",color:"#F5CC62",timestamp:e.timestamp});if(e.action==="finish")return t.jsx(v1,{label:"Agent Finished",color:"#00E573",timestamp:e.timestamp});if(e.action==="auto_summarisation_reached"&&e.summarisation_status==="success")return t.jsx(v1,{label:"Conversation summarised",color:"#80FFF9",timestamp:e.timestamp,timestampFormatter:f0});if(e.action==="deployment_initiated"){const s=Iye[e.strip_message||"Deployment Started"];return s?t.jsx(v1,{label:e.strip_message||"Deployment Started",color:s,timestamp:e.timestamp}):null}return null});S$.displayName="BottomStatusSeparators";const Tye=({images:e})=>!e||e.length===0?null:t.jsxs("div",{className:"w-full p-3 rounded-[12px] border border-[#FFFFFF1F] text-left",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.1) 0%, rgba(128, 255, 249, 0.05) 100%)"},children:[t.jsx("div",{className:"flex items-center gap-2 mb-3",children:t.jsx("div",{className:"text-sm text-[#80FFF9] font-medium font-['Inter']",children:"Screenshots"})}),t.jsx(vC,{images:e,className:"justify-start"})]}),n5=({size:e=24,color:n="#DD99FF",gradient:s,className:r="",...i})=>{const a=d.useId(),o=s?`url(#${a})`:n;return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...i,children:[s&&t.jsx("defs",{children:t.jsxs("linearGradient",{id:a,x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{offset:"0%",stopColor:s.from}),t.jsx("stop",{offset:"100%",stopColor:s.to})]})}),t.jsx("circle",{opacity:"0.16",cx:"12",cy:"12",r:"10.8",fill:o}),t.jsx("path",{d:"M11.1361 16.3201H12.8641V12.8641H16.3201V11.1361H12.8641V7.68011H11.1361V11.1361H7.68011V12.8641H11.1361V16.3201ZM12.0001 20.6401C10.8049 20.6401 9.68171 20.4133 8.63051 19.9597C7.57931 19.5061 6.66491 18.8905 5.88731 18.1129C5.10971 17.3353 4.49411 16.4209 4.04051 15.3697C3.58691 14.3185 3.36011 13.1953 3.36011 12.0001C3.36011 10.8049 3.58691 9.68171 4.04051 8.63051C4.49411 7.57931 5.10971 6.66491 5.88731 5.88731C6.66491 5.10971 7.57931 4.49411 8.63051 4.04051C9.68171 3.58691 10.8049 3.36011 12.0001 3.36011C13.1953 3.36011 14.3185 3.58691 15.3697 4.04051C16.4209 4.49411 17.3353 5.10971 18.1129 5.88731C18.8905 6.66491 19.5061 7.57931 19.9597 8.63051C20.4133 9.68171 20.6401 10.8049 20.6401 12.0001C20.6401 13.1953 20.4133 14.3185 19.9597 15.3697C19.5061 16.4209 18.8905 17.3353 18.1129 18.1129C17.3353 18.8905 16.4209 19.5061 15.3697 19.9597C14.3185 20.4133 13.1953 20.6401 12.0001 20.6401Z",fill:o})]})},Aye=K.common.bot,Dye=K.common.increaseBudget,Mye=K.icons.preview,s5=d.memo(({message:e,onSubagentClick:n,hideRobotIcon:s,handleRollback:r,marginBottom:i=!0,isCloudFlow:a=!1,searchActive:o=!1,searchHighlights:l=[],isMatchingMessage:c=!1,isSubagent:u=!1,hideImportantActions:p=!1,hideRollback:f,handleAddToken:m,lastGithubUsed:h,togglePanel:x,currentChunk:g,isLastMessage:v=!1,agentState:b,nextMessageExists:y=!1,panelState:w,selectedMessageId:_,jobDetails:N,subagentName:j,onPause:C,isPauseLoading:S,podIsPaused:F=!1,isSubagentActive:E=!1,isExpoImage:I=!1,modalOpen:T,forkStatus:A,setModalOpen:D,isTyping:O=!1,onTypingComplete:M,agentStatus:L="stopped",buildMode:P=null,onEnableVisualEdit:B,isVisualEditEnabled:G=!1,enableVisualEdit:$=!1,enablePublish:te=!1,previewUrl:U="",jobId:oe,onPublishSuccess:Y,isDeployed:W=!1})=>{const Z=li(),[le,q]=d.useState(!1),[Q,he]=d.useState(!1),[me,ce]=d.useState(!1),[ee,J]=d.useState(null),re=d.useRef(null);W9();const xe=Hr(),{handleBuyCredits:ae,isMobileApp:Fe}=e$(),{isPublished:se}=h3({jobId:oe}),_e=!v&&(e.subagent_trajectory?.length??0)>0||v&&E,{toast:Re}=ns(),{credits:Se,refreshCredits:Ne,tier:ge,subscriptionPlansResponse:Ce,personalPlansResponse:$e}=xs(),{restrictedFree:dt,isOrganizationWorkspace:Me,ownerHasProAccess:we,isCurrentWorkspaceOwner:Te}=gi(),{user:ze,session:_t}=os(),{data:Bt}=v2({}),{handleRazorpayPayment:qe,subscriptionPaymentResult:Ae,hideSubscriptionPaymentResult:Le,bundles:Ut,handleBuyCredits:tt,checkForSavedPaymentMethod:xt,showQuickTopupConfirmation:St,savedCard:It,quickTopupConfirmation:kt,hideQuickTopupConfirmation:Ot,confirmQuickTopup:Ie,isLoading:nt,paymentModalState:We,hidePaymentModals:Lt}=d0(),pt=Ce?.current_subscription?.payment_gateway?.toUpperCase(),ft=$e?.current_subscription?.payment_gateway?.toUpperCase(),Tt=pt==="STRIPE"||Me()&&we&&ft==="STRIPE",Gt=(()=>{const Ge=Ae.status;return Ge==="pending"?"pending":Ge==="success"?"success":Ge==="cancelled"?"cancelled":"failed"})(),Ze=()=>{Le(),Ae.status==="success"&&(Ne(),window.location.reload())};let ut;ze?.user_metadata?.name?ut=ze.user_metadata.name.split(" ")[0]:ze?.user_metadata?.full_name?ut=ze.user_metadata.full_name.split(" ")[0]:ut=ze?.email?.split("@")[0],d.useEffect(()=>{c&&o&&!le&&q(!0)},[c,o,le]);const Qt=async()=>{if(dt){H("free_user_deploy_attempted",{source:"agent_message_item",jobId:e.containerId}),xe.open({planType:"personal",triggerLocation:"default"});return}H(dr.CHAT_TRAJ_DEPLOY_CLICKED,{jobId:e.containerId,promptName:N?.promptName}),x({panelName:"showDeployPanel",value:!0})},Sn=()=>{if(n){const Ge=_===e.id;Ge&&w.showSubagentPanel?x({panelName:"showSubagentPanel",value:!1}):w.showSubagentPanel&&!Ge?(x({panelName:"showSubagentPanel",value:!1}),setTimeout(()=>{n(e)},300)):n(e)}},yn=Ge=>{if(!Ge?.available_plans)return null;const At=Ge.available_plans.filter(Cn=>Cn.billing_period==="MONTHLY");return At.length===0?null:At.reduce((Cn,Mt)=>Mt.amount<Cn.amount?Mt:Cn)},Ee=async Ge=>{const At=Ge.currency?.toUpperCase()||"USD",Cn=At===kn.INR;if(H(Za.BUY_CREDITS_BUTTON_CLICKED,{plan_id:Ge.id,plan_name:Ge.tier_name,billing_period:Ge.billing_period,price:Ge.amount,currency:At,payment_provider:Cn?"razorpay":"stripe"}),Cn)await qe({amount:0,price:0,selected:!1,discount:0,currency:At,couponCode:void 0},void 0,{isSubscription:!0,planId:Ge.id,planName:Ge.tier_name,planType:"personal"});else{const Mt=await vt.createCheckoutSession(0,!0,Ge.id,void 0,At.toLowerCase());if(!Mt?.url)throw new Error("No checkout URL returned");window.location.href=Mt.url}},Ke=async Ge=>{const At=Ge.action==="exit_cost_credit_limit_reached"||P==="salesman_agent"?"add_credits":"increase_budget";if(Me()&&!Te){Re({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}if(Fe){ae({source:"agent_message_item"});return}ce(!0);try{H(ge==="free"?Za.BUY_CREDITS_BUTTON_CLICKED:Za.ADD_MORE_CREDITS_BUTTON_CLICKED);const Cn=Ge.auto_checkout===!0,Mt=ge==="free"&&Cn;if(H(Za.BUY_CREDITS_BUTTON_CLICKED,{checkout_flow:Mt?"direct_checkout":"modal",is_free_tier:ge==="free",auto_checkout_flag:Cn}),Mt){const Pn=yn(Bt);if(!Pn)return;await Ee(Pn);return}else{m?.(At);return}}catch(Cn){H(Za.BUY_CREDITS_BUTTON_CLICKED,{error:!0,error_message:Cn?.response?.data?.detail||Cn?.message||"Unknown error"}),Re({title:"Error",description:Cn?.response?.data?.detail||Cn?.message||"Failed to initiate payment",variant:"destructive"})}finally{ce(!1)}},mt=async Ge=>{if(Me()&&!Te){Re({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}const At=Ge.currency?.toUpperCase()===kn.INR;J(Ge.amount);try{if(At){const Mt=ou(Ge.price,Ge.currency,Ge.amount);xo("credits",Mt),qe(Ge,void 0,{eventId:Mt});return}if(await xt())St(Ge,void 0);else{const Mt=ou(Ge.price,Ge.currency,Ge.amount);xo("credits",Mt),tt(Ge,void 0,!1,Mt)}}catch(Cn){jt("handle_credit_chip_click_error",Cn,{bundle_amount:Ge.amount,bundle_price:Ge.price,bundle_currency:Ge.currency,is_razorpay_flow:At}),Re({title:"Error",description:"Failed to process payment. Please try again.",variant:"destructive"})}finally{J(null)}};return t.jsxs("div",{ref:re,onMouseEnter:()=>he(!0),onMouseLeave:()=>he(!1),className:k("relative group selection:text-[#66EAFF] selection:bg-[#66EAFF] selection:bg-opacity-10",i&&k("mb-0 space-y-[10px]",Z?"my-4":"my-3 md:my-5")),id:e.id,"data-testid":Vs.message.agent(e.id),"data-action":e.action,"data-function-name":e.function_name,children:[e.base64_image_list&&e.base64_image_list.length>0&&e.function_name!=="screenshot_tool"&&t.jsx(vC,{images:e.base64_image_list,className:"justify-end"}),t.jsx(E$,{message:e,credits:Se,user:ze,session:_t}),e.action!="deployment_initiated"&&t.jsx("div",{className:"overflow-hidden rounded-lg",children:t.jsx("div",{className:"flex flex-col w-full space-y-4",children:t.jsxs("div",{className:k("flex items-start w-full mx-auto md:gap-4",Z?"max-w-full":"max-w-4xl"),children:[!Z&&!s&&!u&&t.jsx("div",{className:"",children:t.jsx("div",{className:k("hidden row-span-2 md:block",(e.function_name==="rollback"||e.action==="deployment_initiated")&&"row-span-1"),children:t.jsx(Mu,{className:"flex-shrink-0 w-10 h-10","data-testid":Wr.avatar,children:t.jsx(Wf,{className:"bg-transparent",children:t.jsx("img",{src:Aye,alt:"Robot",className:"h-8 w-fit"})})})})}),t.jsxs("div",{className:k("flex flex-col flex-1 w-full",Z?"gap-2":"gap-3"),children:[e.action==="initial-llm"&&O&&e.content?t.jsx("div",{className:k("min-w-0 w-full",s&&"col-span-2"),"data-testid":Vs.message.typingIndicator,children:t.jsx("div",{className:"flex flex-col w-full prose prose-invert max-w-none",children:t.jsx(M6e,{thought:e.content,typingSpeed:50,hideRobotIcon:!0,marginBottom:!1,onTypingComplete:()=>{M&&M()}})})}):!(ze&&_t&&e?.action&&!p&&["exit_cost_credit_limit_reached","exit_cost"].includes(e.action)||e.function_name==="exit_cost"||e.action==="auto_summarisation_reached")&&e?.content&&t.jsx("div",{className:k("min-w-0 w-full",s&&"col-span-2"),children:t.jsx("div",{className:"flex flex-col w-full prose prose-invert max-w-none",children:t.jsx(cye,{message:e,userName:ut,searchActive:o,searchHighlights:l,handleRollback:r,enablePublish:te})})}),t.jsxs("div",{className:k("w-full",s?"col-span-2":"col-span-1",e.function_name!=="rollback"?Z?"space-y-2":"space-y-1 md:space-y-[10px]":"h-[0px]"),children:[e.action!=="initial-llm"&&t.jsx(Nye,{message:e,isExpanded:le,setIsExpanded:q,isSubagent:u}),t.jsx(Sye,{message:e,nextMessageExists:y,isPublished:se,isDeployed:W,children:e.action==="finish"&&e.function_name!=="rollback"&&!u&&te&&t.jsx(wI,{hideImportantActions:p,handleDeploy:Qt,togglePanel:x,podIsPaused:F,isExpoImage:I,onEnableVisualEdit:B,isVisualEditEnabled:G,enableVisualEdit:$,enablePublish:te,previewUrl:U,jobId:oe,onPublishSuccess:Y})}),e.action==="finish"&&e.function_name!=="rollback"&&!u&&!te&&t.jsx(wI,{hideImportantActions:p,handleDeploy:Qt,togglePanel:x,podIsPaused:F,isExpoImage:I,onEnableVisualEdit:B,isVisualEditEnabled:G,enableVisualEdit:$,enablePublish:te}),t.jsx(aye,{message:e,credits:Se,handleAddToken:m,podIsPaused:F,modalOpen:T,setModalOpen:D,enablePublish:te}),t.jsx(kye,{message:e,isPreviewPanelOpen:Z}),e.function_name==="screenshot_tool"&&t.jsx(Tye,{images:e.base64_image_list||[]})]})]})]})})}),ze&&_t&&!p&&(e.action==="exit_cost_credit_limit_reached"||e.expertise_type==="salesman_agent"&&Se<=0)?t.jsx("div",{className:"max-w-4xl pt-[6px] mx-auto",children:t.jsx("div",{className:k("relative flex items-center",Z?"gap-2":"gap-4 md:ml-14"),children:ge==="free"||!Tt||!yg()?t.jsxs(t.Fragment,{children:[t.jsx(t5,{title:ge==="free"?"Buy Credits":"Add More Credits",variant:"filled",style:{background:"linear-gradient(90deg, #ffffff30, #00000050), #F3CA5F",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"},className:k("flex items-center gap-1 md:gap-4",Z&&"h-10 max-h-10"),onClick:()=>Ke(e),icon:Dye,isLoading:me}),t.jsx(t5,{disabled:F,title:"Preview",variant:"outlined",className:k("flex items-center gap-4 w-[115px] md:w-[135px]",Z&&"h-10 max-h-10"),icon:Mye,onClick:()=>{H(Za.PREVIEW_BUTTON_CLICKED,{context:"exit_cost_credit_limit_reached"}),x&&x({panelName:"showUrlPreviewPanel"})}})]}):t.jsxs("div",{className:"flex items-center gap-2 md:gap-[12px] gap-y-2 flex-wrap",children:[[3e3,500,100].map(Ge=>Ut.find(At=>At.amount===Ge)).filter(Ge=>Ge!==void 0).map(Ge=>t.jsxs("button",{onClick:()=>mt(Ge),disabled:ee!==null||nt,style:{boxShadow:`
                          0px 0px 20px 0px rgba(243, 202, 95, 0.2),
                          0px 2.18px 3.64px 1.45px #FFFFFF80 inset,
                          0px -1.45px 0px 0px #00000010 inset,
                          0px 0.73px 0.73px 0.73px #00000010
                        `},className:k("p-[10px] pl-[14px] h-[40px] rounded-full border border-[#F3CA5F0F]","bg-[#F3CA5F]","text-black text-[14px] md:text-[16px] font-semibold","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","relative flex items-center justify-center gap-1"),children:[ee===Ge.amount&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"})}),t.jsxs("span",{className:k(ee===Ge.amount&&"invisible"),children:["+ ",Ge.amount]}),t.jsx(Ho,{className:k(ee===Ge.amount&&"invisible"),color:"#000",size:19})]},Ge.amount)),t.jsxs("button",{onClick:()=>m?.("add_credits"),disabled:ee!==null||nt,className:k("p-[10px] pl-[14px] h-[40px] rounded-full text-[14px] md:text-[16px] font-medium transition-all duration-200","bg-[#FFFFFF1A] hover:bg-[#ffffff29] text-[#FFFFFFCC]","disabled:opacity-50 disabled:cursor-not-allowed","flex items-center gap-1"),children:["Buy custom credits",t.jsx(n5,{size:22,color:"#FFFFFFCC"})]})]})})}):null,e.function_name!="rollback"&&t.jsxs("div",{className:k("transition-opacity duration-200 opacity-100 items-center flex justify-between mx-auto",Z?"max-w-full h-[30px] mt-2":"max-w-4xl h-[25px]"),children:[t.jsxs("div",{className:"flex justify-between items-center text-[#5C5F66]",children:[!v&&e.subagent_trajectory?.length>0&&t.jsx(CI,{handleSubagentClick:Sn,agentState:b,enableLoading:!1,runningState:!1,panelState:w,isSelected:_==e.id,jobDetails:N,subagentName:j,subagentTrajectoryLength:e.subagent_trajectory?.length,onPause:C,isPauseLoading:S}),!_e&&!g&&t.jsx("span",{className:k("md:ml-14",u&&"ml-4")}),v&&E&&t.jsx(CI,{handleSubagentClick:Sn,agentState:b,enableLoading:!0,runningState:E,panelState:w,isSelected:_===e.id,jobDetails:N,subagentName:j,onPause:C,isPauseLoading:S})]}),e.function_name!="rollback"&&e.action!=="deployment_initiated"&&t.jsx("div",{className:"text-[#5C5F66] w-full",children:t.jsxs("div",{className:k("relative flex items-center justify-end",Z?"gap-2":"justify-between",_e&&"justify-end"),children:[t.jsx("div",{className:k("flex items-center gap-2",!Z&&_e&&"hidden",Q?"opacity-100":"opacity-0 pointer-events-none"),children:t.jsx("span",{className:k("w-full leading-[20px] font-medium font-mono text-nowrap transition-opacity text-[#CCEEFF]/30",Z?"text-[13px]":"text-[13px] md:text-[15px]"),children:f0(e.timestamp)})}),t.jsx("div",{className:k("relative",b?.agent_running?"":"md:opacity-100 pointer-events-none"),children:t.jsx(m$,{message:e,isHovered:Q,forkStatus:A,isCloudFlow:a,hideImportantActions:p,hideRollback:f,handleRollback:r,agentStatus:L,podIsPaused:F,className:k(Q?"opacity-100":"opacity-0 pointer-events-none")})})]})})]}),!u&&t.jsx(S$,{message:e,credits:Se}),Ae.paymentId&&t.jsx(aC,{isOpen:Ae.showModal,onOpenChange:Le,paymentId:Ae.paymentId,initialStatus:Gt,paymentType:"subscription",planName:Ae.planName,organizationId:Ae.organizationId,navigationStrategy:"reload",onClose:Ze}),t.jsx(KH,{showModal:kt.showModal,bundle:kt.bundle||null,savedCard:It,isLoading:nt,onClose:Ot,onConfirm:Ie,onChangePaymentMethod:()=>{const Ge=kt.bundle;if(Ot(),Ge){const At=ou(Ge.price,Ge.currency,Ge.amount);xo("credits",At),tt(Ge,void 0,!1,At)}}}),We.isLoading&&t.jsx(Hf,{isOpen:We.isLoading,onOpenChange:Lt,paymentType:We.paymentType||"credits",amount:We.amount,currency:We.currency,isQuickTopup:We.isQuickTopup})]})},(e,n)=>{if(e.message.id!==n.message.id||e.message.content!==n.message.content||e.message.action!==n.message.action||e.message.observation!==n.message.observation||e.message.error!==n.message.error||e.message.timestamp!==n.message.timestamp)return!1;const s=e.message.subagent_trajectory?.length||0,r=n.message.subagent_trajectory?.length||0;if(s!==r||e.searchActive!==n.searchActive||e.isMatchingMessage!==n.isMatchingMessage||e.isLastMessage!==n.isLastMessage||e.selectedMessageId!==n.selectedMessageId||e.podIsPaused!==n.podIsPaused||e.isSubagentActive!==n.isSubagentActive||e.agentStatus!==n.agentStatus||e.isTyping!==n.isTyping||e.forkStatus!==n.forkStatus||e.nextMessageExists!==n.nextMessageExists||e.isSubagent!==n.isSubagent||e.hideImportantActions!==n.hideImportantActions||e.hideRollback!==n.hideRollback||e.isVisualEditEnabled!==n.isVisualEditEnabled||e.enableVisualEdit!==n.enableVisualEdit||e.agentState?.agent_running!==n.agentState?.agent_running)return!1;const i=e.searchHighlights?.length||0,a=n.searchHighlights?.length||0;return i===a});s5.displayName="AgentMessageItem";function Rye({children:e,as:n="p",className:s,duration:r=1,zDistance:i=10,xDistance:a=2,yDistance:o=-2,spread:l=1,scaleDistance:c=1.1,rotateYDistance:u=10,transition:p}){const f=fe.create(n);return t.jsx(f,{className:k("relative inline-block [perspective:500px]","[--base-color:#a1a1aa] [--base-gradient-color:#000]","dark:[--base-color:#71717a] dark:[--base-gradient-color:#ffffff]",s),style:{color:"var(--base-color)"},children:e.split("").map((m,h)=>{const x=h*r*(1/l)/e.length;return t.jsx(fe.span,{className:k("inline-block whitespace-pre [transform-style:preserve-3d]"),initial:{translateZ:0,scale:1,rotateY:0,color:"var(--base-color)"},animate:{translateZ:[0,i,0],translateX:[0,a,0],translateY:[0,o,0],scale:[1,c,1],rotateY:[0,u,0],color:["var(--base-color)","var(--base-gradient-color)","var(--base-color)"]},transition:{duration:r,repeat:1/0,repeatDelay:e.length*.05/l,delay:x,ease:"easeInOut",...p},children:m},h)})})}const Lye=K.common.bot;function Pye({text:e,duration:n=2,spread:s=1,zDistance:r=1,scaleDistance:i=1.1,rotateYDistance:a=20}){const o=li();return t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[!o&&t.jsx("div",{className:"row-span-2",children:t.jsx(Mu,{className:"flex-shrink-0 w-10 h-10",children:t.jsx(Wf,{className:"bg-transparent",children:t.jsx("img",{src:Lye,alt:"Robot",className:"h-8 w-fit"})})})}),t.jsx("div",{className:"flex flex-col w-full space-y-4",children:t.jsx("div",{className:"w-[300px] flex items-center justify-between rounded-xl p-4 pt-2 pl-0",children:t.jsx("div",{className:"flex items-center space-x-3",children:t.jsx(Rye,{className:k("[--base-color:#0D74CE] [--base-gradient-color:#5EB1EF] text-base",o&&"text-[15px] font-['Inter']"),duration:n,spread:s,zDistance:r,scaleDistance:i,rotateYDistance:a,children:e})})})})]})})}const Oye=(e,n)=>e.text===n.text,k$=et.memo(Pye,Oye);k$.displayName="AgentTypingAnimation";const r5=({text:e="Processing next step..."})=>t.jsx("div",{className:"typing-animation-container",children:t.jsx(k$,{text:e,duration:1})});function Bye({isOpen:e,onClose:n,messages:s,onSubmit:r,onPause:i,agentState:a,containerId:o,jobDetails:l,togglePanel:c,selectedAgent:u,hideImportantActions:p=!1,userInitials:f,subagentName:m="Subagent",isSubagentActive:h=!1,isCloudFlow:x=!1,pauseWasClicked:g=!1,isPauseLoading:v=!1,searchHighlights:b,isMatchingMessage:y,searchState:w,currentChunk:_,podIsPaused:N=!1,agentStatus:j,setAgentStatus:C,isAutoSummarisationUIEnabled:S=!1}){const[F,E]=d.useState(new Set),[I,T]=d.useState(!1),A=d.useRef(null),[D,O]=d.useState(!0),M=d.useRef(null),L=d.useMemo(()=>[...s].sort((U,oe)=>{const Y=new Date(U.timestamp).getTime(),W=new Date(oe.timestamp).getTime();return Y-W}),[s]),P=()=>{if(A.current){const{scrollTop:U,scrollHeight:oe,clientHeight:Y}=A.current,W=Math.abs(oe-U-Y)<10;O(W)}},B=()=>{M.current&&clearTimeout(M.current),M.current=setTimeout(()=>{A.current&&A.current.scrollTo({top:A.current.scrollHeight,behavior:"smooth"})},100)};d.useEffect(()=>{D&&B()},[L.length]),d.useEffect(()=>{e&&B()},[e]),d.useEffect(()=>()=>{M.current&&clearTimeout(M.current)},[]);const G=d.useMemo(()=>{if(L.length>0)return L[L.length-1].agent_name},[L]);d.useEffect(()=>{if(L.length>0){const U=L[L.length-1];U.action==="finish"?T(!1):!U.action&&!U.observation?T(!0):T(!1)}else T(!1)},[L]);const $=d.useMemo(()=>L.length>0?L[L.length-1].action==="finish":!1,[L]),te=(U,oe)=>{!U.trim()||!r||(r(U,oe),B())};return t.jsx("div",{className:k("w-full h-full bg-[#0F0F10]  max-md:absolute max-md:inset-0 z-[49]",e?"block":"hidden"),children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"p-4 md:px-6 md:py-5 bg-[#181818] md:bg-transparent flex items-center justify-between border-b border-[#242424]/60",children:[t.jsxs("div",{className:"text-[#939399] font-['Brockmann'] flex items-center gap-2 text-[15px]  md:text-[18px] font-medium leading-[24px] capitalize",children:[kh(m)," (",L.length,")"]}),t.jsx(zt,{variant:"ghost",size:"icon",onClick:n,className:"w-8 h-8 hover:bg-transparent",children:t.jsx(Ft,{className:"w-6 h-6 text-white"})})]}),t.jsxs("div",{ref:A,className:"flex-1 p-6 overflow-x-hidden overflow-y-auto",onScroll:P,style:{scrollBehavior:"smooth",contain:"layout style",willChange:"scroll-position"},children:[L.map(U=>t.jsxs("div",{className:"w-full",style:{contain:"layout"},children:[U.role==="assistant"&&U.action&&t.jsx(s5,{currentChunk:"",togglePanel:c,message:U,userInitials:f||"",onMergeToLocal:()=>{},onShowSubagentMessages:()=>{},onSubagentClick:()=>{},handleOpenVsCode:()=>{},handleRollback:()=>{},hideImportantActions:p,isCloudFlow:x,searchActive:w.isActive,searchQuery:w.query,searchHighlights:b,isMatchingMessage:y,isSubagent:!0,handleAddToken:()=>{},acc_cost:0,max_budget:0,selectedMessageId:void 0,isAutoSummarisationUIEnabled:S}),U.role==="user"&&t.jsx(v$,{message:U,isSubagent:!0})]},U.id)),!$&&a?.agent_running&&t.jsxs(t.Fragment,{children:[t.jsx(r5,{}),t.jsx("div",{className:"h-32"})]})]}),!$&&t.jsx("div",{className:"p-2 md:p-4 md:pb-2 border-t flex items-center justify-center border-[#242424]/60",children:t.jsx(bC,{buildMode:"build",onSubmit:te,placeholder:`Message ${kh(m)}`,hideStatus:!0,isDisabled:N,hideTokens:!0,showImages:!0,isCloudFlow:x,agentName:G,agentState:a,agentStatus:j,setAgentStatus:C,containerId:o,jobDetails:l,isSubagentActive:h||I,onPause:i,onAddToken:()=>{},pauseWasClicked:g,isPauseLoading:v,onImagesChange:()=>{},fromSubagentPanel:!0})})]})})}const SI=K.common.copperCoin;function Uye({isOpen:e,onOpenChange:n,currentCost:s,jobId:r,onBudgetUpdate:i,maxBudget:a=20,variant:o="increase_budget"}){const[l,c]=d.useState(5),[u,p]=d.useState(!1),[f,m]=d.useState(o),{toast:h}=ns(),x=()=>{c(j=>Math.min(j+1,500))},g=()=>{l>1&&c(j=>Math.max(j-1,1))},v=j=>{const C=j.target.value;if(C===""){c(0);return}if(!/^[0-9]*\.?[0-9]*$/.test(C)||C.endsWith(".")&&!C.includes(".."))return;const F=parseFloat(C);!isNaN(F)&&F>=0&&F<=500?c(Math.round(F*100)/100):F>500&&c(500)},b=async()=>{if(l<=0){h({title:"Invalid Amount",description:"Budget increase must be greater than 0",variant:"destructive"});return}if(l>500){h({title:"Invalid Amount",description:"Budget increase cannot exceed 500 credits",variant:"destructive"});return}try{p(!0),await vt.updateBudget(r,l);const j=await vt.getBudget(r);h({title:"Budget Updated",description:`Successfully increased budget to ${j.max_budget.toFixed(3)} Credits`}),i&&i(j.max_budget),n(!1)}catch(j){h({title:"Error",description:j instanceof Error?j.message:"Failed to update budget",variant:"destructive"})}finally{p(!1)}},{tier:y,credits:w}=xs(),_=j=>{j||n(!1)},N=j=>{if(j==="increase_budget")return t.jsxs(t.Fragment,{children:[t.jsx(lc,{className:"border-b border-[#2E2F34] md:pb-6 p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex flex-col items-start gap-2 md:gap-5",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full",children:t.jsx("img",{src:SI,alt:"Coin",className:"w-8 h-8"})}),t.jsxs("div",{className:"flex flex-col gap-1 md:gap-2",children:[t.jsx(Lo,{className:"text-[#C4C4CC] font-brockmann text-[16px]  md:text-[22px] text-start font-medium md:leading-[28px] tracking-[-0.44px]",children:"Set Budget Limit"}),t.jsx("p",{className:"text-[#5C5F66] font-inter text-[14px] text-start  md:text-base font-medium md:leading-6",children:"Session Budget prevent excessive token usage during a session."})]})]})})}),t.jsxs("div",{className:"p-4 py-8 space-y-4 md:space-y-6 md:px-8 md:py-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-[#8A8B91] text-[13px]  md:text-base md:mb-3",children:"Budget Used"}),t.jsxs("div",{className:"text-[24px] md:text-[32px] font-semibold leading-[38px]",children:[t.jsx("span",{className:"text-[#F3CA5F]",children:s?.toFixed(3)}),t.jsx("span",{className:"text-[#C4C4CC] mx-2",children:"/"}),t.jsx("span",{className:"text-[#C4C4CC]",children:a?.toFixed(3)}),t.jsx("span",{className:"text-[#C4C4CC] ml-2 text-xl",children:"Credits"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-[#8A8B91] text-[13px]  md:text-base mb-3",children:"Increase Budget"}),t.jsxs("div",{className:"flex items-center justify-between bg-[#0E0E0F] border border-[#242424] rounded-xl p-1 md:p-4",children:[t.jsx("button",{type:"button",onClick:g,className:"h-8 w-8 md:w-12 md:h-12 rounded-md md:rounded-xl bg-[#1E1F23] flex items-center justify-center text-2xl font-medium hover:bg-[#2A2B30] transition-colors",disabled:u,children:"-"}),t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:" flex items-center md:text-[32px] font-semibold md:leading-[38px] mr-2",children:[t.jsx("img",{src:SI,alt:"Coin",className:"w-[18px] md:w-[28px] h-fit"}),t.jsx(Gi,{type:"number",value:l===0?"":l.toString(),onChange:v,min:"0",max:"500",step:"0.01",className:"text-[24px] md:text-[32px] font-semibold md:leading-[38px] bg-transparent border-none text-center p-0 focus:ring-0 focus:outline-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]",disabled:u,placeholder:"0.00"})]})}),t.jsx("button",{type:"button",onClick:x,className:" h-8 w-8 md:w-12 md:h-12 rounded-md md:rounded-xl bg-[#1E1F23] flex items-center justify-center text-2xl font-medium hover:bg-[#2A2B30] transition-colors",disabled:u,children:"+"})]})]}),w<l&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[#F5CC62]/90 text-[13px]  md:text-base",children:"Not Enough Credits"}),t.jsxs("button",{title:"Learn more about credits",className:"bg-[#f5cc621a] text-[#F5CC62] py-[10px] px-3  rounded-xl",onClick:()=>{m("add_credits")},children:[" ","Buy Credits"]})]}),w>l&&t.jsx("div",{className:"bg-[#f5cc621a] rounded-xl py-[10px] px-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[#F5CC62] text-[13px]  md:text-base",children:"Your new budget limit"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white/80 text-[13px]  md:text-base",children:s?.toFixed(3)}),t.jsx("span",{className:"text-base text-white/90",children:" / "}),t.jsx("span",{className:"text-[#F5CC62] text-[13px]  md:text-base",children:(a+l).toFixed(3)}),t.jsx("span",{className:"text-white/80 ml-2 text-[13px]  md:text-base",children:"Credits"})]})]})})]}),t.jsx(ad,{className:"border-t border-[#2E2F34] p-4 md:mt-6 md:py-4",children:t.jsxs("div",{className:"flex justify-end gap-3 md:px-6",children:[t.jsx(zt,{variant:"outline",onClick:()=>n(!1),className:"text-[#C4C4CC] px-4   h-[40px] hover:bg-[#242424] md:px-6 md:h-11 text-[16px]  md:text-base  font-medium",disabled:u,children:"Cancel"}),t.jsx(zt,{onClick:b,disabled:u||l>w,className:"bg-white px-4 font-semibold   h-[40px] text-black hover:bg-[#E5E5E5] md:px-6 md:h-11 text-[16px]  md:text-base",children:u?"Updating...":"Confirm"})]})})]})};return t.jsxs(t.Fragment,{children:[t.jsx(as,{open:e&&f==="increase_budget",onOpenChange:n,children:t.jsx(Er,{className:"max-w-[95%] sm:max-w-[650px] bg-[#0E0E0F] text-white border border-[#242424] rounded-2xl",children:N(f)})}),y!=="free"?t.jsx(m3,{isOpen:e&&f==="add_credits",onOpenChange:_}):t.jsx(ud,{isOpen:e&&f==="add_credits",onOpenChange:_})]})}const Hye=({width:e=24,height:n=24,fill:s="#0E0E0F",className:r,style:i,maskId:a="mask0_upload_icon",...o})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 24 24",fill:"none",className:r,style:i,...o,children:[t.jsx("mask",{id:a,style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:`url(#${a})`,children:t.jsx("path",{d:"M4.55844 18.0473C3.95044 17.3273 3.46244 16.5353 3.09444 15.6713C2.72644 14.8073 2.49444 13.9033 2.39844 12.9593H4.36644C4.46244 13.6473 4.63844 14.3073 4.89444 14.9393C5.15044 15.5713 5.48644 16.1593 5.90244 16.7033L4.55844 18.0473ZM2.39844 11.0393C2.52644 10.0953 2.76644 9.19127 3.11844 8.32727C3.47044 7.46326 3.95044 6.67127 4.55844 5.95127L5.90244 7.29527C5.48644 7.83927 5.15044 8.42727 4.89444 9.05927C4.63844 9.69127 4.46244 10.3513 4.36644 11.0393H2.39844ZM10.9904 21.5513C10.0464 21.4553 9.14644 21.2273 8.29044 20.8673C7.43444 20.5073 6.63844 20.0313 5.90244 19.4393L7.24644 18.0473C7.80644 18.4633 8.39844 18.8073 9.02244 19.0793C9.64644 19.3513 10.3024 19.5353 10.9904 19.6313V21.5513ZM7.29444 5.95127L5.90244 4.55927C6.65444 3.96727 7.46244 3.49127 8.32644 3.13127C9.19044 2.77127 10.0944 2.54327 11.0384 2.44727V4.36727C10.3504 4.46327 9.69044 4.64727 9.05844 4.91927C8.42644 5.19127 7.83844 5.53527 7.29444 5.95127ZM12.9104 21.5513V19.6313C13.6144 19.5353 14.2824 19.3553 14.9144 19.0913C15.5464 18.8273 16.1424 18.4793 16.7024 18.0473L18.0944 19.4393C17.3424 20.0473 16.5304 20.5273 15.6584 20.8793C14.7864 21.2313 13.8704 21.4553 12.9104 21.5513ZM16.7504 5.95127C16.1904 5.53527 15.5904 5.19127 14.9504 4.91927C14.3104 4.64727 13.6464 4.46327 12.9584 4.36727V2.44727C13.9024 2.54327 14.8104 2.77127 15.6824 3.13127C16.5544 3.49127 17.3584 3.96727 18.0944 4.55927L16.7504 5.95127ZM19.4384 18.0473L18.0944 16.7033C18.5104 16.1593 18.8464 15.5713 19.1024 14.9393C19.3584 14.3073 19.5344 13.6473 19.6304 12.9593H21.5984C21.4704 13.9033 21.2304 14.8073 20.8784 15.6713C20.5264 16.5353 20.0464 17.3273 19.4384 18.0473ZM19.6304 11.0393C19.5344 10.3513 19.3584 9.69127 19.1024 9.05927C18.8464 8.42727 18.5104 7.83927 18.0944 7.29527L19.4384 5.95127C20.0464 6.67127 20.5344 7.46326 20.9024 8.32727C21.2704 9.19127 21.5024 10.0953 21.5984 11.0393H19.6304ZM11.0624 16.7993V10.8713L8.56644 13.3673L7.22244 11.9993L12.0224 7.19927L16.8224 11.9993L15.4544 13.3433L12.9824 10.8713V16.7993H11.0624Z",fill:s})})]}),Vye=({isOpen:e,onClose:n,rrwebEvents:s,testCasesData:r,isLoadingTestCases:i=!1,onSubmitScript:a,jobId:o})=>{const l=d.useRef(null),[c,u]=d.useState(null),[p,f]=d.useState(!1),[m,h]=d.useState({message:"Ready to load rrweb recording",type:"success"}),[x,g]=d.useState(""),[v,b]=d.useState(!1),[y,w]=d.useState(""),[_,N]=d.useState(""),[j,C]=d.useState(!1),[S,F]=d.useState([]),[E,I]=d.useState(null),T=async P=>{C(!0);try{if(!o)throw new Error("No job ID provided");const B=await vt.extractRRWebData(o,P);w(B.console_logs),N(B.network_logs),I({prefix:B.hitl_message_prefix,suffix:B.hit_message_suffix}),await A(B)}catch(B){w(`Error extracting console logs: ${B.message}`),N(`Error extracting network logs: ${B.message}`)}finally{C(!1)}},A=async P=>{if(o)try{const B=[],G=new Blob([P.playwright_script],{type:"text/javascript"}),$=new File([G],"generated-playwright-test.js",{type:"text/javascript"});B.push({file:$,description:"Generated Playwright test script from user interaction recording"});const te=new Blob([P.console_logs],{type:"text/plain"}),U=new File([te],"console-logs.txt",{type:"text/plain"});B.push({file:U,description:"Console logs captured during user interaction recording (last 50 entries, TIMESTAMP:MESSAGE format)"});const oe=new Blob([P.network_logs],{type:"text/plain"}),Y=new File([oe],"network-logs.txt",{type:"text/plain"});B.push({file:Y,description:"Network requests captured during user interaction recording (last 50 entries, excluding PostHog)"});const W=[];for(const Z of B)try{const le={file_name:Z.file.name,mime_type:Z.file.type},q=await vt.uploadArtifact(o,le);await vt.uploadFileToUrl(q.upload_url,Z.file),W.push({artifact_id:q.artifact_id,file_path:q.file_path,entity_id:o,entity_type:"job",visibility:"public",file_name:Z.file.name,description:Z.description})}catch{}if(W.length>0)try{await vt.batchFinalizeArtifactUpload({artifacts:W});const Z=W.map(le=>({artifact_id:le.artifact_id,file_name:le.file_name,description:le.description}));F(Z)}catch{}}catch{}},D=()=>{c&&typeof c.play=="function"&&(c.play(),f(!0))},O=()=>{c&&typeof c.pause=="function"&&(c.pause(),f(!1))},M=()=>{p?O():D()};d.useEffect(()=>{s&&s.length>0&&e?T(s):e||(w(""),N(""),g(""),F([]),I(null),f(!1))},[s,e]),d.useEffect(()=>{if(!e)return;(async()=>{if(window.rrweb&&window.rrwebPlayer){b(!0),h({message:"Scripts loaded, ready to initialize player",type:"success"});return}try{if(h({message:"Loading rrweb player scripts...",type:"loading"}),window.rrweb||await new Promise((B,G)=>{const $=document.createElement("script");$.src="https://cdnjs.cloudflare.com/ajax/libs/rrweb/2.0.0-alpha.11/rrweb.min.js",$.onload=()=>{B(void 0)},$.onerror=te=>{G(te)},document.head.appendChild($)}),!window.rrwebPlayer){const B=document.createElement("link");B.rel="stylesheet",B.href="https://cdn.jsdelivr.net/npm/rrweb-player@latest/dist/style.css",B.onload=()=>{},B.onerror=G=>{},document.head.appendChild(B),await new Promise((G,$)=>{const te=document.createElement("script");te.src="https://cdn.jsdelivr.net/npm/rrweb-player@latest/dist/index.js",te.onload=()=>{G(void 0)},te.onerror=U=>{$(U)},document.head.appendChild(te)})}b(!0),h({message:"Scripts loaded, ready to initialize player",type:"success"})}catch(B){h({message:"Error loading rrweb player: "+B.message,type:"error"})}})()},[e]),d.useEffect(()=>{if(!e&&c){try{typeof c.destroy=="function"?c.destroy():typeof c.$destroy=="function"&&c.$destroy()}catch{}u(null),f(!1),b(!1),h({message:"Ready to load rrweb recording",type:"success"}),l.current&&(l.current.innerHTML="")}},[e,c]),d.useEffect(()=>{if(!e||!s||s.length===0||!v||!l.current||c)return;const P=setTimeout(()=>{if(!(!l.current||c))try{l.current&&(l.current.innerHTML="");const B=new window.rrwebPlayer({target:l.current,props:{events:s,width:800,height:600,autoPlay:!1,showController:!1,tags:{},loop:!0}});B&&B.addEventListener&&(B.addEventListener("start",()=>f(!0)),B.addEventListener("pause",()=>f(!1)),B.addEventListener("finish",()=>f(!1))),u(B),h({message:`Recording loaded successfully! ${s.length} events found.`,type:"success"})}catch(B){h({message:"Auto-initialization failed: "+B.message,type:"error"})}},200);return()=>clearTimeout(P)},[e,s,c,v]),d.useEffect(()=>{if(v&&e&&s&&s.length>0&&!c&&l.current){const P=setTimeout(()=>{try{l.current&&(l.current.innerHTML="");const B=new window.rrwebPlayer({target:l.current,props:{events:s,width:800,height:600,autoPlay:!1,loop:!0,showController:!1,tags:{}}});B&&B.addEventListener&&(B.addEventListener("start",()=>f(!0)),B.addEventListener("pause",()=>f(!1)),B.addEventListener("finish",()=>f(!1))),u(B),h({message:`Recording loaded successfully! ${s.length} events found.`,type:"success"})}catch(B){h({message:"Initialization failed: "+B.message,type:"error"})}},100);return()=>clearTimeout(P)}},[v,e,s,c]),d.useEffect(()=>()=>{if(c)try{typeof c.destroy=="function"?c.destroy():typeof c.$destroy=="function"&&c.$destroy()}catch{}},[c]);const L=()=>{if(!r||typeof r!="string"||!a)return;if(!E)throw new Error("[MODAL_API] No message template available! API extraction may have failed or template was not set.");if(!E.prefix)throw new Error("[MODAL_API] Message template prefix is missing!");if(!E.suffix)throw new Error("[MODAL_API] Message template suffix is missing!");const P=x.trim(),B=P?` ${P} `:" ",$=`${E.prefix}${B}${E.suffix}`.replace(/\?testmode=1/g,"");a($,S)};return t.jsx(as,{open:e,onOpenChange:n,children:t.jsxs(Er,{className:"max-w-[1432px] w-[1432px] h-[736px] bg-[#18181a] border-[#242424] rounded-[20px] text-white flex flex-col p-0",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-6 border-b border-[#242424] bg-[#18181a]",children:[t.jsxs("div",{className:"flex flex-col gap-1.5",children:[t.jsx("h2",{className:"text-[20px] leading-6 font-medium text-white tracking-[-0.2px]",children:"Review Test session"}),t.jsx("p",{className:"text-[14px] leading-5 font-medium text-[#737780]",children:"Review the generated summary and make any edits before we relay the session."})]}),t.jsx("button",{onClick:n,className:"backdrop-blur-[25px] bg-white/[0.02] w-10 h-10 flex items-center justify-center rounded-[10px] p-2 hover:bg-white/[0.04] transition-colors",children:t.jsx(Ft,{className:"w-6 h-6 text-white"})})]}),t.jsxs("div",{className:"flex-1 flex gap-0 overflow-hidden",children:[t.jsxs("div",{className:"w-[716px] bg-[#09090a] border-r border-[#242424] overflow-hidden relative shrink-0 flex items-center justify-center",children:[t.jsx("div",{ref:l,className:"w-full h-full flex items-center justify-center"}),c&&t.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center gap-2 bg-black/70 backdrop-blur-sm rounded-lg px-4 py-2",children:[t.jsx("button",{onClick:M,className:"flex items-center justify-center w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 transition-colors text-white",children:p?t.jsx(Uw,{className:"w-5 h-5"}):t.jsx(Hw,{className:"w-5 h-5 ml-0.5"})}),t.jsx("span",{className:"text-white text-sm",children:p?"Playing":"Paused"})]}),m.type==="loading"&&t.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:t.jsxs("div",{className:"flex items-center gap-2 text-white",children:[t.jsx(tn,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:m.message})]})})]}),t.jsx("div",{className:"w-[716px] flex flex-col overflow-hidden border-l border-[#242424] bg-[#18181a]",children:t.jsxs(f$,{defaultValue:"instructions",className:"h-full flex flex-col",children:[t.jsxs(wC,{className:"flex gap-8 items-center px-4 border-b border-[#242424] bg-transparent rounded-none h-auto py-0 w-full justify-start",children:[t.jsx(eu,{value:"instructions",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Custom instructions"}),t.jsx(eu,{value:"script",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Generated Test script"}),t.jsx(eu,{value:"console",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Console logs"}),t.jsx(eu,{value:"network",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Network logs"})]}),t.jsx(tu,{value:"instructions",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:t.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:t.jsx(dd,{placeholder:"Add custom instructions for the Agent to follow...",value:x,onChange:P=>g(P.target.value),className:"flex-1 bg-transparent border-none text-white placeholder:text-white/50 placeholder:text-[15px] placeholder:font-medium resize-none focus-visible:ring-0 p-0",rows:10})})}),t.jsx(tu,{value:"script",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:t.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:i?t.jsxs("div",{className:"flex items-center gap-2 justify-center h-full text-gray-400",children:[t.jsx(tn,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Loading test script..."})]}):r?t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx("pre",{className:"text-sm text-green-400 font-mono whitespace-pre-wrap",children:typeof r=="string"?r:JSON.stringify(r,null,2)})}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{children:"No test script generated yet."})]})})})}),t.jsx(tu,{value:"console",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:t.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:j?t.jsxs("div",{className:"flex items-center gap-2 justify-center h-full text-gray-400",children:[t.jsx(tn,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Extracting console logs..."})]}):t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx("pre",{className:"text-sm text-gray-300 font-mono whitespace-pre-wrap",children:y||"No console logs captured during recording session."})})})}),t.jsx(tu,{value:"network",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:t.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:j?t.jsxs("div",{className:"flex items-center gap-2 justify-center h-full text-gray-400",children:[t.jsx(tn,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Extracting network logs..."})]}):t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx("pre",{className:"text-sm text-gray-300 font-mono whitespace-pre-wrap",children:_||"No network requests captured during recording session."})})})})]})})]}),t.jsxs("div",{className:"flex items-center justify-end gap-4 px-6 py-6 border-t border-[#242424] bg-[#18181a]",children:[t.jsx(zt,{onClick:n,variant:"outline",className:"bg-white/[0.06] border-none text-white/60 hover:bg-white/[0.08] hover:text-white h-12 px-5 rounded-[28px] text-base font-semibold tracking-[-0.2px]",children:"Cancel"}),t.jsx(zt,{onClick:L,disabled:!r||typeof r!="string"||!a,className:"bg-white text-[#0e0e0f] hover:bg-white/90 h-12 px-5 rounded-[28px] text-base font-semibold tracking-[-0.2px] flex items-center gap-2 leading-6",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{children:"Share with Agent"}),t.jsx(Hye,{style:{width:"24px",height:"24px"}})]})})]})]})})};var V6={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var kI;function $ye(){return kI||(kI=1,(function(e){(function(){var n={}.hasOwnProperty;function s(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return s.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)n.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}e.exports?(s.default=s,e.exports=s):window.classNames=s})()})(V6)),V6.exports}var zye=$ye();const Ad=ga(zye);function I$({jobId:e,initialFetch:n=!0}={}){const{toast:s}=ns(),{getCurrentOrganizationId:r}=hs(),i=r(),{data:a,isLoading:o,error:l,refetch:c}=Fre({jobId:e,organization_id:i||void 0},{skip:!e||!n}),[u,{isLoading:p,error:f}]=Ere(),m=o||p,h=l?"error"in l?l.error:"Failed to fetch budget information":f?"error"in f?f.error:"Failed to update budget":null,x=d.useCallback(async()=>{if(e)try{const v=await c();return v.data?v.data:void 0}catch{return}},[e,c]),g=d.useCallback(async(v,b=!0)=>{if(e)try{const y=await u({jobId:e,amount:v,organization_id:i||void 0}).unwrap();return b&&s({title:"Budget Updated",description:`Successfully increased budget to ${y.max_budget.toFixed(3)} Credits`}),y}catch(y){const w=y?.error||y?.data?.error||y?.message||"Failed to update budget";b&&s({title:"Error",description:w,variant:"destructive"});return}},[e,u,s,i]);return d.useEffect(()=>{e&&n&&c()},[i,e,n,c]),{budgetInfo:a||null,isLoading:m,error:h,fetchBudgetInfo:x,updateBudget:g}}function Wye({show:e,onClose:n,selectedPrivacy:s,onPrivacyChange:r,position:i}){const a=d.useRef(null),{tier:o}=xs(),l=Hr();return d.useEffect(()=>{const c=p=>{if(!a.current)return;const f=p.target;e&&!a.current.contains(f)&&n()},u=()=>{e&&n()};return e&&(document.addEventListener("mousedown",c),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u)),()=>{document.removeEventListener("mousedown",c),window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[e,n]),t.jsx(as,{open:e,onOpenChange:c=>{c||n()},children:t.jsx(Cr,{children:t.jsxs("div",{ref:a,className:"fixed z-[9999] bg-[#18181A] border border-[#242424] rounded-[12px] shadow-lg overflow-hidden",style:{top:`${i.top}px`,left:`${i.left}px`},children:[t.jsxs("div",{"data-testid":Nr.privacyDropdown.publicOption,className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:s,source:"chat_info_panel_dropdown",userTier:o}),r("public"),n()},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:s==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",s==="public"&&"text-white"),children:["Public ",t.jsx(xl,{size:14,className:k(s!=="public"&&"opacity-60")})]}),t.jsx("div",{className:k("text-xs text-white/50",s==="public"&&"text-white"),children:"Anyone can view and explore"})]})]}),t.jsxs("div",{"data-testid":Nr.privacyDropdown.privateOption,className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:s,source:"chat_info_panel_dropdown",userTier:o,wasBlocked:o==="free"}),o==="free"?l.open({triggerLocation:"default"}):r("private"),n()},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:s==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",s==="private"&&"text-white"),children:["Private ",t.jsx(za,{size:14,opacity:s==="private"?1:.3})]}),t.jsx("div",{className:k("text-xs text-white/50",s==="private"&&"text-white"),children:"Only visible to yourself, unless shared"})]})})]})]})})})}function Gye({show:e,onClose:n,selectedPrivacy:s,onPrivacyChange:r}){const{tier:i}=xs(),a=Hr();return t.jsx(as,{open:e,onOpenChange:o=>{o||n()},children:t.jsx(Cr,{children:t.jsxs(Fa,{open:e,onOpenChange:n,title:"Privacy Settings",showDefaultFooter:!1,maxWidth:"max-w-full",contentPadding:"p-0",showCancel:!0,onCancel:n,trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:s,source:"chat_info_panel_mobile_sheet",userTier:i}),r("public"),n()},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:s==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",s==="public"&&"text-white"),children:["Public ",t.jsx(xl,{size:14,className:k(s!=="public"&&"opacity-60")})]}),t.jsx("div",{className:k("text-xs text-white/50",s==="public"&&"text-white"),children:"Anyone can view and explore"})]})]}),t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ss("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:s,source:"chat_info_panel_mobile_sheet",userTier:i,wasBlocked:i==="free"}),i==="free"?a.open({triggerLocation:"default"}):r("private"),n()},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:s==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:k("flex items-center gap-1 text-sm font-medium text-white/60",s==="private"&&"text-white"),children:["Private ",t.jsx(za,{size:14,opacity:s==="private"?1:.3})]}),t.jsx("div",{className:k("text-xs text-white/50",s==="private"&&"text-white"),children:"Only visible to yourself, unless shared"})]})})]})]})]})})})}const Dd=({title:e,value:n,copyable:s=!1,maxChars:r,onClick:i,className:a,icon:o,"data-testid":l})=>{const c=r&&n&&n.length>r?`${n.slice(0,r)}...`:n;return t.jsxs("div",{className:"space-y-2","data-testid":l,children:[t.jsx("div",{className:"text-[#7B7B80] font-medium font-['Inter'] text-sm",children:e}),t.jsxs("div",{className:k("flex items-center justify-between gap-2",a),onClick:i,children:[t.jsx("div",{className:"text-[#C4C4CC] font-['Inter'] text-base group-hover:text-[#2EBBE5] transition-colors duration-200",children:c||""}),s&&n&&t.jsx(rc,{tooltipEnabled:!0,showTooltipOnHover:!0,tooltipText:"Copy",copiedTooltipText:"Copied",showIcon:!0,iconOnly:!0,className:"border-none bg-none",buttonClassName:yu({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:()=>n,iconProps:{size:16},onCopy:async()=>{await navigator.clipboard.writeText(n)}}),o&&!s&&t.jsx("div",{className:"flex items-center justify-center min-w-[40px] min-h-[36px] cursor-pointer rounded-md hover:bg-white/10 transition-colors duration-200",onClick:i,children:t.jsx("img",{src:o,alt:"icon",className:"w-4 h-4"})})]})]})},zm=({title:e})=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex items-center w-full gap-2",children:[t.jsx("div",{className:"h-[1px] flex-1 bg-[#FFFFFF12]"}),t.jsx("span",{className:"text-[#FFFFFF4D] text-[14px] font-jetbrains uppercase tracking-[1px]",children:e}),t.jsx("div",{className:"h-[1px] max-w-[30px] flex-1 bg-[#FFFFFF12]"})]})}),qye=K.upload.moreIcon,Kye=K.upload.delete,Yye=K.files.pdf,II=K.files.csv,Zye=K.files.doc,Jye=K.files.ppt,Xye=K.files.txt,Qye=K.files.video,T$=K.files.zip,eve=K.files.other,tve=K.files.svg,TI=K.upload.downloadWhite,nve=K.upload.deleteActive,AI=(e,n)=>{const s=n?.toLowerCase()||"";return s.endsWith(".pdf")||e==="application/pdf"?Yye:s.endsWith(".csv")||e==="text/csv"?II:s.endsWith(".zip")||s.endsWith(".tar")||s.endsWith(".rar")||s.endsWith(".7z")||e?.includes("zip")||e?.includes("tar")||e?.includes("rar")||e?.includes("7z")?T$:s.endsWith(".doc")||s.endsWith(".docx")||e==="application/msword"||e==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?Zye:s.endsWith(".ppt")||s.endsWith(".pptx")||e==="application/vnd.ms-powerpoint"||e==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?Jye:s.endsWith(".txt")||s.endsWith(".md")||s.endsWith(".log")||e==="text/plain"||e==="text/markdown"?Xye:s.endsWith(".mp4")||s.endsWith(".avi")||s.endsWith(".mov")||s.endsWith(".wmv")||s.endsWith(".mkv")||e?.startsWith("video/")?Qye:s.endsWith(".svg")||e==="image/svg+xml"?tve:s.endsWith(".xls")||s.endsWith(".xlsx")||e==="application/vnd.ms-excel"||e==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?II:eve},sve=(e,n)=>e.startsWith("image/")?W7:e.startsWith("video/")?q7:e.startsWith("text/")||n.endsWith(".txt")?vo:e.includes("zip")||e.includes("tar")||e.includes("rar")?H7:n.endsWith(".pdf")||n.endsWith(".csv")||n.endsWith(".xlsx")?vo:Nh,rve=e=>e.startsWith("image"),ive=(e,n=15)=>{const s=e.lastIndexOf(".");if(s===-1)return e.length>n?e.substring(0,n)+"...":e;const r=e.substring(0,s),i=e.substring(s);return r.length<=n?e:r.substring(0,n)+"..."+i};function DI({title:e,size:n,id:s,type:r,url:i,visibility:a="public",onRemove:o,onDownload:l}){const[c,u]=d.useState(!1),[p,f]=d.useState(!1),[m,h]=d.useState({top:0,right:0}),x=d.useRef(null),g=d.useRef(null),v=AI(r,e)===T$;d.useEffect(()=>{const F=E=>{x.current&&!x.current.contains(E.target)&&u(!1)};return c&&document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[c]);const b=F=>{if(F.stopPropagation(),!c&&g.current){const E=g.current.getBoundingClientRect();h({top:E.bottom+4,right:window.innerWidth-E.right})}u(!c)},y=F=>{F.stopPropagation(),o?.(s),u(!1)},w=F=>{F.stopPropagation(),!(a==="private"&&!i)&&(l?.(s),u(!1))},_=F=>{x.current&&x.current.contains(F.target)||a==="private"&&!i||(C?f(!0):l?.(s))},N=AI(r,e),j=sve(r,e),C=rve(r)&&i,S=a==="private"&&!i;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`flex items-center justify-between gap-4 group rounded-[12px] p-2 ${S?"opacity-60":"hover:bg-[#FFFFFF0A] cursor-pointer"}`,onClick:_,children:[t.jsxs("div",{className:`min-w-[40px] min-h-[40px] max-h-[40px] max-w-[40px] backdrop-blur-sm rounded-[8px] flex items-center justify-center overflow-hidden ${C?"hover:bg-[#FFFFFF15] transition-colors":""}`,children:[C&&!S?t.jsx("img",{src:i,alt:e,className:"w-full h-full object-cover rounded-[6px]",onError:F=>{const E=F.target;E.style.display="none",E.nextElementSibling?.classList.remove("hidden")}}):null,N?t.jsx("img",{src:N,alt:"File",className:`w-10 h-10 ${C?"hidden":""} ${v&&"p-1"}`}):t.jsx(j,{className:`w-5 h-5 text-[#FFFFFF60] ${C?"hidden":""}`})]}),t.jsxs("div",{className:"flex flex-col flex-1",children:[t.jsx("span",{className:"text-[#FFFFFF] font-['Inter'] font-medium max-w-[60%] text-[16px] opacity-60 transition-all duration-100 ease-in-out",children:ive(e)}),t.jsx("div",{className:"flex flex-col",children:t.jsx("span",{className:"text-[#FFFFFF40] font-['Inter'] font-medium text-[12px] ",children:n})})]}),t.jsx("div",{className:"relative",children:t.jsx("div",{ref:g,className:`hover:bg-[#FFFFFF0F] backdrop-blur-lg rounded-[8px] cursor-pointer p-1 transition-opacity duration-200 ${c?"opacity-100":"opacity-0 group-hover:opacity-60 hover:!opacity-100"}`,onClick:b,children:t.jsx("img",{src:qye,alt:"More",className:"w-6 h-6"})})})]}),t.jsx(as,{open:c,onOpenChange:u,children:t.jsx(Cr,{children:t.jsxs("div",{ref:x,className:"fixed z-[9999] p-[6px] bg-[#18181A] backdrop-blur-sm rounded-[12px] border border-[#242424] shadow-lg min-w-[140px]",style:{top:m.top,right:m.right},children:[t.jsxs("button",{type:"button",onClick:y,className:"flex items-center gap-2 rounded-[8px] w-full p-2 text-left text-[#808080] hover:text-[#CCCCCC] hover:bg-[#ED5B5B0F] transition-colors duration-150 group/remove",children:[t.jsx("img",{src:Kye,alt:"Remove",className:"w-5 h-5 group-hover/remove:hidden"}),t.jsx("img",{src:nve,alt:"Remove",className:"hidden w-5 h-5 group-hover/remove:block"}),t.jsx("span",{className:" font-medium text-[14px] group-hover/remove:text-[#ED5B5B]",children:"Remove"})]}),t.jsxs("button",{type:"button",onClick:w,className:"flex items-center gap-2 w-full p-2 rounded-[8px] py-2 text-left text-[#808080] hover:text-[#CCCCCC] hover:bg-[#FFFFFF0A] transition-colors duration-150 group/download",children:[t.jsx("img",{src:TI,alt:"Download",className:"w-5 h-5 group-hover/download:hidden opacity-40"}),t.jsx("img",{src:TI,alt:"Download",className:"hidden w-5 h-5 group-hover/download:block"}),t.jsx("span",{className:" font-medium text-[14px]",children:"Download"})]})]})})}),C&&t.jsx(d$,{imageUrl:i,imageName:e,isOpen:p,onClose:()=>f(!1)})]})}const ave=K.upload.arrowNext,ove=K.upload.noAssets,lve=K.upload.uploadNormal,MI=e=>{const n=typeof e=="string"?parseInt(e):e;if(isNaN(n))return"Unknown size";const s=["B","KB","MB","GB"];let r=0,i=n;for(;i>=1024&&r<s.length-1;)i/=1024,r++;return`${i.toFixed(1)} ${s[r]}`},RI=({view:e,jobId:n,loading:s,artifacts:r,onUploadClick:i,onDelete:a,onDownload:o,onViewAllClick:l})=>e==="assets"?t.jsx("div",{className:"flex-1 p-6 pt-4 overflow-x-hidden overflow-y-auto",children:n?s?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center text-[#666]",children:[t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-[#5FD3F3] border-t-transparent rounded-full mx-auto mb-4"}),t.jsx("p",{children:"Loading assets..."})]})}):r.length===0?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center text-[#666]",children:[t.jsx(Nh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No assets uploaded"}),t.jsx("p",{className:"mt-1 text-sm",children:"Upload files using the upload button in the chat input"})]})}):t.jsx("div",{className:"flex flex-col gap-2",children:r.map(c=>t.jsx(DI,{title:c.name,size:MI(c.file_size||0),type:c.mime_type||"",url:c.public_url||"",visibility:c.visibility,id:c.id,onRemove:u=>a(u,c.name),onDownload:()=>o(c)},c.id))}):t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center text-[#666]",children:[t.jsx(Nh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No job selected"}),t.jsx("p",{className:"mt-1 text-sm",children:"Assets will appear here when you have an active job"})]})})}):t.jsx("div",{className:"",children:s?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsxs("div",{className:"text-center text-[#666]",children:[t.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-[#5FD3F3] border-t-transparent rounded-full mx-auto mb-2"}),t.jsx("p",{className:"text-sm",children:"Loading assets..."})]})}):r.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsxs("div",{className:"text-center text-[#666] max-w-[450px]",children:[t.jsx("img",{src:ove,alt:"No Assets",className:"h-12 mx-auto mb-4"}),t.jsx("p",{className:"text-[14px] font-['Inter'] font-medium text-[#FFFFFF20]",children:"Upload assets or sync files to be used as sources"})]}),t.jsx("button",{type:"button",onClick:()=>{H(nw.UPLOAD_ASSETS_CLICKED,{jobId:n}),i()},className:"w-full max-w-[180px] mt-5 radial-green text-[#80FFF9] flex justify-center items-center gap-2 p-3 py-2 rounded-[10px] ",children:"Upload Assets"})]}):t.jsxs(t.Fragment,{children:[r.slice(0,3).map(c=>t.jsx(DI,{title:c.name,size:MI(c.file_size||0),type:c.mime_type||"",url:c.public_url||"",visibility:c.visibility,id:c.id,onRemove:u=>a(u,c.name),onDownload:()=>o(c)},c.id)),t.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[t.jsxs("button",{type:"button",onClick:i,className:"w-full radial-green text-[#80FFF9] flex justify-center items-center gap-2 p-3 py-2 rounded-[10px] ",children:[t.jsx("img",{src:lve,alt:"Add",className:"w-5 h-5"}),"Upload Files"]}),r.length>3&&t.jsxs("button",{type:"button",onClick:l,className:"w-full radial-black-upload p-3 py-2  hover:opacity-80 text-[#FFFFFF66] flex justify-center items-center gap-2 rounded-[10px] ",children:["View all (",r.length,")",t.jsx("img",{src:ave,alt:"Arrow",className:"w-5 h-5"})]})]})]})}),cve=({size:e,width:n=20,height:s=20,color:r="#F3CA5F",fill:i,className:a="",style:o,onClick:l,...c})=>{const u=e||n,p=e||s,f=i||r;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:u,height:p,viewBox:"0 0 20 20",fill:"none",className:a,style:o,onClick:l,...c,children:[t.jsxs("g",{style:{mixBlendMode:"luminosity"},clipPath:"url(#clip0_12024_101153)",children:[t.jsx("circle",{opacity:"0.1",cx:"10",cy:"10",r:"10",fill:f}),t.jsx("path",{d:"M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10.4082 6.58984C10.1446 5.93661 9.92302 5.71814 9.60645 6.49805C8.91401 8.15984 8.0872 8.95183 6.45996 9.6377C6.29657 9.71319 6.00191 9.84453 6 10C6.00211 10.1554 6.29471 10.2868 6.45996 10.3623C8.08527 11.0462 8.91405 11.8399 9.60645 13.502C9.9268 14.2958 10.1491 14.0465 10.4082 13.4102C11.1026 11.8036 11.8788 11.0584 13.5166 10.3623C13.6883 10.2804 13.9713 10.1709 14 10.0078V9.98926C13.9709 9.8277 13.6901 9.71755 13.5166 9.63574V9.6377C11.8789 8.9416 11.1026 8.19694 10.4082 6.58984Z",fill:f}),t.jsx("path",{d:"M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10.4082 6.58984C10.1446 5.93661 9.92302 5.71814 9.60645 6.49805C8.91401 8.15984 8.0872 8.95183 6.45996 9.6377C6.29657 9.71319 6.00191 9.84453 6 10C6.00211 10.1554 6.29471 10.2868 6.45996 10.3623C8.08527 11.0462 8.91405 11.8399 9.60645 13.502C9.9268 14.2958 10.1491 14.0465 10.4082 13.4102C11.1026 11.8036 11.8788 11.0584 13.5166 10.3623C13.6883 10.2804 13.9713 10.1709 14 10.0078V9.98926C13.9709 9.8277 13.6901 9.71755 13.5166 9.63574V9.6377C11.8789 8.9416 11.1026 8.19694 10.4082 6.58984Z",fill:"url(#paint0_linear_12024_101153)",style:{mixBlendMode:"overlay"}})]}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_12024_101153",x1:"10",y1:"2",x2:"10",y2:"18",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1"})]}),t.jsx("clipPath",{id:"clip0_12024_101153",children:t.jsx("rect",{width:"20",height:"20",fill:"white"})})]})]})},dve=({size:e,width:n=20,height:s=20,color:r="#F3CA5F",fill:i,className:a="",style:o,onClick:l,...c})=>{const u=e||n,p=e||s;return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:u,height:p,viewBox:"0 0 20 20",fill:"none",className:a,style:o,onClick:l,...c,children:t.jsx("path",{d:"M8.61905 10.4762C6.31429 10.4762 4.14286 9.90476 2.90476 9V6.32381C4.30476 7.11429 6.34286 7.61905 8.61905 7.61905C10.8952 7.61905 12.9333 7.11429 14.3333 6.32381V8.64762C14.6476 8.6 14.9619 8.57143 15.2857 8.57143C15.6095 8.57143 15.9238 8.6 16.2381 8.64762V3.80952C16.2381 1.70476 12.8286 0 8.61905 0C4.40952 0 1 1.70476 1 3.80952V13.3333C1 15.4381 4.41905 17.1429 8.61905 17.1429H8.89524C8.7165 16.5236 8.62357 15.8827 8.61905 15.2381C4.93333 15.2381 2.90476 13.8095 2.90476 13.3333V11.2095C4.4381 11.9524 6.44762 12.381 8.61905 12.381C8.84762 12.381 9.06667 12.381 9.28572 12.3524C9.66667 11.5619 10.1905 10.8667 10.8286 10.2952C10.1238 10.4095 9.38095 10.4762 8.61905 10.4762ZM8.61905 1.90476C12.3048 1.90476 14.3333 3.33333 14.3333 3.80952C14.3333 4.28571 12.3048 5.71429 8.61905 5.71429C4.93333 5.71429 2.90476 4.28571 2.90476 3.80952C2.90476 3.33333 4.93333 1.90476 8.61905 1.90476ZM18.8095 15.8095V14.8571L19.8571 14.0952C19.9524 14 20.0476 13.9048 19.9524 13.8095L19 12.1905C19 12.0952 18.8095 12.0952 18.7143 12.0952L17.5714 12.5714C17.2857 12.381 17 12.1905 16.7143 12.0952L16.5238 10.8571C16.5238 10.7619 16.4286 10.6667 16.3333 10.6667H14.4286C14.2381 10.6667 14.1429 10.7619 14.1429 10.8571L13.9524 12.0952C13.6667 12.2857 13.4762 12.381 13.1905 12.5714L12.0476 12.0952C11.9524 12.0952 11.8571 12.0952 11.7619 12.1905L10.8095 13.8095C10.8095 13.9048 10.8095 14 10.9048 14.0952L11.9524 14.8571V15.8095L10.9048 16.5714C10.8095 16.6667 10.7143 16.7619 10.8095 16.8571L11.7619 18.4762C11.8571 18.5714 11.9524 18.5714 12.0476 18.5714L13.1905 18.0952C13.381 18.2857 13.6667 18.4762 13.9524 18.5714L14.1429 19.8095C14.2381 19.9048 14.3333 20 14.4286 20H16.3333C16.4286 20 16.5238 19.9048 16.5238 19.8095L16.7143 18.5714C17 18.381 17.1905 18.2857 17.4762 18.0952L18.619 18.4762C18.7143 18.4762 18.8095 18.4762 18.9048 18.381L19.8571 16.7619C19.9524 16.6667 19.9524 16.5714 19.8571 16.5714L18.8095 15.8095ZM15.2857 16.6667C14.5238 16.6667 13.8571 16 13.8571 15.2381C13.8571 14.4762 14.5238 13.8095 15.2857 13.8095C16.0476 13.8095 16.7143 14.4762 16.7143 15.2381C16.7143 16 16.0476 16.6667 15.2857 16.6667Z",fill:"#B1B1B3"})})},uve=({currentUsage:e,machineType:n})=>t.jsxs("div",{className:"flex flex-col justify-between w-full md:flex-row",children:[t.jsxs("div",{"data-testid":gs.info.creditsSpent,className:"w-full md:w-1/2 flex flex-col justify-between items-start bg-white/5 p-5 rounded-[12px]",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("p",{className:"text-[#B1B1B3] font-medium font-['Inter']",children:"Credits Spent"}),t.jsx(cve,{width:24,height:24})]}),t.jsx("p",{className:"mt-10 md:mt-12 text-[#F2C75B] text-[24px] font-semibold font-['Inter'] leading-[24px]",children:e?.toFixed(4)})]}),t.jsxs("div",{"data-testid":gs.info.machineType,className:"mt-4 md:mt-0 w-full md:w-1/2 md:ml-4 flex flex-col justify-between items-start bg-white/5 p-5 rounded-[12px]",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("p",{className:"text-[#B1B1B3] font-medium font-['Inter']",children:"Machine type"}),t.jsx(dve,{width:24,height:24})]}),t.jsx("p",{className:"mt-10 md:mt-12 text-[#FFF] text-[24px] font-semibold font-['Inter'] leading-[24px]",children:n&&n.charAt(0).toUpperCase()+n.slice(1)||"Regular"})]})]}),$6=K.common.link,LI=K.common.copyable,pve=K.common.greenBranch,PI=K.menuIcons.github,fve=K.icons.branch2,mve=K.upload.arrowNext,hve=K.upload.uploadNormal;function xve({isOpen:e,onClose:n,chatInfo:s,onOpenUploadAssetsModal:r,isShowcase:i=!1}){const{isMobile:a}=ts(),o=Mi(),l=cc(),{deployStatus:c,deployUrl:u,customDomainUrl:p,customDomain:f}=_C({jobId:s.jobId,tabId:"",silent:!0,enabled:!i}),[m,h]=d.useState("info"),[x,g]=d.useState([]),[v,b]=d.useState(!1),{toast:y}=ns(),w=d.useRef(null),{budgetInfo:_}=I$({jobId:s.jobId}),{tier:N}=xs(),j=n0(),{isCurrentWorkspaceAdmin:C,isOrganizationWorkspace:S,restrictedFree:F}=gi(),E=!S()||C,[I,T]=d.useState(!1),[A,D]=d.useState({top:0,left:0}),[O,M]=d.useState(N==="free"?"public":"private"),[L,P]=d.useState(!1),B=d.useRef(null),{data:G}=iO(s.user_prompt_id||"",{skip:!s.user_prompt_id}),$=d.useCallback(async()=>{if(s.jobId){b(!0);try{const he=await vt.getArtifacts(s.jobId);g(he.reverse())}catch{y({title:"Error",description:"Failed to load artifacts",variant:"destructive"})}finally{b(!1)}}},[s.jobId,y]);d.useEffect(()=>{e&&s.jobId&&$()},[e,s.jobId,$]);const te=d.useCallback(async(he,me)=>{try{await vt.deleteArtifact(he),g(ce=>ce.filter(ee=>ee.id!==he)),y({title:"Deleted",description:`${me} has been deleted`})}catch{y({title:"Error",description:`Failed to delete ${me}`,variant:"destructive"})}},[y]),U=d.useCallback(async he=>{try{const me=await vt.getArtifactDownloadUrl(he.id);await h0(me.download_url,he.name||"download")}catch{y({title:"Download failed",description:"Failed to get download link for this artifact",variant:"destructive"})}},[y]),oe=d.useCallback(he=>{const me=he.target.files;if(me&&me.length>0){const ce=Array.from(me);a&&n(),r(ce)}w.current&&(w.current.value="")},[r,a,n]),Y=d.useCallback(()=>{w.current&&w.current.click()},[]),W=()=>{if(!B.current)return;const he=B.current.getBoundingClientRect(),me=124,ce=276,ee=8;let J=he.bottom+ee,re=he.left;re+ce>window.innerWidth&&(re=window.innerWidth-ce-16),J+me>window.innerHeight&&(J=he.top-me-ee),re<16&&(re=16),D({top:J,left:re})},Z=he=>{he.stopPropagation(),ss("privacy_button_clicked",{currentPrivacy:O,userTier:N,isFreeUser:N==="free",isMobile:a,source:"chat_info_panel",action:N!=="free"?"disabled_click":a?"open_mobile_sheet":"toggle_dropdown"}),N==="free"&&(a?P(!0):(I||W(),T(!I)))},le=()=>t.jsxs("div",{className:"p-4 md:p-4 bg-[#181818] md:bg-transparent flex items-center justify-between border-b border-[#242424]/60 relative z-[100]",children:[m=="info"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-[#939399] flex items-center gap-2 font-['Brockmann']  text-[15px]  md:text-[18px] font-medium leading-[24px]","data-testid":gs.info.runDetails,children:["Run Details",j&&t.jsxs("button",{ref:B,type:"button",className:k("rounded-full flex items-center gap-[6px] max-h-[32px] py-2 px-3 text-[14px] font-medium transition-colors",N==="free"&&E?"bg-[#FFFFFF1A] text-[#E6E6E6] hover:bg-[#FFFFFF2A]":"bg-[#FFFFFF1A] text-[#E6E6E6] cursor-default opacity-80"),onClick:Z,children:[O==="public"?t.jsx(xl,{size:16}):t.jsx(za,{size:16,color:"#ffffff",opacity:1}),!a&&(O==="public"?"Public":"Private")]})]}),t.jsx("button",{"data-testid":gs.info.closeButton,type:"button",title:"Close",onClick:n,className:"w-8 h-8 flex items-center justify-center bg-[#FFFFFF05] hover:bg-[#FFFFFF1A] backdrop-blur-lg rounded-[6px]",children:t.jsx(Ft,{className:"w-5 h-5 text-[#7B7B80]"})})]}),m=="assets"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"text-[#939399] font-['Brockmann'] flex items-center w-full justify-between text-[15px] gap-2  md:text-[18px] font-medium leading-[24px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{onClick:()=>{h("info")},className:"w-8 h-8 hover:bg-[#FFFFFF10]  flex items-center cursor-pointer justify-center rounded-[8px] backdrop-blur-lg",children:t.jsx("img",{src:mve,alt:"Arrow",className:"w-6 h-6 rotate-180"})}),"Assets (",x.length,")"]}),t.jsxs("button",{type:"button",onClick:Y,className:"text-[16px] pr-4 radial-green text-[#80FFF9] flex justify-center items-center gap-2 p-2 pl-3 min-h-[36px] max-h-[36px] rounded-[10px] ",children:[t.jsx("img",{src:hve,alt:"Add",className:"w-5 h-5"}),"Upload Files"]})]})})]}),q=()=>t.jsxs(t.Fragment,{children:[m=="info"&&t.jsx("div",{className:k("flex-1 md:p-6 space-y-4 md:space-y-8 h-full overflow-x-hidden overflow-y-auto  max-md:pt-4"),children:t.jsxs("div",{className:"pt-0 space-y-6",children:[t.jsx(uve,{currentUsage:_?.current_usage,machineType:s?.machineType}),t.jsxs("div",{className:"space-y-4 max-md:px-6",children:[t.jsx(Dd,{title:"Model",value:s.modelName,"data-testid":gs.info.model}),(l||s.user_prompt_id)&&t.jsx(Dd,{title:"Agent",value:s.user_prompt_id?G?.prompt_name?.replaceAll("_"," ")||s.promptName||s.user_prompt_id:s.promptName})]}),t.jsx("div",{className:"space-y-4 max-md:px-6",children:t.jsx(Dd,{title:"Job ID",value:s.jobId,copyable:!0,icon:LI,"data-testid":gs.info.jobId})}),c==="success"&&t.jsx(zm,{title:"DEPLOYMENT INFO"}),c==="success"&&t.jsxs("div",{className:"text-[#C4C4CC] font-['Inter'] text-base space-y-4 flex-col flex max-md:px-6",children:[t.jsx(Dd,{title:"Live Link",icon:$6,value:u,onClick:()=>{u&&window.open(u,"_blank")},className:"cursor-pointer group"}),p&&f?.status==="verified"&&t.jsx(Dd,{title:"Custom Domain",icon:$6,value:f.domain,onClick:()=>{p&&window.open(p,"_blank")},className:"cursor-pointer group"})]}),t.jsxs(t.Fragment,{children:[t.jsx(zm,{title:"ASSETS"}),t.jsx("div",{className:"max-md:px-6",children:t.jsx(RI,{view:"info",jobId:s.jobId,loading:v,artifacts:x,onUploadClick:Y,onDelete:te,onDownload:U,onViewAllClick:()=>h("assets")})})]}),a&&j&&t.jsxs(t.Fragment,{children:[t.jsx(zm,{title:"Privacy"}),t.jsx("button",{className:"mt-6 rounded-xl p-3 px-4 border border-[#242424] flex items-center gap-3 max-md:mx-6",onClick:Z,children:t.jsx(l3,{privacy:O})})]}),s.vscodeUrl&&!F&&t.jsx(zm,{title:"VS CODE INFO"}),!F&&t.jsx("div",{className:"space-y-4 max-md:px-6",children:t.jsxs("div",{className:"text-[#C4C4CC] font-['Inter'] text-base space-y-4 flex-col flex",children:[t.jsx(Dd,{title:"VSCode URL",icon:$6,value:`${s.vscodeUrl}`,onClick:()=>{window.open(s.vscodeUrl,"_blank")},className:"cursor-pointer group","data-testid":gs.info.vscodeUrl}),t.jsx(Dd,{title:"VSCode Password",icon:LI,value:`${s.vscodePassword}`,copyable:!0,"data-testid":gs.info.vscodePassword})]})}),(s.sourceRepo||s.targetRepo)&&t.jsx(zm,{title:"GITHUB INFO"}),s.sourceRepo&&t.jsxs("div",{className:"bg-[#FFFFFF0D] p-3 rounded-[8px] text-sm flex flex-col gap-2 font-['Inter'] font-medium cursor-pointer hover:opacity-80 transition-opacity duration-200 max-md:mx-6",onClick:()=>{H(nw.SOURCE_REPOSITORY_CLICKED,{jobId:s.jobId,repoOwner:s.sourceRepo?.owner,repoName:s.sourceRepo?.repo,branch:s.sourceRepo?.branch,provider:s.sourceRepo?.provider});const he=`https://github.com/${s.sourceRepo?.owner}/${s.sourceRepo?.repo}/tree/${s.sourceRepo?.branch}`;window.open(he,"_blank")},children:[t.jsx("span",{className:"text-[#7B7B80] font-['Inter'] text-sm font-medium",children:"Source Repository"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("img",{src:PI,alt:"Github",className:"w-5 h-5"}),t.jsxs("span",{className:"capitalize text-[#C4C4CC] text-nowrap truncate",children:[s.sourceRepo?.owner," / ",s.sourceRepo?.repo]}),t.jsxs("div",{className:"flex items-center gap-1 ml-2 text-nowrap",children:[t.jsx("img",{src:fve,alt:"Branch"}),t.jsx("span",{className:"text-[#DADEE5] text-nowrap truncate",children:s.sourceRepo?.branch})]})]})]}),s.targetRepo&&t.jsxs("div",{className:"bg-[#FFFFFF0D] p-3 rounded-[8px] text-sm flex flex-col gap-2 font-['Inter'] font-medium cursor-pointer hover:opacity-80 transition-opacity duration-200 max-md:mx-6",onClick:()=>{H(nw.MOST_RECENT_EXPORT_CLICKED,{jobId:s.jobId,repoOwner:s.targetRepo?.owner,repoName:s.targetRepo?.repo,branch:s.targetRepo?.branch,provider:s.targetRepo?.provider});const he=`https://github.com/${s.targetRepo?.owner}/${s.targetRepo?.repo}/tree/${s.targetRepo?.branch}`;window.open(he,"_blank")},children:[t.jsx("span",{className:"text-[#7B7B80] font-['Inter'] text-sm font-medium",children:"Most Recent Export"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("img",{src:PI,alt:"Github",className:"w-5 h-5"}),t.jsxs("span",{className:"capitalize text-[#C4C4CC]",children:[s.targetRepo?.owner," / ",s.targetRepo?.repo]}),t.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[t.jsx("img",{src:pve,alt:"Branch"}),t.jsx("span",{className:"text-[#2EE572]",children:s.targetRepo?.branch})]})]})]})]})}),m=="assets"&&t.jsx(RI,{view:"assets",jobId:s.jobId,loading:v,artifacts:x,onUploadClick:Y,onDelete:te,onDownload:U,onViewAllClick:()=>h("assets")})]});if(a){const he=e&&o.pathname.includes("/chat");return t.jsxs(t.Fragment,{children:[t.jsxs(Fa,{trigger:t.jsx("div",{}),open:he,onOpenChange:me=>{me||n()},maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"p-0",showCancel:!0,onCancel:()=>{n?.()},title:"Chat Info",children:[t.jsx("div",{className:"h-[1px] bg-[#212121]"}),t.jsx("div",{className:"max-h-[80dvh] flex flex-col bg-[#111112] h-full overflow-clip rounded-t-2xl",children:q()}),t.jsx("input",{"aria-hidden":"true",ref:w,type:"file",accept:"*/*",multiple:!0,onChange:oe,style:{display:"none"}})]}),t.jsx(Gye,{show:L,onClose:()=>P(!1),selectedPrivacy:O,onPrivacyChange:M})]})}const Q=e&&o.pathname.includes("/chat");return t.jsxs("div",{className:k("md:top-14 max-md:inset-0 h-[calc(100%-4rem)] w-screen md:w-full bg-[#0F0F10]  transform transition-transform duration-300 ease-in-out z-[60] pointer-events-auto max-md:absolute",Q?"block":"hidden"),children:[t.jsxs("div",{className:"flex flex-col h-full",children:[le(),q()]}),t.jsx("input",{"aria-hidden":"true",ref:w,type:"file",accept:"*/*",multiple:!0,onChange:oe,style:{display:"none"}}),t.jsx(Wye,{show:j&&I,onClose:()=>T(!1),selectedPrivacy:O,onPrivacyChange:M,position:A})]})}const gve=({isOpen:e,onOpenChange:n,vscodeUrl:s,vscodePassword:r,onOpenInBrowser:i})=>{const{isMobile:a}=ts(),o=({showHeader:c=!1}={})=>t.jsxs("div",{className:"relative space-y-4",children:[c&&!a&&t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx(Lo,{className:"text-base",children:"VS Code Link"}),t.jsx(xh,{className:"text-sm",children:"Access VS Code in your browser with the following link and password"})]}),t.jsxs("div",{className:"w-full space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-[#737780]",children:"Link"}),t.jsxs("div",{className:"flex items-center w-full gap-2",children:[t.jsx("input",{type:"text","aria-label":"Link","data-testid":er.vscode.linkInput,className:"flex-1 w-full px-3 py-2 bg-[#1A1A1B] border border-[#242424] rounded-md text-[#DDDDE6] text-sm",value:s,readOnly:!0}),t.jsx(rc,{showIcon:!0,iconOnly:!0,className:"border-none bg-none",buttonClassName:yu({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 bg-white/10 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:s,tooltipText:"Copy",copiedTooltipText:"Copied",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{H(h2.LINK_COPIED,{vscodeUrl:s})}})]})]}),r&&t.jsxs("div",{className:"w-full space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-[#737780]",children:"Password"}),t.jsxs("div",{className:"flex items-center w-full gap-2",children:[t.jsx("input",{type:"password","aria-label":"Password","data-testid":er.vscode.passwordInput,className:"flex-1 w-full px-3 py-2 bg-[#1A1A1B] border border-[#242424] rounded-md text-[#DDDDE6] text-sm",value:r,readOnly:!0}),t.jsx(rc,{showIcon:!0,iconOnly:!0,className:"border-none bg-none",buttonClassName:yu({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 bg-white/10 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:r,tooltipText:"Copy",copiedTooltipText:"Copied",iconProps:{size:16},onCopy:()=>{H(h2.PASSWORD_COPIED,{vscodePassword:r})}})]})]})]}),l=()=>t.jsxs("div",{className:"flex-row justify-between bg-[#111112] w-full sm:justify-between flex gap-4",children:[t.jsx(zt,{className:"flex-1",variant:"secondary",onClick:()=>n(!1),children:t.jsx("div",{className:"flex items-center justify-center w-full",children:"Cancel"})}),t.jsx(zt,{className:"flex-1",onClick:i,children:t.jsx("div",{className:"flex items-center justify-center w-full",children:"Open in Browser"})})]});return a?t.jsxs(Fa,{trigger:t.jsx("div",{}),title:"VS Code Info",description:"",open:e,onOpenChange:n,maxWidth:"max-w-full",showDefaultFooter:!1,footer:l(),showCancel:!0,contentPadding:"p-0",onCancel:()=>{n(!1)},children:[t.jsx("div",{className:"h-[1px] bg-[#212121]"}),t.jsx("div",{className:" p-4 bg-[#111112] flex flex-col px-3 rounded-t-2xl ",children:o({showHeader:!0})})]}):t.jsx(as,{open:e,onOpenChange:n,children:t.jsxs(Er,{className:"m-4 mx-auto max-w-[calc(100vw-32px)] sm:max-w-md",children:[t.jsxs(lc,{children:[t.jsx(Lo,{children:"VS Code Link"}),t.jsx(xh,{children:"Access VS Code in your browser with the following link and password"})]}),t.jsx("div",{className:"p-6",children:o()}),t.jsxs(ad,{className:"flex-row justify-between w-full sm:justify-between",children:[t.jsx(Yl,{asChild:!0,children:t.jsx(zt,{variant:"secondary",children:"Cancel"})}),t.jsx(zt,{onClick:i,children:"Open in Browser"})]})]})})};function bve({initialVSCodeUrl:e="",initialVSCodePassword:n="",isCloudFlow:s=!1}={}){const[r,i]=d.useState(e),[a,o]=d.useState(n),[l,c]=d.useState(!1),u=d.useCallback(()=>{r&&s?c(!0):r&&p()},[r,s]),p=d.useCallback(()=>{r&&(Af.openExternal(r),c(!1))},[r]);return{vscodeUrl:r,vscodePassword:a,showVSCodeDialog:l,setVSCodeUrl:i,setVSCodePassword:o,setShowVSCodeDialog:c,handleVSCodeLink:u,handleOpenVSCodeUrl:p}}function yve({jobId:e,containerId:n,isCloudFlow:s=!1,onVSCodeUrlChange:r,onVSCodePasswordChange:i,autoFetch:a=!0}={}){const[o,l]=d.useState(""),[c,u]=d.useState(""),[p,f]=d.useState(""),[m,h]=d.useState(""),[x,g]=d.useState(""),[v,b]=d.useState(null),[y,{isLoading:w}]=wre(),_=d.useCallback(async()=>{if(e)try{b(null);const j=await y(e);if(j.data){const C=j.data;l(C.base_preview_url),u(C.preview_url),f(C.vscode_url),h(C.password),g(C.base_preview_url),r&&C.vscode_url&&r(C.vscode_url),i&&C.password&&i(C.password)}else if(j.error){const C="error"in j.error?String(j.error.error):"Failed to fetch preview URL";b(C)}}catch(j){b(j instanceof Error?j.message:"Failed to refresh preview URL")}},[e,y,r,i]),N=d.useCallback(()=>{l(""),u(""),f(""),h(""),g(""),b(null)},[]);return d.useEffect(()=>{a&&e&&!o&&!w&&_()},[a,e,o,w,_]),{previewUrl:o,shareableUrl:c,vscodeUrl:p,password:m,basePreviewUrl:x,isLoading:w,error:v,setPreviewUrl:l,refresh:_,clearData:N}}function vve({containerId:e,jobId:n,isCloudFlow:s=!1,initialCommitId:r}={}){const[i,a]=d.useState([]),[o,l]=d.useState(!1),[c,u]=d.useState(null),{toast:p}=ns(),f=d.useCallback(async()=>{if(r)try{let m;if(s&&n)m=(await vt.getCloudGitDiff(n,void 0,r)).data.data.files.map(x=>({fileName:x,status:"M"}));else{if(!e){p({title:"Error",description:"Unable to show diff - missing container ID",variant:"destructive"});return}m=await Af.getGitStatus(e,r)}if(!m||m.length===0){p({title:"Info",description:"No changes detected"});return}a(m),l(!0)}catch{p({title:"Error",description:"Failed to get modified files",variant:"destructive"})}},[e,n,s,p,r]);return{modifiedFiles:i,setModifiedFiles:a,showDiffModal:o,setShowDiffModal:l,selectedFile:c,setSelectedFile:u,handleShowDiff:f}}const wve=(e,n)=>({id:"perceived-ux-assistant",role:"assistant",content:e,thought:e,action:"initial-llm",timestamp:n||new Date().toISOString(),base64_image_list:[],isPerceivedUXMessage:!0}),Cve=(e,n,s,r,i)=>({id:"user-task",role:!r||!i||r===i?"user":"member",content:e,timestamp:n||new Date().toISOString(),base64_image_list:s||[],...r&&{user_id:r}}),_ve=(e,n)=>{const r=e.function_name==="screenshot_tool"?[]:e.base64_image_list;return{id:`${n}-${e.step_num}`,role:n,content:e.human_message||"",timestamp:e.timestamp,base64_image_list:r,user_id:e.user_id,warning_for_token_limit:!1,current_token_count:0,max_token_count:2e5}},b8=(e,n)=>!e.user_id||!n?!1:e.user_id!==n,jve=(e,n)=>{const s=b8(e,n)?"member":"user";return _ve(e,s)},Nve=e=>{if(!e||typeof e!="string")return!1;const n=e.toLowerCase();return n.includes("context limit")||n.includes("reached the context")},Fve=(e,n)=>{const s=e.error&&Nve(e.error_message)?"context_limit_reached":e.action;return{id:`message-${e.step_num}`,role:"assistant",content:e.thought,action:s,strip_message:e.traj_payload?.strip_message,observation:e.observation,env_success:e.env_success,function_name:e.function_name,agent_name:e.agent_name||"",timestamp:e.timestamp,step_number:e.step_num,containerId:n,error:e?.error||!1,error_message:e?.error_message||"",error_ts:e.error_ts||"",expertise_type:e.expertise_type,request_id:e.request_id,acc_cost:e.acc_cost,max_budget:e.max_bugdet||e.max_budget,artifacts:e.artifacts,thinking_level:e.thinking_level||"thinking",base64_image_list:e.function_name==="screenshot_tool"?e.base64_image_list||[]:[],enable_rollback:e.enable_rollback,warning_for_token_limit:e.traj_payload?.warning_for_token_limit||!1,current_token_count:e.traj_payload?.current_token_count||0,max_token_count:e.traj_payload?.max_token_count||2e5,switching_to_build_mode:e.traj_payload?.switching_to_build_mode||!1,forked_job_id:e.forked_job_id||e.traj_payload?.forked_job_id||null,forked_from:e.traj_payload?.forked_from||null,fork_status:e.fork_status||e.traj_payload?.fork_status||null,summarisation_status:e.summarisation_status||e.traj_payload?.summarisation_status||null,next_call_agent:e.traj_payload?.next_call_agent||null,auto_checkout:e.auto_checkout}},Eve=(e,n,s,r)=>({id:`subagent-${b8(e,r)?"member":"user"}-${e.step_num}`,role:b8(e,r)?"member":"user",content:e.human_message||"",timestamp:e.timestamp,step_number:e.step_num,job_id:n||null,container_id:s,thought:"",enable_rollback:!1,error:!1,error_message:"",action:void 0,thinking_level:"thinking",observation:void 0,env_success:void 0,function_name:void 0,subagent_trajectory:[],args:void 0,base64_image_list:e.base64_image_list,user_id:e.user_id,warning_for_token_limit:!1,current_token_count:0,max_token_count:2e5,request_id:e.request_id,next_call_agent:e.next_call_agent||null}),Sve=(e,n)=>({id:`subagent-${e.step_num}`,role:"assistant",content:e.thought,action:e.action||"",observation:e.observation||"",env_success:e.env_success,function_name:e.function_name,agent_name:e.agent_name,timestamp:e.timestamp,step_number:e.step_num,job_id:n||null,error:e?.error||!1,request_id:e.request_id,error_message:e?.error_message||"",expertise_type:e.expertise_type,base64_image_list:e.human_message?[]:e.base64_image_list||[],switching_to_build_mode:e.traj_payload?.switching_to_build_mode||!1,next_call_agent:e.traj_payload?.next_call_agent||null}),OI=(e,n)=>{const s=new Set((e.subagent_trajectory||[]).map(i=>i.id)),r=n.filter(i=>!s.has(i.id));return{...e,subagent_trajectory:[...e.subagent_trajectory||[],...r]}},kve=(e,n,s,r)=>{if(n!==s&&e[r].action==="finish")return!1;if(n!==s&&e[r].action&&!e[r].observation)return!0;const i=!e.slice(r+1).some(a=>a.agent_name===n);return!!(n!==s&&i)},Ive=({task:e,initialPerceivedMsg:n,containerId:s,jobId:r,showSubagentPanel:i,selectedMessageId:a,selectedSubagent:o,setSelectedSubagentMessages:l,setIsSubagentActive:c,setAiMessages:u,getCurrentMessages:p,createdByUserId:f,historyEnabled:m,onPrependCount:h,hasMoreHistory:x})=>{const{user:g}=os(),v=d.useRef(null),b=(j,C)=>{if(j.length!==C.length)return!1;for(let S=0;S<j.length;S++){if(j[S].id!==C[S].id||j[S].content!==C[S].content||j[S].timestamp!==C[S].timestamp||j[S]?.error!==C[S]?.error||j[S].function_name!==C[S].function_name||j[S].action!==C[S].action||j[S].observation!==C[S].observation||j[S].forked_job_id!==C[S].forked_job_id||j[S].forked_from!==C[S].forked_from||j[S].fork_status!==C[S].fork_status||j[S].summarisation_status!==C[S].summarisation_status)return!1;const F=j[S].subagent_trajectory?.length||0,E=C[S].subagent_trajectory?.length||0;if(F!==E)return!1}return!0},y=d.useRef(0),w=d.useCallback((j,C,S)=>{const F=j.length,E=y.current,I=F>E,T=F-E>10,{messages:A}=N(j,S);if(i&&a){const P=A.find(B=>B.id===a);P&&P.subagent_trajectory&&P.subagent_trajectory.length>0&&P.agent_name===o&&l(P.subagent_trajectory)}const D=C?[...A,C]:[...A],O=p?.()||[],M=b(O,D);if(!M||T&&M){const P=D.map(B=>({...B,subagent_trajectory:B.subagent_trajectory?[...B.subagent_trajectory]:void 0}));if(h&&v.current){const B=v.current,G=P.findIndex($=>$.id===B);G>0?h(G):I&&h(0)}P.length>0&&(v.current=P[0].id),u(P)}y.current=F},[e,s,r,i,a,o,l,c,u,p,h]),_=j=>{const C=[];let S=0;for(;S<j.length;){const F=j[S];if(F.function_name==="artifact_shared"){let E=-1;for(let I=S+1;I<j.length;I++)if(j[I].role==="user"||j[I].role==="member"){E=I;break}if(E!==-1){const I=j[E],T={...I,artifacts:F.artifacts||I.artifacts,base64_image_list:I.base64_image_list||F.base64_image_list,artifact_shared_data:{artifacts:F.artifacts,base64_image_list:F.base64_image_list,content:F.content,agent_name:F.agent_name}};for(let A=S+1;A<E;A++)C.push(j[A]);C.push(T),S=E+1}else S++}else C.push(F),S++}return C},N=d.useCallback((j,C)=>{const S=[];let F=[],E=null,I=!1,T=-1,A=0;if(n){const M=wve(n,C);S.push(M)}if(e&&(!m||!x?.())){const L=(p?.()||[]).find(te=>te.id==="user-task");j[0]?.action==="initial-llm"&&(A=1);const P=j[A],B=P?.traj_payload?.action==="artifact_share";let G=L?.base64_image_list?.length?L.base64_image_list:P?.base64_image_list,$=Cve(e,C,G,f,g?.id);B&&P?.traj_payload?.artifacts&&($={...$,artifacts:P.traj_payload.artifacts,artifact_shared_data:{artifacts:P.traj_payload.artifacts,base64_image_list:P.base64_image_list||[],content:P.thought||"USER SHARED ASSETS WITH AGENT",agent_name:P.agent_name||void 0}}),S.push($)}const D=M=>{const L=M||"EmergentAssistant";return Q2.includes(L)};if(j.forEach((M,L)=>{if(L===A&&M.traj_payload?.action==="artifact_share")return;const P=M.agent_name||"EmergentAssistant",B=j[0]?.agent_name||"EmergentAssistant",G=E||"EmergentAssistant",$=D(P);if($||(I=kve(j,P,B,L)||I),M.human_message&&$){const te=jve(M,g?.id);S.push(te)}if(E!==null&&P!==G&&F.length>0&&T>=0&&(S[T]=OI(S[T],F),F=[]),!$)M.human_message&&F.push(Eve(M,r,s,g?.id)),F.push(Sve(M,r));else{const te=!!M.action,U=!!M.observation,oe=!!M.thought,Y=!!M.error,W=M.function_name==="forked";if(!te&&!U&&!oe&&!Y&&!W)return;const le=Fve(M,s);S.push(le),T=S.length-1}E=P}),F.length>0&&T>=0&&(S[T]=OI(S[T],F)),j.length>0){const M=j[j.length-1],L=D(M.agent_name);(!L&&M.action==="finish"||L)&&(I=!1)}return{messages:_(S),hasActiveSubagent:I}},[e,n,s,r,p,g?.id,m,f,x]);return{processTrajectory:w}},A$=e=>{if(!e)return 0;const n=localStorage.getItem("rollback_retry_attempt_job_id_map");return JSON.parse(n||"{}")[e]||0},Tve=async({jobId:e,rollbackRequestId:n,rollbackType:s,currentAttempt:r})=>{let i=null;const a=r>1;if(!e)throw new Error("Job ID not available");return i=await vt.rollbackToRequestId(e,n,void 0,s,a),i};function Ave({containerId:e,jobId:n,session:s,resetPolling:r,onRollbackSuccess:i,rollbackRequestId:a,maxAttempts:o=3}){const[l,c]=d.useState(!1),[u,p]=d.useState("INIT"),[f,m]=d.useState(A$(a||"")),h=d.useCallback(async(v="all")=>{if(!a){Ds({title:"Error",description:"No rollback request ID available",variant:"destructive"});return}c(!0),p("IN_PROGRESS"),f>=o&&p("FAILED");const b=f+1;try{const y=await Tve({jobId:n,rollbackRequestId:a,rollbackType:v,currentAttempt:b});if(y&&y.status!==!1&&y.status!=="fail"&&y.http_status_code!=="400")c(!1),p("COMPLETED"),m(0),i?.();else throw new Error("Failed to execute rollback command")}catch{c(!1);let w="Error";const _=f+1,N=JSON.parse(localStorage.getItem("rollback_retry_attempt_job_id_map")||"{}");localStorage.setItem("rollback_retry_attempt_job_id_map",JSON.stringify({...N,[a]:_})),_>=o?(p("FAILED"),w="Failed"):p("ERROR"),Ds({title:w,description:"Failed to execute rollback command",variant:"destructive"})}},[a,n,i]),x=d.useCallback(v=>{v&&p(v),r()},[r]),g=d.useCallback(()=>{p("INIT"),c(!1)},[]);return{isRollbackLoading:l,rollbackStatus:u,retryAttempted:f,handleConfirmRollback:h,handleRollbackComplete:x,resetRollbackStatus:g}}const Dve=({color:e="#ED5B5B",size:n=40})=>t.jsxs("svg",{width:n,height:n,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M7 14C6.03167 14 5.12167 13.8162 4.27 13.4487C3.41833 13.0812 2.6775 12.5825 2.0475 11.9525C1.4175 11.3225 0.91875 10.5817 0.55125 9.73C0.18375 8.87833 0 7.96833 0 7C0 6.03167 0.18375 5.12167 0.55125 4.27C0.91875 3.41833 1.4175 2.6775 2.0475 2.0475C2.6775 1.4175 3.41833 0.91875 4.27 0.55125C5.12167 0.18375 6.03167 0 7 0C7.96833 0 8.87833 0.18375 9.73 0.55125C10.5817 0.91875 11.3225 1.4175 11.9525 2.0475C12.5825 2.6775 13.0812 3.41833 13.4487 4.27C13.8162 5.12167 14 6.03167 14 7C14 7.96833 13.8162 8.87833 13.4487 9.73C13.0812 10.5817 12.5825 11.3225 11.9525 11.9525C11.3225 12.5825 10.5817 13.0812 9.73 13.4487C8.87833 13.8162 7.96833 14 7 14Z",fill:e}),t.jsx("rect",{x:"6",y:"3",width:"2",height:"5",rx:"1",fill:"#111112"}),t.jsx("rect",{x:"6",y:"9",width:"2",height:"2",rx:"1",fill:"#111112"})]}),BI=({color:e="#7A7A7B",size:n=32})=>t.jsxs("svg",{width:n,height:n,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("rect",{width:n,height:n,rx:"8",fill:e,fillOpacity:"0.1"}),t.jsx("path",{d:"M24.0013 15.9997C24.0013 11.581 20.4193 7.99902 16.0006 7.99902C11.582 7.99902 8 11.581 8 15.9997C8 20.4183 11.582 24.0003 16.0006 24.0003C20.4193 24.0003 24.0013 20.4183 24.0013 15.9997Z",stroke:e,strokeWidth:"1.2"}),t.jsx("path",{d:"M16 16L21 16C21 16.9889 20.7068 17.9556 20.1573 18.7778C19.6079 19.6001 18.827 20.241 17.9134 20.6194C16.9998 20.9978 15.9945 21.0968 15.0246 20.9039C14.0546 20.711 13.1637 20.2348 12.4645 19.5355C11.7652 18.8363 11.289 17.9454 11.0961 16.9754C10.9032 16.0055 11.0022 15.0002 11.3806 14.0866C11.759 13.173 12.3999 12.3921 13.2222 11.8427C14.0444 11.2932 15.0111 11 16 11L16 16Z",fill:e})]}),UI=[{id:1,label:"Pausing the Agent"},{id:2,label:"Cleaning up the context"},{id:3,label:"Restoring previous workspace state"},{id:4,label:"Finalizing the reversion"}],Wm=({header:e})=>t.jsx("div",{className:"px-6 pt-6 pb-3",children:t.jsx("h2",{className:"text-[24px] font-semibold text-white",children:e})}),Gm=({status:e})=>{switch(e){case"INIT":return t.jsx("div",{className:"flex-1 min-h-0 px-6 pt-3 pb-0 overflow-y-auto",children:t.jsxs("p",{className:"text-[15px] text-[#6E717A] max-w-[600px] font-inter leading-7",children:["Youre about to revert this conversation to an earlier state. Doing so will permanently delete all"," ",t.jsx("span",{className:"font-medium text-white",children:"messages"})," and"," ",t.jsx("span",{className:"font-medium text-white",children:"code generated"})," after the selected point."]})});case"IN_PROGRESS":return null;case"COMPLETED":return t.jsx("div",{className:"flex-1 min-h-0 px-6 pt-3 overflow-y-auto",children:t.jsx("p",{className:"text-[15px] text-[#6E717A] max-w-[600px] font-inter leading-7",children:"Your chat, code, and workspace have been successfully rolled back to the selected point. All changes made after that have been erased."})});case"ERROR":return t.jsx("div",{className:"flex-1 min-h-0 px-6 pt-3 overflow-y-auto",children:t.jsx("p",{className:"text-[15px] text-[#6E717A] max-w-[600px] font-inter leading-7",children:"Your attempt to roll back couldn't be completed due to a temporary connection issue or because the snapshot data is still processing."})});case"FAILED":return t.jsx("div",{className:"flex-1 min-h-0 px-6 pt-3 overflow-y-auto",children:t.jsx("p",{className:"text-[15px] text-[#6E717A] max-w-[600px] font-inter leading-7",children:"We have tried multiple times to roll back to your selected point, but the operation cannot be completed. Your current session may be unusable."})});default:return null}},qm=({status:e,prompt:n,nextAction:s})=>{switch(e){case"INIT":return t.jsx("div",{className:"flex-1 min-h-0 px-6 overflow-y-auto",children:t.jsx("p",{className:"text-[#FF884D] text-base font-medium mb-6 font-inter",children:n})});case"IN_PROGRESS":return null;case"COMPLETED":return t.jsx("div",{className:"flex-1 min-h-0 pt-6 px-6 pb-6 overflow-y-auto",children:t.jsx("p",{className:"text-[#27BF7B] text-base font-medium font-inter leading-7",children:n})});case"ERROR":return t.jsxs("div",{className:"flex-1 min-h-0 px-6 pt-6 pb-6 overflow-y-auto font-inter",children:[t.jsx("span",{className:"text-[#ED5B5B] text-base font-medium font-inter leading-7",children:`${n} - `}),s&&t.jsx("span",{className:"text-base font-medium text-white font-inter",children:s})]});case"FAILED":return t.jsx("div",{className:"flex-1 min-h-0 px-6 pt-6 pb-6 overflow-y-auto",children:t.jsxs("p",{className:"mb-6 text-base font-medium text-white font-inter leading-7",children:[t.jsxs("div",{className:"inline-flex gap-2 items-top font-inter",children:[t.jsx(Ome,{size:35,color:"#ED5B5B"}),n]}),s&&t.jsxs("div",{className:"mt-4 mb-8 text-base font-medium text-white",children:[t.jsxs("div",{className:"inline-flex gap-2 items-top font-inter",children:[t.jsx(cf,{size:22,color:"white"}),s]}),t.jsxs("span",{className:"text-base font-medium text-green-500",children:[" ",$9]})]})]})});default:return null}},Mve=({currentStatus:e})=>{switch(e){case"COMPLETED":return t.jsxs("div",{children:[t.jsx(Z1,{className:"w-6 h-6 text-white",color:"#fff"}),t.jsx("div",{className:"absolute -bottom-1 -right-1 p-1 rounded-full bg-[#18181A]",children:t.jsx("div",{className:"bg-[#29CC83] rounded-full w-[14px] h-[14px] flex items-center justify-center",children:t.jsx(xn,{className:"w-[10px] h-[10px] text-black stroke-[5]"})})})]});case"IN_PROGRESS":case"INIT":return t.jsx(Z1,{size:20,color:"#FF884D"});case"FAILED":case"ERROR":return t.jsxs("div",{children:[t.jsx(Z1,{className:"w-6 h-6 text-white",color:"#fff"}),t.jsx("div",{className:"absolute -bottom-1 -right-1 p-1 rounded-full flex items-center justify-center bg-[#18181A]",children:t.jsx("div",{className:"bg-[#ED5B5B] rounded-full",children:t.jsx(Dve,{size:14,color:"#ED5B5B"})})})]});default:return null}},Rve=({currentStatus:e,onOpenChange:n,hideCloseButton:s})=>t.jsxs("div",{className:"mx-6 mt-6 flex justify-between items-center",children:[t.jsx("div",{className:k("flex relative items-center justify-center w-10 h-10 rounded-full bg-white/5",["IN_PROGRESS","INIT"].includes(e)&&"bg-[#FF884D]/10"),children:t.jsx(Mve,{currentStatus:e})}),!s&&t.jsx("button",{type:"button","data-testid":er.rollback.closeButton,onClick:()=>n(!1),className:"w-7 h-7 flex items-center justify-center text-[#737780] bg-white/5 rounded-full hover:text-white transition-colors","aria-label":"Close modal",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Md={INIT:{status:"INIT",header:t.jsx(Wm,{header:"Revert to a Previous Point"}),description:t.jsx(Gm,{status:"INIT"}),prompt:t.jsx(qm,{status:"INIT",prompt:"This action cannot be undone."}),etaMessage:"Reverting typically takes 12 minutes.",buttons:["cancel","confirm"]},IN_PROGRESS:{status:"IN_PROGRESS",header:t.jsx(Wm,{header:"Reverting to the previous point"}),description:t.jsx(Gm,{status:"IN_PROGRESS"}),prompt:t.jsx(qm,{status:"IN_PROGRESS",prompt:"Are you sure you want to continue?"}),eta:!0,buttons:["inProgress"]},COMPLETED:{status:"COMPLETED",header:t.jsx(Wm,{header:"Reversion Complete !"}),description:t.jsx(Gm,{status:"COMPLETED"}),prompt:t.jsx(qm,{status:"COMPLETED",prompt:"To continue, send a message to our agent to restart the conversation."}),buttons:["okay"]},ERROR:{status:"ERROR",header:t.jsx(Wm,{header:"Rollback Failed !"}),description:t.jsx(Gm,{status:"ERROR"}),prompt:t.jsx(qm,{status:"ERROR",prompt:"Please try again",nextAction:"If the problem persists after multiple attempts, a more serious issue may be at play."}),attempts:!0,maxAttempts:3,buttons:["contact","retry"]},FAILED:{status:"FAILED",header:t.jsx(Wm,{header:"Rollback Permanently Failed"}),description:t.jsx(Gm,{status:"FAILED"}),prompt:t.jsx(qm,{status:"FAILED",prompt:"Unfortunately, your work since the last successful snapshot may not be recoverable through normal means.",nextAction:"Please contact support for assistance with restoring your work"}),buttons:["contact","okay-failed"]}};function Lve({isOpen:e,onOpenChange:n,rollbackRequestId:s,containerId:r,jobId:i,session:a,resetPolling:o,setAiMessages:l,clearPreviewData:c}){const u=zf(),[p,f]=d.useState(0),[m,h]=d.useState(0),[x,g]=d.useState("INIT"),[v,b]=d.useState("all"),{isRollbackLoading:y,rollbackStatus:w,handleConfirmRollback:_,handleRollbackComplete:N,resetRollbackStatus:j}=Ave({containerId:r,jobId:i,session:a,resetPolling:o,rollbackRequestId:s,onRollbackSuccess:()=>{l([]),c(),u(ec.util.invalidateTags([{type:"PreviewURL",id:i}]))},maxAttempts:jF});d.useEffect(()=>{let F,E;return e&&g(w),w==="IN_PROGRESS"&&(F=setInterval(()=>{h(I=>I+1)},1e3),p<UI.length-1&&(E=setTimeout(()=>{f(T=>T+1)},[2e3,3e3,4e3,3e3,3e3][p]))),w==="COMPLETED"&&(N(),e&&g("COMPLETED")),(w==="INIT"||w==="ERROR"||w==="FAILED")&&(f(0),h(0)),()=>{clearInterval(F),clearTimeout(E)}},[y,w,p,e]),d.useEffect(()=>{A$(s||"")>=jF?g("FAILED"):g("INIT")},[s]),d.useEffect(()=>{e&&(j(),g("INIT"),f(0),h(0))},[e,j]);const C=()=>{n(!1)},S=F=>{const E=Math.floor(F/60),I=F%60;return`${E.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`};return t.jsx(as,{open:e,onOpenChange:C,children:t.jsxs(Er,{onInteractOutside:F=>{x==="IN_PROGRESS"&&F.preventDefault()},className:"p-0 m-4 mx-auto max-w-[calc(100vw-32px)] md:max-w-[600px] max-h-[85vh] flex flex-col border-[#2A2A2C] bg-[#18181A] overflow-hidden",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Rve,{currentStatus:x,onOpenChange:C,hideCloseButton:x==="IN_PROGRESS"}),Md[x].header]}),Md[x].description,Md[x].prompt,x==="INIT"?t.jsx("div",{className:"flex-1 min-h-0 px-6 pb-6 overflow-y-auto",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{title:"Erase all messages and generated code",type:"radio",id:"confirm-rollback-all",name:"rollback-confirmation",className:"h-4 w-4 accent-[#FF884D] border-[#FF884D] focus:ring-[#FF884D] focus:ring-offset-0 checked:bg-[#FF884D] cursor-pointer",onChange:()=>b("all"),checked:v==="all"}),t.jsx(bl,{htmlFor:"confirm-rollback-all",className:"text-white font-inter cursor-pointer text-md",children:"Erase all messages and generated code"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{title:"Erase messages only (keep code)",type:"radio",id:"confirm-rollback-messages",name:"rollback-confirmation",className:"h-4 w-4 accent-[#FF884D] border-[#FF884D] focus:ring-[#FF884D] focus:ring-offset-0 bg-transparent cursor-pointer",onChange:()=>b("messages"),checked:v==="messages"}),t.jsx(bl,{htmlFor:"confirm-rollback-messages",className:"text-white font-inter cursor-pointer text-md",children:"Erase messages only (keep code)"})]})]})}):null,x==="IN_PROGRESS"?t.jsx("div",{className:"flex-1 min-h-0 px-6 py-6 overflow-y-auto",children:t.jsx("div",{className:"space-y-6",children:UI.map((F,E)=>{let I;return E<p?I="completed":E===p?I="active":I="pending",t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-6 h-6 mr-3",children:I==="completed"?t.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:t.jsx(xn,{className:"w-5 h-5 text-white",strokeWidth:4})}):I==="active"?t.jsx(Pc,{className:"text-[#FF884D] w-5 h-5"}):t.jsx("div",{className:"w-5 h-5 rounded-full border border-[#2A2A2C]"})}),t.jsx("span",{className:k("text-base font-inter",I==="active"?"text-[#FF884D] font-medium":"text-[#8A8B91]"),children:F.label})]},F.id)})})}):null,t.jsx("div",{className:"border-t border-[#242424] px-6 py-6",children:t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"items-center hidden flex-grow-2 md:flex gap-3",children:[Md[x].etaMessage?t.jsxs(t.Fragment,{children:[t.jsx(BI,{size:32,color:"#7A7A7B"}),t.jsx("div",{className:"text-[#8A8B91] text-sm hidden md:block font-inter",children:Md[x].etaMessage})]}):null,Md[x].eta?t.jsxs(t.Fragment,{children:[t.jsx(BI,{size:32,color:"#7A7A7B"}),t.jsx("div",{className:"text-[#8A8B91] text-lg font-inter",children:S(m)})]}):null]}),t.jsx("div",{className:"flex items-center gap-2",children:Md[x].buttons.map((F,E)=>{switch(F){case"cancel":return t.jsx(zt,{variant:"secondary",onClick:()=>C(),className:"text-[#DDDDE6] bg-[#2A2A2C] hover:bg-[#3A3A3C] rounded-full h-10 px-6",children:"Cancel"},E);case"confirm":return t.jsxs(zt,{onClick:()=>{_(v),h(0),f(0)},className:"bg-[#FF884D] hover:bg-[#E57440] font-semibold text-background rounded-full h-10 px-4 flex items-center",children:["Confirm Revert",t.jsx(Z1,{className:"ml-2",color:"#000000"})]},E);case"inProgress":return t.jsxs(zt,{variant:"secondary",onClick:()=>{},className:"text-[#DDDDE6] bg-[#2A2A2C] hover:bg-[#3A3A3C] rounded-full h-10 px-6",children:[t.jsx("span",{className:"font-medium text-[#FF884D]",children:"Reverting..."}),t.jsx("div",{className:"ml-2 w-5 h-5 rounded-full border-2 border-[#FF884D] border-t-transparent animate-spin"})]},E);case"okay":return t.jsx(zt,{onClick:()=>{C()},className:"flex items-center h-10 px-6 text-white bg-white/10 rounded-full hover:bg-white/20",children:"Okay, Got It"},E);case"okay-failed":return t.jsx(zt,{onClick:()=>C(),className:"flex items-center h-10 px-6 text-black bg-white rounded-full hover:bg-white/80",children:"Okay, Got It"},E);case"retry":return t.jsxs(zt,{onClick:()=>_(v),className:"flex items-center h-10 px-6 bg-white rounded-full hover:bg-white/80 text-background",children:["Retry",t.jsx(Vw,{className:"w-5 h-5"})]},E);case"contact":return t.jsxs(zt,{onClick:()=>window.location.href=`mailto:${$9}`,className:"bg-[#272729] hover:bg-[#3A3A3C] text-white rounded-full h-10 px-6 flex items-center",children:["Contact Support",t.jsx(cf,{className:"w-5 h-5 ml-2"})]},E);case"back":return t.jsxs(zt,{variant:"secondary",onClick:()=>C(),className:"text-[#DDDDE6] bg-[#2A2A2C] hover:bg-[#3A3A3C] rounded-full h-10 px-6 flex items-center gap-2",children:[t.jsx(Wme,{className:"w-5 h-5"}),"Go Back"]});default:return null}})})]})})]})})}const Pve=K.common.bot,Ove=K.common.play;function Bve(){const{setTabs:e,setActiveTab:n,updateTabState:s}=hi(),r=Ea(),i=()=>{const a=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;e(o=>[...o,{id:a,title:"New Task",path:"/create-task",state:{tabId:a,sourceTabId:a}}]),s(a,{isCloudFlow:!0}),n(a),r("/create-task")};return t.jsx("div",{className:"w-full flex mx-auto pb-10",children:t.jsxs("div",{className:"max-w-4xl mx-auto my-8 group flex flex-col space-y-[10px]",children:[t.jsx("div",{className:"px-4 py-1 rounded-lg overflow-hidden space-y-[10px]",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Mu,{className:"h-10 w-10 flex-shrink-0 bg-background border border-[1px] border-[#252526]",children:t.jsx(Wf,{className:"bg-background",children:t.jsx("img",{src:Pve,alt:"Robot",className:"w-fit h-8"})})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"prose prose-invert max-w-none",children:["We're sorry, but we couldn't complete the rollback operation. Any work since your last successful snapshot may be affected. Please contact our support team for assistance with restoring your work",t.jsx("p",{children:"To continue working, you'll need to start a new chat session."})]})})]})}),t.jsxs("div",{className:"flex justify-start mx-8 px-8 pt-6 space-x-4",children:[t.jsxs(zt,{onClick:a=>{a.preventDefault(),a.stopPropagation(),i()},className:"bg-white hover:bg-gray-200 text-black font-semibold rounded-full h-10 pl-5 pr-4 flex items-center",children:["Start New Run",t.jsx("img",{src:Ove,className:"w-5 h-5"})]}),t.jsxs(zt,{onClick:()=>Af.openExternal(`mailto:${$9}`),className:"bg-[#272729] hover:bg-[#3A3A3C] text-white font-medium rounded-full h-10 pl-5 pr-4 flex items-center",children:["Contact Support",t.jsx(cf,{className:"w-5 h-5 ml-2"})]})]}),t.jsx("div",{className:"flex justify-end mx-8",children:t.jsx("div",{className:"inline-flex items-center gap-2 text-[#5C5F66]",children:t.jsx("span",{className:"font-['JetBrains Mono'] text-[15px] leading-[20px]",children:new Date(new Date().toISOString()).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})})})]})})}const Uve=K.common.alertFill,Hve=(e,n,s,r={})=>{zc(n,{errorTitle:e,...r}),s({variant:"destructive",title:"",duration:5e3,description:t.jsxs("div",{className:"relative w-full p-4 pb-6",children:[t.jsx("img",{src:Uve,alt:"Error",className:" left-4 top-4",width:24,height:24}),t.jsxs("div",{className:"pt-4",children:[t.jsx("div",{className:"mb-1 text-base font-inter font-semibold text-[#ed5b5b]",children:e}),t.jsx("div",{className:"text-base font-inter text-[#cca3a3]",children:e.toLowerCase().includes("email")?"Please enter a valid invite code to sign up. If you believe this is an error, reach out to support@emergent.sh for assistance.":n})]})]}),className:"bg-[#261818] border-none p-0 rounded-lg "})},Vve=()=>{const{toast:e}=ns(),{user:n}=os(),s=hi();return{showErrorToast:(r,i,a={})=>{const o={userId:n?.id,userEmail:n?.email,jobId:s?.jobId,containerId:s?.containerId,...a};Hve(r,i,e,o)}}};function $ve(e){const[n,s]=d.useState(!1),[r,i]=d.useState("cdn"),[a,o]=d.useState(""),[l,c]=d.useState(!0);return d.useEffect(()=>{if(!e){c(!1);return}const u=e.split(".")[0],{cdnUrl:p}=so;if(!u||!p){c(!1);return}(async()=>{s(!0);try{const m=p.startsWith("http")?p:`https://${u}.${p}`;return(await fetch(m)).ok?(i("cdn"),o(m),!0):(i("game"),!1)}catch{return i("game"),!1}finally{s(!1),c(!1)}})()},[e]),{cdnLoading:n,previewSource:r,cdnUrl:a,setPreviewSource:i,initializing:l}}const HI=3e3,VI=60;function zve({jobId:e,shouldPoll:n,onExpoReady:s}){const[r,i]=d.useState(!1),[a,o]=d.useState(!1),[l,c]=d.useState(!1),u=d.useRef(s),p=d.useRef(0),f=d.useRef(null),m=d.useRef(!1),h=d.useRef(!0),x=d.useRef(!1),g=d.useRef(!1),[v]=Cre();d.useEffect(()=>{u.current=s},[s]),d.useEffect(()=>(h.current=!0,()=>{h.current=!1}),[]);const b=d.useCallback(()=>{x.current=!1,f.current&&(clearTimeout(f.current),f.current=null),h.current&&c(!1)},[]);return d.useEffect(()=>{if(!e||!n){g.current=!1,b();return}if(m.current)return;const y=async()=>{if(!(!x.current||!h.current))try{const w=await v(e).unwrap();if(!x.current||!h.current)return;if(o(w.all_running),w.services.expo)if(i(!0),g.current&&!m.current){if(u.current?.()??!0){m.current=!0,b();return}}else{b();return}else g.current=!0;p.current+=1,p.current<VI&&x.current?f.current=setTimeout(y,HI):b()}catch{if(!x.current||!h.current)return;p.current+=1,p.current<VI&&x.current?f.current=setTimeout(y,HI):b()}};return g.current=!0,p.current=0,x.current=!0,c(!0),y(),()=>{b()}},[e,n,v,b]),d.useEffect(()=>{i(!1),o(!1),m.current=!1,g.current=!1,p.current=0},[e]),{expoReady:r,isPolling:l,allServicesRunning:a}}const D$=()=>{const[e,n]=d.useState(!1),[s]=_re();return{isDownloading:e,handleDownload:async i=>{if(!(!i||e)){n(!0);try{const a=await s(i).unwrap();if(a?.download_url){const o=a.file_name||`code-backup-${i}.tar.gz`;await h0(a.download_url,o)}}catch{}finally{n(!1)}}}}},y8=({children:e,className:n="",title:s="preview",maxWidth:r="400px",aspectRatio:i="9/19.5"})=>t.jsx("div",{className:`relative w-full h-full ${n}`,style:{maxWidth:r,aspectRatio:i},children:t.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 427 881",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",filter:"url(#shadow)",className:"w-full h-full",children:[t.jsxs("g",{clipPath:"url(#clip0_2905_1090)",children:[t.jsx("rect",{width:"426.667",height:"880.667",rx:"70",fill:"black"}),t.jsx("rect",{x:"3.83268",y:"3.83366",width:"419",height:"873",rx:"66.1667",className:"stroke-[#dcdcdf] dark:stroke-[#454548]",strokeWidth:"4.33333"}),t.jsx("rect",{x:"0.833333",y:"0.833333",width:"425",height:"879",rx:"69.1667",className:"stroke-[#c1c2c4] dark:stroke-[#37373a]",strokeWidth:"1.66667"}),t.jsx("g",{opacity:"0.9",filter:"url(#filter0_f_2905_1090)",children:t.jsx("rect",{x:"1.66602",y:"2",width:"423.333",height:"877",rx:"68.6667",className:"stroke-[#b2b2b9] dark:stroke-[#454548]",strokeWidth:"1.66667"})}),t.jsx("g",{opacity:"0.8",filter:"url(#filter1_f_2905_1090)",children:t.jsx("rect",{x:"7.33268",y:"7.33366",width:"412",height:"866",rx:"62.6667",stroke:"#646464",strokeWidth:"0.666667"})}),t.jsx("foreignObject",{x:"18",y:"18",width:"390",height:"844",rx:"55",clipPath:"url(#clip1_2905_1090)",children:t.jsx("div",{className:"size-full pt-[62px] pb-[34px] overflow-hidden rounded-[55.75px] object-contain bg-white",children:e})}),t.jsx("rect",{width:"139",height:"5",rx:"2.5",transform:"matrix(-1 0 0 1 284 849)",className:"fill-[black] dark:fill-[#ffffffa2]"}),t.jsx("path",{d:"M73.7471 43.5257C76.5938 43.5257 78.966 45.522 78.966 50.0516V50.0695C78.966 54.3395 76.9876 56.8908 73.6934 56.8908C71.3032 56.8908 69.5129 55.5122 69.11 53.5607L69.0921 53.4622H71.3838L71.4106 53.5428C71.7598 54.429 72.5475 55.002 73.7023 55.002C75.7791 55.002 76.6475 53.0146 76.737 50.5708C76.7459 50.4365 76.7549 50.3022 76.7549 50.159H76.7012C76.1909 51.3407 74.9019 52.2358 73.1563 52.2358C70.6676 52.2358 68.9131 50.4455 68.9131 48.0195V48.0016C68.9131 45.3966 70.9631 43.5257 73.7471 43.5257ZM73.7471 50.4544C75.2241 50.4544 76.3521 49.416 76.3521 47.9748V47.9658C76.3521 46.5335 75.2241 45.4146 73.7739 45.4146C72.3416 45.4146 71.1868 46.5246 71.1868 47.9211V47.939C71.1868 49.4071 72.279 50.4544 73.7471 50.4544ZM81.8485 48.2165C81.1234 48.2165 80.5505 47.6436 80.5505 46.9185C80.5505 46.1934 81.1234 45.6294 81.8485 45.6294C82.5736 45.6294 83.1375 46.1934 83.1375 46.9185C83.1375 47.6436 82.5736 48.2165 81.8485 48.2165ZM81.8485 54.7871C81.1234 54.7871 80.5505 54.2142 80.5505 53.4891C80.5505 52.764 81.1234 52.2 81.8485 52.2C82.5736 52.2 83.1375 52.764 83.1375 53.4891C83.1375 54.2142 82.5736 54.7871 81.8485 54.7871ZM91.0778 56.667V54.1873H84.6325V52.2179L89.9946 43.7495H93.2799V52.2896H95.0345V54.1873H93.2799V56.667H91.0778ZM86.7093 52.3433H91.1136V45.4951H91.0599L86.7093 52.2806V52.3433ZM99.7163 56.667V45.9517H99.6626L96.3236 48.2433V46.1217L99.6984 43.7495H101.981V56.667H99.7163Z",className:"fill-[black]"}),t.jsxs("g",{opacity:"0.9",children:[t.jsx("rect",{x:"297.333",y:"50",width:"3.33333",height:"4",rx:"0.333333",className:"fill-[black]"}),t.jsx("rect",{x:"302",y:"48",width:"3.33333",height:"6",rx:"0.333333",className:"fill-[black]"}),t.jsx("rect",{x:"307",y:"45.667",width:"3.33333",height:"8.33333",rx:"0.333333",className:"fill-[black]"}),t.jsx("rect",{x:"311.666",y:"43",width:"3.33333",height:"11",rx:"0.333333",className:"fill-[black]"})]}),t.jsxs("g",{opacity:"0.9",children:[t.jsx("path",{d:"M341.382 45.8776C339.208 43.6888 336.196 42.3335 332.867 42.3335C329.528 42.3335 326.508 43.6969 324.333 45.8974L326.219 47.7831C327.911 46.0652 330.265 45.0002 332.867 45.0002C335.459 45.0002 337.805 46.057 339.496 47.7633L341.382 45.8776Z",className:"fill-[black]"}),t.jsx("path",{d:"M338.318 48.9418C336.928 47.5371 334.999 46.6668 332.867 46.6668C330.725 46.6668 328.788 47.5453 327.397 48.9616L329.283 50.8474C330.191 49.9136 331.462 49.3335 332.867 49.3335C334.263 49.3335 335.525 49.9053 336.432 50.8275L338.318 48.9418Z",className:"fill-[black]"}),t.jsx("path",{d:"M335.253 52.006C334.648 51.3855 333.803 51.0002 332.867 51.0002C331.922 51.0002 331.068 51.3938 330.462 52.0261L332.847 54.412L335.253 52.006Z",className:"fill-[black]"})]}),t.jsx("rect",{opacity:"0.6",x:"351.166",y:"43.167",width:"22.3333",height:"10.6667",rx:"2.16667",className:"stroke-[black] dark:stroke-[white]"}),t.jsx("rect",{opacity:"0.9",x:"352.333",y:"44.3335",width:"20",height:"8.33333",rx:"1.33333",className:"fill-[black]"}),t.jsx("path",{opacity:"0.6",d:"M374.666 47V47C375.402 47 375.999 47.597 375.999 48.3333V48.6667C375.999 49.403 375.402 50 374.666 50V50V47Z",className:"fill-[black]"}),t.jsx("rect",{x:"151.666",y:"31.667",width:"123.333",height:"36",rx:"18",fill:"black"}),t.jsxs("g",{opacity:"0.75",children:[t.jsx("rect",{x:"241.999",y:"41.3338",width:"16.6667",height:"16.6667",rx:"8.33333",fill:"#121212"}),t.jsx("rect",{x:"241.999",y:"41.3338",width:"16.6667",height:"16.6667",rx:"8.33333",stroke:"#0E0E0E",strokeWidth:"0.666667"}),t.jsx("g",{filter:"url(#filter2_f_2905_1090)",children:t.jsx("path",{d:"M248.476 45.9526C245.66 46.778 244.722 51.5241 248.476 53.3812C247.538 50.905 247.538 48.6352 248.476 45.9526Z",fill:"#50A99A"})}),t.jsx("g",{filter:"url(#filter3_f_2905_1090)",children:t.jsx("path",{d:"M247.857 47.667C246.449 48.1114 245.98 50.667 247.857 51.667C247.388 50.3337 247.388 49.1114 247.857 47.667Z",fill:"#50A99A"})}),t.jsx("g",{opacity:"0.4",filter:"url(#filter4_f_2905_1090)",children:t.jsx("path",{d:"M248.436 47.0219C247.23 47.2038 246.348 50.5423 247.805 51.4287C247.289 50.2382 247.547 47.8573 248.436 47.0219Z",fill:"#D0FFF7"})}),t.jsx("g",{filter:"url(#filter5_f_2905_1090)",children:t.jsx("path",{d:"M252.19 45.9526C255.006 46.778 255.944 51.5241 252.19 53.3812C253.128 50.905 253.128 48.6352 252.19 45.9526Z",fill:"#3E518C"})}),t.jsx("g",{filter:"url(#filter6_f_2905_1090)",children:t.jsx("path",{d:"M252.809 47.667C254.217 48.1114 254.686 50.667 252.809 51.667C253.278 50.3337 253.278 49.1114 252.809 47.667Z",fill:"#26408D"})}),t.jsx("g",{opacity:"0.5",filter:"url(#filter7_f_2905_1090)",children:t.jsx("path",{d:"M252.23 47.0219C253.437 47.2038 254.318 50.5423 252.861 51.4287C253.377 50.2382 253.119 47.8573 252.23 47.0219Z",fill:"#0D308C"})})]}),t.jsxs("g",{opacity:"0.4",children:[t.jsx("rect",{width:"24",height:"24",rx:"12",transform:"matrix(-1 0 0 1 181.666 37.667)",fill:"#141414"}),t.jsx("rect",{width:"15.6",height:"15.6",rx:"7.8",transform:"matrix(-1 0 0 1 177.466 41.8672)",fill:"black"}),t.jsx("g",{filter:"url(#filter8_f_2905_1090)",children:t.jsx("path",{d:"M172.006 44.9868C175.554 46.0268 176.736 52.0068 172.006 54.3468C173.189 51.2268 173.189 48.3668 172.006 44.9868Z",fill:"#50A99A"})}),t.jsx("g",{filter:"url(#filter9_f_2905_1090)",children:t.jsx("path",{d:"M172.786 47.147C174.56 47.707 175.151 50.927 172.786 52.187C173.377 50.507 173.377 48.967 172.786 47.147Z",fill:"#50A99A"})}),t.jsx("g",{opacity:"0.5",filter:"url(#filter10_f_2905_1090)",children:t.jsx("path",{d:"M172.056 46.3343C173.576 46.5634 174.687 50.7699 172.851 51.8868C173.501 50.3868 173.176 47.3868 172.056 46.3343Z",fill:"#D0FFF7"})}),t.jsx("g",{filter:"url(#filter11_f_2905_1090)",children:t.jsx("path",{d:"M167.325 44.9868C163.777 46.0268 162.595 52.0068 167.325 54.3468C166.143 51.2268 166.143 48.3668 167.325 44.9868Z",fill:"#3E518C"})}),t.jsx("g",{filter:"url(#filter12_f_2905_1090)",children:t.jsx("path",{d:"M166.545 47.147C164.771 47.707 164.180 50.927 166.545 52.187C165.954 50.507 165.954 48.967 166.545 47.147Z",fill:"#26408D"})}),t.jsx("g",{opacity:"0.5",filter:"url(#filter13_f_2905_1090)",children:t.jsx("path",{d:"M167.275 46.3343C165.755 46.5634 164.644 50.7699 166.48 51.8868C165.83 50.3868 166.155 47.3868 167.275 46.3343Z",fill:"#0D308C"})})]}),t.jsxs("g",{opacity:"0.4",children:[t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"-0.000976562",y:"786",width:"6",height:"5.33333",fill:"#7C7C7C"})}),t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"87.666",y:"874",width:"5.33333",height:"6",fill:"#7C7C7C"})}),t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"420.666",y:"89.0005",width:"6",height:"5.33333",fill:"#7C7C7C"})}),t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"-0.000976562",y:"89.0005",width:"6",height:"5.33333",fill:"#7C7C7C"})}),t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"339.666",y:"0.000488281",width:"5.33333",height:"6",fill:"#7C7C7C"})}),t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"420.666",y:"785.667",width:"6",height:"5.33333",fill:"#7C7C7C"})})]})]}),t.jsxs("defs",{children:[t.jsx("filter",{id:"shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:t.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"8",floodOpacity:"0.1",floodColor:"black"})}),t.jsxs("filter",{id:"filter0_f_2905_1090",x:"-0.166992",y:"0.166504",width:"427",height:"880.667",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter1_f_2905_1090",x:"6.33236",y:"6.33382",width:"414",height:"868",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.333333",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter2_f_2905_1090",x:"244.143",y:"44.0955",width:"6.19085",height:"11.143",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter3_f_2905_1090",x:"244.762",y:"45.8098",width:"4.95257",height:"7.71429",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter4_f_2905_1090",x:"245.808",y:"45.7839",width:"3.86682",height:"6.88293",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.619048",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter5_f_2905_1090",x:"250.332",y:"44.0955",width:"6.19085",height:"11.143",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter6_f_2905_1090",x:"250.951",y:"45.8098",width:"4.95257",height:"7.71429",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter7_f_2905_1090",x:"250.991",y:"45.7839",width:"3.86682",height:"6.88293",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.619048",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter8_f_2905_1090",x:"169.666",y:"42.6468",width:"7.80012",height:"14.0399",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter9_f_2905_1090",x:"170.446",y:"44.807",width:"6.23957",height:"9.72004",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter10_f_2905_1090",x:"171.276",y:"45.5545",width:"3.31098",height:"7.11225",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.39",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter11_f_2905_1090",x:"161.865",y:"42.6468",width:"7.80012",height:"14.0399",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter12_f_2905_1090",x:"162.645",y:"44.807",width:"6.23957",height:"9.72004",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter13_f_2905_1090",x:"164.744",y:"45.5545",width:"3.31098",height:"7.11225",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.39",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsx("clipPath",{id:"clip0_2905_1090",children:t.jsx("rect",{width:"426.667",height:"880.667",rx:"70",fill:"white"})}),t.jsx("clipPath",{id:"clip1_2905_1090",children:t.jsx("rect",{x:"18",y:"18",width:"390",height:"844",rx:"55",fill:"white"})})]})]})}),$I="/app-image.png",WPe={FIRST_POLL_DELAY:3e4,SUBSEQUENT_POLL_DELAY:1e4,MAX_POLLS:5,PROGRESS_DURATION:2400*1e3,PROGRESS_INCREMENT:{min:.5,max:3.5},UPDATE_DELAY:{min:100,max:800}},i5={MATRIX_FILTER:"sepia(1) hue-rotate(120deg) saturate(1) brightness(1)",LOGO_SCALE:3.5,BUTTON_STYLES:{gradient:{background:"radial-gradient(50% 50% at 50% 50%, rgba(252, 185, 73, 0.15) 0%, rgba(252, 185, 73, 0.08) 100%)",textGradient:"linear-gradient(270deg, #FCB949 40.48%, #E28C37 92.65%)"},white:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%)"}}},GPe={loading:{title:"Booting up the preview...",subtitle:`This usually takes around 
please enjoy these amazing vibe-coded games from our community.`,highlight:"3-5 mins"},completed:{title:"Your Preview is Ready!",subtitle:"Your pod has successfully booted up and is ready to explore."},buttons:{openEmergent:"Open Emergent",needHelp:"Need Help?",exploreGames:"Explore Games",launchApp:"Launch App",goBack:"Go Back"},sheet:{gameTitle:"Play Games from Our Creators"}},Wve=K.fork.matrixCode,z6=({grayscale:e=!1})=>{const n=G9();return t.jsx("div",{className:k("absolute top-0 bottom-0 left-0 grid h-full pointer-events-none z-[1] overflow-hidden",n?"w-[2000px] bg-[#131314] grid-cols-6":"w-full grid-cols-3 opacity-[0.2]"),children:Array.from({length:n?12:6}).map((s,r)=>t.jsx("img",{src:Wve,alt:"Matrix Code",className:"object-cover w-full h-full",style:{filter:e?`${i5.MATRIX_FILTER} grayscale(100%) opacity(0.1)`:i5.MATRIX_FILTER}},r))})},zI=({className:e,children:n,showRadialGradient:s=!0,...r})=>t.jsx("main",{children:t.jsxs("div",{className:k("relative flex flex-col h-[90dvh] items-center justify-center bg-zinc-50 dark:bg-zinc-900 text-slate-950 transition-bg",e),...r,children:[t.jsx("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:t.jsx("div",{className:k(`
            [--white-gradient:repeating-linear-gradient(100deg,var(--white)_0%,var(--white)_7%,var(--transparent)_10%,var(--transparent)_12%,var(--white)_16%)]
            [--dark-gradient:repeating-linear-gradient(100deg,var(--black)_0%,var(--black)_7%,var(--transparent)_10%,var(--transparent)_12%,var(--black)_16%)]
            [--aurora:repeating-linear-gradient(100deg,var(--blue-500)_10%,var(--indigo-300)_15%,var(--blue-300)_20%,var(--violet-200)_25%,var(--blue-400)_30%)]
            [background-image:var(--white-gradient),var(--aurora)]
            dark:[background-image:var(--dark-gradient),var(--aurora)]
            [background-size:300%,_200%]
            [background-position:50%_50%,50%_50%]
            filter blur-[10px] invert dark:invert-0
            after:content-[""] after:absolute after:inset-0 after:[background-image:var(--white-gradient),var(--aurora)] 
            after:dark:[background-image:var(--dark-gradient),var(--aurora)]
            after:[background-size:200%,_100%] 
            after:animate-aurora after:[background-attachment:fixed] after:mix-blend-difference
            pointer-events-none
            absolute -inset-[10px] opacity-50 will-change-transform `,s&&"[mask-image:radial-gradient(ellipse_at_100%_0%,black_10%,var(--transparent)_70%)]")})}),n]})}),Gve=({width:e=24,height:n=24,className:s="",fill:r="white",accentFill:i="#80FFF9"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:[t.jsx("path",{d:"M13.6035 19.1602C13.9858 19.159 14.3142 19.4476 14.3549 19.836C14.3981 20.2502 14.0978 20.6213 13.6836 20.6647L13.2637 20.7025C12.4237 20.7683 11.5798 20.7683 10.7398 20.7025L10.3208 20.6647L10.2444 20.6528C9.87014 20.5748 9.60815 20.2244 9.64866 19.836C9.68933 19.4474 10.0184 19.1588 10.401 19.1602L10.4774 19.1638L10.8577 19.1988C11.7461 19.2685 12.6393 19.2567 13.5261 19.1638L13.6035 19.1602Z",fill:r}),t.jsx("path",{d:"M13.9993 16.8075C14.3804 16.7745 14.7324 17.035 14.805 17.4189C14.8822 17.8281 14.6129 18.2226 14.2037 18.3001L13.6531 18.3913C12.549 18.547 11.4284 18.5471 10.3244 18.3913L9.77467 18.3001L9.69917 18.2817C9.33282 18.173 9.10096 17.8025 9.17339 17.4189C9.24599 17.0352 9.59732 16.7748 9.97817 16.8075L10.0546 16.8176L10.5353 16.8968C11.6601 17.0556 12.8045 17.0292 13.9229 16.8176L13.9993 16.8075Z",fill:r}),t.jsx("path",{d:"M12.0031 2.75C13.5584 2.75004 15.074 3.24191 16.3143 4.15514C17.5552 5.06877 18.453 6.35488 18.8622 7.81717L18.9331 8.09248C19.2349 9.38133 19.1445 10.7269 18.6725 11.9663L18.5648 12.2296C17.9635 13.6272 16.9018 14.7888 15.551 15.5399L15.1688 14.8521L14.7858 14.1642C15.8406 13.5777 16.6581 12.6766 17.1182 11.6072L17.2001 11.4055C17.5607 10.4588 17.63 9.43376 17.3999 8.4516L17.3456 8.24165C17.0335 7.12634 16.3455 6.13455 15.3806 5.424C14.4151 4.7131 13.2278 4.32461 12.0031 4.32457C10.8549 4.32457 9.73948 4.66563 8.80887 5.29417L8.62563 5.424C7.66061 6.13457 6.97181 7.12627 6.65972 8.24165C6.3479 9.3564 6.42755 10.5386 6.88716 11.6072L6.9774 11.8061C7.41857 12.7228 8.12787 13.503 9.02434 14.0501L9.21955 14.1642L9.28769 14.2066C9.61528 14.4347 9.7234 14.8788 9.52525 15.2351C9.32713 15.5911 8.89351 15.7333 8.52711 15.5758L8.45436 15.5399L8.20483 15.3944C7.05503 14.6929 6.13431 13.6858 5.55845 12.4893L5.44058 12.2296C4.83916 10.8315 4.73482 9.27988 5.14409 7.81717C5.55325 6.35486 6.45104 5.06876 7.69194 4.15514L7.92767 3.9894C9.12193 3.18276 10.545 2.75 12.0031 2.75ZM15.551 15.5399C15.1711 15.751 14.6924 15.6147 14.481 15.2351C14.2698 14.8553 14.4061 14.3757 14.7858 14.1642L15.551 15.5399Z",fill:i}),t.jsx("path",{d:"M11.9875 6.89174C12.2827 6.6231 12.7393 6.61669 13.0427 6.88898C13.3661 7.17943 13.3929 7.67685 13.1026 8.00039L12.1588 9.05194L12.8402 9.17625H12.8392C13.0002 9.20547 13.1525 9.2681 13.2867 9.35949L13.4147 9.45986L13.5271 9.57772C13.6308 9.70257 13.7083 9.84818 13.7527 10.0059H13.7517C13.811 10.2159 13.8095 10.4374 13.749 10.6458L13.7499 10.6468C13.6888 10.857 13.569 11.045 13.4064 11.19V11.191L11.6256 12.7766L11.563 12.8272C11.2398 13.0612 10.7854 13.0174 10.5142 12.713C10.225 12.3884 10.2542 11.8909 10.5787 11.6016L11.7306 10.574L11.1542 10.47H11.1532V10.4691C11.0009 10.441 10.8558 10.3838 10.7269 10.2996L10.6035 10.2066C10.4861 10.1054 10.3905 9.98171 10.3218 9.84383L10.2619 9.70111C10.195 9.50562 10.1814 9.29586 10.2223 9.09338L10.2628 8.94421C10.3131 8.79854 10.3924 8.66396 10.4958 8.54826L10.4967 8.54734L11.9304 6.94883L11.9875 6.89174Z",fill:i})]}),qve=({width:e=24,height:n=24,fill:s="white",className:r=""})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 24 24",fill:"none",className:r,children:t.jsx("path",{d:"M22.002 5.00586H23.002V19.0059H22.002V20.0059H2.00195V19.0059H1.00195V5.00586H2.00195V4.00586H22.002V5.00586ZM3.00195 15.0059H5.00195V13.0059H8.00195V9.00586H3.00195V15.0059ZM9.00195 15.0059H11.002V14.0059H12.002V15.0059H14.002V13.0059H13.002V12.0059H14.002V9.00586H9.00195V15.0059ZM15.002 15.0059H21.002V9.00586H15.002V15.0059ZM19 13.0059H17V11.0059H19V13.0059ZM6 12.0059H5V10.0059H6V12.0059ZM12 12.0059H11V10.0059H12V12.0059Z",fill:s})}),Kve=({size:e=24,color:n="black",className:s="",...r})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:s,...r,children:t.jsx("path",{d:"M9 17C9 16.4477 8.5523 16 8 16H6C5.44771 16 5 16.4477 5 17V19C5 19.5523 5.44771 20 6 20H8C8.5523 20 9 19.5523 9 19V17ZM13 21V20.9902C13 20.438 13.4477 19.9902 14 19.9902C14.5523 19.9902 15 20.438 15 20.9902V21C15 21.5523 14.5523 22 14 22C13.4477 22 13 21.5523 13 21ZM17 21V19C17 18.4477 17.4477 18 18 18H20C20.5523 18 21 18.4477 21 19C21 19.5523 20.5523 20 20 20H19V21C19 21.5523 18.5523 22 18 22C17.4477 22 17 21.5523 17 21ZM13 15C13 14.4477 13.4477 14 14 14C14.5523 14 15 14.4477 15 15V16H16C16.5523 16 17 16.4477 17 17C17 17.5523 16.5523 18 16 18H14C13.4477 18 13 17.5523 13 17V15ZM20 14C20.5523 14 21 14.4477 21 15C21 15.5523 20.5523 16 20 16H18C17.4477 16 17 15.5523 17 15C17 14.4477 17.4477 14 18 14H20ZM9 7C9 6.44771 8.55229 6 8 6H6C5.44771 6 5 6.44771 5 7V9C5 9.55229 5.44771 10 6 10H8C8.55229 10 9 9.55229 9 9V7ZM19 7C19 6.44771 18.5523 6 18 6H16C15.4477 6 15 6.44771 15 7V9C15 9.5523 15.4477 10 16 10H18C18.5523 10 19 9.5523 19 9V7ZM11 19C11 20.6569 9.65685 22 8 22H6C4.34315 22 3 20.6569 3 19V17C3 15.3431 4.34315 14 6 14H8C9.65685 14 11 15.3431 11 17V19ZM11 9C11 10.6569 9.65685 12 8 12H6C4.34315 12 3 10.6569 3 9V7C3 5.34315 4.34315 4 6 4H8C9.65685 4 11 5.34315 11 7V9ZM21 9C21 10.6568 19.6569 12 18 12H16C14.3431 12 13 10.6568 13 9V7C13 5.34315 14.3431 4 16 4H18C19.6569 4 21 5.34315 21 7V9Z",fill:n})}),Yve="/assets/grid_background-CTLD35eH.png",Zve=({className:e})=>t.jsxs("svg",{width:"37",height:"36",viewBox:"0 0 37 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("rect",{x:"0.5",width:"36",height:"36",rx:"18",fill:"#2EE572",fillOpacity:"0.1"}),t.jsx("circle",{opacity:"0.2",cx:"18.5004",cy:"18.0004",r:"9.6",fill:"#2EE572"}),t.jsx("circle",{cx:"18.5004",cy:"18.0004",r:"3",stroke:"#2EE572",strokeWidth:"1.2"}),t.jsx("circle",{cx:"18.4992",cy:"17.9992",r:"4.8",fill:"#2EE572"})]}),Jve=({className:e})=>t.jsx("div",{className:`bg-[#1c1c1f] rounded-[30px] p-1 flex items-center ${e}`,children:t.jsxs("div",{className:"relative w-5 h-5",children:[t.jsx("div",{className:"absolute left-[2px] top-[2px] w-4 h-4",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("circle",{opacity:"0.2",cx:"8",cy:"8",r:"8",fill:"#2EE572"})})}),t.jsx("div",{className:"absolute left-[7px] top-[7px] w-[6px] h-[6px]",children:t.jsx("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("circle",{cx:"3",cy:"3",r:"3",fill:"#2EE572"})})}),t.jsx("div",{className:"absolute left-[6px] top-[6px] w-2 h-2",children:t.jsx("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("circle",{cx:"4",cy:"4",r:"3.4",stroke:"#2EE572",strokeWidth:"1.2"})})})]})}),np=K.common.badgeCheck,vc=K.common.badgeCheckGray,Xve=K.common.badgeCheckYellow,Qve=K.common.arrowUploadReady,ewe=K.common.adjustIcon,twe=K.common.recordStopIcon,So=[{title:"Welcome to Test Mode",icon:ewe,content:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Test Mode lets you interact with your app like a real user while we capture everything needed to fix bugs quickly."}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("p",{className:"text-[#2EE572] text-base leading-6 font-['Inter'] font-medium",children:"Perfect for:"}),t.jsxs("div",{className:"flex flex-col gap-[10px]",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:np,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Testing user flows and interactions"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:np,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Finding UI issues or broken functionality"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:np,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Getting precise help from your AI agent"})]})]})]}),t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Think of it as having a QA engineer watching over your shoulder."})]}),buttonText:"Got it, Next"},{title:"Your session will be recorded",badge:t.jsx(Zve,{}),content:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("p",{className:"text-[#2EE572] text-base leading-6 font-['Inter'] font-medium",children:"We'll capture:"}),t.jsxs("div",{className:"flex flex-col gap-[10px]",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:np,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Screen recording of your interactions"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:np,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Technical logs and error data"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:np,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Step-by-step reproduction script"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Your Privacy:"}),t.jsxs("div",{className:"flex flex-col gap-[10px]",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:vc,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Recording stays local to your account"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:vc,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Only shared when you choose to send to AI agent"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:vc,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Automatically deleted after 30 days"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:vc,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"No personal data outside your app is captured"})]})]})]})]}),buttonText:"I Understand, Next"},{title:"How to get the most out of Test Mode",content:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:vc,alt:"",className:"w-5 h-5"}),t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"Use your app normally"})]}),t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Click, scroll, type as you would"})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:vc,alt:"",className:"w-5 h-5"}),t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"Try to break things"})]}),t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Test edge cases, rapid clicks, invalid inputs 3."})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:vc,alt:"",className:"w-5 h-5"}),t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"Don't rush"})]}),t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Take your time, the recording captures everything"})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:vc,alt:"",className:"w-5 h-5"}),t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"When you find issues"})]}),t.jsxs("div",{className:"flex gap-1 items-start",children:[t.jsxs("div",{className:"flex items-center gap-[5px]",children:[t.jsxs("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:["Click ",t.jsx("span",{className:"text-[#FF6A4D]",children:"End Session"})]}),t.jsx("img",{src:twe,alt:"",className:"w-5 h-5"})]}),t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"and we'll package everything for debugging"})]})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:Xve,alt:"",className:"w-5 h-5"}),t.jsx("p",{className:"text-[#F8FF99] text-base leading-6 font-['Inter'] font-semibold",children:"Pro tip"})]}),t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Test the specific flow where you noticed problems!"})]})]}),buttonText:"Start Testing",buttonStyle:"green"}],WI=({isOpen:e,onClose:n,onComplete:s})=>{const[r,i]=d.useState(0),a=()=>{r<So.length-1?i(r+1):s()},o=()=>{i(0),n()};return e?t.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:o}),t.jsxs(fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-[612px] h-[610px] mx-4 bg-[#1C1C1F] rounded-[20px] border border-[#242424] overflow-hidden flex flex-col",style:{backgroundImage:`url(${Yve})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[t.jsxs("div",{className:"flex items-center justify-between pt-[33px] px-[40px] pb-[20px]",children:[t.jsx(OH,{totalSteps:So.length,currentStep:r,activeColor:"#FFFFFF",inactiveColor:"#333333",completedColor:"#80FFF9"}),t.jsx("button",{onClick:o,className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-[#333333] transition-colors",children:t.jsx(Ft,{className:"w-5 h-5 text-[#B8B8CC]"})})]}),t.jsx("div",{className:"flex-1 px-[40px]",children:t.jsx(Kn,{mode:"wait",children:t.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx("h2",{className:"text-2xl font-['Brockmann'] font-semibold text-white tracking-[-0.48px] leading-6",children:So[r].title}),So[r].icon&&t.jsx("img",{src:So[r].icon,alt:"",className:"w-6 h-6 flex-shrink-0"}),So[r].badge&&So[r].badge]}),So[r].content]},r)})}),t.jsx("div",{className:"p-[40px]",children:t.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-6 py-3 rounded-[28px] font-['Brockmann'] font-semibold transition-colors tracking-[-0.2px] h-[48px] ${So[r].buttonStyle==="green"?"bg-[#2EE572] text-[#003313] hover:bg-[#2EE572]/90":"bg-white text-black hover:bg-white/90"}`,children:[So[r].buttonText,So[r].buttonStyle==="green"?t.jsx(Jve,{}):t.jsx("img",{src:Qve,alt:"",className:"w-6 h-6"})]})})]})]}):null},nwe="hasSeenTestModeOnboarding",swe=()=>{try{localStorage.setItem(nwe,"true")}catch{}};var sp={},W6,GI;function rwe(){return GI||(GI=1,W6=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),W6}var G6={},wc={},qI;function Ru(){if(qI)return wc;qI=1;let e;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return wc.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},wc.getSymbolTotalCodewords=function(r){return n[r]},wc.getBCHDigit=function(s){let r=0;for(;s!==0;)r++,s>>>=1;return r},wc.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},wc.isKanjiModeEnabled=function(){return typeof e<"u"},wc.toSJIS=function(r){return e(r)},wc}var q6={},KI;function jC(){return KI||(KI=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+s)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return n(r)}catch{return i}}})(q6)),q6}var K6,YI;function iwe(){if(YI)return K6;YI=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(n){const s=Math.floor(n/8);return(this.buffer[s]>>>7-n%8&1)===1},put:function(n,s){for(let r=0;r<s;r++)this.putBit((n>>>s-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),n&&(this.buffer[s]|=128>>>this.length%8),this.length++}},K6=e,K6}var Y6,ZI;function awe(){if(ZI)return Y6;ZI=1;function e(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return e.prototype.set=function(n,s,r,i){const a=n*this.size+s;this.data[a]=r,i&&(this.reservedBit[a]=!0)},e.prototype.get=function(n,s){return this.data[n*this.size+s]},e.prototype.xor=function(n,s,r){this.data[n*this.size+s]^=r},e.prototype.isReserved=function(n,s){return this.reservedBit[n*this.size+s]},Y6=e,Y6}var Z6={},JI;function owe(){return JI||(JI=1,(function(e){const n=Ru().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=n(r),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(r){const i=[],a=e.getRowColCoords(r),o=a.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([a[l],a[c]]);return i}})(Z6)),Z6}var J6={},XI;function lwe(){if(XI)return J6;XI=1;const e=Ru().getSymbolSize,n=7;return J6.getPositions=function(r){const i=e(r);return[[0,0],[i-n,0],[0,i-n]]},J6}var X6={},QI;function cwe(){return QI||(QI=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let o=0,l=0,c=0,u=null,p=null;for(let f=0;f<a;f++){l=c=0,u=p=null;for(let m=0;m<a;m++){let h=i.get(f,m);h===u?l++:(l>=5&&(o+=n.N1+(l-5)),u=h,l=1),h=i.get(m,f),h===p?c++:(c>=5&&(o+=n.N1+(c-5)),p=h,c=1)}l>=5&&(o+=n.N1+(l-5)),c>=5&&(o+=n.N1+(c-5))}return o},e.getPenaltyN2=function(i){const a=i.size;let o=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const u=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(u===4||u===0)&&o++}return o*n.N2},e.getPenaltyN3=function(i){const a=i.size;let o=0,l=0,c=0;for(let u=0;u<a;u++){l=c=0;for(let p=0;p<a;p++)l=l<<1&2047|i.get(u,p),p>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(p,u),p>=10&&(c===1488||c===93)&&o++}return o*n.N3},e.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let c=0;c<o;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/o/5)-10)*n.N4};function s(r,i,a){switch(r){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,a){const o=a.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)a.isReserved(c,l)||a.xor(c,l,s(i,c,l))},e.getBestMask=function(i,a){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){a(u),e.applyMask(u,i);const p=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),p<c&&(c=p,l=u)}return l}})(X6)),X6}var Ix={},eT;function M$(){if(eT)return Ix;eT=1;const e=jC(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Ix.getBlocksCount=function(i,a){switch(a){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},Ix.getTotalCodewordsCount=function(i,a){switch(a){case e.L:return s[(i-1)*4+0];case e.M:return s[(i-1)*4+1];case e.Q:return s[(i-1)*4+2];case e.H:return s[(i-1)*4+3];default:return}},Ix}var Q6={},Km={},tT;function dwe(){if(tT)return Km;tT=1;const e=new Uint8Array(512),n=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)e[i]=r,n[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]})(),Km.log=function(r){if(r<1)throw new Error("log("+r+")");return n[r]},Km.exp=function(r){return e[r]},Km.mul=function(r,i){return r===0||i===0?0:e[n[r]+n[i]]},Km}var nT;function uwe(){return nT||(nT=1,(function(e){const n=dwe();e.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let l=0;l<i.length;l++)a[o+l]^=n.mul(r[o],i[l]);return a},e.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const o=a[0];for(let c=0;c<i.length;c++)a[c]^=n.mul(i[c],o);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=e.mul(i,new Uint8Array([1,n.exp(a)]));return i}})(Q6)),Q6}var ey,sT;function pwe(){if(sT)return ey;sT=1;const e=uwe();function n(s){this.genPoly=void 0,this.degree=s,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},n.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=e.mod(i,this.genPoly),o=this.degree-a.length;if(o>0){const l=new Uint8Array(this.degree);return l.set(a,o),l}return a},ey=n,ey}var ty={},ny={},sy={},rT;function R$(){return rT||(rT=1,sy.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),sy}var nl={},iT;function L$(){if(iT)return nl;iT=1;const e="[0-9]+",n="[A-Z $%*+\\-./:]+";let s="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";s=s.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+s+`)(?:.|[\r
]))+`;nl.KANJI=new RegExp(s,"g"),nl.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),nl.BYTE=new RegExp(r,"g"),nl.NUMERIC=new RegExp(e,"g"),nl.ALPHANUMERIC=new RegExp(n,"g");const i=new RegExp("^"+s+"$"),a=new RegExp("^"+e+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return nl.testKanji=function(c){return i.test(c)},nl.testNumeric=function(c){return a.test(c)},nl.testAlphanumeric=function(c){return o.test(c)},nl}var aT;function Lu(){return aT||(aT=1,(function(e){const n=R$(),s=L$();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!n.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return s.testNumeric(a)?e.NUMERIC:s.testAlphanumeric(a)?e.ALPHANUMERIC:s.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,o){if(e.isValid(a))return a;try{return r(a)}catch{return o}}})(ny)),ny}var oT;function fwe(){return oT||(oT=1,(function(e){const n=Ru(),s=M$(),r=jC(),i=Lu(),a=R$(),o=7973,l=n.getBCHDigit(o);function c(m,h,x){for(let g=1;g<=40;g++)if(h<=e.getCapacity(g,x,m))return g}function u(m,h){return i.getCharCountIndicator(m,h)+4}function p(m,h){let x=0;return m.forEach(function(g){const v=u(g.mode,h);x+=v+g.getBitsLength()}),x}function f(m,h){for(let x=1;x<=40;x++)if(p(m,x)<=e.getCapacity(x,h,i.MIXED))return x}e.from=function(h,x){return a.isValid(h)?parseInt(h,10):x},e.getCapacity=function(h,x,g){if(!a.isValid(h))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const v=n.getSymbolTotalCodewords(h),b=s.getTotalCodewordsCount(h,x),y=(v-b)*8;if(g===i.MIXED)return y;const w=y-u(g,h);switch(g){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},e.getBestVersionForData=function(h,x){let g;const v=r.from(x,r.M);if(Array.isArray(h)){if(h.length>1)return f(h,v);if(h.length===0)return 1;g=h[0]}else g=h;return c(g.mode,g.getLength(),v)},e.getEncodedBits=function(h){if(!a.isValid(h)||h<7)throw new Error("Invalid QR Code version");let x=h<<12;for(;n.getBCHDigit(x)-l>=0;)x^=o<<n.getBCHDigit(x)-l;return h<<12|x}})(ty)),ty}var ry={},lT;function mwe(){if(lT)return ry;lT=1;const e=Ru(),n=1335,s=21522,r=e.getBCHDigit(n);return ry.getEncodedBits=function(a,o){const l=a.bit<<3|o;let c=l<<10;for(;e.getBCHDigit(c)-r>=0;)c^=n<<e.getBCHDigit(c)-r;return(l<<10|c)^s},ry}var iy={},ay,cT;function hwe(){if(cT)return ay;cT=1;const e=Lu();function n(s){this.mode=e.NUMERIC,this.data=s.toString()}return n.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i,a,o;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),o=parseInt(a,10),r.put(o,10);const l=this.data.length-i;l>0&&(a=this.data.substr(i),o=parseInt(a,10),r.put(o,l*3+1))},ay=n,ay}var oy,dT;function xwe(){if(dT)return oy;dT=1;const e=Lu(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(r){this.mode=e.ALPHANUMERIC,this.data=r}return s.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let o=n.indexOf(this.data[a])*45;o+=n.indexOf(this.data[a+1]),i.put(o,11)}this.data.length%2&&i.put(n.indexOf(this.data[a]),6)},oy=s,oy}var ly,uT;function gwe(){if(uT)return ly;uT=1;const e=Lu();function n(s){this.mode=e.BYTE,typeof s=="string"?this.data=new TextEncoder().encode(s):this.data=new Uint8Array(s)}return n.getBitsLength=function(r){return r*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){for(let r=0,i=this.data.length;r<i;r++)s.put(this.data[r],8)},ly=n,ly}var cy,pT;function bwe(){if(pT)return cy;pT=1;const e=Lu(),n=Ru();function s(r){this.mode=e.KANJI,this.data=r}return s.getBitsLength=function(i){return i*13},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=n.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},cy=s,cy}var dy={exports:{}},fT;function ywe(){return fT||(fT=1,(function(e){var n={single_source_shortest_paths:function(s,r,i){var a={},o={};o[r]=0;var l=n.PriorityQueue.make();l.push(r,0);for(var c,u,p,f,m,h,x,g,v;!l.empty();){c=l.pop(),u=c.value,f=c.cost,m=s[u]||{};for(p in m)m.hasOwnProperty(p)&&(h=m[p],x=f+h,g=o[p],v=typeof o[p]>"u",(v||g>x)&&(o[p]=x,l.push(p,x),a[p]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var b=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(b)}return a},extract_shortest_path_from_predecessor_list:function(s,r){for(var i=[],a=r;a;)i.push(a),s[a],a=s[a];return i.reverse(),i},find_path:function(s,r,i){var a=n.single_source_shortest_paths(s,r,i);return n.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(s){var r=n.PriorityQueue,i={},a;s=s||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=s.sorter||r.default_sorter,i},default_sorter:function(s,r){return s.cost-r.cost},push:function(s,r){var i={value:s,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=n})(dy)),dy.exports}var mT;function vwe(){return mT||(mT=1,(function(e){const n=Lu(),s=hwe(),r=xwe(),i=gwe(),a=bwe(),o=L$(),l=Ru(),c=ywe();function u(b){return unescape(encodeURIComponent(b)).length}function p(b,y,w){const _=[];let N;for(;(N=b.exec(w))!==null;)_.push({data:N[0],index:N.index,mode:y,length:N[0].length});return _}function f(b){const y=p(o.NUMERIC,n.NUMERIC,b),w=p(o.ALPHANUMERIC,n.ALPHANUMERIC,b);let _,N;return l.isKanjiModeEnabled()?(_=p(o.BYTE,n.BYTE,b),N=p(o.KANJI,n.KANJI,b)):(_=p(o.BYTE_KANJI,n.BYTE,b),N=[]),y.concat(w,_,N).sort(function(C,S){return C.index-S.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function m(b,y){switch(y){case n.NUMERIC:return s.getBitsLength(b);case n.ALPHANUMERIC:return r.getBitsLength(b);case n.KANJI:return a.getBitsLength(b);case n.BYTE:return i.getBitsLength(b)}}function h(b){return b.reduce(function(y,w){const _=y.length-1>=0?y[y.length-1]:null;return _&&_.mode===w.mode?(y[y.length-1].data+=w.data,y):(y.push(w),y)},[])}function x(b){const y=[];for(let w=0;w<b.length;w++){const _=b[w];switch(_.mode){case n.NUMERIC:y.push([_,{data:_.data,mode:n.ALPHANUMERIC,length:_.length},{data:_.data,mode:n.BYTE,length:_.length}]);break;case n.ALPHANUMERIC:y.push([_,{data:_.data,mode:n.BYTE,length:_.length}]);break;case n.KANJI:y.push([_,{data:_.data,mode:n.BYTE,length:u(_.data)}]);break;case n.BYTE:y.push([{data:_.data,mode:n.BYTE,length:u(_.data)}])}}return y}function g(b,y){const w={},_={start:{}};let N=["start"];for(let j=0;j<b.length;j++){const C=b[j],S=[];for(let F=0;F<C.length;F++){const E=C[F],I=""+j+F;S.push(I),w[I]={node:E,lastCount:0},_[I]={};for(let T=0;T<N.length;T++){const A=N[T];w[A]&&w[A].node.mode===E.mode?(_[A][I]=m(w[A].lastCount+E.length,E.mode)-m(w[A].lastCount,E.mode),w[A].lastCount+=E.length):(w[A]&&(w[A].lastCount=E.length),_[A][I]=m(E.length,E.mode)+4+n.getCharCountIndicator(E.mode,y))}}N=S}for(let j=0;j<N.length;j++)_[N[j]].end=0;return{map:_,table:w}}function v(b,y){let w;const _=n.getBestModeForData(b);if(w=n.from(y,_),w!==n.BYTE&&w.bit<_.bit)throw new Error('"'+b+'" cannot be encoded with mode '+n.toString(w)+`.
 Suggested mode is: `+n.toString(_));switch(w===n.KANJI&&!l.isKanjiModeEnabled()&&(w=n.BYTE),w){case n.NUMERIC:return new s(b);case n.ALPHANUMERIC:return new r(b);case n.KANJI:return new a(b);case n.BYTE:return new i(b)}}e.fromArray=function(y){return y.reduce(function(w,_){return typeof _=="string"?w.push(v(_,null)):_.data&&w.push(v(_.data,_.mode)),w},[])},e.fromString=function(y,w){const _=f(y,l.isKanjiModeEnabled()),N=x(_),j=g(N,w),C=c.find_path(j.map,"start","end"),S=[];for(let F=1;F<C.length-1;F++)S.push(j.table[C[F]].node);return e.fromArray(h(S))},e.rawSplit=function(y){return e.fromArray(f(y,l.isKanjiModeEnabled()))}})(iy)),iy}var hT;function wwe(){if(hT)return G6;hT=1;const e=Ru(),n=jC(),s=iwe(),r=awe(),i=owe(),a=lwe(),o=cwe(),l=M$(),c=pwe(),u=fwe(),p=mwe(),f=Lu(),m=vwe();function h(j,C){const S=j.size,F=a.getPositions(C);for(let E=0;E<F.length;E++){const I=F[E][0],T=F[E][1];for(let A=-1;A<=7;A++)if(!(I+A<=-1||S<=I+A))for(let D=-1;D<=7;D++)T+D<=-1||S<=T+D||(A>=0&&A<=6&&(D===0||D===6)||D>=0&&D<=6&&(A===0||A===6)||A>=2&&A<=4&&D>=2&&D<=4?j.set(I+A,T+D,!0,!0):j.set(I+A,T+D,!1,!0))}}function x(j){const C=j.size;for(let S=8;S<C-8;S++){const F=S%2===0;j.set(S,6,F,!0),j.set(6,S,F,!0)}}function g(j,C){const S=i.getPositions(C);for(let F=0;F<S.length;F++){const E=S[F][0],I=S[F][1];for(let T=-2;T<=2;T++)for(let A=-2;A<=2;A++)T===-2||T===2||A===-2||A===2||T===0&&A===0?j.set(E+T,I+A,!0,!0):j.set(E+T,I+A,!1,!0)}}function v(j,C){const S=j.size,F=u.getEncodedBits(C);let E,I,T;for(let A=0;A<18;A++)E=Math.floor(A/3),I=A%3+S-8-3,T=(F>>A&1)===1,j.set(E,I,T,!0),j.set(I,E,T,!0)}function b(j,C,S){const F=j.size,E=p.getEncodedBits(C,S);let I,T;for(I=0;I<15;I++)T=(E>>I&1)===1,I<6?j.set(I,8,T,!0):I<8?j.set(I+1,8,T,!0):j.set(F-15+I,8,T,!0),I<8?j.set(8,F-I-1,T,!0):I<9?j.set(8,15-I-1+1,T,!0):j.set(8,15-I-1,T,!0);j.set(F-8,8,1,!0)}function y(j,C){const S=j.size;let F=-1,E=S-1,I=7,T=0;for(let A=S-1;A>0;A-=2)for(A===6&&A--;;){for(let D=0;D<2;D++)if(!j.isReserved(E,A-D)){let O=!1;T<C.length&&(O=(C[T]>>>I&1)===1),j.set(E,A-D,O),I--,I===-1&&(T++,I=7)}if(E+=F,E<0||S<=E){E-=F,F=-F;break}}}function w(j,C,S){const F=new s;S.forEach(function(D){F.put(D.mode.bit,4),F.put(D.getLength(),f.getCharCountIndicator(D.mode,j)),D.write(F)});const E=e.getSymbolTotalCodewords(j),I=l.getTotalCodewordsCount(j,C),T=(E-I)*8;for(F.getLengthInBits()+4<=T&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const A=(T-F.getLengthInBits())/8;for(let D=0;D<A;D++)F.put(D%2?17:236,8);return _(F,j,C)}function _(j,C,S){const F=e.getSymbolTotalCodewords(C),E=l.getTotalCodewordsCount(C,S),I=F-E,T=l.getBlocksCount(C,S),A=F%T,D=T-A,O=Math.floor(F/T),M=Math.floor(I/T),L=M+1,P=O-M,B=new c(P);let G=0;const $=new Array(T),te=new Array(T);let U=0;const oe=new Uint8Array(j.buffer);for(let q=0;q<T;q++){const Q=q<D?M:L;$[q]=oe.slice(G,G+Q),te[q]=B.encode($[q]),G+=Q,U=Math.max(U,Q)}const Y=new Uint8Array(F);let W=0,Z,le;for(Z=0;Z<U;Z++)for(le=0;le<T;le++)Z<$[le].length&&(Y[W++]=$[le][Z]);for(Z=0;Z<P;Z++)for(le=0;le<T;le++)Y[W++]=te[le][Z];return Y}function N(j,C,S,F){let E;if(Array.isArray(j))E=m.fromArray(j);else if(typeof j=="string"){let O=C;if(!O){const M=m.rawSplit(j);O=u.getBestVersionForData(M,S)}E=m.fromString(j,O||40)}else throw new Error("Invalid data");const I=u.getBestVersionForData(E,S);if(!I)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=I;else if(C<I)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+I+`.
`);const T=w(C,S,E),A=e.getSymbolSize(C),D=new r(A);return h(D,C),x(D),g(D,C),b(D,S,0),C>=7&&v(D,C),y(D,T),isNaN(F)&&(F=o.getBestMask(D,b.bind(null,D,S))),o.applyMask(F,D),b(D,S,F),{modules:D,version:C,errorCorrectionLevel:S,maskPattern:F,segments:E}}return G6.create=function(C,S){if(typeof C>"u"||C==="")throw new Error("No input text");let F=n.M,E,I;return typeof S<"u"&&(F=n.from(S.errorCorrectionLevel,n.M),E=u.from(S.version),I=o.from(S.maskPattern),S.toSJISFunc&&e.setToSJISFunction(S.toSJISFunc)),N(C,E,F,I)},G6}var uy={},py={},xT;function P$(){return xT||(xT=1,(function(e){function n(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let r=s.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+s);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:n(r.color.dark||"#000000ff"),light:n(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const a=e.getScale(r,i);return Math.floor((r+i.margin*2)*a)},e.qrToImageData=function(r,i,a){const o=i.modules.size,l=i.modules.data,c=e.getScale(o,a),u=Math.floor((o+a.margin*2)*c),p=a.margin*c,f=[a.color.light,a.color.dark];for(let m=0;m<u;m++)for(let h=0;h<u;h++){let x=(m*u+h)*4,g=a.color.light;if(m>=p&&h>=p&&m<u-p&&h<u-p){const v=Math.floor((m-p)/c),b=Math.floor((h-p)/c);g=f[l[v*o+b]?1:0]}r[x++]=g.r,r[x++]=g.g,r[x++]=g.b,r[x]=g.a}}})(py)),py}var gT;function Cwe(){return gT||(gT=1,(function(e){const n=P$();function s(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=r()),c=n.getOptions(c);const p=n.getImageWidth(a.modules.size,c),f=u.getContext("2d"),m=f.createImageData(p,p);return n.qrToImageData(m.data,a,c),s(f,u,p),f.putImageData(m,0,0),u},e.renderToDataURL=function(a,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(a,o,c),p=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(p,f.quality)}})(uy)),uy}var fy={},bT;function _we(){if(bT)return fy;bT=1;const e=P$();function n(i,a){const o=i.a/255,l=a+'="'+i.hex+'"';return o<1?l+" "+a+'-opacity="'+o.toFixed(2).slice(1)+'"':l}function s(i,a,o){let l=i+a;return typeof o<"u"&&(l+=" "+o),l}function r(i,a,o){let l="",c=0,u=!1,p=0;for(let f=0;f<i.length;f++){const m=Math.floor(f%a),h=Math.floor(f/a);!m&&!u&&(u=!0),i[f]?(p++,f>0&&m>0&&i[f-1]||(l+=u?s("M",m+o,.5+h+o):s("m",c,0),c=0,u=!1),m+1<a&&i[f+1]||(l+=s("h",p),p=0)):c++}return l}return fy.render=function(a,o,l){const c=e.getOptions(o),u=a.modules.size,p=a.modules.data,f=u+c.margin*2,m=c.color.light.a?"<path "+n(c.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",h="<path "+n(c.color.dark,"stroke")+' d="'+r(p,u,c.margin)+'"/>',x='viewBox="0 0 '+f+" "+f+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+x+' shape-rendering="crispEdges">'+m+h+`</svg>
`;return typeof l=="function"&&l(null,v),v},fy}var yT;function jwe(){if(yT)return sp;yT=1;const e=rwe(),n=wwe(),s=Cwe(),r=_we();function i(a,o,l,c,u){const p=[].slice.call(arguments,1),f=p.length,m=typeof p[f-1]=="function";if(!m&&!e())throw new Error("Callback required as last argument");if(m){if(f<2)throw new Error("Too few arguments provided");f===2?(u=l,l=o,o=c=void 0):f===3&&(o.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=l,l=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(l=o,o=c=void 0):f===2&&!o.getContext&&(c=l,l=o,o=void 0),new Promise(function(h,x){try{const g=n.create(l,c);h(a(g,o,c))}catch(g){x(g)}})}try{const h=n.create(l,c);u(null,a(h,o,c))}catch(h){u(h)}}return sp.create=n.create,sp.toCanvas=i.bind(null,s.render),sp.toDataURL=i.bind(null,s.renderToDataURL),sp.toString=i.bind(null,function(a,o,l){return r.render(a,l)}),sp}var Nwe=jwe();const a5=ga(Nwe),vT=({width:e=71,height:n=20,fill:s="white",fillOpacity:r=.6,className:i,style:a,onClick:o,"aria-label":l="Aexpo logo",focusable:c=!1,viewBox:u="0 0 71 20",...p})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:u,fill:"none",className:i,style:a,onClick:o,"aria-label":l,focusable:c,...p,children:[t.jsx("g",{clipPath:"url(#clip0_aexpo_logo)",children:t.jsx("path",{d:"M9.25792 6.342C9.41592 6.112 9.58892 6.082 9.72992 6.082C9.86992 6.082 10.1039 6.112 10.2619 6.342C12.3219 9.148 16.5939 16.55 16.9889 16.953C17.5739 17.55 18.3769 17.178 18.8429 16.501C19.3029 15.834 19.4299 15.366 19.4299 14.867C19.4299 14.527 12.7769 2.253 12.1059 1.231C11.4619 0.248 11.2519 0 10.1499 0H9.32492C8.22492 0 8.06592 0.248 7.42192 1.23C6.74992 2.254 0.0969238 14.528 0.0969238 14.868C0.0969238 15.368 0.223924 15.835 0.683924 16.502C1.14992 17.179 1.95292 17.552 2.53792 16.954C2.93292 16.551 7.19892 9.149 9.25792 6.344V6.342ZM24.1989 1.105V16.449H33.5489V13.336H27.4239V10.092H32.8739V6.98H27.4239V4.218H33.5489V1.105H24.1989ZM46.2499 16.449L42.3699 10.881L45.9889 5.686H42.3269L40.5399 8.23L38.7749 5.687H35.0689L38.6869 10.904L34.8299 16.45H38.4909L40.5179 13.535L42.5449 16.45H46.2499V16.449ZM53.8219 5.467C52.3399 5.467 51.1849 6.081 50.4439 7.199V5.686H47.3699V20H50.4429V14.937C51.1829 16.054 52.3389 16.668 53.8209 16.668C56.5889 16.668 58.7909 14.148 58.7909 11.057C58.7909 7.966 56.5899 5.467 53.8219 5.467ZM53.1249 13.709C51.6209 13.709 50.4439 12.569 50.4439 11.057C50.4439 9.567 51.6209 8.404 53.1239 8.404C54.6069 8.404 55.8049 9.588 55.8049 11.057C55.8049 12.547 54.6069 13.709 53.1249 13.709ZM65.3129 5.467C62.1529 5.467 59.7549 7.878 59.7549 11.079C59.7549 14.279 62.1519 16.669 65.3119 16.669C68.4509 16.669 70.8699 14.279 70.8699 11.079C70.8699 7.879 68.4499 5.467 65.3119 5.467H65.3129ZM65.3129 8.427C66.7509 8.427 67.8629 9.544 67.8629 11.079C67.8629 12.569 66.7509 13.709 65.3129 13.709C63.8529 13.709 62.7629 12.569 62.7629 11.079C62.7629 9.544 63.8529 8.426 65.3129 8.426V8.427Z",fill:s,fillOpacity:r})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_aexpo_logo",children:t.jsx("rect",{width:"71",height:"20",fill:"white"})})})]}),wT=({width:e=20,height:n=20,fill:s="white",fillOpacity:r=.8,className:i,style:a,...o})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:i,style:a,...o,children:t.jsx("path",{d:"M5.16634 4.615C5.37713 3.9978 5.77576 3.46201 6.30634 3.08274C6.83693 2.70346 7.47289 2.49969 8.12509 2.5H14.3751C15.2039 2.5 15.9987 2.82924 16.5848 3.41529C17.1709 4.00134 17.5001 4.7962 17.5001 5.625V11.875C17.5001 13.2475 16.6151 14.4125 15.3851 14.8337V15.2887C15.3851 15.7075 15.2388 16.2425 14.8951 16.6838C14.5338 17.1488 13.9601 17.5 13.1738 17.5H5.96134C5.50582 17.5032 5.05421 17.4157 4.63276 17.2428C4.21131 17.0699 3.82844 16.815 3.50638 16.4928C3.18433 16.1707 2.92952 15.7877 2.75677 15.3662C2.58402 14.9447 2.49677 14.493 2.50009 14.0375V6.82875C2.50009 6.1425 2.74634 5.57125 3.18259 5.175C3.60759 4.78875 4.16384 4.61625 4.71134 4.61625L5.16634 4.615ZM5.00009 5.865H4.71259C4.46122 5.85373 4.21483 5.93765 4.02259 6.1C3.87509 6.23375 3.75009 6.455 3.75009 6.8275V14.0387C3.75009 15.28 4.72009 16.2513 5.96259 16.2513H13.1738C13.5476 16.2513 13.7663 16.1 13.9088 15.9163C14.0455 15.7346 14.124 15.5158 14.1338 15.2887V15H8.12509C7.29629 15 6.50143 14.6708 5.91538 14.0847C5.32933 13.4987 5.00009 12.7038 5.00009 11.875V5.865ZM10.0001 7.5H11.6163L8.30759 10.8075C8.24948 10.8656 8.20339 10.9346 8.17194 11.0105C8.14049 11.0864 8.1243 11.1678 8.1243 11.25C8.1243 11.3322 8.14049 11.4136 8.17194 11.4895C8.20339 11.5654 8.24948 11.6344 8.30759 11.6925C8.3657 11.7506 8.43469 11.7967 8.51061 11.8282C8.58654 11.8596 8.66791 11.8758 8.75009 11.8758C8.83227 11.8758 8.91365 11.8596 8.98957 11.8282C9.0655 11.7967 9.13448 11.7506 9.19259 11.6925L12.5001 8.38375V10C12.5001 10.1658 12.5659 10.3247 12.6831 10.4419C12.8004 10.5592 12.9593 10.625 13.1251 10.625C13.2909 10.625 13.4498 10.5592 13.567 10.4419C13.6842 10.3247 13.7501 10.1658 13.7501 10V6.875C13.7501 6.70924 13.6842 6.55027 13.567 6.43306C13.4498 6.31585 13.2909 6.25 13.1251 6.25H10.0001C9.83433 6.25 9.67536 6.31585 9.55815 6.43306C9.44094 6.55027 9.37509 6.70924 9.37509 6.875C9.37509 7.04076 9.44094 7.19973 9.55815 7.31694C9.67536 7.43415 9.83433 7.5 10.0001 7.5Z",fill:s,fillOpacity:r})}),CT=({isOpen:e,onOpenChange:n,previewUrl:s})=>{const{isMobile:r}=ts(),[i,a]=d.useState(""),[o,l]=d.useState(""),[c,u]=d.useState(!1),[p,f]=d.useState(!1),[m,h]=d.useState(!1),[x,g]=d.useState(!0),v=C=>{!C&&!x||(h(C),g(!C))},b=C=>{!C&&!m||(g(C),h(!C))},w=`exp://${s?.replace(/^https:\/\//,"").split(".")[0]}.ngrok.io`,_="https://expo.dev/client";d.useEffect(()=>{e&&(w&&(u(!0),a5.toDataURL(w,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(C=>{a(C)}).catch(C=>{}).finally(()=>{u(!1)})),f(!0),a5.toDataURL(_,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(C=>{l(C)}).catch(C=>{}).finally(()=>{f(!1)}))},[e,w,_]);const N=({showHeader:C=!1}={})=>t.jsxs("div",{className:"relative space-y-6",children:[C&&t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx(Lo,{className:"text-xl font-medium text-white",children:"Preview on your phone"}),t.jsx(xh,{className:"text-sm text-[#9CA3AF]",children:"Download Expo Go app to see your app in your phone or just directly scan the preview QR to see it in your native browser"})]}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs(kp,{open:m,onOpenChange:v,className:"bg-[#202021] rounded-lg overflow-hidden",children:[t.jsxs(Ip,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M2 15C2 14.4477 2.44772 14 3 14C3.55228 14 4 14.4477 4 15C4 17.2091 5.79087 19 8 19H16C18.2091 19 20 17.2091 20 15C20 14.4477 20.4477 14 21 14C21.5523 14 22 14.4477 22 15C22 18.3137 19.3137 21 16 21H8C4.68629 21 2 18.3137 2 15ZM11 4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V12.9844C13.4293 12.5461 13.8312 12.0809 14.2002 11.5889C14.5315 11.1471 15.1578 11.0574 15.5996 11.3887C16.0414 11.72 16.131 12.3463 15.7998 12.7881C15.0103 13.8408 14.0944 14.7917 13.0732 15.6191V15.6201C12.761 15.873 12.3801 16 12 16C11.6199 16 11.239 15.873 10.9268 15.6201V15.6191C10.0333 14.8951 9.22012 14.0772 8.50195 13.1787L8.2002 12.7881L8.14258 12.7031C7.88133 12.269 7.98631 11.6992 8.40039 11.3887C8.81456 11.0782 9.39089 11.1372 9.73438 11.5098L9.7998 11.5889L10.0645 11.9297C10.3583 12.2973 10.6712 12.6487 11 12.9844V4Z",fill:"white",fillOpacity:"0.8"})}),"Download Expo Go App"]}),t.jsx("svg",{className:`w-5 h-5 text-[#9CA3AF] transition-transform duration-200 ${m?"":"-rotate-90"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx(Tp,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:t.jsxs("div",{className:"space-y-4 p-5 pt-0",children:[t.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code to install the Expo Go app from the Play Store."}),t.jsx("div",{className:"flex items-center rounded-lg p-4 px-0",children:t.jsxs("div",{className:"flex items-center w-full justify-between space-x-2",children:[t.jsx("div",{className:"bg-[#FFFFFF08] rounded-lg justify-center items-center flex flex-1 p-4",children:p?t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-[#FFFFFF08] rounded",children:t.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."})}):o?t.jsx("img",{src:o,alt:"QR Code for Expo Go download",className:"w-48 h-48 rounded-lg opacity-80"}):t.jsx("div",{className:"w-16 h-16 bg-black flex items-center justify-center text-white text-xs",children:"QR Code"})}),t.jsxs("div",{className:"flex flex-col space-y-4 justify-center items-center h-full rounded-2xl border border-1 border-white/5 p-4",children:[t.jsx("div",{className:"rounded-[10px] h-full w-full bg-gradient-to-b from-white/[0.02] to-white/0 flex items-center justify-center min-h-[144px]",children:t.jsx(vT,{width:71,height:20})}),t.jsx("a",{href:"https://expo.dev/client",target:"_blank",rel:"noopener noreferrer",children:t.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[10px] flex space-x-2 items-center justify-center py-[10px] px-4",children:[t.jsx("p",{className:"text-white/80 font-medium text-sm",children:"Download Expo Go"}),t.jsx(wT,{width:16,height:16})]})})]})]})})]})})]}),t.jsxs(kp,{open:x,onOpenChange:b,className:"bg-[#202021] rounded-lg overflow-hidden",children:[t.jsxs(Ip,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[t.jsx(x8,{color:"white"}),"Preview QR Code"]}),t.jsx("svg",{className:`w-5 h-5 text-[#9CA3AF] transition-transform duration-200 ${x?"rotate-90":"rotate-none"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t.jsx(Tp,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:t.jsxs("div",{className:"p-5 pt-0 flex flex-col items-start space-y-4",children:[t.jsx("div",{className:"text-start space-y-2 w-full",children:t.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code with your camera to preview the app"})}),t.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-lg",children:c?t.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:t.jsx("div",{className:"text-gray-500 text-sm",children:"Generating QR code..."})}):i?t.jsx("img",{src:i,alt:"QR Code for app preview",className:"w-48 h-48 rounded-lg opacity-80"}):t.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:t.jsx("div",{className:"text-gray-500 text-sm",children:"Failed to generate QR code"})})})]})})]})]})]}),j=({showHeader:C=!1}={})=>t.jsxs("div",{className:"relative space-y-6 w-full",children:[C&&t.jsx("div",{className:"flex flex-col space-y-2",children:t.jsx(Lo,{className:"text-xl font-medium text-white",children:"Preview on your phone"})}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs(kp,{open:m,onOpenChange:v,className:"bg-[#202021] rounded-lg overflow-hidden",children:[t.jsxs(Ip,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M2 15C2 14.4477 2.44772 14 3 14C3.55228 14 4 14.4477 4 15C4 17.2091 5.79087 19 8 19H16C18.2091 19 20 17.2091 20 15C20 14.4477 20.4477 14 21 14C21.5523 14 22 14.4477 22 15C22 18.3137 19.3137 21 16 21H8C4.68629 21 2 18.3137 2 15ZM11 4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V12.9844C13.4293 12.5461 13.8312 12.0809 14.2002 11.5889C14.5315 11.1471 15.1578 11.0574 15.5996 11.3887C16.0414 11.72 16.131 12.3463 15.7998 12.7881C15.0103 13.8408 14.0944 14.7917 13.0732 15.6191V15.6201C12.761 15.873 12.3801 16 12 16C11.6199 16 11.239 15.873 10.9268 15.6201V15.6191C10.0333 14.8951 9.22012 14.0772 8.50195 13.1787L8.2002 12.7881L8.14258 12.7031C7.88133 12.269 7.98631 11.6992 8.40039 11.3887C8.81456 11.0782 9.39089 11.1372 9.73438 11.5098L9.7998 11.5889L10.0645 11.9297C10.3583 12.2973 10.6712 12.6487 11 12.9844V4Z",fill:"white",fillOpacity:"0.8"})}),"Download Expo Go App"]}),t.jsx("svg",{className:`w-5 h-5 text-[#9CA3AF] transition-transform duration-200 ${m?"":"-rotate-90"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx(Tp,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:t.jsxs("div",{className:"space-y-4 p-5 pt-0",children:[t.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code to install the Expo Go app from the Play Store."}),t.jsx("div",{className:"flex items-center rounded-lg p-4 px-0",children:t.jsxs("div",{className:"flex items-center w-full justify-between space-x-2",children:[t.jsx("div",{className:"bg-[#FFFFFF08] rounded-lg justify-center items-center flex flex-1 p-4 hidden md:block",children:p?t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-[#FFFFFF08] rounded",children:t.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."})}):o?t.jsx("img",{src:o,alt:"QR Code for Expo Go download",className:"w-48 h-48 rounded-lg opacity-80"}):t.jsx("div",{className:"w-16 h-16 bg-black flex items-center justify-center text-white text-xs",children:"QR Code"})}),t.jsxs("div",{className:"flex flex-col space-y-4 justify-center items-center h-full rounded-2xl border border-1 border-white/5 p-4 w-full",children:[t.jsx("div",{className:"rounded-[10px] h-full w-full bg-gradient-to-b from-white/[0.02] to-white/0 flex items-center justify-center min-h-[144px]",children:t.jsx(vT,{width:71,height:20})}),t.jsx("a",{href:"https://expo.dev/client",target:"_blank",rel:"noopener noreferrer",children:t.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[10px] flex space-x-2 items-center justify-center py-[10px] px-4",children:[t.jsx("p",{className:"text-white/80 font-medium text-sm",children:"Download Expo Go"}),t.jsx(wT,{width:16,height:16})]})})]})]})})]})})]}),t.jsxs(kp,{open:x,onOpenChange:b,className:"bg-[#202021] rounded-lg overflow-hidden",children:[t.jsxs(Ip,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[t.jsx(x8,{color:"white"}),"Preview QR Code"]}),t.jsx("svg",{className:`w-5 h-5 text-[#9CA3AF] transition-transform duration-200 ${x?"rotate-90":"rotate-none"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t.jsx(Tp,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:t.jsxs("div",{className:"p-5 pt-0 flex flex-col items-start space-y-4",children:[t.jsx("div",{className:"text-start space-y-2 w-full",children:t.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code with your camera to preview the app"})}),t.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-lg",children:c?t.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:t.jsx("div",{className:"text-gray-500 text-sm",children:"Generating QR code..."})}):i?t.jsx("img",{src:i,alt:"QR Code for app preview",className:"w-48 h-48 rounded-lg opacity-80"}):t.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:t.jsx("div",{className:"text-gray-500 text-sm",children:"Failed to generate QR code"})})})]})})]})]})]});return r?t.jsx(Fa,{trigger:t.jsx("div",{}),title:"",description:"",open:e,onOpenChange:n,maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"p-0",triggerColor:"bg-white/10",handleColor:"bg-[#fff]/10",children:t.jsx("div",{className:"h-[90dvh] flex flex-col p-4 pt-8 rounded-2xl bg-[#18181A] overflow-y-auto",children:j({showHeader:!0})})}):t.jsx(as,{open:e,onOpenChange:n,children:t.jsxs(Er,{className:"m-4 mx-auto max-w-[calc(100vw-32px)] sm:max-w-xl w-xl bg-[#18181A] border-[#242424] text-white",children:[t.jsxs(lc,{className:"pb-4 bg-[#18181A] space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Lo,{className:"text-[22px] font-medium text-white",children:"Preview on your phone"}),t.jsx("button",{onClick:()=>n(!1),className:"text-[#9CA3AF] hover:text-white transition-colors p-1",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsx(xh,{className:"text-sm text-[#737780]",children:"Download Expo Go app to see your app in your phone or just directly scan the preview QR to see it in your native browser"})]}),t.jsx("div",{className:"px-6 pb-6 pt-5",children:N()})]})})},yl={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},O$=Object.create(null);for(const e in yl)Object.hasOwn(yl,e)&&(O$[yl[e]]=e);const Ui={to:{},get:{}};Ui.get=function(e){const n=e.slice(0,3).toLowerCase();let s,r;switch(n){case"hsl":{s=Ui.get.hsl(e),r="hsl";break}case"hwb":{s=Ui.get.hwb(e),r="hwb";break}default:{s=Ui.get.rgb(e),r="rgb";break}}return s?{model:r,value:s}:null};Ui.get.rgb=function(e){if(!e)return null;const n=/^#([a-f\d]{3,4})$/i,s=/^#([a-f\d]{6})([a-f\d]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,a=/^(\w+)$/;let o=[0,0,0,1],l,c,u;if(l=e.match(s)){for(u=l[2],l=l[1],c=0;c<3;c++){const p=c*2;o[c]=Number.parseInt(l.slice(p,p+2),16)}u&&(o[3]=Number.parseInt(u,16)/255)}else if(l=e.match(n)){for(l=l[1],u=l[3],c=0;c<3;c++)o[c]=Number.parseInt(l[c]+l[c],16);u&&(o[3]=Number.parseInt(u+u,16)/255)}else if(l=e.match(r)){for(c=0;c<3;c++)o[c]=Number.parseInt(l[c+1],10);l[4]&&(o[3]=l[5]?Number.parseFloat(l[4])*.01:Number.parseFloat(l[4]))}else if(l=e.match(i)){for(c=0;c<3;c++)o[c]=Math.round(Number.parseFloat(l[c+1])*2.55);l[4]&&(o[3]=l[5]?Number.parseFloat(l[4])*.01:Number.parseFloat(l[4]))}else return(l=e.match(a))?l[1]==="transparent"?[0,0,0,0]:Object.hasOwn(yl,l[1])?(o=yl[l[1]],o[3]=1,o):null:null;for(c=0;c<3;c++)o[c]=Kc(o[c],0,255);return o[3]=Kc(o[3],0,1),o};Ui.get.hsl=function(e){if(!e)return null;const n=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,s=e.match(n);if(s){const r=Number.parseFloat(s[4]),i=(Number.parseFloat(s[1])%360+360)%360,a=Kc(Number.parseFloat(s[2]),0,100),o=Kc(Number.parseFloat(s[3]),0,100),l=Kc(Number.isNaN(r)?1:r,0,1);return[i,a,o,l]}return null};Ui.get.hwb=function(e){if(!e)return null;const n=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,s=e.match(n);if(s){const r=Number.parseFloat(s[4]),i=(Number.parseFloat(s[1])%360+360)%360,a=Kc(Number.parseFloat(s[2]),0,100),o=Kc(Number.parseFloat(s[3]),0,100),l=Kc(Number.isNaN(r)?1:r,0,1);return[i,a,o,l]}return null};Ui.to.hex=function(...e){return"#"+Tx(e[0])+Tx(e[1])+Tx(e[2])+(e[3]<1?Tx(Math.round(e[3]*255)):"")};Ui.to.rgb=function(...e){return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Ui.to.rgb.percent=function(...e){const n=Math.round(e[0]/255*100),s=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+n+"%, "+s+"%, "+r+"%)":"rgba("+n+"%, "+s+"%, "+r+"%, "+e[3]+")"};Ui.to.hsl=function(...e){return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Ui.to.hwb=function(...e){let n="";return e.length>=4&&e[3]!==1&&(n=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+n+")"};Ui.to.keyword=function(...e){return O$[e.slice(0,3)]};function Kc(e,n,s){return Math.min(Math.max(n,e),s)}function Tx(e){const n=Math.round(e).toString(16).toUpperCase();return n.length<2?"0"+n:n}const B$={};for(const e of Object.keys(yl))B$[yl[e]]=e;const ln={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},Ql=(6/29)**3;function Kp(e){const n=e>.0031308?1.055*e**.4166666666666667-.055:e*12.92;return Math.min(Math.max(0,n),1)}function Yp(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}for(const e of Object.keys(ln)){if(!("channels"in ln[e]))throw new Error("missing channels property: "+e);if(!("labels"in ln[e]))throw new Error("missing channel labels property: "+e);if(ln[e].labels.length!==ln[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:n,labels:s}=ln[e];delete ln[e].channels,delete ln[e].labels,Object.defineProperty(ln[e],"channels",{value:n}),Object.defineProperty(ln[e],"labels",{value:s})}ln.rgb.hsl=function(e){const n=e[0]/255,s=e[1]/255,r=e[2]/255,i=Math.min(n,s,r),a=Math.max(n,s,r),o=a-i;let l,c;switch(a){case i:{l=0;break}case n:{l=(s-r)/o;break}case s:{l=2+(r-n)/o;break}case r:{l=4+(n-s)/o;break}}l=Math.min(l*60,360),l<0&&(l+=360);const u=(i+a)/2;return a===i?c=0:u<=.5?c=o/(a+i):c=o/(2-a-i),[l,c*100,u*100]};ln.rgb.hsv=function(e){let n,s,r,i,a;const o=e[0]/255,l=e[1]/255,c=e[2]/255,u=Math.max(o,l,c),p=u-Math.min(o,l,c),f=function(m){return(u-m)/6/p+1/2};if(p===0)i=0,a=0;else{switch(a=p/u,n=f(o),s=f(l),r=f(c),u){case o:{i=r-s;break}case l:{i=1/3+n-r;break}case c:{i=2/3+s-n;break}}i<0?i+=1:i>1&&(i-=1)}return[i*360,a*100,u*100]};ln.rgb.hwb=function(e){const n=e[0],s=e[1];let r=e[2];const i=ln.rgb.hsl(e)[0],a=1/255*Math.min(n,Math.min(s,r));return r=1-1/255*Math.max(n,Math.max(s,r)),[i,a*100,r*100]};ln.rgb.oklab=function(e){const n=Yp(e[0]/255),s=Yp(e[1]/255),r=Yp(e[2]/255),i=Math.cbrt(.4122214708*n+.5363325363*s+.0514459929*r),a=Math.cbrt(.2119034982*n+.6806995451*s+.1073969566*r),o=Math.cbrt(.0883024619*n+.2817188376*s+.6299787005*r),l=.2104542553*i+.793617785*a-.0040720468*o,c=1.9779984951*i-2.428592205*a+.4505937099*o,u=.0259040371*i+.7827717662*a-.808675766*o;return[l*100,c*100,u*100]};ln.rgb.cmyk=function(e){const n=e[0]/255,s=e[1]/255,r=e[2]/255,i=Math.min(1-n,1-s,1-r),a=(1-n-i)/(1-i)||0,o=(1-s-i)/(1-i)||0,l=(1-r-i)/(1-i)||0;return[a*100,o*100,l*100,i*100]};function Fwe(e,n){return(e[0]-n[0])**2+(e[1]-n[1])**2+(e[2]-n[2])**2}ln.rgb.keyword=function(e){const n=B$[e];if(n)return n;let s=Number.POSITIVE_INFINITY,r;for(const i of Object.keys(yl)){const a=yl[i],o=Fwe(e,a);o<s&&(s=o,r=i)}return r};ln.keyword.rgb=function(e){return yl[e]};ln.rgb.xyz=function(e){const n=Yp(e[0]/255),s=Yp(e[1]/255),r=Yp(e[2]/255),i=n*.4124564+s*.3575761+r*.1804375,a=n*.2126729+s*.7151522+r*.072175,o=n*.0193339+s*.119192+r*.9503041;return[i*100,a*100,o*100]};ln.rgb.lab=function(e){const n=ln.rgb.xyz(e);let s=n[0],r=n[1],i=n[2];s/=95.047,r/=100,i/=108.883,s=s>Ql?s**(1/3):7.787*s+16/116,r=r>Ql?r**(1/3):7.787*r+16/116,i=i>Ql?i**(1/3):7.787*i+16/116;const a=116*r-16,o=500*(s-r),l=200*(r-i);return[a,o,l]};ln.hsl.rgb=function(e){const n=e[0]/360,s=e[1]/100,r=e[2]/100;let i,a;if(s===0)return a=r*255,[a,a,a];const o=r<.5?r*(1+s):r+s-r*s,l=2*r-o,c=[0,0,0];for(let u=0;u<3;u++)i=n+1/3*-(u-1),i<0&&i++,i>1&&i--,6*i<1?a=l+(o-l)*6*i:2*i<1?a=o:3*i<2?a=l+(o-l)*(2/3-i)*6:a=l,c[u]=a*255;return c};ln.hsl.hsv=function(e){const n=e[0];let s=e[1]/100,r=e[2]/100,i=s;const a=Math.max(r,.01);r*=2,s*=r<=1?r:2-r,i*=a<=1?a:2-a;const o=(r+s)/2,l=r===0?2*i/(a+i):2*s/(r+s);return[n,l*100,o*100]};ln.hsv.rgb=function(e){const n=e[0]/60,s=e[1]/100;let r=e[2]/100;const i=Math.floor(n)%6,a=n-Math.floor(n),o=255*r*(1-s),l=255*r*(1-s*a),c=255*r*(1-s*(1-a));switch(r*=255,i){case 0:return[r,c,o];case 1:return[l,r,o];case 2:return[o,r,c];case 3:return[o,l,r];case 4:return[c,o,r];case 5:return[r,o,l]}};ln.hsv.hsl=function(e){const n=e[0],s=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let a,o;o=(2-s)*r;const l=(2-s)*i;return a=s*i,a/=l<=1?l:2-l,a=a||0,o/=2,[n,a*100,o*100]};ln.hwb.rgb=function(e){const n=e[0]/360;let s=e[1]/100,r=e[2]/100;const i=s+r;let a;i>1&&(s/=i,r/=i);const o=Math.floor(6*n),l=1-r;a=6*n-o,(o&1)!==0&&(a=1-a);const c=s+a*(l-s);let u,p,f;switch(o){default:case 6:case 0:{u=l,p=c,f=s;break}case 1:{u=c,p=l,f=s;break}case 2:{u=s,p=l,f=c;break}case 3:{u=s,p=c,f=l;break}case 4:{u=c,p=s,f=l;break}case 5:{u=l,p=s,f=c;break}}return[u*255,p*255,f*255]};ln.cmyk.rgb=function(e){const n=e[0]/100,s=e[1]/100,r=e[2]/100,i=e[3]/100,a=1-Math.min(1,n*(1-i)+i),o=1-Math.min(1,s*(1-i)+i),l=1-Math.min(1,r*(1-i)+i);return[a*255,o*255,l*255]};ln.xyz.rgb=function(e){const n=e[0]/100,s=e[1]/100,r=e[2]/100;let i,a,o;return i=n*3.2404542+s*-1.5371385+r*-.4985314,a=n*-.969266+s*1.8760108+r*.041556,o=n*.0556434+s*-.2040259+r*1.0572252,i=Kp(i),a=Kp(a),o=Kp(o),[i*255,a*255,o*255]};ln.xyz.lab=function(e){let n=e[0],s=e[1],r=e[2];n/=95.047,s/=100,r/=108.883,n=n>Ql?n**(1/3):7.787*n+16/116,s=s>Ql?s**(1/3):7.787*s+16/116,r=r>Ql?r**(1/3):7.787*r+16/116;const i=116*s-16,a=500*(n-s),o=200*(s-r);return[i,a,o]};ln.xyz.oklab=function(e){const n=e[0]/100,s=e[1]/100,r=e[2]/100,i=Math.cbrt(.8189330101*n+.3618667424*s-.1288597137*r),a=Math.cbrt(.0329845436*n+.9293118715*s+.0361456387*r),o=Math.cbrt(.0482003018*n+.2643662691*s+.633851707*r),l=.2104542553*i+.793617785*a-.0040720468*o,c=1.9779984951*i-2.428592205*a+.4505937099*o,u=.0259040371*i+.7827717662*a-.808675766*o;return[l*100,c*100,u*100]};ln.oklab.oklch=function(e){return ln.lab.lch(e)};ln.oklab.xyz=function(e){const n=e[0]/100,s=e[1]/100,r=e[2]/100,i=(.999999998*n+.396337792*s+.215803758*r)**3,a=(1.000000008*n-.105561342*s-.063854175*r)**3,o=(1.000000055*n-.089484182*s-1.291485538*r)**3,l=1.227013851*i-.55779998*a+.281256149*o,c=-.040580178*i+1.11225687*a-.071676679*o,u=-.076381285*i-.421481978*a+1.58616322*o;return[l*100,c*100,u*100]};ln.oklab.rgb=function(e){const n=e[0]/100,s=e[1]/100,r=e[2]/100,i=(n+.3963377774*s+.2158037573*r)**3,a=(n-.1055613458*s-.0638541728*r)**3,o=(n-.0894841775*s-1.291485548*r)**3,l=Kp(4.0767416621*i-3.3077115913*a+.2309699292*o),c=Kp(-1.2684380046*i+2.6097574011*a-.3413193965*o),u=Kp(-.0041960863*i-.7034186147*a+1.707614701*o);return[l*255,c*255,u*255]};ln.oklch.oklab=function(e){return ln.lch.lab(e)};ln.lab.xyz=function(e){const n=e[0],s=e[1],r=e[2];let i,a,o;a=(n+16)/116,i=s/500+a,o=a-r/200;const l=a**3,c=i**3,u=o**3;return a=l>Ql?l:(a-16/116)/7.787,i=c>Ql?c:(i-16/116)/7.787,o=u>Ql?u:(o-16/116)/7.787,i*=95.047,a*=100,o*=108.883,[i,a,o]};ln.lab.lch=function(e){const n=e[0],s=e[1],r=e[2];let i;i=Math.atan2(r,s)*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(s*s+r*r);return[n,o,i]};ln.lch.lab=function(e){const n=e[0],s=e[1],i=e[2]/360*2*Math.PI,a=s*Math.cos(i),o=s*Math.sin(i);return[n,a,o]};ln.rgb.ansi16=function(e,n=null){const[s,r,i]=e;let a=n===null?ln.rgb.hsv(e)[2]:n;if(a=Math.round(a/50),a===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(s/255));return a===2&&(o+=60),o};ln.hsv.ansi16=function(e){return ln.rgb.ansi16(ln.hsv.rgb(e),e[2])};ln.rgb.ansi256=function(e){const n=e[0],s=e[1],r=e[2];return n>>4===s>>4&&s>>4===r>>4?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(s/255*5)+Math.round(r/255*5)};ln.ansi16.rgb=function(e){e=e[0];let n=e%10;if(n===0||n===7)return e>50&&(n+=3.5),n=n/10.5*255,[n,n,n];const s=(Math.trunc(e>50)+1)*.5,r=(n&1)*s*255,i=(n>>1&1)*s*255,a=(n>>2&1)*s*255;return[r,i,a]};ln.ansi256.rgb=function(e){if(e=e[0],e>=232){const a=(e-232)*10+8;return[a,a,a]}e-=16;let n;const s=Math.floor(e/36)/5*255,r=Math.floor((n=e%36)/6)/5*255,i=n%6/5*255;return[s,r,i]};ln.rgb.hex=function(e){const s=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".slice(s.length)+s};ln.hex.rgb=function(e){const n=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!n)return[0,0,0];let s=n[0];n[0].length===3&&(s=[...s].map(l=>l+l).join(""));const r=Number.parseInt(s,16),i=r>>16&255,a=r>>8&255,o=r&255;return[i,a,o]};ln.rgb.hcg=function(e){const n=e[0]/255,s=e[1]/255,r=e[2]/255,i=Math.max(Math.max(n,s),r),a=Math.min(Math.min(n,s),r),o=i-a;let l;const c=o<1?a/(1-o):0;return o<=0?l=0:i===n?l=(s-r)/o%6:i===s?l=2+(r-n)/o:l=4+(n-s)/o,l/=6,l%=1,[l*360,o*100,c*100]};ln.hsl.hcg=function(e){const n=e[1]/100,s=e[2]/100,r=s<.5?2*n*s:2*n*(1-s);let i=0;return r<1&&(i=(s-.5*r)/(1-r)),[e[0],r*100,i*100]};ln.hsv.hcg=function(e){const n=e[1]/100,s=e[2]/100,r=n*s;let i=0;return r<1&&(i=(s-r)/(1-r)),[e[0],r*100,i*100]};ln.hcg.rgb=function(e){const n=e[0]/360,s=e[1]/100,r=e[2]/100;if(s===0)return[r*255,r*255,r*255];const i=[0,0,0],a=n%1*6,o=a%1,l=1-o;let c=0;switch(Math.floor(a)){case 0:{i[0]=1,i[1]=o,i[2]=0;break}case 1:{i[0]=l,i[1]=1,i[2]=0;break}case 2:{i[0]=0,i[1]=1,i[2]=o;break}case 3:{i[0]=0,i[1]=l,i[2]=1;break}case 4:{i[0]=o,i[1]=0,i[2]=1;break}default:i[0]=1,i[1]=0,i[2]=l}return c=(1-s)*r,[(s*i[0]+c)*255,(s*i[1]+c)*255,(s*i[2]+c)*255]};ln.hcg.hsv=function(e){const n=e[1]/100,s=e[2]/100,r=n+s*(1-n);let i=0;return r>0&&(i=n/r),[e[0],i*100,r*100]};ln.hcg.hsl=function(e){const n=e[1]/100,r=e[2]/100*(1-n)+.5*n;let i=0;return r>0&&r<.5?i=n/(2*r):r>=.5&&r<1&&(i=n/(2*(1-r))),[e[0],i*100,r*100]};ln.hcg.hwb=function(e){const n=e[1]/100,s=e[2]/100,r=n+s*(1-n);return[e[0],(r-n)*100,(1-r)*100]};ln.hwb.hcg=function(e){const n=e[1]/100,r=1-e[2]/100,i=r-n;let a=0;return i<1&&(a=(r-i)/(1-i)),[e[0],i*100,a*100]};ln.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};ln.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};ln.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};ln.gray.hsl=function(e){return[0,0,e[0]]};ln.gray.hsv=ln.gray.hsl;ln.gray.hwb=function(e){return[0,100,e[0]]};ln.gray.cmyk=function(e){return[0,0,0,e[0]]};ln.gray.lab=function(e){return[e[0],0,0]};ln.gray.hex=function(e){const n=Math.round(e[0]/100*255)&255,r=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return"000000".slice(r.length)+r};ln.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};function Ewe(){const e={},n=Object.keys(ln);for(let{length:s}=n,r=0;r<s;r++)e[n[r]]={distance:-1,parent:null};return e}function Swe(e){const n=Ewe(),s=[e];for(n[e].distance=0;s.length>0;){const r=s.pop(),i=Object.keys(ln[r]);for(let{length:a}=i,o=0;o<a;o++){const l=i[o],c=n[l];c.distance===-1&&(c.distance=n[r].distance+1,c.parent=r,s.unshift(l))}}return n}function kwe(e,n){return function(s){return n(e(s))}}function Iwe(e,n){const s=[n[e].parent,e];let r=ln[n[e].parent][e],i=n[e].parent;for(;n[i].parent;)s.unshift(n[i].parent),r=kwe(ln[n[i].parent][i],r),i=n[i].parent;return r.conversion=s,r}function Twe(e){const n=Swe(e),s={},r=Object.keys(n);for(let{length:i}=r,a=0;a<i;a++){const o=r[a];n[o].parent!==null&&(s[o]=Iwe(o,n))}return s}const Wi={},Awe=Object.keys(ln);function Dwe(e){const n=function(...s){const r=s[0];return r==null?r:(r.length>1&&(s=r),e(s))};return"conversion"in e&&(n.conversion=e.conversion),n}function Mwe(e){const n=function(...s){const r=s[0];if(r==null)return r;r.length>1&&(s=r);const i=e(s);if(typeof i=="object")for(let{length:a}=i,o=0;o<a;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(n.conversion=e.conversion),n}for(const e of Awe){Wi[e]={},Object.defineProperty(Wi[e],"channels",{value:ln[e].channels}),Object.defineProperty(Wi[e],"labels",{value:ln[e].labels});const n=Twe(e),s=Object.keys(n);for(const r of s){const i=n[r];Wi[e][r]=Mwe(i),Wi[e][r].raw=Dwe(i)}}const U$=["keyword","gray","hex"],v8={};for(const e of Object.keys(Wi))v8[[...Wi[e].labels].sort().join("")]=e;const J1={};function lr(e,n){if(!(this instanceof lr))return new lr(e,n);if(n&&n in U$&&(n=null),n&&!(n in Wi))throw new Error("Unknown model: "+n);let s,r;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof lr)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const i=Ui.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,r=Wi[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(e.length>0){this.model=n||"rgb",r=Wi[this.model].channels;const i=Array.prototype.slice.call(e,0,r);this.color=w8(i,r),this.valpha=typeof e[r]=="number"?e[r]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(e);"alpha"in e&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const a=i.sort().join("");if(!(a in v8))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=v8[a];const{labels:o}=Wi[this.model],l=[];for(s=0;s<o.length;s++)l.push(e[o[s]]);this.color=w8(l)}if(J1[this.model])for(r=Wi[this.model].channels,s=0;s<r;s++){const i=J1[this.model][s];i&&(this.color[s]=i(this.color[s]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}lr.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let n=this.model in Ui.to?this:this.rgb();n=n.round(typeof e=="number"?e:1);const s=n.valpha===1?n.color:[...n.color,this.valpha];return Ui.to[n.model](...s)},percentString(e){const n=this.rgb().round(typeof e=="number"?e:1),s=n.valpha===1?n.color:[...n.color,this.valpha];return Ui.to.rgb.percent(...s)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:n}=Wi[this.model],{labels:s}=Wi[this.model];for(let r=0;r<n;r++)e[s[r]]=this.color[r];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new lr([...this.color.map(Lwe(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new lr([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:di("rgb",0,Li(255)),green:di("rgb",1,Li(255)),blue:di("rgb",2,Li(255)),hue:di(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:di("hsl",1,Li(100)),lightness:di("hsl",2,Li(100)),saturationv:di("hsv",1,Li(100)),value:di("hsv",2,Li(100)),chroma:di("hcg",1,Li(100)),gray:di("hcg",2,Li(100)),white:di("hwb",1,Li(100)),wblack:di("hwb",2,Li(100)),cyan:di("cmyk",0,Li(100)),magenta:di("cmyk",1,Li(100)),yellow:di("cmyk",2,Li(100)),black:di("cmyk",3,Li(100)),x:di("xyz",0,Li(95.047)),y:di("xyz",1,Li(100)),z:di("xyz",2,Li(108.833)),l:di("lab",0,Li(100)),a:di("lab",1),b:di("lab",2),keyword(e){return e!==void 0?new lr(e):Wi[this.model].keyword(this.color)},hex(e){return e!==void 0?new lr(e):Ui.to.hex(...this.rgb().round().color)},hexa(e){if(e!==void 0)return new lr(e);const n=this.rgb().round().color;let s=Math.round(this.valpha*255).toString(16).toUpperCase();return s.length===1&&(s="0"+s),Ui.to.hex(...n)+s},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,n=[];for(const[s,r]of e.entries()){const i=r/255;n[s]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*n[0]+.7152*n[1]+.0722*n[2]},contrast(e){const n=this.luminosity(),s=e.luminosity();return n>s?(n+.05)/(s+.05):(s+.05)/(n+.05)},level(e){const n=this.contrast(e);return n>=7?"AAA":n>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let n=0;n<3;n++)e.color[n]=255-e.color[n];return e},lighten(e){const n=this.hsl();return n.color[2]+=n.color[2]*e,n},darken(e){const n=this.hsl();return n.color[2]-=n.color[2]*e,n},saturate(e){const n=this.hsl();return n.color[1]+=n.color[1]*e,n},desaturate(e){const n=this.hsl();return n.color[1]-=n.color[1]*e,n},whiten(e){const n=this.hwb();return n.color[1]+=n.color[1]*e,n},blacken(e){const n=this.hwb();return n.color[2]+=n.color[2]*e,n},grayscale(){const e=this.rgb().color,n=e[0]*.3+e[1]*.59+e[2]*.11;return lr.rgb(n,n,n)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const n=this.hsl();let s=n.color[0];return s=(s+e)%360,s=s<0?360+s:s,n.color[0]=s,n},mix(e,n){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const s=e.rgb(),r=this.rgb(),i=n===void 0?.5:n,a=2*i-1,o=s.alpha()-r.alpha(),l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2,c=1-l;return lr.rgb(l*s.red()+c*r.red(),l*s.green()+c*r.green(),l*s.blue()+c*r.blue(),s.alpha()*i+r.alpha()*(1-i))}};for(const e of Object.keys(Wi)){if(U$.includes(e))continue;const{channels:n}=Wi[e];lr.prototype[e]=function(...s){return this.model===e?new lr(this):s.length>0?new lr(s,e):new lr([...Pwe(Wi[this.model][e].raw(this.color)),this.valpha],e)},lr[e]=function(...s){let r=s[0];return typeof r=="number"&&(r=w8(s,n)),new lr(r,e)}}function Rwe(e,n){return Number(e.toFixed(n))}function Lwe(e){return function(n){return Rwe(n,e)}}function di(e,n,s){e=Array.isArray(e)?e:[e];for(const r of e)(J1[r]||(J1[r]=[]))[n]=s;return e=e[0],function(r){let i;return r!==void 0?(s&&(r=s(r)),i=this[e](),i.color[n]=r,i):(i=this[e]().color[n],s&&(i=s(i)),i)}}function Li(e){return function(n){return Math.max(0,Math.min(e,n))}}function Pwe(e){return Array.isArray(e)?e:[e]}function w8(e,n){for(let s=0;s<n;s++)typeof e[s]!="number"&&(e[s]=0);return e}const H$=d.createContext(void 0),Gf=()=>{const e=d.useContext(H$);if(!e)throw new Error("useColorPicker must be used within a ColorPickerProvider");return e},Owe=({value:e,defaultValue:n="#000000",onChange:s,className:r,...i})=>{const[a,o]=d.useState(()=>e?lr(e).hue()||0:n&&lr(n).hue()||0),[l,c]=d.useState(()=>e?lr(e).saturationl()||0:n&&lr(n).saturationl()||0),[u,p]=d.useState(()=>e?lr(e).lightness()||0:n&&lr(n).lightness()||0),[f,m]=d.useState(()=>e?lr(e).alpha()*100:n?lr(n).alpha()*100:100),[h,x]=d.useState("hex"),g=d.useRef(!1),v=d.useRef(e);d.useEffect(()=>{if(!e||v.current===e)return;const y=lr(e),[w,_,N]=y.hsl().array(),j=(y.alpha()||1)*100;g.current=!0,o(w||0),c(_||0),p(N||0),m(j),v.current=e},[e]),d.useLayoutEffect(()=>{g.current&&(g.current=!1)},[a,l,u,f]);const b=d.useRef(s);return d.useEffect(()=>{b.current=s},[s]),d.useEffect(()=>{if(g.current||!b.current)return;const w=lr.hsl(a,l,u).alpha(f/100).rgb().array();b.current([w[0],w[1],w[2],f/100])},[a,l,u,f]),t.jsx(H$.Provider,{value:{hue:a,saturation:l,lightness:u,alpha:f,mode:h,setHue:o,setSaturation:c,setLightness:p,setAlpha:m,setMode:x},children:t.jsx("div",{className:k("flex size-full flex-col gap-4",r),...i})})},V$=d.memo(({className:e,...n})=>{const s=d.useRef(null),[r,i]=d.useState(!1),[a,o]=d.useState(0),[l,c]=d.useState(0),{hue:u,saturation:p,lightness:f,setSaturation:m,setLightness:h}=Gf();d.useEffect(()=>{const v=p/100,b=v<.01?100:50+50*(1-v),y=b>0?1-f/b:0;o(Math.max(0,Math.min(1,v))),c(Math.max(0,Math.min(1,y)))},[p,f]);const x=d.useMemo(()=>`linear-gradient(0deg, rgba(0,0,0,1), rgba(0,0,0,0)),
            linear-gradient(90deg, rgba(255,255,255,1), rgba(255,255,255,0)),
            hsl(${u}, 100%, 50%)`,[u]),g=d.useCallback(v=>{if(!(r&&s.current))return;const b=s.current.getBoundingClientRect(),y=Math.max(0,Math.min(1,(v.clientX-b.left)/b.width)),w=Math.max(0,Math.min(1,(v.clientY-b.top)/b.height));o(y),c(w),m(y*100);const N=(y<.01?100:50+50*(1-y))*(1-w);h(N)},[r,m,h]);return d.useEffect(()=>{const v=()=>i(!1);return r&&(window.addEventListener("pointermove",g),window.addEventListener("pointerup",v)),()=>{window.removeEventListener("pointermove",g),window.removeEventListener("pointerup",v)}},[r,g]),t.jsx("div",{className:k("relative size-full cursor-crosshair rounded",e),onPointerDown:v=>{v.preventDefault(),i(!0),g(v.nativeEvent)},ref:s,style:{background:x},...n,children:t.jsx("div",{className:"-translate-x-1/2 -translate-y-1/2 pointer-events-none absolute h-4 w-4 rounded-full border-2 border-white",style:{left:`${a*100}%`,top:`${l*100}%`,boxShadow:"0 0 0 1px rgba(0,0,0,0.5)"}})})});V$.displayName="ColorPickerSelection";const Bwe=({className:e,...n})=>{const{hue:s,setHue:r}=Gf();return t.jsxs(BM,{className:k("relative flex h-4 w-full touch-none",e),max:360,onValueChange:([i])=>r(i),step:1,value:[s],...n,children:[t.jsx(UM,{className:"relative my-0.5 h-3 w-full grow rounded-full bg-[linear-gradient(90deg,#FF0000,#FFFF00,#00FF00,#00FFFF,#0000FF,#FF00FF,#FF0000)]",children:t.jsx(HM,{className:"absolute h-full"})}),t.jsx(VM,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})},Uwe=({className:e,...n})=>{const{alpha:s,setAlpha:r}=Gf();return t.jsxs(BM,{className:k("relative flex h-4 w-full touch-none",e),max:100,onValueChange:([i])=>r(i),step:1,value:[s],...n,children:[t.jsxs(UM,{className:"relative my-0.5 h-3 w-full grow rounded-full bg-[url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==')] bg-center bg-repeat-x dark:bg-[url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALklEQVR4nGP8+vWrCAMewM3N/QafPBM+SWLAqAGDwQBGQgoIpZOB98KoAVQwAADxzQcSVIRCfQAAAABJRU5ErkJggg==')]",children:[t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent to-black/50 dark:to-white/50"}),t.jsx(HM,{className:"absolute h-full rounded-full bg-transparent"})]}),t.jsx(VM,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})},Hwe=({className:e,...n})=>{const{setHue:s,setSaturation:r,setLightness:i,setAlpha:a}=Gf(),o=async()=>{try{const c=await new EyeDropper().open(),u=lr(c.sRGBHex),[p,f,m]=u.hsl().array();s(p),r(f),i(m),a(100)}catch{}};return t.jsx(zt,{className:k("shrink-0 text-muted-foreground",e),onClick:o,size:"icon",type:"button",variant:"outline",...n,children:t.jsx(Pme,{size:16})})},Vwe=["hex","rgb"],$we=({className:e,...n})=>{const{mode:s,setMode:r}=Gf();return t.jsxs(Tu,{onValueChange:r,value:s,children:[t.jsx(ld,{className:"h-8 w-20 shrink-0 text-xs",...n,children:t.jsx(Au,{placeholder:"Mode"})}),t.jsx(cd,{children:Vwe.map(i=>t.jsx(wo,{className:"text-xs",value:i,children:i.toUpperCase()},i))})]})},my=({className:e,...n})=>t.jsxs("div",{className:"relative",children:[t.jsx(Gi,{readOnly:!0,type:"text",...n,className:k("h-8 w-[3.25rem] rounded-l-none bg-secondary px-2 text-xs shadow-none",e)}),t.jsx("span",{className:"-translate-y-1/2 absolute top-1/2 right-2 text-muted-foreground text-xs",children:"%"})]}),zwe=({className:e,...n})=>{const{hue:s,saturation:r,lightness:i,alpha:a,mode:o}=Gf(),l=lr.hsl(s,r,i,a/100);if(o==="hex"){const c=l.hex();return t.jsxs("div",{className:k("-space-x-px relative flex w-full items-center rounded-md shadow-sm",e),...n,children:[t.jsx(Gi,{className:"h-8 rounded-r-none bg-secondary px-2 text-xs shadow-none",readOnly:!0,type:"text",value:c}),t.jsx(my,{value:a})]})}if(o==="rgb"){const c=l.rgb().array().map(u=>Math.round(u));return t.jsxs("div",{className:k("-space-x-px flex items-center rounded-md shadow-sm",e),...n,children:[c.map((u,p)=>t.jsx(Gi,{className:k("h-8 rounded-r-none bg-secondary px-2 text-xs shadow-none",p&&"rounded-l-none",e),readOnly:!0,type:"text",value:u},p)),t.jsx(my,{value:a})]})}if(o==="css"){const c=l.rgb().array().map(u=>Math.round(u));return t.jsx("div",{className:k("w-full rounded-md shadow-sm",e),...n,children:t.jsx(Gi,{className:"h-8 w-full bg-secondary px-2 text-xs shadow-none",readOnly:!0,type:"text",value:`rgba(${c.join(", ")}, ${a}%)`,...n})})}if(o==="hsl"){const c=l.hsl().array().map(u=>Math.round(u));return t.jsxs("div",{className:k("-space-x-px flex items-center rounded-md shadow-sm",e),...n,children:[c.map((u,p)=>t.jsx(Gi,{className:k("h-8 rounded-r-none bg-secondary px-2 text-xs shadow-none",p&&"rounded-l-none",e),readOnly:!0,type:"text",value:u},p)),t.jsx(my,{value:a})]})}return null},Wwe=({value:e,defaultValue:n,onChange:s})=>t.jsxs(Owe,{className:"max-w-sm rounded-md border bg-background p-4 shadow-sm",value:e,defaultValue:n,onChange:s,children:[t.jsx(V$,{}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Hwe,{}),t.jsxs("div",{className:"grid w-full gap-1",children:[t.jsx(Bwe,{}),t.jsx(Uwe,{})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($we,{}),t.jsx(zwe,{})]})]}),$$={none:"0",sm:"2","":"4",md:"6",lg:"8",xl:"12","2xl":"16","3xl":"24",full:"9999"},z$=Object.entries($$).reduce((e,[n,s])=>(e[s]=n,e),{}),Gwe=e=>$$[e]??null,W$=e=>{const n=e.trim();if(!n)return null;const s=Number(n);return Number.isFinite(s)?s===9999?"9999":Number.isInteger(s)?s.toString():null:null},qwe=e=>{const n=W$(e);if(n===null)return null;const s=z$[n];return s===void 0?null:s===""?"rounded":s==="none"?"rounded-none":`rounded-${s}`},Kwe=(e,n)=>{const s=W$(e);if(s===null)return null;const r=z$[s];return r===void 0?null:r===""?`rounded-${n}`:`rounded-${n}-${r}`},_T=e=>{const n=e.trim();return n?/^-?\d+(\.\d+)?$/.test(n)?`${n}px`:n:null},jT=e=>e.split(/\s+/).map(n=>n.trim()).filter(Boolean).sort(),NT=(e,n)=>{const s=jT(e),r=jT(n);return s.length!==r.length?!1:s.every((i,a)=>i===r[a])},Ywe=new Set(["text-xs","text-sm","text-base","text-lg","text-xl","text-2xl","text-3xl","text-4xl","text-5xl","text-6xl","text-7xl","text-8xl","text-9xl","text-left","text-center","text-right","text-justify"]),Zwe=e=>e.startsWith("text-[")||e.startsWith("!text-[")||e.startsWith("text-")&&!Ywe.has(e),Jwe=new Set(["bg-clip-border","bg-clip-content","bg-clip-padding","bg-clip-text","bg-fixed","bg-local","bg-scroll","bg-contain","bg-cover","bg-center","bg-top","bg-bottom","bg-left","bg-right","bg-no-repeat","bg-repeat","bg-repeat-x","bg-repeat-y","bg-repeat-round","bg-repeat-space","bg-origin-border","bg-origin-padding","bg-origin-content","bg-blend-normal","bg-blend-multiply","bg-blend-screen","bg-blend-overlay","bg-blend-darken","bg-blend-lighten","bg-blend-color-dodge","bg-blend-color-burn","bg-blend-hard-light","bg-blend-soft-light","bg-blend-difference","bg-blend-exclusion","bg-blend-hue","bg-blend-saturation","bg-blend-color","bg-blend-luminosity"]),Xwe=e=>e.startsWith("bg-[")||e.startsWith("!bg-[")||e==="bg-transparent"||e==="!bg-transparent"||e.startsWith("bg-")&&!e.startsWith("bg-gradient")&&!Jwe.has(e),Ax=e=>e.split(" ").map(n=>n.trim()).filter(Zwe),Dx=e=>e.split(" ").map(n=>n.trim()).filter(Xwe),Qwe=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M7.2617 10.2438C7.72041 10.2438 8.0923 10.6371 8.09249 11.1219C8.09249 11.6069 7.72053 12 7.2617 12H2.83079C2.37196 12 2 11.6069 2 11.1219C2.00019 10.6371 2.37208 10.2438 2.83079 10.2438H7.2617ZM13.1692 7.12248C13.628 7.12248 14 7.51562 14 8.00057C13.9998 8.48535 13.6279 8.87866 13.1692 8.87866H2.83079C2.37208 8.87866 2.00019 8.48535 2 8.00057C2 7.51562 2.37196 7.12248 2.83079 7.12248H13.1692ZM13.1692 4C13.628 4 14 4.39313 14 4.87809C14 5.36305 13.628 5.75618 13.1692 5.75618H2.83079C2.37196 5.75618 2 5.36305 2 4.87809C2 4.39313 2.37196 4 2.83079 4H13.1692Z",fill:"currentColor"})}),e8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{children:t.jsx("path",{d:"M7.99805 2C11.3116 2 13.998 4.68645 13.998 8C13.998 11.3135 11.3116 14 7.99805 14C4.6845 14 1.99805 11.3135 1.99805 8C1.99805 4.68645 4.6845 2 7.99805 2ZM4.60547 11.3945C5.4739 12.2625 6.67312 12.7998 7.99805 12.7998C10.6489 12.7998 12.7979 10.6508 12.7979 8C12.7979 6.67508 12.2605 5.47586 11.3926 4.60742L4.60547 11.3945Z",fill:"currentColor"})})}),t8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{children:t.jsx("path",{d:"M2 8.14286H7.14286V9.85714H5.42857V15H3.71429V9.85714H2V8.14286ZM14 4.71429H10.6283V15H8.80022V4.71429H5.42857V3H14V4.71429Z",fill:"currentColor"})})}),n8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{children:t.jsx("path",{d:"M3.72247 5.45755L3.17112 5.99358C3.05881 6.10589 2.91853 6.16204 2.75026 6.16204C2.582 6.16204 2.43641 6.10078 2.31348 5.97826C2.20117 5.86595 2.14501 5.72301 2.14501 5.54944C2.14501 5.37587 2.20117 5.23293 2.31348 5.12062L3.90625 3.52785C3.96751 3.46659 4.03387 3.4233 4.10534 3.39798C4.17681 3.37266 4.25339 3.35979 4.33507 3.35938C4.41675 3.35898 4.49332 3.37184 4.56479 3.39798C4.63626 3.42412 4.70263 3.46741 4.76389 3.52785L6.35666 5.12062C6.46897 5.23293 6.52778 5.37342 6.53309 5.54209C6.5384 5.71076 6.47959 5.85615 6.35666 5.97826C6.24435 6.09057 6.10406 6.14938 5.9358 6.15469C5.76754 6.16 5.62194 6.1063 5.49901 5.99358L4.94767 5.45755V10.5422L5.49901 10.0061C5.61132 9.89382 5.75182 9.83766 5.92049 9.83766C6.08916 9.83766 6.23455 9.89892 6.35666 10.0214C6.46897 10.1338 6.52512 10.2767 6.52512 10.4503C6.52512 10.6238 6.46897 10.7668 6.35666 10.8791L4.76389 12.4719C4.70263 12.5331 4.63626 12.5766 4.56479 12.6023C4.49332 12.6281 4.41675 12.6407 4.33507 12.6403C4.25339 12.6399 4.17681 12.6273 4.10534 12.6023C4.03387 12.5774 3.96751 12.5339 3.90625 12.4719L2.31348 10.8791C2.20117 10.7668 2.14236 10.6265 2.13705 10.4582C2.13174 10.29 2.19055 10.1444 2.31348 10.0214C2.42579 9.90913 2.56628 9.85032 2.73495 9.84501C2.90362 9.8397 3.04901 9.89341 3.17112 10.0061L3.72247 10.5422V5.45755ZM8.62329 12.2881C8.44972 12.2881 8.30433 12.2293 8.18712 12.1116C8.0699 11.994 8.0111 11.8486 8.01069 11.6755C8.01028 11.5023 8.06909 11.3569 8.18712 11.2393C8.30514 11.1217 8.45054 11.0629 8.62329 11.0629H13.5241C13.6977 11.0629 13.8433 11.1217 13.9609 11.2393C14.0785 11.3569 14.1371 11.5023 14.1367 11.6755C14.1363 11.8486 14.0775 11.9942 13.9603 12.1123C13.8431 12.2303 13.6977 12.2889 13.5241 12.2881H8.62329ZM8.62329 8.61245C8.44972 8.61245 8.30433 8.55365 8.18712 8.43603C8.0699 8.31841 8.0111 8.17301 8.01069 7.99985C8.01028 7.82669 8.06909 7.6813 8.18712 7.56368C8.30514 7.44606 8.45054 7.38725 8.62329 7.38725H13.5241C13.6977 7.38725 13.8433 7.44606 13.9609 7.56368C14.0785 7.6813 14.1371 7.82669 14.1367 7.99985C14.1363 8.17301 14.0775 8.31861 13.9603 8.43664C13.8431 8.55467 13.6977 8.61327 13.5241 8.61245H8.62329ZM8.62329 4.93684C8.44972 4.93684 8.30433 4.87803 8.18712 4.76041C8.0699 4.64279 8.0111 4.4974 8.01069 4.32423C8.01028 4.15107 8.06909 4.00568 8.18712 3.88806C8.30514 3.77044 8.45054 3.71163 8.62329 3.71163H13.5241C13.6977 3.71163 13.8433 3.77044 13.9609 3.88806C14.0785 4.00568 14.1371 4.15107 14.1367 4.32423C14.1363 4.4974 14.0775 4.64299 13.9603 4.76102C13.8431 4.87905 13.6977 4.93765 13.5241 4.93684H8.62329Z",fill:"currentColor"})})}),s8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M2 8.14286H7.14286V9.85714H5.42857V15H3.71429V9.85714H2V8.14286ZM14 4.71429H10.6283V15H8.80022V4.71429H5.42857V3H14V4.71429Z",fill:"currentColor"})})}),r8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.16602 1.63225C1.16602 1.50912 1.21493 1.39103 1.302 1.30395C1.38907 1.21688 1.50717 1.16797 1.6303 1.16797H13.7017C13.8249 1.16797 13.943 1.21688 14.03 1.30395C14.1171 1.39103 14.166 1.50912 14.166 1.63225C14.166 1.75539 14.1171 1.87348 14.03 1.96055C13.943 2.04762 13.8249 2.09654 13.7017 2.09654H1.6303C1.50717 2.09654 1.38907 2.04762 1.302 1.96055C1.21493 1.87348 1.16602 1.75539 1.16602 1.63225ZM1.16602 13.7037C1.16602 13.5805 1.21493 13.4625 1.302 13.3754C1.38907 13.2883 1.50717 13.2394 1.6303 13.2394H13.7017C13.8249 13.2394 13.943 13.2883 14.03 13.3754C14.1171 13.4625 14.166 13.5805 14.166 13.7037C14.166 13.8268 14.1171 13.9449 14.03 14.032C13.943 14.1191 13.8249 14.168 13.7017 14.168H1.6303C1.50717 14.168 1.38907 14.1191 1.302 14.032C1.21493 13.9449 1.16602 13.8268 1.16602 13.7037ZM4.47544 11.3823H5.41887L6.16544 9.27811H9.1703L9.91687 11.3823H10.8603L8.13216 3.95368H7.20359L4.47544 11.3823ZM8.88616 8.48047L7.69759 5.12833H7.63909L6.44866 8.48047H8.88616Z",fill:"currentColor"})})}),i8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 2C0.632608 2 0.759785 2.05268 0.853553 2.14645C0.947321 2.24021 1 2.36739 1 2.5V13.5C1 13.6326 0.947321 13.7598 0.853553 13.8536C0.759785 13.9473 0.632608 14 0.5 14C0.367392 14 0.240215 13.9473 0.146447 13.8536C0.0526785 13.7598 0 13.6326 0 13.5V2.5C0 2.36739 0.0526785 2.24021 0.146447 2.14645C0.240215 2.05268 0.367392 2 0.5 2ZM15.5 2C15.6326 2 15.7598 2.05268 15.8536 2.14645C15.9473 2.24021 16 2.36739 16 2.5V13.5C16 13.6326 15.9473 13.7598 15.8536 13.8536C15.7598 13.9473 15.6326 14 15.5 14C15.3674 14 15.2402 13.9473 15.1464 13.8536C15.0527 13.7598 15 13.6326 15 13.5V2.5C15 2.36739 15.0527 2.24021 15.1464 2.14645C15.2402 2.05268 15.3674 2 15.5 2ZM4.564 12H5.58L6.384 9.734H9.62L10.424 12H11.44L8.502 4H7.502L4.564 12ZM9.314 8.875L8.034 5.265H7.971L6.689 8.875H9.314Z",fill:"currentColor"})})}),a8e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.248 5.5H18.998V7H18.248H5.74805H4.99805V5.5H5.74805H18.248ZM13.998 10.75H13.248H5.74805H4.99805V12.25H5.74805H13.248H13.998V10.75ZM15.998 16H15.248H5.74805H4.99805V17.5H5.74805H15.248H15.998V16Z",fill:"currentColor"})}),o8e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.248 5.5H18.998V7H18.248H5.74805H4.99805V5.5H5.74805H18.248ZM15.998 10.75H15.248H8.74805H7.99805V12.25H8.74805H15.248H15.998V10.75ZM17.248 16H17.998V17.5H17.248H6.74805H5.99805V16H6.74805H17.248Z",fill:"currentColor"})}),l8e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.74805 5.5H4.99805V7H5.74805H18.248H18.998V5.5H18.248H5.74805ZM10.998 10.75H10.248H18.248H18.998V12.25H18.248H10.248H10.998V10.75ZM8.99805 16H8.24805H18.248H18.998V17.5H18.248H8.24805H8.99805V16Z",fill:"currentColor"})}),c8e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.248 5.5H18.998V7H18.248H5.74805H4.99805V5.5H5.74805H18.248ZM18.998 10.75H18.248H5.74805H4.99805V12.25H5.74805H18.248H18.998V10.75ZM18.248 16H18.998V17.5H18.248H5.74805H4.99805V16H5.74805H18.248Z",fill:"currentColor"})}),d8e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M6 11H18V13H6V11Z",fill:"currentColor"})}),u8e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M17.75 18.375H6.25V16.875H17.75V18.375ZM9.25 11.625C9.25009 12.427 9.54638 13.0518 10.0098 13.4805C10.4788 13.9142 11.164 14.1875 12 14.1875C12.836 14.1875 13.5211 13.9142 13.9902 13.4805C14.4536 13.0518 14.7499 12.427 14.75 11.625V4.625H16.25V11.625C16.2499 12.8225 15.7961 13.8545 15.0098 14.582C14.2289 15.3042 13.1638 15.6875 12 15.6875C10.8362 15.6875 9.77113 15.3042 8.99023 14.582C8.20387 13.8545 7.75009 12.8225 7.75 11.625V4.625H9.25V11.625Z",fill:"currentColor"})}),p8e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.08203C10.1519 4.08203 8.89601 4.70608 8.10921 5.58031C7.34402 6.43052 7.08334 7.45034 7.08334 8.16537C7.08334 8.80112 7.25446 9.4863 7.73035 10.1238C7.82673 10.2529 7.934 10.378 8.05254 10.4987H5.75H5V11.9987H5.75H18.25H19V10.4987H18.25H11.0181L10.5177 10.3011C9.6688 9.9659 9.19511 9.57851 8.93239 9.22655C8.67477 8.88144 8.58334 8.52186 8.58334 8.16537C8.58334 7.76929 8.73934 7.12244 9.22415 6.58376C9.68734 6.0691 10.5148 5.58203 12 5.58203C13.99 5.58203 14.8295 6.45439 15.1785 7.18816L15.5006 7.86545L16.8552 7.22118L16.5331 6.54388C15.9243 5.26401 14.5425 4.08203 12 4.08203ZM16.9167 14.7487V13.9987H15.4167V14.7487C15.4167 15.1478 15.2587 15.8193 14.7686 16.3802C14.302 16.9142 13.4759 17.4154 12 17.4154C10.1395 17.4154 9.27285 16.5389 8.87848 15.7987L8.52584 15.1367L7.20199 15.842L7.55464 16.504C8.18889 17.6945 9.54264 18.9154 12 18.9154C13.8575 18.9154 15.1147 18.2639 15.8981 17.3672C16.658 16.4975 16.9167 15.4608 16.9167 14.7487Z",fill:"currentColor"})}),f8e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.25 5H9H17.75H18.5V6.5H17.75H14.5475L11.0275 17.5H15H15.75V19H15H6.25H5.5V17.5H6.25H9.45254L12.9725 6.5H9H8.25V5Z",fill:"currentColor"})}),m8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14 1V15H12.5V1H14ZM5.00488 5.89746C5.05621 5.39333 5.48232 5 6 5H10L10.1025 5.00488C10.573 5.05278 10.9472 5.42703 10.9951 5.89746L11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6C5.48232 11 5.05621 10.6067 5.00488 10.1025L5 10V6L5.00488 5.89746ZM9.5 9.5V6.5H6.5V9.5H9.5ZM3.5 1V15H2V1H3.5Z",fill:"currentColor"})})}),h8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M15 14H1V12.5H15V14ZM10.1025 5.00488C10.6067 5.05621 11 5.48232 11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6L5.89746 10.9951C5.42703 10.9472 5.05278 10.573 5.00488 10.1025L5 10V6C5 5.48232 5.39333 5.05621 5.89746 5.00488L6 5H10L10.1025 5.00488ZM6.5 9.5H9.5V6.5H6.5V9.5ZM15 3.5H1V2H15V3.5Z",fill:"currentColor"})})}),x8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.9951 14.1025C14.9438 14.6067 14.5177 15 14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2L1.00488 1.89746C1.05278 1.42703 1.42703 1.05278 1.89746 1.00488L2 1H14C14.5177 1 14.9438 1.39333 14.9951 1.89746L15 2V14L14.9951 14.1025ZM2.5 2.5V13.5H13.5V2.5H2.5ZM4.2666 12.375V3.625H5.66699V12.375H4.2666ZM10.333 12.375V3.625H11.7334V12.375H10.333Z",fill:"currentColor"})})}),g8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.1025 1.00488C14.6067 1.05621 15 1.48232 15 2V14L14.9951 14.1025C14.9472 14.573 14.573 14.9472 14.1025 14.9951L14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2C1 1.48232 1.39333 1.05621 1.89746 1.00488L2 1H14L14.1025 1.00488ZM2.5 13.5H13.5V2.5H2.5V13.5ZM12.375 11.7334H3.625V10.333H12.375V11.7334ZM12.375 5.66699H3.625V4.2666H12.375V5.66699Z",fill:"currentColor"})})}),hy=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 5.25V6H2.5V5.25V2.5H5.25H6V1H5.25H2C1.44772 1 1 1.44772 1 2V5.25ZM5.25 14.9994H6V13.4994H5.25H2.5V10.7494V9.99939H1V10.7494V13.9994C1 14.5517 1.44772 14.9994 2 14.9994H5.25ZM15 10V10.75V14C15 14.5523 14.5523 15 14 15H10.75H10V13.5H10.75H13.5V10.75V10H15ZM10.75 1H10V2.5H10.75H13.5V5.25V6H15V5.25V2C15 1.44772 14.5523 1 14 1H10.75Z",fill:"currentColor"})}),Tg=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 1V1.75V5C6 5.55229 5.55228 6 5 6H1.75H1V4.5H1.75H4.5V1.75V1H6ZM14.25 6H15V4.5H14.25H11.5V1.75V1H10V1.75V5C10 5.55228 10.4477 6 11 6H14.25ZM10 14.25V15H11.5V14.25V11.5H14.29H15.04V10H14.29H11C10.4477 10 10 10.4477 10 11V14.25ZM1.75 10H1V11.5H1.75H4.5V14.25V15H6V14.25V11C6 10.4477 5.55229 10 5 10H1.75Z",fill:"currentColor"})}),xy=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M10.1025 5.00488C10.6067 5.05621 11 5.48232 11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6L5.89746 10.9951C5.42703 10.9472 5.05278 10.573 5.00488 10.1025L5 10V6C5 5.48232 5.39333 5.05621 5.89746 5.00488L6 5H10L10.1025 5.00488ZM6.5 9.5H9.5V6.5H6.5V9.5ZM15 3.5H1V2H15V3.5Z",fill:"currentColor"})})}),FT=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M15 14H1V12.5H15V14ZM10.1025 5.00488C10.6067 5.05621 11 5.48232 11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6L5.89746 10.9951C5.42703 10.9472 5.05278 10.573 5.00488 10.1025L5 10V6C5 5.48232 5.39333 5.05621 5.89746 5.00488L6 5H10L10.1025 5.00488ZM6.5 9.5H9.5V6.5H6.5V9.5Z",fill:"currentColor"})})}),ET=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M5.00488 5.89746C5.05621 5.39333 5.48232 5 6 5H10L10.1025 5.00488C10.573 5.05278 10.9472 5.42703 10.9951 5.89746L11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6C5.48232 11 5.05621 10.6067 5.00488 10.1025L5 10V6L5.00488 5.89746ZM9.5 9.5V6.5H6.5V9.5H9.5ZM3.5 1V15H2V1H3.5Z",fill:"currentColor"})})}),ST=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14 1V15H12.5V1H14ZM5.00488 5.89746C5.05621 5.39333 5.48232 5 6 5H10L10.1025 5.00488C10.573 5.05278 10.9472 5.42703 10.9951 5.89746L11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6C5.48232 11 5.05621 10.6067 5.00488 10.1025L5 10V6L5.00488 5.89746ZM9.5 9.5V6.5H6.5V9.5H9.5Z",fill:"currentColor"})})}),b8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.1025 1.00488C14.6067 1.05621 15 1.48232 15 2V14L14.9951 14.1025C14.9472 14.573 14.573 14.9472 14.1025 14.9951L14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2C1 1.48232 1.39333 1.05621 1.89746 1.00488L2 1H14L14.1025 1.00488ZM2.5 13.5H13.5V2.5H2.5V13.5ZM12.375 5.66699H3.625V4.2666H12.375V5.66699Z",fill:"currentColor"})})}),y8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.1025 1.00488C14.6067 1.05621 15 1.48232 15 2V14L14.9951 14.1025C14.9472 14.573 14.573 14.9472 14.1025 14.9951L14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2C1 1.48232 1.39333 1.05621 1.89746 1.00488L2 1H14L14.1025 1.00488ZM2.5 13.5H13.5V2.5H2.5V13.5ZM12.375 11.7334H3.625V10.333H12.375V11.7334Z",fill:"currentColor"})})}),v8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.9951 14.1025C14.9438 14.6067 14.5177 15 14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2L1.00488 1.89746C1.05278 1.42703 1.42703 1.05278 1.89746 1.00488L2 1H14C14.5177 1 14.9438 1.39333 14.9951 1.89746L15 2V14L14.9951 14.1025ZM2.5 2.5V13.5H13.5V2.5H2.5ZM4.2666 12.375V3.625H5.66699V12.375H4.2666Z",fill:"currentColor"})})}),w8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.9951 14.1025C14.9438 14.6067 14.5177 15 14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2L1.00488 1.89746C1.05278 1.42703 1.42703 1.05278 1.89746 1.00488L2 1H14C14.5177 1 14.9438 1.39333 14.9951 1.89746L15 2V14L14.9951 14.1025ZM2.5 2.5V13.5H13.5V2.5H2.5ZM10.333 12.375V3.625H11.7334V12.375H10.333Z",fill:"currentColor"})})}),C8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4444 13.0556C13.4444 13.2702 13.6187 13.4444 13.8333 13.4444H14.2222C14.4285 13.4444 14.6263 13.5264 14.7722 13.6722C14.9181 13.8181 15 14.0159 15 14.2222C15 14.4285 14.9181 14.6263 14.7722 14.7722C14.6263 14.9181 14.4285 15 14.2222 15H13.8333C12.76 15 11.8889 14.1289 11.8889 13.0556V2.94444C11.8889 1.87111 12.76 1 13.8333 1H14.2222C14.4285 1 14.6263 1.08194 14.7722 1.22781C14.9181 1.37367 15 1.5715 15 1.77778C15 1.98406 14.9181 2.18189 14.7722 2.32775C14.6263 2.47361 14.4285 2.55556 14.2222 2.55556H13.8333C13.7302 2.55556 13.6313 2.59653 13.5583 2.66946C13.4854 2.74239 13.4444 2.8413 13.4444 2.94444V13.0556ZM1 14.2222C1 14.0159 1.08194 13.8181 1.22781 13.6722C1.37367 13.5264 1.5715 13.4444 1.77778 13.4444H2.16667C2.26981 13.4444 2.36872 13.4035 2.44165 13.3305C2.51458 13.2576 2.55556 13.1587 2.55556 13.0556V2.94444C2.55556 2.8413 2.51458 2.74239 2.44165 2.66946C2.36872 2.59653 2.26981 2.55556 2.16667 2.55556H1.77778C1.5715 2.55556 1.37367 2.47361 1.22781 2.32775C1.08194 2.18189 1 1.98406 1 1.77778C1 1.5715 1.08194 1.37367 1.22781 1.22781C1.37367 1.08194 1.5715 1 1.77778 1H2.16667C3.24 1 4.11111 1.87111 4.11111 2.94444V13.0556C4.11111 14.1289 3.24 15 2.16667 15H1.77778C1.5715 15 1.37367 14.9181 1.22781 14.7722C1.08194 14.6263 1 14.4285 1 14.2222ZM7.22222 11.1111C7.22222 11.3174 7.30417 11.5152 7.45003 11.6611C7.59589 11.8069 7.79372 11.8889 8 11.8889C8.20628 11.8889 8.40411 11.8069 8.54997 11.6611C8.69583 11.5152 8.77778 11.3174 8.77778 11.1111V4.88889C8.77778 4.68261 8.69583 4.48478 8.54997 4.33892C8.40411 4.19305 8.20628 4.11111 8 4.11111C7.79372 4.11111 7.59589 4.19305 7.45003 4.33892C7.30417 4.48478 7.22222 4.68261 7.22222 4.88889V11.1111Z",fill:"currentColor"})})}),_8e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("g",{opacity:"0.4",clipPath:"url(#clip0_opacity)",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.66667 1.33333H13.3333C13.687 1.33333 14.0261 1.47381 14.2761 1.72386C14.5262 1.97391 14.6667 2.31304 14.6667 2.66667V13.3333C14.6667 13.687 14.5262 14.0261 14.2761 14.2761C14.0261 14.5262 13.687 14.6667 13.3333 14.6667H2.66667C2.31304 14.6667 1.97391 14.5262 1.72386 14.2761C1.47381 14.0261 1.33333 13.687 1.33333 13.3333V2.66667C1.33333 2.31304 1.47381 1.97391 1.72386 1.72386C1.97391 1.47381 2.31304 1.33333 2.66667 1.33333ZM0 2.66667C0 1.95942 0.280951 1.28115 0.781048 0.781048C1.28115 0.280951 1.95942 0 2.66667 0H13.3333C14.0406 0 14.7189 0.280951 15.219 0.781048C15.719 1.28115 16 1.95942 16 2.66667V13.3333C16 14.0406 15.719 14.7189 15.219 15.219C14.7189 15.719 14.0406 16 13.3333 16H2.66667C1.95942 16 1.28115 15.719 0.781048 15.219C0.280951 14.7189 0 14.0406 0 13.3333V2.66667ZM12 4.66667C12.1768 4.66667 12.3464 4.59643 12.4714 4.47141C12.5964 4.34638 12.6667 4.17681 12.6667 4C12.6667 3.82319 12.5964 3.65362 12.4714 3.52859C12.3464 3.40357 12.1768 3.33333 12 3.33333C11.8232 3.33333 11.6536 3.40357 11.5286 3.52859C11.4036 3.65362 11.3333 3.82319 11.3333 4C11.3333 4.17681 11.4036 4.34638 11.5286 4.47141C11.6536 4.59643 11.8232 4.66667 12 4.66667ZM10 6.66667C10 6.84348 9.92976 7.01305 9.80474 7.13807C9.67971 7.2631 9.51014 7.33333 9.33333 7.33333C9.15652 7.33333 8.98695 7.2631 8.86193 7.13807C8.7369 7.01305 8.66667 6.84348 8.66667 6.66667C8.66667 6.48986 8.7369 6.32029 8.86193 6.19526C8.98695 6.07024 9.15652 6 9.33333 6C9.51014 6 9.67971 6.07024 9.80474 6.19526C9.92976 6.32029 10 6.48986 10 6.66667ZM7.33333 9.33333C7.33333 9.51014 7.2631 9.67971 7.13807 9.80474C7.01305 9.92976 6.84348 10 6.66667 10C6.48986 10 6.32029 9.92976 6.19526 9.80474C6.07024 9.67971 6 9.51014 6 9.33333C6 9.15652 6.07024 8.98695 6.19526 8.86193C6.32029 8.7369 6.48986 8.66667 6.66667 8.66667C6.84348 8.66667 7.01305 8.7369 7.13807 8.86193C7.2631 8.98695 7.33333 9.15652 7.33333 9.33333ZM4.66667 12C4.66667 12.1768 4.59643 12.3464 4.47141 12.4714C4.34638 12.5964 4.17681 12.6667 4 12.6667C3.82319 12.6667 3.65362 12.5964 3.52859 12.4714C3.40357 12.3464 3.33333 12.1768 3.33333 12C3.33333 11.8232 3.40357 11.6536 3.52859 11.5286C3.65362 11.4036 3.82319 11.3333 4 11.3333C4.17681 11.3333 4.34638 11.4036 4.47141 11.5286C4.59643 11.6536 4.66667 11.8232 4.66667 12ZM6.66667 12.6667C6.84348 12.6667 7.01305 12.5964 7.13807 12.4714C7.2631 12.3464 7.33333 12.1768 7.33333 12C7.33333 11.8232 7.2631 11.6536 7.13807 11.5286C7.01305 11.4036 6.84348 11.3333 6.66667 11.3333C6.48986 11.3333 6.32029 11.4036 6.19526 11.5286C6.07024 11.6536 6 11.8232 6 12C6 12.1768 6.07024 12.3464 6.19526 12.4714C6.32029 12.5964 6.48986 12.6667 6.66667 12.6667ZM9.33333 10C9.51014 10 9.67971 9.92976 9.80474 9.80474C9.92976 9.67971 10 9.51014 10 9.33333C10 9.15652 9.92976 8.98695 9.80474 8.86193C9.67971 8.7369 9.51014 8.66667 9.33333 8.66667C9.15652 8.66667 8.98695 8.7369 8.86193 8.86193C8.7369 8.98695 8.66667 9.15652 8.66667 9.33333C8.66667 9.51014 8.7369 9.67971 8.86193 9.80474C8.98695 9.92976 9.15652 10 9.33333 10ZM10 12C10 12.1768 9.92976 12.3464 9.80474 12.4714C9.67971 12.5964 9.51014 12.6667 9.33333 12.6667C9.15652 12.6667 8.98695 12.5964 8.86193 12.4714C8.7369 12.3464 8.66667 12.1768 8.66667 12C8.66667 11.8232 8.7369 11.6536 8.86193 11.5286C8.98695 11.4036 9.15652 11.3333 9.33333 11.3333C9.51014 11.3333 9.67971 11.4036 9.80474 11.5286C9.92976 11.6536 10 11.8232 10 12ZM12.6667 6.66667C12.6667 6.84348 12.5964 7.01305 12.4714 7.13807C12.3464 7.2631 12.1768 7.33333 12 7.33333C11.8232 7.33333 11.6536 7.2631 11.5286 7.13807C11.4036 7.01305 11.3333 6.84348 11.3333 6.66667C11.3333 6.48986 11.4036 6.32029 11.5286 6.19526C11.6536 6.07024 11.8232 6 12 6C12.1768 6 12.3464 6.07024 12.4714 6.19526C12.5964 6.32029 12.6667 6.48986 12.6667 6.66667ZM12 10C12.1768 10 12.3464 9.92976 12.4714 9.80474C12.5964 9.67971 12.6667 9.51014 12.6667 9.33333C12.6667 9.15652 12.5964 8.98695 12.4714 8.86193C12.3464 8.7369 12.1768 8.66667 12 8.66667C11.8232 8.66667 11.6536 8.7369 11.5286 8.86193C11.4036 8.98695 11.3333 9.15652 11.3333 9.33333C11.3333 9.51014 11.4036 9.67971 11.5286 9.80474C11.6536 9.92976 11.8232 10 12 10ZM12.6667 12C12.6667 12.1768 12.5964 12.3464 12.4714 12.4714C12.3464 12.5964 12.1768 12.6667 12 12.6667C11.8232 12.6667 11.6536 12.5964 11.5286 12.4714C11.4036 12.3464 11.3333 12.1768 11.3333 12C11.3333 11.8232 11.4036 11.6536 11.5286 11.5286C11.6536 11.4036 11.8232 11.3333 12 11.3333C12.1768 11.3333 12.3464 11.4036 12.4714 11.5286C12.5964 11.6536 12.6667 11.8232 12.6667 12Z",fill:"currentColor"})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_opacity",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),j8e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("g",{opacity:"0.4",clipPath:"url(#clip0_shadow)",children:t.jsxs("g",{clipPath:"url(#clip1_shadow)",children:[t.jsx("mask",{id:"mask0_shadow",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:t.jsx("path",{d:"M16 0H0V16H16V0Z",fill:"white"})}),t.jsxs("g",{mask:"url(#mask0_shadow)",children:[t.jsx("path",{opacity:"0.33",d:"M15.25 11.9981C15.25 13.793 13.7949 15.2481 12 15.2481H4C2.20508 15.2481 0.750002 13.793 0.75 11.9981V11.9473C1.63982 13.0705 3.00385 13.748 4.47168 13.7481H11.2832C12.8846 13.748 14.3732 12.9398 15.25 11.6055V11.9981Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 0.75H4C2.20507 0.75 0.75 2.20507 0.75 4V9C0.75 10.7949 2.20507 12.25 4 12.25H12C13.7949 12.25 15.25 10.7949 15.25 9V4C15.25 2.20507 13.7949 0.75 12 0.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})]})]})}),t.jsxs("defs",{children:[t.jsx("clipPath",{id:"clip0_shadow",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})}),t.jsx("clipPath",{id:"clip1_shadow",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})})]})]}),N8e=[{name:"Inherit (from parent)",value:""},{name:"Sans-serif",value:"sans-serif"},{name:"Serif",value:"serif"},{name:"Monospace",value:"monospace"},{name:"Arial",value:"Arial"},{name:"Times New Roman",value:"Times New Roman"},{name:"Georgia",value:"Georgia"},{name:"Courier New",value:"Courier New"},{name:"Verdana",value:"Verdana"},{name:"Trebuchet MS",value:"Trebuchet MS"},{name:"Comic Sans MS",value:"Comic Sans MS"},{name:"Impact",value:"Impact"},{name:"Tahoma",value:"Tahoma"}];function kT(e){const n=e.split(" ").filter(Boolean),s=T=>{for(const A of n){const{normalized:D,important:O}=Zs(A);if(T(D))return{normalized:D,important:O}}return null},r=s(T=>G$.has(T)),i=r?.normalized??"",a=r?.important??!1,o=s(T=>NC.has(T)),l=o?.normalized??"",c=o?.important??!1,u=s(T=>T.startsWith("leading-"));let p="";const f=u?.important??!1,m=u?.normalized??"";m&&m.startsWith("leading-[")&&m.endsWith("]")&&(p=m.slice(9,-1).replace("rem",""));const h=s(T=>T.startsWith("tracking-"));let x="";const g=h?.important??!1,v=h?.normalized??"";v&&v.startsWith("tracking-[")&&v.endsWith("]")&&(x=v.slice(10,-1).replace("em",""));const b=s(T=>FC.has(T)),y=b?.normalized??"",w=b?.important??!1,_=s(T=>T==="underline"),N=s(T=>T==="line-through"),j=s(T=>T==="italic");let C="none",S=!1;_?(C="underline",S=_.important):N?(C="line-through",S=N.important):j&&(C="italic",S=j.important);let F="",E=!1;const I=s(T=>T.startsWith("font-[")||T==="font-sans"||T==="font-serif"||T==="font-mono");if(I){const T=I.normalized;E=I.important,T==="font-sans"?F="sans-serif":T==="font-serif"?F="serif":T==="font-mono"?F="monospace":T.startsWith("font-[")&&T.endsWith("]")&&(F=T.slice(6,-1).replace(/['"]/g,"").replace(/_/g," "))}return{fontWeight:i,fontWeightImportant:a,fontSize:l,fontSizeImportant:c,lineHeight:p,lineHeightImportant:f,letterSpacing:x,letterSpacingImportant:g,textAlign:y,textAlignImportant:w,textDecoration:C,textDecorationImportant:S,fontFamily:F,fontFamilyImportant:E}}function F8e(e){return e.split(" ").filter(Boolean).some(s=>s.startsWith("text-[")||s.startsWith("!text-[")||s.startsWith("text-")&&!["text-xs","text-sm","text-base","text-lg","text-xl","text-2xl","text-3xl","text-4xl","text-5xl","text-6xl","text-7xl","text-8xl","text-9xl","text-left","text-center","text-right","text-justify"].includes(s))}function E8e(e){return e.split(" ").filter(Boolean).some(s=>s.startsWith("bg-[")||s.startsWith("!bg-[")||s==="bg-transparent"||s==="!bg-transparent"||s.startsWith("bg-")&&s!=="bg-gradient-to-r"&&s!=="bg-gradient-to-l"&&s!=="bg-gradient-to-t"&&s!=="bg-gradient-to-b"&&!s.startsWith("bg-gradient"))}function IT(e){const n=e.split(" ").filter(Boolean),s={0:"0","0.5":"2",1:"4","1.5":"6",2:"8","2.5":"10",3:"12","3.5":"14",4:"16",5:"20",6:"24",7:"28",8:"32",9:"36",10:"40",11:"44",12:"48",14:"56",16:"64",20:"80",24:"96",28:"112",32:"128",36:"144",40:"160",44:"176",48:"192",52:"208",56:"224",60:"240",64:"256",72:"288",80:"320",96:"384"},r=(A,D)=>{if(!A.startsWith(D))return"";const O=A.substring(D.length);return O.startsWith("[")&&O.endsWith("]")?O.slice(1,-1).replace("px",""):s[O]||""},i=A=>n.find(D=>{const{normalized:O}=Zs(D);return O.startsWith(A)});let a="",o="",l="",c="";const u=i("mt-"),p=i("mb-"),f=i("ml-"),m=i("mr-");if(u){const{normalized:A}=Zs(u);a=r(A,"mt-")}if(p){const{normalized:A}=Zs(p);o=r(A,"mb-")}if(f){const{normalized:A}=Zs(f);l=r(A,"ml-")}if(m){const{normalized:A}=Zs(m);c=r(A,"mr-")}const h=i("mx-"),x=i("my-"),g=n.find(A=>{const{normalized:D}=Zs(A);return/^m-\d/.test(D)||D.startsWith("m-[")});if(h&&!f&&!m){const{normalized:A}=Zs(h),D=r(A,"mx-");l=D,c=D}if(x&&!u&&!p){const{normalized:A}=Zs(x),D=r(A,"my-");a=D,o=D}if(g&&!u&&!p&&!f&&!m){const{normalized:A}=Zs(g),D=r(A,"m-");a=D,o=D,l=D,c=D}let v="",b="",y="",w="";const _=i("pt-"),N=i("pb-"),j=i("pl-"),C=i("pr-");if(_){const{normalized:A}=Zs(_);v=r(A,"pt-")}if(N){const{normalized:A}=Zs(N);b=r(A,"pb-")}if(j){const{normalized:A}=Zs(j);y=r(A,"pl-")}if(C){const{normalized:A}=Zs(C);w=r(A,"pr-")}const S=i("px-"),F=i("py-"),E=n.find(A=>{const{normalized:D}=Zs(A);return/^p-\d/.test(D)||D.startsWith("p-[")});if(S&&!j&&!C){const{normalized:A}=Zs(S),D=r(A,"px-");y=D,w=D}if(F&&!_&&!N){const{normalized:A}=Zs(F),D=r(A,"py-");v=D,b=D}if(E&&!_&&!N&&!j&&!C){const{normalized:A}=Zs(E),D=r(A,"p-");v=D,b=D,y=D,w=D}return{marginTop:a,marginBottom:o,marginLeft:l,marginRight:c,marginLinked:a===""&&o===""&&l===""&&c===""||a===o&&o===l&&l===c&&a!=="",paddingTop:v,paddingBottom:b,paddingLeft:y,paddingRight:w,paddingLinked:v===""&&b===""&&y===""&&w===""||v===b&&b===y&&y===w&&v!==""}}function TT(e){const n=e.split(" ").filter(Boolean),s={0:"0","0.5":"2",1:"4","1.5":"6",2:"8","2.5":"10",3:"12","3.5":"14",4:"16",5:"20",6:"24",7:"28",8:"32",9:"36",10:"40",11:"44",12:"48",14:"56",16:"64",20:"80",24:"96",28:"112",32:"128",36:"144",40:"160",44:"176",48:"192",52:"208",56:"224",60:"240",64:"256",72:"288",80:"320",96:"384"},r=(o,l)=>{if(!o.startsWith(l))return"";const c=o.substring(l.length);return c.startsWith("[")&&c.endsWith("]")?c.slice(1,-1).replace("px",""):s[c]||""},i=n.find(o=>{const{normalized:l}=Zs(o);return l.startsWith("gap-")&&!l.startsWith("gap-x-")&&!l.startsWith("gap-y-")});let a="";if(i){const{normalized:o}=Zs(i);a=r(o,"gap-")}return a}const Ym=e=>e.split(/\s+/).map(n=>n.trim()).filter(Boolean),rp=(e,n)=>{if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==n[s])return!1;return!0},AT=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),DT=e=>e.map((n,s)=>n.type==="text"?`<span data-text-part="${s}">${AT(n.text)}</span>`:`<span data-dynamic="true" contenteditable="false" class="text-white/40 select-none">${AT(n.text)}</span>`).join(""),S8e=e=>{if(!e)return[];const n=[];for(const s of Array.from(e.childNodes))if(s.nodeType===Node.TEXT_NODE)n.push(s.textContent??"");else if(s.nodeType===Node.ELEMENT_NODE){const r=s;r.hasAttribute("data-text-part")&&n.push(r.textContent??"")}return n},k8e=(e,n)=>{let s=0;return e.map(r=>r.type==="text"?{type:"text",text:n[s++]??""}:r)},MT=(e,n)=>{if(!n)return!1;const s=n.querySelectorAll('[data-dynamic="true"]');for(const r of Array.from(s))if(e.intersectsNode(r))return!0;return!1},Zs=e=>e.startsWith("!")?{normalized:e.slice(1),important:!0}:{normalized:e,important:!1},mr=e=>e?e.startsWith("!")?e:`!${e}`:e??null,RT=e=>{const n=e.match(/!?(?:text|bg)-\[(.+)\]/);if(!n)return null;const s=n[1]?.trim()??"";if(!s)return null;try{const r=lr(s),i=Math.round(r.alpha()*100);return{color:r.alpha(1).hex(),opacity:i}}catch{return null}},I8e=e=>{const n=new Set,s=[];for(let r=e.length-1;r>=0;r--){const i=e[r];!i||n.has(i)||(n.add(i),s.push(i))}return s.reverse()},G$=new Set(["font-thin","font-extralight","font-light","font-normal","font-medium","font-semibold","font-bold","font-extrabold"]),NC=new Set(["text-xs","text-sm","text-base","text-lg","text-xl","text-2xl","text-3xl","text-4xl","text-5xl","text-6xl","text-7xl","text-8xl","text-9xl"]),FC=new Set(["text-left","text-center","text-right","text-justify"]),T8e=new Set(["underline","no-underline","line-through","italic","not-italic"]),Ag=e=>(()=>{const{normalized:n}=Zs(e);return G$.has(n)||NC.has(n)||n.startsWith("leading-")||n.startsWith("tracking-")||FC.has(n)||T8e.has(n)||n==="font-sans"||n==="font-serif"||n==="font-mono"||n.startsWith("font-[")})(),w1=e=>{const{normalized:n}=Zs(e);return n.startsWith("m-")||n.startsWith("mt-")||n.startsWith("mb-")||n.startsWith("ml-")||n.startsWith("mr-")||n.startsWith("mx-")||n.startsWith("my-")||n.startsWith("p-")||n.startsWith("pt-")||n.startsWith("pb-")||n.startsWith("pl-")||n.startsWith("pr-")||n.startsWith("px-")||n.startsWith("py-")||n.startsWith("gap-")},C1=e=>{const{normalized:n}=Zs(e);return n==="rounded"||n.startsWith("rounded-")||/^rounded-(none|sm|md|lg|xl|2xl|3xl|full)$/.test(n)},Dg=e=>{const{normalized:n}=Zs(e);return n.startsWith("opacity-")||n.startsWith("opacity-[")},Mg=e=>{const{normalized:n}=Zs(e);return n==="shadow"||n.startsWith("shadow-")},A8e=e=>e.startsWith("text-[")||e.startsWith("!text-[")||e.startsWith("text-")&&!NC.has(e)&&!FC.has(e),D8e=e=>e.startsWith("bg-[")||e.startsWith("!bg-[")||e==="bg-transparent"||e==="!bg-transparent"||e.startsWith("bg-")&&!e.startsWith("bg-gradient"),M8e=e=>C1(e)||Dg(e)||Mg(e),q$=e=>A8e(e)||D8e(e),Zm=e=>Ag(e)||w1(e)||M8e(e)||q$(e);function LT(e){const n=e.split(" ").filter(Boolean),s=(b,y)=>{if(!b.startsWith(y))return"";const w=b.substring(y.length);if(w.startsWith("[")&&w.endsWith("]")){const N=w.slice(1,-1);return N.endsWith("px")?N.slice(0,-2):N}const _=Gwe(w);return _!==null?_:""};let r="",i="",a="",o="";const l=n.find(b=>{const{normalized:y}=Zs(b);return y.startsWith("rounded-t-")}),c=n.find(b=>{const{normalized:y}=Zs(b);return y.startsWith("rounded-b-")}),u=n.find(b=>{const{normalized:y}=Zs(b);return y.startsWith("rounded-l-")}),p=n.find(b=>{const{normalized:y}=Zs(b);return y.startsWith("rounded-r-")});if(l){const{normalized:b}=Zs(l);r=s(b,"rounded-t-")}if(c){const{normalized:b}=Zs(c);i=s(b,"rounded-b-")}if(u){const{normalized:b}=Zs(u);a=s(b,"rounded-l-")}if(p){const{normalized:b}=Zs(p);o=s(b,"rounded-r-")}const f=n.find(b=>{const{normalized:y}=Zs(b);return(y==="rounded"||y.startsWith("rounded-"))&&!y.startsWith("rounded-t-")&&!y.startsWith("rounded-b-")&&!y.startsWith("rounded-l-")&&!y.startsWith("rounded-r-")&&!y.startsWith("rounded-tl-")&&!y.startsWith("rounded-tr-")&&!y.startsWith("rounded-bl-")&&!y.startsWith("rounded-br-")});if(f&&!l&&!c&&!u&&!p){const{normalized:b}=Zs(f),y=s(b,"rounded-");r=y,i=y,a=y,o=y}const m=r===""&&i===""&&a===""&&o===""||r===i&&i===a&&a===o&&r!=="";let h="100";const x=n.map(b=>({original:b,...Zs(b)})).find(({normalized:b})=>b.startsWith("opacity-"));if(x){const b=x.normalized.substring(8);if(b.startsWith("[")&&b.endsWith("]")){const y=b.slice(1,-1).trim(),w=y.endsWith("%")?y.slice(0,-1):y,_=Number(w);h=Number.isNaN(_)?w:_.toString()}else h=b}let g="none";const v=n.map(b=>({original:b,...Zs(b)})).find(({normalized:b})=>b==="shadow"||b.startsWith("shadow-"));if(v){const{normalized:b}=v;b==="shadow"?g="md":g=b.substring(7)}return{cornerRadiusTop:r,cornerRadiusBottom:i,cornerRadiusLeft:a,cornerRadiusRight:o,cornerRadiusLinked:m,elementOpacity:h,shadow:g}}const PT=({value:e,onValueChange:n})=>t.jsxs(Tu,{value:e,onValueChange:n,children:[t.jsx(ld,{className:"w-auto h-6 text-sm bg-transparent border-0 ml-0 p-0 shadow-none focus:ring-0 text-white hover:bg-transparent [&>svg]:hidden gap-0",children:t.jsx(Au,{})}),t.jsxs(cd,{className:"min-w-[4rem] bg-[#1A1A1A] border-[rgba(255,255,255,0.12)] rounded-lg",children:[t.jsx(wo,{value:"rem",className:"text-white text-sm py-1.5 pl-6 pr-2 focus:bg-[rgba(255,255,255,0.1)] focus:text-white cursor-pointer",children:"rem"}),t.jsx(wo,{value:"em",className:"text-white text-sm py-1.5 pl-6 pr-2 focus:bg-[rgba(255,255,255,0.1)] focus:text-white cursor-pointer",children:"em"}),t.jsx(wo,{value:"px",className:"text-white text-sm py-1.5 pl-6 pr-2 focus:bg-[rgba(255,255,255,0.1)] focus:text-white cursor-pointer",children:"px"})]})]});function OT({label:e,color:n,opacity:s,hasColor:r,onColorChange:i,onOpacityChange:a,onToggleColor:o,colorType:l,showColorPicker:c,activeColorPicker:u,onOpenColorPicker:p,onCloseColorPicker:f}){const[m,h]=d.useState({top:0,left:0}),x=d.useRef(null),g=d.useRef(null),v=d.useRef(null),b=d.useRef({color:n,hasColor:r}),[y,w]=d.useState(r?n.replace("#",""):"none"),_=c&&u===l;d.useEffect(()=>{if(document.activeElement===v.current)return;if(b.current.color!==n||b.current.hasColor!==r){const T=r?n.replace("#",""):"none";w(T),b.current={color:n,hasColor:r}}},[n,r]);const N=d.useMemo(()=>r?lr(n).alpha(s/100).rgb().string():"rgba(255, 255, 255, 0)",[r,n,s]),j=I=>{const[T,A,D,O]=I,M="#"+[T,A,D].map(P=>{const B=Math.round(P).toString(16);return B.length===1?"0"+B:B}).join("").toUpperCase(),L=Math.round(O*100);i(M),a(L),o(!0)},C=I=>{let T=I.target.value;if(T.toLowerCase()==="none"?T="none":(T=T.toUpperCase(),T.length>6&&(T=T.slice(0,6))),w(T),T==="none"||T==="")o(!1);else if(/^[0-9A-F]{6}$/.test(T)||/^[0-9A-F]{3}$/.test(T)){const A=T.length===3?T.split("").map(D=>D+D).join(""):T;i(`#${A}`),o(!0)}},S=I=>{const T=Math.max(0,Math.min(100,parseInt(I.target.value)||0));a(T)},F=I=>{if(I.stopPropagation(),!x.current)return;const T=x.current.getBoundingClientRect(),A=280,D=200;let O=T.bottom+8,M=T.left;M+A>window.innerWidth&&(M=T.right-A),O+D>window.innerHeight&&(O=T.top-D-8),O=Math.max(8,Math.min(O,window.innerHeight-D-8)),M=Math.max(8,Math.min(M,window.innerWidth-A-8)),h({top:O,left:M}),p(l)};d.useEffect(()=>{const I=A=>{const D=A.target;g.current&&g.current.contains(D)||D.closest?.("[data-radix-popper-content-wrapper], [data-radix-select-content]")||f()},T=A=>{A.key==="Escape"&&f()};return _&&(document.addEventListener("mousedown",I),document.addEventListener("keydown",T)),()=>{document.removeEventListener("mousedown",I),document.removeEventListener("keydown",T)}},[_,f]);const E=r?{backgroundColor:n}:{background:"linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%, transparent 75%, rgba(255,255,255,0.1) 75%), linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%, transparent 75%, rgba(255,255,255,0.1) 75%)",backgroundSize:"4px 4px",backgroundPosition:"0 0, 2px 2px"};return t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:e}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx("div",{ref:x,className:"w-[14px] h-[14px] rounded-[4px] border border-[rgba(255,255,255,0.12)] mr-2.5 flex-shrink-0 cursor-pointer hover:border-[rgba(255,255,255,0.2)] transition-colors",style:E,onClick:F}),t.jsx("div",{className:"flex-1",children:t.jsx("input",{ref:v,type:"text",value:y,onChange:C,className:k("w-full bg-transparent text-sm focus:outline-none",r?"text-white":"text-white/60"),placeholder:"1A1A1A"})}),r&&t.jsxs("div",{className:"flex items-center pl-1.5 ml-2.5 border-l border-[rgba(255,255,255,0.12)]",children:[t.jsx("input",{type:"number",value:s,onChange:S,min:"0",max:"100",className:"w-8 bg-transparent text-white text-sm focus:outline-none text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),t.jsx("span",{className:"text-white text-sm",children:"%"})]})]})}),_&&t.jsx("div",{ref:g,className:"fixed z-[48] h-60 w-80",style:{top:m.top,left:m.left},children:t.jsx(Wwe,{value:N,onChange:j})})]})}const K$=d.forwardRef(({isVisible:e,element:n,position:s,onClose:r,onSave:i,onRevert:a,onChangesDetected:o,onTriggerSave:l,onDiscardChanges:c,onTriggerComplete:u,onHistoryPush:p,isInlineEditingActive:f,jobId:m},h)=>{const[x,g]=d.useState("content"),[v,b]=d.useState(""),[y,w]=d.useState(""),[_,N]=d.useState(null),[j,C]=d.useState(!1),S=d.useRef([]),F=d.useRef([]),E=d.useRef(null),[I,T]=d.useState(""),[A,D]=d.useState(100),[O,M]=d.useState(!1),[L,P]=d.useState(""),[B,G]=d.useState(100),[$,te]=d.useState(!1),[U,oe]=d.useState(""),[Y,W]=d.useState(!1),[Z,le]=d.useState(!1),[q,Q]=d.useState(""),[he,me]=d.useState(!1),[ce,ee]=d.useState(""),[J,re]=d.useState(!1),[xe,ae]=d.useState(""),[Fe,se]=d.useState("rem"),[_e,Re]=d.useState(""),[Se,Ne]=d.useState("em"),[ge,Ce]=d.useState(""),[$e,dt]=d.useState("none"),[Me,we]=d.useState(!1),[Te,ze]=d.useState(!1),[_t,Bt]=d.useState(!1),[qe,Ae]=d.useState(!1),[Le,Ut]=d.useState(""),[tt,xt]=d.useState(""),[St,It]=d.useState(""),[kt,Ot]=d.useState(""),[Ie,nt]=d.useState(!0),[We,Lt]=d.useState(""),[pt,ft]=d.useState(""),[Tt,Gt]=d.useState(""),[Ze,ut]=d.useState(""),[Qt,Sn]=d.useState(!0),[yn,Ee]=d.useState(""),[Ke,mt]=d.useState(""),[Ge,At]=d.useState(""),[Cn,Mt]=d.useState(""),[Pn,wn]=d.useState(""),[In,us]=d.useState(!0),[Kt,dn]=d.useState("100"),[gt,ps]=d.useState("none"),[Zn,$s]=d.useState(!0),[Ls,ys]=d.useState(!1),[zn,_n]=d.useState(!0),[Wn,As]=d.useState(!0),[tr,Ht]=d.useState(!1),[zs,Ve]=d.useState(!1),[lt,$t]=d.useState(!1),[Tn,Yt]=d.useState({x:0,y:0}),[Is,nn]=d.useState({x:0,y:0}),Ue=d.useRef(null),[Nt,bn]=d.useState({width:420,height:400}),Yn=d.useRef(null),Jn=d.useRef(!1),fs=d.useRef(null),[Gn,Fs]=d.useState(!0),nr=d.useRef(!1),an=d.useRef({textContent:"",className:""}),Ws=d.useRef([]),ir=d.useRef([]),vr=d.useRef([]),rs=d.useRef([]),Bs=d.useRef([]),_s=d.useRef([]),wr=d.useRef([]),Gs=d.useRef([]),Sr=d.useRef([]),ve=d.useRef([]),Xe=d.useRef(!1),at=d.useRef(null),[un,Xn]=d.useState(null),ke=d.useRef(!1),ye=d.useRef(null),Et=d.useRef(f);d.useEffect(()=>{Et.current=f},[f]);const qt=d.useRef(null),[Oe,He]=d.useState(!1),[it,Ln]=d.useState(null),js=d.useRef(null),Un=d.useRef(!1),on=d.useRef(!1),sn=d.useRef(null),On=d.useRef(!1),[rt,gr]=d.useState({textContent:"",tailwindClasses:"",textColor:"",textOpacity:100,hasTextColor:!1,backgroundColor:"",backgroundOpacity:100,hasBackgroundColor:!1,fontFamily:"",hasExplicitFontFamily:!1,fontFamilyImportant:!1,fontWeight:"",fontWeightImportant:!1,fontSize:"",fontSizeImportant:!1,lineHeight:"",lineHeightUnit:"rem",lineHeightImportant:!1,letterSpacing:"",letterSpacingUnit:"em",letterSpacingImportant:!1,textAlign:"",textAlignImportant:!1,textDecoration:"none",textDecorationImportant:!1,marginTop:"",marginBottom:"",marginLeft:"",marginRight:"",marginLinked:!0,paddingTop:"",paddingBottom:"",paddingLeft:"",paddingRight:"",paddingLinked:!0,gap:"",cornerRadiusTop:"",cornerRadiusBottom:"",cornerRadiusLeft:"",cornerRadiusRight:"",cornerRadiusLinked:!0,elementOpacity:"100",shadow:"none"}),[Es,ar]=d.useState(!1);d.useEffect(()=>{if(!Ue.current)return;const ue=new ResizeObserver(be=>{for(const ht of be){const{width:yt,height:mn}=ht.contentRect;bn({width:yt,height:mn})}});return ue.observe(Ue.current),()=>{ue.disconnect()}},[]),d.useEffect(()=>{const ue=n?.attributes?.["x-id"]||null,be=ue!==sn.current;if(!n){sn.current=null,On.current=!1,g("content"),qt.current&&(clearTimeout(qt.current),qt.current=null);return}if(n){be&&(Un.current=!1,js.current=null,sn.current=ue,On.current=!1),nr.current=!0;const ht=n.attributes?.["x-dynamic"]==="true";ys(ht);const yt=n.textNodeCount??0,mn=(n.hasChildElements??!1)&&yt>0,Nn=mn?!0:n.isEditable??!ht;_n(Nn);const Mn=n.tagName?.toLowerCase()==="img",Qn=n.tagName?.toLowerCase()==="div",sr=Qn&&n.hasDirectTextContent===!0&&n.hasChildElements===!1,qs=!Nn||Mn?!1:mn?!0:Qn?sr:n.hasDirectTextContent??!0;$s(qs),As(!Mn);const vi=n.computedStyles?.display||"",es=["flex","inline-flex","grid","inline-grid"].includes(vi);Ve(es),g("content");const Lr=n.textContent||"",Qs=n.className||"",io=mn?n.contentParts??[]:null,Nl=io?io.filter(Hs=>Hs.type==="text").map(Hs=>Hs.text):[],Ko=mn?Nl.join(""):Lr;C(mn),N(io),S.current=Nl,F.current=Nl,b(Ko),at.current=null,Xn(null),Hn(Qs);const Ia=Ym(Qs);Ws.current=Ia.filter(Hs=>!Zm(Hs)),wr.current=Ia.filter(Ag);const Fl=Ia.filter(w1),Zr=Ia.filter(C1),N0=Ia.filter(Hs=>Dg(Hs)||Mg(Hs));rs.current=Fl,Bs.current=Zr,_s.current=N0,Gs.current=[...Fl],Sr.current=[...Zr],ve.current=[...N0],ir.current=Ax(Qs),vr.current=Dx(Qs);let Jf="#000000",Ei=100,Xf=!1,Ou="#ffffff",Dt=100,Qf=!1;const Yo=F8e(Qs),em=E8e(Qs);if(n.computedStyles){const{color:Hs,backgroundColor:Zo}=n.computedStyles;Yo&&Hs.hasColor&&Hs.hex?(Jf=Hs.hex,Ei=Hs.opacity,Xf=!0,T(Hs.hex),D(Hs.opacity),M(!0)):(Jf="",Ei=100,T(""),D(100),Xf=!1,M(!1)),em&&Zo.hasColor&&Zo.hex?(Ou=Zo.hex,Dt=Zo.opacity,Qf=!0,P(Zo.hex),G(Zo.opacity),te(!0)):(Ou="",Dt=100,P(""),G(100),Qf=!1,te(!1))}const Ks=kT(Qs);Q(Ks.fontWeight),me(Ks.fontWeightImportant),ee(Ks.fontSize),re(Ks.fontSizeImportant),ae(Ks.lineHeight),we(Ks.lineHeightImportant),Re(Ks.letterSpacing),ze(Ks.letterSpacingImportant),Ce(Ks.textAlign),Bt(Ks.textAlignImportant),dt(Ks.textDecoration),Ae(Ks.textDecorationImportant);const tm=!!Ks.fontFamily,nm=tm?Ks.fontFamily:"";oe(nm),W(tm),le(Ks.fontFamilyImportant);const fr=IT(Qs);Ut(fr.marginTop),xt(fr.marginBottom),It(fr.marginLeft),Ot(fr.marginRight),nt(fr.marginLinked),Lt(fr.paddingTop),ft(fr.paddingBottom),Gt(fr.paddingLeft),ut(fr.paddingRight),Sn(fr.paddingLinked);const sm=TT(Qs);Ee(sm);const Ki=LT(Qs);mt(Ki.cornerRadiusTop),At(Ki.cornerRadiusBottom),Mt(Ki.cornerRadiusLeft),wn(Ki.cornerRadiusRight),us(Ki.cornerRadiusLinked),dn(Ki.elementOpacity),ps(Ki.shadow);const L3={textContent:Ko,tailwindClasses:Qs,textColor:Jf,textOpacity:Ei,hasTextColor:Xf,backgroundColor:Ou,backgroundOpacity:Dt,hasBackgroundColor:Qf,fontFamily:nm,hasExplicitFontFamily:tm,fontFamilyImportant:Ks.fontFamilyImportant,fontWeight:Ks.fontWeight,fontWeightImportant:Ks.fontWeightImportant,fontSize:Ks.fontSize,fontSizeImportant:Ks.fontSizeImportant,lineHeight:Ks.lineHeight,lineHeightUnit:"rem",lineHeightImportant:Ks.lineHeightImportant,letterSpacing:Ks.letterSpacing,letterSpacingUnit:"em",letterSpacingImportant:Ks.letterSpacingImportant,textAlign:Ks.textAlign,textAlignImportant:Ks.textAlignImportant,textDecoration:Ks.textDecoration,textDecorationImportant:Ks.textDecorationImportant,marginTop:fr.marginTop,marginBottom:fr.marginBottom,marginLeft:fr.marginLeft,marginRight:fr.marginRight,marginLinked:fr.marginLinked,paddingTop:fr.paddingTop,paddingBottom:fr.paddingBottom,paddingLeft:fr.paddingLeft,paddingRight:fr.paddingRight,paddingLinked:fr.paddingLinked,gap:sm,cornerRadiusTop:Ki.cornerRadiusTop,cornerRadiusBottom:Ki.cornerRadiusBottom,cornerRadiusLeft:Ki.cornerRadiusLeft,cornerRadiusRight:Ki.cornerRadiusRight,cornerRadiusLinked:Ki.cornerRadiusLinked,elementOpacity:Ki.elementOpacity,shadow:Ki.shadow};gr(L3),ar(!1),an.current={textContent:Ko,className:Qs},setTimeout(()=>{nr.current=!1},0)}},[n]),d.useEffect(()=>{He(!1),Ln(null)},[n]),d.useEffect(()=>{if(!j||!E.current||!_)return;const ue=k8e(_,S.current),be=DT(ue);E.current.innerHTML!==be&&(E.current.innerHTML=be)},[j,_,x]),d.useEffect(()=>{const ue=be=>{Ue.current&&!Ue.current.contains(be.target)&&(on.current=!0)};return document.addEventListener("mousedown",ue),()=>document.removeEventListener("mousedown",ue)},[]),d.useEffect(()=>{at.current=un},[un]),d.useEffect(()=>{if(!Xe.current)return;Xe.current=!1;const ue=Ym(y);Ws.current=ue.filter(es=>!Zm(es));const be=kT(y);Q(be.fontWeight),me(be.fontWeightImportant),ee(be.fontSize),re(be.fontSizeImportant),ae(be.lineHeight),we(be.lineHeightImportant),se("rem"),Re(be.letterSpacing),ze(be.letterSpacingImportant),Ne("em"),Ce(be.textAlign),Bt(be.textAlignImportant),dt(be.textDecoration),Ae(be.textDecorationImportant),oe(be.fontFamily),W(!!be.fontFamily),le(be.fontFamilyImportant);const ht=IT(y);Ut(ht.marginTop),xt(ht.marginBottom),It(ht.marginLeft),Ot(ht.marginRight),nt(ht.marginLinked),Lt(ht.paddingTop),ft(ht.paddingBottom),Gt(ht.paddingLeft),ut(ht.paddingRight),Sn(ht.paddingLinked);const yt=TT(y);Ee(yt);const mn=LT(y);mt(mn.cornerRadiusTop),At(mn.cornerRadiusBottom),Mt(mn.cornerRadiusLeft),wn(mn.cornerRadiusRight),us(mn.cornerRadiusLinked),dn(mn.elementOpacity||"100"),ps(mn.shadow||"none");const Nn=Ax(y),Mn=Dx(y);rp(Nn,ir.current)||(ir.current=Nn),rp(Mn,vr.current)||(vr.current=Mn);const Qn=NT(y,rt.tailwindClasses);if(Nn.length>0){const es=Nn.find(Qs=>Qs.startsWith("!text-[")||Qs.startsWith("text-[")),Lr=es?RT(es):null;Lr?(M(!0),T(Lr.color),D(Lr.opacity)):Qn?(M(rt.hasTextColor),T(rt.textColor),D(rt.textOpacity)):(M(!1),T(""),D(100))}else M(!1),T(""),D(100);if(Mn.length>0){const es=Mn.find(Qs=>Qs.startsWith("!bg-[")||Qs.startsWith("bg-[")),Lr=es?RT(es):null;Lr?(te(!0),P(Lr.color),G(Lr.opacity)):Qn?(te(rt.hasBackgroundColor),P(rt.backgroundColor),G(rt.backgroundOpacity)):(te(!1),P(""),G(100))}else te(!1),P(""),G(100);const sr=ue.filter(w1);rp(sr,rs.current)||(rs.current=sr);const qs=ue.filter(C1);rp(qs,Bs.current)||(Bs.current=qs);const Xs=ue.filter(es=>Dg(es)||Mg(es));rp(Xs,_s.current)||(_s.current=Xs);const vi=ue.some(es=>["flex","inline-flex","grid","inline-grid"].includes(es));vi!==zs&&Ve(vi)},[y,zs,rt]),d.useEffect(()=>{if(nr.current){Es&&(ar(!1),o?.(!1));return}const be=JSON.stringify({textContent:v,tailwindClasses:y,textColor:I,textOpacity:A,hasTextColor:O,backgroundColor:L,backgroundOpacity:B,hasBackgroundColor:$,fontFamily:U,hasExplicitFontFamily:Y,fontFamilyImportant:Z,fontWeight:q,fontWeightImportant:he,fontSize:ce,fontSizeImportant:J,lineHeight:xe,lineHeightUnit:Fe,lineHeightImportant:Me,letterSpacing:_e,letterSpacingUnit:Se,letterSpacingImportant:Te,textAlign:ge,textAlignImportant:_t,textDecoration:$e,textDecorationImportant:qe,marginTop:Le,marginBottom:tt,marginLeft:St,marginRight:kt,marginLinked:Ie,paddingTop:We,paddingBottom:pt,paddingLeft:Tt,paddingRight:Ze,paddingLinked:Qt,gap:yn,cornerRadiusTop:Ke,cornerRadiusBottom:Ge,cornerRadiusLeft:Cn,cornerRadiusRight:Pn,cornerRadiusLinked:In,elementOpacity:Kt,shadow:gt})!==JSON.stringify(rt);be!==Es&&(ar(be),be&&(On.current=!0),o&&o(be))},[v,y,I,A,O,L,B,$,U,Y,Z,q,he,ce,J,xe,Fe,Me,_e,Se,Te,ge,_t,$e,qe,Le,tt,St,kt,Ie,We,pt,Tt,Ze,Qt,yn,Ke,Ge,Cn,Pn,In,Kt,gt,rt,Es,o]);const Pe=(ue,be,ht)=>{if(!ue||be===ht)return ue;const yt=parseFloat(ue);if(isNaN(yt))return ue;let mn;return be==="rem"||be==="em"?mn=yt*16:mn=yt,ht==="rem"?(mn/16).toFixed(3).replace(/\.?0+$/,""):ht==="em"?(mn/16).toFixed(3).replace(/\.?0+$/,""):Math.round(mn).toString()},Ct=ue=>{if(xe){const be=Pe(xe,Fe,ue);ae(be)}se(ue)},An=ue=>{if(_e){const be=Pe(_e,Se,ue);Re(be)}Ne(ue)},Hn=(ue,be)=>{if(be?.fromManual){Xe.current=!0,at.current=ue,Xn(ue),w(ue);return}Xn(ht=>ht!==null?(at.current=ht,ht):(at.current=null,ht)),w(ht=>ht===ue||at.current!==null?ht:ue)},ls=ue=>{oe(ue);const be=ue!=="";W(be),le(be)},Rr=ue=>{g(ue),He(!1),Ln(null);const be={content:Xt.VISUAL_EDIT_TAB_CONTENT_CLICKED,appearance:Xt.VISUAL_EDIT_TAB_APPEARANCE_CLICKED,type:Xt.VISUAL_EDIT_TAB_TYPE_CLICKED,layout:Xt.VISUAL_EDIT_TAB_LAYOUT_CLICKED};H(be[ue],{jobId:m,elementId:n?.attributes?.["x-id"],tagName:n?.tagName})},Jt=()=>{const ue=[];if(Y&&U)if(U==="sans-serif")ue.push(mr("font-sans"));else if(U==="serif")ue.push(mr("font-serif"));else if(U==="monospace")ue.push(mr("font-mono"));else{const be=U.replace(/ /g,"_");ue.push(mr(`font-['${be}']`))}return q&&ue.push(mr(q)),ce&&ue.push(mr(ce)),xe&&ue.push(mr(`leading-[${xe}${Fe}]`)),_e&&ue.push(mr(`tracking-[${_e}${Se}]`)),ge&&ue.push(mr(ge)),$e==="underline"?ue.push(mr("underline")):$e==="line-through"?ue.push(mr("line-through")):$e==="italic"&&ue.push(mr("italic")),ue},bi=()=>{if(Le===rt.marginTop&&tt===rt.marginBottom&&St===rt.marginLeft&&kt===rt.marginRight&&Ie===rt.marginLinked&&We===rt.paddingTop&&pt===rt.paddingBottom&&Tt===rt.paddingLeft&&Ze===rt.paddingRight&&Qt===rt.paddingLinked&&yn===rt.gap)return Gs.current;const be=[];if(Ie){const ht=Le||tt,yt=St||kt;ht&&be.push(mr(`my-[${ht}px]`)),yt&&be.push(mr(`mx-[${yt}px]`))}else Le&&be.push(mr(`mt-[${Le}px]`)),tt&&be.push(mr(`mb-[${tt}px]`)),St&&be.push(mr(`ml-[${St}px]`)),kt&&be.push(mr(`mr-[${kt}px]`));if(Qt){const ht=We||pt,yt=Tt||Ze;ht&&be.push(mr(`py-[${ht}px]`)),yt&&be.push(mr(`px-[${yt}px]`))}else We&&be.push(mr(`pt-[${We}px]`)),pt&&be.push(mr(`pb-[${pt}px]`)),Tt&&be.push(mr(`pl-[${Tt}px]`)),Ze&&be.push(mr(`pr-[${Ze}px]`));return yn&&be.push(mr(`gap-[${yn}px]`)),be},Ri=()=>{const ue=[],be=O&&rt.hasTextColor&&I===rt.textColor&&A===rt.textOpacity;if(O){if(be&&ir.current.length>0)ue.push(...ir.current);else if(I)if(A===100)ue.push(`!text-[${I}]`);else{const yt=lr(I).alpha(A/100).rgb().string().replace(/\s/g,"");ue.push(`!text-[${yt}]`)}}const ht=$&&rt.hasBackgroundColor&&L===rt.backgroundColor&&B===rt.backgroundOpacity;if($){if(ht&&vr.current.length>0)ue.push(...vr.current);else if(L)if(B===100)ue.push(`!bg-[${L}]`);else{const yt=lr(L).alpha(B/100).rgb().string().replace(/\s/g,"");ue.push(`!bg-[${yt}]`)}}return ue},Je=()=>{if(Ke===rt.cornerRadiusTop&&Ge===rt.cornerRadiusBottom&&Cn===rt.cornerRadiusLeft&&Pn===rt.cornerRadiusRight&&In===rt.cornerRadiusLinked)return Sr.current;const be=[];if(In){if(Ke){const ht=qwe(Ke);if(ht)be.push(mr(ht));else{const yt=_T(Ke);yt&&be.push(mr(`rounded-[${yt}]`))}}}else{const ht=(yt,mn)=>{if(!yt)return;const Nn=Kwe(yt,mn);if(Nn){be.push(mr(Nn));return}const Mn=_T(yt);Mn&&be.push(mr(`rounded-${mn}-[${Mn}]`))};ht(Ke,"t"),ht(Ge,"b"),ht(Cn,"l"),ht(Pn,"r")}return be},kr=()=>{if(Kt===rt.elementOpacity&&gt===rt.shadow)return ve.current;const be=[];return Kt&&Kt!=="100"&&be.push(mr(`opacity-[${Kt}%]`)),gt&&gt!=="none"&&be.push(mr(`shadow-${gt}`)),be},Yr=()=>{const ue=Ym(y),be=ue.filter(Ag),ht=ue.filter(w1),yt=ue.filter(C1),mn=ue.filter(q$),Nn=ue.filter(Lr=>!Zm(Lr)),Qn=U===rt.fontFamily&&Y===rt.hasExplicitFontFamily&&Z===rt.fontFamilyImportant&&q===rt.fontWeight&&he===rt.fontWeightImportant&&ce===rt.fontSize&&J===rt.fontSizeImportant&&xe===rt.lineHeight&&Fe===rt.lineHeightUnit&&Me===rt.lineHeightImportant&&_e===rt.letterSpacing&&Se===rt.letterSpacingUnit&&Te===rt.letterSpacingImportant&&ge===rt.textAlign&&_t===rt.textAlignImportant&&$e===rt.textDecoration&&qe===rt.textDecorationImportant?wr.current:Jt(),sr=bi(),qs=Je(),Xs=kr(),vi=Ri();return I8e([...Nn,...Qn.length>0?Qn:be,...sr.length>0?sr:ht,...qs.length>0?qs:yt,...Xs,...vi.length>0?vi:mn]).join(" ")},Ps=()=>{Xn(null),at.current=null;const ue=Yr();Hn(ue)},yi=d.useCallback(()=>{let ue=Yr();const be=j&&S.current.length>0,ht=n?.hasDirectTextContent??!0,yt=be||ht,mn={className:an.current.className};yt&&(mn.textContent=an.current.textContent,be&&(mn.textParts=[...F.current]));const Nn={};if(be?rp(S.current,F.current)||(Nn.textParts=[...S.current],Nn.textContent=v):v!==an.current.textContent&&(Nn.textContent=v),ue!==an.current.className&&(NT(ue,an.current.className)?ue=an.current.className:Nn.className=ue),Object.keys(Nn).length>0&&p&&n?.attributes){const Mn=n.attributes["x-id"],Qn=n.attributes["x-file-name"],sr=n.attributes["x-line-number"],qs=n.attributes["x-component"];if(Mn&&Qn&&sr&&qs){const Xs={className:Nn.className!==void 0?ue:mn.className};yt&&(Xs.textContent=Nn.textContent!==void 0?v:mn.textContent,be&&(Xs.textParts=Nn.textParts!==void 0?[...S.current]:mn.textParts)),p({elementId:Mn,fileName:Qn,lineNumber:parseInt(sr),component:qs,hasChildElements:n?.hasChildElements,hasDirectTextContent:n?.hasDirectTextContent,isMultiElement:n?.isMultiElement,arrayIndex:n?.arrayIndex,previousState:mn,currentState:Xs})}}if(Object.keys(Nn).length>0&&(i(Nn),Nn.textContent!==void 0&&(an.current.textContent=v),Nn.textParts!==void 0&&(F.current=[...S.current]),Nn.className!==void 0)){an.current.className=ue;const Mn=Ym(ue);Ws.current=Mn.filter(Qn=>!Zm(Qn)),rs.current=Mn.filter(w1),Bs.current=Mn.filter(C1),_s.current=Mn.filter(Qn=>Dg(Qn)||Mg(Qn)),ir.current=Ax(ue),vr.current=Dx(ue),Hn(ue)}},[n,Es,v,I,A,O,L,B,$,U,Y,Z,q,he,ce,J,xe,Fe,Me,_e,Se,Te,ge,_t,$e,qe,Le,tt,St,kt,Ie,We,pt,Tt,Ze,Qt,yn,Ke,Ge,Cn,Pn,In,Kt,gt,i,p,Yr]);d.useEffect(()=>{if(!nr.current)return qt.current&&clearTimeout(qt.current),qt.current=setTimeout(()=>{Es?yi():On.current&&(yi(),a&&a(),On.current=!1)},150),()=>{qt.current&&clearTimeout(qt.current)}},[f,Es,v,y,I,A,O,L,B,$,U,Y,q,ce,xe,Fe,_e,Se,ge,$e,Le,tt,St,kt,Ie,We,pt,Tt,Ze,Qt,yn,Ke,Ge,Cn,Pn,In,Kt,gt]),d.useEffect(()=>{l&&Es&&(jn(),u&&u("save"))},[l]),d.useEffect(()=>{c&&Es&&(_o(),u&&u("discard"))},[c]);const _l=()=>{qt.current&&(clearTimeout(qt.current),qt.current=null)},_o=()=>{if(b(rt.textContent),j&&_&&E.current){const ue=_.filter(be=>be.type==="text").map(be=>be.text);S.current=ue,F.current=ue,E.current.innerHTML=DT(_)}Xn(null),at.current=null,Hn(rt.tailwindClasses),T(rt.textColor),D(rt.textOpacity),M(rt.hasTextColor),P(rt.backgroundColor),G(rt.backgroundOpacity),te(rt.hasBackgroundColor),oe(rt.fontFamily),W(rt.hasExplicitFontFamily),le(rt.fontFamilyImportant),Q(rt.fontWeight),me(rt.fontWeightImportant),ee(rt.fontSize),re(rt.fontSizeImportant),ae(rt.lineHeight),se(rt.lineHeightUnit),we(rt.lineHeightImportant),Re(rt.letterSpacing),Ne(rt.letterSpacingUnit),ze(rt.letterSpacingImportant),Ce(rt.textAlign),dt(rt.textDecoration),Bt(rt.textAlignImportant),Ae(rt.textDecorationImportant),Ut(rt.marginTop),xt(rt.marginBottom),It(rt.marginLeft),Ot(rt.marginRight),nt(rt.marginLinked),Lt(rt.paddingTop),ft(rt.paddingBottom),Gt(rt.paddingLeft),ut(rt.paddingRight),Sn(rt.paddingLinked),Ee(rt.gap),mt(rt.cornerRadiusTop),At(rt.cornerRadiusBottom),Mt(rt.cornerRadiusLeft),wn(rt.cornerRadiusRight),us(rt.cornerRadiusLinked),dn(rt.elementOpacity),ps(rt.shadow),ar(!1),o&&o(!1)};d.useEffect(()=>{if(!s||!Ue.current)return;if(fs.current!==s)Jn.current=!1,fs.current=s;else if(Jn.current)return;Fs(!0);let be=!1;const ht={getBoundingClientRect:()=>({width:s.width,height:s.height,x:s.elementRect.left,y:s.elementRect.top,top:s.elementRect.top,left:s.elementRect.left,right:s.elementRect.right,bottom:s.elementRect.bottom})},yt=s.constraintBounds?{left:s.constraintBounds.left,top:s.constraintBounds.top,right:s.constraintBounds.right,bottom:s.constraintBounds.bottom}:s.iframeBounds?{left:s.iframeBounds.left,top:s.iframeBounds.top,right:s.iframeBounds.right,bottom:s.iframeBounds.bottom}:{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},mn={x:yt.left,y:yt.top,width:Math.max(yt.right-yt.left,0),height:Math.max(yt.bottom-yt.top,0),top:yt.top,right:yt.right,bottom:yt.bottom,left:yt.left},Nn={left:yt.left,top:yt.top,right:yt.right,bottom:yt.bottom};return _K(ht,Ue.current,{placement:"bottom-start",strategy:"fixed",middleware:[jK(10),NK({boundary:mn,fallbackPlacements:["bottom-end","top-start","top-end","right","left"]}),FK({boundary:mn,padding:0}),EK({boundary:mn,padding:0})]}).then(({x:Mn,y:Qn})=>{if(be)return;const sr=Ue.current?.getBoundingClientRect(),qs=sr?.width??Nt.width,Xs=sr?.height??Nt.height,vi=Math.max(Nn.right-Nn.left,0),es=Math.max(Nn.bottom-Nn.top,0),Lr=vi>0?qs<=vi:!1,Qs=es>0?Xs<=es:!1,io=Nn.right-qs,Nl=Nn.bottom-Xs,Ko=Lr?Math.max(Nn.left,Math.min(Mn,io)):Nn.left,Ia=Qs?Math.max(Nn.top,Math.min(Qn,Nl)):Nn.top;nn({x:Ko,y:Ia}),Fs(!1),$t(!1)}).catch(Mn=>{be||Fs(!1)}),()=>{be=!0}},[s,Nt,x]);const pc=ue=>{if(!Ue.current)return;const be=Ue.current.getBoundingClientRect();Yt({x:ue.clientX-be.left,y:ue.clientY-be.top}),$t(!0)};d.useEffect(()=>{const ue=ht=>{!lt||!s||(Yn.current&&cancelAnimationFrame(Yn.current),Yn.current=requestAnimationFrame(()=>{const yt=Ue.current?.getBoundingClientRect(),mn=yt?.width??Nt.width,Nn=yt?.height??Nt.height,Mn=ht.clientX-Tn.x,Qn=ht.clientY-Tn.y,sr=s.constraintBounds?{left:s.constraintBounds.left,top:s.constraintBounds.top,right:s.constraintBounds.right,bottom:s.constraintBounds.bottom}:s.iframeBounds?{left:s.iframeBounds.left,top:s.iframeBounds.top,right:s.iframeBounds.right,bottom:s.iframeBounds.bottom}:{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},qs=Math.max(sr.left,Math.min(Mn,sr.right-mn)),Xs=Math.max(sr.top,Math.min(Qn,sr.bottom-Nn));nn({x:qs,y:Xs})}))},be=()=>{$t(!1),Jn.current=!0,Yn.current&&(cancelAnimationFrame(Yn.current),Yn.current=null)};return lt&&(document.addEventListener("mousemove",ue),document.addEventListener("mouseup",be)),()=>{document.removeEventListener("mousemove",ue),document.removeEventListener("mouseup",be),Yn.current&&(cancelAnimationFrame(Yn.current),Yn.current=null)}},[lt,Tn,s,Nt]);const fc=()=>{if(!e||!s)return{display:"none"};const ue=typeof window<"u"?window.innerWidth:Nt.width,be=typeof window<"u"?window.innerHeight:Nt.height,ht=s.constraintBounds?.width??s.iframeBounds?.width??ue,yt=s.constraintBounds?.height??s.iframeBounds?.height??be,Nn=Ue.current?.getBoundingClientRect()?.width??Nt.width,Mn=Math.max(ht,0),Qn=Math.max(yt,0),sr=Mn>0?Math.min(Nn,Mn):Nn;return{position:"fixed",left:`${Is.x}px`,top:`${Is.y}px`,zIndex:48,width:`${sr}px`,maxHeight:Qn>0?`${Qn}px`:void 0,overflowY:Qn>0?"auto":void 0,pointerEvents:Gn?"none":"auto"}},jl=ue=>{He(!0),Ln(ue),H(Xt.VISUAL_EDIT_COLOR_PICKER_OPENED,{jobId:m,colorType:ue,elementId:n?.attributes?.["x-id"]})},Vr=()=>{He(!1),Ln(null)},qo=d.useCallback(ue=>{M(ue),H(Xt.VISUAL_EDIT_TEXT_COLOR_TOGGLED,{jobId:m,enabled:ue,elementId:n?.attributes?.["x-id"]})},[m,n?.attributes]),vs=d.useCallback(ue=>{te(ue),H(Xt.VISUAL_EDIT_BG_COLOR_TOGGLED,{jobId:m,enabled:ue,elementId:n?.attributes?.["x-id"]})},[m,n?.attributes]),z=ue=>!!(ue&&ue.nodeType===Node.ELEMENT_NODE&&ue.dataset.dynamic==="true"),R=d.useCallback((ue,be)=>{const ht=ue.anchorNode;if(!ht)return!1;if(ht.nodeType===Node.TEXT_NODE){const yt=ht,mn=yt.textContent?.length??0;if(be==="backward"&&ue.anchorOffset===0){const Nn=yt.previousSibling??yt.parentElement?.previousElementSibling;return z(Nn??null)}if(be==="forward"&&ue.anchorOffset===mn){const Nn=yt.nextSibling??yt.parentElement?.nextElementSibling;return z(Nn??null)}return!1}if(ht.nodeType===Node.ELEMENT_NODE){const yt=ht;if(be==="backward"&&ue.anchorOffset>0)return z(yt.childNodes[ue.anchorOffset-1]??null);if(be==="forward"&&ue.anchorOffset<yt.childNodes.length)return z(yt.childNodes[ue.anchorOffset]??null)}return!1},[]),V=d.useCallback(()=>{const ue=S8e(E.current);S.current=ue,b(ue.join(""))},[]),pe=d.useCallback(()=>{Un.current=!0,requestAnimationFrame(()=>{V()})},[V]),je=d.useCallback(ue=>{if(!E.current)return;const be=document.getSelection();if(!be||be.rangeCount===0)return;const ht=be.getRangeAt(0);if(!ht.collapsed){MT(ht,E.current)&&ue.preventDefault();return}const yt=ue.nativeEvent;if(yt.inputType&&yt.inputType.startsWith("delete")){const mn=yt.inputType.endsWith("Backward")?"backward":"forward";R(be,mn)&&ue.preventDefault()}},[R]),ot=d.useCallback(ue=>{if(!E.current||ue.key!=="Backspace"&&ue.key!=="Delete")return;const be=document.getSelection();if(!be||be.rangeCount===0)return;const ht=be.getRangeAt(0);if(!ht.collapsed&&MT(ht,E.current)){ue.preventDefault();return}const yt=ue.key==="Backspace"?"backward":"forward";R(be,yt)&&ue.preventDefault()},[R]),Pt=d.useCallback(()=>{const ue=document.activeElement;if(on.current){on.current=!1,Un.current=!1;return}Un.current&&(ue?.tagName==="BODY"||!ue)?setTimeout(()=>{js.current?.focus()},0):ue&&Ue.current&&!Ue.current.contains(ue)&&(Un.current=!1)},[]),jn=()=>{_l(),yi();const ue=Yr();gr({textContent:v,tailwindClasses:ue,textColor:I,textOpacity:A,hasTextColor:O,backgroundColor:L,backgroundOpacity:B,hasBackgroundColor:$,fontFamily:U,hasExplicitFontFamily:Y,fontFamilyImportant:Z,fontWeight:q,fontWeightImportant:he,fontSize:ce,fontSizeImportant:J,lineHeight:xe,lineHeightUnit:Fe,lineHeightImportant:Me,letterSpacing:_e,letterSpacingUnit:Se,letterSpacingImportant:Te,textAlign:ge,textAlignImportant:_t,textDecoration:$e,textDecorationImportant:qe,marginTop:Le,marginBottom:tt,marginLeft:St,marginRight:kt,marginLinked:Ie,paddingTop:We,paddingBottom:pt,paddingLeft:Tt,paddingRight:Ze,paddingLinked:Qt,gap:yn,cornerRadiusTop:Ke,cornerRadiusBottom:Ge,cornerRadiusLeft:Cn,cornerRadiusRight:Pn,cornerRadiusLinked:In,elementOpacity:Kt,shadow:gt}),an.current={textContent:v,className:ue},j&&(F.current=[...S.current]);const ht=Ym(ue);Ws.current=ht.filter(yt=>!Zm(yt)),wr.current=ht.filter(Ag),ir.current=Ax(ue),vr.current=Dx(ue),Xn(null),at.current=null,Hn(ue),ar(!1),o&&o(!1)};if(d.useImperativeHandle(h,()=>({handleSave:jn,handleDiscard:_o,cancelAutoSave:_l,beginInlineEdit:()=>{ye.current=v},updateTextContent:ue=>{ke.current=!0,b(ue),setTimeout(()=>{ke.current=!1},0)},applyInlineEdit:ue=>{b(ue)},cancelInlineEdit:()=>{const ue=ye.current;ue!==null&&(ke.current=!0,b(ue),setTimeout(()=>{ke.current=!1},0))}})),!e||!n||!s)return null;const ne=["img","video","audio","canvas","svg","iframe","hr","br"].includes(n.tagName?.toLowerCase()||"")||n.tagName?.toLowerCase()==="button"&&!n.hasDirectTextContent||n.tagName?.toLowerCase()==="div"&&(!n.hasDirectTextContent||n.hasChildElements),De=[{id:"content",name:"Content",icon:t.jsx(Qwe,{className:"w-4 h-4"})},{id:"appearance",name:"Appearance",icon:t.jsx(e8e,{className:"w-4 h-4"})},{id:"type",name:"Type",icon:t.jsx(t8e,{className:"w-4 h-4"})},{id:"layout",name:"Layout",icon:t.jsx(n8e,{className:"w-4 h-4"})}],Ye=ne?De.filter(ue=>ue.id!=="type"):De;return t.jsxs("div",{ref:Ue,className:k("floating-edit-widget bg-[#1A1A1A] border border-[rgba(255,255,255,0.12)] rounded-[14px] select-none transition-opacity","shadow-[0px_12px_26px_0px_rgba(0,0,0,0.13),0px_47px_47px_0px_rgba(0,0,0,0.11),0px_106px_64px_0px_rgba(0,0,0,0.07),0px_189px_76px_0px_rgba(0,0,0,0.02),0px_296px_83px_0px_rgba(0,0,0,0)]",lt&&"cursor-grabbing opacity-90"),style:fc(),children:[t.jsxs("div",{className:k("flex items-center justify-between p-2 border-b border-[rgba(255,255,255,0.12)]",lt?"cursor-grabbing":"cursor-grab"),onMouseDown:pc,children:[t.jsx("div",{className:"flex items-center gap-0",children:Ye.map(ue=>t.jsxs("button",{onClick:()=>Rr(ue.id),onMouseDown:be=>be.stopPropagation(),className:k("flex items-center gap-1 p-[6px] pr-[8px] rounded-lg text-xs font-medium transition-all",x===ue.id?"bg-[rgba(83,169,255,0.2)] border border-[rgba(83,169,255,0.4)] text-[#99CCFF]":"text-white/60 hover:text-white/80 hover:bg-white/5 border border-transparent"),children:[t.jsx("span",{className:"flex-shrink-0",children:ue.icon}),ue.name]},ue.id))}),t.jsx("button",{type:"button",onClick:()=>{H(Xt.VISUAL_EDIT_WIDGET_CLOSED,{jobId:m,elementId:n?.attributes?.["x-id"],tagName:n?.tagName}),r()},onMouseDown:ue=>ue.stopPropagation(),className:"flex items-center justify-center w-7 h-7 rounded-md bg-[rgba(255,255,255,0.06)] hover:bg-[rgba(255,255,255,0.1)] text-white/60 hover:text-white/80 transition-colors",title:"Close",children:t.jsx(Ft,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:k("p-3 space-y-3",lt&&"pointer-events-none"),children:[x==="content"&&t.jsxs(t.Fragment,{children:[(Zn||Ls)&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Content"}),t.jsx("div",{className:"flex items-stretch self-stretch gap-2.5 p-2.5 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg h-[102px]",children:j?t.jsx("div",{ref:E,contentEditable:!f,suppressContentEditableWarning:!0,onInput:pe,onBeforeInput:je,onKeyDown:ot,onFocus:ue=>{js.current=ue.currentTarget,Un.current=!0,H(Xt.VISUAL_EDIT_CONTENT_TEXTAREA_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},onBlur:Pt,role:"textbox","aria-multiline":"true",className:k("flex-1 bg-transparent text-white text-sm leading-[1.429em] focus:outline-none overflow-auto whitespace-pre-line",f&&"cursor-default")}):t.jsx("textarea",{value:zn?v:"",onChange:ue=>{Un.current=!0,b(ue.target.value)},onFocus:ue=>{js.current=ue.target,Un.current=!0,H(Xt.VISUAL_EDIT_CONTENT_TEXTAREA_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},onBlur:Pt,disabled:!zn,readOnly:f,className:k("flex-1 bg-transparent text-white text-sm leading-[1.429em] placeholder-white/40 focus:outline-none resize-none",!zn&&"opacity-50 cursor-not-allowed",f&&"cursor-default"),placeholder:zn?"Enter content text...":"This dynamic content cannot be edited visually. You can modify the content via the chat."})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("button",{type:"button",onClick:()=>Ht(ue=>!ue),className:"flex items-center gap-1 text-xs font-medium text-white/50 hover:text-white/70 transition-colors",children:[t.jsx(Ur,{className:k("w-4 h-4 transition-transform duration-150",tr?"rotate-0":"-rotate-90")}),"Advanced Tailwind Classes"]}),t.jsx("div",{className:k("grid transition-all duration-200 ease-out",tr?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"),children:t.jsx("div",{className:"overflow-hidden",children:t.jsx("div",{className:"flex items-stretch self-stretch gap-2.5 p-2.5 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsx("textarea",{value:un??y,onChange:ue=>{Un.current=!0,Hn(ue.target.value,{fromManual:!0})},onFocus:ue=>{js.current=ue.target,Un.current=!0,H(Xt.VISUAL_EDIT_TAILWIND_CLASSES_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},onBlur:()=>{const ue=document.activeElement;if(on.current){on.current=!1,Un.current=!1,Ps();return}const be=Un.current&&(ue?.tagName==="BODY"||!ue);Ps(),be?setTimeout(()=>{js.current?.focus()},0):ue&&Ue.current&&!Ue.current.contains(ue)&&(Un.current=!1)},className:"flex-1 bg-transparent text-white text-xs font-mono leading-[1.667em] placeholder-white/40 focus:outline-none resize-none",placeholder:"Enter tailwind class...",rows:2,style:{fontFamily:"JetBrains Mono, monospace"}})})})})]})]}),x==="appearance"&&t.jsxs(t.Fragment,{children:[(Zn||n.hasDirectTextContent)&&t.jsx(OT,{label:"Text Color",color:I,opacity:A,hasColor:O,onColorChange:T,onOpacityChange:D,onToggleColor:qo,colorType:"text",showColorPicker:Oe,activeColorPicker:it,onOpenColorPicker:jl,onCloseColorPicker:Vr}),Wn&&t.jsx(OT,{label:"Background Color",color:L,opacity:B,hasColor:$,onColorChange:P,onOpacityChange:G,onToggleColor:vs,colorType:"background",showColorPicker:Oe,activeColorPicker:it,onOpenColorPicker:jl,onCloseColorPicker:Vr}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Corner Radius"}),In?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(xy,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:Ke,onChange:ue=>{const be=ue.target.value,yt=parseFloat(be)>9999?"9999":be;mt(yt),At(yt),Mt(yt),wn(yt)},onFocus:()=>{H(Xt.VISUAL_EDIT_CORNER_RADIUS_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{us(!1),H(Xt.VISUAL_EDIT_CORNER_RADIUS_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!1})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(255,255,255,0.1)]",children:t.jsx(hy,{className:"w-4 h-4 text-white"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(xy,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:Ke,onChange:ue=>{const be=ue.target.value,yt=parseFloat(be)>9999?"9999":be;mt(yt)},onFocus:()=>{H(Xt.VISUAL_EDIT_CORNER_RADIUS_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(FT,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:Ge,onChange:ue=>{const be=ue.target.value,yt=parseFloat(be)>9999?"9999":be;At(yt)},onFocus:()=>{H(Xt.VISUAL_EDIT_CORNER_RADIUS_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{us(!0),H(Xt.VISUAL_EDIT_CORNER_RADIUS_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!0})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(153,204,255,0.06)] border border-[rgba(153,204,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(153,204,255,0.1)]",children:t.jsx(Tg,{className:"w-4 h-4 text-[#99CCFF]"})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(ET,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:Cn,onChange:ue=>{const be=ue.target.value,yt=parseFloat(be)>9999?"9999":be;Mt(yt)},onFocus:()=>{H(Xt.VISUAL_EDIT_CORNER_RADIUS_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(ST,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:Pn,onChange:ue=>{const be=ue.target.value,yt=parseFloat(be)>9999?"9999":be;wn(yt)},onFocus:()=>{H(Xt.VISUAL_EDIT_CORNER_RADIUS_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"w-9 h-9 opacity-0 pointer-events-none"})]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Opacity"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(_8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:Kt,onChange:ue=>{const be=Math.max(0,Math.min(100,parseInt(ue.target.value)||0)).toString();dn(be)},onFocus:()=>{H(Xt.VISUAL_EDIT_OPACITY_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},min:"0",max:"100",className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"100"}),t.jsx("span",{className:"text-white/50 text-sm ml-1",children:"%"})]})})]}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Shadow"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center h-[36px] relative",children:[t.jsx(j8e,{className:"w-4 h-4 ml-2.5 mr-2 flex-shrink-0 text-white pointer-events-none absolute left-0"}),t.jsxs("select",{value:gt,onChange:ue=>{ps(ue.target.value),H(Xt.VISUAL_EDIT_SHADOW_CHANGED,{jobId:m,elementId:n?.attributes?.["x-id"],value:ue.target.value})},className:"flex-1 bg-transparent text-white text-sm pl-9 pr-8 focus:outline-none cursor-pointer appearance-none",children:[t.jsx("option",{value:"none",className:"bg-[#1A1A1A]",children:"None"}),t.jsx("option",{value:"2xs",className:"bg-[#1A1A1A]",children:"2XS"}),t.jsx("option",{value:"xs",className:"bg-[#1A1A1A]",children:"XS"}),t.jsx("option",{value:"sm",className:"bg-[#1A1A1A]",children:"Small"}),t.jsx("option",{value:"md",className:"bg-[#1A1A1A]",children:"Medium"}),t.jsx("option",{value:"lg",className:"bg-[#1A1A1A]",children:"Large"}),t.jsx("option",{value:"xl",className:"bg-[#1A1A1A]",children:"XL"}),t.jsx("option",{value:"2xl",className:"bg-[#1A1A1A]",children:"2XL"})]}),t.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]})]})]}),x==="type"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Font"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center h-[36px] relative",children:[t.jsx(s8e,{className:"w-4 h-4 ml-2.5 mr-2 flex-shrink-0 text-white pointer-events-none absolute left-0"}),t.jsx("select",{value:U,onChange:ue=>{ls(ue.target.value),H(Xt.VISUAL_EDIT_FONT_FAMILY_CHANGED,{jobId:m,elementId:n?.attributes?.["x-id"],value:ue.target.value})},className:"flex-1 bg-transparent text-white text-sm pl-9 pr-8 focus:outline-none cursor-pointer appearance-none",children:N8e.map(ue=>t.jsx("option",{value:ue.value,className:"bg-[#1A1A1A]",children:ue.name},ue.value))}),t.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Weight"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between h-[36px] relative",children:[t.jsxs("select",{value:q,onChange:ue=>{me(!0),Q(ue.target.value),H(Xt.VISUAL_EDIT_FONT_WEIGHT_CHANGED,{jobId:m,elementId:n?.attributes?.["x-id"],value:ue.target.value})},className:"flex-1 bg-transparent text-white text-sm pl-2.5 pr-8 focus:outline-none cursor-pointer appearance-none",children:[t.jsx("option",{value:"font-thin",className:"bg-[#1A1A1A]",children:"Thin"}),t.jsx("option",{value:"font-extralight",className:"bg-[#1A1A1A]",children:"Extra Light"}),t.jsx("option",{value:"font-light",className:"bg-[#1A1A1A]",children:"Light"}),t.jsx("option",{value:"font-normal",className:"bg-[#1A1A1A]",children:"Normal"}),t.jsx("option",{value:"font-medium",className:"bg-[#1A1A1A]",children:"Medium"}),t.jsx("option",{value:"font-semibold",className:"bg-[#1A1A1A]",children:"Semi Bold"}),t.jsx("option",{value:"font-bold",className:"bg-[#1A1A1A]",children:"Bold"}),t.jsx("option",{value:"font-extrabold",className:"bg-[#1A1A1A]",children:"Extra Bold"})]}),t.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Size"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between h-[36px] relative",children:[t.jsxs("select",{value:ce,onChange:ue=>{re(!0),ee(ue.target.value),H(Xt.VISUAL_EDIT_FONT_SIZE_CHANGED,{jobId:m,elementId:n?.attributes?.["x-id"],value:ue.target.value})},className:"flex-1 bg-transparent text-white text-sm pl-2.5 pr-8 focus:outline-none cursor-pointer appearance-none",children:[t.jsx("option",{value:"text-xs",className:"bg-[#1A1A1A]",children:"XS"}),t.jsx("option",{value:"text-sm",className:"bg-[#1A1A1A]",children:"Small"}),t.jsx("option",{value:"text-base",className:"bg-[#1A1A1A]",children:"Body"}),t.jsx("option",{value:"text-lg",className:"bg-[#1A1A1A]",children:"Large"}),t.jsx("option",{value:"text-xl",className:"bg-[#1A1A1A]",children:"XL"}),t.jsx("option",{value:"text-2xl",className:"bg-[#1A1A1A]",children:"2XL"}),t.jsx("option",{value:"text-3xl",className:"bg-[#1A1A1A]",children:"3XL"}),t.jsx("option",{value:"text-4xl",className:"bg-[#1A1A1A]",children:"4XL"}),t.jsx("option",{value:"text-5xl",className:"bg-[#1A1A1A]",children:"5XL"}),t.jsx("option",{value:"text-6xl",className:"bg-[#1A1A1A]",children:"6XL"}),t.jsx("option",{value:"text-7xl",className:"bg-[#1A1A1A]",children:"7XL"}),t.jsx("option",{value:"text-8xl",className:"bg-[#1A1A1A]",children:"8XL"}),t.jsx("option",{value:"text-9xl",className:"bg-[#1A1A1A]",children:"9XL"})]}),t.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Line Height"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(r8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:xe,onChange:ue=>ae(ue.target.value),onFocus:()=>{H(Xt.VISUAL_EDIT_LINE_HEIGHT_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"1.75",step:"0.01"}),t.jsx(PT,{value:Fe,onValueChange:ue=>Ct(ue)})]})})]}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Letter Spacing"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(i8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:_e,onChange:ue=>Re(ue.target.value),onFocus:()=>{H(Xt.VISUAL_EDIT_LETTER_SPACING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",step:"0.01"}),t.jsx(PT,{value:Se,onValueChange:ue=>An(ue)})]})})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Alignment"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-stretch p-1",children:[t.jsx("button",{onClick:()=>{Ce("text-left"),H(Xt.VISUAL_EDIT_TEXT_ALIGN_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"left"})},className:k("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",ge==="text-left"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(a8e,{className:k("w-6 h-6",ge==="text-left"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{Ce("text-center"),H(Xt.VISUAL_EDIT_TEXT_ALIGN_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"center"})},className:k("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",ge==="text-center"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(o8e,{className:k("w-6 h-6",ge==="text-center"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{Ce("text-right"),H(Xt.VISUAL_EDIT_TEXT_ALIGN_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"right"})},className:k("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",ge==="text-right"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(l8e,{className:k("w-6 h-6",ge==="text-right"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{Ce("text-justify"),H(Xt.VISUAL_EDIT_TEXT_ALIGN_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"justify"})},className:k("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",ge==="text-justify"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(c8e,{className:k("w-6 h-6",ge==="text-justify"?"text-white":"text-white/60")})})]})})]}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Decoration"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-stretch p-1",children:[t.jsx("button",{onClick:()=>{dt("none"),H(Xt.VISUAL_EDIT_TEXT_DECORATION_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"none"})},className:k("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",$e==="none"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(d8e,{className:k("w-6 h-6",$e==="none"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{dt("italic"),H(Xt.VISUAL_EDIT_TEXT_DECORATION_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"italic"})},className:k("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",$e==="italic"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(f8e,{className:k("w-6 h-6",$e==="italic"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{dt("line-through"),H(Xt.VISUAL_EDIT_TEXT_DECORATION_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"line-through"})},className:k("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",$e==="line-through"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(p8e,{className:k("w-6 h-6",$e==="line-through"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{dt("underline"),H(Xt.VISUAL_EDIT_TEXT_DECORATION_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"underline"})},className:k("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",$e==="underline"?"bg-[rgba(102,178,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(u8e,{className:k("w-6 h-6",$e==="underline"?"text-white":"text-white/60")})})]})})]})]})]}),x==="layout"&&t.jsxs(t.Fragment,{children:[zs&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Gap"}),t.jsx("div",{className:"flex gap-2",children:t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(C8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:yn,onChange:ue=>Ee(ue.target.value),onFocus:()=>{H(Xt.VISUAL_EDIT_GAP_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Margin"}),Ie?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(h8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:Le,onChange:ue=>{const be=ue.target.value;Ut(be),xt(be)},onFocus:()=>{H(Xt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(m8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:St,onChange:ue=>{const be=ue.target.value;It(be),Ot(be)},onFocus:()=>{H(Xt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{nt(!1),H(Xt.VISUAL_EDIT_MARGIN_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!1})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(255,255,255,0.1)]",children:t.jsx(hy,{className:"w-4 h-4 text-white"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(xy,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:Le,onChange:ue=>Ut(ue.target.value),onFocus:()=>{H(Xt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(FT,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:tt,onChange:ue=>xt(ue.target.value),onFocus:()=>{H(Xt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{nt(!0),H(Xt.VISUAL_EDIT_MARGIN_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!0})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(153,204,255,0.06)] border border-[rgba(153,204,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(153,204,255,0.1)]",children:t.jsx(Tg,{className:"w-4 h-4 text-[#99CCFF]"})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(ET,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:St,onChange:ue=>It(ue.target.value),onFocus:()=>{H(Xt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(ST,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:kt,onChange:ue=>Ot(ue.target.value),onFocus:()=>{H(Xt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"w-9 h-9 opacity-0 pointer-events-none"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Padding"}),Qt?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(g8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:We,onChange:ue=>{const be=ue.target.value;Lt(be),ft(be)},onFocus:()=>{H(Xt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(x8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:Tt,onChange:ue=>{const be=ue.target.value;Gt(be),ut(be)},onFocus:()=>{H(Xt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{Sn(!1),H(Xt.VISUAL_EDIT_PADDING_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!1})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(255,255,255,0.1)]",children:t.jsx(hy,{className:"w-4 h-4 text-white"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(b8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:We,onChange:ue=>Lt(ue.target.value),onFocus:()=>{H(Xt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(y8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:pt,onChange:ue=>ft(ue.target.value),onFocus:()=>{H(Xt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{Sn(!0),H(Xt.VISUAL_EDIT_PADDING_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!0})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(153,204,255,0.06)] border border-[rgba(153,204,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(153,204,255,0.1)]",children:t.jsx(Tg,{className:"w-4 h-4 text-[#99CCFF]"})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(v8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:Tt,onChange:ue=>Gt(ue.target.value),onFocus:()=>{H(Xt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(w8e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:Ze,onChange:ue=>ut(ue.target.value),onFocus:()=>{H(Xt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"w-9 h-9 opacity-0 pointer-events-none"})]})]})]})]})]})]})});K$.displayName="FloatingEditWidget";const R8e=({className:e})=>t.jsxs("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("g",{opacity:"0.6",clipPath:"url(#clip0_5432_69607)",children:t.jsx("path",{d:"M9.72451 1.84075C9.61693 1.59936 9.44667 1.39117 9.23143 1.23783C9.01618 1.08449 8.7638 0.991575 8.50051 0.96875C8.23862 0.992946 7.98792 1.08649 7.77419 1.23975C7.56046 1.39302 7.39144 1.60047 7.28451 1.84075L0.78851 13.0888C0.11651 14.2488 0.66851 15.2008 2.00451 15.2008H14.9965C16.3325 15.2008 16.8845 14.2488 16.2125 13.0888L9.72451 1.84075ZM9.30051 12.8007H7.70051V11.2008H9.30051V12.8007ZM9.30051 9.60075H7.70051V4.80075H9.30051V9.60075Z",fill:"white"})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_5432_69607",children:t.jsx("rect",{width:"16",height:"16",fill:"white",transform:"translate(0.5)"})})})]}),Rd=16,Ld=16,L8e=16,ip=(e,n,s)=>s<n?n:Math.min(Math.max(e,n),s),Mx=e=>{if(!e)return null;const n=e.offsetParent;if(n)return{rect:n.getBoundingClientRect(),strategy:"absolute"};if(typeof window>"u")return null;const s=window.innerWidth,r=window.innerHeight;return{rect:{left:0,top:0,right:s,bottom:r,width:s,height:r,x:0,y:0,toJSON:()=>({})},strategy:"fixed"}};function P8e({isVisible:e,onSave:n,onDiscard:s,className:r,jobId:i,constraintKey:a,isFullscreen:o=!1,showUnsavedChangesModal:l}){const[c,u]=d.useState(!1),[p,f]=d.useState({x:0,y:0}),[m,h]=d.useState({x:Rd,y:Ld}),x=d.useRef(null),g=d.useRef(!1),v=d.useRef(!1),b=d.useRef(null),[y,w]=d.useState("absolute");d.useEffect(()=>{a!==void 0&&(v.current=!1,g.current=!1)},[a]),d.useEffect(()=>{if(!e||typeof window>"u")return;let N=!1;const j=window.requestAnimationFrame(()=>{N||window.requestAnimationFrame(()=>{if(N)return;const C=x.current;if(!C||g.current||v.current)return;const S=Mx(C);S&&(w(F=>F===S.strategy?F:S.strategy),h({x:0,y:0}),window.requestAnimationFrame(()=>{if(N)return;const{rect:F}=S,E=C.getBoundingClientRect();if(F.width<=0||F.height<=0)return;const I=(F.width-E.width)/2,T=F.height-E.height-L8e,A={x:ip(I,Rd,F.width-E.width-Rd),y:ip(T,Ld,F.height-E.height-Ld)};h(A),g.current=!0}))})});return()=>{N=!0,window.cancelAnimationFrame(j)}},[e,a]),d.useEffect(()=>{const N=x.current;if(!N)return;const j=N.offsetParent;if(!j)return;const C=new ResizeObserver(()=>{const S=Mx(N);if(!S)return;w(I=>I===S.strategy?I:S.strategy);const{rect:F}=S,E=N.getBoundingClientRect();h(I=>({x:ip(I.x,Rd,F.width-E.width-Rd),y:ip(I.y,Ld,F.height-E.height-Ld)}))});return C.observe(j),()=>C.disconnect()},[e]),d.useEffect(()=>{if(!c)return;const N=C=>{if(b.current!==C.pointerId)return;const S=x.current;if(typeof window>"u"||!S)return;const F=Mx(S);if(!F)return;w(D=>D===F.strategy?D:F.strategy),v.current=!0,C.preventDefault();const E=F.rect,I=S.getBoundingClientRect(),T=C.clientX-E.left-p.x,A=C.clientY-E.top-p.y;h({x:ip(T,Rd,E.width-I.width-Rd),y:ip(A,Ld,E.height-I.height-Ld)})},j=C=>{if(b.current!==C.pointerId)return;b.current=null;const S=x.current;S?.hasPointerCapture(C.pointerId)&&S.releasePointerCapture(C.pointerId),u(!1)};return window.addEventListener("pointermove",N),window.addEventListener("pointerup",j),window.addEventListener("pointercancel",j),()=>{b.current!==null&&x.current?.hasPointerCapture(b.current)&&x.current.releasePointerCapture(b.current),window.removeEventListener("pointermove",N),window.removeEventListener("pointerup",j),window.removeEventListener("pointercancel",j)}},[c,p]);const _=N=>{if(N.button!==0&&N.pointerType!=="touch"||N.target.closest("button"))return;const j=x.current;if(!j)return;const C=Mx(j);C&&w(F=>F===C.strategy?F:C.strategy),N.preventDefault();const S=j.getBoundingClientRect();f({x:N.clientX-S.left,y:N.clientY-S.top}),b.current=N.pointerId,j.hasPointerCapture(N.pointerId)||j.setPointerCapture(N.pointerId),u(!0)};return d.useEffect(()=>{e||!c||(b.current!==null&&x.current?.hasPointerCapture(b.current)&&x.current.releasePointerCapture(b.current),b.current=null,u(!1))},[e,c]),t.jsx(t.Fragment,{children:t.jsx(Kn,{children:e&&t.jsx(fe.div,{ref:x,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},onPointerDown:_,style:{left:m.x,top:m.y,visibility:g.current?"visible":"hidden"},className:k(y==="fixed"?"fixed":"absolute","z-[48] w-fit select-none",c?"cursor-grabbing":"cursor-grab",r),children:t.jsxs("div",{className:"bg-[#202124] border border-[rgba(255,255,255,0.2)] rounded-xl px-4 py-2 pl-3 pr-2 flex items-center gap-4 shadow-[0px_7px_15px_0px_rgba(0,0,0,0.09),0px_26px_26px_0px_rgba(0,0,0,0.08),0px_59px_36px_0px_rgba(0,0,0,0.05),0px_106px_42px_0px_rgba(0,0,0,0.01),0px_165px_46px_0px_rgba(0,0,0,0)]",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(R8e,{className:"w-4 h-4 text-white opacity-60"}),t.jsx("span",{className:"text-white opacity-60 font-['Brockmann'] font-medium text-sm",children:"Unsaved Changes"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:()=>{l?.({onConfirm:()=>{H(Xt.VISUAL_EDIT_DISCARDED,{jobId:i,source:"floating_save_button"}),s()},title:"Discard Changes?",description:"Are you sure you want to discard your changes? You will lose your unsaved changes.",confirmButton:{text:"Discard",variant:"destructive"},cancelButton:{text:"Cancel",variant:"outline"},isFullscreen:o})},className:"bg-[rgba(255,255,255,0.16)] opacity-92 hover:opacity-100 rounded-md px-3 py-1 flex items-center justify-center gap-1 transition-opacity duration-200",children:t.jsx("span",{className:"text-white font-['Brockmann'] font-semibold text-sm",children:"Discard"})}),t.jsxs("button",{type:"button",onClick:()=>{H(Xt.VISUAL_EDIT_SAVED,{jobId:i,source:"floating_save_button"}),n()},className:"bg-[#0161D1] opacity-92 hover:opacity-100 rounded-md px-3 py-1 flex items-center justify-center gap-1 transition-opacity duration-200",children:[t.jsx("span",{className:"text-white font-['Brockmann'] font-semibold text-sm",children:"Save Changes"}),t.jsxs("div",{className:"flex items-center gap-[2px]",children:[t.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded bg-white/20 border border-white/[0.08]",children:t.jsx("span",{className:"text-white font-['Brockmann'] font-medium text-[8px] leading-none text-center tracking-[-0.01em]",children:navigator.platform.toLowerCase().includes("mac")?"":"Ctrl"})}),t.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded bg-white/20 border border-white/[0.08]",children:t.jsx("span",{className:"text-white font-['Brockmann'] font-medium text-[12px] leading-none text-center tracking-[-0.01em]",children:"S"})})]})]})]})]})})})})}const O8e=({jobId:e,expoDisplayUrl:n,expoUrl:s})=>{const r=d.useRef(null),i=d.useRef(null);return d.useEffect(()=>()=>{r.current&&(clearTimeout(r.current),r.current=null),i.current&&(i.current(),i.current=null)},[]),{handlePreviewOnMobileClick:()=>{ss(sw.PREVIEW_ON_MOBILE_CLICKED,{jobId:e});const l=/iPhone|iPad|iPod/i.test(navigator.userAgent),c=/Android/i.test(navigator.userAgent);if((l||c)&&s){r.current&&(clearTimeout(r.current),r.current=null),i.current&&(i.current(),i.current=null);let p=!1;const f=()=>{document.hidden&&(p=!0)},m=()=>{p=!0},h=()=>{p=!0};document.addEventListener("visibilitychange",f),window.addEventListener("blur",m),window.addEventListener("pagehide",h),i.current=()=>{document.removeEventListener("visibilitychange",f),window.removeEventListener("blur",m),window.removeEventListener("pagehide",h)},window.location.href=s,r.current=setTimeout(()=>{i.current&&(i.current(),i.current=null),!p&&document.hasFocus()&&!document.hidden&&(l?window.location.href="https://apps.apple.com/app/expo-go/id982107779":c&&(window.location.href="https://play.google.com/store/apps/details?id=host.exp.exponent")),r.current=null},2500)}else n&&window.open(n,"_blank")},handlePreviewCloseClick:l=>{l(),ss(sw.PREVIEW_CLOSE_CLICKED,{jobId:e})}}};let Rx=null;function Y$(){const e=d.useRef(null),n=d.useCallback((i,a,o,l,c,u)=>{const p={activeJobId:i,hasUnsavedChanges:a,pendingChangesCount:o,onSave:l,onDiscard:c,onDisableVisualEdit:u};e.current=p,Rx=p},[]),s=d.useCallback(()=>{Rx===e.current&&(Rx=null),e.current=null},[]),r=d.useCallback(()=>Rx,[]);return{registerVisualEditState:n,clearVisualEditState:s,getVisualEditState:r}}const B8e=1e3;function BT(e){const n=e.split(" ").filter(Boolean),s=[],r=[],i="transparent|current|inherit|black|white|slate|gray|zinc|neutral|stone|red|orange|amber|yellow|lime|green|emerald|teal|cyan|sky|blue|indigo|violet|purple|fuchsia|pink|rose",a="\\[(#[0-9a-fA-F]{3,8}|rgba?\\([^)]+\\)|hsla?\\([^)]+\\))\\]",o=new RegExp(`^!?text-(${i})(-\\d+)?(\\/\\d+)?$|^!?text-${a}$`),l=new RegExp(`^!?bg-(${i})(-\\d+)?(\\/\\d+)?$|^!?bg-${a}$`);return n.forEach(c=>{const u=c.startsWith("!")?c.slice(1):c;o.test(c)?s.push(u):l.test(c)&&r.push(u)}),{textColors:s,bgColors:r}}function Lx(e){if(e.includes("[")){const n=e.match(/\[(.+)\]/);return n?n[1]:e}return e.replace(/^(text-|bg-)/,"")}function UT(e){const n=e.split(" ").filter(Boolean);let s="",r="",i="";const a=/^!?font-(sans|serif|mono)$|^!?font-\[.+\]$/,o=/^!?font-(thin|extralight|light|normal|medium|semibold|bold|extrabold|black)$/,l=/^!?text-(xs|sm|base|lg|xl|2xl|3xl|4xl|5xl|6xl|7xl|8xl|9xl)$|^!?text-\[\d+.+\]$/;return n.forEach(c=>{const u=c.startsWith("!")?c.slice(1):c;a.test(c)?s=u:o.test(c)?r=u:l.test(c)&&(i=u)}),{fontFamily:s,fontWeight:r,fontSize:i}}function ap(e){if(e.includes("[")){const n=e.match(/\[(.+)\]/);return n?n[1]:e}return e.replace(/^(font-|text-)/,"")}function HT(e){const n=e.split(" ").filter(Boolean);let s="",r="",i="",a="";const o=/^!?text-(left|center|right|justify|start|end)$/,l=/^!?justify-(start|end|center|between|around|evenly)$/,c=/^!?items-(start|end|center|baseline|stretch)$/,u=/^!?object-(left|center|right|top|bottom|left-top|left-bottom|right-top|right-bottom)$/;return n.forEach(p=>{const f=p.startsWith("!")?p.slice(1):p;o.test(p)?s=f:l.test(p)?r=f:c.test(p)?i=f:u.test(p)&&(a=f)}),{textAlign:s,justifyContent:r,alignItems:i,objectPosition:a}}function Cc(e){return e.replace(/^(text-|justify-|items-|object-)/,"")}function U8e(e,n){const s=BT(e),r=BT(n),i=UT(e),a=UT(n),o=HT(e),l=HT(n),c={textColorChange:null,bgColorChange:null,fontFamilyChange:null,fontWeightChange:null,fontSizeChange:null,textAlignChange:null,justifyChange:null,alignItemsChange:null,objectPositionChange:null},u=s.textColors[0]||"",p=r.textColors[0]||"";u!==p&&(u||p)&&(c.textColorChange={old:u?Lx(u):"none",new:p?Lx(p):"none"});const f=s.bgColors[0]||"",m=r.bgColors[0]||"";return f!==m&&(f||m)&&(c.bgColorChange={old:f?Lx(f):"none",new:m?Lx(m):"none"}),i.fontFamily!==a.fontFamily&&(i.fontFamily||a.fontFamily)&&(c.fontFamilyChange={old:i.fontFamily?ap(i.fontFamily):"default",new:a.fontFamily?ap(a.fontFamily):"default"}),i.fontWeight!==a.fontWeight&&(i.fontWeight||a.fontWeight)&&(c.fontWeightChange={old:i.fontWeight?ap(i.fontWeight):"normal",new:a.fontWeight?ap(a.fontWeight):"normal"}),i.fontSize!==a.fontSize&&(i.fontSize||a.fontSize)&&(c.fontSizeChange={old:i.fontSize?ap(i.fontSize):"default",new:a.fontSize?ap(a.fontSize):"default"}),o.textAlign!==l.textAlign&&(o.textAlign||l.textAlign)&&(c.textAlignChange={old:o.textAlign?Cc(o.textAlign):"left",new:l.textAlign?Cc(l.textAlign):"left"}),o.justifyContent!==l.justifyContent&&(o.justifyContent||l.justifyContent)&&(c.justifyChange={old:o.justifyContent?Cc(o.justifyContent):"start",new:l.justifyContent?Cc(l.justifyContent):"start"}),o.alignItems!==l.alignItems&&(o.alignItems||l.alignItems)&&(c.alignItemsChange={old:o.alignItems?Cc(o.alignItems):"stretch",new:l.alignItems?Cc(l.alignItems):"stretch"}),o.objectPosition!==l.objectPosition&&(o.objectPosition||l.objectPosition)&&(c.objectPositionChange={old:o.objectPosition?Cc(o.objectPosition):"center",new:l.objectPosition?Cc(l.objectPosition):"center"}),c}function H8e(){const e=d.useRef({timeoutId:null,pendingData:null}),n=d.useCallback((c,u,p,f,m,h)=>{if(m===h)return;e.current.timeoutId&&clearTimeout(e.current.timeoutId);const x=e.current.pendingData;e.current.pendingData={elementId:c,fileName:u,lineNumber:p,component:f,oldValue:x?.elementId===c?x.oldValue:m,newValue:h},e.current.timeoutId=setTimeout(()=>{const g=e.current.pendingData;g&&g.oldValue!==g.newValue&&H(Xt.TEXT_CHANGED,{elementId:g.elementId,fileName:g.fileName,lineNumber:g.lineNumber,component:g.component,oldValue:g.oldValue,newValue:g.newValue,changeDescription:`changed "${g.oldValue}" to "${g.newValue}"`}),e.current.pendingData=null,e.current.timeoutId=null},B8e)},[]),s=d.useCallback((c,u,p,f,m,h,x)=>{h!==x&&H(Xt.COLOR_CHANGED,{elementId:c,fileName:u,lineNumber:p,component:f,colorType:m,oldColor:h,newColor:x,changeDescription:`changed ${m} color "${h}" to "${x}"`})},[]),r=d.useCallback((c,u,p,f,m,h,x)=>{h!==x&&H(Xt.FONT_CHANGED,{elementId:c,fileName:u,lineNumber:p,component:f,fontProperty:m,oldValue:h,newValue:x,changeDescription:`changed font ${m} "${h}" to "${x}"`})},[]),i=d.useCallback((c,u,p,f,m,h,x)=>{h!==x&&H(Xt.LAYOUT_CHANGED,{elementId:c,fileName:u,lineNumber:p,component:f,layoutType:m,oldValue:h,newValue:x,changeDescription:`changed ${m} "${h}" to "${x}"`})},[]),a=d.useCallback((c,u,p,f,m,h)=>{const x=U8e(m,h);x.textColorChange&&s(c,u,p,f,"text",x.textColorChange.old,x.textColorChange.new),x.bgColorChange&&s(c,u,p,f,"background",x.bgColorChange.old,x.bgColorChange.new),x.fontFamilyChange&&r(c,u,p,f,"family",x.fontFamilyChange.old,x.fontFamilyChange.new),x.fontWeightChange&&r(c,u,p,f,"weight",x.fontWeightChange.old,x.fontWeightChange.new),x.fontSizeChange&&r(c,u,p,f,"size",x.fontSizeChange.old,x.fontSizeChange.new),x.textAlignChange&&i(c,u,p,f,"text-align",x.textAlignChange.old,x.textAlignChange.new),x.justifyChange&&i(c,u,p,f,"container-justify",x.justifyChange.old,x.justifyChange.new),x.alignItemsChange&&i(c,u,p,f,"container-align",x.alignItemsChange.old,x.alignItemsChange.new),x.objectPositionChange&&i(c,u,p,f,"image-align",x.objectPositionChange.old,x.objectPositionChange.new)},[s,r,i]),o=d.useCallback(c=>{H(Xt.SESSION_SAVED,{totalChanges:c.length,changes:JSON.stringify(c)})},[]),l=d.useCallback(c=>{H(Xt.SESSION_DISCARDED,{totalChanges:c.length,changes:JSON.stringify(c)})},[]);return{trackTextChange:n,trackColorChange:s,trackFontChange:r,trackLayoutChange:i,trackStyleChange:a,trackSessionSaved:o,trackSessionDiscarded:l}}const V8e=({size:e=16,color:n="white",className:s="",...r})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 16 16",fill:"none",className:s,...r,children:[t.jsx("path",{d:"M11.3307 0.667969H4.66406C3.55949 0.667969 2.66406 1.5634 2.66406 2.66797V13.3346C2.66406 14.4392 3.55949 15.3346 4.66406 15.3346H11.3307C12.4353 15.3346 13.3307 14.4392 13.3307 13.3346V2.66797C13.3307 1.5634 12.4353 0.667969 11.3307 0.667969Z",stroke:n,strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M6.66406 12.668H9.33073",stroke:n,strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})]}),o5=({size:e=48,color:n="#B8B8CC",className:s="",...r})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:t.jsx("path",{d:"M11 17H13V11H11V17ZM12 9C12.2833 9 12.5208 8.90417 12.7125 8.7125C12.9042 8.52083 13 8.28333 13 8C13 7.71667 12.9042 7.47917 12.7125 7.2875C12.5208 7.09583 12.2833 7 12 7C11.7167 7 11.4792 7.09583 11.2875 7.2875C11.0958 7.47917 11 7.71667 11 8C11 8.28333 11.0958 8.52083 11.2875 8.7125C11.4792 8.90417 11.7167 9 12 9ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:n})});function l5({children:e,iconSize:n=20,iconColor:s="#7F8283",iconComponent:r=o5,tooltipFillColor:i="#1E2224",className:a,side:o="bottom"}){const l=r||o5,{isMobile:c}=ts(),u=t.jsx("button",{type:"button",tabIndex:-1,className:"inline-flex items-center justify-center align-text-bottom relative",children:t.jsx(l,{size:n,color:s})}),p="border-none rounded-[12px] p-3 shadow-lg max-w-[320px]";return c?t.jsxs(Gc,{children:[t.jsx(qc,{asChild:!0,children:u}),t.jsxs(td,{side:o,align:"center",className:k(p,a,"w-auto"),children:[t.jsx(mbe,{style:{fill:i},width:16,height:8}),e]})]}):t.jsx(ms,{children:t.jsxs(Ss,{delayDuration:0,children:[t.jsx(ks,{asChild:!0,children:u}),t.jsxs(Ns,{side:o,align:"center",className:k(p,a),children:[t.jsx(Co,{style:{fill:i},width:16,height:8}),e]})]})})}const $8e=({size:e=48,color:n="#989EA0",className:s="",...r})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:t.jsx("path",{d:"M9.4 13H10.6V9.4H9.4V13ZM10 8.2C10.17 8.2 10.3125 8.1425 10.4275 8.0275C10.5425 7.9125 10.6 7.77 10.6 7.6C10.6 7.43 10.5425 7.2875 10.4275 7.1725C10.3125 7.0575 10.17 7 10 7C9.83 7 9.6875 7.0575 9.5725 7.1725C9.4575 7.2875 9.4 7.43 9.4 7.6C9.4 7.77 9.4575 7.9125 9.5725 8.0275C9.6875 8.1425 9.83 8.2 10 8.2ZM10 16C9.17 16 8.39 15.8425 7.66 15.5275C6.93 15.2125 6.295 14.785 5.755 14.245C5.215 13.705 4.7875 13.07 4.4725 12.34C4.1575 11.61 4 10.83 4 10C4 9.17 4.1575 8.39 4.4725 7.66C4.7875 6.93 5.215 6.295 5.755 5.755C6.295 5.215 6.93 4.7875 7.66 4.4725C8.39 4.1575 9.17 4 10 4C10.83 4 11.61 4.1575 12.34 4.4725C13.07 4.7875 13.705 5.215 14.245 5.755C14.785 6.295 15.2125 6.93 15.5275 7.66C15.8425 8.39 16 9.17 16 10C16 10.83 15.8425 11.61 15.5275 12.34C15.2125 13.07 14.785 13.705 14.245 14.245C13.705 14.785 13.07 15.2125 12.34 15.5275C11.61 15.8425 10.83 16 10 16ZM10 14.8C11.34 14.8 12.475 14.335 13.405 13.405C14.335 12.475 14.8 11.34 14.8 10C14.8 8.66 14.335 7.525 13.405 6.595C12.475 5.665 11.34 5.2 10 5.2C8.66 5.2 7.525 5.665 6.595 6.595C5.665 7.525 5.2 8.66 5.2 10C5.2 11.34 5.665 12.475 6.595 13.405C7.525 14.335 8.66 14.8 10 14.8Z",fill:n})});function Z$(e){const[n,s]=d.useState(""),[r,i]=d.useState(""),[a,o]=d.useState(!1),[l,c]=d.useState(""),u=d.useRef("");let p="";e&&(e.startsWith("https://")?p=e.replace(/^https:\/\//,"").split(".")[0]:p=e);const f=p?`${window.location.origin}/share-preview?app=${encodeURIComponent(p)}`:"";return d.useEffect(()=>{if(!e){o(!1),s(""),i(""),c(""),u.current="";return}const m=`exp://${p}.ngrok.io`;u.current=m,o(!0),s(""),i(m),c(""),a5.toDataURL(m,{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}}).then(h=>{u.current===m&&s(h)}).catch(h=>{if(u.current===m){const x=h instanceof Error?h.message:"Failed to generate QR code";c(x),jt(Zt.QR_CODE.EXPO_QR_GENERATION,h,{previewUrl:e??void 0,uuid:p||void 0,expUrl:m,errorMessage:x})}}).finally(()=>{u.current===m&&o(!1)})},[e,p]),{qrDataUrl:n,expoUrl:r,isGenerating:a,displayUrl:f,error:l}}function C8({previewUrl:e,onDeployClick:n}){const{qrDataUrl:s,isGenerating:r,displayUrl:i,error:a}=Z$(e);return t.jsxs("div",{className:"flex flex-col gap-6 items-start justify-center overflow-clip p-4 pb-5 rounded-xl w-[256px] shrink-0",children:[t.jsxs("div",{className:"flex flex-col gap-2 items-center w-full",children:[t.jsxs("div",{className:"flex gap-2 h-7 items-center justify-center",children:[t.jsx(V8e,{size:16,color:"#F2F5F7"}),t.jsx("p",{className:"font-brockmann font-medium leading-7 text-base text-[#F2F5F7]",children:"Try your app on mobile"})]}),t.jsxs("div",{className:"flex flex-col gap-4 items-center w-full",children:[t.jsx("p",{className:"font-inter font-medium leading-5 text-sm text-[#989EA0] text-center",children:"Download Expo Go app and scan the QR preview to view your app on your phone."}),t.jsx("div",{className:"bg-[#151819] flex items-center p-3 rounded-[9.6px] w-[121px] h-[121px]",children:t.jsx("div",{className:"flex flex-1 flex-col items-center justify-center rounded overflow-clip relative",children:r?t.jsx("div",{className:"w-[96px] h-[96px] flex items-center justify-center",children:t.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."})}):s?t.jsx(t.Fragment,{children:t.jsx("img",{src:s,alt:"Expo QR Code",className:"w-[96px] h-[96px]"})}):t.jsx("div",{className:"w-[96px] h-[96px] flex items-center justify-center text-gray-500 text-xs text-center",children:a||"Failed to generate QR code"})})}),t.jsxs("div",{className:"flex flex-col gap-2 items-center w-full",children:[t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("p",{className:"font-inter font-medium leading-5 text-sm text-[#989EA0] text-center",children:"Share URL"}),t.jsx(l5,{iconSize:20,iconComponent:$8e,tooltipFillColor:"#1C1C1F",className:"bg-[#1C1C1F] w-[260px] p-4",children:t.jsx("div",{className:"flex flex-col items-start rounded-xl",children:t.jsxs("p",{className:"font-inter font-normal leading-5 text-sm text-[#989EA0] text-center",children:["Preview expires in 30 mins.",t.jsx("br",{}),"Deploy your app to get a permanent link that never expires."]})})})]}),t.jsxs("div",{className:"border border-white/[0.12] flex gap-0.5 h-9 items-center pl-3 pr-1 py-0.5 rounded-lg w-full",children:[t.jsx("div",{className:"flex flex-1 h-full items-center overflow-hidden",children:t.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"font-inter font-medium leading-5 text-[13px] text-[#989EA0] underline truncate hover:text-[#F2F5F7] transition-colors",children:i})}),t.jsx(rc,{value:i,iconOnly:!0,buttonClassName:"rounded-lg p-1.5 hover:bg-white/10 transition-colors",iconProps:{size:16,className:"text-[#989EA0]"},tooltipText:"Copy URL",copiedTooltipText:"Copied!",tabIndex:-1})]})]}),t.jsx("div",{className:"flex items-start w-full",children:t.jsx("p",{className:"flex-1 font-inter font-normal leading-[18px] text-xs text-[#696E70]",children:"Browser preview is limited. Use Expo Go on your phone for the full experience."})})]})]}),t.jsxs("button",{onClick:n,className:"bg-[#222224] flex gap-1 h-10 items-center justify-center px-3 rounded-[28px] w-full hover:bg-[#2a2a2c] transition-colors",children:[t.jsx("div",{className:"flex items-center",children:t.jsx("p",{className:"font-brockmann font-medium leading-6 text-base text-[#DCDCE5]",children:"Take your app live"})}),t.jsx(Bo,{className:"w-5 h-5 text-white"})]})]})}const x3=({width:e=20,height:n=20,fill:s="#737380",hoverColor:r,isHovered:i,className:a,style:o,onClick:l,"aria-label":c="Refresh icon",focusable:u=!1,viewBox:p="0 0 20 20",spinning:f=!1,...m})=>{const[h,x]=d.useState(!1),v=(i!==void 0?i:h)&&r?r:s,b={...o,...f&&{animation:"spin 1s linear infinite",transformOrigin:"center"}},y=`${a||""} ${f?"refresh-spinning":""}`.trim();return t.jsxs(t.Fragment,{children:[f&&t.jsx("style",{children:`
            @keyframes spin {
              from { transform: rotate(0deg); }
              to { transform: rotate(360deg); }
            }
          `}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:p,fill:"none",className:y,style:b,onClick:l,"aria-label":c,focusable:u,onMouseEnter:()=>r&&x(!0),onMouseLeave:()=>r&&x(!1),...m,children:t.jsx("path",{d:"M10.0418 16.6667C8.18072 16.6667 6.59738 16.0209 5.29183 14.7292C3.98627 13.4375 3.3335 11.8612 3.3335 10V9.85421L2.00016 11.1875L0.833496 10.0209L4.16683 6.68754L7.50016 10.0209L6.3335 11.1875L5.00016 9.85421V10C5.00016 11.3889 5.48975 12.5695 6.46891 13.5417C7.44808 14.5139 8.63905 15 10.0418 15C10.4029 15 10.7571 14.9584 11.1043 14.875C11.4516 14.7917 11.7918 14.6667 12.1252 14.5L13.3752 15.75C12.8474 16.0556 12.3057 16.2848 11.7502 16.4375C11.1946 16.5903 10.6252 16.6667 10.0418 16.6667ZM15.8335 13.3125L12.5002 9.97921L13.6668 8.81254L15.0002 10.1459V10C15.0002 8.61115 14.5106 7.4306 13.5314 6.45837C12.5522 5.48615 11.3613 5.00004 9.9585 5.00004C9.59738 5.00004 9.24322 5.04171 8.896 5.12504C8.54877 5.20837 8.2085 5.33337 7.87516 5.50004L6.62516 4.25004C7.15294 3.94449 7.69461 3.71532 8.25016 3.56254C8.80572 3.40976 9.37516 3.33337 9.9585 3.33337C11.8196 3.33337 13.4029 3.97921 14.7085 5.27087C16.014 6.56254 16.6668 8.13893 16.6668 10V10.1459L18.0002 8.81254L19.1668 9.97921L15.8335 13.3125Z",fill:v,style:{transition:"fill 0.2s ease"}})})]})},z8e=({size:e=18,color:n,className:s="",selected:r=!1,...i})=>{const a=n??(r?"white":"#737380");return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 18 18",fill:"none",className:s,...i,children:t.jsx("path",{d:"M6.75 12C6.75 11.5858 6.41422 11.25 6 11.25H4.5C4.08578 11.25 3.75 11.5858 3.75 12V13.5C3.75 13.9142 4.08578 14.25 4.5 14.25H6C6.41422 14.25 6.75 13.9142 6.75 13.5V12ZM9.75 15V14.9927C9.75 14.5785 10.0858 14.2427 10.5 14.2427C10.9142 14.2427 11.25 14.5785 11.25 14.9927V15C11.25 15.4142 10.9142 15.75 10.5 15.75C10.0858 15.75 9.75 15.4142 9.75 15ZM12.75 15V13.5C12.75 13.0858 13.0858 12.75 13.5 12.75H15C15.4142 12.75 15.75 13.0858 15.75 13.5C15.75 13.9142 15.4142 14.25 15 14.25H14.25V15C14.25 15.4142 13.9142 15.75 13.5 15.75C13.0858 15.75 12.75 15.4142 12.75 15ZM9.75 10.5C9.75 10.0858 10.0858 9.75 10.5 9.75C10.9142 9.75 11.25 10.0858 11.25 10.5V11.25H12C12.4142 11.25 12.75 11.5858 12.75 12C12.75 12.4142 12.4142 12.75 12 12.75H10.5C10.0858 12.75 9.75 12.4142 9.75 12V10.5ZM15 9.75C15.4142 9.75 15.75 10.0858 15.75 10.5C15.75 10.9142 15.4142 11.25 15 11.25H13.5C13.0858 11.25 12.75 10.9142 12.75 10.5C12.75 10.0858 13.0858 9.75 13.5 9.75H15ZM6.75 4.5C6.75 4.08579 6.41421 3.75 6 3.75H4.5C4.08579 3.75 3.75 4.08579 3.75 4.5V6C3.75 6.41421 4.08579 6.75 4.5 6.75H6C6.41421 6.75 6.75 6.41421 6.75 6V4.5ZM14.25 4.5C14.25 4.08578 13.9142 3.75 13.5 3.75H12C11.5858 3.75 11.25 4.08578 11.25 4.5V6C11.25 6.41422 11.5858 6.75 12 6.75H13.5C13.9142 6.75 14.25 6.41422 14.25 6V4.5ZM8.25 13.5C8.25 14.7427 7.24263 15.75 6 15.75H4.5C3.25737 15.75 2.25 14.7427 2.25 13.5V12C2.25 10.7573 3.25737 9.75 4.5 9.75H6C7.24263 9.75 8.25 10.7573 8.25 12V13.5ZM8.25 6C8.25 7.24264 7.24264 8.25 6 8.25H4.5C3.25736 8.25 2.25 7.24264 2.25 6V4.5C2.25 3.25736 3.25736 2.25 4.5 2.25H6C7.24264 2.25 8.25 3.25736 8.25 4.5V6ZM15.75 6C15.75 7.24263 14.7427 8.25 13.5 8.25H12C10.7573 8.25 9.75 7.24263 9.75 6V4.5C9.75 3.25737 10.7573 2.25 12 2.25H13.5C14.7427 2.25 15.75 3.25737 15.75 4.5V6Z",fill:a})})},W8e=K.panels.share,J$=d.forwardRef(({onClick:e,...n},s)=>t.jsxs("button",{ref:s,"data-testid":gs.preview.shareButton,type:"button",onClick:e,className:"flex items-center justify-center h-8 bg-white hover:bg-white/90 rounded-[6px] gap-1 p-1 pr-2",...n,children:[t.jsx("img",{src:W8e,alt:"Share app",className:"w-5 h-5"}),t.jsx("span",{className:"text-[#0F0F10] font-semibold text-[14px]",children:"Share"})]}));J$.displayName="PreviewShareButton";const X$=({size:e=24,className:n})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:k(n),children:t.jsx("path",{d:"M12 3C7.58 3 4 4.79 4 7V17C4 19.21 7.58 21 12 21C16.42 21 20 19.21 20 17V7C20 4.79 16.42 3 12 3ZM12 5C15.87 5 18 6.5 18 7C18 7.5 15.87 9 12 9C8.13 9 6 7.5 6 7C6 6.5 8.13 5 12 5ZM6 9.72C7.61 10.53 9.72 11 12 11C14.28 11 16.39 10.53 18 9.72V12C18 12.5 15.87 14 12 14C8.13 14 6 12.5 6 12V9.72ZM6 14.72C7.61 15.53 9.72 16 12 16C14.28 16 16.39 15.53 18 14.72V17C18 17.5 15.87 19 12 19C8.13 19 6 17.5 6 17V14.72Z",fill:"currentColor"})}),Px="https://dataviewer-7.emergent.host/",VT="https://mongoview.emergent.host/";function Q$(){const[e,{isLoading:n}]=qre(),s=bO();return{handleGoToDatabase:d.useCallback(async()=>{if(s)try{const i=await e().unwrap(),a=`${VT}?token=${i.token}`;H(hg.DATABASE_ACCESS_CLICKED,{url:VT,version:"v2"}),window.open(a,"_blank")}catch{H(hg.DATABASE_ACCESS_CLICKED,{url:Px,version:"v2",error:"token_fetch_failed"}),window.open(Px,"_blank")}else H(hg.DATABASE_ACCESS_CLICKED,{url:Px}),window.open(Px,"_blank")},[s,e]),isLoading:s&&n}}const G8e=K.panels.link,q8e=K.panels.close;function K8e({jobId:e,isExpoImage:n,previewUrl:s,iframeLoading:r,shouldDisableShareAndOpen:i,showPreviewExpoInfoSection:a,handleShareClick:o,handleRefresh:l,handleOpenInNewTab:c,onClose:u,onDeployClick:p,visualEditMode:f=!1,onVisualEditClick:m,showVisualEditButton:h=!1,visualEditDisabled:x=!1,isVisualEditChangesEnabled:g}){const{handleGoToDatabase:v,isLoading:b}=Q$(),{isSuccess:y}=Kr(),{data:w}=Wa(void 0,{skip:!y}),{getCurrentOrganizationId:_}=hs(),N=_(),{data:j}=WP({jobId:e,organization_id:N},{skip:!e}),C=j?.runs?.some(E=>E.status==="success")??!1,S=(w?.db_tool??!1)&&C,F=()=>{H(Xt.VISUAL_EDIT_ENABLED,{jobId:e,source:"preview_panel"}),m?.()};return t.jsxs("div",{className:"p-4 px-0 md:p-4 bg-[#111112] z-[2] flex items-center justify-between border-b border-[#242424]/60",children:[t.jsx("div",{className:"text-[#939399] font-['Brockmann'] text-[15px] md:text-[18px] font-medium leading-[24px]",children:"App Preview"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(ms,{children:[s&&n&&!a&&t.jsxs(Gc,{children:[t.jsx(qc,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex items-center justify-center p-[6px] w-8 h-8 rounded-[6px] bg-[#FFFFFF0A] hover:bg-[#FFFFFF14]",children:t.jsx(z8e,{})})}),t.jsx(td,{side:"bottom",sideOffset:24,align:"end",className:"p-0 w-auto bg-[#131314] rounded-xl border border-[#242424]",children:t.jsx(C8,{previewUrl:s,onDeployClick:p})})]}),s&&!n&&!i&&t.jsxs(Ss,{delayDuration:100,children:[t.jsx(ks,{asChild:!0,children:t.jsx(J$,{onClick:o})}),t.jsx(Ns,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0 font-inter font-medium",children:"Share"})]}),S&&t.jsxs(Ss,{delayDuration:100,children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{type:"button",title:"Database",onClick:v,disabled:b,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px] disabled:opacity-50 disabled:cursor-not-allowed",children:b?t.jsx(tn,{size:20,className:"text-white/60 animate-spin"}):t.jsx(X$,{size:20,className:"text-white/60"})})}),t.jsx(Ns,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0 font-inter font-medium",children:"Database"})]}),g&&h&&s&&t.jsx(gC,{visualEditMode:f,onClick:F,disabled:x,isVisualEditChangesEnabled:g,tooltipSide:"bottom"}),s&&t.jsxs(Ss,{delayDuration:100,children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{"data-testid":gs.preview.refreshButton,title:"Refresh",type:"button",onClick:l,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx(x3,{width:20,height:20,spinning:r})})}),t.jsx(Ns,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0 font-inter font-medium",children:"Refresh"})]}),!n&&s&&!i&&t.jsxs(Ss,{delayDuration:100,children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{"data-testid":gs.preview.openNewTabButton,type:"button",onClick:c,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx("img",{src:G8e,alt:"Open in new tab",className:"w-5 h-5"})})}),t.jsx(Ns,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0 font-inter font-medium",children:"Open in new tab"})]}),t.jsxs(Ss,{delayDuration:100,children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{"data-testid":gs.preview.closeButton,type:"button",title:"Close",onClick:u,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx("img",{src:q8e,alt:"Close",className:"w-5 h-5"})})}),t.jsx(Ns,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0 font-inter font-medium",children:"Close"})]})]})})]})}const Y8e=({color:e="#737380",size:n=20,className:s=""})=>t.jsx("svg",{width:n,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M6.43188 5.13649C6.43193 4.83302 6.5525 4.54199 6.76709 4.3274C6.98168 4.11281 7.27271 3.99223 7.57619 3.99219L14.8596 3.99219C15.1631 3.99223 15.4541 4.11281 15.6687 4.3274C15.8833 4.54199 16.0039 4.83302 16.0039 5.13649V12.4199C15.9987 12.72 15.8758 13.0059 15.6618 13.2163C15.4478 13.4266 15.1597 13.5445 14.8596 13.5445C14.5595 13.5445 14.2714 13.4266 14.0574 13.2163C13.8434 13.0059 13.7205 12.72 13.7153 12.4199L13.6457 7.96893L5.95765 15.657C5.74302 15.8716 5.45192 15.9922 5.14838 15.9922C4.84485 15.9922 4.55375 15.8716 4.33912 15.657C4.12448 15.4423 4.00391 15.1512 4.00391 14.8477C4.00391 14.5442 4.12448 14.2531 4.33912 14.0384L12.0272 6.35039L7.57619 6.2808C7.27271 6.28075 6.98168 6.16018 6.76709 5.94559C6.5525 5.731 6.43193 5.43997 6.43188 5.13649Z",fill:e})});function Z8e({previewUrl:e,iframeLoading:n,shouldDisableShareAndOpen:s,handleRefresh:r,handleOpenInNewTab:i,onClose:a}){return t.jsx("div",{className:"p-4 md:p-4 bg-[#111112] md:bg-transparent flex items-center justify-between border-b border-[#242424]/60",children:t.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[t.jsx("div",{className:"flex items-center gap-2",children:e&&t.jsx("button",{title:"Refresh",type:"button",onClick:r,className:"w-9 h-9 bg-[#FFFFFF]/10 hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[32px]",children:t.jsx(x3,{width:22,height:22,spinning:n,fill:"#DCDCE5"})})}),t.jsx("div",{className:"text-[#fff] font-['Brockmann'] text-[18px] font-medium leading-[24px]",children:"Preview"}),t.jsxs("div",{className:"flex items-center gap-2",children:[e&&!s&&t.jsx("button",{title:"Open in new tab",type:"button",onClick:i,className:"w-9 h-9 bg-[#FFFFFF]/10 hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[32px]",children:t.jsx(Y8e,{color:"#fff",size:22})}),t.jsx("button",{onClick:a,className:" p-1 w-9 h-9 bg-[#FFFFFF]/10 hover:bg-[#FFFFFF14] rounded-full flex items-center justify-center backdrop-blur-lg",title:"Close",children:t.jsx(Ft,{})})]})]})})}class J8e extends d.Component{constructor(){super(...arguments);Vt(this,"state",{hasError:!1,error:null});Vt(this,"handleRetry",()=>{this.setState({hasError:!1,error:null}),this.props.onRetry?.()})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){jt(Zt.PREVIEW_PANEL.RENDER_CRASH,s,{componentStack:r.componentStack?.slice(0,500)||"unknown",jobId:this.props.jobId||"unknown",errorMessage:s.message}),ss(sw.RENDER_CRASH,{jobId:this.props.jobId,errorMessage:s.message,errorName:s.name})}render(){return this.state.hasError?t.jsx("div",{className:"flex flex-col items-center justify-center h-full w-full bg-[#111112] gap-4",children:t.jsxs("div",{className:"flex flex-col items-center max-w-md text-center gap-3",children:[t.jsx("p",{className:"text-[#C4C4CC] text-lg font-medium",children:"Preview panel encountered an error"}),t.jsx("p",{className:"text-[#939399] text-sm",children:this.state.error?.message||"An unexpected error occurred while rendering the preview."}),t.jsxs("button",{type:"button",onClick:this.handleRetry,className:"mt-2 bg-[#FCB94920] p-[10px] rounded-[6px] flex items-center gap-2 hover:bg-[#FCB94930] transition-colors duration-200",children:[t.jsx(ZU,{className:"w-5 h-5 text-[#FCB949]"}),t.jsx("span",{className:"bg-gradient-to-r from-[#FCB949] to-[#E28C37] text-transparent bg-clip-text font-medium",children:"Retry"})]})]})}):this.props.children}}const X8e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("path",{d:"M13.332 2H2.66536C1.92898 2 1.33203 2.59695 1.33203 3.33333V10C1.33203 10.7364 1.92898 11.3333 2.66536 11.3333H13.332C14.0684 11.3333 14.6654 10.7364 14.6654 10V3.33333C14.6654 2.59695 14.0684 2 13.332 2Z",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M5.33203 14H10.6654",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 11.3359V14.0026",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),Q8e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.75 0C1.7835 0 1 0.783501 1 1.75V14.25C1 15.2165 1.7835 16 2.75 16H13.25C14.2165 16 15 15.2165 15 14.25V1.75C15 0.783502 14.2165 0 13.25 0H2.75ZM2.5 1.75C2.5 1.61193 2.61193 1.5 2.75 1.5H13.25C13.3881 1.5 13.5 1.61193 13.5 1.75V14.25C13.5 14.3881 13.3881 14.5 13.25 14.5H2.75C2.61193 14.5 2.5 14.3881 2.5 14.25V1.75ZM4.75 4.75C5.30228 4.75 5.75 4.30228 5.75 3.75C5.75 3.19772 5.30228 2.75 4.75 2.75C4.19772 2.75 3.75 3.19772 3.75 3.75C3.75 4.30228 4.19772 4.75 4.75 4.75Z",fill:"currentColor"})}),e9e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("path",{d:"M11.332 1.33594H4.66536C3.92898 1.33594 3.33203 1.93289 3.33203 2.66927V13.3359C3.33203 14.0723 3.92898 14.6693 4.66536 14.6693H11.332C12.0684 14.6693 12.6654 14.0723 12.6654 13.3359V2.66927C12.6654 1.93289 12.0684 1.33594 11.332 1.33594Z",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 12H8.00667",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),t9e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("path",{d:"M6.0013 9.33073L2.66797 5.9974L6.0013 2.66406",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2.66797 6H9.66797C10.1495 6 10.6263 6.09484 11.0711 6.27911C11.516 6.46338 11.9202 6.73346 12.2607 7.07394C12.6012 7.41442 12.8713 7.81863 13.0555 8.26349C13.2398 8.70835 13.3346 9.18515 13.3346 9.66667C13.3346 10.1482 13.2398 10.625 13.0555 11.0698C12.8713 11.5147 12.6012 11.9189 12.2607 12.2594C11.9202 12.5999 11.516 12.87 11.0711 13.0542C10.6263 13.2385 10.1495 13.3333 9.66797 13.3333H7.33464",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),n9e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("path",{d:"M10 9.33073L13.3333 5.9974L10 2.66406",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M13.3346 6H6.33464C5.36217 6 4.42954 6.38631 3.74191 7.07394C3.05428 7.76157 2.66797 8.69421 2.66797 9.66667C2.66797 10.1482 2.76281 10.625 2.94708 11.0698C3.13134 11.5147 3.40143 11.9189 3.74191 12.2594C4.42954 12.947 5.36217 13.3333 6.33464 13.3333H8.66797",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),s9e=({className:e})=>t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M2 1.5C1.86739 1.5 1.74021 1.55268 1.64645 1.64645C1.55268 1.74021 1.5 1.86739 1.5 2V3.614C1.5 3.81291 1.42098 4.00368 1.28033 4.14433C1.13968 4.28498 0.948912 4.364 0.75 4.364C0.551088 4.364 0.360322 4.28498 0.21967 4.14433C0.0790175 4.00368 4.19177e-09 3.81291 0 3.614V2C0 1.46957 0.210714 0.960859 0.585786 0.585786C0.960859 0.210714 1.46957 0 2 0H3.614C3.81291 4.19176e-09 4.00368 0.0790175 4.14433 0.21967C4.28498 0.360322 4.364 0.551088 4.364 0.75C4.364 0.948912 4.28498 1.13968 4.14433 1.28033C4.00368 1.42098 3.81291 1.5 3.614 1.5H2ZM7.636 0.75C7.636 0.551088 7.71502 0.360322 7.85567 0.21967C7.99632 0.0790175 8.18709 0 8.386 0H10C10.5304 0 11.0391 0.210714 11.4142 0.585786C11.7893 0.960859 12 1.46957 12 2V3.614C12 3.81291 11.921 4.00368 11.7803 4.14433C11.6397 4.28498 11.4489 4.364 11.25 4.364C11.0511 4.364 10.8603 4.28498 10.7197 4.14433C10.579 4.00368 10.5 3.81291 10.5 3.614V2C10.5 1.86739 10.4473 1.74021 10.3536 1.64645C10.2598 1.55268 10.1326 1.5 10 1.5H8.386C8.18709 1.5 7.99632 1.42098 7.85567 1.28033C7.71502 1.13968 7.636 0.948912 7.636 0.75ZM0.75 7.636C0.948912 7.636 1.13968 7.71502 1.28033 7.85567C1.42098 7.99632 1.5 8.18709 1.5 8.386V10C1.5 10.1326 1.55268 10.2598 1.64645 10.3536C1.74021 10.4473 1.86739 10.5 2 10.5H3.614C3.81291 10.5 4.00368 10.579 4.14433 10.7197C4.28498 10.8603 4.364 11.0511 4.364 11.25C4.364 11.4489 4.28498 11.6397 4.14433 11.7803C4.00368 11.921 3.81291 12 3.614 12H2C1.46957 12 0.960859 11.7893 0.585786 11.4142C0.210714 11.0391 0 10.5304 0 10V8.386C0 8.18709 0.0790175 7.99632 0.21967 7.85567C0.360322 7.71502 0.551088 7.636 0.75 7.636ZM11.25 7.636C11.4489 7.636 11.6397 7.71502 11.7803 7.85567C11.921 7.99632 12 8.18709 12 8.386V10C12 10.5304 11.7893 11.0391 11.4142 11.4142C11.0391 11.7893 10.5304 12 10 12H8.386C8.18709 12 7.99632 11.921 7.85567 11.7803C7.71502 11.6397 7.636 11.4489 7.636 11.25C7.636 11.0511 7.71502 10.8603 7.85567 10.7197C7.99632 10.579 8.18709 10.5 8.386 10.5H10C10.1326 10.5 10.2598 10.4473 10.3536 10.3536C10.4473 10.2598 10.5 10.1326 10.5 10V8.386C10.5 8.18709 10.579 7.99632 10.7197 7.85567C10.8603 7.71502 11.0511 7.636 11.25 7.636Z",fill:"currentColor"})}),r9e=({className:e})=>t.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.408457 0.41041C0.690052 0.128822 1.1466 0.128822 1.42819 0.41041L4.99726 3.97948L8.56629 0.41041C8.84794 0.128822 9.30444 0.128822 9.58609 0.41041C9.86766 0.692005 9.86766 1.14855 9.58609 1.43014L6.01698 4.99921L9.58609 8.56823C9.86766 8.84988 9.86766 9.30638 9.58609 9.58803C9.30444 9.8696 8.84794 9.8696 8.56629 9.58803L4.99726 6.01893L1.42819 9.58803C1.1466 9.8696 0.690052 9.8696 0.408457 9.58803C0.126869 9.30638 0.126869 8.84988 0.408457 8.56823L3.97754 4.99921L0.408457 1.43014C0.126869 1.14855 0.126869 0.692005 0.408457 0.41041Z",fill:"currentColor"})}),i9e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.24748 5.23582C6.44259 5.2128 6.64037 5.24142 6.82267 5.31687L6.82365 5.3159L15.2846 8.77683L15.4281 8.84715C15.5653 8.92714 15.6848 9.03498 15.7787 9.16355L15.8295 9.23972L15.8735 9.31882C15.9702 9.50791 16.013 9.72113 15.9965 9.93406C15.9775 10.1772 15.8824 10.4088 15.724 10.5942C15.5656 10.7794 15.3517 10.9087 15.1147 10.9653V10.9663L11.7699 11.7671L10.9701 15.1128C10.9138 15.3496 10.7837 15.5626 10.599 15.7212C10.4133 15.8805 10.181 15.9765 9.93693 15.9956C9.69289 16.0146 9.44886 15.9553 9.24064 15.8266C9.03263 15.698 8.87085 15.5063 8.77873 15.2798L5.31779 6.82078L5.31877 6.8198C5.23249 6.61111 5.20827 6.38147 5.25138 6.15965L5.27092 6.07664C5.32356 5.88376 5.42572 5.70699 5.56779 5.56492L5.63029 5.5073C5.78178 5.3768 5.96529 5.28688 6.16252 5.24851L6.24748 5.23582ZM9.75041 13.5942L10.2738 11.4087V11.4077C10.3402 11.1318 10.4822 10.8797 10.683 10.6792C10.8839 10.4786 11.1364 10.3369 11.4125 10.271L13.5951 9.74754L7.0883 7.08543L9.75041 13.5942ZM3.13517 7.77488C3.42776 7.46696 3.91511 7.45498 4.22306 7.74754C4.5306 8.04012 4.54275 8.52661 4.25041 8.83445L2.78947 10.3725C2.4969 10.6805 2.01052 10.6924 1.70256 10.3999C1.39462 10.1073 1.38167 9.62093 1.67424 9.31297L3.13517 7.77488ZM0.0277509 4.40965C0.140698 4.00021 0.564602 3.7597 0.97404 3.87254L3.20451 4.48777C3.61397 4.60075 3.85457 5.02458 3.74162 5.43406C3.62853 5.84338 3.20473 6.08313 2.79533 5.97019L0.56486 5.35496C0.155728 5.24186 -0.0849285 4.81889 0.0277509 4.40965ZM9.31779 1.67234C9.62571 1.37982 10.1121 1.39187 10.4047 1.69968C10.6972 2.00753 10.685 2.49398 10.3774 2.7866L8.8383 4.24851C8.5304 4.54073 8.0439 4.52879 7.75138 4.22117C7.45881 3.91319 7.47173 3.42585 7.7797 3.13328L9.31779 1.67234ZM4.41154 0.0278093C4.8209 -0.085006 5.24479 0.155625 5.35783 0.564919L5.97306 2.79539C6.08592 3.20475 5.84523 3.6286 5.43595 3.74168C5.02656 3.85445 4.60262 3.61394 4.48967 3.20457L3.87443 0.974098C3.7616 0.564688 4.00216 0.140791 4.41154 0.0278093Z",fill:"currentColor"})}),a9e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("path",{d:"M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z",fill:"currentColor"}),t.jsx("path",{d:"M15.3394 7.45625C14.5125 6.1775 13.4397 5.09125 12.2372 4.31469C10.9069 3.45469 9.43812 3 7.99 3C6.66125 3 5.35469 3.37969 4.10656 4.12844C2.83375 4.89188 1.68062 6.00719 0.679061 7.44312C0.565994 7.60541 0.503723 7.79764 0.500162 7.9954C0.496601 8.19315 0.55191 8.3875 0.659061 8.55375C1.48437 9.84531 2.54656 10.9331 3.73031 11.6991C5.06312 12.5625 6.4975 13 7.99 13C9.44969 13 10.9216 12.5491 12.2462 11.6962C13.4481 10.9222 14.5187 9.83187 15.3425 8.5425C15.446 8.38012 15.5007 8.19146 15.5001 7.99892C15.4995 7.80638 15.4438 7.61804 15.3394 7.45625ZM8.00062 11C7.40728 11 6.82726 10.8241 6.33391 10.4944C5.84056 10.1648 5.45605 9.69623 5.22898 9.14805C5.00192 8.59987 4.94251 7.99667 5.05827 7.41473C5.17402 6.83279 5.45975 6.29824 5.8793 5.87868C6.29886 5.45912 6.83341 5.1734 7.41535 5.05764C7.9973 4.94189 8.6005 5.0013 9.14867 5.22836C9.69685 5.45542 10.1654 5.83994 10.495 6.33329C10.8247 6.82664 11.0006 7.40666 11.0006 8C10.9997 8.79537 10.6834 9.5579 10.1209 10.1203C9.55853 10.6827 8.79599 10.9991 8.00062 11Z",fill:"currentColor"})]}),o9e=({color:e="#7A7A7B",size:n=32})=>t.jsx("svg",{width:n,height:n,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M11.0417 2.5C10.75 2.5 10.5035 2.39931 10.3021 2.19792C10.1007 1.99653 10 1.75 10 1.45833C10 1.16667 10.1007 0.920139 10.3021 0.71875C10.5035 0.517361 10.75 0.416667 11.0417 0.416667C11.3333 0.416667 11.5799 0.517361 11.7812 0.71875C11.9826 0.920139 12.0833 1.16667 12.0833 1.45833C12.0833 1.75 11.9826 1.99653 11.7812 2.19792C11.5799 2.39931 11.3333 2.5 11.0417 2.5ZM11.0417 16.25C10.75 16.25 10.5035 16.1493 10.3021 15.9479C10.1007 15.7465 10 15.5 10 15.2083C10 14.9167 10.1007 14.6701 10.3021 14.4688C10.5035 14.2674 10.75 14.1667 11.0417 14.1667C11.3333 14.1667 11.5799 14.2674 11.7812 14.4688C11.9826 14.6701 12.0833 14.9167 12.0833 15.2083C12.0833 15.5 11.9826 15.7465 11.7812 15.9479C11.5799 16.1493 11.3333 16.25 11.0417 16.25ZM14.375 5.41667C14.0833 5.41667 13.8368 5.31597 13.6354 5.11458C13.434 4.91319 13.3333 4.66667 13.3333 4.375C13.3333 4.08333 13.434 3.83681 13.6354 3.63542C13.8368 3.43403 14.0833 3.33333 14.375 3.33333C14.6667 3.33333 14.9132 3.43403 15.1146 3.63542C15.316 3.83681 15.4167 4.08333 15.4167 4.375C15.4167 4.66667 15.316 4.91319 15.1146 5.11458C14.9132 5.31597 14.6667 5.41667 14.375 5.41667ZM14.375 13.3333C14.0833 13.3333 13.8368 13.2326 13.6354 13.0312C13.434 12.8299 13.3333 12.5833 13.3333 12.2917C13.3333 12 13.434 11.7535 13.6354 11.5521C13.8368 11.3507 14.0833 11.25 14.375 11.25C14.6667 11.25 14.9132 11.3507 15.1146 11.5521C15.316 11.7535 15.4167 12 15.4167 12.2917C15.4167 12.5833 15.316 12.8299 15.1146 13.0312C14.9132 13.2326 14.6667 13.3333 14.375 13.3333ZM15.625 9.375C15.3333 9.375 15.0868 9.27431 14.8854 9.07292C14.684 8.87153 14.5833 8.625 14.5833 8.33333C14.5833 8.04167 14.684 7.79514 14.8854 7.59375C15.0868 7.39236 15.3333 7.29167 15.625 7.29167C15.9167 7.29167 16.1632 7.39236 16.3646 7.59375C16.566 7.79514 16.6667 8.04167 16.6667 8.33333C16.6667 8.625 16.566 8.87153 16.3646 9.07292C16.1632 9.27431 15.9167 9.375 15.625 9.375ZM8.33333 16.6667C7.18056 16.6667 6.09722 16.4479 5.08333 16.0104C4.06944 15.5729 3.1875 14.9792 2.4375 14.2292C1.6875 13.4792 1.09375 12.5972 0.65625 11.5833C0.21875 10.5694 0 9.48611 0 8.33333C0 7.18056 0.21875 6.09722 0.65625 5.08333C1.09375 4.06944 1.6875 3.1875 2.4375 2.4375C3.1875 1.6875 4.06944 1.09375 5.08333 0.65625C6.09722 0.21875 7.18056 0 8.33333 0V1.66667C6.47222 1.66667 4.89583 2.3125 3.60417 3.60417C2.3125 4.89583 1.66667 6.47222 1.66667 8.33333C1.66667 10.1944 2.3125 11.7708 3.60417 13.0625C4.89583 14.3542 6.47222 15 8.33333 15V16.6667ZM8.33333 10C7.875 10 7.48264 9.83681 7.15625 9.51042C6.82986 9.18403 6.66667 8.79167 6.66667 8.33333C6.66667 8.26389 6.67014 8.19097 6.67708 8.11458C6.68403 8.03819 6.70139 7.96528 6.72917 7.89583L5 6.16667L6.16667 5L7.89583 6.72917C7.95139 6.71528 8.09722 6.69444 8.33333 6.66667C8.79167 6.66667 9.18403 6.82986 9.51042 7.15625C9.83681 7.48264 10 7.875 10 8.33333C10 8.79167 9.83681 9.18403 9.51042 9.51042C9.18403 9.83681 8.79167 10 8.33333 10Z",fill:e})}),l9e=({children:e,className:n,isRunning:s})=>{const r=s?"128,255,249":"255,255,255";return t.jsxs("div",{className:k("group relative backdrop-blur-[20px] transition-transform duration-500 inline-block",n),children:[t.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",style:{background:`
            radial-gradient(circle at 100% 0%, rgba(${r},0.2) 0%, transparent 20%),
            radial-gradient(circle at 0% 100%, rgba(${r},0.2)0%, transparent 20%),
            linear-gradient(0deg, rgba(${r},0.05), rgba(${r},0.04))
          `,padding:".8px",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude"}}),t.jsxs("div",{className:"relative z-10 backdrop-blur-md rounded-full flex w-full h-full items-center gap-3",style:{backgroundColor:`rgba(${r},0.08)`},children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] bg-gradient-to-r from-transparent to-transparent opacity-50",style:{background:`linear-gradient(to right, transparent, rgba(${r},0.20), transparent)`}}),t.jsx("div",{className:"absolute inset-x-0 bottom-0 h-[1px] bg-gradient-to-r from-transparent to-transparent opacity-30",style:{background:`linear-gradient(to right, transparent, rgba(${r},0.10), transparent)`}}),e]})]})},c9e=({size:e=24,width:n,height:s,color:r="#224BC6",className:i})=>{const a=n||e,o=s||e;return t.jsxs("svg",{width:a,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:[t.jsxs("g",{clipPath:"url(#clip0)",children:[t.jsx("path",{d:"M17.4 4.8C19.0569 4.8 20.4 6.1431 20.4 7.8V16.2C20.4 17.8569 19.0569 19.2 17.4 19.2H6.6C4.9431 19.2 3.6 17.8569 3.6 16.2V7.8C3.6 6.1431 4.9431 4.8 6.6 4.8H17.4Z",fill:"#939399"}),t.jsx("path",{d:"M6 14.4C6 13.162 7.012 12.15 8.25 12.15H15.75C16.988 12.15 18 13.162 18 14.4C18 15.638 16.988 16.65 15.75 16.65H8.25C7.012 16.65 6 15.638 6 14.4Z",fill:"#1D1D1E"}),t.jsx("rect",{opacity:"0.2",width:"3",height:"1",rx:"0.5",transform:"translate(8 15) scale(1,-1)",fill:"white"}),t.jsx("rect",{opacity:"0.2",width:"3",height:"1",rx:"0.5",transform:"translate(13 15) scale(1,-1)",fill:"white"}),t.jsx("rect",{y:"10.8",width:"2.4",height:"4.8",rx:"1.2",fill:"#939399"}),t.jsx("rect",{x:"21.6",y:"10.8",width:"2.4",height:"4.8",rx:"1.2",fill:"#939399"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0",children:t.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})},ez=d.createContext({activeIndex:0,isMobile:!1,cardBackgroundStyle:{},onPlayStateChange:()=>{}}),d9e=d.lazy(()=>vn(()=>import("./chunks/Slider.tsx-D6eSpIAN.js"),__vite__mapDeps([36,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.Slider}))),$T="tips-panel-dots-style";if(typeof document<"u"&&!document.getElementById($T)){const e=document.createElement("style");e.id=$T,e.textContent=`
    @keyframes dotAnimation {
      0%, 100% { content: ""; }
      25% { content: "."; }
      50% { content: ".."; }
      75% { content: "..."; }
    }
    .animated-dots::after {
      content: "";
      animation: dotAnimation 2s steps(1) infinite;
      display: inline-block;
      width: 15px;
      text-align: left;
    }
  `,document.head.appendChild(e)}const zT=[{text:"Analyzing your answers",icon:t.jsx(no,{size:"18",speed:"1.75",color:"#80FFF9"})},{text:"Scanning file contents",icon:t.jsx(no,{size:"18",speed:"1.75",color:"#80FFF9"})},{text:"Processing file edits",icon:t.jsx(no,{size:"18",speed:"1.75",color:"#80FFF9"})}],u9e={text:"Agent is sleeping",icon:t.jsx(c9e,{color:"#939399",size:20,className:""})},p9e={text:"Awaiting further instruction",icon:t.jsx(o9e,{size:16.5,color:"#939399"})},f9e={text:"Initializing agent",icon:t.jsx(no,{size:"18",speed:"1.75",color:"#80FFF9"})},tz=d.memo(({src:e,isActive:n,isMobile:s,onPlayStateChange:r})=>{const i=d.useRef(null),[a,o]=d.useState(!0);d.useEffect(()=>{n&&i.current?(i.current.currentTime=0,i.current.play().catch(()=>{}),o(!0),r?.(!0)):!n&&i.current&&(i.current.pause(),o(!1))},[n,r]);const l=d.useCallback(()=>{i.current&&(a?(i.current.pause(),r?.(!1)):(i.current.play(),r?.(!0)),o(!a))},[a,r]),c=d.useMemo(()=>k("absolute bottom-1 right-1 w-[56px] h-[28px] flex items-center justify-center rounded-[40px] transition-colors",s?"bg-black/70":"backdrop-blur-[35px] bg-[linear-gradient(rgba(0,0,0,0.55),rgba(0,0,0,0.55)),linear-gradient(rgba(255,255,255,0.30),rgba(255,255,255,0.30))] bg-blend-overlay"),[s]);return t.jsxs("div",{className:"relative w-full h-full",children:[t.jsx("video",{ref:i,src:e,className:"w-full h-full object-cover rounded-[16px]",muted:!0,playsInline:!0,preload:n?"auto":"metadata"}),t.jsx("button",{type:"button",onClick:l,className:c,children:a?t.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"#FFFFFFCC",children:[t.jsx("rect",{x:"2",y:"2",width:"3",height:"8",rx:"1"}),t.jsx("rect",{x:"7",y:"2",width:"3",height:"8",rx:"1"})]}):t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"#FFFFFFCC",children:t.jsx("path",{d:"M3 2L10 6L3 10V2Z"})})})]})});tz.displayName="SliderVideoPlayer";const nz=d.memo(({agentState:e})=>{const[n,s]=d.useState(0),[r,i]=d.useState(!0),a=d.useRef(!1);d.useEffect(()=>{e?.agent_status_new&&e.agent_status_new!=="running"&&(a.current=!0)},[e?.agent_status_new]),d.useEffect(()=>{if(e?.agent_status_new==="running")if(a.current){i(!1),s(0);const p=setInterval(()=>{s(f=>(f+1)%zT.length)},1e4);return()=>clearInterval(p)}else i(!0)},[e?.agent_status_new]);const l=d.useCallback(()=>{if(!e)return null;switch(e.agent_status_new){case"running":return r?f9e:zT[n];case"paused":return u9e;case"stopped":return p9e;default:return null}},[e,n,r])(),u=e?.agent_status_new==="running"?"text-[#80FFF9]":"text-[#939399]";return l?t.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:"flex items-center justify-center gap-3 px-[20px]",children:[l.icon,t.jsx("p",{className:"normal-case text-center text-[15px] font-medium leading-[24px] tracking-[-0.2px] relative",children:t.jsx("span",{className:`font-[Inter] ${u} animated-dots`,children:l.text})})]},`status-${r?"init":n}`):null});nz.displayName="StatusDisplay";const sz=d.memo(({slide:e,index:n})=>{const{activeIndex:s,isMobile:r,cardBackgroundStyle:i,onPlayStateChange:a}=d.useContext(ez),o=n===s,l=d.useMemo(()=>{switch(e.type){case"video":return t.jsx(tz,{src:e.videoSrc,isActive:o,isMobile:r,onPlayStateChange:a});case"image":return t.jsx("img",{src:e.imageSrc,alt:e.imageAlt||e.title,className:"w-full h-full object-cover rounded-[16px]",loading:"lazy"});case"game":return t.jsxs("div",{className:"flex items-center justify-center w-full h-full text-white/60",children:["Game: ",e.gameId]});case"form":return t.jsxs("div",{className:"flex items-center justify-center w-full h-full text-white/60",children:["Form: ",e.formId]});case"custom":return e.content;default:return null}},[e,o,r,a]);return t.jsx("div",{className:k("flex items-center justify-center w-full h-full p-2 border border-[#FFFFFF29] rounded-[24px] login-slider-card",!r&&"backdrop-blur-[50px]"),style:i,children:l})});sz.displayName="SlideCardContent";const m9e=({slides:e,autoAdvance:n=!0,autoAdvanceDuration:s=1e4,onCardClick:r,onSlideChange:i,agentState:a})=>{const[o,l]=d.useState(0),[c,u]=d.useState([]),[p,f]=d.useState(!1),{isMobile:m}=ts(),h=d.useCallback(_=>{f(!_)},[]);d.useEffect(()=>{const _=e.map(N=>N.type==="video"&&N.duration?N.duration:s);u(_)},[e,s]);const x=d.useMemo(()=>({background:m?"rgba(0, 0, 0, 0.4)":"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%), linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))"}),[m]),g=d.useMemo(()=>({activeIndex:o,isMobile:m,cardBackgroundStyle:x,onPlayStateChange:h}),[o,m,x,h]),v=d.useMemo(()=>e.map((_,N)=>({id:_.id,content:t.jsx(sz,{slide:_,index:N})})),[e]),b=e[o]||e[0],y=d.useCallback((_,N)=>{r?.(_,N)},[r]),w=d.useCallback(_=>{l(_),f(!1),i?.(_,e[_])},[i,e]);return t.jsx(ez.Provider,{value:g,children:t.jsxs("div",{className:"z-[9] h-full w-full mb:py-[80px] pb-[100px] relative flex flex-col items-center justify-center",children:[t.jsxs("div",{className:`${m?"w-full":"w-[600px]"} flex flex-col justify-center items-center`,children:[t.jsxs("div",{className:`${m?"w-full":"w-[390px]"} flex flex-col justify-center items-center`,children:[t.jsx(Oi,{color:"#FFF",className:"w-[28px] h-[28px] mb-[8px]"}),t.jsx("h1",{className:"text-white font-semibold text-xl leading-[32px] font-[Inter] mb-[4px]",children:b.title}),t.jsx("p",{className:"text-white/60 max-md:px-1 font-medium text-sm font-[Inter] text-center",children:b.description})]}),t.jsx(d.Suspense,{fallback:t.jsx("div",{className:"flex items-center justify-center",style:{height:m?283:344},children:t.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white/80 rounded-full animate-spin"})}),children:t.jsx(d9e,{cards:v,onCardClick:y,onIndexChange:w,autoAdvance:n,autoAdvanceDuration:s,autoAdvanceDurations:c.length>0?c:void 0,isPaused:p,centerCardWidth:m?360:500,centerCardHeight:m?221:304,sideCardWidth:m?260:500,sideCardHeight:m?180:304,spacing:m?320:32,sideCardOpacity:.2,sideCardScale:.9,showStatsBar:!1,fitHeight:!0,className:"h-fit z-[99999]"})})]}),t.jsx(l9e,{isRunning:a?.agent_status_new==="running",className:"absolute bottom-[30px] md:bottom-[55px] w-fit h-[44px]",children:t.jsx(nz,{agentState:a})})]})})},h9e=K.common.agentSleeping,x9e=K.common.fluentEmojiBell,g9e=K.common.alertFill,b9e=K.common.expo,y9e=K.common.logoBlue,v9e=K.icons.animatedSpinner;function op(e,n){return n!=null?`${e}:${n}`:e}const WT=[{title:"Ship ideas to live apps in minutes"},{title:"One-click deploy with custom domains"},{title:"Upload assets and inspirations for your apps"},{title:"Build enterprise apps with extended context",pro:!0},{title:"Create specialized AI agents for your workflow",pro:!0},{title:"Create mobile apps from scratch"},{title:"Experiment at lightning speed with forks"}];function w9e(e){if(!e||e.length===0)return"";let n=`Hey, the user has just edited the following elements via visual editing:

`;return e.forEach((r,i)=>{if(r.type==="variableEdit"){const a=r.sourceFile||r.sourceFileAbs;a?n+=`${i+1}. ${a}${r.variableLine?` (line ${r.variableLine})`:""}
`:n+=`${i+1}. Dynamic content in ${r.renderFile||"unknown file"}${r.renderLine?` (line ${r.renderLine})`:""}
`,n+=`   - Variable: ${r.variableName}
`,r.propertyPath?(n+=`   - Property: ${r.propertyPath}`,r.arrayIndex!==void 0&&r.arrayIndex!==null&&(n+=` [index ${r.arrayIndex}]`),n+=`
`):r.arrayIndex!==void 0&&r.arrayIndex!==null&&(n+=`   - Array index: ${r.arrayIndex}
`),n+=`   - New value: "${r.newValue}"
`}else{const a=r.fileName||r.file||"unknown",o=r.component||r.element||"unknown";if(n+=`${i+1}. Line ${r.lineNumber} in ${a} - <${o}>
`,r.type==="content"||r.type==="textContent"){const l=r.content||r.textContent||r.newData||"";n+=`   - Content: "${l}"
`}else if(r.type==="className"){const l=r.className||r.newData||"";n+=`   - Style classes: "${l}"
`}}n+=`
`}),n+="Please acknowledge these changes. Do not make any edits yourself.",`VISUAL_EDIT_NOTIFICATION|||${e.length}|||${n}|||END_VISUAL_EDIT`}function C9e({isOpen:e,onClose:n,previewUrl:s,shareableLink:r,showCase:i,podIsPaused:a=!1,onResumePod:o,isFromGithub:l,shouldReloadIframe:c=!1,onIframeReloaded:u,isResizing:p=!1,jobId:f="",archivedPod:m=!1,env_image:h="",isWakingUp:x=!1,onPreviewEvent:g,isReplaying:v=!1,agentName:b="",visualEditMode:y=!1,vscodePassword:w,enableVisualEdit:_=!1,onEnableVisualEdit:N,onDisableVisualEdit:j,visualEditDisabled:C=!1,onSelectedElementChange:S,onVisualEditComplete:F,onUnsavedChangesChange:E,onExposeHandlers:I,showUnsavedChangesModal:T,isVisualEditChangesEnabled:A,buildMode:D,isShowcaseRemix:O=!1,agentState:M,shouldShowActualPreview:L=!1,onDeployClick:P}){const[B,G]=d.useState(!0),[$,te]=d.useState(!1),[U,oe]=d.useState("The preview could not be loaded. Please try again."),Y=Ale(),[W,Z]=d.useState(!1),[le,q]=d.useState(!1),[Q,he]=d.useState(!1),me=x,[ce,ee]=d.useState(0),[J,re]=d.useState(null),[xe,ae]=d.useState(!1),[Fe,se]=d.useState(0),_e=Fe>=700,Re=!0,Se=G9(),Ne=xO(),[ge,Ce]=d.useState(null),[$e,dt]=d.useState(null),[Me,we]=d.useState(!1),[Te,ze]=d.useState("pc"),[_t,Bt]=d.useState(!1),[qe,Ae]=d.useState("select"),[Le,Ut]=d.useState(!1),[tt,xt]=d.useState(!1),[St,It]=d.useState(!1),[kt,Ot]=d.useState(new Map),[Ie,nt]=d.useState([]),[We,Lt]=d.useState(-1),[pt,ft]=d.useState(new Map),[Tt,Gt]=d.useState(!1),Ze=d.useMemo(()=>{if(!s||typeof s!="string")return null;try{return new URL(s).hostname}catch{return null}},[s]),ut=$ve(Ze),{previewSource:Qt,cdnUrl:Sn}=d.useMemo(()=>ut,[ut.previewSource,ut.cdnUrl]),yn=D$(),{isDownloading:Ee,handleDownload:Ke}=d.useMemo(()=>yn,[yn.isDownloading,yn.handleDownload]),{displayUrl:mt,expoUrl:Ge}=Z$(s),At=ts(),{isMobile:Cn}=d.useMemo(()=>At,[At.isMobile]),{isPanelMobileView:Mt}=lH(),Pn=Se?Mt:Cn,{registerVisualEditState:wn,clearVisualEditState:In}=Y$(),us=H8e(),{toast:Kt}=ns(),dn=d.useRef(null),gt=d.useRef(null),ps=d.useRef(null),[Zn,$s]=d.useState(0),Ls=d.useRef(null),ys=d.useRef(null),zn=d.useRef(null),_n=d.useRef(!1),Wn=d.useRef(null),As=d.useRef(!1),tr=d.useRef(()=>Promise.resolve()),Ht=b?.includes("expo")||h?.includes("expo"),zs=O&&D!=="build",Ve=d.useCallback(()=>s+"?x_request_source=preview",[s]),{handlePreviewOnMobileClick:lt,handlePreviewCloseClick:$t}=O8e({jobId:f,expoDisplayUrl:mt,expoUrl:Ge}),Tn=d.useCallback(Oe=>{if(Oe.data?.type!=="SITE_DEBUG")return;const He=Oe.data;switch(He.action){case"ELEMENT_SELECTED":{if(Ce({...He.element,isDynamic:He.isDynamic,elementCount:He.elementCount,isMultiElement:He.isMultiElement,isEditable:He.isEditable,editType:He.editType,sourceInfo:He.sourceInfo,arrayIndex:He.arrayIndex}),He.element?.attributes?.["x-id"]){const on=He.element.attributes["x-id"],sn=He.arrayIndex;ft(On=>{const rt=op(on,sn);if(!On.has(rt)){const gr=new Map(On);return gr.set(rt,{textContent:He.element.textContent||"",className:He.element.className||""}),gr}return On})}if(He.position&&dn.current){const on=dn.current.getBoundingClientRect(),sn={...He.position,x:He.position.x+on.left,y:He.position.y+on.top,elementRect:{top:He.position.elementRect.top+on.top,left:He.position.elementRect.left+on.left,bottom:He.position.elementRect.bottom+on.top,right:He.position.elementRect.right+on.left},iframeBounds:{left:on.left,top:on.top,right:on.right,bottom:on.bottom,width:on.width,height:on.height}};if(y&&Te!=="pc"&&ps.current){const On=ps.current.getBoundingClientRect();sn.constraintBounds={left:On.left,top:On.top,right:On.right,bottom:On.bottom,width:On.width,height:On.height}}dt(sn)}else dt(He.position);we(!0);const it=He.element?.tagName?.toLowerCase()==="div",Ln=it&&He.element?.hasDirectTextContent===!0&&He.element?.hasChildElements===!1,js=He.element?.hasChildElements===!0&&(He.element?.textNodeCount??0)>0,Un=He.element?.hasDirectTextContent&&(!He.isDynamic||He.isEditable)&&(!He.isMultiElement||He.isEditable)&&!["img","video","audio","canvas","svg","iframe","hr","br","input","button"].includes(He.element?.tagName?.toLowerCase()||"")&&(it?Ln:!0)&&!js;A&&Un&&(zn.current&&(clearTimeout(zn.current),zn.current=null),zn.current=setTimeout(()=>{zn.current=null,Yt("ENABLE_INLINE_EDIT",{elementId:He.element?.attributes?.["x-id"],arrayIndex:He.arrayIndex})},100)),S?.(He.element?.tagName||null),H(Xt.VISUAL_EDIT_ELEMENT_SELECTED,{jobId:f,elementId:He.element?.attributes?.["x-id"],tagName:He.element?.tagName,isDynamic:He.isDynamic,isMultiElement:He.isMultiElement});break}case"INLINE_EDIT_START":Gt(!0),gt.current?.beginInlineEdit?.(),H(Xt.VISUAL_EDIT_INLINE_EDIT_STARTED,{jobId:f,elementId:He.elementId});break;case"INLINE_EDIT_CHANGE":gt.current?.updateTextContent(He.textContent||"");break;case"INLINE_EDIT_END":Gt(!1),He.saved?(gt.current?.applyInlineEdit(He.textContent||""),H(Xt.VISUAL_EDIT_INLINE_EDIT_SAVED,{jobId:f,elementId:He.elementId})):(gt.current?.cancelInlineEdit?.(),H(Xt.VISUAL_EDIT_INLINE_EDIT_CANCELLED,{jobId:f,elementId:He.elementId}));break;case"ELEMENT_DESELECTED":zn.current&&(clearTimeout(zn.current),zn.current=null),Ce(null),dt(null),we(!1),Gt(!1),H(Xt.VISUAL_EDIT_ELEMENT_DESELECTED,{jobId:f}),S?.(null);break;case"DEBUG_MODE_DEACTIVATED":zn.current&&(clearTimeout(zn.current),zn.current=null),Ce(null),dt(null),we(!1),Gt(!1),S?.(null);break;case"INTERACTION_MODE_CHANGED":Ae(He.mode);break;case"CHANGES_ERROR":jt(Zt.VISUAL_EDIT.CHANGES_ERROR,new Error(He.error||"Failed to apply changes"),{elementId:He.elementId});break}},[y,Te,S]),Yt=d.useCallback((Oe,He)=>{dn.current?.contentWindow&&dn.current.contentWindow.postMessage({type:"DEBUG_COMMAND",action:Oe,data:He},"*")},[]),Is=d.useCallback(Oe=>{Ut(Oe||kt.size>0)},[kt]),nn=d.useCallback(Oe=>{ft(He=>{if(!He.has(Oe.elementId)){const it=new Map(He);return it.set(Oe.elementId,Oe.previousState),it}return He}),Oe.currentState.textContent!==void 0&&Oe.currentState.textContent!==Oe.previousState.textContent&&us.trackTextChange(Oe.elementId,Oe.fileName,Oe.lineNumber,Oe.component,Oe.previousState.textContent||"",Oe.currentState.textContent||""),Oe.currentState.className!==void 0&&Oe.currentState.className!==Oe.previousState.className&&us.trackStyleChange(Oe.elementId,Oe.fileName,Oe.lineNumber,Oe.component,Oe.previousState.className||"",Oe.currentState.className||""),nt(He=>{const it=He.slice(0,We+1);return it.push(Oe),it}),Lt(He=>He+1)},[We,us]),Ue=d.useCallback(()=>{if(gt.current?.cancelAutoSave(),We<0)return;const Oe=Ie[We];ge?.attributes?.["x-id"]===Oe.elementId&&(we(!1),dt(null),Ce(null),Yt("CLEAR_SELECTION")),Yt("APPLY_CHANGES",{elementId:Oe.elementId,isMultiElement:Oe.isMultiElement,arrayIndex:Oe.arrayIndex,...Oe.previousState});const He=op(Oe.elementId,Oe.arrayIndex),it=pt.get(He),Ln=it&&Oe.previousState.textContent===it.textContent&&Oe.previousState.className===it.className;Ot(js=>{const Un=new Map(js),on=op(Oe.elementId,Oe.arrayIndex);return Ln?Un.delete(on):Un.set(on,{elementId:Oe.elementId,fileName:Oe.fileName,lineNumber:Oe.lineNumber,component:Oe.component,hasChildElements:Oe.hasChildElements??!1,hasDirectTextContent:Oe.hasDirectTextContent??!1,isMultiElement:Oe.isMultiElement??!1,arrayIndex:Oe.arrayIndex,changes:Oe.previousState}),Un}),Lt(We-1)},[Yt,We,Ie,ge,pt]),Nt=d.useCallback(()=>{if(gt.current?.cancelAutoSave(),We>=Ie.length-1)return;const Oe=We+1,He=Ie[Oe];ge?.attributes?.["x-id"]===He.elementId&&(we(!1),dt(null),Ce(null),Yt("CLEAR_SELECTION")),Yt("APPLY_CHANGES",{elementId:He.elementId,isMultiElement:He.isMultiElement,arrayIndex:He.arrayIndex,...He.currentState}),Ot(it=>{const Ln=new Map(it),js=op(He.elementId,He.arrayIndex);return Ln.set(js,{elementId:He.elementId,fileName:He.fileName,lineNumber:He.lineNumber,component:He.component,hasChildElements:He.hasChildElements??!1,hasDirectTextContent:He.hasDirectTextContent??!1,isMultiElement:He.isMultiElement??!1,arrayIndex:He.arrayIndex,changes:He.currentState}),Ln}),Lt(Oe)},[Yt,We,Ie,ge]),bn=d.useCallback(Oe=>{Ae(Oe),Yt("SET_INTERACTION_MODE",{mode:Oe}),Oe==="select"&&Yt("ACTIVATE"),Oe==="preview"&&(Yt("CLEAR_SELECTION"),we(!1),Ce(null),dt(null))},[Yt]),Yn=d.useCallback(async()=>{if(kt.size===0)return;if(!w){Kt({title:"Error",description:"No vscode password available for API authentication",variant:"destructive"}),jt(Zt.VISUAL_EDIT.NO_VSCODE_PASSWORD,new Error("No vscode password available for API authentication")),Gn({resetToDefaults:!1,triggerRefresh:!0,callDisable:!1,preserveForReactivate:!0});return}if(!s){Kt({title:"Error",description:"No preview URL available for API call",variant:"destructive"}),jt(Zt.VISUAL_EDIT.NO_PREVIEW_URL,new Error("No preview URL available for API call")),Gn({resetToDefaults:!1,triggerRefresh:!0,callDisable:!1,preserveForReactivate:!0});return}const Oe=new Map(kt),He=[];if(Oe.forEach(it=>{const{fileName:Ln,lineNumber:js,component:Un,changes:on,editType:sn,sourceInfo:On,arrayIndex:rt}=it;if(on.textContent!==void 0||on.textParts!==void 0){const gr=on.textContent!==void 0?on.textContent:(on.textParts||[]).join(""),Es=On?.varName||On?.arrayVar;sn==="variableEdit"&&On&&Es?He.push({type:"variableEdit",sourceFile:On.file||On.arrayFile,sourceFileAbs:On.fileAbs,renderFile:Ln,renderLine:js,variableName:Es,variableLine:On.line||On.arrayLine?parseInt(On.line||On.arrayLine||"0"):void 0,arrayIndex:rt??void 0,propertyPath:On.path,newValue:gr}):it.hasChildElements?He.push({fileName:Ln,lineNumber:js,component:Un,type:"textContent",textContent:gr,textParts:on.textParts}):He.push({fileName:Ln,lineNumber:js,component:Un,type:"content",content:gr})}on.className!==void 0&&He.push({fileName:Ln,lineNumber:js,component:Un,type:"className",className:on.className})}),He.length!==0)try{const it=`${s.replace(/\/$/,"")}/edit-file`,Ln=await fetch(it,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":w},body:JSON.stringify({changes:He})});if(Ln.ok){if(He.length>0&&F){const Un=w9e(He);Un&&F(Un)}try{await Ln.json()}catch(Un){jt(Zt.VISUAL_EDIT.EDIT_RESPONSE_PARSE_ERROR,Un,{context:"parse_edit_response"})}const js=Array.from(Oe.values()).map(Un=>({elementId:Un.elementId,fileName:Un.fileName,lineNumber:Un.lineNumber,component:Un.component,textContent:Un.changes.textContent,className:Un.changes.className}));us.trackSessionSaved(js),Ot(Un=>{const on=new Map(Un);return Oe.forEach((sn,On)=>{on.delete(On)}),on.size===0&&Ut(!1),on}),Gn({resetToDefaults:!0,triggerRefresh:!1,callDisable:!0,preserveForReactivate:!1})}}catch(it){jt(Zt.VISUAL_EDIT.SAVE_CHANGES_ERROR,it,{pendingChangesCount:kt.size,previewUrl:s})}},[kt,w,s,Yt,us]),Jn=d.useCallback(()=>{if(!ge?.attributes)return;const Oe=ge.attributes["x-id"];Oe&&(Ot(He=>{const it=new Map(He);return it.delete(Oe),it}),Ot(He=>(Ut(He.size>0),He)))},[ge]),fs=d.useRef(!1),Gn=d.useCallback((Oe={})=>{gt.current?.cancelAutoSave(),Ot(new Map),Ut(!1),nt([]),Lt(-1),ft(new Map),we(!1),Ce(null),dt(null),xt(!1),It(!1),Oe.preserveForReactivate||(Oe.resetToDefaults&&(ze("pc"),Ae("select")),Bt(!1)),Yt("CLEAR_SELECTION"),S?.(null),E?.(!1),Oe.triggerRefresh&&(fs.current=!0),Oe.callDisable&&j&&j()},[Yt,S,E,j]),Fs=d.useCallback(()=>{Bt(!1);const Oe=Array.from(kt.values()).map(He=>{const it=op(He.elementId,He.arrayIndex),Ln=pt.get(it);return{elementId:He.elementId,fileName:He.fileName,lineNumber:He.lineNumber,component:He.component,originalTextContent:Ln?.textContent,newTextContent:He.changes.textContent,originalClassName:Ln?.className,newClassName:He.changes.className}});us.trackSessionDiscarded(Oe),Gn({resetToDefaults:!1,triggerRefresh:!0,callDisable:!1,preserveForReactivate:!0})},[Gn,kt,pt,us]),nr=d.useCallback(Oe=>{Oe==="save"?xt(!1):Oe==="discard"&&It(!1)},[]),an=d.useCallback(()=>{Gn({resetToDefaults:!0,triggerRefresh:!0,callDisable:!0,preserveForReactivate:!1})},[Gn]);d.useEffect(()=>{const Oe=ps.current;if(!Oe)return;const He=new ResizeObserver(it=>{for(const Ln of it)se(Ln.contentRect.width)});return He.observe(Oe),se(Oe.getBoundingClientRect().width),()=>{He.disconnect()}},[Pn]),d.useEffect(()=>{let Oe;return s||(Oe=setInterval(()=>{ee(He=>(He+1)%WT.length)},Se?5e3:3e3)),()=>{Oe&&clearInterval(Oe)}},[s]),d.useEffect(()=>{ss("preview_on_mount",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U})},[]),d.useEffect(()=>(window.addEventListener("message",Tn),()=>{window.removeEventListener("message",Tn)}),[Tn]),d.useEffect(()=>{dn.current?.contentWindow&&(y?le&&!B&&(ze("pc"),Ae("select"),Yt("ACTIVATE"),Yt("SET_INTERACTION_MODE",{mode:"select"})):(Gn({resetToDefaults:!0,triggerRefresh:!1,callDisable:!1,preserveForReactivate:!1}),Yt("DEACTIVATE")))},[y,le,B,Yt]),d.useEffect(()=>{E?.(Le)},[Le,E]),d.useEffect(()=>{I&&I({save:Yn,discard:Fs})},[I,Yn,Fs]),d.useEffect(()=>{a&&(Bt(!1),(y||Le||Me)&&Gn({resetToDefaults:!0,triggerRefresh:!1,callDisable:!0,preserveForReactivate:!1}))},[a,y,Le,Me,Gn]),d.useEffect(()=>(y&&f?wn(f,Le,kt.size,Yn,Fs,j):In(),()=>{In()}),[y,Le,kt,f,wn,In,Yn,Fs,j]),d.useEffect(()=>{if(!Me||!ge||!$e||!dn.current)return;const Oe=dn.current.getBoundingClientRect(),He={left:Oe.left,top:Oe.top,right:Oe.right,bottom:Oe.bottom,width:Oe.width,height:Oe.height},it={...$e,iframeBounds:He};if(y&&Te!=="pc"&&ps.current){const Ln=ps.current.getBoundingClientRect();it.constraintBounds={left:Ln.left,top:Ln.top,right:Ln.right,bottom:Ln.bottom,width:Ln.width,height:Ln.height}}dt(it)},[_t,Me,ge,y,Te]);const Ws=5,ir=1e3,vr=100,rs=d.useCallback(()=>{Ls.current&&(Ls.current.abort(),Ls.current=null),ys.current&&(clearTimeout(ys.current),ys.current=null),zn.current&&(clearTimeout(zn.current),zn.current=null),_n.current=!1},[]);d.useEffect(()=>()=>{J&&!J.closed&&J.close()},[J]);const Bs=d.useCallback(()=>{s&&(H("preview_panel_refresh_button_clicked",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U}),G(!0),te(!1),q(!1),oe("The preview could not be loaded. Please try again."),rs(),tr.current())},[s,f,B,$,U,rs]);d.useEffect(()=>(e&&s&&!a?Wn.current!==s&&(Wn.current=s,Bs()):e?a&&(Wn.current=null):(Wn.current=null,q(!1),Z(!1),G(!0),te(!1),Gn({resetToDefaults:!0,triggerRefresh:!1,callDisable:!1,preserveForReactivate:!1})),()=>{rs()}),[e,s,a]),d.useEffect(()=>{c&&s&&!a?(Bs(),u&&u()):a&&(rs(),G(!1))},[c,s,a,u]);const _s=d.useRef(null);d.useEffect(()=>{if(!e||!s||a)return;const Oe=setTimeout(()=>{e&&s&&!le&&!W&&!$&&!a&&(jt(Zt.PREVIEW_PANEL.IFRAME_STATE_ANOMALY,new Error("Preview iframe state anomaly detected"),{jobId:f||"unknown",hasPreviewUrl:String(!!s),showIframe:String(le),isCheckingHealth:String(W),loadingFailed:String($),iframeLoading:String(B),isHealthCheckRunning:String(_n.current)}),_s.current!==s&&(_s.current=s,Bs()))},15e3);return()=>clearTimeout(Oe)},[e,s,a,le,W,$,B,f,Bs]);const wr=d.useCallback(()=>{(r||s)&&(ss("open_preview_in_new_tab_clicked",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U}),window.open(i?s:r,"_blank"))},[r,s,i,f,B,$,U]),Gs=d.useCallback(()=>{H("share_preview_button_clicked",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U}),Y.open({shareableLink:i?s:r,fromShowcase:i,previewUrl:Ve(),isExpoApp:Ht})},[Y,s,r,i,n,f,Ht]),Sr=d.useCallback(()=>{ss("preview_wake_up_clicked",{jobId:f,isFromGithub:l}),o&&o()},[o,f,l]),ve=async(Oe,He,it)=>{try{const Ln=await fetch(Oe,{method:"GET",cache:"no-cache",signal:it.signal});return!(Ln.status>=500&&Ln.status<600)}catch(Ln){return Ln.name==="AbortError"||Ln.name==="TypeError"&&Ln.message.includes("CORS")||Ln.name==="TypeError"&&(Ln.message.includes("Failed to fetch")||Ln.message.includes("Network request failed")||Ln.message.includes("cors")),!1}finally{if(He===Ws)return!0}},Xe=async()=>{if(!s||_n.current)return;rs(),Ls.current=new AbortController,_n.current=!0,Z(!0),q(!1),te(!1),G(!0);let Oe=1;await(async()=>{for(;Oe<=Ws&&_n.current;){const it=await ve(s,Oe,Ls.current);if(!_n.current)return;if(it){_n.current=!1,ys.current=setTimeout(()=>{_n.current===!1&&(Z(!1),q(!0),$s(Ln=>Ln+1),_s.current=null)},vr),ss("preview_healthcheck_successful",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U});return}if(Oe>=Ws){Z(!1),te(!0),G(!1),oe(`Service is not responding after ${Ws} attempts. The service might be starting up or experiencing issues.`),_n.current=!1,ss("preview_health_check_failed",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U});return}_n.current&&await new Promise(Ln=>setTimeout(Ln,ir)),Oe++}})()};tr.current=Xe;const{isPolling:at}=zve({jobId:f||null,shouldPoll:le&&!!f&&Ht,onExpoReady:()=>s?(G(!0),q(!1),rs(),Xe(),!0):!1}),un=Ht&&at;d.useEffect(()=>{fs.current&&(fs.current=!1,Bs())},[Bs,Le]);const Xn=d.useMemo(()=>WT[ce],[ce]),ke=async()=>{if(swe(),ae(!1),wb("onboarding_completed",{jobId:f}),!!s)try{const Oe=window.open(`${s}?testmode=1`,"_blank");if(!Oe){alert("Failed to open new window. Please allow popups for this site and try again.");return}re(Oe),window.previewEventDebug={parentWindow:window,previewWindow:Oe,isListening:!0};const He=it=>{it.source===Oe?g&&(g(it.data),wb("session_ended",{jobId:f}),re(null),Oe.close()):it.source&&it.source!==window&&g&&g(it.data)};window.addEventListener("message",He)}catch(Oe){jt(Zt.VISUAL_EDIT.TEST_MODE_START_ERROR,Oe,{jobId:f})}},ye=()=>{ae(!1),wb("onboarding_closed",{jobId:f})};d.useEffect(()=>{const Oe=new Map,He=5e3,it=(on,sn)=>{const On=sn?.message||sn?.error?.message||"",rt=sn?.stack||sn?.error?.stack||"",gr=sn?.url||sn?.filename||"",Es=sn?.line||sn?.lineno||"",ar=sn?.col||sn?.colno||"";return`${on}:${On}:${rt}:${gr}:${Es}:${ar}`},Ln=on=>{const sn=Date.now(),On=Oe.get(on);if(On&&sn-On<He)return!0;Oe.set(on,sn);for(const[rt,gr]of Oe.entries())sn-gr>He&&Oe.delete(rt);return!1},js=(on,sn)=>{const On={errorType:on,message:sn?.message||sn?.error?.message||"",stack:sn?.stack||sn?.error?.stack||"",filename:sn?.url||sn?.filename||"",lineNumber:sn?.line||sn?.lineno||null,columnNumber:sn?.col||sn?.colno||null,componentStack:sn?.componentStack||"",errorBoundary:sn?.errorBoundary||!1};switch(on){case"buildError":return{...On,buildTool:sn?.tool||"unknown",buildPhase:sn?.phase||"unknown"};case"runtimeError":return{...On,errorName:sn?.error?.name||"Error"};case"promiseRejection":return{...On,rejectionReason:sn?.reason||"",promiseSource:sn?.promise||""};case"resourceError":return{...On,resourceType:sn?.resourceType||"",resourceUrl:sn?.url||"",statusCode:sn?.statusCode||null};case"networkError":return{...On,requestUrl:sn?.url||"",method:sn?.method||"",statusCode:sn?.statusCode||null,statusText:sn?.statusText||""};default:return On}},Un=on=>{if(on.data?.source==="preview-logger"){const{type:sn,severity:On,data:rt,timestamp:gr}=on.data,Es=it(sn,rt);if(Ln(Es))return;const ar=(Pe,Ct={})=>{H("preview_event",{preview_category:Pe,preview_type:sn,preview_severity:On,preview_timestamp:gr,preview_source:"ui_preview_panel",...Ct})};switch(sn){case"buildError":ar("build_error",js(sn,rt)),g&&g({type:"error",category:"build",...on.data});break;case"runtimeError":ar("runtime_error",js(sn,rt)),g&&g({type:"error",category:"runtime",...on.data});break;case"promiseRejection":ar("promise_rejection",js(sn,rt)),g&&g({type:"error",category:"promise",...on.data});break;case"resourceError":ar("resource_error",js(sn,rt)),g&&g({type:"error",category:"resource",...on.data});break;case"networkError":ar("network_error",js(sn,rt)),g&&g({type:"error",category:"network",...on.data});break;case"console":ar("console",{console_level:rt.level,console_message:rt.message,console_args:JSON.stringify(rt.args||[])}),g&&g({type:"console",...on.data});break;case"ready":ar("ready",{ready_timestamp:rt.timestamp,ready_url:rt.url||""}),g&&g({type:"ready",...on.data});break;default:ar("unknown",{unknown_type:sn,unknown_data:JSON.stringify(rt)})}}};return window.addEventListener("message",Un),()=>{window.removeEventListener("message",Un)}},[g]);const Et=d.useCallback(()=>(As.current=!1,Qt==="cdn"&&Sn&&a&&!le?t.jsxs("div",{className:"relative w-full h-full",children:[t.jsx("iframe",{src:Sn,className:"flex-1 w-full h-full overflow-y-auto border-0 rounded-sm",style:{pointerEvents:p?"none":"auto",transform:"scale(1)",transformOrigin:"top left"},title:"CDN Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"}),t.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-[9999]",children:t.jsx("div",{className:"bg-[#1F2533] rounded-[40px] h-[44px] flex items-center justify-center px-4 shadow-[0_155px_44px_0_rgba(0,0,0,0.00),0_99px_40px_0_rgba(0,0,0,0.01),0_56px_34px_0_rgba(0,0,0,0.04),0_25px_25px_0_rgba(0,0,0,0.07),0_6px_14px_0_rgba(0,0,0,0.09)]",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-[#69FF66] rounded-full animate-pulse"}),t.jsx("p",{className:"text-base font-medium text-white whitespace-nowrap",children:"This is a view-only mode. Please wake the agent up to experience the full app"})]})})})]}):(Ne?!s||!L:!s)?Se?t.jsxs("div",{className:"relative flex flex-col items-center justify-center h-full w-full text-center bg-[#000]",children:[t.jsx(z6,{grayscale:!0}),!Cn&&t.jsx(t.Fragment,{children:t.jsx(zI,{className:"absolute inset-0 z-[9] opacity-30",children:t.jsx("div",{})})}),t.jsx(m9e,{slides:bie,autoAdvance:Re,autoAdvanceDuration:1e4,agentState:M})]}):t.jsx(zI,{children:t.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full text-center bg-[#80fff9]/[0.03]",children:[t.jsx(z6,{}),t.jsxs("div",{className:"h-full mb:py-[80px] pb-[140px] w-full relative flex flex-col items-center justify-between",children:[t.jsx("div",{}),t.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8",children:[t.jsx("img",{alt:"Logo",src:y9e,className:"backdrop-blur-sm z-[3] w-28 h-28"}),t.jsxs(fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3,ease:"easeInOut"},className:"flex items-center gap-2",children:[t.jsx(Gve,{}),t.jsx("p",{className:"text-center font-['Brockmann'] text-[16px] md:text-[20px] font-medium leading-[24px] tracking-[-0.2px]",style:{color:"#80FFF9",textShadow:"0 0 30px rgba(128, 255, 249, 0.60)"},children:Xn.title}),Xn.pro&&t.jsx(qve,{})]},ce)]}),t.jsx("div",{className:"relative radial-bg z-[3] flex items-center space-x-3 bg-[#80FFF9]/10 backdrop-blur-sm py-4 px-6 rounded-[48px] ",children:t.jsx("p",{className:"text-[#80FFF9] text-[16px] text-nowrap font-medium",children:"Let's make something incredible!"})})]})]})}):v?t.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full text-center bg-[#000000]/[0.03]",children:[t.jsx(z6,{}),t.jsx("div",{className:"relative flex flex-col max-md:w-[80%] items-center justify-center w-full h-full",children:t.jsxs("div",{className:"relative radial-bg z-[3] flex px-[70px] items-center gap-[6px] bg-[#80FFF9]/10 flex-col backdrop-blur-sm py-4 rounded-[12px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(no,{size:"20",speed:"1.75",color:"#80FFF9"}),t.jsx("p",{className:"text-[#80FFF9] text-[16px] text-nowrap font-medium",children:"Recreating Environment"})]}),t.jsx("span",{className:"text-[#80FFF9]/50 text-[14px] font-inter",children:"This usually takes around 5-10 mins."})]})})]}):a&&!i?t.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center",children:t.jsxs("div",{className:"w-full z-[20] px-[2rem] gap-6 rounded-[1rem] md:rounded-bl-none md:rounded-br-none md:pt-[2rem] md:pb-[3rem] flex flex-col justify-between items-center",children:[t.jsxs("div",{className:"flex flex-col items-center gap-5",children:[t.jsx("img",{src:h9e,className:"min-w-[100px] min-h-[100px]",alt:"Agent Sleeping"}),t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("span",{className:"text-[#C4C4CC] text-[20px]",children:m?"Preview archived":"Preview paused - Agent is sleeping"}),m?t.jsxs("span",{className:"text-[#7b7b80] text-sm",children:["This job has been archived. You can download your code and create a new job. Need help? Visit our"," ",t.jsx("a",{href:ha.helpCenter,className:"bg-gradient-to-r font-['Inter'] from-[#FCB949] to-[#E28C37] text-transparent bg-clip-text font-semibold underline underline-offset-1",children:"Help Center"})]}):l?t.jsxs("span",{className:"text-[#7b7b80] text-sm",children:["Apologies, the task has expired due to inactivity. We may not be able to recover this at this moment. Please start a new task using the same github repo. Reach out to us at"," ",t.jsx("a",{href:"mailto:support@emergent.sh",className:"text-[#ACACB2] font-extrabold underline underline-offset-1",children:"support@emergent.sh"})," ","for any assistance."]}):t.jsxs("span",{className:"text-[#7b7b80] text-sm",children:["If you are having trouble accessing your work, Please contact support at"," ",t.jsx("a",{href:"mailto:support@emergent.sh",className:"bg-gradient-to-r font-['Inter'] from-[#FCB949] to-[#E28C37] text-transparent bg-clip-text font-semibold underline underline-offset-1",children:"support@emergent.sh"})]})]})]}),m?t.jsxs("button",{type:"button",onClick:()=>{ss("preview_download_code_clicked",{jobId:f,archivedPod:!0}),Ke(f)},disabled:Ee||!f,className:"bg-[#FCB94920] max-w-[200px] justify-center disabled:opacity-25 p-[10px] rounded-[6px] flex items-center gap-2 md:min-w-[200px] hover:bg-[#FCB94930] transition-colors duration-200",children:[t.jsx(Ja,{className:"w-5 h-5 text-[#FCB949]"}),t.jsx("span",{className:"bg-gradient-to-r text-nowrap from-[FCB949] to-[#E28C37] text-transparent text-[12px] md:text-[16px] bg-clip-text font-medium",children:Ee?"Downloading...":"Download Your Code"})]}):l?null:t.jsxs("button",{type:"button",onClick:Sr,disabled:me,className:`max-w-[200px] p-[10px] rounded-[6px] flex items-center gap-2 md:min-w-[200px] transition-all duration-300 ${me?"bg-[#80FFF908]":"bg-[#FCB94920] disabled:opacity-25 hover:bg-[#FCB94930]"}`,children:[me?t.jsx("img",{src:v9e,alt:"Loading...",className:"w-5 h-5"}):t.jsx("img",{src:x9e,alt:"Wake icon",className:"w-5 h-5"}),t.jsx("span",{className:`text-[12px] md:text-[16px] font-medium transition-all duration-300 ${me?"text-[#80FFF9]":"bg-gradient-to-r from-[#FCB949] to-[#E28C37] bg-clip-text text-transparent"}`,children:me?"Waking up...":"Wake up the Agent"})]})]})}):s&&e?t.jsxs("div",{className:"relative w-full h-full",children:[W&&!Ht&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10]",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(tn,{className:"w-8 h-8 text-[#5FD3F3] animate-spin mb-4"}),t.jsx("p",{className:"text-[#939399]",children:"Loading preview..."})]})}),le&&B||(W||un)&&Ht&&!Pn&&t.jsxs("div",{className:"flex flex-1 justify-center items-center gap-6 w-full h-full bg-[url('/bg_grid.png')] bg-repeat px-4",children:[t.jsx(y8,{className:"w-[340px] h-[700px]",maxWidth:"340px",children:t.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-black",children:[t.jsx("img",{src:$I,alt:"App",className:"relative object-contain w-full h-full"}),t.jsx("div",{className:"absolute bottom-[80px] flex flex-col justify-center items-center -space-y-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Please wait,"}),t.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Your app is brewing"})]})})]})}),s&&_e&&t.jsx(C8,{previewUrl:s,onDeployClick:P})]}),le&&B||(W||un)&&Ht&&Pn&&t.jsx("div",{className:"flex flex-1 justify-center items-center w-full h-full bg-[url('/bg_grid.png')] bg-repeat",children:t.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-black",children:[t.jsx("img",{src:$I,alt:"App",className:"relative object-contain w-full h-full"}),t.jsxs("div",{className:"absolute bottom-[80px] flex flex-col justify-center items-center -space-y-6",children:[t.jsx(fe.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},className:"h-[140px] w-[140px] flex items-center justify-center",children:t.jsx(Fme,{className:"w-24 h-24 text-[#5FD3F3]"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Please wait,"}),t.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Your app is brewing"})]})]})]})}),le&&B&&!Ht&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10]",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(tn,{className:"w-8 h-8 text-[#5FD3F3] animate-spin mb-4"}),t.jsx("p",{className:"text-[#939399]",children:"Loading preview..."})]})}),$&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10]",children:t.jsxs("div",{className:"flex flex-col items-center max-w-md gap-6 text-center",children:[t.jsx("img",{src:g9e,alt:"Alert",className:"w-12 h-12"}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("p",{className:"text-[#C4C4CC] text-[24px] font-medium",children:"Preview failed to load"}),t.jsx("p",{className:"text-[#939399]",children:U})]}),t.jsxs("button",{type:"button",onClick:Bs,className:"bg-[#FCB94920] p-[10px] rounded-[6px] flex items-center gap-2 hover:bg-[#FCB94930] transition-colors duration-200",children:[t.jsx(ZU,{className:"w-5 h-5 text-[#FCB949]"}),t.jsx("span",{className:"bg-gradient-to-r from-[#FCB949] to-[#E28C37] text-transparent bg-clip-text font-medium",children:"Retry Health Check"})]})]})}),le&&!Ht&&t.jsx("iframe",{ref:dn,src:Ve(),className:"flex-1 w-full h-full overflow-y-auto border-0 rounded-sm",style:{pointerEvents:p?"none":"auto",transform:"scale(1)",transformOrigin:"top left",zIndex:10},onLoad:()=>{G(!1),ss("preview_iframe_loaded",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U})},onError:()=>{G(!1),te(!0),oe("Failed to load the preview after successful health check. Please try refreshing."),ss("preview_iframe_loading_failed",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U}),jt(Zt.VISUAL_EDIT.PREVIEW_IFRAME_LOAD_ERROR,new Error("Preview iframe failed to load"),{jobId:f,previewUrl:s,isExpoImage:Ht,effectiveMobileView:Pn,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U})},title:"URL Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},Zn),le&&Ht&&!Pn&&t.jsxs("div",{className:"flex flex-1 justify-center items-center gap-6 w-full h-full bg-[url('/bg_grid.png')] bg-repeat px-4",children:[t.jsx(y8,{className:"w-[340px] h-[700px]",maxWidth:"340px",children:un?t.jsx("div",{className:"flex items-center justify-center w-full h-full bg-black",children:t.jsx(tn,{className:"w-8 h-8 text-white animate-spin"})}):t.jsx("iframe",{ref:dn,src:Ve(),className:k(["flex-1 w-full h-full overflow-y-auto border-0",B?"bg-url('/app-image.png') bg-contain bg-no-repeat bg-center":""]),style:{pointerEvents:p?"none":"auto",transform:"scale(1)",transformOrigin:"top left"},onLoad:()=>{G(!1),ss("preview_iframe_loaded",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U})},onError:()=>{G(!1),te(!0),oe("Failed to load the preview after successful health check. Please try refreshing."),ss("preview_iframe_loading_failed",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U}),jt(Zt.VISUAL_EDIT.PREVIEW_IFRAME_LOAD_ERROR,new Error("Preview iframe failed to load"),{jobId:f,previewUrl:s,isExpoImage:Ht,effectiveMobileView:Pn,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U})},title:"URL Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},Zn)}),s&&_e&&t.jsx(C8,{previewUrl:s,onDeployClick:P})]}),le&&Ht&&Pn&&t.jsx("div",{className:"flex flex-1 justify-center items-center w-full h-full bg-[url('/bg_grid.png')] bg-repeat",children:un?t.jsx("div",{className:"flex items-center justify-center w-full h-full bg-black",children:t.jsx(tn,{className:"w-8 h-8 text-white animate-spin"})}):t.jsx("iframe",{ref:dn,src:Ve(),className:"flex-1 w-full h-full overflow-y-auto border-0",style:{pointerEvents:p?"none":"auto",transform:"scale(1)",transformOrigin:"top left"},onLoad:()=>{G(!1),ss("preview_iframe_loaded",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U})},onError:()=>{G(!1),te(!0),oe("Failed to load the preview after successful health check. Please try refreshing."),ss("preview_iframe_loading_failed",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U}),jt(Zt.VISUAL_EDIT.PREVIEW_IFRAME_LOAD_ERROR,new Error("Preview iframe failed to load"),{jobId:f,previewUrl:s,isExpoImage:Ht,effectiveMobileView:Pn,iframeLoading:B,loadingFailed:$,loadingErrorMessage:U})},title:"URL Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},Zn)})]}):(As.current=!0,null)),[Qt,Sn,a,le,s,e,Xn,ce,W,Ht,un,Pn,B,$,U,m,l,me,Ee,f,i,p,v,Zn,_e,Ve,Bs,Ke,Sr,P,L,Ne,Se]);d.useEffect(()=>{As.current&&(As.current=!1,jt(Zt.PREVIEW_PANEL.CONTENT_NULL_RENDER,new Error("renderPreviewContent returned null"),{previewSource:Qt||"none",hasCdnUrl:String(!!Sn),podIsPaused:String(a),showIframe:String(le),hasPreviewUrl:String(!!s),isOpen:String(e),isCheckingHealth:String(W),iframeLoading:String(B),loadingFailed:String($),isReplaying:String(v),showCase:String(i),jobId:f||"unknown"}))},[Qt,Sn,a,le,s,e,W,B,$,v,i,f]);const qt=d.useCallback(()=>t.jsxs("div",{className:"py-[15px] px-0 md:py-[15px] md:px-4 bg-[#0161D1] z-[2] flex items-center justify-between border-b border-[#242424]/60 relative",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-[rgba(255,255,255,0.1)] border border-[rgba(255,255,255,0.2)] rounded-[8px] p-0.5",children:[t.jsx("button",{type:"button",onClick:()=>{ss(Xt.VISUAL_EDIT_ELEMENT_SELECTOR_MODE,{jobId:f}),bn("select")},className:k("flex items-center justify-center w-7 h-7 rounded-[6px] transition-all",qe==="select"?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:t.jsx(i9e,{className:k("w-4 h-4",qe==="select"?"text-black":"text-white")})}),t.jsx("button",{type:"button",onClick:()=>{ss(Xt.VISUAL_EDIT_INTERACTIVE_MODE,{jobId:f}),bn("preview")},className:k("flex items-center justify-center w-7 h-7 rounded-[6px] transition-all",qe==="preview"?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:t.jsx(a9e,{className:k("w-4 h-4",qe==="preview"?"text-black":"text-white")})})]}),qe==="select"&&t.jsxs(ms,{children:[t.jsx("button",{type:"button",onClick:()=>{ss(Xt.VISUAL_EDIT_UNDO,{jobId:f}),Ue()},disabled:We<0,className:k("flex items-center justify-center w-8 h-8 bg-[#FFFFFF0A] border border-[rgba(255,255,255,0.2)] rounded-[6px] transition-colors",We<0?"opacity-40 cursor-not-allowed":"hover:bg-[#FFFFFF14] cursor-pointer"),children:t.jsx(t9e,{className:"w-4 h-4 text-white"})}),t.jsx("button",{type:"button",onClick:()=>{ss(Xt.VISUAL_EDIT_REDO,{jobId:f}),Nt()},disabled:We>=Ie.length-1,className:k("flex items-center justify-center w-8 h-8 bg-[#FFFFFF0A] border border-[rgba(255,255,255,0.2)] rounded-[6px] transition-colors",We>=Ie.length-1?"opacity-40 cursor-not-allowed":"hover:bg-[#FFFFFF14] cursor-pointer"),children:t.jsx(n9e,{className:"w-4 h-4 text-white"})})]})]}),t.jsxs("div",{"data-testid":gs.showcase.viewportButtons,className:"absolute left-1/2 -translate-x-1/2 flex items-center gap-1 bg-[rgba(255,255,255,0.1)] border border-[rgba(255,255,255,0.2)] rounded-[8px] p-1",children:[t.jsx("button",{"data-testid":gs.showcase.viewportDesktop,type:"button",onClick:()=>{ss(Xt.VISUAL_EDIT_DEVICE_PC,{jobId:f}),ze("pc")},className:k("flex items-center justify-center w-[26px] h-6 rounded-[6px] transition-all",Te==="pc"?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:t.jsx(X8e,{className:k("w-4 h-4",Te==="pc"?"text-black":"text-white")})}),t.jsx("button",{"data-testid":gs.showcase.viewportTablet,type:"button",onClick:()=>{ss(Xt.VISUAL_EDIT_DEVICE_TABLET,{jobId:f}),ze("tablet")},className:k("flex items-center justify-center w-[26px] h-6 rounded-[6px] transition-all",Te==="tablet"?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:t.jsx(Q8e,{className:k("w-4 h-4",Te==="tablet"?"text-black":"text-white")})}),t.jsx("button",{"data-testid":gs.showcase.viewportMobile,type:"button",onClick:()=>{ss(Xt.VISUAL_EDIT_DEVICE_MOBILE,{jobId:f}),ze("mobile")},className:k("flex items-center justify-center w-[26px] h-6 rounded-[6px] transition-all",Te==="mobile"?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:t.jsx(e9e,{className:k("w-4 h-4",Te==="mobile"?"text-black":"text-white")})})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(ms,{children:[t.jsx("button",{type:"button",onClick:()=>{ss(_t?Xt.VISUAL_EDIT_EXIT_FULLSCREEN:Xt.VISUAL_EDIT_FULLSCREEN,{jobId:f}),Bt(!_t)},className:k("flex items-center justify-center w-8 h-8 rounded-[6px] transition-colors",_t?"bg-white hover:bg-white/90":"bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] border border-[rgba(255,255,255,0.2)]"),children:_t?t.jsx(Tg,{className:"w-3 h-3 text-black"}):t.jsx(s9e,{className:"w-3 h-3 text-white"})}),t.jsxs("button",{type:"button",onClick:()=>{Le?(ss(Xt.VISUAL_EDIT_CLOSE_WITH_UNSAVED,{jobId:f}),T?.({onConfirm:an,title:"You have unsaved changes",description:"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:{text:"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"},isFullscreen:_t})):(H(Xt.VISUAL_EDIT_DISABLED,{jobId:f,source:"preview_panel"}),Gn({resetToDefaults:!0,triggerRefresh:!0,callDisable:!0,preserveForReactivate:!1}))},className:k("flex items-center justify-center h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] border border-[rgba(255,255,255,0.2)] rounded-[6px] transition-colors",A?"gap-1.5 px-2.5":"w-8"),children:[t.jsx(r9e,{className:"w-2.5 h-2.5 text-white"}),A&&t.jsx("span",{className:"text-sm font-medium text-white",children:"Exit Edit"})]})]})})]}),[Te,_t,Ue,Nt,We,Ie.length,qe,bn,Le,Yt,f,A,Gn,an,T]);return Pn?t.jsxs(t.Fragment,{children:[t.jsx(Fa,{trigger:t.jsx("div",{}),open:e,onOpenChange:Oe=>{Oe||n()},maxWidth:"max-w-full",showDefaultFooter:!1,customerHeader:Ht&&mt&&t.jsx("div",{className:"w-full flex justify-center items-center z-[51] absolute mx-auto top-[-56px]",children:t.jsxs("button",{className:"bg-white w-[240px] h-12 rounded-[26px] flex items-center justify-between px-4 py-3",onClick:lt,children:[t.jsx("img",{src:b9e,alt:"Expo Icon",className:"w-fit h-[20px]"}),t.jsx("span",{className:"text-[#000020] font-bold text-base",children:"Preview in Expo"}),t.jsx(Kve,{})]})}),contentPadding:"p-0",children:t.jsxs("div",{className:"h-[90dvh] mb-0 flex flex-col bg-[#111112] rounded-t-[24px] overflow-hidden relative",children:[t.jsx(Z8e,{previewUrl:s,iframeLoading:B,shouldDisableShareAndOpen:zs,handleOpenInNewTab:wr,handleRefresh:Bs,onClose:()=>$t(n)}),t.jsx("div",{className:"flex-1 overflow-hidden",children:Et()})]})}),t.jsx(CT,{isOpen:Q,onOpenChange:he,previewUrl:s}),t.jsx(WI,{isOpen:xe,onClose:ye,onComplete:ke})]}):t.jsxs("div",{className:k("w-full h-full bg-[#111112] max-md:absolute max-md:inset-0 relative",e?"block":"hidden",_t&&y&&!a&&"fixed top-[56px] left-0 right-0 h-[calc(100vh-56px)] z-[9999] pointer-events-none"),children:[t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsx("div",{className:"pointer-events-auto",children:y&&!a?qt():t.jsx(K8e,{jobId:f,isExpoImage:Ht,previewUrl:s,iframeLoading:B,shouldDisableShareAndOpen:zs,showPreviewExpoInfoSection:_e,handleShareClick:Gs,handleRefresh:Bs,handleOpenInNewTab:wr,onClose:()=>$t(n),onDeployClick:P,visualEditMode:y,onVisualEditClick:N,showVisualEditButton:_&&!Cn&&!!N,visualEditDisabled:C,isVisualEditChangesEnabled:A})}),t.jsxs("div",{ref:ps,className:"relative flex-1 p-0 overflow-hidden pointer-events-auto",children:[t.jsx("div",{className:k("w-full h-full flex items-center justify-center",y&&Te!=="pc"&&"bg-[#0F0F10]"),children:t.jsx("div",{className:k("h-full",y&&Te==="mobile"&&"w-[375px] mx-auto",y&&Te==="tablet"&&"w-[768px] mx-auto max-w-full",(!y||Te==="pc")&&"w-full"),children:Et()})}),t.jsx(P8e,{isVisible:kt.size>0&&!a,onSave:Yn,onDiscard:Fs,jobId:f,constraintKey:_t?"fullscreen":"default",isFullscreen:_t,showUnsavedChangesModal:T})]})]}),t.jsx(CT,{isOpen:Q,onOpenChange:he,previewUrl:s}),t.jsx(WI,{isOpen:xe,onClose:ye,onComplete:ke}),t.jsx(K$,{ref:gt,isVisible:Me&&!a,element:ge,position:$e,isInlineEditingActive:Tt,onClose:()=>{we(!1),Ce(null),dt(null),Gt(!1),Yt("CLEAR_SELECTION")},onSave:Oe=>{if(Tt||Yt("APPLY_CHANGES",{elementId:ge?.attributes?.["x-id"],...Oe,isMultiElement:ge?.isMultiElement,arrayIndex:ge?.arrayIndex}),ge?.attributes){const He=ge.attributes["x-id"],it=ge.attributes["x-file-name"],Ln=ge.attributes["x-line-number"],js=ge.attributes["x-component"];He&&it&&Ln&&js&&Ot(Un=>{const on=new Map(Un),sn=op(He,ge?.arrayIndex),On=on.get(sn),rt=ge?.hasChildElements??On?.hasChildElements??!1,gr=ge?.hasDirectTextContent??On?.hasDirectTextContent??!1,Es=ge?.isMultiElement??On?.isMultiElement??!1,ar=On?{...On.changes,...Oe}:Oe,Pe=ge?.editType??On?.editType,Ct=ge?.sourceInfo??On?.sourceInfo,An=ge?.arrayIndex??On?.arrayIndex;return on.set(sn,{elementId:He,fileName:it,lineNumber:parseInt(Ln,10),component:js,hasChildElements:rt,hasDirectTextContent:gr,isMultiElement:Es,changes:ar,editType:Pe,sourceInfo:Ct,arrayIndex:An}),on})}},onRevert:Jn,onChangesDetected:Is,onTriggerSave:tt,onDiscardChanges:St,onTriggerComplete:nr,onHistoryPush:nn,jobId:f})]})}function EC(e){const n=ba(),s=br(o=>OX(o,e)),r=d.useCallback(({panelName:o,value:l=null})=>{n(TX({tabId:e,panelName:o,value:l}))},[n,e]),i=d.useCallback(()=>Object.values(s).includes(!0),[s]),a=d.useCallback(()=>{n(AX({tabId:e}))},[n,e]);return{...s,panelState:s,togglePanel:r,isAnyPanelOpen:i,closeAllPanels:a}}const _9e=K.upload.blueCheck,j9e=(e,n)=>{if(!e)return{name:"Unknown User",email:"",initials:"U",isDeleted:!0};if(!n){const r=e.includes("@")?e.split("@")[0].charAt(0).toUpperCase():e.charAt(0).toUpperCase(),i=e.includes("@")?e.split("@")[0]:e;return{name:i.charAt(0).toUpperCase()+i.slice(1),email:e,initials:r}}const s=n.find(r=>r.user_id===e);if(s){const r=s.email.split("@")[0];return{name:r.charAt(0).toUpperCase()+r.slice(1),email:s.email,initials:r.charAt(0).toUpperCase(),role:s.role,status:s.status}}return{name:"Anonymous",email:e,initials:"D",isDeleted:!0}},N9e=e=>{const n=e.includes("VISUAL_EDIT_NOTIFICATION");let s=0,r="";if(n){const i=e.split("|||");i.length>=4&&(s=parseInt(i[1])||0,r=i[2]||"")}return{isVisualEdit:n,visualEditCount:s,visualEditDetails:r}},F9e=d.memo(function({message:n,organizationMembers:s}){const r=li(),i=j9e(n.user_id,s),a=i.isDeleted?"#6B7280":hB(n.user_id||""),{isVisualEdit:o}=N9e(n.content);return t.jsx("div",{className:k("relative group flex justify-center","mb-0"),id:n.id,"data-testid":`member-message-${n.id}`,children:t.jsxs("div",{id:n.id,"data-testid":Vs.message.member(n.id),className:k("my-4 group/message flex flex-col space-y-[10px] w-full justify-start items-start",r?"md:max-w-full":"md:max-w-4xl md:my-8"),children:[t.jsx(p$,{base64Images:n.base64_image_list,artifacts:n.artifacts,artifactSharedData:n.artifact_shared_data,className:"justify-start w-full",fromMember:!0}),t.jsxs("div",{className:"flex items-start w-full gap-4",children:[t.jsx("div",{className:"flex-shrink-0 max-md:hidden",children:t.jsx(Mu,{className:"w-8 h-8 md:w-8 md:h-8",children:t.jsx(Wf,{className:"text-sm font-bold text-white",style:{backgroundColor:a},children:i.initials})})}),t.jsxs("div",{className:"flex-1 min-w-0 ",children:[t.jsx("div",{className:k("px-4 py-3 rounded-xl rounded-tl-none w-fit max-w-full space-y-[10px] backdrop-blur-lg break-words",o&&"hidden"),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:t.jsx("div",{className:"flex flex-col",children:t.jsx("div",{className:"prose prose-invert max-w-none",children:t.jsx("p",{className:"text-[#CCEEFF] font-['Inter'] text-[15px] leading-6 font-normal whitespace-pre-wrap break-words",children:n.content})})})}),o&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-tl-[0px] md:gap-3 items-center justify-between w-fit",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.24748 5.23582C6.44259 5.2128 6.64037 5.24142 6.82267 5.31687L6.82365 5.3159L15.2846 8.77683L15.4281 8.84715C15.5653 8.92714 15.6848 9.03498 15.7787 9.16355L15.8295 9.23972L15.8735 9.31882C15.9702 9.50791 16.013 9.72113 15.9965 9.93406C15.9775 10.1772 15.8824 10.4088 15.724 10.5942C15.5656 10.7794 15.3517 10.9087 15.1147 10.9653V10.9663L11.7699 11.7671L10.9701 15.1128C10.9138 15.3496 10.7837 15.5626 10.599 15.7212C10.4133 15.8805 10.181 15.9765 9.93693 15.9956C9.69289 16.0146 9.44886 15.9553 9.24064 15.8266C9.03263 15.698 8.87085 15.5063 8.77873 15.2798L5.31779 6.82078L5.31877 6.8198C5.23249 6.61111 5.20827 6.38147 5.25138 6.15965L5.27092 6.07664C5.32356 5.88376 5.42572 5.70699 5.56779 5.56492L5.63029 5.5073C5.78178 5.3768 5.96529 5.28688 6.16252 5.24851L6.24748 5.23582ZM9.75041 13.5942L10.2738 11.4087V11.4077C10.3402 11.1318 10.4822 10.8797 10.683 10.6792C10.8839 10.4786 11.1364 10.3369 11.4125 10.271L13.5951 9.74754L7.0883 7.08543L9.75041 13.5942ZM3.13517 7.77488C3.42776 7.46696 3.91511 7.45498 4.22306 7.74754C4.5306 8.04012 4.54275 8.52661 4.25041 8.83445L2.78947 10.3725C2.4969 10.6805 2.01052 10.6924 1.70256 10.3999C1.39462 10.1073 1.38167 9.62093 1.67424 9.31297L3.13517 7.77488ZM0.0277509 4.40965C0.140698 4.00021 0.564602 3.7597 0.97404 3.87254L3.20451 4.48777C3.61397 4.60075 3.85457 5.02458 3.74162 5.43406C3.62853 5.84338 3.20473 6.08313 2.79533 5.97019L0.56486 5.35496C0.155728 5.24186 -0.0849285 4.81889 0.0277509 4.40965ZM9.31779 1.67234C9.62571 1.37982 10.1121 1.39187 10.4047 1.69968C10.6972 2.00753 10.685 2.49398 10.3774 2.7866L8.8383 4.24851C8.5304 4.54073 8.0439 4.52879 7.75138 4.22117C7.45881 3.91319 7.47173 3.42585 7.7797 3.13328L9.31779 1.67234ZM4.41154 0.0278093C4.8209 -0.085006 5.24479 0.155625 5.35783 0.564919L5.97306 2.79539C6.08592 3.20475 5.84523 3.6286 5.43595 3.74168C5.02656 3.85445 4.60262 3.61394 4.48967 3.20457L3.87443 0.974098C3.7616 0.564688 4.00216 0.140791 4.41154 0.0278093Z",fill:"#80FFF9E5"})}),t.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Visually edited few files"})]}),t.jsx("img",{src:_9e,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]})]})]}),t.jsx("div",{className:k("transition-opacity duration-200 h-5 text-left md:ml-12 opacity-100 md:group-hover/message:opacity-100",!r&&"md:opacity-0"),children:t.jsxs("div",{className:"inline-flex items-center gap-2 text-[#5C5F66]",children:[t.jsx("span",{className:"text-[13px] font-mono font-medium",style:{color:a},children:i.name}),t.jsx("div",{className:"w-1 h-1 rounded-full bg-[#CCEEFF]/20"}),t.jsx("span",{className:"font-mono font-medium text-[13px] leading-[20px]",children:f0(n.timestamp)})]})})]})})});function rz(){const{getCurrentOrganizationId:e,isOrganizationWorkspace:n}=hs(),s=e(),r=n(),{data:i,isLoading:a,error:o}=JP(s,{skip:!r||!s}),l=(i?.pending_invitations||[]).map((c,u)=>({user_id:c.email||`pending-${c.email}-${u}`,email:c.email||"",role:c.role||"MEMBER",status:"PENDING",joined_at:c.created_at||"",avatar_url:"",name:c.email?.split("@")[0]||"Unknown"}));return{members:i?.members||[],pending_members:l,max_member_count:i?.max_member_count??5,is_sso:i?.organization_type==="ENTERPRISE_SSO",isLoading:a,error:o}}const E9e=({size:e=48,width:n,height:s,color:r="#939399",fill:i,className:a,style:o,onClick:l,...c})=>{const u=n||e,p=s||e,f=i||r;return t.jsxs("svg",{width:u,height:p,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:o,onClick:l,...c,children:[t.jsx("rect",{width:"48",height:"48",rx:"8",fill:"url(#paint0_linear_7214_19824)",fillOpacity:"0.05"}),t.jsxs("g",{clipPath:"url(#clip0_7214_19824)",children:[t.jsx("path",{d:"M30.3003 15.6016C32.2331 15.6018 33.8003 17.1687 33.8003 19.1016V28.9014C33.8003 30.8342 32.2331 32.4011 30.3003 32.4014H17.6997C15.7668 32.4013 14.1997 30.8343 14.1997 28.9014V19.1016C14.1997 17.1686 15.7668 15.6017 17.6997 15.6016H30.3003Z",fill:f}),t.jsx("path",{d:"M17 27.5C17 26.1193 18.1193 25 19.5 25H28.5C29.8807 25 31 26.1193 31 27.5C31 28.8807 29.8807 30 28.5 30H19.5C18.1193 30 17 28.8807 17 27.5Z",fill:"#1D1D1E"}),t.jsx("rect",{opacity:"0.2",width:"3",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 20 28)",fill:"white"}),t.jsx("rect",{opacity:"0.2",width:"3",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 25 28)",fill:"white"}),t.jsx("rect",{x:"10",y:"22.5996",width:"2.8",height:"5.6",rx:"1.4",fill:f}),t.jsx("rect",{x:"35.2002",y:"22.5996",width:"2.8",height:"5.6",rx:"1.4",fill:f})]}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_7214_19824",x1:"24",y1:"0",x2:"24",y2:"48",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),t.jsx("clipPath",{id:"clip0_7214_19824",children:t.jsx("rect",{width:"28",height:"28",fill:"white",transform:"translate(10 10)"})})]})]})},GT=({style:e,onClick:n,children:s,className:r=""})=>t.jsx(zt,{className:k("h-[44px] px-4 py-3 flex space-x-2 justify-center items-center gap-4 text-white text-base font-medium rounded-[10px] backdrop-blur-[25px]",r),style:{background:i5.BUTTON_STYLES[e].background},onClick:n,children:s}),S9e=({children:e})=>t.jsx("div",{className:"flex items-center gap-2 text-transparent bg-clip-text",style:{background:i5.BUTTON_STYLES.gradient.textGradient,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:e}),Ox=K.common.fluentEmojiBell,k9e=K.common.send,I9e=K.common.bell,Bx=K.icons.animatedSpinner,T9e=({podIsPaused:e,isInputActive:n,showCase:s,githubDetails:r,createdBefore25April:i,resumePod:a,restartError:o,isReplaying:l,archivedPod:c,jobId:u,podStateDisplay:p="",showUpgrade:f=!1,machineType:m="Regular",isWakingUp:h=!1,showScrollButton:x=!1,scrollToBottom:g})=>{const v=li(),{isDownloading:b,handleDownload:y}=D$(),{newToast:w}=Ga(),_=h;if(!e||!n||s)return null;const N=t.jsx("a",{href:ha.helpCenter,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r font-['Inter'] font-semibold underline underline-offset-1",children:"Help Center"}),j=()=>{const I="text-[#fff]/80 font-inter text-[12px] md:text-[14px] opacity-50";return r&&i?t.jsxs("span",{className:I,children:["Apologies, the task has expired due to inactivity. We may not be able to recover this at this moment. Please start a new task using the same github repo or visit our ",N," for any assistance."]}):r?t.jsxs("span",{className:I,children:["Your GitHub task is paused. Click 'Wake up the Agent' to continue. Need help? Visit our ",N]}):c?t.jsxs("span",{className:I,children:["This job has been archived. You can download your code and create a new job. Need help? Visit our"," ",N]}):t.jsxs("span",{className:I,children:["If you are having trouble accessing your work, please visit our ",N]})},C=()=>c?"Job has been archived.":p||"Agent went to sleep due to inactivity.",S=!(r&&i)&&!c,F=()=>{H(qn.AGENT_EVENTS.WAKE_UP_AGENT,{isButtonWakingUp:_}),a()},E=()=>v?t.jsxs("div",{className:"flex flex-col w-full gap-4",children:[t.jsx("div",{className:"flex items-center gap-4","data-testid":Wr.sleep.notification,children:t.jsxs("div",{className:"flex flex-col self-start gap-1 font-inter",children:[t.jsx("span",{className:"text-[14px] md:text-[16px] font-medium text-[#c4c4cc]","data-testid":Wr.sleep.message,children:C()}),j()]})}),S&&!f&&t.jsxs("button",{type:"button","data-testid":Wr.sleep.wakeUpButton,onClick:F,disabled:_,className:k("w-full py-[10px] px-4 rounded-[8px] flex justify-center items-center gap-2 transition-all duration-300",_?"bg-[#80FFF908]":"bg-[#FCB94920] disabled:opacity-25 hover:bg-[#FCB94930]"),children:[_?t.jsx("img",{src:Bx,alt:"Loading...",className:"w-5 h-5"}):t.jsx("img",{src:Ox,alt:"Wake icon",className:"w-5 h-5"}),t.jsx("span",{className:k("text-[14px] whitespace-nowrap md:text-[16px] font-medium transition-all duration-300",_?"text-[#80FFF9]":"bg-gradient-to-r from-[#FCB949] to-[#E28C37] bg-clip-text text-transparent"),children:_?"Waking up...":"Wake up Agent"})]}),S&&f&&t.jsxs("button",{type:"button","data-testid":Wr.sleep.upgradeButton,onClick:F,disabled:_,className:k("w-full disabled:opacity-60 py-[10px] px-4 rounded-[8px] flex justify-center items-center gap-2 transition-all duration-300",_?"bg-transparent border border-[#FCB949]/30":"bg-[#FCB94920] hover:bg-[#FCB94930]"),children:[_?t.jsx("img",{src:Bx,alt:"Loading...",className:"w-5 h-5"}):t.jsx("img",{src:Ox,alt:"Wake icon",className:"w-5 h-5"}),t.jsx("span",{className:k("text-[14px] whitespace-nowrap md:text-[16px] font-medium transition-all duration-300",_&&!f?"bg-gradient-to-r from-[#49eafc] to-[#3778e2] text-transparent":"bg-gradient-to-r from-[#FCB949] bg-clip-text to-[#E28C37] text-transparent"),children:_?"Waking up...":m==="large"?"Wake up Agent":"Wake Agent with Larger Machine"})]}),c&&t.jsx("button",{type:"button","data-testid":Wr.sleep.downloadCodeButton,onClick:()=>y(u),disabled:b||!u,className:"w-full bg-[#FCB94920] justify-center disabled:opacity-25 p-[10px] rounded-[6px] flex items-center gap-2 hover:bg-[#FCB94930] transition-colors duration-200",children:t.jsx("span",{className:"bg-gradient-to-r from-[#FCB949] to-[#E28C37] text-transparent text-[12px] md:text-[16px] bg-clip-text font-medium",children:b?"Downloading...":"Download Your Code"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-4","data-testid":Wr.sleep.notification,children:[t.jsx(E9e,{className:"hidden md:block",size:56}),t.jsxs("div",{className:"flex flex-col self-start gap-1 font-inter",children:[t.jsx("span",{className:"text-[14px] md:text-[16px] font-medium text-[#c4c4cc]","data-testid":Wr.sleep.message,children:C()}),j()]})]}),S&&!f&&t.jsxs("button",{type:"button","data-testid":Wr.sleep.wakeUpButton,onClick:F,disabled:_,className:k("py-[10px] px-4 min-w-fit rounded-[8px] flex justify-center items-center gap-2 transition-all duration-300",_?"bg-[#80FFF908]":"bg-[#FCB94920] disabled:opacity-25 hover:bg-[#FCB94930]"),children:[_?t.jsx("img",{src:Bx,alt:"Loading...",className:"w-5 h-5"}):t.jsx("img",{src:Ox,alt:"Wake icon",className:"w-5 h-5"}),t.jsx("span",{className:k("text-[14px] whitespace-nowrap md:text-[16px] font-medium transition-all duration-300",_?"text-[#80FFF9]":"bg-gradient-to-r from-[#FCB949] to-[#E28C37] bg-clip-text text-transparent"),children:_?"Waking up...":"Wake up Agent"})]}),S&&f&&t.jsxs("button",{type:"button","data-testid":Wr.sleep.upgradeButton,onClick:F,disabled:_,className:k("disabled:opacity-60 py-[10px] px-4 min-w-fit rounded-[8px] flex justify-center items-center gap-2 transition-all duration-300",_?"bg-transparent border border-[#FCB949]/30":"bg-[#FCB94920] hover:bg-[#FCB94930]"),children:[_?t.jsx("img",{src:Bx,alt:"Loading...",className:"w-5 h-5"}):t.jsx("img",{src:Ox,alt:"Wake icon",className:"w-5 h-5"}),t.jsx("span",{className:k("text-[14px] whitespace-nowrap md:text-[16px] font-medium transition-all duration-300",_&&!f?"bg-gradient-to-r from-[#49eafc] to-[#3778e2] text-transparent":"bg-gradient-to-r from-[#FCB949] bg-clip-text to-[#E28C37] text-transparent"),children:_?"Waking up...":m==="large"?"Wake up Agent":"Wake Agent with Larger Machine"})]}),c&&t.jsx("button",{type:"button","data-testid":Wr.sleep.downloadCodeButton,onClick:()=>y(u),disabled:b||!u,className:"bg-[#FCB94920] min-w-fit justify-center disabled:opacity-25 p-[10px] rounded-[6px] flex items-center gap-2 hover:bg-[#FCB94930] transition-colors duration-200",children:t.jsx("span",{className:"bg-gradient-to-r from-[#FCB949] to-[#E28C37] text-transparent text-[12px] md:text-[16px] bg-clip-text font-medium",children:b?"Downloading...":"Download Your Code"})})]});return t.jsx(Kn,{children:t.jsxs(fe.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"tween",ease:"easeOut",duration:.4},className:"absolute px-4 grayscale-0 bottom-0 left-0 right-0 z-[49] w-full pointer-events-none",children:[x&&g&&t.jsx("div",{className:"flex justify-center mb-2 pointer-events-auto",children:t.jsx("button",{type:"button",onClick:g,className:"z-[9999] p-2 w-[36px] h-[36px] flex items-center justify-center text-black transition-colors bg-white rounded-full shadow-lg hover:bg-white/80","aria-label":"Scroll to bottom",children:t.jsx("img",{src:k9e,alt:"Scroll to bottom",className:"w-6 h-6 rotate-180"})})}),t.jsxs("div",{className:k("max-w-4xl relative mx-auto bg-[#18181A] border border-[#242424] rounded-[1rem] rounded-bl-none rounded-br-none pb-0 flex justify-between pointer-events-auto",e?"px-2 pt-2":"p-0"),children:[t.jsx("div",{className:"absolute top-0 bottom-0 left-0 right-0 z-0 rounded-[1rem]",style:{background:"linear-gradient(180deg, #131314 0%, rgba(19, 19, 20, 0) 100%)"}}),t.jsx("div",{className:"w-full z-10 bg-[#131314]/95 p-4 md:px-4 rounded-[1rem] rounded-bl-none rounded-br-none md:pt-4 md:pb-4 flex md:flex-row flex-col justify-between md:items-start gap-5",children:l?t.jsx("div",{className:"flex flex-col w-full gap-1",children:t.jsxs("div",{className:"flex items-center justify-between w-full max-md:gap-3 max-md:flex-col",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx(no,{size:24,color:"#2EBCE5"}),t.jsx("span",{className:"text-[#80FFF9] font-medium leading-[24px] tracking-[-0.1px]",style:{textShadow:"0px 0px 30px #80FFF999"},children:"Recreating Environment ..."})]}),t.jsx("span",{className:"text-[#FFFFFF]/50 text-[14px] font-inter leading-[20px] font-medium",children:"This usually takes around 5-10 mins."})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(GT,{style:"white",onClick:()=>window.open(ha.helpCenter,"_blank"),className:"w-full",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-medium",children:"Need Help ?"}),t.jsx(cf,{color:"white",strokeWidth:3,size:24,className:"max-md:hidden"})]})}),t.jsx(GT,{style:"gradient",onClick:()=>w.success("We will send you an email when preview is ready"),className:"w-full",children:t.jsxs(S9e,{children:[t.jsx("img",{alt:"Bell Icon",src:I9e,className:"max-md:hidden"}),t.jsx("p",{className:"font-medium",children:"Remind me"})]})})]})]})}):E()})]})]})})},A9e=({size:e=48,width:n,height:s,color:r="#EF4444",fill:i,className:a,style:o,onClick:l,...c})=>{const u=n||e,p=s||e,f=i||r;return t.jsxs("svg",{width:u,height:p,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:o,onClick:l,...c,children:[t.jsx("rect",{width:"48",height:"48",rx:"8",fill:"url(#paint0_linear_blocked)",fillOpacity:"0.05"}),t.jsxs("g",{clipPath:"url(#clip0_blocked)",children:[t.jsx("path",{d:"M30.3003 15.6016C32.2331 15.6018 33.8003 17.1687 33.8003 19.1016V28.9014C33.8003 30.8342 32.2331 32.4011 30.3003 32.4014H17.6997C15.7668 32.4013 14.1997 30.8343 14.1997 28.9014V19.1016C14.1997 17.1686 15.7668 15.6017 17.6997 15.6016H30.3003Z",fill:f}),t.jsx("path",{d:"M18 20L20 22M20 20L18 22",stroke:"#1D1D1E",strokeWidth:"1.5",strokeLinecap:"round"}),t.jsx("path",{d:"M28 20L30 22M30 20L28 22",stroke:"#1D1D1E",strokeWidth:"1.5",strokeLinecap:"round"}),t.jsx("path",{d:"M20 28C20 28 22 26 24 26C26 26 28 28 28 28",stroke:"#1D1D1E",strokeWidth:"1.5",strokeLinecap:"round"}),t.jsx("rect",{x:"10",y:"22.5996",width:"2.8",height:"5.6",rx:"1.4",fill:f}),t.jsx("rect",{x:"35.2002",y:"22.5996",width:"2.8",height:"5.6",rx:"1.4",fill:f})]}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_blocked",x1:"24",y1:"0",x2:"24",y2:"48",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#EF4444"}),t.jsx("stop",{offset:"1",stopColor:"#EF4444",stopOpacity:"0"})]}),t.jsx("clipPath",{id:"clip0_blocked",children:t.jsx("rect",{width:"28",height:"28",fill:"white",transform:"translate(10 10)"})})]})]})},D9e=({isBlocked:e,isInputActive:n,showCase:s,jobId:r})=>{const i=li();if(!e||!n||s)return null;const a=()=>{const l=encodeURIComponent(`Task Blocked  Job ID: ${r||"N/A"}`);window.location.href=`mailto:support@emergent.sh?subject=${l}`},o=()=>i?t.jsxs("div",{className:"flex flex-col w-full gap-4",children:[t.jsx("div",{className:"flex items-center gap-4","data-testid":Wr.phishingBlocked.notification,children:t.jsxs("div",{className:"flex flex-col self-start gap-1 font-inter",children:[t.jsx("span",{className:"text-[14px] md:text-[16px] font-medium text-[#EF4444]","data-testid":Wr.phishingBlocked.message,children:"This task has been blocked"}),t.jsx("span",{className:"text-[#fff]/80 font-inter text-[12px] md:text-[14px] opacity-50",children:"This task has been disabled due to a policy violation. If you believe this is an error, please contact our support team for assistance."})]})}),t.jsxs("button",{type:"button","data-testid":Wr.phishingBlocked.contactSupportButton,onClick:a,className:k("w-full py-[10px] px-4 rounded-[8px] flex justify-center items-center gap-2 transition-all duration-300","bg-[#EF444420] hover:bg-[#EF444430]"),children:[t.jsx(cf,{className:"w-5 h-5 text-[#EF4444]"}),t.jsx("span",{className:"text-[14px] whitespace-nowrap md:text-[16px] font-medium bg-gradient-to-r from-[#EF4444] to-[#DC2626] bg-clip-text text-transparent",children:"Contact Support"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-4","data-testid":Wr.phishingBlocked.notification,children:[t.jsx(A9e,{className:"hidden md:block shrink-0",size:56}),t.jsxs("div",{className:"flex flex-col gap-1 font-inter min-w-0",children:[t.jsx("span",{className:"text-[14px] md:text-[16px] font-medium text-[#EF4444]","data-testid":Wr.phishingBlocked.message,children:"This task has been blocked"}),t.jsx("span",{className:"text-[#fff]/80 font-inter text-[12px] md:text-[14px] opacity-50",children:"This task has been disabled due to a policy violation. If you believe this is an error, please contact our support team for assistance."})]})]}),t.jsxs("button",{type:"button","data-testid":Wr.phishingBlocked.contactSupportButton,onClick:a,className:k("py-[10px] px-4 min-w-fit rounded-[8px] flex justify-center items-center gap-2 transition-all duration-300","bg-[#EF444420] hover:bg-[#EF444430]"),children:[t.jsx(cf,{className:"w-5 h-5 text-[#EF4444]"}),t.jsx("span",{className:"text-[14px] whitespace-nowrap md:text-[16px] font-medium bg-gradient-to-r from-[#EF4444] to-[#DC2626] bg-clip-text text-transparent",children:"Contact Support"})]})]});return t.jsx(Kn,{children:t.jsx(fe.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"tween",ease:"easeOut",duration:.4},className:"absolute px-4 grayscale-0 bottom-0 left-0 right-0 z-[49] w-full pointer-events-none",children:t.jsxs("div",{className:k("max-w-4xl relative mx-auto bg-[#FFFFFF0F] backdrop-blur-3xl rounded-[1rem] rounded-bl-none rounded-br-none pb-0 flex justify-between pointer-events-auto",e?"px-2 pt-2":"p-0"),children:[t.jsx("div",{className:"absolute top-0 bottom-0 left-0 right-0 z-0 rounded-[1rem]",style:{background:"linear-gradient(180deg, #131314 0%, rgba(19, 19, 20, 0) 100%)"}}),t.jsx("div",{className:"w-full z-10 bg-[#131314]/95 p-4 md:px-4 rounded-[1rem] rounded-bl-none rounded-br-none md:pt-4 md:pb-4 flex md:flex-row flex-col justify-between md:items-center gap-5",children:o()})]})})})},SC=({width:e=57,height:n=38,className:s="",fill:r="white",...i})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 57 38",fill:"none",className:s,...i,children:[t.jsx("defs",{children:t.jsxs("filter",{id:"filter0_d_11791_110933",x:"-0.503906",y:"-7.60205",width:"58",height:"53.2012",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feOffset",{}),t.jsx("feGaussianBlur",{stdDeviation:"10"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.6 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_11791_110933"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_11791_110933",result:"shape"})]})}),t.jsx("g",{filter:"url(#filter0_d_11791_110933)",children:t.jsx("path",{d:"M28.4967 12.3979C30.4524 12.4715 32.344 13.1167 33.9371 14.2534C35.5302 15.3902 36.7548 16.969 37.4605 18.7944C37.5082 18.9263 37.5082 19.0708 37.4605 19.2026C36.7548 21.028 35.5302 22.6069 33.9371 23.7437C32.344 24.8804 30.4524 25.5255 28.4967 25.5991C26.541 25.5256 24.6494 24.8803 23.0562 23.7437C21.4631 22.6069 20.2376 21.0281 19.5318 19.2026C19.4842 19.0708 19.4842 18.9262 19.5318 18.7944C20.2376 16.9689 21.463 15.3902 23.0562 14.2534C24.6494 13.1167 26.5409 12.4715 28.4967 12.3979ZM29.9889 15.395C29.2763 15.0999 28.4924 15.023 27.7359 15.1733C26.9794 15.3238 26.2843 15.6953 25.7389 16.2407C25.1934 16.7862 24.822 17.4812 24.6715 18.2378C24.5211 18.9942 24.598 19.7782 24.8932 20.4907C25.1884 21.2034 25.6883 21.8131 26.3297 22.2417C26.971 22.6701 27.7254 22.8989 28.4967 22.8989C29.5305 22.8973 30.5215 22.4854 31.2525 21.7544C31.9835 21.0233 32.3954 20.0324 32.3971 18.9985C32.3971 18.2271 32.1674 17.4729 31.7389 16.8315C31.3103 16.1903 30.7015 15.6902 29.9889 15.395ZM28.4976 16.5972C29.8232 16.5972 30.898 17.672 30.898 18.9976C30.898 20.3231 29.8232 21.3979 28.4976 21.3979C27.1723 21.3977 26.0983 20.323 26.0982 18.9976C26.0982 17.6721 27.1723 16.5974 28.4976 16.5972Z",fill:r})})]});SC.propTypes={width:Qe.oneOfType([Qe.number,Qe.string]),height:Qe.oneOfType([Qe.number,Qe.string]),className:Qe.string,fill:Qe.string,onClick:Qe.func,onMouseEnter:Qe.func,onMouseLeave:Qe.func,style:Qe.object,"aria-label":Qe.string,"aria-hidden":Qe.bool,role:Qe.string,id:Qe.string,"data-testid":Qe.string};const M9e={initial:{opacity:0,scale:.5,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8,duration:2}},R9e=({isVisible:e,previewUrl:n,onPreviewClick:s,promptText:r="",className:i="",ariaLabel:a="Open preview",showMobileIcon:o=!0,animationConfig:l=M9e,hasOpenedBefore:c=()=>!1})=>{if(!e)return null;const u=`
    z-[49] p-2 w-fit h-[56px] rounded-[12px] 
    flex items-center justify-center space-x-[10px] font-brockmann text-base font-semibold 
    transition-colors 
    shadow-[0px_0px_40px_0px_rgba(255,255,255,0.20)] 
    shadow-lg
    ${i}
  `.trim(),p=`
    rounded 
    shadow-[0px_50px_14px_0px_rgba(0,0,0,0.00),0px_32px_13px_0px_rgba(0,0,0,0.03),0px_18px_11px_0px_rgba(0,0,0,0.10),0px_8px_8px_0px_rgba(0,0,0,0.16),0px_2px_4px_0px_rgba(0,0,0,0.19)]
    flex 
    w-14 
    h-full
    justify-center 
    items-center
    relative
    overflow-hidden
    bg-gray-300
  `.trim(),f=d.useCallback(()=>c()?"View Preview":"Your Preview is ready",[c]);return t.jsx(Kn,{children:t.jsx(fe.div,{initial:l.initial,animate:l.animate,exit:l.exit,transition:l.transition,children:t.jsx("div",{className:"flex justify-center mb-2 md:hidden",children:t.jsxs("button",{type:"button",onClick:s,className:k([u,c()?"bg-[#303033] text-white":"bg-white text-[#0E0E0F]"]),"aria-label":a,children:[t.jsxs("div",{className:p,children:[n&&t.jsx("iframe",{src:n,title:"Preview",className:"h-full rounded w-14 z-[1] pointer-events-none",style:{zoom:1,pointerEvents:"none"}}),t.jsx("div",{className:"absolute z-[50] h-full w-14 inset-0 flex items-center justify-center rounded pointer-events-none bg-black/50",children:t.jsx(SC,{color:"#fff"})})]}),t.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[t.jsx("p",{children:r||f()}),c()?t.jsx(Ur,{className:"w-6 h-6 text-white/40"}):t.jsx(kH,{className:"w-5 h-5"})]})]})})})})},g3=d.createContext(null);g3.displayName="PanelGroupContext";const mi={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},kC=10,du=d.useLayoutEffect,qT=IK.useId,L9e=typeof qT=="function"?qT:()=>null;let P9e=0;function IC(e=null){const n=L9e(),s=d.useRef(e||n||null);return s.current===null&&(s.current=""+P9e++),e??s.current}function iz({children:e,className:n="",collapsedSize:s,collapsible:r,defaultSize:i,forwardedRef:a,id:o,maxSize:l,minSize:c,onCollapse:u,onExpand:p,onResize:f,order:m,style:h,tagName:x="div",...g}){const v=d.useContext(g3);if(v===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:b,expandPanel:y,getPanelSize:w,getPanelStyle:_,groupId:N,isPanelCollapsed:j,reevaluatePanelConstraints:C,registerPanel:S,resizePanel:F,unregisterPanel:E}=v,I=IC(o),T=d.useRef({callbacks:{onCollapse:u,onExpand:p,onResize:f},constraints:{collapsedSize:s,collapsible:r,defaultSize:i,maxSize:l,minSize:c},id:I,idIsFromProps:o!==void 0,order:m});d.useRef({didLogMissingDefaultSizeWarning:!1}),du(()=>{const{callbacks:D,constraints:O}=T.current,M={...O};T.current.id=I,T.current.idIsFromProps=o!==void 0,T.current.order=m,D.onCollapse=u,D.onExpand=p,D.onResize=f,O.collapsedSize=s,O.collapsible=r,O.defaultSize=i,O.maxSize=l,O.minSize=c,(M.collapsedSize!==O.collapsedSize||M.collapsible!==O.collapsible||M.maxSize!==O.maxSize||M.minSize!==O.minSize)&&C(T.current,M)}),du(()=>{const D=T.current;return S(D),()=>{E(D)}},[m,I,S,E]),d.useImperativeHandle(a,()=>({collapse:()=>{b(T.current)},expand:D=>{y(T.current,D)},getId(){return I},getSize(){return w(T.current)},isCollapsed(){return j(T.current)},isExpanded(){return!j(T.current)},resize:D=>{F(T.current,D)}}),[b,y,w,j,I,F]);const A=_(T.current,i);return d.createElement(x,{...g,children:e,className:n,id:I,style:{...A,...h},[mi.groupId]:N,[mi.panel]:"",[mi.panelCollapsible]:r||void 0,[mi.panelId]:I,[mi.panelSize]:parseFloat(""+A.flexGrow).toFixed(1)})}const TC=d.forwardRef((e,n)=>d.createElement(iz,{...e,forwardedRef:n}));iz.displayName="Panel";TC.displayName="forwardRef(Panel)";let _8=null,Rg=-1,Sc=null;function O9e(e,n,s){const r=(n&dz)!==0,i=(n&uz)!==0,a=(n&pz)!==0,o=(n&fz)!==0;if(n){if(r)return a?"se-resize":o?"ne-resize":"e-resize";if(i)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function B9e(){Sc!==null&&(document.head.removeChild(Sc),_8=null,Sc=null,Rg=-1)}function gy(e,n,s){var r,i;const a=O9e(e,n);if(_8!==a){if(_8=a,Sc===null&&(Sc=document.createElement("style"),document.head.appendChild(Sc)),Rg>=0){var o;(o=Sc.sheet)===null||o===void 0||o.removeRule(Rg)}Rg=(r=(i=Sc.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${a} !important;}`))!==null&&r!==void 0?r:-1}}function az(e){return e.type==="keydown"}function oz(e){return e.type.startsWith("pointer")}function lz(e){return e.type.startsWith("mouse")}function b3(e){if(oz(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(lz(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function U9e(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function H9e(e,n,s){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}function V9e(e,n){if(e===n)throw new Error("Cannot compare node with itself");const s={a:ZT(e),b:ZT(n)};let r;for(;s.a.at(-1)===s.b.at(-1);)e=s.a.pop(),n=s.b.pop(),r=e;Os(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:YT(KT(s.a)),b:YT(KT(s.b))};if(i.a===i.b){const a=r.childNodes,o={a:s.a.at(-1),b:s.b.at(-1)};let l=a.length;for(;l--;){const c=a[l];if(c===o.a)return 1;if(c===o.b)return-1}}return Math.sign(i.a-i.b)}const $9e=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function z9e(e){var n;const s=getComputedStyle((n=cz(e))!==null&&n!==void 0?n:e).display;return s==="flex"||s==="inline-flex"}function W9e(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||z9e(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||$9e.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function KT(e){let n=e.length;for(;n--;){const s=e[n];if(Os(s,"Missing node"),W9e(s))return s}return null}function YT(e){return e&&Number(getComputedStyle(e).zIndex)||0}function ZT(e){const n=[];for(;e;)n.push(e),e=cz(e);return n}function cz(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const dz=1,uz=2,pz=4,fz=8,G9e=U9e()==="coarse";let Oo=[],Zp=!1,kc=new Map,y3=new Map;const Hh=new Set;function q9e(e,n,s,r,i){var a;const{ownerDocument:o}=n,l={direction:s,element:n,hitAreaMargins:r,setResizeHandlerState:i},c=(a=kc.get(o))!==null&&a!==void 0?a:0;return kc.set(o,c+1),Hh.add(l),c5(),function(){var p;y3.delete(e),Hh.delete(l);const f=(p=kc.get(o))!==null&&p!==void 0?p:1;if(kc.set(o,f-1),c5(),f===1&&kc.delete(o),Oo.includes(l)){const m=Oo.indexOf(l);m>=0&&Oo.splice(m,1),v3(),i("up",!0,null)}}}function K9e(e){const{target:n}=e,{x:s,y:r}=b3(e);Zp=!0,AC({target:n,x:s,y:r}),c5(),Oo.length>0&&(d5("down",e),v3(),e.preventDefault(),mz(n)||e.stopImmediatePropagation())}function by(e){const{x:n,y:s}=b3(e);if(Zp&&e.type!=="pointerleave"&&e.buttons===0&&(Zp=!1,d5("up",e)),!Zp){const{target:r}=e;AC({target:r,x:n,y:s})}d5("move",e),v3(),Oo.length>0&&e.preventDefault()}function yy(e){const{target:n}=e,{x:s,y:r}=b3(e);y3.clear(),Zp=!1,Oo.length>0&&(e.preventDefault(),mz(n)||e.stopImmediatePropagation()),d5("up",e),AC({target:n,x:s,y:r}),v3(),c5()}function mz(e){let n=e;for(;n;){if(n.hasAttribute(mi.resizeHandle))return!0;n=n.parentElement}return!1}function AC({target:e,x:n,y:s}){Oo.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Hh.forEach(i=>{const{element:a,hitAreaMargins:o}=i,l=a.getBoundingClientRect(),{bottom:c,left:u,right:p,top:f}=l,m=G9e?o.coarse:o.fine;if(n>=u-m&&n<=p+m&&s>=f-m&&s<=c+m){if(r!==null&&document.contains(r)&&a!==r&&!a.contains(r)&&!r.contains(a)&&V9e(r,a)>0){let x=r,g=!1;for(;x&&!x.contains(a);){if(H9e(x.getBoundingClientRect(),l)){g=!0;break}x=x.parentElement}if(g)return}Oo.push(i)}})}function vy(e,n){y3.set(e,n)}function v3(){let e=!1,n=!1;Oo.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:n=!0});let s=0;y3.forEach(r=>{s|=r}),e&&n?gy("intersection",s):e?gy("horizontal",s):n?gy("vertical",s):B9e()}let wy;function c5(){var e;(e=wy)===null||e===void 0||e.abort(),wy=new AbortController;const n={capture:!0,signal:wy.signal};Hh.size&&(Zp?(Oo.length>0&&kc.forEach((s,r)=>{const{body:i}=r;s>0&&(i.addEventListener("contextmenu",yy,n),i.addEventListener("pointerleave",by,n),i.addEventListener("pointermove",by,n))}),kc.forEach((s,r)=>{const{body:i}=r;i.addEventListener("pointerup",yy,n),i.addEventListener("pointercancel",yy,n)})):kc.forEach((s,r)=>{const{body:i}=r;s>0&&(i.addEventListener("pointerdown",K9e,n),i.addEventListener("pointermove",by,n))}))}function d5(e,n){Hh.forEach(s=>{const{setResizeHandlerState:r}=s,i=Oo.includes(s);r(e,i,n)})}function Y9e(){const[e,n]=d.useState(0);return d.useCallback(()=>n(s=>s+1),[])}function Os(e,n){if(!e)throw Error(n)}function Cu(e,n,s=kC){return e.toFixed(s)===n.toFixed(s)?0:e>n?1:-1}function zl(e,n,s=kC){return Cu(e,n,s)===0}function Ya(e,n,s){return Cu(e,n,s)===0}function Z9e(e,n,s){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],a=n[r];if(!Ya(i,a,s))return!1}return!0}function Ap({panelConstraints:e,panelIndex:n,size:s}){const r=e[n];Os(r!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:a,maxSize:o=100,minSize:l=0}=r;if(Cu(s,l)<0)if(a){const c=(i+l)/2;Cu(s,c)<0?s=i:s=l}else s=l;return s=Math.min(o,s),s=parseFloat(s.toFixed(kC)),s}function _1({delta:e,initialLayout:n,panelConstraints:s,pivotIndices:r,prevLayout:i,trigger:a}){if(Ya(e,0))return n;const o=[...n],[l,c]=r;Os(l!=null,"Invalid first pivot index"),Os(c!=null,"Invalid second pivot index");let u=0;if(a==="keyboard"){{const f=e<0?c:l,m=s[f];Os(m,`Panel constraints not found for index ${f}`);const{collapsedSize:h=0,collapsible:x,minSize:g=0}=m;if(x){const v=n[f];if(Os(v!=null,`Previous layout not found for panel index ${f}`),Ya(v,h)){const b=g-v;Cu(b,Math.abs(e))>0&&(e=e<0?0-b:b)}}}{const f=e<0?l:c,m=s[f];Os(m,`No panel constraints found for index ${f}`);const{collapsedSize:h=0,collapsible:x,minSize:g=0}=m;if(x){const v=n[f];if(Os(v!=null,`Previous layout not found for panel index ${f}`),Ya(v,g)){const b=v-h;Cu(b,Math.abs(e))>0&&(e=e<0?0-b:b)}}}}{const f=e<0?1:-1;let m=e<0?c:l,h=0;for(;;){const g=n[m];Os(g!=null,`Previous layout not found for panel index ${m}`);const b=Ap({panelConstraints:s,panelIndex:m,size:100})-g;if(h+=b,m+=f,m<0||m>=s.length)break}const x=Math.min(Math.abs(e),Math.abs(h));e=e<0?0-x:x}{let m=e<0?l:c;for(;m>=0&&m<s.length;){const h=Math.abs(e)-Math.abs(u),x=n[m];Os(x!=null,`Previous layout not found for panel index ${m}`);const g=x-h,v=Ap({panelConstraints:s,panelIndex:m,size:g});if(!Ya(x,v)&&(u+=x-v,o[m]=v,u.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?m--:m++}}if(Z9e(i,o))return i;{const f=e<0?c:l,m=n[f];Os(m!=null,`Previous layout not found for panel index ${f}`);const h=m+u,x=Ap({panelConstraints:s,panelIndex:f,size:h});if(o[f]=x,!Ya(x,h)){let g=h-x,b=e<0?c:l;for(;b>=0&&b<s.length;){const y=o[b];Os(y!=null,`Previous layout not found for panel index ${b}`);const w=y+g,_=Ap({panelConstraints:s,panelIndex:b,size:w});if(Ya(y,_)||(g-=_-y,o[b]=_),Ya(g,0))break;e>0?b--:b++}}}const p=o.reduce((f,m)=>m+f,0);return Ya(p,100)?o:i}function J9e({layout:e,panelsArray:n,pivotIndices:s}){let r=0,i=100,a=0,o=0;const l=s[0];Os(l!=null,"No pivot index found"),n.forEach((f,m)=>{const{constraints:h}=f,{maxSize:x=100,minSize:g=0}=h;m===l?(r=g,i=x):(a+=g,o+=x)});const c=Math.min(i,100-a),u=Math.max(r,100-o),p=e[l];return{valueMax:c,valueMin:u,valueNow:p}}function Vh(e,n=document){return Array.from(n.querySelectorAll(`[${mi.resizeHandleId}][data-panel-group-id="${e}"]`))}function hz(e,n,s=document){const i=Vh(e,s).findIndex(a=>a.getAttribute(mi.resizeHandleId)===n);return i??null}function xz(e,n,s){const r=hz(e,n,s);return r!=null?[r,r+1]:[-1,-1]}function X9e(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function gz(e,n=document){if(X9e(n)&&n.dataset.panelGroupId==e)return n;const s=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return s||null}function w3(e,n=document){const s=n.querySelector(`[${mi.resizeHandleId}="${e}"]`);return s||null}function Q9e(e,n,s,r=document){var i,a,o,l;const c=w3(n,r),u=Vh(e,r),p=c?u.indexOf(c):-1,f=(i=(a=s[p])===null||a===void 0?void 0:a.id)!==null&&i!==void 0?i:null,m=(o=(l=s[p+1])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null;return[f,m]}function e7e({committedValuesRef:e,eagerValuesRef:n,groupId:s,layout:r,panelDataArray:i,panelGroupElement:a,setLayout:o}){d.useRef({didWarnAboutMissingResizeHandle:!1}),du(()=>{if(!a)return;const l=Vh(s,a);for(let c=0;c<i.length-1;c++){const{valueMax:u,valueMin:p,valueNow:f}=J9e({layout:r,panelsArray:i,pivotIndices:[c,c+1]}),m=l[c];if(m!=null){const h=i[c];Os(h,`No panel data found for index "${c}"`),m.setAttribute("aria-controls",h.id),m.setAttribute("aria-valuemax",""+Math.round(u)),m.setAttribute("aria-valuemin",""+Math.round(p)),m.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{l.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[s,r,i,a]),d.useEffect(()=>{if(!a)return;const l=n.current;Os(l,"Eager values not found");const{panelDataArray:c}=l,u=gz(s,a);Os(u!=null,`No group found for id "${s}"`);const p=Vh(s,a);Os(p,`No resize handles found for group id "${s}"`);const f=p.map(m=>{const h=m.getAttribute(mi.resizeHandleId);Os(h,"Resize handle element has no handle id attribute");const[x,g]=Q9e(s,h,c,a);if(x==null||g==null)return()=>{};const v=b=>{if(!b.defaultPrevented)switch(b.key){case"Enter":{b.preventDefault();const y=c.findIndex(w=>w.id===x);if(y>=0){const w=c[y];Os(w,`No panel data found for index ${y}`);const _=r[y],{collapsedSize:N=0,collapsible:j,minSize:C=0}=w.constraints;if(_!=null&&j){const S=_1({delta:Ya(_,N)?C-N:N-_,initialLayout:r,panelConstraints:c.map(F=>F.constraints),pivotIndices:xz(s,h,a),prevLayout:r,trigger:"keyboard"});r!==S&&o(S)}}break}}};return m.addEventListener("keydown",v),()=>{m.removeEventListener("keydown",v)}});return()=>{f.forEach(m=>m())}},[a,e,n,s,r,i,o])}function JT(e,n){if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==n[s])return!1;return!0}function bz(e,n){const s=e==="horizontal",{x:r,y:i}=b3(n);return s?r:i}function t7e(e,n,s,r,i){const a=s==="horizontal",o=w3(n,i);Os(o,`No resize handle element found for id "${n}"`);const l=o.getAttribute(mi.groupId);Os(l,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=r;const u=bz(s,e),p=gz(l,i);Os(p,`No group element found for id "${l}"`);const f=p.getBoundingClientRect(),m=a?f.width:f.height;return(u-c)/m*100}function n7e(e,n,s,r,i,a){if(az(e)){const o=s==="horizontal";let l=0;e.shiftKey?l=100:i!=null?l=i:l=10;let c=0;switch(e.key){case"ArrowDown":c=o?0:l;break;case"ArrowLeft":c=o?-l:0;break;case"ArrowRight":c=o?l:0;break;case"ArrowUp":c=o?0:-l;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return r==null?0:t7e(e,n,s,r,a)}function s7e({panelDataArray:e}){const n=Array(e.length),s=e.map(a=>a.constraints);let r=0,i=100;for(let a=0;a<e.length;a++){const o=s[a];Os(o,`Panel constraints not found for index ${a}`);const{defaultSize:l}=o;l!=null&&(r++,n[a]=l,i-=l)}for(let a=0;a<e.length;a++){const o=s[a];Os(o,`Panel constraints not found for index ${a}`);const{defaultSize:l}=o;if(l!=null)continue;const c=e.length-r,u=i/c;r++,n[a]=u,i-=u}return n}function lp(e,n,s){n.forEach((r,i)=>{const a=e[i];Os(a,`Panel data not found for index ${i}`);const{callbacks:o,constraints:l,id:c}=a,{collapsedSize:u=0,collapsible:p}=l,f=s[c];if(f==null||r!==f){s[c]=r;const{onCollapse:m,onExpand:h,onResize:x}=o;x&&x(r,f),p&&(m||h)&&(h&&(f==null||zl(f,u))&&!zl(r,u)&&h(),m&&(f==null||!zl(f,u))&&zl(r,u)&&m())}})}function Ux(e,n){if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!=n[s])return!1;return!0}function r7e({defaultSize:e,dragState:n,layout:s,panelData:r,panelIndex:i,precision:a=3}){const o=s[i];let l;return o==null?l=e!=null?e.toFixed(a):"1":r.length===1?l="1":l=o.toFixed(a),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function i7e(e,n=10){let s=null;return(...i)=>{s!==null&&clearTimeout(s),s=setTimeout(()=>{e(...i)},n)}}function XT(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,s)=>{localStorage.setItem(n,s)};else throw new Error("localStorage not supported in this environment")}catch{e.getItem=()=>null,e.setItem=()=>{}}}function yz(e){return`react-resizable-panels:${e}`}function vz(e){return e.map(n=>{const{constraints:s,id:r,idIsFromProps:i,order:a}=n;return i?r:a?`${a}:${JSON.stringify(s)}`:JSON.stringify(s)}).sort((n,s)=>n.localeCompare(s)).join(",")}function wz(e,n){try{const s=yz(e),r=n.getItem(s);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function a7e(e,n,s){var r,i;const a=(r=wz(e,s))!==null&&r!==void 0?r:{},o=vz(n);return(i=a[o])!==null&&i!==void 0?i:null}function o7e(e,n,s,r,i){var a;const o=yz(e),l=vz(n),c=(a=wz(e,i))!==null&&a!==void 0?a:{};c[l]={expandToSizes:Object.fromEntries(s.entries()),layout:r};try{i.setItem(o,JSON.stringify(c))}catch{}}function QT({layout:e,panelConstraints:n}){const s=[...e],r=s.reduce((a,o)=>a+o,0);if(s.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${s.map(a=>`${a}%`).join(", ")}`);if(!Ya(r,100)&&s.length>0)for(let a=0;a<n.length;a++){const o=s[a];Os(o!=null,`No layout data found for index ${a}`);const l=100/r*o;s[a]=l}let i=0;for(let a=0;a<n.length;a++){const o=s[a];Os(o!=null,`No layout data found for index ${a}`);const l=Ap({panelConstraints:n,panelIndex:a,size:o});o!=l&&(i+=o-l,s[a]=l)}if(!Ya(i,0))for(let a=0;a<n.length;a++){const o=s[a];Os(o!=null,`No layout data found for index ${a}`);const l=o+i,c=Ap({panelConstraints:n,panelIndex:a,size:l});if(o!==c&&(i-=c-o,s[a]=c,Ya(i,0)))break}return s}const l7e=100,j1={getItem:e=>(XT(j1),j1.getItem(e)),setItem:(e,n)=>{XT(j1),j1.setItem(e,n)}},eA={};function Cz({autoSaveId:e=null,children:n,className:s="",direction:r,forwardedRef:i,id:a=null,onLayout:o=null,keyboardResizeBy:l=null,storage:c=j1,style:u,tagName:p="div",...f}){const m=IC(a),h=d.useRef(null),[x,g]=d.useState(null),[v,b]=d.useState([]),y=Y9e(),w=d.useRef({}),_=d.useRef(new Map),N=d.useRef(0),j=d.useRef({autoSaveId:e,direction:r,dragState:x,id:m,keyboardResizeBy:l,onLayout:o,storage:c}),C=d.useRef({layout:v,panelDataArray:[],panelDataArrayChanged:!1});d.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),d.useImperativeHandle(i,()=>({getId:()=>j.current.id,getLayout:()=>{const{layout:U}=C.current;return U},setLayout:U=>{const{onLayout:oe}=j.current,{layout:Y,panelDataArray:W}=C.current,Z=QT({layout:U,panelConstraints:W.map(le=>le.constraints)});JT(Y,Z)||(b(Z),C.current.layout=Z,oe&&oe(Z),lp(W,Z,w.current))}}),[]),du(()=>{j.current.autoSaveId=e,j.current.direction=r,j.current.dragState=x,j.current.id=m,j.current.onLayout=o,j.current.storage=c}),e7e({committedValuesRef:j,eagerValuesRef:C,groupId:m,layout:v,panelDataArray:C.current.panelDataArray,setLayout:b,panelGroupElement:h.current}),d.useEffect(()=>{const{panelDataArray:U}=C.current;if(e){if(v.length===0||v.length!==U.length)return;let oe=eA[e];oe==null&&(oe=i7e(o7e,l7e),eA[e]=oe);const Y=[...U],W=new Map(_.current);oe(e,Y,W,v,c)}},[e,v,c]),d.useEffect(()=>{});const S=d.useCallback(U=>{const{onLayout:oe}=j.current,{layout:Y,panelDataArray:W}=C.current;if(U.constraints.collapsible){const Z=W.map(he=>he.constraints),{collapsedSize:le=0,panelSize:q,pivotIndices:Q}=Pd(W,U,Y);if(Os(q!=null,`Panel size not found for panel "${U.id}"`),!zl(q,le)){_.current.set(U.id,q);const me=xp(W,U)===W.length-1?q-le:le-q,ce=_1({delta:me,initialLayout:Y,panelConstraints:Z,pivotIndices:Q,prevLayout:Y,trigger:"imperative-api"});Ux(Y,ce)||(b(ce),C.current.layout=ce,oe&&oe(ce),lp(W,ce,w.current))}}},[]),F=d.useCallback((U,oe)=>{const{onLayout:Y}=j.current,{layout:W,panelDataArray:Z}=C.current;if(U.constraints.collapsible){const le=Z.map(ee=>ee.constraints),{collapsedSize:q=0,panelSize:Q=0,minSize:he=0,pivotIndices:me}=Pd(Z,U,W),ce=oe??he;if(zl(Q,q)){const ee=_.current.get(U.id),J=ee!=null&&ee>=ce?ee:ce,xe=xp(Z,U)===Z.length-1?Q-J:J-Q,ae=_1({delta:xe,initialLayout:W,panelConstraints:le,pivotIndices:me,prevLayout:W,trigger:"imperative-api"});Ux(W,ae)||(b(ae),C.current.layout=ae,Y&&Y(ae),lp(Z,ae,w.current))}}},[]),E=d.useCallback(U=>{const{layout:oe,panelDataArray:Y}=C.current,{panelSize:W}=Pd(Y,U,oe);return Os(W!=null,`Panel size not found for panel "${U.id}"`),W},[]),I=d.useCallback((U,oe)=>{const{panelDataArray:Y}=C.current,W=xp(Y,U);return r7e({defaultSize:oe,dragState:x,layout:v,panelData:Y,panelIndex:W})},[x,v]),T=d.useCallback(U=>{const{layout:oe,panelDataArray:Y}=C.current,{collapsedSize:W=0,collapsible:Z,panelSize:le}=Pd(Y,U,oe);return Os(le!=null,`Panel size not found for panel "${U.id}"`),Z===!0&&zl(le,W)},[]),A=d.useCallback(U=>{const{layout:oe,panelDataArray:Y}=C.current,{collapsedSize:W=0,collapsible:Z,panelSize:le}=Pd(Y,U,oe);return Os(le!=null,`Panel size not found for panel "${U.id}"`),!Z||Cu(le,W)>0},[]),D=d.useCallback(U=>{const{panelDataArray:oe}=C.current;oe.push(U),oe.sort((Y,W)=>{const Z=Y.order,le=W.order;return Z==null&&le==null?0:Z==null?-1:le==null?1:Z-le}),C.current.panelDataArrayChanged=!0,y()},[y]);du(()=>{if(C.current.panelDataArrayChanged){C.current.panelDataArrayChanged=!1;const{autoSaveId:U,onLayout:oe,storage:Y}=j.current,{layout:W,panelDataArray:Z}=C.current;let le=null;if(U){const Q=a7e(U,Z,Y);Q&&(_.current=new Map(Object.entries(Q.expandToSizes)),le=Q.layout)}le==null&&(le=s7e({panelDataArray:Z}));const q=QT({layout:le,panelConstraints:Z.map(Q=>Q.constraints)});JT(W,q)||(b(q),C.current.layout=q,oe&&oe(q),lp(Z,q,w.current))}}),du(()=>{const U=C.current;return()=>{U.layout=[]}},[]);const O=d.useCallback(U=>{let oe=!1;const Y=h.current;return Y&&window.getComputedStyle(Y,null).getPropertyValue("direction")==="rtl"&&(oe=!0),function(Z){Z.preventDefault();const le=h.current;if(!le)return()=>null;const{direction:q,dragState:Q,id:he,keyboardResizeBy:me,onLayout:ce}=j.current,{layout:ee,panelDataArray:J}=C.current,{initialLayout:re}=Q??{},xe=xz(he,U,le);let ae=n7e(Z,U,q,Q,me,le);const Fe=q==="horizontal";Fe&&oe&&(ae=-ae);const se=J.map(Se=>Se.constraints),_e=_1({delta:ae,initialLayout:re??ee,panelConstraints:se,pivotIndices:xe,prevLayout:ee,trigger:az(Z)?"keyboard":"mouse-or-touch"}),Re=!Ux(ee,_e);(oz(Z)||lz(Z))&&N.current!=ae&&(N.current=ae,!Re&&ae!==0?Fe?vy(U,ae<0?dz:uz):vy(U,ae<0?pz:fz):vy(U,0)),Re&&(b(_e),C.current.layout=_e,ce&&ce(_e),lp(J,_e,w.current))}},[]),M=d.useCallback((U,oe)=>{const{onLayout:Y}=j.current,{layout:W,panelDataArray:Z}=C.current,le=Z.map(ee=>ee.constraints),{panelSize:q,pivotIndices:Q}=Pd(Z,U,W);Os(q!=null,`Panel size not found for panel "${U.id}"`);const me=xp(Z,U)===Z.length-1?q-oe:oe-q,ce=_1({delta:me,initialLayout:W,panelConstraints:le,pivotIndices:Q,prevLayout:W,trigger:"imperative-api"});Ux(W,ce)||(b(ce),C.current.layout=ce,Y&&Y(ce),lp(Z,ce,w.current))},[]),L=d.useCallback((U,oe)=>{const{layout:Y,panelDataArray:W}=C.current,{collapsedSize:Z=0,collapsible:le}=oe,{collapsedSize:q=0,collapsible:Q,maxSize:he=100,minSize:me=0}=U.constraints,{panelSize:ce}=Pd(W,U,Y);ce!=null&&(le&&Q&&zl(ce,Z)?zl(Z,q)||M(U,q):ce<me?M(U,me):ce>he&&M(U,he))},[M]),P=d.useCallback((U,oe)=>{const{direction:Y}=j.current,{layout:W}=C.current;if(!h.current)return;const Z=w3(U,h.current);Os(Z,`Drag handle element not found for id "${U}"`);const le=bz(Y,oe);g({dragHandleId:U,dragHandleRect:Z.getBoundingClientRect(),initialCursorPosition:le,initialLayout:W})},[]),B=d.useCallback(()=>{g(null)},[]),G=d.useCallback(U=>{const{panelDataArray:oe}=C.current,Y=xp(oe,U);Y>=0&&(oe.splice(Y,1),delete w.current[U.id],C.current.panelDataArrayChanged=!0,y())},[y]),$=d.useMemo(()=>({collapsePanel:S,direction:r,dragState:x,expandPanel:F,getPanelSize:E,getPanelStyle:I,groupId:m,isPanelCollapsed:T,isPanelExpanded:A,reevaluatePanelConstraints:L,registerPanel:D,registerResizeHandle:O,resizePanel:M,startDragging:P,stopDragging:B,unregisterPanel:G,panelGroupElement:h.current}),[S,x,r,F,E,I,m,T,A,L,D,O,M,P,B,G]),te={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return d.createElement(g3.Provider,{value:$},d.createElement(p,{...f,children:n,className:s,id:a,ref:h,style:{...te,...u},[mi.group]:"",[mi.groupDirection]:r,[mi.groupId]:m}))}const _z=d.forwardRef((e,n)=>d.createElement(Cz,{...e,forwardedRef:n}));Cz.displayName="PanelGroup";_z.displayName="forwardRef(PanelGroup)";function xp(e,n){return e.findIndex(s=>s===n||s.id===n.id)}function Pd(e,n,s){const r=xp(e,n),a=r===e.length-1?[r-1,r]:[r,r+1],o=s[r];return{...n.constraints,panelSize:o,pivotIndices:a}}function c7e({disabled:e,handleId:n,resizeHandler:s,panelGroupElement:r}){d.useEffect(()=>{if(e||s==null||r==null)return;const i=w3(n,r);if(i==null)return;const a=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),s(o);break}case"F6":{o.preventDefault();const l=i.getAttribute(mi.groupId);Os(l,`No group element found for id "${l}"`);const c=Vh(l,r),u=hz(l,n,r);Os(u!==null,`No resize element found for id "${n}"`);const p=o.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[p].focus();break}}};return i.addEventListener("keydown",a),()=>{i.removeEventListener("keydown",a)}},[r,e,n,s])}function jz({children:e=null,className:n="",disabled:s=!1,hitAreaMargins:r,id:i,onBlur:a,onClick:o,onDragging:l,onFocus:c,onPointerDown:u,onPointerUp:p,style:f={},tabIndex:m=0,tagName:h="div",...x}){var g,v;const b=d.useRef(null),y=d.useRef({onClick:o,onDragging:l,onPointerDown:u,onPointerUp:p});d.useEffect(()=>{y.current.onClick=o,y.current.onDragging=l,y.current.onPointerDown=u,y.current.onPointerUp=p});const w=d.useContext(g3);if(w===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:_,groupId:N,registerResizeHandle:j,startDragging:C,stopDragging:S,panelGroupElement:F}=w,E=IC(i),[I,T]=d.useState("inactive"),[A,D]=d.useState(!1),[O,M]=d.useState(null),L=d.useRef({state:I});du(()=>{L.current.state=I}),d.useEffect(()=>{if(s)M(null);else{const $=j(E);M(()=>$)}},[s,E,j]);const P=(g=r?.coarse)!==null&&g!==void 0?g:15,B=(v=r?.fine)!==null&&v!==void 0?v:5;d.useEffect(()=>{if(s||O==null)return;const $=b.current;Os($,"Element ref not attached");let te=!1;return q9e(E,$,_,{coarse:P,fine:B},(oe,Y,W)=>{if(!Y){T("inactive");return}switch(oe){case"down":{T("drag"),te=!1,Os(W,'Expected event to be defined for "down" action'),C(E,W);const{onDragging:Z,onPointerDown:le}=y.current;Z?.(!0),le?.();break}case"move":{const{state:Z}=L.current;te=!0,Z!=="drag"&&T("hover"),Os(W,'Expected event to be defined for "move" action'),O(W);break}case"up":{T("hover"),S();const{onClick:Z,onDragging:le,onPointerUp:q}=y.current;le?.(!1),q?.(),te||Z?.();break}}})},[P,_,s,B,j,E,O,C,S]),c7e({disabled:s,handleId:E,resizeHandler:O,panelGroupElement:F});const G={touchAction:"none",userSelect:"none"};return d.createElement(h,{...x,children:e,className:n,id:i,onBlur:()=>{D(!1),a?.()},onFocus:()=>{D(!0),c?.()},ref:b,role:"separator",style:{...G,...f},tabIndex:m,[mi.groupDirection]:_,[mi.groupId]:N,[mi.resizeHandle]:"",[mi.resizeHandleActive]:I==="drag"?"pointer":A?"keyboard":void 0,[mi.resizeHandleEnabled]:!s,[mi.resizeHandleId]:E,[mi.resizeHandleState]:I})}jz.displayName="PanelResizeHandle";function d7e({className:e,...n}){return t.jsx(_z,{"data-slot":"resizable-panel-group",className:k("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...n})}function u7e({...e}){return t.jsx(TC,{"data-slot":"resizable-panel",...e})}function p7e({isVisible:e=!0,animationConfig:n={type:"spring",stiffness:300,damping:30,mass:.8,bounce:.1},exitDelay:s=400,onAnimationComplete:r,onResize:i,isDragging:a=!1,children:o,className:l,minSizeInPixels:c,...u}){const[p,f]=d.useState(e),[m,h]=d.useState(!1),[x,g]=d.useState(u.defaultSize??30),v=d.useRef(null),[b,y]=d.useState(0);d.useEffect(()=>{const S=()=>{const E=v.current?.parentElement;E&&y(E.clientWidth)};S();const F=v.current?.parentElement;if(F){const E=new ResizeObserver(()=>{S()});return E.observe(F),()=>E.disconnect()}},[p]);const w=d.useMemo(()=>{if(c!==void 0&&c>0){if(b>0)return c/b*100;if(typeof window<"u"&&window.innerWidth>0)return c/window.innerWidth*100}return u.minSize},[c,b,u.minSize]);d.useEffect(()=>{if(e)f(!0),h(!1);else if(p&&!m){h(!0);const S=setTimeout(()=>{f(!1),h(!1),r?.()},s);return()=>clearTimeout(S)}},[e,p,s,r,m]);const _=d.useRef(u.defaultSize);if(d.useEffect(()=>{const S=_.current!==u.defaultSize;_.current=u.defaultSize,S&&u.defaultSize!==void 0&&e&&!a&&g(u.defaultSize)},[u.defaultSize,e,a]),!p&&!m)return null;const{minSize:N,...j}=u,C=()=>e&&!m?`${x}%`:0;return t.jsx(fe.div,{ref:v,className:"h-full overflow-hidden",initial:{width:0},animate:{width:C()},exit:{width:0},transition:a?{duration:0,ease:"linear"}:n,onAnimationComplete:()=>{!e&&m&&!a&&(f(!1),h(!1),r?.())},children:t.jsx(TC,{"data-slot":"resizable-panel",className:k("h-full w-full",l),onResize:S=>{g(S),i?.(S)},minSize:w,...j,children:t.jsx(fe.div,{initial:{x:"100%",opacity:0},animate:a?{x:0,opacity:1}:{x:e?0:"100%",opacity:e?1:0},transition:a?{duration:0}:{...n,delay:e?.1:0},className:"w-full h-full",children:o},"animated-panel-content")})})}function f7e({isVisible:e=!0,animationConfig:n={type:"spring",stiffness:300,damping:30,mass:.8},withHandle:s,className:r,onDragging:i,...a}){const[o,l]=d.useState(!1),c=d.useCallback(u=>{l(u),i?.(u)},[i]);return t.jsx(Kn,{children:e&&t.jsx(fe.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:n,children:t.jsx(jz,{"data-slot":"resizable-handle",className:k("bg-border h-full focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90 group hover:bg-[#00CCAF]/60 data-[resize-handle-state=drag]:bg-[#00CCAF]/60 transition-colors duration-200",r),...a,onDragging:c,children:s&&t.jsx("div",{className:k("group-hover:bg-[#00CCAF] z-10 min-w-2 min-h-6 border bg-[#242424] border-[#242424] rounded-md hover:bg-[#00CCAF] hover:border-[#00CCAF] data-[resize-handle-state=drag]:bg-[#00CCAF] data-[resize-handle-state=drag]:border-[#00CCAF] transition-all duration-200",o?"bg-[#00CCAF]":"")})})})})}const DC=()=>{const{setTabs:e,setActiveTab:n,getTabByJobId:s,updateTabState:r}=hi(),i=Ea(),[a]=Df(),{getCurrentOrganizationId:o}=hs(),{newToast:l}=Ga(),{user:c}=os(),u=cc();return{openJobTab:d.useCallback(async(f,m)=>{try{const h=s(f);if(h){n(h.id);return}const x=await a(f);if("error"in x){l.error(x?.error?.error||"Failed to fetch job details");return}const g=x.data;if(!g||!g.payload.task||!(g.payload.container_id||g.id))return;const b=g.id,y=`/root/runs/${g.id}/trajectory.json`;let w=null;g.payload.forked_from?w={parent_job_id:g.payload.forked_from,parent_job_title:null}:g.payload.forked?.parent_job_id&&(w=g.payload.forked);const _=c?.id,N=g.created_by,j=o(),C=g.organization_id||g.payload?.organization_id,S=j&&C&&j===C,E=m||g._openedInAdminMode||u&&_&&N&&_!==N&&!S,I=g.organization_id||g.payload?.organization_id,T={containerId:g.payload.container_id||g.id,initial_commit_id:g.payload.initial_commit_id,task:g.payload.task,jobId:f,trajPath:y,tabId:b,fromJobList:!0,isCloudFlow:g.payload?.is_cloud,clientRefId:g.client_ref_id,modelName:g.payload.model_name,promptName:g.payload.prompt_name,promptVersion:g.payload.prompt_version,costLimit:g.payload.per_instance_cost_limit,agentName:g.payload.agent_name,portMapping:g.payload.portMapping,created_by:g.created_by,forked:w,isAdminModeJob:E,originalOrganizationId:E?I:void 0,originalOrganizationName:E?g.organization_name||g.payload?.organization_name:void 0};let A,D,O,M;if(E)A="user",D=void 0,M=void 0,O="/chat";else{const L=hf(I,j);A=L.tabLevel,D=L.organizationId,M=g.organization_name||g.payload?.organization_name,O=D?`/workspace/${D}/chat`:"/chat"}e(L=>[...L,{id:b,title:`${g.payload?.original_task||g.payload.task}`,tabHeading:g.title||"Task",path:O,level:A,organization_id:D,organization_name:M,created_by:g.created_by,state:T}]),r(b,T),n(b),i(`${O}?id=${f}`)}catch{}},[e,n,s,i,o,c,l,a,r,u])}},m7e=K.common.refresh,h7e=K.fork.dropdownCyan,tA=K.icons.animatedSpinner,_c=K.fork.matrixCode,x7e=K.fork.firstState,g7e=K.fork.completed,nA=K.fork.forkFill,b7e=K.fork.forkRed,sA=K.fork.session,rA=K.fork.summary,y7e=K.fork.forkedFrom,Dp=new Map,v7e=()=>{if(Dp.size>100){const e=Array.from(Dp.entries());Dp.clear(),e.slice(-50).forEach(([n,s])=>Dp.set(n,s))}},Lg=d.memo(({isDropdownOpen:e,setIsDropdownOpen:n,state:s,message:r,forked:i,showcase:a,onViewSummary:o,currentJobId:l,messages:c=[],onOpenForkModal:u,onOpenForkModalWithSummary:p,disabled:f,isLastMessage:m})=>{const h=li(),{openJobTab:x}=DC(),{newToast:g}=Ga(),[v,b]=d.useState(0),[y,w]=d.useState(0),_=d.useRef(null),N=d.useRef([]),j=d.useRef(!1),C=[{pending:"Initializing fork process...",running:"Initializing fork process...",completed:"Fork process initialized"},{pending:"Copying project files...",running:"Copying project files...",completed:"Project files copied"},{pending:"Setting up workspace...",running:"Setting up workspace...",completed:"Workspace ready"},{pending:"Finalizing environment...",running:"Finalizing environment...",completed:"Environment finalized"}],S=O=>O<y?"completed":O===y?"running":"pending",F=O=>{const M=S(O);return C[O][M]},E=()=>{const O=[];let M=0;for(let L=0;L<C.length;L++){const P=Math.floor(Math.random()*10)+10;M+=P,O.push(M)}return O};d.useEffect(()=>{const O=r?.forked_job_id||r?.forked_from;return s==="running"&&(!r||!O)&&r?.timestamp?(N.current.length===0&&(N.current=E()),_.current&&clearInterval(_.current),_.current=setInterval(()=>{const L=new Date,P=new Date(r.timestamp),B=Math.floor((L.getTime()-P.getTime())/1e3);b(B);let G=0;for(let $=0;$<N.current.length&&B>=N.current[$];$++)G=$+1;w(Math.min(G,C.length-1))},1e3)):(_.current&&(clearInterval(_.current),_.current=null),s!=="running"&&(b(0),w(0),N.current=[])),()=>{_.current&&clearInterval(_.current)}},[s,r?.forked_job_id,r?.forked_from,r?.timestamp,C.length]),d.useEffect(()=>{const O=`${l}-${r?.timestamp}`;if(!O||!l||!r?.timestamp)return;const M=Dp.get(O)||{lastState:null,hasTransitionedToCompleted:!1,autoOpened:!1},L={...M,lastState:s};M.lastState==="running"&&s==="completed"&&(L.hasTransitionedToCompleted=!0);const P=r?.forked_job_id||r?.forked_from;s==="completed"&&P&&r.fork_status!=="failed"&&m&&L.hasTransitionedToCompleted&&!L.autoOpened&&(L.autoOpened=!0,v7e(),x(P)),Dp.set(O,L)},[s,r?.forked_job_id,r?.forked_from,r?.fork_status,r?.timestamp,l,m,x]);const I=O=>{const M=Math.floor(O/60),L=O%60;return M>0?`${M}m ${L}s`:`${L}s`},T=async()=>{if(j.current)return;j.current=!0;const O=r?.forked_job_id||r?.forked_from;O&&await x(O),j.current=!1},A=async()=>{if(j.current)return;j.current=!0;let O=null;i?.parent_job_id?O=i.parent_job_id:r?.parent_job_id?O=r.parent_job_id:i?.forked_from&&(O=i.forked_from),H(O9.PREVIOUS_SESSION_CLICKED,{currentJobId:l,parentJobId:O,parentJobTitle:i?.parent_job_title,parentJobArchived:i?.parent_job_archived,state:s}),O&&await x(O),j.current=!1},D=async()=>{if(!p){o?.();return}let O;if(s==="forked"&&l?O=l:r?.forked_job_id?O=r.forked_job_id:r?.forked_from?O=r.forked_from:l&&(O=l),O)try{const M=await vt.viewSummary(O);p(O,M.summary||"")}catch(M){g.error(M?.response?.data?.detail||M?.message||"Failed to fetch job details",4e3)}};return s=="running"?t.jsx("div",{className:"relative flex items-center justify-center w-full mb-[2rem]",children:t.jsxs(fe.div,{className:"mt-[1rem] relative flex justify-center px-4 items-center w-full overflow-hidden bg-[#80fff908]",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:[t.jsxs("div",{className:"absolute flex overflow-hidden top-0 bottom-0 left-0 right-0 w-full opacity-20 h-[280px]",children:[t.jsx("img",{src:_c,alt:"Matrix Code",className:"object-cover h-[280px]"}),t.jsx("img",{src:_c,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"}),t.jsx("img",{src:_c,alt:"Matrix Code",className:"object-cover h-[280px] "}),t.jsx("img",{src:_c,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"}),t.jsx("img",{src:_c,alt:"Matrix Code",className:"object-cover h-[280px] "}),t.jsx("img",{src:_c,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"}),t.jsx("img",{src:_c,alt:"Matrix Code",className:"object-cover h-[280px]"}),t.jsx("img",{src:_c,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"})]}),t.jsxs(fe.div,{className:"w-full max-w-4xl z-[10] flex flex-col gap-[10px] justify-center py-[20px]",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:[t.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer",onClick:()=>n(!e),children:[t.jsxs("div",{className:"flex justify-start items-center max-md:flex-col max-md:items-center gap-1 md:gap-2 z-[10]",children:[t.jsxs("button",{type:"button",className:"flex items-center gap-2 transition-opacity hover:opacity-80",children:[t.jsx(fe.img,{src:h7e,alt:"Dropdown",className:"w-6 h-6",animate:{rotate:e?90:0},transition:{duration:.3,ease:[.25,.1,.25,1]}}),t.jsx("span",{className:k("text-[#80FFF9] text-left max-md:text-[14px] font-medium drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",h&&"text-[15px]"),children:"Forking a new session"})]}),t.jsxs(fe.span,{className:k("text-[#80FFF980] max-md:text-[13px] font-jetbrains font-medium",h?"text-[12px]":"text-[14px]"),animate:{opacity:e?0:1,x:e?-10:0},transition:{duration:.3,ease:[.25,.1,.25,1]},children:[" ",y<C.length?F(y):"Finalizing..."]})]}),t.jsxs("div",{className:k("flex items-center z-[10]",h?"gap-2":"gap-4"),children:[t.jsx("span",{className:k("text-[#80FFF980] font-jetbrains font-medium",h?"text-[12px]":"text-[14px]"),children:I(v)}),t.jsx("div",{className:"flex items-center gap-2 bg-[#80FFF91A] rounded-[10px] h-8 w-8 justify-center",children:t.jsx("img",{src:tA,alt:"Loading",className:"w-6 h-6"})})]})]}),t.jsx(Kn,{children:e&&t.jsx(fe.div,{className:"flex flex-col gap-[10px] z-[10]",initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{duration:.4,ease:[.25,.1,.25,1]},children:C.map((O,M)=>{const L=S(M),P=F(M);return t.jsxs(fe.div,{className:k("flex items-center gap-2 transition-colors rounded-md",L==="pending"?"opacity-50":L==="completed"?"opacity-75":""),initial:{opacity:0,x:-20},animate:{opacity:L==="pending"?.5:L==="completed"?.75:1,x:0},transition:{duration:.3,delay:M*.1,ease:[.25,.1,.25,1]},children:[t.jsx("img",{src:L==="completed"?g7e:L==="running"?tA:x7e,alt:"Step",className:"w-6 h-6"}),t.jsx("span",{className:k("text-[14px] font-jetbrains font-medium drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]","text-[#80FFF9]"),children:P})]},M)})})})]})]})}):s=="completed"?t.jsx("div",{className:"relative flex items-center justify-center w-full",children:t.jsx("div",{className:"mt-[1rem] bg-gradient-to-r px-4 from-[#80FFF901] via-[#80FFF915] to-[#80FFF901] relative flex justify-center items-center w-full transition-all duration-300 overflow-hidden",children:t.jsx("div",{className:"w-full max-w-4xl z-[10] flex flex-col transition-all duration-300  min-h-[72px]",children:t.jsxs("div",{className:"flex items-center justify-between w-full h-[72px]",children:[t.jsx("div",{className:"flex items-center gap-2 z-[10]",children:t.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 transition-opacity pointer-events-none hover:opacity-80",children:[t.jsx("img",{src:nA,alt:"Dropdown",className:"w-6 h-6 transition-transform duration-200}"}),t.jsx("span",{className:k("text-[#80FFF9] font-medium drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",h?"text-[15px]":"tracking-[0.2px]"),children:"Session forked successfully"})]})}),t.jsxs("div",{className:"flex items-center gap-2 z-[10]",children:[t.jsx(ms,{children:t.jsxs(ri,{delayDuration:0,children:[t.jsx(ii,{asChild:!0,children:t.jsx("button",{className:k("group h-[32px] flex items-center justify-center hover:cursor-pointer bg-[#FFFFFF1A] rounded-[8px] hover:bg-white/20 transition-colors duration-200",h?"w-[32px] p-0":"py-2 px-[10px]"),onClick:D,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"View Summary",src:rA,className:"w-5 h-5"}),!h&&t.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#FFFFFF] md:block",children:"View Summary"})]})})}),h&&t.jsx($a,{children:t.jsx(qr,{className:"bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm p-[10px] rounded-lg shadow-lg z-[9999]",side:"top",sideOffset:5,asChild:!0,children:t.jsxs(fe.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},className:"flex items-center gap-1",children:[t.jsx("span",{children:"View Summary"}),t.jsx(na,{className:"fill-[#fff]"})]})})})]})}),t.jsx("button",{title:"View Session",className:"group h-[32px] py-2 flex items-center justify-center hover:cursor-pointer px-[10px] bg-[#80FFF91A] rounded-[8px] hover:bg-[#80FFF9]/20 transition-colors duration-200",children:t.jsxs("div",{className:"flex items-center gap-2",onClick:T,children:[t.jsx("img",{alt:"preview",src:sA,className:"w-4 h-4"}),t.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#80FFF9] md:block",children:"View Session"})]})})]})]})})})}):s=="error"?t.jsx("div",{className:"relative flex items-center justify-center w-full",children:t.jsx("div",{className:"mt-[1rem] bg-gradient-to-r px-4 from-[#FF808001] via-[#FF808015] to-[#FF808001] relative flex justify-center items-center w-full transition-all duration-300 overflow-hidden",children:t.jsx("div",{className:"w-full max-w-4xl z-[10] flex flex-col transition-all duration-300  min-h-[72px]",children:t.jsxs("div",{className:"flex items-center justify-between w-full h-[72px]",children:[t.jsx("div",{className:"flex items-center gap-2 z-[10]",children:t.jsxs("button",{type:"button",className:"flex items-center gap-2 transition-opacity pointer-events-none hover:opacity-80",children:[t.jsx("img",{src:b7e,alt:"Dropdown",className:"w-6 h-6 scale-[2] transition-transform duration-200}"}),t.jsx("span",{className:k("text-[#FF8080] font-medium drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",h?"text-[15px]":"tracking-[0.2px]"),children:"Failed to fork session"})]})}),t.jsx("div",{className:"flex items-center gap-2 z-[10]",children:t.jsx(zt,{variant:"default",disabled:f,className:"group h-[32px] py-2 px-[10px] bg-[#FFFFFF1A] rounded-[8px] hover:bg-[#FFFFFF]/20 transition-colors duration-200 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{l&&c&&u?.(l,c)},children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"preview",src:m7e,className:"w-4 h-4"}),t.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#fff] md:block",children:"Retry Fork"})]})})})]})})})}):s=="forked"?t.jsx("div",{className:"relative flex items-center justify-center w-full mt-4",children:t.jsx(fe.div,{className:"bg-gradient-to-r px-4 from-[#80FFF901] via-[#80FFF915] to-[#80FFF901] relative flex justify-center items-center w-full overflow-hidden",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:t.jsx(fe.div,{className:"w-full max-w-4xl z-[10] flex flex-col min-h-[72px]",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:t.jsxs("div",{className:"flex items-center justify-between w-full h-[72px]",children:[t.jsxs("div",{className:"flex items-center gap-2 z-[10] flex-1 min-w-0",children:[t.jsxs("button",{type:"button",className:"flex items-center flex-shrink-0 gap-2 transition-opacity pointer-events-none hover:opacity-80",children:[t.jsx("div",{className:"md:w-[40px] md:h-[40px] flex items-center justify-center",children:t.jsx("img",{src:nA,alt:"Dropdown",className:k("size-6",!h&&"md:size-8")})}),t.jsx("span",{className:k("text-[#80FFF9] max-md:text-[14px] text-nowrap font-medium drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",h?"text-[15px]":"tracking-[0.2px]"),children:"Forked from"})]}),t.jsx("button",{type:"button",className:"flex items-center flex-1 min-w-0 gap-2 transition-opacity pointer-events-none hover:opacity-80",children:t.jsx("span",{className:k("text-[#fff] max-md:text-[14px] font-medium capitalize drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)] truncate flex-1 min-w-0 text-start",i?.parent_job_archived&&"opacity-60",h?"text-[15px]":"tracking-[0.2px]"),children:i?.parent_job_archived?"(Deleted task)":i?.parent_job_title})})]}),t.jsxs("div",{className:"flex items-center gap-2 z-[10]",children:[t.jsx(ms,{children:t.jsxs(ri,{delayDuration:0,children:[t.jsx(ii,{asChild:!0,children:t.jsx("button",{className:k("group h-[32px] flex items-center justify-center hover:cursor-pointer bg-[#FFFFFF1A] rounded-[8px] hover:bg-white/20 transition-colors duration-200",h?"w-[32px] p-0":"py-2 px-[10px]"),onClick:D,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"View Summary",src:rA,className:"w-5 h-5"}),!h&&t.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#FFFFFF] md:block",children:"View Summary"})]})})}),h&&t.jsx($a,{children:t.jsx(qr,{className:"bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm p-[10px] rounded-lg shadow-lg z-[9999]",side:"top",sideOffset:5,asChild:!0,children:t.jsxs(fe.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},className:"flex items-center gap-1",children:[t.jsx("span",{children:"View Summary"}),t.jsx(na,{className:"fill-[#fff]"})]})})})]})}),t.jsx("button",{id:"previous-session-button",className:"group h-[32px] flex items-center justify-center cursor-pointer py-2 px-[10px] bg-[#80FFF91A] rounded-[8px] hover:bg-[#80FFF9]/20 transition-colors duration-200",onClick:A,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"preview",src:sA,className:"w-4 h-4"}),t.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#80FFF9] md:block",children:"Previous Session"})]})})]})]})})})}):s=="remixed"?t.jsx("div",{className:"relative flex items-center justify-center w-full mt-4",children:t.jsx(fe.div,{className:"bg-gradient-to-r px-4 from-[#80FFF901] via-[#80FFF915] to-[#80FFF901] relative flex justify-center items-center w-full overflow-hidden",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:t.jsx(fe.div,{className:"w-full max-w-4xl z-[10] flex flex-col min-h-[72px]",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:t.jsx("div",{className:"flex items-center justify-between w-full h-[72px]",children:t.jsxs("div",{className:"flex items-center gap-2 z-[10] flex-1 min-w-0",children:[t.jsxs("button",{type:"button",className:"flex items-center flex-shrink-0 gap-3 transition-opacity pointer-events-none hover:opacity-80",children:[t.jsx("div",{className:"md:w-[40px] md:h-[40px] flex items-center justify-center",children:t.jsx(J2,{color:"#80FFF9"})}),t.jsx("span",{className:k("text-[#80FFF9] max-md:text-[14px] text-nowrap font-medium drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",h?"text-[15px]":"tracking-[0.2px]"),children:"Remixed from"})]}),t.jsxs("button",{type:"button",className:"flex items-center flex-1 min-w-0 gap-2 transition-opacity pointer-events-none hover:opacity-80",children:[t.jsx(fe.img,{src:y7e,alt:"Dropdown",className:"flex-shrink-0 w-4 h-4 md:w-6 md:h-6",animate:{rotate:e?90:0},transition:{duration:.3,ease:[.25,.1,.25,1]}}),t.jsx("span",{className:k("text-[#fff] max-md:text-[14px] font-medium capitalize drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)] truncate flex-1 min-w-0 text-start",i?.parent_job_archived&&"opacity-60",h?"text-[15px]":"tracking-[0.2px]"),children:a?.title})]})]})})})})}):null},(e,n)=>!(e.state!==n.state||e.isDropdownOpen!==n.isDropdownOpen||e.disabled!==n.disabled||e.isLastMessage!==n.isLastMessage||e.currentJobId!==n.currentJobId||e.message?.id!==n.message?.id||e.message?.fork_status!==n.message?.fork_status||e.message?.forked_job_id!==n.message?.forked_job_id||e.message?.forked_from!==n.message?.forked_from||e.forked?.parent_job_id!==n.forked?.parent_job_id||e.messages?.length!==n.messages?.length));Lg.displayName="ForkBar";function w7e({progress:e=.55,className:n="",debug:s=!1,boxClassname:r=""}){const i=d.useRef(null),[a,o]=d.useState(10),[l,c]=d.useState(Math.max(.05,e)),[u,p]=d.useState(0),[f,m]=d.useState(!0),h=d.useRef(Math.max(.05,e)),x=d.useRef(null);d.useEffect(()=>{},[]),d.useEffect(()=>{const v=e<=.1&&h.current>.1;if(!v&&e<=h.current)return;if(v){h.current=Math.max(.05,e),c(Math.max(.05,e));return}const b=h.current,y=e,w=800,_=performance.now();x.current&&cancelAnimationFrame(x.current);const N=j=>{const C=j-_,S=Math.min(C/w,1),F=1-(1-S)*(1-S),E=b+(y-b)*F;h.current=E,c(E),S<1?x.current=requestAnimationFrame(N):x.current=null};return x.current=requestAnimationFrame(N),()=>{x.current&&(cancelAnimationFrame(x.current),x.current=null)}},[e,l,s]),d.useEffect(()=>{const v=()=>{if(!i.current)return;const w=i.current.offsetWidth;p(w);const _=window.innerWidth<768;m(_),o(_?10:14)};v();const b=new ResizeObserver(()=>{v()});i.current&&b.observe(i.current),window.addEventListener("resize",v);const y=setTimeout(v,100);return()=>{b.disconnect(),window.removeEventListener("resize",v),clearTimeout(y)}},[s]);const g=Math.round(a*l);return t.jsx("div",{ref:i,className:`md:w-full p-0 md:py-0 ${n}`,children:t.jsx("div",{className:"flex gap-2",children:[...Array(a)].map((v,b)=>t.jsx("div",{className:k("bg-[#142C33] p-[2px] rounded-[2px] h-[40px] w-[24px]",r),children:t.jsx("div",{className:k("h-full w-full  rounded-[2px] flex items-center box-radial justify-center transition-colors duration-300 ease-out",b<g?"loader-glow":""),style:{backgroundColor:b<g?"var(--loader-color, #1BB4CC)":"transparent"}})},b))})})}const C7e=K.icons.animatedSpinner;function _7e({tasks:e,className:n=""}){const s=i=>{switch(i){case"done":return t.jsx(xn,{className:"w-5 h-5 text-task-done"});case"running":return t.jsx("img",{src:C7e,className:"w-5 h-5",alt:"Loading..."});case"pending":return t.jsx("div",{className:"w-5 h-5 border-2 rounded-full opacity-50 border-task-pending"})}},r=i=>{switch(i){case"done":return"text-task-done";case"running":return"text-task-running";case"pending":return"text-task-pending opacity-50"}};return t.jsx("div",{className:`space-y-4 ${n}`,children:e.map(i=>t.jsxs("div",{className:"flex items-center space-x-3",children:[s(i.status),t.jsx("span",{className:`font-jetbrains text-[14px]  md:text-base ${r(i.status)}`,children:i.label})]},i.id))})}const j7e=[{id:"cloud-setup",label:"Initializing cloud environment",status:"pending"},{id:"cloud-provision",label:"Provisioning resources",status:"pending"},{id:"cloud-configure",label:"Configuring environment",status:"pending"},{id:"cloud-start",label:"Starting the agent",status:"pending"}];function N7e({complete:e=!1,onComplete:n}){const[s,r]=d.useState(j7e),[i,a]=d.useState(0),[o,l]=d.useState(14),[c,u]=d.useState(14),[p,f]=d.useState(24),[m,h]=d.useState(40),[x,g]=d.useState(8),v=d.useRef(null),b=d.useRef(0),y=d.useRef(.05),w=d.useRef(0),_=d.useRef(0),N=d.useRef(0),j=d.useRef(90),C=d.useRef(!1),S=d.useRef(!1);d.useEffect(()=>{const A=()=>{window.innerWidth<768?(l(12),u(12),f(18),h(32),g(6)):(l(14),u(14),f(24),h(40),g(8))};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const F=d.useCallback((A,D)=>{r(O=>O.map(L=>L.id===A?{...L,status:D}:L))},[]),E=[{id:"cloud-setup",label:"Initializing cloud environment",progressPoints:[.05,.08,.12,.17,.22,.25],minDuration:800,maxDuration:1200},{id:"cloud-provision",label:"Provisioning resources",progressPoints:[.25,.29,.34,.38,.42,.45],minDuration:800,maxDuration:1200},{id:"cloud-configure",label:"Configuring environment",progressPoints:[.45,.51,.58,.63,.67,.7,.73,.76,.79,.82,.85,.88,.9],minDuration:600,maxDuration:1e3},{id:"cloud-start",label:"Starting the agent",progressPoints:[.9,.92,.94,.95],minDuration:0,maxDuration:0}],I=(A,D)=>Math.floor(A+Math.random()*(D-A)),T=d.useCallback(()=>{j.current=65+Math.floor(Math.random()*26),w.current=Date.now(),N.current=Date.now()+Math.floor(200+Math.random()*400);const A=()=>{if(S.current)return;const M=Date.now(),L=E[b.current],P=j.current/100;if(y.current>=P){C.current=!0;const G=1e3+Math.random()*1e3;v.current=setTimeout(()=>{const $=Math.min(P+.02,y.current+.01);y.current=$,a($),setTimeout(()=>{S.current||(y.current=P,a(P),v.current=setTimeout(A,G))},500)},G);return}const B=M-w.current;if(M>=N.current){const G=L.progressPoints;if(_.current<G.length-1){_.current++;const $=G[_.current];y.current=$,a($);const te=Math.floor(300+Math.random()*500);N.current=M+te}else{const $=I(L.minDuration,L.maxDuration);if(B>=$){if(F(L.id,"done"),b.current+=1,_.current=0,w.current=M,b.current<E.length){const te=E[b.current];F(te.id,"running");const U=te.progressPoints[0];y.current=U,a(U);const oe=Math.floor(300+Math.random()*500);N.current=M+oe}}else N.current=M+200}}v.current=setTimeout(A,100)},D=E[0];F(D.id,"running");const O=D.progressPoints[0];y.current=O,a(O),A()},[F]);return d.useEffect(()=>{if(e&&!S.current){S.current=!0,C.current=!1;const A=O=>{if(O>=E.length){setTimeout(()=>{D()},800);return}const M=E[O],L=(O+1)/E.length,P=Math.min(L*.95,.95);if(O<=b.current)F(M.id,"done"),y.current=P,a(P),setTimeout(()=>{A(O+1)},300);else{F(M.id,"running");const B=P-.05;y.current=B,a(B),setTimeout(()=>{F(M.id,"done"),y.current=P,a(P),setTimeout(()=>{A(O+1)},300)},600)}},D=()=>{const O=y.current,M=1,L=1500,P=Date.now(),B=()=>{const G=Date.now()-P,$=Math.min(G/L,1),te=1-(1-$)*(1-$),U=O+(M-O)*te;y.current=U,a(U),$<1?requestAnimationFrame(B):n&&setTimeout(()=>{n()},500)};requestAnimationFrame(B)};setTimeout(()=>{A(b.current)},500)}},[e,F,n]),d.useEffect(()=>{const A=setTimeout(()=>{T()},1e3);return()=>{clearTimeout(A),v.current&&clearTimeout(v.current)}},[T]),t.jsx("div",{className:"flex flex-col items-center justify-center w-full max-w-lg min-h-screen p-4 mx-auto my-auto space-y-4 md:space-y-10",children:t.jsxs("div",{className:"flex flex-col space-y-4 md:space-y-10",children:[t.jsxs("div",{className:"space-y-1 text-left md:w-full md:space-y-3",children:[t.jsx("h1",{className:"font-sans text-[22px] md:text-[32px] font-medium leading-[40px] tracking-[-0.64px] text-loader",children:"Setting Up Safe Environment"}),t.jsx("p",{className:"font-jetbrains text-[14px] md:text-base text-[#DDDDE6]/50 text-left",children:"// This usually takes around 1-2 mins"})]}),t.jsx(w7e,{boxWidth:p,boxHeight:m,gapWidth:x,progress:i,className:"md:w-full",minBoxes:o,maxBoxes:c}),t.jsx(_7e,{tasks:s,className:"md:w-full"})]})})}function iA({width:e=24,height:n=24,x:s=0,y:r=0,cx:i=1,cy:a=.5,cr:o=.5,className:l,...c}){const u=d.useId();return t.jsxs("svg",{"aria-hidden":"true",className:k("pointer-events-none absolute inset-0 h-full w-full fill-slate-500/50 md:fill-slate-500/70",l),...c,children:[t.jsx("defs",{children:t.jsx("pattern",{id:u,width:e,height:n,patternUnits:"userSpaceOnUse",patternContentUnits:"userSpaceOnUse",x:s,y:r,children:t.jsx("circle",{id:"pattern-circle",cx:i,cy:a,r:o})})}),t.jsx("rect",{width:"100%",height:"100%",strokeWidth:0,fill:`url(#${u})`})]})}const Nz=({size:e=20,color:n="#898F99",className:s})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M4.17188 4.9974C4.17188 4.77638 4.25967 4.56442 4.41595 4.40814C4.57223 4.25186 4.78419 4.16406 5.00521 4.16406H15.0052C15.2262 4.16406 15.4382 4.25186 15.5945 4.40814C15.7507 4.56442 15.8385 4.77638 15.8385 4.9974V14.9974C15.8385 15.2184 15.7507 15.4304 15.5945 15.5867C15.4382 15.7429 15.2262 15.8307 15.0052 15.8307H5.00521C4.78419 15.8307 4.57223 15.7429 4.41595 15.5867C4.25967 15.4304 4.17188 15.2184 4.17188 14.9974V4.9974Z",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7.5 7.5H12.5V12.5H7.5V7.5Z",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2.5 8.33594H4.16667",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2.5 11.6641H4.16667",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8.32812 2.5V4.16667",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M11.6719 2.5V4.16667",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M17.4948 8.33594H15.8281",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M17.4948 11.6641H15.8281",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M11.6719 17.5026V15.8359",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8.32812 17.5026V15.8359",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),F7e=({size:e=20,className:n="",circleColor:s="#80FFF9",checkColor:r="#18181A"})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[t.jsx("circle",{cx:"12",cy:"12",r:"12",fill:s}),t.jsx("path",{d:"M15.7155 9C15.8953 9 16.0623 9.03211 16.2164 9.09634C16.3706 9.16057 16.5076 9.25262 16.6275 9.37251C16.7474 9.4924 16.8373 9.62727 16.8972 9.77714C16.9572 9.927 16.9914 10.0961 17 10.2845C17 10.4558 16.9679 10.6206 16.9037 10.7791C16.8394 10.9375 16.7474 11.0766 16.6275 11.1965L11.5279 16.3025C11.408 16.4224 11.2689 16.5145 11.1105 16.5787C10.952 16.6429 10.7872 16.6772 10.6159 16.6814C10.4447 16.6814 10.2798 16.6493 10.1214 16.5851C9.96296 16.5209 9.82381 16.4267 9.70392 16.3025L7.37893 13.9775C7.25905 13.8576 7.16699 13.7185 7.10276 13.5601C7.03854 13.4016 7.00428 13.2368 7 13.0655C7 12.8857 7.03425 12.7187 7.10276 12.5645C7.17127 12.4104 7.26333 12.2734 7.37893 12.1535C7.49454 12.0336 7.62942 11.9437 7.78356 11.8838C7.9377 11.8238 8.10683 11.7896 8.29094 11.781C8.46221 11.781 8.62706 11.8131 8.78548 11.8773C8.94391 11.9416 9.08307 12.0336 9.20295 12.1535L10.6159 13.5665L14.8035 9.37251C14.9234 9.25262 15.0625 9.16057 15.2209 9.09634C15.3794 9.03211 15.5442 9 15.7155 9Z",fill:r})]}),aA=({isSelected:e,onClick:n,title:s,subtitle:r,description:i,className:a})=>t.jsxs("div",{onClick:n,className:k("flex flex-col p-5 gap-4 md:gap-8   rounded-[12px] border cursor-pointer transition-all duration-200",e?"border-[#80FFF933]":"border-[#FFFFFF1F] hover:border-[#ffffff]/20",a),style:e?{background:"linear-gradient(180deg, rgba(128, 255, 249, 0.04) 0%, rgba(128, 255, 249, 0) 100%)"}:void 0,children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsx("span",{className:k("text-[#FFFFFF] font-inter text-[16px] font-medium",e&&"text-[#80FFF9]"),children:s}),t.jsx("div",{className:k("text-[#FFFFFF]/50 text-[16px] font-inter font-medium capitalize",e&&"text-white"),children:r})]}),e?t.jsx(F7e,{size:24}):t.jsx("div",{className:"w-6 h-6 rounded-full border-[1px] border-[#666666]"})]}),t.jsx("p",{className:"text-[#FFFFFF]/40 text-[14px] font-inter font-medium leading-[22px]",children:i})]}),E7e=({size:e=24,className:n="",fill:s="#0E0E0F"})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:t.jsx("path",{d:"M17.4016 2.39844C19.0584 2.39844 20.4016 3.74159 20.4016 5.39844C20.4016 6.74163 19.5186 7.87779 18.3016 8.26016V9.59844C18.3016 11.421 16.8241 12.8984 15.0016 12.8984H12.9016V15.7356C14.1187 16.1178 15.0016 17.2552 15.0016 18.5984C15.0016 20.2553 13.6584 21.5984 12.0016 21.5984C10.3447 21.5984 9.00156 20.2553 9.00156 18.5984C9.00156 17.2552 9.88439 16.1178 11.1016 15.7356V12.8984H9.00156C7.17903 12.8984 5.70156 11.421 5.70156 9.59844V8.26016C4.48457 7.87779 3.60156 6.74163 3.60156 5.39844C3.60156 3.74159 4.94471 2.39844 6.60156 2.39844C8.25841 2.39844 9.60156 3.74159 9.60156 5.39844C9.60156 6.74163 8.71855 7.87779 7.50156 8.26016V9.59844C7.50156 10.4269 8.17313 11.0984 9.00156 11.0984H15.0016C15.83 11.0984 16.5016 10.4269 16.5016 9.59844V8.26016C15.2845 7.87779 14.4016 6.74163 14.4016 5.39844C14.4016 3.74159 15.7447 2.39844 17.4016 2.39844ZM12.0016 17.3984C11.3388 17.3984 10.8016 17.9357 10.8016 18.5984C10.8016 19.2612 11.3388 19.7984 12.0016 19.7984C12.6643 19.7984 13.2016 19.2612 13.2016 18.5984C13.2016 17.9357 12.6643 17.3984 12.0016 17.3984ZM6.60156 4.19844C5.93883 4.19844 5.40156 4.7357 5.40156 5.39844C5.40156 6.06117 5.93883 6.59844 6.60156 6.59844C7.2643 6.59844 7.80156 6.06117 7.80156 5.39844C7.80156 4.7357 7.2643 4.19844 6.60156 4.19844ZM17.4016 4.19844C16.7388 4.19844 16.2016 4.7357 16.2016 5.39844C16.2016 6.06117 16.7388 6.59844 17.4016 6.59844C18.0643 6.59844 18.6016 6.06117 18.6016 5.39844C18.6016 4.7357 18.0643 4.19844 17.4016 4.19844Z",fill:s})}),S7e=K.fork.fork,k7e=K.fork.dollarCyan,I7e=K.fork.paceCyan,T7e=K.fork.likeCyan,oA=K.fork.summary,A7e=K.fork.summaryCyan,cp=K.fork.matrixCode,D7e=K.fork.editNote,M7e=[{title:"Context preserved",description:"All important context preserved in summary",icon:T7e},{title:"Memory refreshed",description:"Fresh context window with clean slate for new tasks",icon:I7e},{title:"Spend less",description:"Refreshed memory means lower token costs",icon:k7e}],lA=e=>{if(!e)return[];const n=[],s=/<(\w+)>([\s\S]*?)<\/\1>/g;let r;for(;(r=s.exec(e))!==null;){const[,i,a]=r;n.push({tagName:i,content:a.replace(/^\n+|\n+$/g,"")})}return n},R7e=({count:e})=>{const n=[`Analyzing ${e} Messages`,"Extracting feature requirements","Processing code changes","Summarizing development phases","Reviewing testing protocols"],[s,r]=d.useState(0),[i,a]=d.useState("forward");return d.useEffect(()=>{const o=setInterval(()=>{r(l=>i==="forward"?l===n.length-1?(a("backward"),l-1):l+1:l===0?(a("forward"),l+1):l-1)},2e3);return()=>clearInterval(o)},[i]),t.jsx("div",{className:"absolute flex items-center justify-center w-full h-6 top-[5rem]",children:t.jsx(Kn,{mode:"wait",children:t.jsx(fe.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},className:"text-[#80FFF980] text-[15px] text-nowrap font-jetbrains font-medium absolute",children:n[s]},s)})})},L7e={summary:"",analysis:"",product_requirements:"",key_technical_concepts:"",code_architecture:"",pending_tasks:"",current_work:"",optional_next_step:""},P7e=({isOpen:e,onOpenChange:n,onFork:s,jobId:r,messages:i=[],summaryData:a,appName:o,podIsPaused:l,startInSummaryMode:c=!1,userPromptId:u})=>{const[p,f]=d.useState(c?"summary":"fork"),[m,h]=d.useState(!1),[x,g]=d.useState(a),[v,b]=d.useState(a),[y,w]=d.useState(null),[_,N]=d.useState([]),[j,C]=d.useState("current"),[S,F]=d.useState(null),E=d.useRef(!1);d.useEffect(()=>{e||(E.current=!1)},[e]);const{totalBannerHeight:I}=ka(),T=I+56,{isMobile:A}=ts(),{canAccessModel:D}=gi(),O=Hr(),{config:M}=sc();d.useEffect(()=>{if(M?.model_list?.length&&M.model_list.length>0&&!S){const q=M.model_list.find(Q=>D(Q.user_tier));q&&F({name:q.name,displayName:q.display_name})}},[M,S,D]);const L=u,{data:P}=iO(L||"",{skip:!L});d.useEffect(()=>{C(L?"current":"default")},[L]),d.useEffect(()=>{c&&a&&(f("summary"),g(a),b(a))},[c,a]);const[B,G]=d.useState(!1),$=d.useRef(null);d.useEffect(()=>{B&&l===!1&&!$.current&&($.current=setTimeout(()=>{n(!1),G(!1),f("fork"),$.current=null},4e3))},[B,l]),d.useEffect(()=>()=>{$.current&&(clearTimeout($.current),$.current=null)},[]);const te=async()=>{if(r){if(A&&i.length<=2){Ds({title:"No chat history to fork",variant:"destructive"});return}H(O9.SUMMARIZATION_CLICKED,{jobId:r,messageCount:i.length,appName:o,isMobile:A}),f("summarizing");try{const q=await vt.generateSummary(r);q&&q.summary&&(g(q.summary),b(q.summary)),f("review")}catch(q){const Q=q?.response?.data?.detail||"Failed to fork session. Please try again.";Ds({title:"Fork Error",description:Q,variant:"destructive",duration:5e3}),f("fork")}}},U=d.useMemo(()=>m&&_.length>0?_:lA(x||""),[x,m,_]),oe=d.useMemo(()=>U.some(q=>q.content&&q.content.trim().length>0),[U]),Y=d.useCallback((q,Q)=>{N(he=>{const me=[...he];return me[q]={...me[q],content:Q},me})},[]),W=()=>{if(!x){Ds({title:"Error",description:"No summary data provided",variant:"destructive"});return}f("agent-selection")},Z=async()=>{if(r){G(!0);try{if(!x){Ds({title:"Error",description:"No summary data provided",variant:"destructive"});return}const q={summary:x,use_custom_prompt:j==="current"&&!!L,model_name:S?.name||"",model_manually_selected:E.current};s?.(r,q),E.current=!1}catch{f("agent-selection")}}},le=()=>m?"Please save or cancel your edits first":B?"Fork is being processed...":oe?"":"Summary content is required to proceed";return e?t.jsx("div",{style:{height:`calc(100dvh - ${T}px)`},className:"absolute w-full z-[61] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:t.jsxs("div",{className:k(" p-0 max-md:max-w-[95vw] bg-[#18181A] border border-[#242424] max-h-[calc(100dvh-72px)] md:max-h-[80dvh]  rounded-[16px] font-['Inter'] overflow-hidden",p==="summarizing"?"border-[#80FFF91A]":"",p==="summarizing"?"bg-gradient-to-b from-[#131314] via-[#13131400] to-[#131314]":""),onClick:q=>q.stopPropagation(),children:[p=="fork"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex max-md:min-w-[95vw] max-md: md:max-w-[740px] md:min-h-[528px] flex-col  h-full flex-1  pb-0 md:pb-0",children:[t.jsxs("div",{className:"flex justify-between md:gap-[10px] flex-col p-4 md:p-8 md:pb-0 pb-0",children:[t.jsxs("div",{className:"flex items-center justify-between md:gap-[10px]",children:[t.jsx("h2",{className:"text-[18px] hidden md:block md:text-[22px] font-medium text-white",children:"Fork this session with a summary"}),t.jsx("h2",{className:"text-[18px] md:hidden md:text-[22px] font-medium text-white",children:"Fork this session"}),t.jsx("button",{type:"button",onClick:()=>n(!1),className:" max-md:absolute max-md:top-6 max-md:right-6 bg-[#FFFFFF05] backdrop-blur-lg rounded-[8px] w-8 h-8  md:w-10 md:h-10 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-[13px] md:text-[16px] font-[400] md:leading-[24px] text-[#8A8F98] font-['Inter']",children:"Continue your work in a new conversation while keeping the important context from this session, perfect for continuing complex projects without losing progress."})]}),t.jsx("div",{className:"grid gap-2 p-4 md:gap-4 md:grid-cols-3 md:px-8 md:py-6",children:M7e.map((q,Q)=>t.jsxs("div",{className:"flex md:flex-col rounded-[8px] p-4 md:py-6 items-start w-full text-center bg-[#80FFF90A] gap-3 md:gap-[3rem]",children:[t.jsx("img",{src:q.icon,alt:q.title,className:"w-6 h-6"}),t.jsxs("div",{className:"flex flex-col items-start w-full gap-[4px] md:gap-[6px]",children:[t.jsx("h3",{className:"text-[16px] md:text-[16px] text-[#80FFF9] font-medium",children:q.title}),t.jsx("p",{className:"text-[13px] md:text-[14px] font-[500] text-start text-[#80FFF966] font-['Inter']",children:q.description})]})]},Q))}),t.jsxs("div",{className:"flex mt-auto sticky bottom-0 justify-end gap-3 p-4 px-5 md:p-6 border-t bg-[#18181A] border-[#242424]",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-6 py-2 h-[40px] md:h-[48px] bg-transparent border border-[#333333] text-[#DCDCE5] hover:bg-[#FFFFFF0A] hover:border-[#444444] rounded-full font-[500] text-[16px]",children:"Cancel"}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsxs("button",{type:"button",onClick:te,disabled:!A&&i.length<=2,className:"max-md:px-4 px-6 text-nowrap py-2 h-[40px] md:h-[48px] bg-white text-black hover:bg-gray-100 rounded-full font-[600] text-[14px] max-md:font-semibold  md:text-[16px] flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("img",{src:oA,alt:"Fork",className:"w-6 h-6 invert"}),t.jsx("span",{className:"hidden md:block",children:"Proceed to Summarization"}),t.jsx("span",{className:"block md:hidden",children:"Summarize"})]})}),i.length<=2&&t.jsx(Ns,{className:"bg-[#1A1A1A] text-[#DDDDE6] border-[#333333]",children:"No chat history to fork"})]})})]})]})}),p=="summarizing"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"relative flex flex-col items-center justify-center flex-1 z-[2] max-md:min-h-[calc(100dvh-72px)] max-w-[600px] max-md:min-w-[95vw] md:max-h-[700px] md:h-[70dvh] md:max-w-[740px] md:min-w-[740px] gap-[2rem] md:gap-[4rem] bg-[#80fff908]",children:[t.jsxs("div",{className:"absolute inset-0 grid w-full h-full grid-cols-3 pointer-events-none z-[1] opacity-[0.2] overflow-hidden",children:[t.jsx("img",{src:cp,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:cp,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:cp,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:cp,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),t.jsx("img",{src:cp,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),t.jsx("img",{src:cp,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"})]}),t.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[10] ",children:[t.jsxs("div",{className:"relative radial-bg flex items-center space-x-3 bg-[#80FFF9]/10 backdrop-blur-sm p-2 px-4 rounded-lg ",children:[t.jsx("p",{className:"text-[#80FFF9] text-[16px] text-nowrap font-medium",children:"Generating Summary"}),t.jsx(no,{size:"20",speed:"1.75",color:"#80FFF9"})]}),t.jsx(R7e,{count:i.length})]}),t.jsxs("div",{onClick:()=>{f("fork"),n(!1)},className:" absolute bottom-[3rem]  font-medium cursor-pointer rounded-[28px] radial-bg-white backdrop-blur-xl z-[49] items-center px-4 py-[10px] flex gap-2",children:[t.jsx(Ft,{className:"w-4 h-4 md:w-5 md:h-5"}),t.jsx("span",{className:"max-md:text-[14px]",children:"Cancel Generation"})]})]})}),p=="review"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col max-md:max-h-[calc(100dvh-72px)] md:max-h-[85dvh] lg:max-h-[1056px] max-w-[inherit] z-[10]",children:[t.jsxs("div",{className:"flex justify-between md:gap-[6px] flex-col md:p-6 md:pb-4 p-4 bg-[#18181A]",children:[t.jsxs("div",{className:"flex items-center justify-between md:gap-[6px]",children:[t.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white",children:"Review Summary"}),!B&&t.jsx("button",{type:"button",onClick:()=>n(!1),className:"w-6 h-6 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-[13px] md:text-[14px] font-[400] md:leading-[24px] text-[#8A8F98] font-['Inter']",children:"Review the generated summary and make any edits before we fork the session."})]}),t.jsxs("div",{className:k("sticky top-0 z-[10] flex justify-between p-3 px-4 md:p-4  backdrop-blur-lg overflow-clip",m?"radial-bg-white":"radial-bg"),children:[t.jsx("div",{className:"flex justify-between w-[inherit] max-h-[32px] ",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:m?oA:A7e,alt:"Summarize",className:k("object-cover object-center w-5 h-5")}),t.jsx("span",{className:k("text-[#80FFF9] font-medium  max-md:hidden md:block  leading-[20px] text-[15px] tracking-[-0.2px]",m&&"text-[#FFFFFF]"),children:m?"Edit Summary":"Session Summary"}),t.jsx("span",{className:k("text-[#80FFF9] font-medium md:hidden leading-[20px] text-[15px] tracking-[-0.2px]",m&&"text-[#FFFFFF]"),children:m?"Edit":"Summary"})]})}),t.jsx("div",{className:"flex items-center gap-2 max-h-[32px]",children:m?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:()=>{g(v||""),N([]),h(!1)},className:"flex items-center max-h-[32px] bg-[#ffffff16] gap-2 py-[6px] px-[12px] rounded-[6px] hover:bg-[#ffffff20] transition-colors",children:t.jsx("span",{className:"text-[#FFFFFF] text-[15px] font-medium text-nowrap",children:"Cancel"})}),t.jsx("button",{type:"button",onClick:()=>{const q=_.map(Q=>`<${Q.tagName}>
${Q.content}
</${Q.tagName}>`).join(`
`);g(q),N([]),h(!1)},className:"flex items-center max-h-[32px] bg-[#2EE572] gap-2 py-[6px] px-[12px] rounded-[6px] hover:bg-[#2EE572]/90 transition-colors",children:t.jsx("span",{className:"text-[#0F0F10] text-[15px] leading-[20px] tracking-[-0.2px] font-semibold text-nowrap",children:"Save Changes"})})]}):t.jsxs("button",{type:"button",disabled:B,onClick:()=>{b(x),N(lA(x||"")),h(!0)},className:"flex items-center min-w-[150px] bg-[#ffffff16] gap-2 py-[6px] px-[8px] rounded-[6px] hover:bg-[#ffffff20] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("img",{src:D7e,alt:"Edit",className:"w-5 h-5"}),t.jsx("span",{className:"text-[#FFFFFF] text-[15px] leading-[20px] font-medium text-nowrap",children:"Edit Summary"})]})})]}),t.jsxs("div",{className:"flex flex-col h-full max-md:w-[calc(95vw)] md:max-w-[800px] md:min-w-[800px] relative overflow-hidden",children:[t.jsxs("div",{className:"flex z-[10] flex-col gap-5 p-3 md:p-6 md:pb-0 pb-0 max-h-[60dvh] overflow-y-scroll overflow-hidden w-full min-w-0",children:[t.jsxs("span",{className:k("text-[#FFFFFF] text-[22px] font-semibold capitalize",m&&"text-[#FFFFFF50]"),children:[o," - Project Analysis"]}),t.jsx("div",{className:"flex flex-col max-md:max-w-[calc(100vw - 10rem)] min-w-0 gap-4 mb-[120px]",children:U.map((q,Q)=>t.jsxs("div",{className:k("flex flex-col gap-2 bg-[#17181A] border rounded-[10px] p-1 transition-all duration-200 w-full min-w-0",y===Q?"border-[#80FFF950] shadow-[0_0_0_1px_#80FFF9] shadow-[#80FFF9]/20 bg-[#131314]":"border-[#242424]",m&&y!=Q&&"border-[#333333] bg-[#131314]"),children:[t.jsxs("div",{className:k("flex items-center justify-between p-3 px-4 gap-2 bg-[#FFFFFF0F] backdrop-blur-lg rounded-[8px]",m&&"opacity-50",y==Q&&"opacity-100"),children:[t.jsxs("span",{className:"text-[#FFFFFF] text-[16px] tracking-[-0.2px] font-medium capitalize",children:[t.jsxs("span",{className:"mr-2",children:[" ",L7e[q.tagName]||""]}),q.tagName.replaceAll("_"," ")]}),m&&t.jsxs("span",{className:"text-[14px] font-['Inter'] font-medium",children:[q.content.length," characters"]})]}),t.jsx("div",{className:"p-3 pt-0 max-md:max-w-[calc(100vw - 10rem)] overflow-hidden ",children:m?t.jsx("textarea",{value:q.content,onChange:he=>Y(Q,he.target.value),onFocus:()=>w(Q),onBlur:()=>w(null),onKeyDown:he=>{he.stopPropagation()},className:k("w-full h-auto leading-[1.8] font-['Inter'] bg-transparent border-0 rounded-[6px] placeholder:text-white/80 font-medium resize-none focus:outline-none transition-colors whitespace-pre-wrap text-[14px]",y==Q?"text-white":"text-white/80"),placeholder:"Enter content for this section...",spellCheck:!1,rows:Math.max(5,Math.ceil(q.content.length/80)),style:{whiteSpace:"pre-wrap",wordWrap:"break-word",overflowWrap:"break-word",lineHeight:"2"}}):t.jsx(dl,{children:q.content||"No content available for this section.",variant:"compact",className:"break-words text-white/80 overflow-wrap-anywhere max-w-none",customComponents:{p:({node:he,...me})=>t.jsx("p",{className:"font-medium break-words font-['Inter'] leading-[28px]",...me}),pre:({...he})=>t.jsx("pre",{className:"p-0 my-4 overflow-x-auto break-all bg-transparent rounded-md",...he})}})})]},Q))})]}),t.jsx(iA,{cy:1,cr:1,width:20,height:20,x:10,y:25,cx:1,className:"fill-[#ffffff10] md:fill-[#ffffff10] absolute z-[1]"})]}),t.jsx("div",{className:"flex sticky bottom-0 justify-end gap-3 p-4 px-5 md:p-6 border-t border-[#242424] bg-[#18181A] z-[10]",children:t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsxs("button",{type:"button",onClick:W,disabled:m||B||!oe,className:"px-6 py-2 h-[40px] md:h-[48px] bg-white text-black hover:bg-gray-100 rounded-full font-[600] text-[16px] flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Approve & Continue",t.jsx("img",{src:S7e,alt:"Fork",className:"w-6 h-6 invert"})]})}),(m||B||!oe)&&t.jsx(Ns,{className:"bg-[#1A1A1A] text-[#DDDDE6] border-[#333333]",children:le()})]})})})]})}),p=="agent-selection"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col max-md:max-h-[calc(100dvh-72px)] md:max-h-[80dvh]  md:h-[700px] md:w-[740px] flex-1 z-[10]",children:[t.jsxs("div",{className:"flex justify-between md:gap-[6px] flex-col md:p-6 md:pb-4 p-4 bg-[#18181A] border-b border-[#242424]",children:[t.jsxs("div",{className:"flex items-center justify-between md:gap-[6px]",children:[t.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white",children:"Configure New Chat"}),t.jsx("button",{type:"button",onClick:()=>n(!1),className:" max-md:absolute max-md:top-6 max-md:right-6 bg-[#FFFFFF05] backdrop-blur-lg rounded-[8px] w-8 h-8  md:w-10 md:h-10 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-[13px] md:text-[14px] text-wrap font-[400] md:leading-[24px] text-[#8A8F98] font-['Inter']",children:"Choose your agent, model, and other settings for your forked conversation."})]}),t.jsxs("div",{className:"flex flex-col justify-between flex-1  max-md:w-[calc(95vw)] w-full h-full relative overflow-hidden",children:[t.jsxs("div",{className:"flex z-[10] flex-col gap-6 p-4 md:p-6 overflow-y-auto",children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(uf,{primaryColor:"#898F99",color:"#898F99",opacity:1,size:20}),t.jsx("span",{className:"text-[#898F99] text-[14px] font-inter font-medium",children:" Fork Agent"})]}),t.jsxs("div",{className:k("grid gap-4 md:gap-5 grid-col-1 md:grid-cols-2"),children:[L&&t.jsx(aA,{isSelected:j==="current",onClick:()=>C("current"),title:"Keep Current Agent",subtitle:P?.prompt_name?.replaceAll("_"," ")||"Custom Agent",description:"Continue using your custom agent, with Fork capabilities in the new chat. This will maintain your custom instructions and conversation style with fork capabilities."}),t.jsx(aA,{isSelected:j==="default",onClick:()=>C("default"),title:L?"Switch to Default Agent":"Use Default Agent",subtitle:"Emergent Fork Agent",description:"Use Emergent's optimized Fork Agent for continuing your task. Emergent Fork is best for coding, development and technical tasks."})]})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Nz,{}),t.jsx("span",{className:"text-[#898F99] text-[14px] font-inter font-medium",children:"Select Model"})]}),t.jsxs(Tu,{value:S?.name||"",onValueChange:q=>{const Q=M?.model_list?.find(he=>he.name===q);if(Q){if(!D(Q.user_tier)){O.open({triggerLocation:"oneMillionModal",shouldShowModelSelectorTooltipAfterClose:!0});return}F({name:Q.name,displayName:Q.display_name}),E.current=!0}},children:[t.jsx(ld,{className:"w-full p-3 min-h-[56px] bg-transparent border border-[#242424] rounded-[8px] text-[#C4C4CC] hover:border-[#242424] focus:border-[#242424] focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 transition-colors data-[state=open]:border-[#242424]",children:t.jsx("div",{className:"flex items-center gap-2",children:S?t.jsx("span",{className:"text-[#C4C4CC]",children:S.displayName}):t.jsx(Au,{placeholder:"Select a model",className:"text-[#C4C4CC] text-[14px]"})})}),t.jsx(cd,{className:"bg-[#1A1A1A] border border-[#333333] rounded-[8px] shadow-lg",children:M?.model_list?.map(q=>{const Q=q.user_tier==="pro_mode";return t.jsx(wo,{value:q.name,className:"text-[#C4C4CC] hover:bg-[#FFFFFF10] focus:bg-[#FFFFFF10] cursor-pointer",children:t.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[t.jsx("span",{children:q.display_name}),Q&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]})},q.name)})||[]})]})]})]}),t.jsxs("div",{className:"flex sticky bottom-0 justify-between items-center gap-3 p-4 px-5 md:p-6 border-t border-[#242424] bg-[#18181A] z-[10]",children:[t.jsxs("button",{type:"button",onClick:()=>f("review"),className:"flex rounded-full max-md:hidden items-center gap-2 bg-[#222224] px-4 py-2 h-[40px] md:h-[48px] text-[#ACACB2]  transition-colors",children:[t.jsx(Xa,{size:16}),"Back to Summary"]}),t.jsxs("button",{type:"button",onClick:()=>f("review"),className:"flex rounded-full md:hidden items-center gap-2 bg-[#222224] px-4 py-2 h-[40px] md:h-[48px] text-[#ACACB2]  transition-colors",children:[t.jsx(Xa,{size:16}),"Back"]}),t.jsx("button",{type:"button",onClick:Z,disabled:B,className:"px-6 py-2 h-[40px] md:h-[48px] bg-white text-black hover:bg-gray-100 rounded-full font-[600] text-[16px] flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:B?t.jsxs(t.Fragment,{children:[t.jsx(no,{size:"20",speed:"1.75",color:"#000"}),"Forking..."]}):t.jsxs("div",{className:"flex items-center gap-1",children:["Start Forking",t.jsx(E7e,{})]})})]})]})]})}),p=="summary"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex relative max-md:max-h-[calc(100dvh-72px)] md:min-w-[700px] flex-col max-w-[inherit] h-[70dvh] z-[10] mb-[24px]",children:[t.jsx("div",{className:"flex justify-between z-[10] md:gap-[10px] flex-col md:p-6 pb-2 md:pb-4 p-4 bg-[#18181A] border-[#242424] border-b",children:t.jsxs("div",{className:"flex items-center justify-between md:gap-[10px]",children:[t.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white",children:"Session Summary"}),t.jsx("button",{type:"button",onClick:()=>{f("fork"),n(!1)},className:"w-6 h-6 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"flex relative overflow-hidden flex-col h-full gap-4 max-md:w-[calc(95vw)]",children:[t.jsx("div",{className:"flex flex-col w-full min-w-0 z-[10] gap-6 p-3 pt-6 overflow-hidden overflow-y-scroll md:p-6",children:t.jsx("div",{className:"flex flex-col w-full min-w-0 gap-4 mb-[40px]",children:U.map((q,Q)=>t.jsxs("div",{className:"flex flex-col bg-[#17181A] border-[#242424] border text-wrap min-w-0 rounded-[10px] p-1",children:[t.jsx("div",{className:"flex items-center justify-between p-3 px-4 gap-2 bg-[#FFFFFF0F] backdrop-blur-lg rounded-[8px]",children:t.jsx("span",{className:"text-[#FFFFFF] text-[16px] tracking-[-0.2px] font-medium capitalize leading-[20px]",children:q.tagName.replaceAll("_"," ")})}),t.jsx("div",{className:"max-w-full p-3 px-4 overflow-hidden",children:t.jsx(dl,{children:q.content||"No content available for this section.",variant:"compact",className:"break-words text-white/80 overflow-wrap-anywhere max-w-none",customComponents:{p:({node:he,...me})=>t.jsx("p",{className:"font-medium break-words text-wrap font-['Inter'] leading-[28px]",...me}),pre:({...he})=>t.jsx("pre",{className:"p-0 my-4 overflow-x-auto break-all bg-transparent rounded-md",...he})}})})]},Q))})}),t.jsx(iA,{cy:1,cr:1,width:20,height:20,x:10,y:25,cx:1,className:"fill-[#ffffff10] md:fill-[#ffffff10] absolute z-[1]"})]})]})})]})}):null},O7e=({className:e})=>t.jsxs("svg",{className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("mask",{id:"mask0_298_7230",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"var(--fill-0, #D9D9D9)"})}),t.jsx("g",{mask:"url(#mask0_298_7230)",children:t.jsx("path",{d:"M6.4 18L5 16.6L14.6 7H6V5H18V17H16V8.4L6.4 18Z",fill:"var(--fill-0, #DCDCE5)"})})]}),B7e=({className:e})=>t.jsxs("svg",{className:e,width:"30",height:"27",viewBox:"0 0 29.3337 26.6667",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M4.61369 3.14267C4.33035 2.26 4.98435 1.33333 5.91169 1.33333H23.4224C24.3497 1.33333 25.0037 2.26 24.7204 3.14267C23.9337 5.6 22.667 10.06 22.667 13.3333C22.667 16.6067 23.9337 21.0667 24.7204 23.524C25.0037 24.4067 24.3497 25.3333 23.4224 25.3333H5.91169C4.98435 25.3333 4.33035 24.4067 4.61369 23.524C5.40035 21.0667 6.66702 16.6067 6.66702 13.3333C6.66702 10.06 5.40035 5.6 4.61369 3.14267Z",fill:"var(--fill-0, white)",stroke:"var(--stroke-0, white)",strokeWidth:"2.66667",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M1.33341 7.33333C2.33341 8.66667 2.66675 11.3333 2.66675 13.3333C2.66675 15.3333 2.33341 18 1.33341 19.3333",stroke:"var(--stroke-0, white)",strokeWidth:"2.66667",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M10.6667 7.66667H18.6667M10.6667 13.3333H18.6667M10.6667 18.6667H13.3334",stroke:"var(--stroke-0, black)",strokeWidth:"2.66667",strokeLinecap:"round"}),t.jsx("path",{d:"M28.0001 7.33333C27.0001 8.66667 26.6667 11.3333 26.6667 13.3333C26.6667 15.3333 27.0001 17.3333 28.0001 19.3333",stroke:"var(--stroke-0, white)",strokeWidth:"2.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),U7e="/assets/intro-background-CD79aR5D.png",H7e=({className:e})=>t.jsxs("svg",{className:e,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("mask",{id:"mask0_430_3809",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:t.jsx("rect",{width:"20",height:"20",fill:"var(--fill-0, #D9D9D9)"})}),t.jsx("g",{mask:"url(#mask0_430_3809)",children:t.jsx("path",{d:"M3.0625 13.5417V11.6667H9.625V13.5417H3.0625ZM3.0625 9.79167V7.91667H13.375V9.79167H3.0625ZM3.0625 6.04167V4.16667H13.375V6.04167H3.0625ZM11.5 19.1667V16.2839L16.6797 11.1276C16.8203 10.987 16.9766 10.8854 17.1484 10.8229C17.3203 10.7604 17.4922 10.7292 17.6641 10.7292C17.8516 10.7292 18.0312 10.7643 18.2031 10.8346C18.375 10.9049 18.5312 11.0104 18.6719 11.151L19.5391 12.0182C19.6641 12.1589 19.7617 12.3151 19.832 12.487C19.9023 12.6589 19.9375 12.8307 19.9375 13.0026C19.9375 13.1745 19.9062 13.3503 19.8437 13.5299C19.7812 13.7096 19.6797 13.8698 19.5391 14.0104L14.3828 19.1667H11.5ZM12.9062 17.7604H13.7969L16.6328 14.901L16.2109 14.4557L15.7656 14.0339L12.9062 16.8698V17.7604ZM16.2109 14.4557L15.7656 14.0339L16.6328 14.901L16.2109 14.4557Z",fill:"var(--fill-0, white)"})})]}),V7e=({className:e})=>t.jsxs("svg",{className:e,width:"19",height:"17",viewBox:"0 0 18.6669 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M1.00006 4.75C1.62506 5.58333 1.83339 7.25 1.83339 8.5C1.83339 9.75 1.62506 11.4167 1.00006 12.25M3.05006 2.13083C2.87298 1.57917 3.28173 1 3.86131 1H14.8055C15.3851 1 15.7938 1.57917 15.6167 2.13083C15.1251 3.66667 14.3334 6.45417 14.3334 8.5C14.3334 10.5458 15.1251 13.3333 15.6167 14.8692C15.7938 15.4208 15.3851 16 14.8055 16H3.86131C3.28173 16 2.87298 15.4208 3.05006 14.8692C3.54173 13.3333 4.33339 10.5458 4.33339 8.5C4.33339 6.45417 3.54173 3.66667 3.05006 2.13083Z",stroke:"var(--stroke-0, #0E0E0F)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M6.83339 4.95833H11.8334M6.83339 8.5H11.8334M6.83339 11.8333H8.50006",stroke:"var(--stroke-0, #0E0E0F)",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("path",{d:"M17.6667 4.75C17.0417 5.58333 16.8334 7.25 16.8334 8.5C16.8334 9.75 17.0417 11 17.6667 12.25",stroke:"var(--stroke-0, #0E0E0F)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),$h={introBackground:U7e,newChatIcon:O7e,compressionPrimary:B7e,configureEditNote:H7e,configureStartFork:V7e},$7e=e=>{if(!e)return[];const n=[],s=/<(\w+)>([\s\S]*?)<\/\1>/g;let r;for(;(r=s.exec(e))!==null;){const[,i,a]=r;n.push({tagName:i,content:a.replace(/^\n+|\n+$/g,"")})}return n},z7e=e=>{if(!e)return"";const n=$7e(e);return n.length===0?e:n.map(s=>`${s.tagName.replaceAll("_"," ").toUpperCase()}

${s.content}`.trim()).join(`

`)},W7e=K.fork.summaryCyan,cA=({summary:e,title:n,rightActions:s,isEditing:r=!1,editableValue:i="",onEditableChange:a,className:o})=>{const l=z7e(e);return t.jsxs("div",{className:k("bg-[#17181a] border border-[rgba(255,255,255,0.08)] rounded-[10px] p-1 overflow-hidden flex flex-col",o),children:[t.jsxs("div",{className:"bg-[#252628] backdrop-blur-[10px] rounded-[8px] px-4 py-3 flex items-center justify-between gap-3 shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("img",{src:W7e,alt:"Summary",className:"w-5 h-5"}),t.jsx("p",{className:"text-[#E6E6E6] text-[16px] leading-[20px] tracking-[-0.2px] font-medium whitespace-nowrap",children:n||"Chat Summary"})]}),s]}),t.jsx("div",{className:"px-4 py-4 flex-1 min-h-0 overflow-y-auto",children:r?t.jsx("textarea",{value:i,onChange:c=>a?.(c.target.value),className:"w-full min-h-[260px] h-full bg-transparent border-0 resize-none text-[15px] leading-[32px] font-medium text-white/80 focus:outline-none",spellCheck:!1}):t.jsx(dl,{variant:"compact",className:"break-words text-white/80 overflow-wrap-anywhere max-w-none",customComponents:{p:({node:c,...u})=>t.jsx("p",{className:"font-medium break-words font-['Inter'] leading-[32px]",...u}),pre:({...c})=>t.jsx("pre",{className:"my-4 overflow-x-auto break-all bg-transparent rounded-md",...c})},children:l||"No summary available."})})]})},G7e=({summary:e,onClose:n,onStartForking:s,onCancel:r,allowClose:i=!0,allowCancel:a=!0,isSubmitting:o,canStart:l,isEditing:c,summaryDraft:u,onSummaryDraftChange:p,onSaveEdit:f,onCancelEdit:m,onEdit:h,selectedModel:x,modelList:g,onModelChange:v})=>{const b=$h.configureEditNote,y=$h.configureStartFork;return t.jsxs("div",{className:"flex h-[540px] w-[560px] max-h-[90vh] max-w-[95vw] flex-col overflow-hidden rounded-[20px] border border-[#242424] bg-[#18181a]",children:[t.jsxs("div",{className:"flex items-start justify-between border-b border-white/10 p-6 pb-5",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h2",{className:"text-[20px] leading-[28px] md:text-[24px] md:leading-[32px] font-medium text-[#E6E6E6]",children:"Configure New Chat"}),t.jsx("p",{className:"text-[16px] leading-[24px] font-medium text-white/40",children:"Review your summary and choose a model"})]}),i&&t.jsx("button",{type:"button",onClick:n,className:"rounded-[10px] bg-white/[0.02] p-2 text-[#737780] hover:text-white transition-colors","aria-label":"Close",children:t.jsx(Ft,{className:"h-6 w-6"})})]}),c?t.jsx("div",{className:"h-[384px] w-full shrink-0 px-6",children:t.jsx("div",{className:"flex h-full w-full flex-col",children:t.jsx(cA,{summary:e,title:t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"md:hidden",children:"Edit"}),t.jsx("span",{className:"hidden md:inline",children:"Chat Summary"})]}),isEditing:!0,editableValue:u,onEditableChange:p,className:"h-full w-full min-h-0",rightActions:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:m,className:"flex h-[32px] items-center rounded-[6px] bg-white/[0.06] px-3 py-2 text-[16px] leading-[20px] tracking-[-0.2px] text-white",children:"Cancel"}),t.jsx("button",{type:"button",onClick:f,className:"flex h-[32px] items-center justify-center rounded-[6px] bg-[#2EE572] px-3 py-2 text-[16px] font-semibold leading-[20px] tracking-[-0.2px] text-[#0F0F10]",children:"Save Changes"})]})})})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-1 min-h-0 flex-col gap-6 px-6 py-6",children:[t.jsx(cA,{summary:e,className:"h-[168px] w-full min-h-0 shrink-0",rightActions:t.jsxs("button",{type:"button",onClick:h,className:"flex h-[32px] items-center gap-2 rounded-[6px] bg-white/[0.08] py-2 pl-2 pr-[10px] font-['Brockmann:Medium',sans-serif] text-[15px] leading-[20px] text-white transition-colors hover:bg-white/[0.12]",children:[t.jsx(b,{className:"size-5 shrink-0"}),"Edit"]})}),t.jsxs("div",{className:"flex flex-col gap-3 shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Nz,{}),t.jsx("span",{className:"text-[#898F99] text-[14px] font-medium",children:"Select Model"})]}),t.jsxs(Tu,{value:x?.name||"",onValueChange:v,children:[t.jsx(ld,{className:"w-full min-h-[56px] rounded-[8px] border border-white/10 bg-transparent px-4 py-3 text-[#C4C4CC] hover:border-white/10 focus:border-white/10 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 data-[state=open]:border-white/10",children:t.jsx("div",{className:"flex items-center gap-2",children:x?t.jsx("span",{className:"text-[#C4C4CC]",children:x.displayName}):t.jsx(Au,{placeholder:"Select a model",className:"text-[#C4C4CC] text-[14px]"})})}),t.jsx(cd,{className:"bg-[#1A1A1A] border border-[#333333] rounded-[8px] shadow-lg",children:g.map(w=>{const _=w.user_tier==="pro_mode";return t.jsx(wo,{value:w.name,className:"text-[#C4C4CC] hover:bg-[#FFFFFF10] focus:bg-[#FFFFFF10] cursor-pointer",children:t.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[t.jsx("span",{children:w.display_name}),_&&t.jsx("div",{className:"flex h-[18px] items-center justify-center rounded-[6px] bg-[#FF8C661A] px-[6px]",children:t.jsx("span",{className:"text-xs font-medium text-[#FF8C66]",children:"PRO"})})]})},w.name)})})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-4 border-t border-white/10 bg-[#18181a] p-6",children:[a&&t.jsx("button",{type:"button",onClick:r,className:"h-[48px] rounded-[8px] bg-[#272729] px-5 text-[16px] font-medium text-[#DCDCE5]",children:"Cancel"}),t.jsx("button",{type:"button",onClick:s,disabled:!l||o,className:"flex h-[48px] items-center gap-2 rounded-[8px] bg-[#E6E6E6] py-3 pl-4 pr-6 text-[16px] font-semibold text-[#0E0E0F] disabled:cursor-not-allowed disabled:opacity-50",children:o?t.jsxs(t.Fragment,{children:[t.jsx(no,{size:"20",speed:"1.75",color:"#000"}),"Forking..."]}):t.jsxs(t.Fragment,{children:[t.jsx(y,{className:"size-5 shrink-0"}),t.jsx("span",{className:"tracking-[-0.2px]",children:"Start Forking"})]})})]})]})]})},dp=K.fork.matrixCode,q7e=["Extracting feature requirements","Processing code changes","Summarizing development phases","Reviewing testing protocols"],K7e=({count:e})=>{const n=[`Analyzing ${e} Messages`,...q7e],[s,r]=d.useState(0),[i,a]=d.useState("forward");return d.useEffect(()=>{const o=setInterval(()=>{r(l=>i==="forward"?l===n.length-1?(a("backward"),l-1):l+1:l===0?(a("forward"),l+1):l-1)},2e3);return()=>clearInterval(o)},[i,n.length]),t.jsx("div",{className:"absolute top-[5rem] h-6 w-full",children:t.jsx(Kn,{mode:"wait",children:t.jsx(fe.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},className:"absolute w-full px-6 text-center text-[15px] text-[#80FFF980] font-medium",children:n[s]},s)})})},Y7e=({messageCount:e,onCancel:n,allowCancel:s=!0})=>t.jsxs("div",{className:"relative w-[560px] h-[540px] max-w-[95vw] max-h-[90vh] overflow-hidden bg-[#80fff908]",children:[t.jsxs("div",{className:"absolute inset-0 grid grid-cols-3 opacity-20 pointer-events-none",children:[t.jsx("img",{src:dp,alt:"Matrix",className:"h-full w-full object-cover"}),t.jsx("img",{src:dp,alt:"Matrix",className:"h-full w-full object-cover"}),t.jsx("img",{src:dp,alt:"Matrix",className:"h-full w-full object-cover"}),t.jsx("img",{src:dp,alt:"Matrix",className:"h-full w-full object-cover rotate-180"}),t.jsx("img",{src:dp,alt:"Matrix",className:"h-full w-full object-cover rotate-180"}),t.jsx("img",{src:dp,alt:"Matrix",className:"h-full w-full object-cover rotate-180"})]}),t.jsxs("div",{className:"absolute left-1/2 top-1/2 z-10 -translate-x-1/2 -translate-y-1/2",children:[t.jsxs("div",{className:"relative flex items-center gap-3 rounded-lg bg-[#80FFF9]/10 px-4 py-2 backdrop-blur-sm radial-bg",children:[t.jsx("p",{className:"text-[16px] font-medium text-[#80FFF9]",children:"Generating Summary"}),t.jsx(no,{size:"20",speed:"1.75",color:"#80FFF9"})]}),t.jsx(K7e,{count:e})]}),s&&t.jsxs("button",{type:"button",onClick:n,className:"absolute bottom-10 left-1/2 z-20 flex -translate-x-1/2 items-center gap-2 rounded-[28px] px-4 py-[10px] font-medium radial-bg-white backdrop-blur-xl",children:[t.jsx(Ft,{className:"h-5 w-5"}),t.jsx("span",{className:"text-[14px] md:text-[16px]",children:"Cancel"})]})]}),Z7e=({backgroundSrc:e,className:n})=>t.jsx("div",{className:k("absolute inset-0 pointer-events-none z-0",n),children:t.jsx("img",{alt:"",src:e,className:"block size-full object-cover opacity-10"})}),J7e=$h.newChatIcon,X7e=$h.compressionPrimary,Q7e=()=>t.jsx("div",{className:"relative size-[32px]",children:t.jsx(X7e,{className:"block max-w-none size-full"})}),eCe=({title:e,description:n,Icon:s,onClick:r,disabled:i})=>t.jsx("button",{type:"button",onClick:r,disabled:i,className:"w-full text-left rounded-[20px] border border-[rgba(255,255,255,0.08)] p-[6px] disabled:cursor-not-allowed disabled:opacity-50",children:t.jsxs("div",{className:"flex items-center gap-4 rounded-[16px] bg-[#212124] px-5 py-3 backdrop-blur-[10px]",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-['Brockmann:Medium',sans-serif] text-[18px] leading-[28px] text-[#DCDCE5]",children:e}),t.jsx("p",{className:"font-['Inter:Medium',sans-serif] text-[16px] leading-[24px] text-white/40",children:n})]}),t.jsx("div",{className:"rounded-[12px] bg-[rgba(128,255,249,0.04)] p-3",children:t.jsx(s,{className:"w-6 h-6"})})]})}),tCe=({onTakeSummaryToNewChat:e,disableTakeSummaryToNewChat:n,onClose:s})=>t.jsxs("div",{className:"relative w-[560px] max-h-[90vh] max-w-[95vw] overflow-hidden rounded-[20px] bg-[#18181a] px-6 pb-6 pt-16",children:[t.jsx("button",{type:"button",onClick:s,className:"absolute top-6 right-6 z-20 rounded-[10px] bg-white/[0.02] p-2 text-[#737780] hover:text-white transition-colors","aria-label":"Close",children:t.jsx(Ft,{className:"h-6 w-6"})}),t.jsxs("div",{className:"relative z-10 flex w-full flex-col gap-10",children:[t.jsxs("div",{className:"flex w-full flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 w-full",children:[t.jsx(Q7e,{}),t.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 w-full",children:[t.jsx("p",{className:"font-['Brockmann:Medium',sans-serif] text-[#E6E6E6] text-[24px] leading-[32px]",children:"Fork this chat"}),t.jsx("p",{className:"font-['Inter:Medium',sans-serif] text-white/[0.64] text-[16px] leading-[24px] text-center",children:"Your chat will be compacted into a summary"})]})]}),t.jsx("div",{className:"backdrop-blur-[25px] rounded-[10px] px-4 py-3",style:{backgroundImage:`url("data:image/svg+xml;utf8,<svg viewBox='0 0 502 72' xmlns='http://www.w3.org/2000/svg' preserveAspectRatio='none'><rect x='0' y='0' height='100%' width='100%' fill='url(%23grad)' opacity='0.15000000596046448'/><defs><radialGradient id='grad' gradientUnits='userSpaceOnUse' cx='0' cy='0' r='10' gradientTransform='matrix(25.1 0 0 3.6 251 36)'><stop stop-color='rgba(128,255,249,1)' offset='0'/><stop stop-color='rgba(128,255,249,0.5)' offset='1'/></radialGradient></defs></svg>")`},children:t.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium text-[#80fff9] text-[16px] leading-[24px] text-center",children:"The summary keeps all important context - your goals, decisions, and current code."})})]}),t.jsx("div",{className:"w-full",children:t.jsx(eCe,{title:"Take summary to new chat",description:"Start fresh with your progress intact",Icon:J7e,onClick:e,disabled:n})})]}),t.jsx(Z7e,{backgroundSrc:$h.introBackground})]}),dA=(e,n)=>e&&n?"configure":"intro",uA=e=>e.trim().length>0,nCe=({isOpen:e,onOpenChange:n,onFork:s,jobId:r,messages:i=[],summaryData:a,appName:o,podIsPaused:l,startInSummaryMode:c=!1})=>{const[u,p]=d.useState(dA(c,a)),[f,m]=d.useState(a||""),[h,x]=d.useState(a||""),[g,v]=d.useState(!1),[b,y]=d.useState(!1),[w,_]=d.useState(null),{totalBannerHeight:N}=ka(),{isMobile:j}=ts(),{config:C}=sc(),{canAccessModel:S}=gi(),F=Hr(),E=d.useRef(null);d.useEffect(()=>{if(C?.model_list?.length&&!w){const B=C.model_list.find(G=>S(G.user_tier));B&&_({name:B.name,displayName:B.display_name})}},[C,w,S]),d.useEffect(()=>{if(!e)return;const B=a||"";p(dA(c,a)),m(B),x(B),v(!1),y(!1)},[e,c,a]),d.useEffect(()=>{g&&l===!1&&!E.current&&(E.current=setTimeout(()=>{n(!1),v(!1),p("intro"),E.current=null},4e3))},[g,l,n]),d.useEffect(()=>()=>{E.current&&(clearTimeout(E.current),E.current=null)},[]);const I=()=>{n(!1)},T=u==="intro",A=u==="generating",D=u==="configure"&&!g;d.useEffect(()=>{const B=G=>{G.key==="Escape"&&T&&n(!1)};if(e)return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[e,T,n]);const O=async()=>{if(r){if(j&&i.length<=2){Ds({title:"No chat history to fork",variant:"destructive"});return}H(O9.SUMMARIZATION_CLICKED,{jobId:r,messageCount:i.length,appName:o,isMobile:j}),p("generating");try{const G=(await vt.generateSummary(r))?.summary||"";m(G),x(G),p("configure")}catch(B){const $=B?.response?.data?.detail||"Failed to fork session. Please try again.";Ds({title:"Fork Error",description:$,variant:"destructive",duration:5e3}),p("intro")}}},M=B=>{const G=C?.model_list?.find($=>$.name===B);if(G){if(!S(G.user_tier)){F.open({triggerLocation:"oneMillionModal",shouldShowModelSelectorTooltipAfterClose:!0});return}_({name:G.name,displayName:G.display_name})}},L=async()=>{if(!r)return;const B=h.trim()?h:f;if(!uA(B)){Ds({title:"Error",description:"Summary content is required to proceed",variant:"destructive"});return}v(!0);try{const G={summary:B,use_custom_prompt:!1,model_name:w?.name||""};await s?.(r,G)}catch(G){Ds({title:"Error",description:(G instanceof Error?G.message:null)||"Failed to submit fork. Please try again.",variant:"destructive"}),v(!1)}};if(!e)return null;const P=N+56;return t.jsx("div",{style:{height:`calc(100dvh - ${P}px)`},className:"absolute z-[49] flex w-full items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",onClick:B=>{B.target===B.currentTarget&&T&&I()},children:t.jsxs("div",{className:k(u!=="intro"&&"overflow-hidden rounded-[20px] border border-[#242424] bg-[#18181A]",u==="generating"&&"border-[#80FFF91A]"),onClick:B=>B.stopPropagation(),children:[u==="intro"&&t.jsx(tCe,{onTakeSummaryToNewChat:O,disableTakeSummaryToNewChat:!j&&i.length<=2,onClose:I}),u==="generating"&&t.jsx(Y7e,{messageCount:i.length,onCancel:I,allowCancel:A}),u==="configure"&&t.jsx(G7e,{summary:f,onClose:I,onEdit:()=>y(!0),onStartForking:L,onCancel:I,allowClose:D,allowCancel:D,isSubmitting:g,canStart:uA(h),isEditing:b,summaryDraft:h,onSummaryDraftChange:x,onSaveEdit:()=>{m(h),y(!1)},onCancelEdit:()=>{x(f),y(!1)},selectedModel:w,modelList:C?.model_list||[],onModelChange:M})]})})},pA=(e,n)=>{if(n){const s=n.toLowerCase();if(s.endsWith(".pdf"))return"PDF";if(s.endsWith(".csv"))return"CSV";if(s.endsWith(".xls")||s.endsWith(".xlsx"))return"Excel";if(s.endsWith(".doc")||s.endsWith(".docx"))return"DOC";if(s.endsWith(".ppt")||s.endsWith(".pptx"))return"PPT";if(s.endsWith(".txt"))return"TXT";if(s.endsWith(".md"))return"Markdown";if(s.endsWith(".json"))return"JSON";if(s.endsWith(".xml"))return"XML";if(s.endsWith(".html")||s.endsWith(".htm"))return"HTML";if(s.endsWith(".css"))return"CSS";if(s.endsWith(".js")||s.endsWith(".jsx"))return"JS";if(s.endsWith(".ts")||s.endsWith(".tsx"))return"TS";if(s.endsWith(".py"))return"Python";if(s.endsWith(".java"))return"Java";if(s.endsWith(".cpp")||s.endsWith(".cc"))return"C++";if(s.endsWith(".c"))return"C";if(s.endsWith(".dmg"))return"DMG";if(s.endsWith(".zip")||s.endsWith(".rar")||s.endsWith(".7z"))return"Archive";if(s.endsWith(".mp4")||s.endsWith(".avi")||s.endsWith(".mov"))return"Video";if(s.endsWith(".mp3")||s.endsWith(".wav")||s.endsWith(".flac"))return"Audio";if(s.endsWith(".jpg")||s.endsWith(".jpeg")||s.endsWith(".png")||s.endsWith(".gif"))return"Image";if(s.endsWith(".svg"))return"SVG"}return e.includes("pdf")?"PDF":e.includes("csv")?"CSV":e.includes("excel")||e.includes("spreadsheet")?"Excel":e.includes("word")||e.includes("document")?"DOC":e.includes("powerpoint")||e.includes("presentation")?"PPT":e.includes("text")?"TXT":e.includes("image")?"Image":e.includes("video")?"Video":e.includes("audio")?"Audio":e.includes("zip")||e.includes("archive")||e.includes("compressed")?"Archive":e.includes("json")?"JSON":e.includes("xml")?"XML":e.includes("html")?"HTML":e.includes("css")?"CSS":e.includes("javascript")?"JS":e.includes("python")?"Python":""},Fz=d.forwardRef(({className:e,checked:n,...s},r)=>t.jsx(G8,{className:k("peer relative inline-flex h-7 w-12 shrink-0 cursor-pointer items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed","bg-[#131314]","data-[state=unchecked]:opacity-50",e),checked:n,...s,ref:r,children:t.jsxs(kM,{className:k("pointer-events-none relative h-5 w-5 rounded-full transition-all duration-200 ease-in-out flex items-center justify-center","data-[state=checked]:translate-x-6 data-[state=unchecked]:translate-x-1","data-[state=checked]:bg-white data-[state=checked]:shadow-lg","data-[state=unchecked]:bg-white/10","data-[state=checked]:shadow-[0px_0.71px_1.77px_0px_rgba(0,0,0,0.36),0px_3px_3px_0px_rgba(0,0,0,0.31),0px_6.89px_4.24px_0px_rgba(0,0,0,0.18),0px_12.36px_4.94px_0px_rgba(0,0,0,0.05),0px_19.25px_5.47px_0px_rgba(0,0,0,0.01)]","data-[state=unchecked]:shadow-[0px_0.71px_1.77px_0px_rgba(0,0,0,0.36),0px_3px_3px_0px_rgba(0,0,0,0.31),0px_6.89px_4.24px_0px_rgba(0,0,0,0.18),0px_12.36px_4.94px_0px_rgba(0,0,0,0.05),0px_19.25px_5.47px_0px_rgba(0,0,0,0.01)]","data-[state=checked]:before:absolute data-[state=checked]:before:inset-0 data-[state=checked]:before:rounded-full data-[state=checked]:before:shadow-[inset_0px_1.24px_2.47px_0px_rgba(255,255,255,0.03),inset_0px_1.06px_0.71px_0px_rgba(255,255,255,0.02),inset_0px_0.18px_0.18px_0px_rgba(255,255,255,0.1)]","data-[state=unchecked]:before:absolute data-[state=unchecked]:before:inset-0 data-[state=unchecked]:before:rounded-full data-[state=unchecked]:before:shadow-[inset_0px_1.24px_2.47px_0px_rgba(255,255,255,0.03),inset_0px_1.06px_0.71px_0px_rgba(255,255,255,0.02),inset_0px_0.18px_0.18px_0px_rgba(255,255,255,0.1)]"),children:[n&&t.jsx("svg",{className:"absolute inset-0 z-10 w-3 h-3 m-auto transition-opacity duration-200",width:"12",height:"12",viewBox:"0 0 14.3 12",fill:"none",children:t.jsx("path",{d:"M7.15273 0.867188C8.67391 0.924388 10.145 1.42639 11.3842 2.31055C12.6232 3.19471 13.5765 4.42207 14.1254 5.84184C14.1624 5.94424 14.1623 6.05674 14.1254 6.15924C13.5765 7.57901 12.6233 8.80721 11.3842 9.69141C10.145 10.5756 8.67391 11.0776 7.15273 11.1348C5.63156 11.0776 4.16043 10.5756 2.92129 9.69141C1.68215 8.80721 0.729004 7.57901 0.180078 6.15924C0.143078 6.05674 0.143078 5.94424 0.180078 5.84184C0.729004 4.42207 1.68227 3.19471 2.92129 2.31055C4.16043 1.42639 5.63156 0.924388 7.15273 0.867188ZM8.31387 3.19824C7.75957 2.96874 7.14941 2.90844 6.56094 3.02544C5.97266 3.14244 5.43242 3.43144 5.00824 3.85554C4.58406 4.27974 4.29414 4.82074 4.17715 5.40924C4.06016 5.99754 4.12035 6.60794 4.34996 7.16214C4.57957 7.71634 4.96836 8.19024 5.46719 8.52344C5.96602 8.85674 6.55273 9.03424 7.15273 9.03424C7.95684 9.03294 8.72773 8.71314 9.29629 8.14454C9.86484 7.57604 10.1847 6.80514 10.1859 6.00104C10.1859 5.40104 10.0084 4.81434 9.67524 4.31544C9.34191 3.81664 8.86816 3.42794 8.31387 3.19824ZM7.14785 4.125C8.17879 4.125 9.01504 4.96124 9.01504 5.99224C9.01484 7.02304 8.17871 7.85844 7.14785 7.85844C6.11719 7.85824 5.28184 7.02284 5.28164 5.99224C5.28164 4.96134 6.11707 4.12524 7.14785 4.125Z",fill:"#0F0F10"})}),!n&&t.jsx("svg",{className:"absolute inset-0 z-10 w-3 h-3 m-auto transition-opacity duration-200 opacity-60",width:"12",height:"12",viewBox:"0 0 12 11",fill:"none",children:t.jsx("path",{d:"M1.85127 2.51855L0.117676 0.784211L0.901758 0L11.8824 10.9801L11.0982 11.7648L9.26245 9.92908C8.28691 10.5479 7.15498 10.8755 5.99971 10.8736C3.00928 10.8736 0.521289 8.72168 0 5.88208C0.239014 4.59092 0.888184 3.41123 1.85127 2.51855ZM7.52928 8.19604L6.71738 7.38404C6.40684 7.53264 6.05781 7.58124 5.71855 7.52314C5.37928 7.46504 5.06621 7.30314 4.82275 7.05964C4.57928 6.81624 4.41738 6.50324 4.35928 6.16394C4.30117 5.82464 4.34977 5.47564 4.49844 5.16504L3.68652 4.35314C3.33359 4.88634 3.17578 5.52524 3.23984 6.16144C3.30391 6.79764 3.58594 7.39214 4.03809 7.84434C4.49023 8.29644 5.08477 8.57844 5.72098 8.64254C6.35723 8.70664 6.99609 8.54884 7.52928 8.19604ZM3.76689 1.31224C4.45854 1.04044 5.21221 0.890703 5.99971 0.890703C8.99014 0.890703 11.4781 3.04264 12 5.88208C11.8301 6.80614 11.4481 7.67814 10.8841 8.42954L8.74336 6.28874C8.76299 6.15564 8.77271 6.02014 8.77271 5.88208C8.77275 5.48364 8.68701 5.08984 8.52109 4.72744C8.35518 4.36514 8.11318 4.04274 7.81152 3.78244C7.50986 3.52204 7.15557 3.32974 6.77275 3.21864C6.39014 3.10754 5.98799 3.08024 5.59385 3.13854L3.76689 1.31224Z",fill:"white",fillOpacity:"0.6"})})]})}));Fz.displayName="CustomSwitch";const sCe=({size:e=16,color:n="#F2F5F7"})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsxs("g",{clipPath:"url(#clip0_upload_asset)",children:[t.jsx("g",{filter:"url(#filter0_upload_asset)",children:t.jsx("path",{d:"M2.84055 12.255C2.4162 11.7524 2.07561 11.1997 1.81877 10.5967C1.56193 9.99365 1.40001 9.36272 1.33301 8.70387H2.70654C2.77354 9.18405 2.89638 9.64469 3.07505 10.0858C3.25372 10.5269 3.48823 10.9373 3.77857 11.3169L2.84055 12.255ZM1.33301 7.36384C1.42234 6.70499 1.58985 6.07406 1.83552 5.47104C2.08119 4.86803 2.4162 4.31526 2.84055 3.81275L3.77857 4.75077C3.48823 5.13045 3.25372 5.54083 3.07505 5.98193C2.89638 6.42302 2.77354 6.88366 2.70654 7.36384H1.33301ZM7.32966 14.7005C6.67081 14.6335 6.04267 14.4744 5.44524 14.2231C4.8478 13.9719 4.29225 13.6397 3.77857 13.2265L4.71659 12.255C5.10744 12.5453 5.52061 12.7854 5.95612 12.9752C6.39163 13.1651 6.84948 13.2935 7.32966 13.3605V14.7005ZM4.75009 3.81275L3.77857 2.84122C4.30342 2.42805 4.86735 2.09583 5.47036 1.84457C6.07338 1.59332 6.70431 1.43419 7.36316 1.36719V2.70722C6.88298 2.77422 6.42234 2.90264 5.98125 3.09248C5.54015 3.28232 5.12977 3.52241 4.75009 3.81275ZM8.66969 14.7005V13.3605C9.16104 13.2935 9.62726 13.1679 10.0684 12.9836C10.5094 12.7993 10.9254 12.5565 11.3163 12.255L12.2878 13.2265C11.7629 13.6508 11.1962 13.9858 10.5876 14.2315C9.97902 14.4772 9.33971 14.6335 8.66969 14.7005ZM11.3498 3.81275C10.9589 3.52241 10.5402 3.28232 10.0935 3.09248C9.6468 2.90264 9.18337 2.77422 8.70319 2.70722V1.36719C9.36204 1.43419 9.99577 1.59332 10.6044 1.84457C11.213 2.09583 11.7741 2.42805 12.2878 2.84122L11.3498 3.81275ZM13.2258 12.255L12.2878 11.3169C12.5781 10.9373 12.8126 10.5269 12.9913 10.0858C13.17 9.64469 13.2928 9.18405 13.3598 8.70387H14.7333C14.644 9.36272 14.4765 9.99365 14.2308 10.5967C13.9852 11.1997 13.6502 11.7524 13.2258 12.255ZM13.3598 7.36384C13.2928 6.88366 13.17 6.42302 12.9913 5.98193C12.8126 5.54083 12.5781 5.13045 12.2878 4.75077L13.2258 3.81275C13.6502 4.31526 13.9907 4.86803 14.2476 5.47104C14.5044 6.07406 14.6663 6.70499 14.7333 7.36384H13.3598Z",fill:n})}),t.jsx("g",{filter:"url(#filter1_upload_asset)",children:t.jsx("path",{d:"M8.01417 10.7351C7.73803 10.7351 7.51417 10.5113 7.51417 10.2351V7.42525L6.47723 8.46219C6.28075 8.65868 5.96175 8.65726 5.76701 8.45905L5.71744 8.40859C5.52512 8.21284 5.52651 7.89867 5.72056 7.70463L7.69663 5.72855C7.89189 5.53329 8.20848 5.53329 8.40374 5.72855L10.3736 7.69837C10.57 7.89486 10.5686 8.21385 10.3704 8.40859L10.32 8.45816C10.1242 8.65048 9.81004 8.64909 9.61599 8.45505L8.5862 7.42525V10.2351C8.5862 10.5113 8.36234 10.7351 8.0862 10.7351H8.01417Z",fill:n})})]}),t.jsxs("defs",{children:[t.jsxs("filter",{id:"filter0_upload_asset",x:"-38.667",y:"-38.6328",width:"93.4004",height:"93.333",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feOffset",{}),t.jsx("feGaussianBlur",{stdDeviation:"20"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.501961 0 0 0 0 1 0 0 0 0 0.976471 0 0 0 0.4 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),t.jsxs("filter",{id:"filter1_upload_asset",x:"-34.4258",y:"-34.418",width:"84.9453",height:"85.1533",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feOffset",{}),t.jsx("feGaussianBlur",{stdDeviation:"20"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.501961 0 0 0 0 1 0 0 0 0 0.976471 0 0 0 0.4 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),t.jsx("clipPath",{id:"clip0_upload_asset",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})})]})]}),rCe=K.common.attach,iCe=K.common.newCoin,Hx=K.upload.comment,Vx=K.upload.commented,fA=K.upload.delete,mA=K.upload.deleteActive,aCe=K.upload.uploadNormal,hA=K.upload.info,oCe=K.files.pdf,xA=K.files.csv,lCe=K.files.doc,cCe=K.files.ppt,dCe=K.files.txt,uCe=K.files.video,pCe=K.files.svg,fCe=K.files.other,Ez=K.files.zip,up=(e,n)=>["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp","image/svg+xml"].includes(e.toLowerCase())||/\.(jpg|jpeg|png|bmp|svg|gif|webp)$/i.test(n),mCe=(e,n)=>e.startsWith("image/")||/\.(jpg|jpeg|png|gif|webp|bmp|svg|ico)$/i.test(n),Sz=(e,n)=>e.startsWith("video/")||/\.(mp4|avi|mov|wmv|mkv|webm|flv|m4v)$/i.test(n),hCe=(e,n)=>e.includes("zip")||e.includes("tar")||e.includes("rar")||e.includes("7z")||/\.(zip|rar|tar|gz|7z|bz2|xz)$/i.test(n),kz=(e,n)=>{const s=["image/jpeg","image/png","image/gif","image/webp"],r=[".jpg",".jpeg",".png",".gif",".webp"],i=e&&s.includes(e),a=r.some(o=>n.toLowerCase().endsWith(o));return i||a},$x=e=>{const{size:n,type:s,name:r}=e,i=Sz(s,r),a=mCe(s,r),o=kz(s,r),l=200*1024*1024;return n>l?{strategy:"reject",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:i?{strategy:"public_only",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:a&&o?n>10*1024*1024?{strategy:"public_only",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:{strategy:n>5*1024*1024?"compress_and_upload":"standard",visibility:"public",readByAgent:!0,needsCompression:n>5*1024*1024,maxSize:10*1024*1024}:a&&!o?n>5*1024*1024?{strategy:"public_only",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:{strategy:"standard",visibility:"public",readByAgent:!0,needsCompression:!1,maxSize:5*1024*1024}:{strategy:"no_limit",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}},Cy=(e,n)=>e==="image/svg+xml"||n.toLowerCase().endsWith(".svg"),xCe=(e,n)=>e.startsWith("image/")?W7:e.startsWith("video/")?q7:e.startsWith("text/")||n.endsWith(".txt")?vo:e.includes("zip")||e.includes("tar")||e.includes("rar")?H7:n.endsWith(".pdf")||n.endsWith(".csv")||n.endsWith(".xlsx")?vo:Nh,Jm=(e,n)=>{const s=n?.toLowerCase()||"";return s.endsWith(".pdf")||e==="application/pdf"?oCe:e.includes("zip")||e.includes("tar")||e.includes("rar")?Ez:s.endsWith(".csv")||e==="text/csv"?xA:s.endsWith(".doc")||s.endsWith(".docx")||e==="application/msword"||e==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?lCe:s.endsWith(".ppt")||s.endsWith(".pptx")||e==="application/vnd.ms-powerpoint"||e==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?cCe:s.endsWith(".txt")||s.endsWith(".md")||s.endsWith(".log")||e==="text/plain"||e==="text/markdown"?dCe:s.endsWith(".mp4")||s.endsWith(".avi")||s.endsWith(".mov")||s.endsWith(".wmv")||s.endsWith(".mkv")||e?.startsWith("video/")?uCe:s.endsWith(".svg")||e==="image/svg+xml"?pCe:s.endsWith(".xls")||s.endsWith(".xlsx")||e==="application/vnd.ms-excel"||e==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?xA:fCe},_y=e=>{if(e===0)return"0 B";const n=1024,s=["B","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(1))+" "+s[r]},gCe=(e,n=20)=>{if(e.length<=n)return e;const s=e.lastIndexOf(".");if(s===-1)return e.substring(0,n-3)+"...";const r=e.substring(s),i=e.substring(0,s),a=n-r.length-3;return a<=0?e.substring(0,n-3)+"...":i.substring(0,a)+"..."+r};function bCe({isOpen:e,onOpenChange:n,jobId:s,onUploadComplete:r,onUploadError:i,handleSendMessage:a,initialFiles:o}){const[l,c]=d.useState([]),[u,p]=d.useState(new Set),[f,m]=d.useState(!1),[h,x]=d.useState(null),[g,v]=d.useState(new Set),[b,y]=d.useState(!1),w=d.useRef(null),_=d.useRef(new Set),{toast:N}=ns(),j=zf(),C=jr(P5),S=jr(U=>g9(U,C),Oc),[F]=Ire(),{t:E}=en("home"),{compressImage:I}=i3({maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"}),T=d.useCallback(U=>{const oe=URL.createObjectURL(U);return _.current.add(oe),oe},[]);et.useEffect(()=>()=>{_.current.clear()},[]);const A=d.useCallback(async U=>{if(!(f||b)&&U&&U.length>0){const Y=S.length+l.length;if(Y+U.length>5){N({title:E("textarea.assets.tooManyAttachments.title"),description:E("textarea.assets.tooManyAttachments.description",{maxFiles:5,currentTotalAttachments:Y,uploadedCount:S.length,selectedCount:l.length,tryingToAddCount:U.length}),variant:"destructive",duration:4e3});return}const Z=[],le=[],q=[];if(Array.from(U).forEach(Q=>{const he=$x(Q);he.strategy==="reject"?Z.push(`${Q.name} (${_y(Q.size)} > ${_y(he.maxSize)})`):he.needsCompression?q.push(Q):le.push({file:Q,name:Q.name,size:Q.size,type:Q.type,lastModified:Q.lastModified,description:"",readByAgent:he.readByAgent,visibility:he.visibility})}),q.length>0){y(!0);try{for(const Q of q){const he=$x(Q);if(kz(Q.type,Q.name)){const me=await I(Q);if(me){const ce=Q.name.replace(/\.[^/.]+$/,".jpg"),ee=me.blob,J=Object.assign(ee,{name:ce,lastModified:Date.now(),webkitRelativePath:""});le.push({file:J,name:ce,size:ee.size,type:"image/jpeg",lastModified:Date.now(),description:"",readByAgent:he.readByAgent,visibility:he.visibility})}else Z.push(`${Q.name} (compression failed)`)}}}catch{N({title:E("textarea.assets.compressionError.title"),description:E("textarea.assets.compressionError.description"),variant:"destructive",duration:4e3})}finally{y(!1)}}Z.length>0&&N({title:E("textarea.assets.filesTooLarge.title"),description:E("textarea.assets.filesTooLarge.description",{fileList:Z.join(", ")}),variant:"destructive",duration:8e3}),le.length>0&&c(Q=>[...Q,...le])}},[l.length,S.length,f,b,I,N]);et.useEffect(()=>{if(e&&o&&o.length>0){y(!0);const U=5;o.length>U&&N({title:E("textarea.assets.tooManyFiles.title"),description:E("textarea.assets.tooManyFiles.description",{maxFiles:U}),variant:"destructive",duration:4e3});const Y=o.slice(0,U).map((W,Z)=>{const le=$x(W),q=URL.createObjectURL(W);_.current.add(q);const Q=up(W.type,W.name);return{id:`initial-${Z}-${Date.now()}`,file:W,name:W.name,size:W.size,type:W.type,lastModified:W.lastModified,preview:Q?q:null,readByAgent:le.readByAgent,visibility:le.visibility,description:""}});c(Y),setTimeout(()=>{y(!1)},100)}else e&&(!o||o.length===0)&&(c([]),y(!1),setTimeout(()=>{w.current?.click()},100))},[e,o,N]);const D=d.useCallback(()=>{f||w.current?.click()},[f]),O=d.useCallback(U=>{A(U.target.files)},[A]),M=d.useCallback((U,oe)=>{f||c(Y=>Y.map((W,Z)=>Z===U?{...W,description:oe}:W))},[f]),L=d.useCallback(U=>$x(U.file).readByAgent,[]),P=d.useCallback((U,oe)=>{if(f)return;const Y=l[U];L(Y)&&c(W=>W.map((Z,le)=>le===U?{...Z,readByAgent:oe}:Z))},[f,l,L]),B=d.useCallback(U=>{f||(c(oe=>{const Y=oe[U];Y&&(up(Y.type,Y.name)||Cy(Y.type,Y.name));const W=oe.filter((Z,le)=>le!==U);return W.length===0&&setTimeout(()=>{n(!1)},100),W}),p(oe=>{const Y=new Set(oe);Y.delete(U);const W=new Set;return Y.forEach(Z=>{Z>U?W.add(Z-1):W.add(Z)}),W}))},[f,n]),G=d.useCallback((U,oe)=>{f||(oe&&(oe.preventDefault(),oe.stopPropagation()),p(Y=>{const W=new Set(Y);return W.has(U)?W.delete(U):W.add(U),W}))},[f]),$=d.useCallback(()=>{m(!1),x(null),v(new Set)},[]);et.useEffect(()=>{e||$()},[e,$]);const te=d.useCallback(async()=>{if(!s||l.length===0||f)return;m(!0);const U=[];try{for(let oe=0;oe<l.length;oe++){const Y=l[oe];if(x(oe),Y.visibility==="private")try{const W=await F({jobId:s,file:Y.file,fileName:Y.name,description:Y.description}).unwrap();if(W.success&&W.artifact_id){let Z,le;if(up(Y.type,Y.name)){Z=URL.createObjectURL(Y.file);try{const q=new FileReader;le=await new Promise(he=>{q.onload=()=>{const me=q.result;he(me.split(",")[1])},q.readAsDataURL(Y.file)})}catch{}}U.push({artifact_id:W.artifact_id,entity_id:s,entity_type:"job",visibility:"private",file_name:Y.name,description:Y.description,file_path:W.path,readByAgent:Y.readByAgent,mime_type:Y.type,file_size:Y.size,local_preview_url:Z,local_preview_base64:le})}}catch{N({title:E("textarea.assets.uploadFailed.title"),description:E("textarea.assets.uploadFailed.description",{fileName:Y.name}),variant:"destructive"})}else try{const W={file_name:Y.name,mime_type:Y.type},Z=await vt.uploadArtifact(s,W);await vt.uploadFileToUrl(Z.upload_url,Y.file);let le,q;if(up(Y.type,Y.name)){le=URL.createObjectURL(Y.file);try{const Q=new FileReader;q=await new Promise(me=>{Q.onload=()=>{const ce=Q.result;me(ce.split(",")[1])},Q.readAsDataURL(Y.file)})}catch{}}U.push({artifact_id:Z.artifact_id,entity_id:s,entity_type:"job",visibility:"public",file_name:Y.name,description:Y.description,file_path:Z.file_path,readByAgent:Y.readByAgent,mime_type:Y.type,file_size:Y.size,local_preview_url:le,local_preview_base64:q})}catch{N({title:E("textarea.assets.uploadFailed.title"),description:E("textarea.assets.uploadFailed.description",{fileName:Y.name}),variant:"destructive"})}}U.length>0&&(j(NL({tabId:C,artifacts:U})),N({title:E("textarea.assets.filesUploaded.title"),description:E("textarea.assets.filesUploaded.description",{count:U.length})})),setTimeout(()=>{c([]),n(!1)},1e3)}catch{}finally{m(!1),x(null)}},[l,s,n,f,j,C,N]);return e?t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:t.jsxs("div",{"data-testid":er.uploadAssets.modal,className:"max-w-[740px] relative w-[95vw] max-md:fixed max-md:bottom-8  p-0 bg-[#18181A] border border-[#242424] rounded-[16px] overflow-hidden flex flex-col font-['Inter']",onClick:U=>U.stopPropagation(),children:[t.jsxs("div",{className:k("flex items-center justify-between p-4  md:p-8",l.length>0?"md:p-6 border-b border-[#242424] ":""),children:[t.jsxs("div",{className:"flex flex-col gap-1 md:gap-[10px] mr-4",children:[t.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white md:leading-[32px]",children:E("textarea.assets.modal.title")}),t.jsx("p",{className:"text-[13px] md:text-[15px] text-[#737780] md:leading-[24px]",children:E("textarea.assets.modal.description")})]}),t.jsx("button",{type:"button",onClick:()=>n(!1),disabled:f,className:k("p-2 absolute top-6 max-md:top-3 right-6 bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#242424] rounded-lg transition-colors",f&&"opacity-50 cursor-not-allowed"),"aria-label":E("textarea.assets.modal.closeModal"),children:t.jsx(Ft,{className:"w-5 h-5 text-[#737780]"})})]}),t.jsxs("div",{className:k("flex flex-col flex-1 p-4 md:p-8 pt-0 md:pt-0 overflow-hidden overflow-y-auto max-h-[486px]",l.length>0?"md:p-6 pt-0 md:pt-0 max-md:pt-4":""),children:[l.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"md:pt-4 pt-3 max-md:hidden flex items-center justify-between backdrop-blur-lg pb-2 z-[10] bg-[#18181A]",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("h3",{className:"text-[12px] font-ndot uppercase text-[#737780] tracking-[0.8px]",children:E("textarea.assets.modal.filesUploadedHeader",{count:l.length})})}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(Rp,{children:t.jsxs(ri,{children:[t.jsx(ii,{asChild:!0,children:t.jsxs("button",{type:"button",onClick:D,disabled:S.length+l.length>=5||f,className:k("flex items-center  rounded-full gap-2 px-4 py-2 radial-bg text-[#80FFF9] hover:opacity-[0.80] font-medium text-[14px] font-['Inter'] transition-all duration-200 disabled:opacity-20",f&&"cursor-not-allowed"),children:[t.jsx("img",{src:aCe,alt:E("textarea.assets.modal.upload"),className:"w-6 h-6"}),E("textarea.assets.modal.uploadFiles")]})}),(S.length+l.length>=5||f)&&t.jsx($a,{children:t.jsx(qr,{className:"bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg z-[9999] px-3 py-2 rounded-md text-sm",side:"bottom",sideOffset:8,children:f?E("textarea.assets.modal.uploadInProgress"):E("textarea.assets.modal.maxAttachmentsTooltip",{current:S.length+l.length})})})]})})})]}),t.jsxs("button",{type:"button",onClick:D,disabled:S.length+l.length>=5||f,className:k("flex items-center  rounded-[12px] md:hidden border-dashed border border-[#252A2C] gap-2 px-4 py-3 mb-4 justify-center text-[#FFFFFF] hover:opacity-[0.80] font-medium text-[14px] font-['Inter'] transition-all duration-200 disabled:opacity-20",f&&"cursor-not-allowed"),children:[t.jsx(sCe,{}),E("textarea.assets.modal.uploadFiles")]})]}),t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"flex flex-col gap-3 md:gap-4 md:mt-4",children:l.map((U,oe)=>{const Y=xCe(U.type,U.name),W=h===oe,Z=g.has(oe);return t.jsxs("div",{"data-testid":er.uploadAssets.fileItem(oe),className:k("relative overflow-clip duration-300 rounded-[12px] h-full group",W?"border-[#80FFF9] opacity-100":"border-[#FFFFFF0F] opacity-100",u.has(oe)?"opacity-100 border border-[#FFFFFF1F]":"border border-transparent"),children:[t.jsxs("div",{className:"bg-[#1D1D1E] p-3 gap-4 md:justify-between flex max-md:flex-col",children:[t.jsxs("div",{className:"flex items-center gap-4 bg-[#1D1D1E]",children:[t.jsxs("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 overflow-hidden rounded-lg",children:[up(U.type,U.name)?t.jsx("img",{src:T(U.file),alt:U.name,className:"object-cover w-full h-full rounded-lg",onError:le=>{const q=le.target;q.style.display="none";const Q=q.parentElement;if(Q){const he=Q.querySelector(".fallback-icon");he&&(he.style.display="block")}}}):Cy(U.type,U.name)?t.jsx("img",{src:T(U.file),alt:U.name,className:"w-6 h-6",onError:le=>{const q=le.target;q.style.display="none";const Q=q.parentElement;if(Q){const he=Q.querySelector(".fallback-icon");he&&(he.style.display="block")}}}):Jm(U.type,U.name)?t.jsx("img",{src:Jm(U.type,U.name),alt:E("textarea.assets.modal.file"),className:k("w-10 h-10",Jm(U.type,U.name)===Ez&&"p-1")}):t.jsx(Y,{className:"w-5 h-5 text-[#FFFFFF60]"}),(up(U.type,U.name)||Cy(U.type,U.name))&&t.jsx("div",{className:"fallback-icon",style:{display:"none"},children:Jm(U.type,U.name)?t.jsx("img",{src:Jm(U.type,U.name),alt:E("textarea.assets.modal.file"),className:"w-5 h-5"}):t.jsx(Y,{className:"w-5 h-5 text-[#FFFFFF60]"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-[#E6E6E6] font-medium text-[14px] font-['Inter'] truncate mb-1",children:gCe(U.name)}),t.jsxs("div",{className:"flex items-center gap-2",children:[pA(U.type,U.name)&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-[12px] text-white/40 flex items-center gap-[6px]",children:t.jsx("span",{className:"font-['Inter'] font-medium text-[12px]",children:pA(U.type,U.name)})}),t.jsx("div",{className:"w-1 h-1 rounded-full bg-[#FFFFFF]/40"})]}),t.jsx("div",{className:"text-[12px] text-white/50 flex items-center gap-2",children:t.jsx("span",{children:_y(U.size)})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[t.jsxs("button",{type:"button",onClick:le=>G(oe,le),disabled:f||W||Z,className:k("p-2 hover:bg-[#FFFFFF0F] rounded-lg transition-colors group",u.has(oe)?"opacity-100 bg-[#FFFFFF0F]":"opacity-60 hover:opacity-100",(f||W||Z)&&"opacity-30 cursor-not-allowed"),title:U.description?E("textarea.assets.modal.editComment"):E("textarea.assets.modal.addComment"),children:[t.jsx("img",{src:U.description?Vx:Hx,alt:U.description?E("textarea.assets.modal.commented"):E("textarea.assets.modal.comment"),className:"w-6 h-6 group-hover:hidden"}),t.jsx("img",{src:U.description?Vx:Hx,alt:E("textarea.assets.modal.commentActive"),className:"hidden w-6 h-6 group-hover:block"})]}),t.jsxs("button",{type:"button",onClick:()=>B(oe),disabled:f||W,className:k("group/delete p-2 rounded-lg transition-colors hover:bg-[#ED5B5B0F]",(f||W)&&"opacity-30 cursor-not-allowed"),title:E("textarea.assets.modal.delete"),children:[t.jsx("img",{src:fA,alt:E("textarea.assets.modal.delete"),className:"w-6 h-6 group-hover/delete:hidden"}),t.jsx("img",{src:mA,alt:E("textarea.assets.modal.deleteActive"),className:"hidden w-6 h-6 group-hover/delete:block"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 max-md:w-full max-md:justify-between",children:[Sz(U.type,U.name)||hCe(U.type,U.name)?t.jsx("div",{className:"flex items-center w-full gap-2",children:t.jsx(Rp,{delayDuration:0,children:t.jsxs(ri,{children:[t.jsx(ii,{asChild:!0,children:t.jsxs("div",{className:"flex items-center gap-2 bg-[#FFFFFF0A] text-[#FFFFFF66] px-2 py-1 rounded-full font-medium font-['Inter'] text-[12px]",children:[E("textarea.assets.modal.agentCannotRead"),t.jsx("img",{alt:E("textarea.assets.modal.info"),src:hA,className:"w-4 h-4"})]})}),t.jsx($a,{children:t.jsx(qr,{className:"bg-[#FFFFFF] backdrop-blur-md text-[#0F0F10] shadow-lg z-[9999] font-['Inter'] font-medium px-3 py-2 rounded-md text-[12px]",side:"top",sideOffset:8,children:E("textarea.assets.modal.agentCannotReadTooltip")})})]})})}):L(U)?t.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[t.jsx(Rp,{delayDuration:0,children:t.jsxs(ri,{children:[t.jsx(ii,{asChild:!0,children:t.jsxs("div",{className:k("flex items-center gap-2 text-[#F3CA5FCC] px-2 py-1 bg-[#F3CA5F14] rounded-full font-medium font-['Inter'] text-[12px]",U.readByAgent?"opacity-100":"bg-[#FFFFFF0A] text-[#FFFFFF66]"),children:[t.jsx("img",{alt:E("textarea.assets.modal.goldCoin"),src:iCe,className:k("w-4 h-4",U.readByAgent?"opacity-100":"hidden")})," ",U.readByAgent?E("textarea.assets.modal.agentWillRead"):E("textarea.assets.modal.agentWillNotRead"),t.jsx("img",{alt:E("textarea.assets.modal.info"),src:hA,className:k("w-4 h-4",U.readByAgent?"hidden":"")})]})}),t.jsx($a,{children:t.jsx(qr,{className:"bg-[#FFFFFF] backdrop-blur-md text-[#0F0F10] shadow-lg z-[9999] font-['Inter'] font-medium px-3 py-2 rounded-md text-[12px]",side:"top",sideOffset:8,children:U.readByAgent?t.jsx("span",{className:"font-['Inter'] font-medium",children:E("textarea.assets.modal.agentWillReadTooltip")}):E("textarea.assets.modal.agentWillNotReadTooltip")})})]})}),t.jsx(Fz,{checked:U.readByAgent,onCheckedChange:le=>P(oe,le),disabled:f||W||!L(U)})]}):null,t.jsxs("button",{type:"button",onClick:le=>G(oe,le),disabled:f||W||Z,className:k("p-2 hover:bg-[#FFFFFF0F] max-md:hidden rounded-lg transition-colors group",u.has(oe)?"opacity-100 bg-[#FFFFFF0F]":"opacity-60 hover:opacity-100",(f||W||Z)&&"opacity-30 cursor-not-allowed"),title:U.description?E("textarea.assets.modal.editComment"):E("textarea.assets.modal.addComment"),children:[t.jsx("img",{src:U.description?Vx:Hx,alt:U.description?E("textarea.assets.modal.commented"):E("textarea.assets.modal.comment"),className:"w-6 h-6 group-hover:hidden"}),t.jsx("img",{src:U.description?Vx:Hx,alt:E("textarea.assets.modal.commentActive"),className:"hidden w-6 h-6 group-hover:block"})]}),t.jsxs("button",{type:"button","data-testid":er.uploadAssets.removeFileButton(oe),onClick:()=>B(oe),disabled:f||W,className:k("group/delete p-2 max-md:hidden rounded-lg transition-colors hover:bg-[#ED5B5B0F]",(f||W)&&"opacity-30 cursor-not-allowed"),title:"Delete",children:[t.jsx("img",{src:fA,alt:"Delete",className:"w-6 h-6 group-hover/delete:hidden"}),t.jsx("img",{src:mA,alt:"Delete Active",className:"hidden w-6 h-6 group-hover/delete:block"})]})]})]}),t.jsx(Kn,{children:u.has(oe)&&t.jsx(fe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"bg-[#18181A] overflow-hidden",children:t.jsx("input",{type:"text",placeholder:E("textarea.assets.modal.addCommentsPlaceholder"),value:U.description||"",onChange:le=>M(oe,le.target.value),disabled:f,className:k("w-full bg-transparent pl-4 py-4 font-medium text-[14px] text-[#FFFFFF60] placeholder-[#4A4A4D] font-['Inter'] focus:outline-none transition-colors",f&&"opacity-50 cursor-not-allowed"),autoFocus:!0})})})]},oe)})})})]}),l.length>0&&t.jsxs("div",{className:"flex items-center justify-end gap-4 p-6 border-t border-[#242424]/60",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),disabled:f,className:k("px-6 py-3 bg-[#272729] max-md:hidden hover:bg-[#444] rounded-full text-[#DCDCE5] font-medium text-[16px] transition-all duration-200",f&&"opacity-50 cursor-not-allowed"),children:E("textarea.assets.modal.cancel")}),t.jsx("button",{type:"button","data-testid":er.uploadAssets.saveButton,onClick:te,disabled:!s||f,className:k("md:px-6 p-3 md:py-3 bg-white hover:bg-white/90  max-md:w-full max-md:justify-center rounded-full text-[#0E0E0F] font-semibold text-[16px]  md:text-[16px] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",f&&"cursor-not-allowed"),children:f?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-4 h-4 animate-spin"}),E("textarea.assets.modal.attaching")]}):t.jsxs(t.Fragment,{children:[t.jsx("img",{src:rCe,alt:E("textarea.assets.modal.share"),className:"w-6 h-6 rotate-45 invert"}),E("textarea.assets.modal.attachFiles",{count:l.length})]})})]}),t.jsx("input",{ref:w,type:"file",multiple:!0,onChange:O,disabled:f,className:"hidden","aria-label":E("textarea.assets.modal.uploadFilesAriaLabel")})]})}):null}const yCe=({isOpen:e,onClose:n,videoFile:s,videoUrl:r,testCasesData:i,isLoadingTestCases:a,onApproveVideo:o,onSaveTestCases:l,showApprovalStage:c})=>{const[u,p]=d.useState(""),[f,m]=d.useState(!1),[h,x]=d.useState(null);d.useEffect(()=>{i&&p(JSON.stringify(i,null,2))},[i]);const g=N=>{x(N)},v=()=>{h&&(f?h.pause():h.play(),m(!f))},b=()=>m(!0),y=()=>m(!1),w=()=>{l&&l(u),n()},_=()=>{p(""),m(!1),n()};return t.jsx(as,{open:e,onOpenChange:_,children:t.jsxs(Er,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[t.jsx(lc,{children:t.jsx(Lo,{children:c?"Review Screen & Audio Recording":"Screen & Audio Recording Test Cases"})}),t.jsxs("div",{className:`flex gap-6 h-[70vh] ${c?"justify-center":""}`,children:[t.jsxs("div",{className:`${c?"max-w-4xl":"flex-1"} flex flex-col`,children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Video & Audio Preview"}),c&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:'Review your screen & audio recording and click "Generate Test Cases" to proceed.'})]}),t.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden flex-1",children:r?t.jsxs(t.Fragment,{children:[t.jsx("video",{ref:g,src:r,className:"w-full h-full object-contain",onPlay:b,onPause:y,controls:!1}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 hover:opacity-100 transition-opacity",children:t.jsx(zt,{variant:"ghost",size:"lg",onClick:v,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white",children:f?t.jsx(Uw,{className:"w-8 h-8"}):t.jsx(Hw,{className:"w-8 h-8"})})}),t.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-white text-sm",children:[t.jsx(zt,{variant:"ghost",size:"sm",onClick:v,className:"text-white hover:bg-white hover:bg-opacity-20",children:f?t.jsx(Uw,{className:"w-4 h-4"}):t.jsx(Hw,{className:"w-4 h-4"})}),s&&t.jsxs("span",{className:"ml-2",children:[s.name," (",(s.size/1024/1024).toFixed(1)," MB)"]})]})})]}):t.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No video available"})})]}),!c&&t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Test Cases"}),a?t.jsx("div",{className:"flex-1 flex items-center justify-center border rounded-lg",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(tn,{className:"w-8 h-8 animate-spin"}),t.jsx("p",{className:"text-gray-600",children:"Generating test cases..."})]})}):t.jsx(dd,{value:u,onChange:N=>p(N.target.value),placeholder:"Test cases will appear here once generated...",className:"flex-1 font-mono text-sm resize-none",style:{minHeight:"400px"}})]})]}),t.jsxs(ad,{className:"flex justify-between",children:[t.jsx("div",{className:"flex gap-2",children:t.jsx(zt,{variant:"outline",onClick:_,children:"Cancel"})}),t.jsx("div",{className:"flex gap-2",children:c?t.jsx(zt,{onClick:o,disabled:!r,children:"Generate Test Cases"}):i&&t.jsx(zt,{onClick:w,disabled:a,children:"Save Test Cases"})})]})]})})},vCe=({size:e=24,color:n="#000000",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.6395 11.1294C20.1202 11.61 20.1202 12.3894 19.6395 12.87L14.1011 18.4084C13.6204 18.889 12.8412 18.889 12.3606 18.4084C11.8798 17.9277 11.8798 17.1485 12.3606 16.6679L15.7979 13.2304L5.23081 13.2304C4.55106 13.2304 4 12.6794 4 11.9996C4 11.32 4.55106 10.7689 5.23081 10.7689L15.7979 10.7689L12.3606 7.3315C11.8798 6.85087 11.8798 6.07161 12.3606 5.59098C12.8412 5.1103 13.6204 5.1103 14.1011 5.59098L19.6395 11.1294Z",fill:n})}),wCe=K.common.visualEdit,gA="https://assets.emergent.sh/Built-in+Retina+Display_new.mp4",CCe=({open:e,onOpenChange:n,onClose:s,onGetStarted:r,onLearnMore:i})=>{const[a,o]=d.useState(!1),[l,c]=d.useState(!1),u=d.useRef(null),{totalBannerHeight:p}=ka(),f=p+56,m=()=>{ug(),n(!1),r?.(),H(qn.MODAL_EVENTS.VISUAL_EDITS_MODAL_GOT_IT_CLICKED)},h=()=>{H(qn.MODAL_EVENTS.VISUAL_EDITS_MODAL_LEARN_MORE_CLICKED),i?.()};return d.useEffect(()=>{if(e&&!a&&!IL()){const x=document.createElement("video");x.src=gA,x.preload="auto",x.muted=!0,x.addEventListener("loadeddata",()=>{o(!0),c(!0),H(qn.MODAL_EVENTS.VISUAL_EDITS_MODAL_OPENED)}),x.load()}else e&&a?(c(!0),H(qn.MODAL_EVENTS.VISUAL_EDITS_MODAL_OPENED)):e||c(!1)},[e,a]),l?t.jsx("div",{style:{height:`calc(100dvh - ${f}px)`},className:"absolute w-full z-[49] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:t.jsxs("div",{className:"relative w-[600px] max-w-[90dvw] rounded-2xl bg-[#1C1C1F] border border-[#242424] shadow-xl overflow-hidden",children:[t.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full",children:t.jsx("video",{ref:u,src:gA,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-auto"})}),t.jsx("div",{className:"relative flex flex-col p-6",children:t.jsxs("div",{className:"flex flex-col gap-12",children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(fe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-[28px] font-semibold leading-9 tracking-[-0.02em] text-white font-brockmann",style:{textShadow:"0px 0px 20px rgba(255, 255, 255, 0.2)"},children:"Introducing Edit mode"}),t.jsx(fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"inline-flex items-center gap-2 px-2 py-2 rounded-[30px] bg-[#0161D1] w-fit",children:t.jsx("div",{className:"flex items-center justify-center w-4 h-4",children:t.jsx("img",{src:wCe,alt:"Visual Edit",className:"w-4 h-4",style:{filter:"brightness(0) saturate(100%) invert(89%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(106%) contrast(91%)"}})})})]}),t.jsx(fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-[15px] font-medium leading-[1.6em] text-white/60 font-inter",children:"Edit mode is now built into the chat input. Click the cursor icon or press Cmd/ctrl+E to visually edit components."})]}),t.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex items-center gap-4",children:[t.jsx("button",{type:"button",onClick:h,className:"flex items-center justify-center flex-1 h-12 gap-2 px-2 py-2 text-lg font-medium text-white transition-all duration-200 border rounded-xl font-brockmann hover:bg-white/5",style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.22)"},children:"Learn more"}),t.jsxs("button",{type:"button",onClick:m,className:"flex items-center justify-center flex-1 h-12 gap-2 px-2 py-2 text-lg font-semibold text-black transition-all duration-200 bg-white rounded-xl font-brockmann hover:scale-105",style:{boxShadow:"0px 0px 20px 0px rgba(255, 255, 255, 0.4), 0px 0.7272726893424988px 0.7272726893424988px 0.7272726893424988px rgba(0, 0, 0, 0.1), inset 0px 2.1818180084228516px 3.6363635063171387px 1.4545453786849976px rgba(255, 255, 255, 0.4), inset 0px -1.4545453786849976px 0px 0px rgba(0, 0, 0, 0.2)"},children:[t.jsx("span",{children:"Got it"}),t.jsx(vCe,{className:"w-6 h-6"})]})]})]})})]})}):null},bA=(e="default")=>{const n="rounded-[10px] px-5 h-10 flex items-center justify-center gap-1.5 text-[15px] font-['Brockmann'] font-medium leading-5 tracking-[-0.2px] transition-all duration-200";switch(e){case"destructive":return`${n} bg-[#CC5252] hover:bg-[#B73E3E] text-white font-semibold`;case"outline":return`${n} bg-white/[0.04] hover:bg-white/[0.08] text-white border border-white/[0.12]`;case"ghost":return`${n} bg-transparent hover:bg-white/[0.08] text-white`;case"default":default:return`${n} bg-white hover:bg-white/90 text-black font-semibold`}};function x0({isOpen:e,onClose:n,onConfirm:s,onCancel:r,title:i="You have unsaved changes",description:a="Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:o={text:"Confirm",variant:"default"},cancelButton:l={text:"Cancel",variant:"outline"},showCloseIcon:c=!0,allowBackdropClose:u=!0,isFullscreen:p=!1,includeNavBarOffset:f=!1}){const{totalBannerHeight:m}=ka(),h=f?m+56:m;if(d.useEffect(()=>{if(!e)return;const v=b=>{(b.metaKey||b.ctrlKey)&&b.key==="s"&&(b.preventDefault(),b.stopPropagation(),s())};return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[e,s]),!e)return null;const x=v=>{u&&v.target===v.currentTarget&&n()},g=()=>{r?.()||n()};return t.jsx("div",{style:{height:`calc(100dvh - ${h}px)`,top:`${h}px`},className:k("absolute left-0 right-0 bottom-0 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",p?"z-[10000]":"z-[49]"),onClick:x,children:t.jsxs("div",{className:"bg-[#1C1C1F] rounded-[20px] w-full max-w-[600px] h-auto max-h-[90vh] overflow-y-auto flex flex-col justify-between p-6 gap-14",onClick:v=>v.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-start gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[t.jsx("h1",{className:"text-2xl font-['Brockmann'] font-medium leading-8 text-white",children:i}),t.jsx("p",{className:"text-base font-['Inter'] font-medium leading-6 text-white/60",children:a})]}),c&&t.jsx("button",{onClick:n,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white/[0.04] rounded-full hover:bg-white/[0.08] transition-colors p-1.5",children:t.jsx(Ft,{className:"w-6 h-6 text-white/50"})})]}),t.jsxs("div",{className:"flex items-center gap-2.5 justify-end",children:[t.jsx("button",{onClick:g,className:bA(l.variant),children:l.text}),t.jsx("button",{onClick:s,className:bA(o.variant),children:o.text})]})]})})}const Iz=(e={})=>{const{type:n="alert",isVisible:s=!0}=e,{setBannerHeight:r,registerBannerHeight:i,unregisterBannerHeight:a,bannerConfig:o}=ka(),l=d.useRef(null),c=d.useRef(null),u=d.useRef(`banner-${Math.random().toString(36).slice(2)}`),p=n==="alert"?o.show:s;return d.useEffect(()=>{const f=l.current,m=u.current;if(!f)return;const h=()=>{if(p&&f){const x=f.offsetHeight;n==="alert"?r(x):i(m,x)}else n==="alert"?r(0):a(m)};return h(),window.ResizeObserver&&(c.current=new ResizeObserver(()=>{h()}),c.current.observe(f)),()=>{c.current&&c.current.disconnect()}},[p,n,r,i,a]),d.useEffect(()=>{const f=u.current;p||(n==="alert"?r(0):a(f))},[p,n,r,a]),d.useEffect(()=>{const f=u.current;return()=>{n==="alert"?r(0):a(f)}},[n,r,a]),l};function _Ce(){const[e,n]=d.useState(!1),{isTrulyFreeUser:s}=xs(),r=Aie(),i=!e&&s()&&!!r,a=Iz({type:"dynamic",isVisible:i}),o=()=>{window.location.href="/mobile-app?utm_source=mweb_banner"};return t.jsx(Kn,{children:i&&t.jsxs(fe.div,{ref:a,initial:{opacity:0,y:-40},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{duration:.3},className:"fixed top-0 left-0 right-0 z-[10001] flex items-center justify-between gap-3 px-3 py-2.5 bg-[#2A2A2A]",children:[t.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[t.jsx("img",{src:K.logo.borderedLogoDark,alt:"Emergent",className:"w-8 h-8 rounded-lg flex-shrink-0"}),t.jsx("span",{className:"text-white text-sm",children:r?.text})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[t.jsx("button",{onClick:o,className:"px-4 py-1.5 bg-white text-black text-sm font-medium rounded-full",children:r?.buttonText}),t.jsx("button",{onClick:()=>n(!0),className:"p-1 text-[#999]",children:t.jsx(Ft,{size:20})})]})]})})}const jCe=({size:e=24,color:n="#CCCCCC",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M17.6211 2.99951C19.4849 2.99951 20.9958 4.51078 20.9961 6.37451V17.6245C20.9961 19.4885 19.485 20.9995 17.6211 20.9995H6.37109C4.50736 20.9993 2.99609 19.4883 2.99609 17.6245V6.37451C2.99634 4.51093 4.50751 2.99976 6.37109 2.99951H17.6211ZM7.67773 8.06396C7.48528 8.07449 7.30332 8.16003 7.16699 8.3042C7.02094 8.45884 6.93858 8.66856 6.93848 8.88721C6.93849 9.10598 7.02086 9.31647 7.16699 9.47119L9.55469 11.9985L7.16699 14.5278L7.1123 14.5903C6.98591 14.7543 6.92435 14.9642 6.93945 15.1753C6.95469 15.3861 7.0461 15.5824 7.19434 15.7241C7.34266 15.8658 7.5366 15.9434 7.73633 15.938C7.93631 15.9324 8.12732 15.8448 8.26855 15.6948L11.208 12.5825L11.2627 12.52C11.3842 12.3617 11.4453 12.1613 11.4355 11.9575C11.4256 11.7536 11.3444 11.5599 11.208 11.4155L8.26855 8.3042L8.20898 8.24756C8.05945 8.119 7.87014 8.05357 7.67773 8.06396ZM12.2041 14.2505L12.1299 14.2534C11.934 14.2731 11.7528 14.37 11.624 14.5229C11.4954 14.6757 11.4292 14.8731 11.4385 15.0747C11.4479 15.2765 11.5314 15.4684 11.6738 15.6079C11.8164 15.7475 12.0071 15.8256 12.2041 15.8257H16.2949L16.3682 15.8208C16.5641 15.8012 16.7462 15.706 16.875 15.5532C17.0039 15.4003 17.07 15.2015 17.0605 14.9995C17.051 14.7975 16.9659 14.6068 16.8232 14.4673C16.6807 14.3281 16.4917 14.2505 16.2949 14.2505H12.2041Z",fill:n})}),yA=K.common.deploy;function NCe({isOpen:e,onOpenChange:n,podIsPaused:s,buildMode:r,isPublishDisabled:i,hasPreviewUrl:a,enablePublish:o,onInfoClick:l,onVSCodeClick:c,previewUrl:u,onPreviewClick:p,onDeployClick:f,jobId:m,onPublishSuccess:h}){const{openModal:x}=Ms(),{isSuccess:g}=Kr(),{data:v}=Wa(void 0,{skip:!g}),b=v?.moltbot??!1,{isPublishing:y,isPublished:w}=h3({jobId:m,onPublishSuccess:h}),_=S=>{n(!1),setTimeout(S,100)},N=()=>{n(!1)},j=()=>{H(m2.CHAT_TRAJ_PUBLISH_CLICKED,{jobId:m,isPublished:w,source:"mobile_menu"}),n(!1),x(w?{type:"moltbot-published",previewUrl:u}:{type:"publish-moltbot",jobId:m,previewUrl:u,source:"mobile_menu",onPublishSuccess:h})},C=k("rounded shadow-[0px_50px_14px_0px_rgba(0,0,0,0.00),0px_32px_13px_0px_rgba(0,0,0,0.03),0px_18px_11px_0px_rgba(0,0,0,0.10),0px_8px_8px_0px_rgba(0,0,0,0.16),0px_2px_4px_0px_rgba(0,0,0,0.19)]","flex w-[80px] h-[60px] justify-center items-center relative overflow-hidden bg-gray-300");return t.jsx(Fa,{trigger:t.jsx("div",{}),open:e,onOpenChange:n,maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"",handleColor:"bg-[#fff]/10",children:t.jsxs("div",{className:"max-h-[70vh] pb-4 overflow-y-auto bg-[#111112] rounded-t-[24px]",children:[t.jsxs("div",{className:"flex items-center sticky z-[100] top-0 justify-center w-full py-4 border-b border-[#242424] bg-[#111112]",children:[t.jsx("span",{className:"font-medium text-[18px]",children:"Quick Actions"}),t.jsx("button",{type:"button",title:"Close",onClick:N,className:"absolute flex items-center justify-center w-8 h-8 p-1 rounded-full top-3 right-4 bg-white/5 hover:bg-white/10",children:t.jsx(Ft,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex flex-col p-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o&&!b?t.jsxs("button",{onClick:j,disabled:i||y,className:k("flex flex-col gap-3 p-4 transition-colors bg-gradient-to-bl from-[#80FFF9] to-[#1588FC] rounded-[12px] hover:bg-white/5 min-h-[130px] justify-between items-start disabled:opacity-50"),children:[t.jsx("img",{src:yA,alt:"publish",className:"w-8 h-8"}),t.jsx("span",{className:"font-semibold text-[#0F0F10] text-nowrap",children:"Publish Your App"})]}):t.jsxs("button",{onClick:()=>_(f),disabled:i,className:k("flex flex-col gap-3 p-4 transition-colors bg-gradient-to-bl from-[#80FFF9] to-[#1588FC] rounded-[12px] hover:bg-white/5 min-h-[130px] justify-between items-start disabled:opacity-50"),children:[t.jsx("img",{src:yA,alt:"deploy",className:"w-8 h-8"}),t.jsx("span",{className:"font-semibold text-[#0F0F10] text-nowrap",children:"Deploy Your App"})]}),t.jsxs("button",{onClick:()=>_(p),disabled:!a,className:k("flex flex-col gap-3 px-4 py-3 bg-[#FFFFFF] transition-colors justify-between items-start rounded-[12px] disabled:opacity-50"),children:[t.jsxs("div",{className:C,children:[u&&t.jsx("iframe",{src:u,title:"Preview",className:"rounded w-[80px] h-[60px] z-[1] pointer-events-none",style:{zoom:1,pointerEvents:"none"}}),t.jsx("div",{className:"absolute z-[50] h-full w-[80px] inset-0 flex items-center justify-center rounded pointer-events-none bg-black/50",children:t.jsx(SC,{color:"#fff"})})]}),t.jsx("span",{className:"text-nowrap font-semibold text-[#0F0F10]",children:"View Preview"})]})]}),t.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[t.jsxs("button",{type:"button",onClick:()=>_(c),disabled:s||r!=="build",className:k("flex items-center flex-row-reverse justify-between gap-3 p-4 transition-colors bg-white/5 rounded-[12px] disabled:opacity-50"),children:[t.jsx(jCe,{size:20,color:"#ccc"}),t.jsx("span",{className:"text-sm font-medium text-[#CCCCCC]",children:"View Code"})]}),t.jsxs("button",{type:"button",className:k("flex items-center gap-3 flex-row-reverse justify-between p-4 transition-colors rounded-[12px] bg-white/5"),onClick:l,children:[t.jsx(o5,{size:20,color:"#CCCCCC"}),t.jsx("span",{className:"text-sm font-medium text-[#CCCCCC]",children:"View Info"})]})]})]})]})})}const FCe=K.panels.close,u5=({onClose:e,dataTestId:n})=>t.jsx("button",{"data-testid":n,type:"button",title:"Close",onClick:e,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx("img",{src:FCe,alt:"Close",className:"w-5 h-5"})}),j8=({width:e=20,height:n=20,className:s="",style:r,fill:i="#80FFF9"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:s,style:r,children:t.jsx("path",{d:"M9.42381 7.63809C9.55047 7.44923 9.68847 7.42536 9.80047 7.42536C9.91247 7.42536 10.0985 7.44923 10.2251 7.63809C11.2185 9.02218 12.8585 11.7801 14.0685 13.8154C14.8578 15.1415 15.4638 16.1608 15.5885 16.2904C16.0551 16.7772 16.6951 16.4738 17.0671 15.9215C17.4331 15.3781 17.5345 14.9963 17.5345 14.5892C17.5345 14.3117 12.2291 4.30264 11.6951 3.46946C11.1818 2.66832 11.0138 2.46582 10.1351 2.46582H9.47647C8.59981 2.46582 8.47314 2.66832 7.95914 3.46946C7.42514 4.30264 2.11914 14.3117 2.11914 14.5885C2.11914 14.9963 2.22114 15.3781 2.58781 15.9215C2.95981 16.4738 3.59981 16.7772 4.06647 16.2897C4.19047 16.1601 4.79647 15.1415 5.58581 13.8147C6.79581 11.7801 8.43047 9.02218 9.42447 7.63741L9.42381 7.63809Z",fill:i})}),ECe=({width:e=20,height:n=20,className:s="",style:r,fill:i="#80FFF9"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:s,style:r,children:[t.jsx("mask",{id:"mask0_android_20x20",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:t.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_android_20x20)",children:t.jsx("path",{d:"M0.830078 15.001C0.955078 13.5149 1.40994 12.1468 2.19466 10.8968C2.97938 9.64681 4.02452 8.65375 5.33008 7.91764L3.78841 5.25098C3.70508 5.12598 3.68425 4.99403 3.72591 4.85514C3.76758 4.71625 3.85786 4.61209 3.99674 4.54264C4.10786 4.4732 4.23286 4.45931 4.37174 4.50098C4.51063 4.54264 4.62175 4.62598 4.70508 4.75098L6.24675 7.41764C7.44119 6.91764 8.69119 6.66764 9.99675 6.66764C11.3023 6.66764 12.5523 6.91764 13.7467 7.41764L15.2884 4.75098C15.3717 4.62598 15.4829 4.54264 15.6217 4.50098C15.7606 4.45931 15.8856 4.4732 15.9967 4.54264C16.1356 4.61209 16.2259 4.71625 16.2676 4.85514C16.3092 4.99403 16.2884 5.12598 16.2051 5.25098L14.6634 7.91764C15.969 8.65375 17.0141 9.64681 17.7988 10.8968C18.5836 12.1468 19.0384 13.5149 19.1634 15.001H0.830078ZM5.83008 12.7093C6.12175 12.7093 6.36827 12.6086 6.56966 12.4072C6.77105 12.2058 6.87175 11.9593 6.87175 11.6676C6.87175 11.376 6.77105 11.1294 6.56966 10.9281C6.36827 10.7267 6.12175 10.626 5.83008 10.626C5.53841 10.626 5.29188 10.7267 5.0905 10.9281C4.88911 11.1294 4.78841 11.376 4.78841 11.6676C4.78841 11.9593 4.88911 12.2058 5.0905 12.4072C5.29188 12.6086 5.53841 12.7093 5.83008 12.7093ZM14.1634 12.7093C14.4551 12.7093 14.7016 12.6086 14.903 12.4072C15.1044 12.2058 15.2051 11.9593 15.2051 11.6676C15.2051 11.376 15.1044 11.1294 14.903 10.9281C14.7016 10.7267 14.4551 10.626 14.1634 10.626C13.8717 10.626 13.6252 10.7267 13.4238 10.9281C13.2224 11.1294 13.1217 11.376 13.1217 11.6676C13.1217 11.9593 13.2224 12.2058 13.4238 12.4072C13.6252 12.6086 13.8717 12.7093 14.1634 12.7093Z",fill:i})})]}),Tz=K.common.arrowUploadReadyDark,SCe=K.deployment.webImage,kCe=K.deployment.globeIcon;function ICe({onDeployClick:e,loading:n,localLoading:s,podIsPaused:r,isExpoImage:i=!1,creditsPerMonth:a=50}){return i?t.jsx(ACe,{onDeployClick:e,loading:n,localLoading:s,podIsPaused:r,creditsPerMonth:a}):t.jsx(TCe,{onDeployClick:e,loading:n,localLoading:s,podIsPaused:r,creditsPerMonth:a})}function TCe({onDeployClick:e,loading:n,localLoading:s,podIsPaused:r,creditsPerMonth:i=50}){return t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsx("div",{className:" text-[14px] md:text-[16px] font-['Inter'] text-[#939399]",children:"Deploy your application to an Emergent hosted production-ready environment. This will make it publicly accessible with managed infrastructure that never sleeps."}),t.jsx("div",{className:"flex flex-col items-center justify-center p-4 bg-[#131314] rounded-xl border border-[#242424] py-[24px] md:gap-8 md:py-[48px]",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("img",{src:SCe,alt:"Web",className:"w-10 h-10 mb-2 md:w-12 md:h-12 md:mb-4"}),t.jsx("div",{className:"mb-3 text-[14px]  md:text-lg font-medium font-['Inter'] text-white",children:"Start New Deployment"}),t.jsxs("div",{className:"flex flex-col mb-3 md:mb-6 text-center font-medium text-[13px]  md:text-[15px] text-white/50",children:[t.jsx("span",{className:"md:block hidden font-['Inter']",children:"Ready to go live? Hit Start Deployment to launch your app."}),t.jsxs("span",{className:"font-['Inter'] text-[#F3CA5F] ",children:["Each new deployment costs ",i," credits/month."]})]}),t.jsx("div",{children:t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{children:t.jsx("button",{"data-testid":gs.deploy.startButton,type:"button",onClick:e,className:"flex items-center gap-2 px-3 py-1 text-black bg-white rounded-full md:px-6 md:py-2 hover:bg-white/90 disabled:opacity-50",disabled:n||s||r,children:n||s?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Loading..."})]}):t.jsxs("div",{className:"flex items-center gap-2 text-[15px]  md:text-lg font-semibold font-brockmann",children:[t.jsx("span",{children:"Start Deployment"}),t.jsx("img",{src:Tz,alt:"Deploy",className:"w-4 h-4 md:w-6 md:h-6"})]})})}),t.jsxs(Ns,{className:k("bg-[#DDDDE6] text-black border-0",{hidden:!r}),children:[r&&t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:"Please wake up the agent before deploying"}),t.jsx(Co,{className:"fill-[#DDDDE6]"})]})]})})})]})})]})}function ACe({onDeployClick:e,loading:n,localLoading:s,podIsPaused:r,creditsPerMonth:i=50}){return t.jsxs(fe.div,{className:"flex flex-col gap-10 p-10 rounded-xl border border-dashed border-white/20 bg-[#0F0F10]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("img",{src:kCe,alt:"Globe",className:"w-[40px] h-[40px] mb-6"}),t.jsx("h2",{className:"text-[18px] font-medium text-[#F2F5F7] mb-1 font-brockmann leading-7 tracking-[-0.36px]",children:"Deploy your mobile app"}),t.jsx("p",{className:"text-[14px] font-normal text-[#989EA0] font-['Inter'] leading-5",children:"Your app stays live and installable across devices after deployment"})]}),t.jsxs("div",{className:"relative flex pt-10 pb-4 px-6 items-start gap-6 rounded-[20px] border border-[#2A2A2C] bg-[#151819]",children:[t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-[6px] bg-[#151819] border border-[#252A2C] rounded-md",children:t.jsx("span",{className:"text-[12px] font-medium text-[#989EA0] font-brockmann tracking-[1.2px] uppercase leading-[20px]",children:"This enables"})}),t.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full",children:[t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"mb-3 p-2 rounded-[20px] bg-[#1E2224]",children:t.jsx(j8,{fill:"#80FFF9"})}),t.jsxs("span",{className:"text-[14px] font-medium text-[#989EA0] font-['Inter'] leading-5",children:["Permanent app",t.jsx("br",{}),"access on Expo Go"]})]}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"mb-3 p-2 rounded-[20px] bg-[#1E2224]",children:t.jsx(gf,{fill:"#80FFF9"})}),t.jsx("span",{className:"text-[14px] font-medium text-[#989EA0] font-['Inter'] leading-5",children:"iOS builds - Publish to App Store"})]}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"mb-3 p-2 rounded-[20px] bg-[#1E2224]",children:t.jsx(ECe,{fill:"#80FFF9"})}),t.jsx("span",{className:"text-[14px] font-medium text-[#989EA0] font-['Inter'] leading-5",children:"Android builds - Publish to Google Play Store"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx("div",{className:"text-center",children:t.jsxs("span",{className:"text-[15px] font-medium text-[#F3CA5F] font-['Inter'] leading-6",children:["Active deployment costs ",i," Credits/month"]})}),t.jsx("div",{className:"flex justify-center",children:t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{type:"button",onClick:e,className:"flex items-center justify-center gap-2 px-6 py-3 text-black bg-white rounded-[50px] hover:bg-white/90 disabled:opacity-50 transition-colors",style:{boxShadow:"0 0 20px 0 rgba(255, 255, 255, 0.15), 0 0 40px 0 rgba(255, 255, 255, 0.10)"},disabled:n||s||r,children:n||s?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{className:"text-[18px] font-semibold font-brockmann leading-6 tracking-[-0.18px]",children:"Loading..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-[18px] font-semibold font-brockmann leading-6 tracking-[-0.18px]",children:"Start Deployment"}),t.jsx("img",{src:Tz,alt:"Deploy",className:"w-4 h-4 md:w-6 md:h-6"})]})})}),t.jsxs(Ns,{className:k("bg-[#DDDDE6] text-black border-0",{hidden:!r}),children:[r&&t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:"Please wake up the agent before deploying"}),t.jsx(Co,{className:"fill-[#DDDDE6]"})]})]})})})]})]})}function DCe({deploymentSteps:e,currentStepIndex:n,deployStatus:s,latestRunStatus:r,stepNameMap:i,runningStepNameMap:a}){return t.jsx(fe.div,{className:"flex flex-col w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:t.jsx("div",{className:"w-full border border-[#242424] rounded-[20px] overflow-hidden",children:t.jsx(Kn,{mode:"wait",children:e.length>0?t.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.map((o,l)=>{const c=l===n;let u=!1;c&&(s==="running"||r==="running")&&(u=!0),o.status==="pending"&&(l===0&&(s==="running"||r==="running")&&e.every(x=>x.status==="pending")||l>0&&e[l-1].status==="success")&&(u=!0),o.status==="running"&&(u=!0);const p=o.status==="success",f=o.status==="failed",m=l===e.length-1;let h;return u?h=i[o.name]?.running||a[o.name]||o.name:h=i[o.name]?.[o.status]||o.name,t.jsx(et.Fragment,{children:t.jsx(fe.div,{className:k("relative bg-[#111112]",!m&&"border-b border-[#242424]"),initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{type:"spring",stiffness:500,damping:30,mass:1,delay:l*.15},layout:!0,children:u?t.jsx("div",{className:"p-1.5",children:t.jsxs("div",{className:"flex items-center justify-between px-[14px] py-[14px] rounded-[12px]",style:{background:"linear-gradient(211.6deg, rgba(128, 255, 249, 0.1) 3.37%, rgba(21, 136, 252, 0.1) 102.77%)"},children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:t.jsx(tn,{className:"w-5 h-5 animate-spin text-[#3df]"})}),t.jsx("span",{className:"text-[18px] font-normal font-mono leading-6",style:{background:"linear-gradient(234.4deg, #80FFF9 3.37%, #1588FC 102.77%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:h})]}),o.duration&&t.jsx("span",{className:"text-[16px] font-normal font-mono leading-6 text-white",children:o.duration})]})}):f?t.jsxs("div",{className:"flex items-center justify-between px-5 py-5 bg-[#FF3333]/5",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(lf,{className:"w-6 h-6 text-[#FF3333]"}),t.jsx("span",{className:"text-[18px] font-normal font-mono leading-6 text-[#FF3333]",children:h})]}),o.duration&&t.jsx("span",{className:"text-[16px] font-normal font-mono leading-6 text-[#FF3333]/50",children:o.duration})]}):p?t.jsxs("div",{className:"flex items-center justify-between px-5 py-5",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(xn,{className:"w-6 h-6 text-[#dddde6]",strokeWidth:2.5}),t.jsx("span",{className:"text-[18px] font-normal font-mono leading-6 text-[#dddde6]",children:h})]}),o.duration&&t.jsx("span",{className:"text-[16px] font-normal font-mono leading-6 text-white/20",children:o.duration})]}):t.jsxs("div",{className:"flex items-center justify-between px-5 py-5",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:t.jsx("div",{className:"w-4 h-4 rounded-full border-[#DDDDE6]/50 border-[1.5px]"})}),t.jsx("span",{className:"text-[18px] font-normal font-mono leading-6 text-[#737780]",children:h})]}),o.duration&&t.jsx("span",{className:"text-[16px] font-normal font-mono leading-6 text-white/20",children:o.duration})]})})},`step-${o.id}`)})},"deployment-steps-list"):null})})},"deployment-steps-container")}const MC=({barWidth:e=1,barGap:n=10,color:s="#FFF",width:r,height:i,className:a,opacity:o=1})=>{const l=d.useRef(null),c=d.useRef(null),[u,p]=d.useState({width:0,height:0}),f=d.useCallback((m,h,x,g)=>{m.clearRect(0,0,h,x),m.fillStyle="transparent",m.fillRect(0,0,h,x),m.strokeStyle=s,m.globalAlpha=o,m.lineWidth=e*g;const v=Math.sqrt(h*h+x*x),b=(e+n)*g,y=Math.ceil(v/b)*2;for(let w=0;w<y;w++){const _=w*b;m.beginPath();const N=_-v,j=0,C=_,S=v;m.moveTo(N,j),m.lineTo(C,S),m.stroke()}m.globalAlpha=1},[e,n,s,o]);return d.useEffect(()=>{const m=l.current,h=c.current;if(!m||!h)return;const x=m.getContext("2d");if(!x)return;const g=()=>{const b=window.devicePixelRatio||1,y=r||h.clientWidth,w=i||h.clientHeight;m.width=y*b,m.height=w*b,m.style.width=`${y}px`,m.style.height=`${w}px`,p({width:y,height:w}),f(x,m.width,m.height,b)};g();const v=new ResizeObserver(()=>{g()});return v.observe(h),()=>{v.disconnect()}},[f,r,i]),t.jsx("div",{ref:c,className:`w-full h-full ${a}`,children:t.jsx("canvas",{ref:l,className:"pointer-events-none",style:{width:u.width,height:u.height}})})},vA=K.common.timeRever,MCe=K.common.arrowDownBig,RCe=K.deployment.webDarkLink,p5=({deployStatus:e,currentActive:n,deployTime:s,deploymentLink:r,deploymentRun:i,onRollbackClick:a,inRollbackModal:o=!1,isRollbackTarget:l=!1,latestRunStatus:c=null,isExpoImage:u=!1,appName:p})=>{const f=i?.id?i.id.substring(0,7):"unknown",[m,h]=d.useState(!1),x=i?.rollback_possible??!0,g=e==="success"&&!n&&c!=="running"&&x,v={initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:30,mass:1}}},b={initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1,transition:{type:"spring",stiffness:500,damping:30}},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:20}},tap:{scale:.95}},y={initial:{opacity:0,scale:.9,x:10},animate:{opacity:1,scale:1,x:0,transition:{type:"spring",stiffness:500,damping:30}},exit:{opacity:0,scale:.9,x:10,transition:{duration:.2}}},w={initial:{rotate:0},hover:{rotate:10,transition:{type:"spring",stiffness:300,damping:10}}};return t.jsx(t.Fragment,{children:t.jsx(fe.div,{className:k("rounded-[12px] z-[10] relative flex items-center w-full justify-between backdrop-blur-[5px]",n&&!o?"p-3 md:p-4 md:py-4 bg-[linear-gradient(262deg,rgba(128,255,249,0.08)_2.73%,rgba(21,136,252,0.08)_121.11%)] md:max-h-[88px] border-[#80FFF9]/20 border-[1px]":o&&!l?" p-3 md:p-4 md:py-4 bg-[linear-gradient(262deg,rgba(128,255,249,0.08)_2.73%,rgba(21,136,252,0.08)_121.11%)] md:max-h-[80px] border-[#80FFF9]/50 border-[1px]":l?"p-3 md:p-5 md:py-4 bg-[#171718] md:max-h-[60px]":"md:rounded-[12px] pr-3 pl-4 py-4 bg-[#171718] md:max-h-[56px]"),variants:v,initial:"initial",animate:"animate",layout:!0,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:t.jsxs("div",{className:"flex flex-col items-start justify-between w-full gap-3 md:gap-0 md:items-center md:flex-row",children:[t.jsxs("div",{className:k("flex md:flex-row  items-center gap-2",n&&!o||o&&!l?"text-[#80FFF9]":"text-white"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Qc,{color:l?"#737780":o&&!l||n?"#2EE572":e==="failed"?"#ED5B5B":"#FFFFFF",size:16,innerSize:8,animate:o&&!l,className:""}),t.jsx("span",{className:k("font-medium font-['Inter']",e==="failed"&&"text-[#ED5B5B]",n&&"text-[#2EE572]"),children:e==="failed"?"Failed to Deploy":n?"Live":"Deployed"})]}),t.jsx("span",{className:"font-medium font-jetbrains opacity-50",children:f}),t.jsx("div",{className:k("h-[20px] w-[2px] ",n?"bg-[#80FFF920]":"bg-[#FFFFFF20]")}),t.jsx("span",{className:"font-medium font-['Inter'] text-sm text-nowrap opacity-50",children:s})]}),!o&&t.jsxs("div",{className:"flex items-center gap-4 group",children:[t.jsx(t.Fragment,{children:e==="success"&&n&&t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(fe.div,{onClick:()=>{u&&p?window.open(`${window.location.origin}/share?app=${encodeURIComponent(p)}`,"_blank"):r&&window.open(r,"_blank")},className:"flex items-center gap-8 max-h-[40px] rounded-full cursor-pointer bg-[#fff] pl-[14px] pr-[10px] py-[10px]",variants:b,initial:"initial",animate:"animate",whileHover:"hover",whileTap:"tap",children:[t.jsx("span",{className:"text-[#000] font-semibold",children:"Visit"}),t.jsx(fe.img,{src:RCe,alt:"Web",className:"w-6 h-6 grayscale-[100]"})]})})}),g&&t.jsxs(Kn,{children:[m&&t.jsx(t.Fragment,{children:t.jsxs(fe.div,{onClick:()=>a&&a(i?.id||""),className:"flex cursor-pointer items-center gap-4 rounded-full bg-[#FFFFFF08] hover:bg-[#ffffff10] pl-[14px] pr-[10px] py-[6px]",variants:y,initial:"initial",animate:"animate",exit:"exit",whileHover:"hover",whileTap:"tap",children:[t.jsx("span",{className:"text-[#FFFFFF] font-medium",children:"Rollback"}),t.jsx(fe.img,{src:vA,alt:"Web",className:"w-6 h-6"})]})}),t.jsxs(fe.div,{onClick:()=>a&&a(i?.id||""),className:"flex md:hidden cursor-pointer items-center gap-4 rounded-full bg-[#FFFFFF08] hover:bg-[#ffffff10] pl-[14px] pr-[10px] py-[6px]",variants:y,initial:"initial",animate:"animate",exit:"exit",whileHover:"hover",whileTap:"tap",children:[t.jsx("span",{className:"text-[#FFFFFF] font-medium",children:"Rollback"}),t.jsx(fe.img,{src:vA,alt:"Web",className:"w-6 h-6",variants:w,initial:"initial",whileHover:"hover"})]})]})]}),!l&&o&&t.jsxs("div",{className:"flex cursor-pointer items-center gap-3 px-3 py-2 rounded-full bg-[#2EE5721A]",children:[t.jsx(Qc,{color:"#2EE572",size:16,innerSize:8,animate:!1,className:""}),t.jsx("span",{className:"text-[#2EE572] font-semibold",children:"Current"})]}),l&&t.jsx("img",{src:MCe,alt:"Arrow",className:"absolute -top-[3rem] left-1/2 transform -translate-x-1/2 z-10 min-w-[56px] min-h-[56px]"}),l&&t.jsx("div",{className:"flex relative cursor-pointer items-center gap-3 px-3 py-2 rounded-full bg-[#FFFFFF0A]",children:t.jsx("span",{className:"font-semibold text-white",children:"Previous"})})]})})})},LCe=K.common.dustBin,PCe=K.common.arrowUploadReadyDark,OCe=({isLoading:e,isDeploying:n,podIsPaused:s,latestSuccessfulDeployment:r,onShutdown:i,onRedeploy:a,onDeploy:o,jobId:l,isBuildRunning:c})=>{const u=()=>{H(dr.DEPLOYMENT_FOOTER_SHUTDOWN_CLICKED,{jobId:l}),i()},p=()=>{r?(H(dr.DEPLOYMENT_FOOTER_REDEPLOY_CLICKED,{jobId:l}),a()):(H(dr.DEPLOYMENT_FOOTER_START_DEPLOYMENT_CLICKED,{jobId:l}),o())};return t.jsxs("div",{className:"flex items-center justify-end w-full gap-4",children:[t.jsx("button",{type:"button",onClick:u,className:"bg-[#272729] text-white hover:bg-[#272729]/80 rounded-full md:px-[20px] px-3 py-2 md:py-3 text-sm flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",disabled:e||n||c,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-[12px] md:text-[16px]",children:"Shut Down"}),t.jsx("img",{src:LCe,alt:"Dust Bin",className:"hidden w-6 h-6 md:block"})]})}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{children:t.jsx("button",{type:"button",onClick:p,className:"flex items-center gap-1 px-3 py-2 text-sm text-black bg-white rounded-full md:px-5 md:py-3 hover:bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed",disabled:e||n||s||c,children:e||n?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-6 h-6 mr-1 animate-spin"}),t.jsx("span",{children:"Loading..."})]}):t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-[12px] md:text-[16px]",children:r?"Re-Deploy":"Start Deployment"}),t.jsx("img",{src:PCe,alt:"Deploy",className:"hidden w-6 h-6 md:block"})]})})}),t.jsxs(Ns,{className:k("bg-[#DDDDE6] text-black border-0",!s&&!c?"hidden":""),children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:c?"Please wait for the build to complete":s?"Please wake up the agent before starting deployment":""}),t.jsx(Co,{className:"fill-[#DDDDE6]"})]})]})})]})},BCe="https://qr.emergent.host";function UCe(e){return`${BCe}/?app=${e}`}function Az(e,n={}){const{width:s=220,margin:r=0,darkColor:i="#FFFFFFCC",lightColor:a="#FFFFFF08"}=n,[o,l]=d.useState(""),[c,u]=d.useState(""),[p,f]=d.useState(!0),[m,h]=d.useState("");return d.useEffect(()=>{if(!e){f(!1);return}(async()=>{f(!0),h(""),u(""),l("");try{const g=await fetch(UCe(e));if(!g.ok)throw new Error("INVALID_APP_NAME");const{url:v}=await g.json();l(v);const b=await a5.toDataURL(v,{width:s,margin:r,color:{dark:i,light:a}});u(b)}catch(g){const v=g instanceof Error?g.message:String(g);h(v),jt(Zt.QR_CODE.EXPO_QR_GENERATION,g,{appName:e??void 0,errorMessage:v})}finally{f(!1)}})()},[e,s,r,i,a]),{qrDataUrl:c,expoUrl:o,isGenerating:p,error:m}}const Dz=({className:e="",style:n,onClick:s})=>t.jsx("div",{className:k("w-4 h-4 rounded-full bg-[#67CB65] flex items-center justify-center shrink-0",e),style:n,onClick:s,children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:[t.jsx("g",{clipPath:"url(#clip0_211_18365)",children:t.jsx("path",{d:"M9.36832 2.58789C9.53317 2.58789 9.6779 2.64845 9.79605 2.7666C9.91407 2.88465 9.97467 3.0287 9.97476 3.19336C9.97476 3.35822 9.91421 3.50294 9.79605 3.62109L5.19547 8.2207C5.078 8.33811 4.9361 8.40039 4.77457 8.40039C4.61324 8.40028 4.47199 8.33798 4.35464 8.2207L2.20425 6.07031C2.08552 5.95147 2.02638 5.80644 2.0314 5.64062C2.03639 5.47692 2.09952 5.33423 2.21695 5.2168C2.33508 5.0987 2.47891 5.03712 2.64371 5.03711C2.80851 5.03711 2.95233 5.09872 3.07047 5.2168H3.07144L4.77457 6.93262L8.94156 2.7666C9.05961 2.64855 9.20365 2.588 9.36832 2.58789Z",fill:"#060809",stroke:"#060809",strokeWidth:"0.2"})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_211_18365",children:t.jsx("rect",{width:"12",height:"12",fill:"white"})})})]})}),Mz=({color:e="#FF6666",fill:n,className:s="",style:r,onClick:i})=>{const a=n||e;return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:s,style:r,onClick:i,children:t.jsx("path",{d:"M10.0013 14.166C10.2374 14.166 10.4353 14.0862 10.5951 13.9264C10.7548 13.7667 10.8346 13.5688 10.8346 13.3327C10.8346 13.0966 10.7548 12.8987 10.5951 12.7389C10.4353 12.5792 10.2374 12.4993 10.0013 12.4993C9.76519 12.4993 9.56727 12.5792 9.40755 12.7389C9.24783 12.8987 9.16797 13.0966 9.16797 13.3327C9.16797 13.5688 9.24783 13.7667 9.40755 13.9264C9.56727 14.0862 9.76519 14.166 10.0013 14.166ZM9.16797 10.8327H10.8346V5.83268H9.16797V10.8327ZM10.0013 18.3327C8.84852 18.3327 7.76519 18.1139 6.7513 17.6764C5.73741 17.2389 4.85547 16.6452 4.10547 15.8952C3.35547 15.1452 2.76172 14.2632 2.32422 13.2493C1.88672 12.2355 1.66797 11.1521 1.66797 9.99935C1.66797 8.84657 1.88672 7.76324 2.32422 6.74935C2.76172 5.73546 3.35547 4.85352 4.10547 4.10352C4.85547 3.35352 5.73741 2.75977 6.7513 2.32227C7.76519 1.88477 8.84852 1.66602 10.0013 1.66602C11.1541 1.66602 12.2374 1.88477 13.2513 2.32227C14.2652 2.75977 15.1471 3.35352 15.8971 4.10352C16.6471 4.85352 17.2409 5.73546 17.6784 6.74935C18.1159 7.76324 18.3346 8.84657 18.3346 9.99935C18.3346 11.1521 18.1159 12.2355 17.6784 13.2493C17.2409 14.2632 16.6471 15.1452 15.8971 15.8952C15.1471 16.6452 14.2652 17.2389 13.2513 17.6764C12.2374 18.1139 11.1541 18.3327 10.0013 18.3327Z",fill:a})})},HCe={running:{bgColor:"bg-[#152229]",textColor:"text-[#5BC4E8]",hoverColor:"hover:text-[#7DD8F8]"},failed:{bgColor:"bg-[#FF666626]",textColor:"text-[#FF6B6B]",hoverColor:"hover:text-[#FF8A8A]"},ready:{bgColor:"bg-[rgba(103,203,101,0.1)]",textColor:"text-[rgba(103,203,101,0.8)]",hoverColor:"hover:text-[#7DD87B]",buttonTextColor:"text-[#67CB65]"}};function pp({status:e,message:n,onViewClick:s}){const r=HCe[e],i=()=>{switch(e){case"running":return t.jsx(tn,{className:k("w-4 h-4 animate-spin shrink-0",r.textColor)});case"failed":return t.jsx(Mz,{});case"ready":return t.jsx(Dz,{})}};return t.jsxs("div",{className:k("flex items-center justify-center sm:justify-start gap-2 px-3 sm:px-4 py-[6px] rounded-lg",r.bgColor),children:[i(),t.jsx("span",{className:k("text-[13px] sm:text-[14px] font-normal font-['Inter'] leading-5 text-center sm:text-left",r.textColor),children:n}),s&&e!=="running"&&t.jsx("button",{onClick:s,className:k("text-[13px] sm:text-[14px] font-medium font-['Inter'] leading-5 underline transition-colors",e==="ready"?r.buttonTextColor:r.textColor,r.hoverColor),children:"View"})]})}const zx=({deployStatus:e,onBackClick:n,onClose:s,latestRunningStatus:r,title:i,showBackButton:a=!1,icon:o,showCloseButton:l})=>{const c=e==="running"||r==="running"?"Deployment in progress...":"Deployments",u=l??!a;return t.jsxs("div",{"data-testid":gs.deploy.headerContainer,className:"px-3 md:px-6 md:pt-5 z-[49] sticky top-0 bg-[#111112] py-3 md:py-5 max-h-[69px] flex items-center justify-between border-b border-[#1F1F1F]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[a&&t.jsx("button",{"data-testid":gs.deploy.backButton,title:"Back",type:"button",onClick:n||s,className:"text-gray-400 hover:text-white",children:t.jsx(nc,{className:"w-5 h-5 md:w-6 md:h-6"})}),o,t.jsx("div",{className:"text-white font-medium text-[14px] md:text-[18px]",children:i||c})]}),u&&t.jsx(u5,{onClose:s,dataTestId:"deploy-panel-close-button"})]})},VCe=K.deployment.keyAlert,$Ce=()=>t.jsxs("div",{className:"w-full p-4 py-3 pb-5   rounded-tl-[12px] bg-[#f2994a]/[0.10] backdrop-blur-[40px] rounded-tr-[12px] flex items-center gap-2",children:[t.jsx("img",{src:VCe,alt:"Key Alert",className:"flex-shrink-0 w-6 h-6"}),t.jsx("span",{className:"text-[#E38F45] font-['Inter'] font-medium",children:"Env variables are not synced to Production. Please Re-Deploy to sync them."})]}),zCe=({children:e,className:n,showEnvWarning:s=!1})=>t.jsxs(t.Fragment,{children:[s&&t.jsx($Ce,{}),t.jsx("div",{className:k("p-3 md:p-5 md:px-5 sticky bottom-0 left-0 right-0 bg-[#111112] border-t border-[#242424] flex flex-col",n),style:{paddingBottom:"max(12px, env(safe-area-inset-bottom, 12px))"},children:t.jsx("div",{className:"flex items-center justify-between w-full gap-2",children:e})})]}),Rz=({size:e=20,color:n="#0F0F10",className:s=""})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("mask",{id:"mask0_694_46203",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:t.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_694_46203)",children:t.jsx("path",{d:"M10.0007 15.8333C10.9173 15.8333 11.702 15.5069 12.3548 14.8542C13.0076 14.2014 13.334 13.4167 13.334 12.5V9.16667C13.334 8.25 13.0076 7.46528 12.3548 6.8125C11.702 6.15972 10.9173 5.83333 10.0007 5.83333C9.08398 5.83333 8.29926 6.15972 7.64648 6.8125C6.99371 7.46528 6.66732 8.25 6.66732 9.16667V12.5C6.66732 13.4167 6.99371 14.2014 7.64648 14.8542C8.29926 15.5069 9.08398 15.8333 10.0007 15.8333ZM8.33398 13.3333H11.6673V11.6667H8.33398V13.3333ZM8.33398 10H11.6673V8.33333H8.33398V10ZM10.0007 17.5C9.09787 17.5 8.26107 17.2778 7.49023 16.8333C6.7194 16.3889 6.11176 15.7778 5.66732 15H3.33398V13.3333H5.08398C5.04232 13.0556 5.01801 12.7778 5.01107 12.5C5.00412 12.2222 5.00065 11.9444 5.00065 11.6667H3.33398V10H5.00065C5.00065 9.72222 5.00412 9.44444 5.01107 9.16667C5.01801 8.88889 5.04232 8.61111 5.08398 8.33333H3.33398V6.66667H5.66732C5.86176 6.34722 6.08051 6.04861 6.32357 5.77083C6.56662 5.49306 6.84787 5.25 7.16732 5.04167L5.83398 3.66667L7.00065 2.5L8.79232 4.29167C9.18121 4.16667 9.57704 4.10417 9.97982 4.10417C10.3826 4.10417 10.7784 4.16667 11.1673 4.29167L13.0007 2.5L14.1673 3.66667L12.7923 5.04167C13.1118 5.25 13.4 5.48958 13.6569 5.76042C13.9138 6.03125 14.1395 6.33333 14.334 6.66667H16.6673V8.33333H14.9173C14.959 8.61111 14.9833 8.88889 14.9902 9.16667C14.9972 9.44444 15.0007 9.72222 15.0007 10H16.6673V11.6667H15.0007C15.0007 11.9444 14.9972 12.2222 14.9902 12.5C14.9833 12.7778 14.959 13.0556 14.9173 13.3333H16.6673V15H14.334C13.8895 15.7778 13.2819 16.3889 12.5111 16.8333C11.7402 17.2778 10.9034 17.5 10.0007 17.5Z",fill:n})})]});Rz.propTypes={size:Qe.oneOfType([Qe.number,Qe.string]),color:Qe.string,className:Qe.string};const Lz=({size:e=20,color:n="#FFFFFF",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M9 13.4287C9.22733 13.4287 9.4457 13.5189 9.60645 13.6797C9.76715 13.8404 9.85742 14.0588 9.85742 14.2861C9.85739 14.5132 9.7669 14.7309 9.60645 14.8916C9.4457 15.0523 9.22733 15.1436 9 15.1436H3.85742C3.63009 15.1436 3.41172 15.0523 3.25098 14.8916C3.09044 14.7309 3.00004 14.5133 3 14.2861C3 14.0588 3.09023 13.8404 3.25098 13.6797C3.41172 13.519 3.63013 13.4287 3.85742 13.4287H9ZM14.1426 9.14355C14.3699 9.14355 14.5883 9.23379 14.749 9.39453C14.9096 9.55519 14.9999 9.77287 15 10C15 10.2273 14.9098 10.4457 14.749 10.6064C14.5883 10.7672 14.3699 10.8574 14.1426 10.8574H3.85742C3.63009 10.8574 3.41172 10.7672 3.25098 10.6064C3.09023 10.4457 3 10.2273 3 10C3.00007 9.77287 3.09043 9.55519 3.25098 9.39453C3.41172 9.23379 3.63009 9.14355 3.85742 9.14355H14.1426ZM14.1426 4.85742C14.3699 4.85742 14.5883 4.94765 14.749 5.1084C14.9098 5.26914 15 5.48752 15 5.71484C14.9999 5.94197 14.9096 6.15965 14.749 6.32031C14.5883 6.48106 14.3699 6.57129 14.1426 6.57129H3.85742C3.63009 6.57129 3.41172 6.48106 3.25098 6.32031C3.09043 6.15965 3.00007 5.94197 3 5.71484C3 5.48752 3.09023 5.26914 3.25098 5.1084C3.41172 4.94765 3.63009 4.85742 3.85742 4.85742H14.1426Z",fill:n})});Lz.propTypes={size:Qe.oneOfType([Qe.number,Qe.string]),color:Qe.string,className:Qe.string};function WCe({deployStatus:e,onLogsClick:n,onLiveLogsClick:s,onFixWithAgentClick:r,podIsPaused:i}){const a=()=>{e==="success"&&s?s():n&&n()};return t.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:30},className:"border border-[#FFFFFF1F] rounded-[12px] rounded-t-none border-t-0 p-4 bg-[#19191A]",children:t.jsxs("div",{className:"flex max-md:flex-col max-md:gap-2 justify-between md:items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-white text-base font-medium mb-1",children:e==="success"?"Noticing issues on your live app?":"We couldn't deploy your app"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Share logs with the agent to diagnose and fix it"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:a,className:"max-md:w-1/2 flex items-center max-md:justify-center gap-2 text-sm  px-3 py-[8px] bg-[#FFFFFF10] hover:bg-[#FFFFFF20] text-white rounded-lg transition-colors font-semibold",children:["Logs",t.jsx(Lz,{size:20,color:"#ffffff"})]}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsxs("button",{onClick:r,disabled:i,className:"max-md:w-1/2 flex items-center max-md:justify-center gap-2 text-sm  bg-white disabled:opacity-50 px-3 py-[8px]  text-black rounded-lg hover:bg-gray-100 transition-colors font-semibold disabled:cursor-not-allowed",children:["Fix with agent",t.jsx(Rz,{size:20,color:"#000000"})]})}),t.jsxs(Ns,{className:k("bg-[#DDDDE6] text-black border-0",i?"":"hidden"),children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:i?"Please wake up the agent before fixing":""}),t.jsx(Co,{className:"fill-[#DDDDE6]"})]})]})})]})]})})}function RC({error:e,defaultMessage:n}){return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(s3,{className:"w-5 h-5 text-[#7F8283] shrink-0"}),e?t.jsx("span",{className:"text-[14px] font-normal text-[#FF6666] font-['Inter'] leading-[20px]",children:e}):n?t.jsx("span",{className:"text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-[20px]",children:n}):null]})}function C3({onClick:e,disabled:n,isLoading:s,loadingText:r,onBack:i}){return t.jsxs("div",{className:k("flex",i?"justify-between":"justify-end"),children:[i&&t.jsxs("button",{type:"button",onClick:i,disabled:s,className:"flex items-center gap-2 text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px] hover:text-white transition-colors disabled:opacity-50",children:[t.jsx(nc,{className:"w-4 h-4"}),"Back"]}),t.jsx("button",{"data-testid":gs.deploy.continueButton,onClick:e,disabled:n,className:"flex items-center justify-center gap-2 h-12 px-6 rounded-[28px] bg-white hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-5 h-5 text-[#0E0E0F] animate-spin"}),t.jsx("span",{className:"text-[16px] font-semibold text-[#0E0E0F] font-brockmann leading-6 tracking-[-0.2px]",children:r})]}):t.jsx("span",{className:"text-[16px] font-semibold text-[#0E0E0F] font-brockmann leading-6 tracking-[-0.2px]",children:"Continue"})})]})}function LC({onClick:e,className:n}){return t.jsx("button",{type:"button",onClick:e,className:k("absolute top-5 right-5 p-1.5 rounded-2xl bg-[#2A2A2C] hover:bg-[#3A3A3C] transition-colors z-10",n),children:t.jsx(Ft,{className:"w-5 h-5 text-[#7F8283]"})})}function Pz({className:e}){return t.jsx("div",{className:k("w-full h-px bg-[#242424] sm:ml-10",e)})}function po({onClick:e,children:n,disabled:s,className:r,variant:i="outline",fullWidth:a}){return t.jsx("button",{onClick:s?void 0:e,disabled:s,className:k("flex items-center justify-center gap-1.5 h-10 px-4 py-1.5 rounded-[28px] transition-colors","disabled:opacity-50 disabled:cursor-not-allowed",i==="outline"&&["bg-white/[0.04] border border-[#242424]","hover:bg-white/[0.08] active:bg-white/[0.12]","disabled:hover:bg-white/[0.04]"],i==="filled"&&["bg-white/[0.08]","hover:bg-white/[0.12] active:bg-white/[0.16]","disabled:hover:bg-white/[0.08]"],a&&"w-full flex-1",r),children:n})}function fo({children:e,className:n}){return t.jsx("span",{className:k("text-[14px] font-medium text-white font-brockmann leading-5 tracking-[-0.28px]",n),children:e})}function Oz(e){return"id"in e?e.id:e.run_id}function bf(e){return"params"in e?e.params.app_version:e.app_version}function Bz(e){if("ipa_url"in e)return e.ipa_url}function Uz(e){if("ios_url"in e)return e.ios_url}function Hz(e){if("apk_url"in e)return e.apk_url}function Vz(e){if("aab_url"in e)return e.aab_url}function $z(e){return"ipa_url"in e||"ios_url"in e||"id"in e}function GCe(e){const n=Math.floor(e/60),s=e%60;return`${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}function zz(e){return new Date(e).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"2-digit",hour:"numeric",minute:"2-digit",hour12:!0}).replace(","," '").replace(",",",")}function f5(e){return/^\d+\.\d+\.\d+$/.test(e)}function qCe(e){const n=e.split(".");if(n.length!==3)return e;const[s,r,i]=n.map(Number);return isNaN(s)||isNaN(r)||isNaN(i)?e:`${s}.${r}.${i+1}`}function KCe(e,n){const s=e.split(".").map(Number),r=n.split(".").map(Number);for(let i=0;i<3;i++){if(s[i]<r[i])return-1;if(s[i]>r[i])return 1}return 0}function YCe(e,n){return!f5(e)||!n?null:KCe(e,n)<=0?`Version must be greater than ${n}`:null}function Wz(e){const n=e?.toLowerCase().replace(/[^a-z0-9_]/g,"")||"";return n?/^[a-z]/.test(n)?n:`app${n}`:""}function ZCe(e,n){return e?n==="ios"?/^[a-zA-Z][a-zA-Z0-9_-]*(\.[a-zA-Z][a-zA-Z0-9_-]*)+$/.test(e):/^[a-z][a-z0-9_]*(\.[a-z][a-z0-9_]*)+$/.test(e):!1}function JCe({children:e,className:n}){return t.jsx("div",{className:k("sm:hidden",n),children:e})}function wA({children:e,className:n}){return t.jsx("div",{className:k("hidden sm:flex",n),children:e})}function XCe({children:e,className:n}){return t.jsx("div",{className:k("flex sm:hidden",n),children:e})}function CA({isIOS:e,ipaUrl:n,iosUrl:s,apkUrl:r,aabUrl:i,onDownload:a,variant:o}){const l=o==="desktop";return e&&(n||s)?l?t.jsx("div",{className:"hidden sm:flex items-center gap-3",children:s?t.jsxs(po,{onClick:()=>a(s),children:[t.jsx(fo,{children:"View App"}),t.jsx(Uo,{className:"w-5 h-5 text-white"})]}):n&&t.jsxs(po,{onClick:()=>a(n),children:[t.jsx(fo,{children:"Download IPA"}),t.jsx(Ja,{className:"w-5 h-5 text-white"})]})}):t.jsx("div",{className:"flex sm:hidden items-center gap-2 w-full",children:s?t.jsxs(po,{onClick:()=>a(s),fullWidth:!0,className:"border-[#252A2C]",children:[t.jsx(fo,{className:"text-white/80",children:"View App"}),t.jsx(Uo,{className:"w-5 h-5 text-white"})]}):n&&t.jsxs(po,{onClick:()=>a(n),fullWidth:!0,className:"border-[#252A2C]",children:[t.jsx(fo,{className:"text-white/80",children:"Download IPA"}),t.jsx(Ja,{className:"w-5 h-5 text-white"})]})}):!e&&(r||i)?l?t.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[r&&t.jsxs(po,{onClick:()=>a(r),children:[t.jsx(fo,{children:"APK"}),t.jsx(Ja,{className:"w-5 h-5 text-white"})]}),i&&t.jsxs(po,{onClick:()=>a(i),children:[t.jsx(fo,{children:"AAB"}),t.jsx(Ja,{className:"w-5 h-5 text-white"})]})]}):t.jsxs("div",{className:"flex sm:hidden items-center gap-2 w-full",children:[r&&t.jsxs(po,{onClick:()=>a(r),fullWidth:!0,className:"border-[#252A2C]",children:[t.jsx(fo,{className:"text-white/80",children:"APK"}),t.jsx(Ja,{className:"w-5 h-5 text-white"})]}),i&&t.jsxs(po,{onClick:()=>a(i),fullWidth:!0,className:"border-[#252A2C]",children:[t.jsx(fo,{className:"text-white/80",children:"AAB"}),t.jsx(Ja,{className:"w-5 h-5 text-white"})]})]}):null}function _A({runId:e,isLoadingLogs:n,isFixingWithAgent:s,onViewLogs:r,onFixWithAgent:i,variant:a,hideAgentFix:o}){return a==="desktop"?t.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[t.jsxs(po,{onClick:()=>r(e,o),disabled:n,variant:"filled",children:[t.jsx(fo,{children:"Logs"}),n?t.jsx(tn,{className:"w-5 h-5 text-white animate-spin"}):t.jsx($S,{className:"w-5 h-5 text-white"})]}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("span",{className:k(o&&"cursor-not-allowed"),children:t.jsxs(po,{onClick:()=>i(e),disabled:s||o,variant:"filled",className:k(o&&"pointer-events-none"),children:[t.jsx(fo,{children:"Fix with agent"}),s?t.jsx(tn,{className:"w-5 h-5 text-white animate-spin"}):t.jsx(U2,{className:"w-5 h-5 text-white"})]})})}),o&&t.jsx(Ns,{children:"Contact support@emergent.sh for help."})]})})]}):t.jsxs("div",{className:"flex sm:hidden items-center gap-2",children:[t.jsxs(po,{onClick:()=>r(e,o),disabled:n,variant:"filled",fullWidth:!0,children:[t.jsx(fo,{children:"Logs"}),n?t.jsx(tn,{className:"w-5 h-5 text-white animate-spin"}):t.jsx($S,{className:"w-5 h-5 text-white"})]}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("span",{className:k("w-full",o&&"cursor-not-allowed"),children:t.jsxs(po,{onClick:()=>i(e),disabled:s||o,variant:"filled",fullWidth:!0,className:k(o&&"pointer-events-none opacity-50"),children:[t.jsx(fo,{children:"Fix with agent"}),s?t.jsx(tn,{className:"w-5 h-5 text-white animate-spin"}):t.jsx(U2,{className:"w-5 h-5 text-white"})]})})}),o&&t.jsx(Ns,{children:"Contact support@emergent.sh for help."})]})})]})}const oi=({isOpen:e,onClose:n,children:s,position:r="bottom",blurStrength:i="md",backgroundColor:a="rgba(15, 15, 16, 0.7)",className:o="",containerClassName:l="",backdropClassName:c="",showCloseButton:u=!1,closeOnOutsideClick:p=!0,animationDuration:f=.3,contained:m=!1})=>{const x={sm:"backdrop-blur-sm",md:"backdrop-blur-md",lg:"backdrop-blur-lg",xl:"backdrop-blur-xl","2xl":"backdrop-blur-2xl","3xl":"backdrop-blur-3xl"}[i]||"backdrop-blur-md",g={bottom:"items-end",center:"items-center",top:"items-start"},v=b=>{p&&b.target===b.currentTarget&&n&&n()};return t.jsx(Kn,{children:e&&t.jsxs(fe.div,{className:k(m?"absolute":"fixed",m?"top-0 left-0 right-0 bottom-0":"inset-0","z-[990] md:z-[99] flex justify-center",g[r],l),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:f},onClick:v,style:{backgroundColor:"transparent"},children:[t.jsx(fe.div,{className:k("absolute inset-0 pointer-events-none",x,c),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:f},style:{backgroundColor:a}}),t.jsx(fe.div,{className:k("relative z-10 w-full max-w-full",r==="bottom"&&"mb-0",r==="top"&&"mt-0",o),initial:{opacity:0,y:r==="bottom"?50:r==="top"?-50:0,scale:r==="center"?.95:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:r==="bottom"?50:r==="top"?-50:0,scale:r==="center"?.95:1},transition:{duration:f},children:s})]})})};function QCe({isOpen:e,onConfirm:n,onCancel:s,platform:r}){const i=r==="ios",a=i?"Bundle Identifier":"Package Name",o=i?"bundle IDs":"package names",l=i?"App Store":"Play Store";return t.jsx(oi,{isOpen:e,onClose:s,position:"bottom",blurStrength:"sm",backgroundColor:"rgba(15, 15, 16, 0.8)",contained:!0,className:"w-full max-w-none",children:t.jsxs("div",{"data-testid":gs.deploy.bundleIdConfirmModal,className:"w-full bg-[#18181A] border border-white/10 rounded-2xl overflow-hidden",children:[t.jsxs("div",{className:"flex items-start gap-6 justify-end p-6",children:[t.jsxs("div",{className:"flex-1 flex flex-col gap-3 min-w-0",children:[t.jsx("div",{className:"size-16 rounded-[32px] p-3 bg-[rgba(243,202,95,0.08)] flex items-center justify-center",children:t.jsx(zme,{className:"w-7 h-7 text-[#F3CA5F]"})}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("h3",{className:"text-[18px] leading-7 tracking-[-0.36px] text-white font-brockmann font-medium",children:["Are you sure you want to change your ",a,"?"]}),t.jsxs("p",{className:"text-[16px] leading-6 text-white/65 font-['Inter']",children:["Custom ",o," may cause ",l," rejection if the format is invalid or conflicts with an existing app"]})]})]}),t.jsx("button",{type:"button","aria-label":"Close confirmation",onClick:s,className:"shrink-0 rounded-2xl bg-white/[0.04] backdrop-blur-[20px] p-[6.4px] text-white/50 hover:text-white/70 transition-colors",children:t.jsx(Ft,{className:"w-[19.2px] h-[19.2px]"})})]}),t.jsx("div",{className:"border-t border-white/10 p-6 flex items-center justify-end",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:s,"data-testid":gs.deploy.bundleIdCancelButton,className:"h-12 px-6 rounded-[28px] bg-[#222224] text-[#DCDCE5] hover:bg-[#2A2A2D] transition-colors text-[16px] leading-6 font-brockmann font-medium",children:"Go back"}),t.jsx("button",{onClick:n,"data-testid":gs.deploy.bundleIdConfirmButton,className:"h-12 px-6 rounded-[28px] bg-[#E6E6E6] text-[#0E0E0F] hover:bg-[#F0F0F0] transition-colors text-[16px] leading-6 tracking-[-0.2px] font-brockmann font-semibold",children:"Confirm & change"})]})})]})})}function jA({qrDataUrl:e,isGenerating:n,error:s,appName:r}){return t.jsxs("div",{className:"flex flex-col items-center border border-[#252A2C] rounded-[8px] gap-1 shrink-0",children:[t.jsx("div",{className:"bg-[#060809] rounded-lg w-[120px] h-[120px] flex items-center justify-center",children:n?t.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."}):s?t.jsx("div",{className:"text-gray-500 text-xs text-center px-2",children:"Failed to load"}):e?t.jsx("img",{src:e,alt:"Expo QR Code",className:"w-[112px] h-[112px]"}):null}),r&&t.jsxs("a",{href:`${window.location.origin}/share?app=${encodeURIComponent(r)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-[7px] py-[7px] bg-[#1E2224] rounded text-[12px] font-normal text-[#F2F5F7] font-['Inter'] leading-[18px] transition-colors",children:["Share expo app",t.jsx(Uo,{className:"w-4 h-4"})]})]})}function Wx({platform:e,buildCount:n,onClick:s,layout:r}){const i=e==="ios",a=i?gf:Uh,o=n>0?`${i?"iOS":"Android"} builds`:`Get ${i?"iOS":"Android"} builds`;return t.jsxs("button",{onClick:s,className:k("flex items-center gap-2 h-10 px-4 py-1.5 bg-white/[0.08] rounded-[28px] hover:bg-white/[0.12] active:bg-white/[0.16] transition-colors",r==="mobile"?"justify-center gap-1.5 w-full":"justify-start"),children:[t.jsx(a,{className:k("w-5",i?"h-5":"h-[11px]"),color:"#EFF0F1"}),t.jsx("span",{className:"text-[14px] font-semibold text-[#EFF0F1] font-brockmann leading-5 tracking-[-0.28px]",children:o}),n>0&&t.jsx("span",{className:"flex items-center justify-center w-5 h-5 bg-white rounded-full text-[12px] font-semibold text-[#0E0E0F] font-['Inter']",children:n})]})}function e_e({deploymentHistory:e,appName:n,onAndroidBuildsClick:s,onIOSBuildsClick:r,iosBuildData:i,androidBuildData:a}){const o=i?.successfulBuilds?.length||0,l=a?.successfulBuilds?.length||0,c=i?.latestBuild?.latest_run?.status,u=i?.isBuilding||c==="running",p=c==="failed",f=c==="success",m=i?.successfulBuilds?.[0]?bf(i.successfulBuilds[0]):void 0,h=a?.latestBuild?.latest_run?.status,x=a?.isBuilding||h==="running"||h==="queued"||h==="pending",g=h==="failed",v=h==="success",b=a?.successfulBuilds?.[0]?bf(a.successfulBuilds[0]):void 0,y=S=>{H(cs.GET_BUILD_CLICK,{build_type:S})},{qrDataUrl:w,isGenerating:_,error:N}=Az(n),C=(()=>{const S=e.filter(I=>I.status==="success");if(S.length===0)return null;const F=S[S.length-1];return new Date(F.updated_at).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})})();return t.jsxs(fe.div,{className:"flex flex-col gap-4 sm:gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsxs("div",{className:"flex flex-col gap-1 px-4 sm:px-6 py-3 sm:py-4",children:[t.jsx("h2",{className:"text-[20px] sm:text-[24px] font-medium text-white font-brockmann leading-7 sm:leading-8 tracking-[-0.48px]",children:"Your app is live!"}),C&&t.jsxs("p",{className:"text-[13px] sm:text-[14px] font-normal text-[#7f8283] font-['Inter'] leading-5",children:["Since ",C]})]}),t.jsxs("div",{className:"relative rounded-[20px] bg-[#151819] border border-[#252A2C] overflow-hidden py-3 px-4 pr-3 sm:pl-4 sm:pr-3",children:[t.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:t.jsx(MC,{opacity:.03,barGap:10})}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center sm:gap-6 sm:mb-3",children:[t.jsxs("div",{className:"flex flex-row gap-3 sm:flex-col sm:gap-9 sm:py-2 sm:order-1",children:[t.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0 sm:flex-none",children:[t.jsx("p",{className:"text-[12px] font-medium text-[#989EA0] font-brockmann leading-5 tracking-[1.2px] uppercase",children:"Manage distribution"}),t.jsx("p",{className:"text-[14px] font-normal text-[#989EA0] font-['Inter'] leading-5",children:"Access your app on Expo Go and prepare it for Android and iOS distribution"})]}),t.jsx(JCe,{children:t.jsx(jA,{qrDataUrl:w,isGenerating:_,error:N,appName:n})}),t.jsxs(wA,{className:"flex-row gap-4",children:[t.jsx(Wx,{platform:"ios",buildCount:o,onClick:()=>{y("iOS"),r?.()},layout:"desktop"}),t.jsx(Wx,{platform:"android",buildCount:l,onClick:()=>{y("Android"),s?.()},layout:"desktop"})]})]}),t.jsx(wA,{className:"flex-col items-center sm:order-2",children:t.jsx(jA,{qrDataUrl:w,isGenerating:_,error:N,appName:n})}),t.jsxs(XCe,{className:"flex-col gap-2 mt-2",children:[t.jsx(Wx,{platform:"ios",buildCount:o,onClick:()=>{y("iOS"),r?.()},layout:"mobile"}),t.jsx(Wx,{platform:"android",buildCount:l,onClick:()=>{y("Android"),s?.()},layout:"mobile"})]})]}),t.jsxs("div",{className:"flex flex-col gap-2 mt-2 sm:mt-0",children:[u&&t.jsx(pp,{status:"running",message:"iOS build generation is in progress"}),p&&!u&&t.jsx(pp,{status:"failed",message:"iOS build generation failed",onViewClick:r}),f&&!u&&!p&&t.jsx(pp,{status:"ready",message:m?`iOS version ${m} is ready to download`:"iOS build is ready to download",onViewClick:r}),x&&t.jsx(pp,{status:"running",message:"Android build generation is in progress"}),g&&!x&&t.jsx(pp,{status:"failed",message:"Android build generation failed",onViewClick:s}),v&&!x&&!g&&t.jsx(pp,{status:"ready",message:b?`Android version ${b} is ready to download`:"Android build is ready to download",onViewClick:s})]})]})]},"deployment-history")}const t_e=K.deployment.replace,n_e=K.deployment.replaceGrey,s_e=({availableDeployments:e,podIsPaused:n,onReplaceClick:s,jobId:r})=>{const i=()=>{H(dr.REPLACE_DEPLOYMENT_CLICKED,{jobId:r,availableDeploymentsCount:e?.length}),s()};return t.jsx(fe.div,{className:"",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:t.jsxs("div",{className:"bg-[#0F0F10] p-4 border border-[#242424] rounded-[12px] flex flex-col gap-4 md:gap-[24px]",children:[t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("span",{className:"text-[#FFFFFFCC] text-[14px] md:text-base font-medium font-['Inter']",children:[t.jsx("img",{src:n_e,alt:"Replace",className:"inline-block w-6 h-6 mr-2"}),"Replace Existing Deployment"]}),t.jsxs("div",{className:"flex items-center gap-2 bg-[#2EE5721A] rounded-[8px] p-[6px] pr-[12px]",children:[t.jsx(Qc,{color:"#2EE572",size:16,innerSize:8,animate:!0,className:""}),t.jsxs("span",{className:"text-[#2EE572] text-nowrap font-medium text-[12px] md:text-[14px] font-['Inter']",children:[e?.length," Live Apps"]})]})]}),t.jsx("span",{className:"text-[#737780] text-[13px] md:text-base font-['Inter']",children:"Update one of your current deployments with a new application. Your existing app will be replaced and there'll be no additional charges."})]}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{children:t.jsxs("button",{type:"button",title:"Replace Existing Deployment",className:"bg-[#80FFF914] w-full flex items-center justify-center gap-2 p-3 rounded-[10px]",onClick:i,disabled:n,children:[t.jsx("span",{className:"text-[#80FFF9] text-[14px] md:text-base",children:"Replace Deployment"}),t.jsx("img",{src:t_e,alt:"Replace",className:"w-5 h-5 md:w-6 md:h-6"})]})}),t.jsxs(Ns,{className:k("bg-[#DDDDE6] text-black border-0",n?"":"hidden"),children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:n?"Please wake up the agent before replacing deployment":""}),t.jsx(Co,{className:"fill-[#DDDDE6]"})]})]})})]})})},Gz=({className:e="w-6 h-6",color:n="#DCDCE5"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[t.jsx("mask",{id:"mask0_arrow_upload",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_arrow_upload)",children:t.jsx("path",{d:"M4.5599 18.0474C3.9519 17.3274 3.4639 16.5354 3.0959 15.6714C2.7279 14.8074 2.4959 13.9034 2.3999 12.9594H4.3679C4.4639 13.6474 4.6399 14.3074 4.8959 14.9394C5.1519 15.5714 5.4879 16.1594 5.9039 16.7034L4.5599 18.0474ZM2.3999 11.0394C2.5279 10.0954 2.7679 9.19145 3.1199 8.32745C3.4719 7.46345 3.9519 6.67145 4.5599 5.95145L5.9039 7.29545C5.4879 7.83945 5.1519 8.42745 4.8959 9.05945C4.6399 9.69145 4.4639 10.3514 4.3679 11.0394H2.3999ZM10.9919 21.5514C10.0479 21.4554 9.1479 21.2274 8.2919 20.8674C7.4359 20.5074 6.6399 20.0314 5.9039 19.4394L7.2479 18.0474C7.8079 18.4634 8.3999 18.8074 9.0239 19.0794C9.6479 19.3514 10.3039 19.5354 10.9919 19.6314V21.5514ZM7.2959 5.95145L5.9039 4.55945C6.6559 3.96745 7.4639 3.49145 8.3279 3.13145C9.1919 2.77145 10.0959 2.54345 11.0399 2.44745V4.36745C10.3519 4.46345 9.6919 4.64745 9.0599 4.91945C8.4279 5.19145 7.8399 5.53545 7.2959 5.95145ZM12.9119 21.5514V19.6314C13.6159 19.5354 14.2839 19.3554 14.9159 19.0914C15.5479 18.8274 16.1439 18.4794 16.7039 18.0474L18.0959 19.4394C17.3439 20.0474 16.5319 20.5274 15.6599 20.8794C14.7879 21.2314 13.8719 21.4554 12.9119 21.5514ZM16.7519 5.95145C16.1919 5.53545 15.5919 5.19145 14.9519 4.91945C14.3119 4.64745 13.6479 4.46345 12.9599 4.36745V2.44745C13.9039 2.54345 14.8119 2.77145 15.6839 3.13145C16.5559 3.49145 17.3599 3.96745 18.0959 4.55945L16.7519 5.95145ZM19.4399 18.0474L18.0959 16.7034C18.5119 16.1594 18.8479 15.5714 19.1039 14.9394C19.3599 14.3074 19.5359 13.6474 19.6319 12.9594H21.5999C21.4719 13.9034 21.2319 14.8074 20.8799 15.6714C20.5279 16.5354 20.0479 17.3274 19.4399 18.0474ZM19.6319 11.0394C19.5359 10.3514 19.3599 9.69145 19.1039 9.05945C18.8479 8.42745 18.5119 7.83945 18.0959 7.29545L19.4399 5.95145C20.0479 6.67145 20.5359 7.46345 20.9039 8.32745C21.2719 9.19145 21.5039 10.0954 21.5999 11.0394H19.6319ZM11.0639 16.7994V10.8714L8.5679 13.3674L7.2239 11.9994L12.0239 7.19945L16.8239 11.9994L15.4559 13.3434L12.9839 10.8714V16.7994H11.0639Z",fill:n})})]}),PC=e=>{if(!e)return"";if(e.custom_domain)return e.custom_domain;if(e.deployUrl)try{return new URL(e.deployUrl).hostname}catch{return e.deployUrl}return""},yf=e=>{if(!e)return"";if(e.custom_domain){const n=e.custom_domain;return n.startsWith("http://")||n.startsWith("https://")?n:`https://${n}`}return e.deployUrl||""},r_e=K.deployment.replaceBlack,i_e=K.deployment.globeGlow,a_e=({availableDeployments:e,selectedDeployment:n,podIsPaused:s,onReplaceClick:r,onChangeAppClick:i,onNewDeploymentClick:a,jobId:o,newDeploymentCredits:l=50})=>{const c=n||e[0],u=e.length,p=c?PC(c):"",f=c?.deployStatus==="success"||c?.latest_run?.status==="success",{openJobTab:m}=DC(),h=()=>{H($i.REPLACE_DEPLOYMENT_CLICKED,{jobId:o,availableDeploymentsCount:u,selectedDeploymentId:c?.id}),r()},x=()=>{H($i.CHANGE_APP_CLICKED,{jobId:o,availableDeploymentsCount:u}),i()},g=()=>{H($i.NEW_DEPLOYMENT_CLICKED,{jobId:o}),a()},v=()=>{H($i.CARD_EXTERNAL_LINK_CLICKED,{jobId:o,deploymentId:c?.id,appName:c?.app_name,url:yf(c)});const y=yf(c);y&&window.open(y,"_blank","noopener,noreferrer")},b=()=>{H($i.CARD_JOB_TITLE_CLICKED,{jobId:o,deploymentId:c?.id,appName:c?.app_name}),c?.id&&m(c.id)};return t.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:t.jsxs("div",{className:"relative overflow-hidden bg-[#0F0F10] border border-dashed border-[#242424] rounded-[16px]",children:[t.jsx("div",{className:"absolute inset-0 opacity-[0.03]",children:t.jsx(MC,{barWidth:1,barGap:8,color:"#FFF"})}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[t.jsxs("div",{className:"w-full flex flex-col items-center gap-6 p-5",children:[t.jsx("img",{src:i_e,alt:"Globe",className:"w-12 h-12"}),t.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[t.jsxs("h3",{className:"text-white font-['Brockmann'] font-medium text-[18px] leading-[26px] tracking-[-0.36px]",children:["You have ",u," live app",u!==1?"s":""," related to this task"]}),t.jsx("p",{className:"text-[#7F8283] text-[14px] leading-[20px]",children:"Do you want to replace them with what you've built here? No additional credits."})]}),c&&t.jsxs("div",{className:"relative w-full flex flex-col items-center justify-center",children:[t.jsx("div",{className:k("relative z-[2] w-[320px] rounded-[12px] border border-[#272728] px-4 py-3 overflow-hidden hover:border-[#3A3A3C] transition-colors",u>1&&"mb-[-40px]"),style:{background:"linear-gradient(180deg, #0F0F10 1.5%, #212123 98.5%)"},children:t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{onClick:b,className:"flex items-center gap-1 cursor-pointer hover:opacity-80 transition-opacity",children:[t.jsx("span",{className:"text-white font-medium text-[16px] leading-[24px] capitalize",children:c.app_name}),t.jsx(KU,{className:"w-5 h-5 text-white/70"})]}),f&&t.jsxs("div",{className:"flex items-center -mr-1.5 gap-1.5 px-2 py-0.5 rounded-[12px] bg-[rgba(46,229,114,0.04)]",children:[t.jsx(Qc,{color:"#2EE572",size:12,innerSize:6,animate:!1}),t.jsx("span",{className:"text-[#2EE572] text-[14px] font-['Brockmann'] font-medium leading-[20px]",children:"Live"})]})]}),p&&t.jsx("button",{onClick:v,className:"text-[rgba(255,255,255,0.6)] hover:text-white text-[14px] font-medium leading-[20px] underline truncate max-w-[230px] cursor-pointer transition-colors text-left",children:p})]})}),u>1&&t.jsx("button",{onClick:x,className:"relative z-[1] w-[288px] h-[70px] rounded-[12px] border border-[#272728] overflow-hidden flex items-end justify-center pb-1.5 cursor-pointer hover:border-[#3A3A3C] transition-colors",style:{background:"linear-gradient(180deg, #0F0F10 1.5%, #212123 98.5%)"},children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-[#989EA0] text-[14px] font-medium leading-[20px]",children:"Change app"}),t.jsx(Ur,{className:"w-4 h-4 text-[#989EA0] mt-0.5"})]})})]}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("div",{className:"relative rounded-[30px] p-[1px]",style:{background:`
                        linear-gradient(170deg, #77F5F9 0%, transparent 50%),
                        linear-gradient(315deg, #77F5F9 0%, transparent 10%),
                        rgba(255,255,255,0.12)
                      `},children:t.jsx("div",{className:"bg-[#0F0F10] rounded-[29px] p-1",children:t.jsxs("button",{type:"button",onClick:h,disabled:s||!c,className:k("relative flex items-center justify-center gap-2 py-2 px-6 rounded-[27px] transition-all bg-white hover:bg-gray-100 shadow-[0px_469px_131px_0px_rgba(255,255,255,0),0px_300px_120px_0px_rgba(255,255,255,0.03),0px_169px_101px_0px_rgba(255,255,255,0.1),0px_70px_70px_0px_rgba(255,255,255,0.1),0px_20px_40px_0px_rgba(255,255,255,0.1)]",(s||!c)&&"opacity-50 cursor-not-allowed"),children:[t.jsx("span",{className:"text-black font-['Brockmann'] font-semibold text-[18px] leading-[24px] tracking-[-0.18px]",children:"Replace deployment"}),t.jsx("img",{src:r_e,alt:"Replace",className:"w-6 h-6"})]})})})}),s&&t.jsxs(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:[t.jsx("span",{className:"text-[12px] font-['Inter']",children:"Please wake up the agent before replacing deployment"}),t.jsx(Co,{className:"fill-[#DDDDE6]"})]})]})})]}),t.jsxs("div",{className:"w-full flex items-center gap-3 px-0",children:[t.jsx("div",{className:"flex-1 border-t border-dashed border-[#2A2A2C]"}),t.jsx("span",{className:"text-[#4A4A4C] text-[12px] font-medium",children:"OR"}),t.jsx("div",{className:"flex-1 border-t border-dashed border-[#2A2A2C]"})]}),t.jsxs("div",{className:"w-full flex flex-col items-center gap-4 p-5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-white font-['Brockmann'] font-medium text-[14px] leading-[20px] tracking-[-0.28px]",children:"Deploy as a new app"}),t.jsx("div",{className:"bg-[rgba(243,202,95,0.24)] px-3 py-0.5 rounded-[12px]",children:t.jsxs("span",{className:"font-['Inter'] font-medium text-[12px] leading-[18px] whitespace-nowrap bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(180deg, #FFFFFF 0%, #000000 100%), linear-gradient(0deg, #F3CA5F, #F3CA5F)",backgroundBlendMode:"overlay, normal",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:[l," Credits"]})})]}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsxs("button",{type:"button",onClick:g,disabled:s,className:k("flex items-center justify-center gap-2 h-12 px-5 rounded-[24px] transition-all bg-[#222224] hover:bg-[#2A2A2C]",s&&"opacity-50 cursor-not-allowed"),children:[t.jsx("span",{className:"text-[#DCDCE5] font-['Brockmann'] font-medium text-[16px] leading-[24px] whitespace-nowrap",children:"Start new deployment"}),t.jsx(Gz,{className:"w-6 h-6"})]})}),s&&t.jsxs(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:[t.jsx("span",{className:"text-[12px] font-['Inter']",children:"Please wake up the agent before deploying"}),t.jsx(Co,{className:"fill-[#DDDDE6]"})]})]})})]})]})]})})},o_e=K.common.captivePortal,l_e=K.icons.animatedSpinner,c_e=e=>e==="running"?{bgColor:"#1588FC20",color:"#33DDFF",text:"Deploying",animate:!0}:e==="success"?{bgColor:"#2EE57220",color:"#2EE572",text:"Live",animate:!0}:e==="failed"?{bgColor:"#ffffff10",color:"#ED5B5B",text:"Failed",animate:!1}:{bgColor:"#73778020",color:"#737780",text:"Unknown",animate:!1};function d_e({deployment:e,index:n,hoveredCard:s,onHoverStart:r,onHoverEnd:i,onClick:a,fromRedeployModal:o=!1,allowHover:l=!0}){const c=e.deployStatus,u=c_e(c),p=e.deployUrl,f=e.id.substring(0,6),m=new Date(e.latest_run.updated_at),h=m!=null?`deployed ${sV(m)}`:"Unknown";return t.jsx(fe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},whileHover:l?{y:-4,boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.2)",transition:{type:"tween",ease:"easeInOut",duration:.3}}:{},transition:{type:"tween",ease:"easeInOut",duration:.2,delay:n*.1},onHoverStart:()=>r(e.id),onHoverEnd:i,onClick:()=>a(e),children:t.jsxs("div",{className:k("rounded-[16px] overflow-clip p-5 gap-5 bg-[#18181A] border h-full flex flex-col justify-between cursor-pointer transition-all duration-200",s===e.id?"border-[#FFFFFF20] shadow-lg":"border-[#FFFFFF0F]",o?"bg-[#161617]":"cursor-pointer "),children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:k("text-[14px]  md:text-[16px] font-medium font-brockmann transition-colors duration-200 capitalize",s===e.id?"text-white/95":"text-white/80"),children:e.app_name}),t.jsxs("div",{className:"flex items-center gap-[6px] px-[8px] py-[2px] rounded-[8px] transition-all duration-200 bg-[#2EE5720A]",children:[c!="running"&&t.jsx(Qc,{color:c!="failed"?u.color:"#ffffff60",size:16,innerSize:8,animate:u.animate}),c==="running"&&t.jsx("img",{src:l_e,alt:"Loading...",className:"w-6 h-6"}),t.jsx("span",{className:"text-[14px] font-medium transition-colors duration-200",style:{color:c!="failed"?u.color:"#ffffff60",opacity:s===e.id?1:.9},children:u.text})]})]}),t.jsx("div",{className:k("text-[12px] md:text-[14px]  font-['Inter'] font-medium transition-colors duration-200 truncate line-clamp-2",s===e.id?"text-white/40":"text-white/20"),children:e.description})]}),c!="failed"&&t.jsxs("a",{href:rV({status:c,deployment:e,deployUrl:p}),target:"_blank",rel:"noopener noreferrer",className:k("flex w-full p-1 px-[10px] pl-[14px] max-h-[40px] max-w-[100px] items-center justify-center gap-2  rounded-[10px] transition-all duration-200",s===e.id&&c!=="running"?"bg-[#FFFFFF15]":"bg-[#FFFFFF0F]",s===e.id&&c!=="running"?"hover:bg-[#ffffff20]":"hover:bg-[#3A3A3C]",c==="running"&&"opacity-30 cursor-not-allowed hover:bg-[#FFFFFF0F]"),onClick:x=>x.stopPropagation(),children:[t.jsx("span",{className:k("transition-colors duration-200",s===e.id?"text-white/90":"text-white/70"),children:"Visit"}),t.jsx("img",{src:o_e,alt:"Visit",className:"w-4 h-4"})]})]}),t.jsxs("div",{className:"flex justify-between font-['Inter'] font-medium text-[12px]  md:text-[14px] text-[#FFFFFF33]",children:[t.jsxs("span",{className:"font-['Inter']",children:["Last ",h]}),t.jsxs("span",{className:"font-['Inter']",children:["# EMT-",f]})]})]})},e.id)}function u_e({deploymentHistory:e,jobId:n,handleDeploy:s,runId:r,deployUrl:i,customDomain:a,latestRunStatus:o,agentStatus:l,onRollbackClick:c,formatTimeAgo:u,handleLogsClick:p,handleLiveLogsClick:f,handleFixWithAgent:m,loadDeployLogs:h,isExpoImage:x=!1,appName:g,podIsPaused:v}){const{toast:b}=ns(),y=async N=>{if(h)try{await h(N)}catch{}};d.useEffect(()=>{n&&y(n)},[n]);const w=()=>a&&a.status==="verified"?a.domain.startsWith("http://")||a.domain.startsWith("https://")?a.domain:`https://${a.domain}`:i||"",_=N=>{if(l==="running"){b({title:"Agent is Running",description:"Please wait for agent to finish or stop it manually before rolling back",variant:"destructive",duration:2e3});return}c(N)};return t.jsx(ms,{children:t.jsxs(fe.div,{className:"relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsx("div",{className:"max-h-[240px] relative z-[5] flex flex-col gap-8 overflow-y-auto overflow-clip border border-[#FFFFFF1F] rounded-[12px] rounded-b-none border-b-0",children:t.jsx(Kn,{mode:"wait",children:e&&e.length>0?t.jsxs(fe.div,{className:"flex relative flex-col gap-4 md:gap-[6px] z-[10] p-2 md:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[t.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:t.jsx(MC,{opacity:.03,barGap:10})}),e.map((N,j)=>t.jsxs(t.Fragment,{children:[t.jsx(fe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:400,damping:30,delay:j*.1},className:"z-[10]",children:t.jsx(p5,{jobId:n,handleDeploy:s,deployStatus:N.status,currentActive:N.id===r&&N.status==="success",deployTime:u(N.updated_at),deploymentLink:w(),deploymentRun:N,latestRunStatus:o,isExpoImage:x,appName:g,onRollbackClick:_})},`history-${N.id}`),j<e.length-1&&t.jsx("div",{className:" w-[3px] ml-[24px] hidden md:block md:h-[16px] dotted-spaced  border-[#FFFFFF20] border-dashed -bottom-[24px] border-l-[2px] left-[28px]"})]}))]},"history-list"):t.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.jsx("div",{className:"py-4 text-center text-gray-400",children:"No deployment history available"})},"no-history")})}),t.jsx(WCe,{deployStatus:e[0]?.status,onLogsClick:p,onLiveLogsClick:f,onFixWithAgentClick:m,podIsPaused:v})]},"deployment-history")})}const p_e=K.icons.copyWhite,f_e=K.deployment.article,m_e=K.deployment.dangerous,h_e=K.deployment.dangerousActive,x_e=K.deployment.warningInactive,g_e=K.deployment.warningActive,b_e={info:"text-[#EDEDED] bg-[#EDEDED00] hover:bg-[#EDEDED26]",warning:"text-[#E38F45] bg-[#E38F4526] hover:bg-[#E38F454D]",error:"text-[#FF6666] bg-[#FF666626] hover:bg-[#FF66664D]"},y_e=[],NA=[{name:"All Logs",icon:"",activeIcon:"",type:"all"},{name:"Error Logs",icon:m_e,activeIcon:h_e,type:"error"},{name:"Warning Logs",icon:x_e,activeIcon:g_e,type:"warning"}];function qz({isOpen:e,onClose:n,onShareLogs:s,jobId:r,deployStatus:i,deployLogs:a=[],hideAgentFix:o=!1}){const[l,c]=d.useState(NA[0]),[u,p]=d.useState(!1),{toast:f}=ns(),m=a.map(g=>{let v="info";const b=g.toLowerCase();return b.includes("error")||b.includes("failed")||b.includes("exception")||b.includes("fatal")||b.includes("critical")?v="error":(b.includes("warn")||b.includes("warning")||b.includes("deprecated")||b.includes("skipping"))&&(v="warning"),{timestamp:"",type:v,message:g}}),h=()=>{H(i==="success"?"deploy_live_share_with_agent_clicked":"deploy_failure_share_with_agent_clicked",{jobId:r,deployStatus:i}),x.length>0&&s(x.filter(g=>l.type==="all"||g.type===l.type).map(g=>g.message))},x=m.length>0?m:y_e;return e?t.jsx("div",{className:"absolute inset-0 z-[49] top-0 bottom-0 bg-[#0F0F10] flex pt-[69px] w-full",children:t.jsxs("div",{className:"flex flex-col flex-1 w-full",children:[t.jsxs("div",{className:"flex h-[36px] w-full justify-between border border-t-0 border-[#242424]",children:[t.jsx("div",{className:"flex h-[36px]",children:NA.map(g=>{const v=g.type==="all"?x.length:x.filter(b=>b.type===g.type).length;return t.jsxs("div",{onClick:()=>c(g),className:k("h-[36px] px-6 py-2 flex items-center justify-center cursor-pointer gap-1  border-[#242424] border-t-0 border-b-0 border-r",l.name===g.name?"bg-[#FFFFFF] text-[#131314]":""),children:[g.icon&&t.jsx("img",{src:l===g?g.activeIcon:g.icon,alt:g.name,className:"w-5 h-5 max-md:hidden"}),t.jsxs("span",{className:k("text-[#131314] font-['Inter'] max-md:text-[10px] text-[13px] font-semibold",l.name===g.name?"text-[#131314]":"text-[#FFFFFF50]"),children:[g.name,t.jsxs("span",{className:"font-['Inter'] max-md:hidden",children:["(",v,")"]})]})]},g.name)})}),t.jsxs("div",{onClick:n,className:"bg-[#242424] h-full px-6 py-2 gap-1 flex items-center justify-center cursor-pointer",children:[t.jsx(Ft,{className:"w-5 h-5 p-[1px]"}),t.jsx("span",{className:"text-[#FFFFFF] font-['Inter'] text-[13px] font-semibold ",children:"Close"})]})]}),t.jsx("div",{className:"flex-1 w-full h-full pt-2 overflow-x-scroll overflow-y-scroll md:pt-5 hide-scrollbars",children:x.length===0?t.jsx("div",{className:"flex items-center justify-center h-full text-[#FFFFFF] text-center",children:t.jsxs("div",{children:[t.jsx("div",{className:"mb-2 text-lg",children:"No logs available"}),t.jsx("div",{className:"text-sm text-[#06050550]",children:"Logs will appear here when the build process starts"})]})}):t.jsx("div",{className:"min-w-max",children:x.filter(g=>l.type==="all"||g.type===l.type).map((g,v)=>t.jsx("div",{className:k("flex h-[36px] w-full px-6 py-2 items-center min-w-max",b_e[g.type]),children:t.jsx("span",{className:"font-jetbrains text-[12px]  md:text-[14px] whitespace-nowrap",children:g.message})},v))})}),a.length>0&&t.jsxs("div",{className:" bg-[#09090A] p-6 flex justify-end gap-4 border-t border-[#242424]",children:[t.jsx("button",{type:"button",title:"Copy",disabled:x.length===0,onClick:async()=>{if(x.length>0)try{const g=x.filter(v=>l.type==="all"||v.type===l.type).map(v=>v.message).join(`
`);await navigator.clipboard.writeText(g),p(!0),setTimeout(()=>p(!1),2e3)}catch{f({title:"Error Copying Logs",description:"Failed to copy logs. Please try again.",variant:"destructive",duration:3e3})}},className:k("p-2 md:p-3 md:pr-4 md:pl-5 max-md:text-[12px] rounded-full flex items-center gap-2 tracking-[-0.2px] font-semibold transition-colors",x.length===0?"bg-[#E6E6E610] text-[#E6E6E650] cursor-not-allowed":"bg-[#E6E6E61A] text-[#E6E6E6] hover:bg-[#E6E6E620] cursor-pointer"),children:u?t.jsxs(t.Fragment,{children:["Copied! ",t.jsx(xn,{className:"w-6 h-6"})]}):t.jsxs(t.Fragment,{children:["Copy"," ",t.jsx("img",{src:p_e,alt:"Copy",className:k("max-md:w-4 max-md:h-4 w-6 h-6",x.length===0&&"opacity-50")})]})}),t.jsxs("button",{type:"button",title:"Share Logs with Agent",disabled:x.length===0||o,onClick:h,className:k("p-2 md:p-3 md:pr-4 md:pl-5 max-md:text-[12px] rounded-full flex items-center font-semibold gap-2 tracking-[-0.2px]",x.length===0||o?"bg-[#E6E6E650] text-[#0E0E0F50] cursor-not-allowed":"bg-[#E6E6E6] text-[#0E0E0F] hover:bg-[#E6E6E690] cursor-pointer"),children:["Share Logs with Agent"," ",t.jsx("img",{src:f_e,alt:"Copy",className:k("max-md:w-4 max-md:h-4 w-6 h-6",x.length===0&&"opacity-50")})]})]})]})}):null}function v_e(e){return[...e].filter(n=>n.status!=="running"&&n.status!=="pending"&&n.status!=="queued").sort((n,s)=>new Date(s.created_at).getTime()-new Date(n.created_at).getTime())}function w_e(e){if(e.length===0)return[];const n=e.findIndex(s=>s.status!=="failed");return n===-1?e:[...e.slice(0,n+1),...e.slice(n+1).filter(s=>s.status!=="failed")]}function C_e(e){const n=v_e(e);return w_e(n)}function __e({builds:e,onDownload:n,isLoadingLogs:s,isFixingWithAgent:r,onViewLogs:i,onFixWithAgent:a,onBuildClick:o}){if(e.length===0)return null;const l=C_e(e);if(l.length===0)return null;const c=u=>p=>{(p.key==="Enter"||p.key===" ")&&o?.(u)};return t.jsxs("div",{className:"-mx-4 sm:mx-0 sm:bg-[#18181A] sm:border sm:border-[#242424] rounded-none sm:rounded-[20px] overflow-hidden",children:[t.jsx("div",{className:"sm:hidden px-4 border-b border-[#242424] mb-3 pt-3 pb-2 font-brockmann font-medium text-[12px] text-[#989EA0] leading-5 tracking-[1.2px] uppercase",children:"Build History"}),l.map((u,p)=>{const f=Oz(u),m=p===0,h=p===l.length-1,x=f.substring(0,7),g=u.status==="failed",v=Bz(u),b=Uz(u),y=Hz(u),w=Vz(u),_=$z(u);return t.jsxs("div",{className:k("px-4 sm:px-6 sm:py-4",!h&&"sm:border-b sm:border-[#242424]",!m&&!g&&"sm:cursor-default cursor-pointer"),onClick:!m&&!g&&o?()=>o(u):void 0,role:!m&&!g?"button":void 0,tabIndex:!m&&!g?0:void 0,onKeyDown:!m&&!g&&o?c(u):void 0,children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-5 h-5 flex items-center justify-center shrink-0",children:g?t.jsx(Mz,{}):t.jsx(Dz,{})}),t.jsxs("div",{className:"flex flex-col gap-0.5 flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("span",{className:"text-[16px] font-normal text-white/80 font-mono leading-6",children:g?"Failed to generate build":`Version ${bf(u)}`}),!m&&!g&&t.jsx(Bo,{className:"sm:hidden w-5 h-5 text-white"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-5",children:[t.jsx("span",{children:zz(u.created_at)}),t.jsx("span",{children:""}),t.jsx("span",{children:x})]})]}),!g&&t.jsx("div",{onClick:N=>N.stopPropagation(),children:t.jsx(CA,{isIOS:_,ipaUrl:v,iosUrl:b,apkUrl:y,aabUrl:w,onDownload:n,variant:"desktop"})}),g&&m&&t.jsx(_A,{runId:f,isLoadingLogs:s,isFixingWithAgent:r,onViewLogs:i,onFixWithAgent:a,variant:"desktop",hideAgentFix:u.hide_agent_fix})]}),!g&&m&&t.jsx("div",{onClick:N=>N.stopPropagation(),children:t.jsx(CA,{isIOS:_,ipaUrl:v,iosUrl:b,apkUrl:y,aabUrl:w,onDownload:n,variant:"mobile"})}),g&&m&&t.jsx(_A,{runId:f,isLoadingLogs:s,isFixingWithAgent:r,onViewLogs:i,onFixWithAgent:a,variant:"mobile",hideAgentFix:u.hide_agent_fix})]}),t.jsx("div",{className:k("sm:hidden w-full h-[1px] bg-[#24242499] my-5",h&&"mb-0")})]},f)})]})}function j_e({isOpen:e,onOpenChange:n,build:s,onDownload:r}){if(!s)return null;const i=Bz(s),a=Uz(s),o=Hz(s),l=Vz(s),u=Oz(s).substring(0,7),p=$z(s);return t.jsx(Bf,{open:e,onOpenChange:n,children:t.jsx(a3,{className:"focus:outline-none",children:t.jsxs("div",{className:"bg-[#18181A] border border-[#242424] rounded-t-[24px] w-full pb-2 overflow-hidden",children:[t.jsxs("div",{className:"relative border-b border-[#242424] h-[72px] flex items-center justify-center",children:[t.jsx("div",{className:"absolute top-[7px] left-1/2 -translate-x-1/2 w-[44px] h-1 bg-[#252525] rounded-full"}),t.jsxs("p",{className:"font-brockmann font-medium text-[18px] text-white leading-6",children:["Version ",bf(s)]}),t.jsx("button",{onClick:()=>n(!1),className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center justify-center w-8 h-8 bg-white/5 rounded-full hover:bg-white/10 transition-colors",children:t.jsx(Ft,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"flex flex-col gap-5 p-4",children:[t.jsxs("div",{className:"flex flex-col gap-3 font-['Inter'] font-medium text-[14px]",children:[t.jsxs("div",{className:"flex items-center gap-3 h-7",children:[t.jsx("span",{className:"w-[160px] text-[#7B7B80] leading-5",children:"Created on"}),t.jsx("span",{className:"flex-1 text-[#E6E6E6] text-right leading-5",children:zz(s.created_at)})]}),t.jsxs("div",{className:"flex items-center gap-3 h-7",children:[t.jsx("span",{className:"w-[160px] text-[#E4EEFF]/50 leading-5",children:"Run id"}),t.jsx("span",{className:"flex-1 text-[#E6E6E6] text-right leading-5",children:u})]})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[p&&(a||i)&&t.jsxs("button",{onClick:()=>{r(a||i),n(!1)},className:"flex items-center justify-center gap-1 h-10 px-4 py-1.5 bg-white/[0.04] border border-[#242424] rounded-[28px] hover:bg-white/[0.08] active:bg-white/[0.12] transition-colors w-full",children:[t.jsx("span",{className:"text-[14px] font-medium text-white/80 font-brockmann leading-5 tracking-[-0.28px]",children:a?"View App":"Download IPA"}),a?t.jsx(Uo,{className:"w-5 h-5 text-white"}):t.jsx(Ja,{className:"w-5 h-5 text-white"})]}),!p&&o&&t.jsxs("button",{onClick:()=>{r(o),n(!1)},className:"flex items-center justify-center gap-1 h-10 px-4 py-1.5 bg-white/[0.04] border border-[#242424] rounded-[28px] hover:bg-white/[0.08] active:bg-white/[0.12] transition-colors w-full",children:[t.jsx("span",{className:"text-[14px] font-medium text-white/80 font-brockmann leading-5 tracking-[-0.28px]",children:"Download APK"}),t.jsx(Ja,{className:"w-5 h-5 text-white"})]}),!p&&l&&t.jsxs("button",{onClick:()=>{r(l),n(!1)},className:"flex items-center justify-center gap-1 h-10 px-4 py-1.5 bg-white/[0.04] border border-[#242424] rounded-[28px] hover:bg-white/[0.08] active:bg-white/[0.12] transition-colors w-full",children:[t.jsx("span",{className:"text-[14px] font-medium text-white/80 font-brockmann leading-5 tracking-[-0.28px]",children:"Download AAB"}),t.jsx(Ja,{className:"w-5 h-5 text-white"})]})]}),!p&&t.jsxs("div",{className:"text-center font-['Inter'] text-[13px] text-[#7F8283] leading-[17px]",children:[t.jsx("p",{children:"APK is for testing on devices."}),t.jsx("p",{children:"AAB is required for Play Store submission."})]})]})]})})})}const N_e={ios:{title:"Confirm details for your iOS build",storeName:"App Store",bundleIdLabel:"iOS Bundle Identifier",bundleIdDescription:"Unique ID for your app on the App Store",iconSize:1024,iconSizeText:"1024x1024",iconRequirements:"Required. PNG format, 1024x1024 pixels"},android:{title:"Confirm details for your Android build",storeName:"Play Store",bundleIdLabel:"Android Package Name",bundleIdDescription:"Unique ID for your app on the Play Store",iconSize:512,iconSizeText:"512x512",iconRequirements:"Required. PNG format, 512x512 pixels, max 1MB"}},F_e={ios:{emptyState:{title:"Create App-store ready iOS builds",description:"Build your iOS app and view it on TestFlight.",mobileDescription:"Not available on mobile. Open app.emergent.sh on desktop to create App Store-ready iOS builds.",buttonText:"Generate new build",mobileButtonText:"Okay, got it",trackingEvent:cs.IOS_BUILDS_SCREEN_OPENED,actionTrackingEvent:cs.IOS_BUILDS_CREATE_CLICKED},downloadTrackingEvent:cs.IOS_BUILD_DOWNLOAD_CLICKED},android:{emptyState:{title:"Create Play Store-ready Android builds",description:"Generate an APK file to install your app on devices or submit it to the Play Store.",mobileDescription:"Not available on mobile. Open app.emergent.sh on desktop to create Play Store-ready Android builds.",buttonText:"Generate new build",mobileButtonText:"Okay, got it",trackingEvent:cs.ANDROID_BUILDS_SCREEN_OPENED,actionTrackingEvent:cs.ANDROID_BUILDS_OK_CLICKED},publishStepsButtonText:"Steps to publish your Android app",downloadTrackingEvent:cs.ANDROID_BUILD_DOWNLOAD_CLICKED}};function Kz({platform:e,appName:n,onAppNameChange:s,appIcon:r,onAppIconChange:i,appIconError:a,appIconUrl:o,isAppDetailsLocked:l,versionName:c,onVersionNameChange:u,bundleIdentifier:p,isEditingBundleId:f,onBundleIdEditToggle:m,onBundleIdChange:h,userId:x,isValid:g,isLoading:v,isLoadingConfig:b,error:y,onContinue:w,versionError:_,bundleIdError:N,canEditBundleId:j=!0}){const C=d.useRef(null),S=N_e[e],F=n.length>0&&n.trim().length<2,[E,I]=d.useState(!1),[T,A]=d.useState(!1),[D,O]=d.useState(p||""),[M,L]=d.useState(!1);d.useEffect(()=>{O(p||"")},[p]),d.useEffect(()=>{f||(I(!1),A(!1))},[p,f]);const P=!!_||c&&!f5(c),B=_||(c&&!f5(c)?"Please use semantic versioning format (e.g., 1.0.0)":null),G=!!N,$=d.useMemo(()=>r?URL.createObjectURL(r):null,[r]);d.useEffect(()=>()=>{$&&URL.revokeObjectURL($)},[$]);const te=$||o,U=!!te,oe=()=>{C.current?.click()},Y=()=>{H(cs.BUNDLE_ID_CHANGE_CONFIRMED,{user_id:x,bundle_id:p,platform:e}),A(!1),I(!1),m?.(!1),M&&(L(!1),w())},W=()=>{H(cs.BUNDLE_ID_CHANGE_DISMISSED,{user_id:x,bundle_id:p,platform:e}),A(!1),I(!0),m?.(!0),L(!1)},Z=()=>{if(f){L(!0),A(!0);return}w()},le=q=>{const Q=q.target.files?.[0];Q&&i(Q),q.target.value=""};return t.jsxs(fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"flex flex-col gap-10",children:[t.jsx("div",{className:"flex flex-col gap-1 pr-16",children:t.jsx("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-[28px] tracking-[-0.36px]",children:S.title})}),t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"App name"}),t.jsx("input",{type:"text",value:n,onChange:q=>s(q.target.value),placeholder:"My App",disabled:l,className:k("w-full px-3 py-2.5 bg-transparent border rounded-xl text-[14px] font-medium font-['Inter'] leading-[20px] placeholder:text-[#898C8E] focus:outline-none transition-colors",l?"text-[#7F8283] cursor-not-allowed":"text-white",F?"border-[#FF6666] focus:border-[#FF6666]":"border-white/[0.12] focus:border-white/30")}),F?t.jsx("p",{className:"text-[12px] font-normal text-[#FF6666] font-['Inter'] leading-[20px]",children:"App name must be at least 2 characters"}):t.jsxs("p",{className:"text-[12px] font-normal text-white/60 font-['Inter'] leading-[20px]",children:["The name that will appear on the ",S.storeName]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"App icon"}),l?U&&t.jsx("div",{className:"relative w-16 h-16 rounded-xl overflow-hidden border border-white/[0.12]",children:t.jsx("img",{src:te,alt:"App icon preview",className:"w-full h-full object-cover"})}):t.jsxs(t.Fragment,{children:[t.jsx("input",{ref:C,type:"file",accept:"image/png",onChange:le,className:"hidden"}),U?t.jsxs("button",{type:"button",onClick:oe,className:"flex items-center gap-3 w-full",children:[t.jsx("div",{className:"relative w-16 h-16 rounded-xl overflow-hidden border border-white/[0.12]",children:t.jsx("img",{src:te,alt:"App icon preview",className:"w-full h-full object-cover"})}),t.jsx("span",{className:"text-[12px] text-white/60 font-['Inter'] leading-[20px] underline hover:text-white/80 transition-colors",children:"Change"})]}):t.jsxs("button",{type:"button",onClick:oe,className:"w-full px-3 py-4 bg-transparent border border-dashed border-white/[0.12] rounded-xl flex items-center justify-center gap-2 hover:border-white/30 transition-colors",children:[t.jsx(Gme,{className:"w-5 h-5 text-[#898C8E]"}),t.jsxs("span",{className:"text-[14px] text-[#898C8E] font-medium font-['Inter'] leading-[20px]",children:["Upload icon (",S.iconSizeText," PNG)"]})]}),a?t.jsx("p",{className:"text-[12px] font-normal text-[#FF6666] font-['Inter'] leading-[20px]",children:a}):t.jsx("p",{className:"text-[12px] font-normal text-white/60 font-['Inter'] leading-[20px]",children:S.iconRequirements})]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"Version name"}),t.jsx("input",{type:"text",value:c,onChange:q=>u(q.target.value),placeholder:"1.0.0",className:k("w-full px-3 py-2.5 bg-transparent border rounded-xl text-[14px] text-white font-medium font-['Inter'] leading-[20px] placeholder:text-[#898C8E] focus:outline-none transition-colors",P?"border-[#FF6666] focus:border-[#FF6666]":"border-white/[0.12] focus:border-white/30")}),P?t.jsx("p",{className:"text-[12px] font-normal text-[#FF6666] font-['Inter'] leading-[20px]",children:B}):t.jsx("p",{className:"text-[12px] font-normal text-white/60 font-['Inter'] leading-[20px]",children:"Version names must be unique and increase with each release"})]}),(p||f)&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:S.bundleIdLabel}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:D,onChange:q=>{O(q.target.value),h?.(q.target.value)},disabled:!f,"data-testid":gs.deploy.bundleIdInput,className:k("w-full px-3 py-2.5 pr-10 bg-transparent border rounded-xl text-[14px] font-medium font-['Inter'] leading-[20px] focus:outline-none transition-colors",f?G?"border-[#FF6666] focus:border-[#FF6666] text-white":"border-white/30 text-white":"border-white/[0.12] text-[#7F8283] cursor-not-allowed")}),j&&t.jsx("button",{type:"button","data-testid":gs.deploy.bundleIdEditButton,disabled:f&&!!N,onClick:()=>{m&&(f?A(!0):(H(cs.BUNDLE_ID_EDIT_CLICKED,{user_id:x,bundle_id:p,platform:e}),m(!0),I(!0)))},className:k("absolute right-3 top-1/2 -translate-y-1/2 transition-colors",f&&N?"text-white/20 cursor-not-allowed":"text-white/40 hover:text-white/60"),children:f?t.jsx(xn,{className:"w-4 h-4"}):t.jsx(Lme,{className:"w-4 h-4"})})]}),E&&f&&!G&&t.jsxs("p",{className:"text-[12px] font-normal text-yellow-500 font-['Inter'] leading-[20px]",children:[" Custom ",e==="ios"?"bundle IDs":"package names"," may cause"," ",e==="ios"?"App Store":"Play Store"," rejection if format is invalid"]}),G&&t.jsx("p",{className:"text-[12px] font-normal text-[#FF6666] font-['Inter'] leading-[20px]",children:N}),t.jsx("p",{className:"text-[12px] font-normal text-white/60 font-['Inter'] leading-[20px]",children:S.bundleIdDescription})]})]}),y&&t.jsx(RC,{error:y}),!T&&t.jsx(C3,{onClick:Z,disabled:!g||v||!!b,isLoading:v||!!b,loadingText:b?"Loading...":"Saving..."}),t.jsx(QCe,{isOpen:T,onConfirm:Y,onCancel:W,platform:e})]},"build-details")}function E_e({onClick:e,disabled:n,disabledTooltip:s,unpublishedChangesCount:r}){const i=()=>r===void 0||r===0?"App is ready to build":r===1?"1 unpublished change":`${r} unpublished changes`;return t.jsx("div",{className:"bg-[#1E2224] border border-[#252A2C] rounded-[20px] px-4 sm:px-6 py-3",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[t.jsx("span",{className:"font-['JetBrains Mono'] text-[13px] sm:text-[16px] font-normal text-white font-mono leading-5 sm:leading-6",children:i()}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{onClick:n?void 0:e,disabled:n,className:"flex items-center justify-center px-4 py-[6px] h-9 sm:h-10 bg-white/[0.08] rounded-[28px] hover:bg-white/[0.12] active:bg-white/[0.16] transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white/[0.08] shrink-0 self-start sm:self-auto",children:t.jsx("span",{className:"text-[13px] sm:text-[14px] font-semibold text-white font-brockmann leading-5 tracking-[-0.28px] whitespace-nowrap",children:"Generate new build"})})}),n&&t.jsxs(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:s||"Wake agent up to initiate a new build"}),t.jsx(Co,{className:"fill-[#DDDDE6]"})]})]})})]})})}function S_e({elapsedTime:e,platform:n}){return t.jsx("div",{className:"bg-[#1A1A1C] border border-[#242424] rounded-[20px] px-4 sm:px-6 py-3 sm:py-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[t.jsx("div",{className:"w-5 h-5 flex items-center justify-center shrink-0",children:t.jsx(tn,{className:"w-5 h-5 animate-spin text-[#3df]"})}),t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsx("span",{className:"text-[14px] sm:text-[16px] font-normal text-white font-mono leading-5 sm:leading-6",children:"Generating a new build"}),t.jsxs("span",{className:"text-[13px] sm:text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-5",children:["This can take up to ",n==="android"?"20-30":"10-15"," mins"]})]})]}),t.jsx("span",{className:"text-[14px] sm:text-[16px] font-normal text-white font-mono leading-5 sm:leading-6 pl-8 sm:pl-0",children:GCe(e)})]})})}const k_e={requiredSize:1024},I_e={requiredSize:512,maxFileSize:1024*1024};function T_e(e,n){return new Promise(s=>{if(e.type!=="image/png"){s({isValid:!1,error:"App icon must be a PNG image"});return}if(n.maxFileSize&&e.size>n.maxFileSize){const i=n.maxFileSize/1048576;s({isValid:!1,error:`File size must be less than ${i}MB`});return}const r=new Image;r.onload=()=>{if(URL.revokeObjectURL(r.src),r.width!==n.requiredSize||r.height!==n.requiredSize){s({isValid:!1,error:`Image must be exactly ${n.requiredSize}x${n.requiredSize} pixels`});return}s({isValid:!0,error:null})},r.onerror=()=>{URL.revokeObjectURL(r.src),s({isValid:!1,error:"Failed to load image"})},r.src=URL.createObjectURL(e)})}function A_e(e){const[n,s]=d.useState(null),[r,i]=d.useState(null),a=d.useRef(0),o=d.useCallback(async u=>{if(i(null),!u){s(null);return}const p=++a.current,f=await T_e(u,e);p===a.current&&(f.isValid?(s(u),i(null)):(s(null),i(f.error)))},[e]),l=d.useCallback(()=>{s(null),i(null)},[]),c=d.useCallback(()=>{i(null)},[]);return{appIcon:n,appIconError:r,handleAppIconChange:o,clearIcon:l,clearIconError:c}}const D_e={ios:k_e,android:I_e};function Yz({platform:e,isOpen:n,jobId:s,defaultBundleIdentifier:r="",onConfigLoaded:i}){const a=D_e[e],{appIcon:o,appIconError:l,handleAppIconChange:c,clearIcon:u,clearIconError:p}=A_e(a),[f,m]=d.useState(""),[h,x]=d.useState(null),[g,v]=d.useState(null),[b,y]=d.useState("1.0.0"),[w,_]=d.useState(null),[N,j]=d.useState(null),[C,S]=d.useState(!1),F=d.useRef(null),E=d.useRef(!1),[I,T]=d.useState(!1),[A,D]=d.useState(!1),O=o!==null||h!==null,M=o!==null||g!==null,L=f5(b),P=YCe(b,w),B=N??r,G=B.trim()?ZCe(B,e)?null:e==="ios"?"Invalid bundle ID format (e.g., com.company.app)":"Invalid package name format (e.g., com.company.app)":null,$=G,te=B.trim()!==""&&!G,U=f.trim().length>=2&&M&&b.trim()!==""&&L&&!P&&te;d.useEffect(()=>{E.current=C},[C]),d.useEffect(()=>{F.current===null&&B&&(F.current=B)},[B]);const oe=d.useCallback(W=>{j(W)},[]),Y=d.useCallback(()=>{m(""),u(),p(),x(null),v(null),y("1.0.0"),_(null),j(null),T(!1),S(!1),F.current=null,E.current=!1},[u,p]);return d.useEffect(()=>{n||Y()},[n,Y]),d.useEffect(()=>{n&&s&&(async()=>{D(!0);try{const Z=await vt.getExpoBuildConfig(s,e);if(Z){Z.app_name&&m(Z.app_name),Z.app_logo_url&&x(Z.app_logo_url),Z.app_logo_id&&v(Z.app_logo_id),Z.version&&(_(Z.version),y(qCe(Z.version)));const le=e==="ios"?Z.bundle_identifier:Z.package_name;le&&!E.current&&(j(le),F.current===null&&(F.current=le)),Z.app_name&&Z.app_logo_url&&T(!0),i?.({appName:Z.app_name||null,appLogoUrl:Z.app_logo_url||null,appLogoId:Z.app_logo_id||null,version:Z.version||null,bundleIdentifier:le||null})}}catch{T(!1)}finally{D(!1)}})()},[n,s,e,i]),{appName:f,setAppName:m,appIcon:o,appIconError:l,handleAppIconChange:c,appIconUrl:h,appIconId:g,versionName:b,setVersionName:y,versionError:P,bundleIdentifier:B,originalBundleIdentifier:F.current,isEditingBundleId:C,setIsEditingBundleId:S,handleBundleIdentifierChange:oe,bundleIdError:$,isAppDetailsLocked:I,isLoadingConfig:A,isBuildDetailsValid:U,hasValidIcon:O,resetForm:Y}}function M_e({isOpen:e,jobId:n,packageName:s=""}){const r=Yz({platform:"android",isOpen:e,jobId:n,defaultBundleIdentifier:s}),i=()=>({appName:r.appName.trim(),appIcon:r.appIcon,appIconId:r.appIcon?null:r.appIconId,versionName:r.versionName.trim(),packageName:r.bundleIdentifier,originalPackageName:r.originalBundleIdentifier});return{appName:r.appName,setAppName:r.setAppName,appIcon:r.appIcon,appIconError:r.appIconError,handleAppIconChange:r.handleAppIconChange,appIconUrl:r.appIconUrl,appIconId:r.appIconId,versionName:r.versionName,setVersionName:r.setVersionName,versionError:r.versionError,packageName:r.bundleIdentifier,originalPackageName:r.originalBundleIdentifier,isEditingPackageName:r.isEditingBundleId,onPackageNameEditToggle:r.setIsEditingBundleId,onPackageNameChange:r.handleBundleIdentifierChange,packageNameError:r.bundleIdError,isAppDetailsLocked:r.isAppDetailsLocked,isLoadingConfig:r.isLoadingConfig,isBuildDetailsValid:r.isBuildDetailsValid,getFormData:i}}function R_e({isOpen:e,onClose:n,onBuildSubmit:s,isLoading:r=!1,error:i,jobId:a,packageName:o,onClearError:l,successfulBuildsCount:c=0}){const{user:u}=os(),{appName:p,setAppName:f,appIcon:m,handleAppIconChange:h,appIconError:x,appIconUrl:g,versionName:v,setVersionName:b,versionError:y,packageName:w,isEditingPackageName:_,onPackageNameEditToggle:N,onPackageNameChange:j,packageNameError:C,isAppDetailsLocked:S,isLoadingConfig:F,isBuildDetailsValid:E,getFormData:I}=M_e({isOpen:e,jobId:a,packageName:o}),T=P=>{l?.(),f(P)},A=P=>{l?.(),b(P)},D=P=>{l?.(),h(P)},O=async()=>{if(!E)return;H(cs.ANDROID_BUILDS_CREATE_CLICKED),await s(I())&&n()},M=vO()&&c===0,L=()=>{H(cs.ANDROID_BUILDS_BACK_CLICKED),n()};return t.jsx(oi,{isOpen:e,onClose:L,position:"bottom",blurStrength:"sm",contained:!0,className:"m-0 sm:m-3 md:m-6 rounded-t-[24px] sm:rounded-[16px] overflow-hidden bg-[#18181A] min-h-[70vh] sm:min-h-0 max-h-[90%] flex flex-col",children:t.jsxs("div",{className:"relative p-6 overflow-y-auto overflow-x-hidden flex-1",children:[t.jsx(LC,{onClick:L}),t.jsx(Kz,{platform:"android",appName:p,onAppNameChange:T,appIcon:m,onAppIconChange:D,appIconError:x,appIconUrl:g,isAppDetailsLocked:S&&c>0,versionName:v,onVersionNameChange:A,versionError:y,bundleIdError:C,bundleIdentifier:w,isEditingBundleId:_,onBundleIdEditToggle:N,onBundleIdChange:j,userId:u?.id,isValid:E,isLoading:r,isLoadingConfig:F,error:i,onContinue:O,canEditBundleId:M})]})})}const L_e=[{number:1,title:"Get the APK on your phone",description:"Download the APK on your phone using Emergent website. If you downloaded it on a computer, transfer it to your phone using email, Drive, or USB."},{number:2,title:t.jsxs(t.Fragment,{children:["Open the ",t.jsx("span",{className:"text-white",children:"APK"})," file"]}),description:"Open the APK from the Files app on your phone."},{number:3,title:"Allow permissions and install",description:t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"mb-0",children:"If Android blocks the install, tap Settings on the prompt and enable Allow from this source (or Install unknown apps) for the app you're using."}),t.jsx("p",{className:"mt-1",children:"Go back, tap Install, then Open once it's done."})]})}],P_e=[{number:1,title:"Create a Google Play Developer account",description:"Sign in to Google Play Console and set up your developer account (one-time setup)."},{number:2,title:"Create an app in Play Console",description:"Add a new app, enter basic details (app name, language), and choose App bundle (AAB) as the upload format."},{number:3,title:"Upload the AAB file",description:"Go to Production, Testing, or Internal testing, and upload your .aab file."},{number:4,title:"Complete store listing & settings",description:"Fill in required details like app description, screenshots, app category, content rating, and privacy policy."},{number:5,title:"Review and publish",description:"Submit the app for review. Once approved, Google Play generates and serves optimized APKs to users automatically."}];function O_e({step:e}){return t.jsxs("div",{className:"flex gap-3 items-start w-full",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-[rgba(128,255,249,0.05)] flex items-center justify-center shrink-0",children:t.jsx("span",{className:"text-[14px] font-medium text-[#80fff9] font-['Inter'] leading-5",children:e.number})}),t.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[t.jsx("p",{className:"text-[14px] font-medium text-[rgba(255,255,255,0.6)] font-['Inter'] leading-5 tracking-[-0.28px]",children:e.title}),t.jsx("div",{className:"text-[13px] font-normal text-[rgba(255,255,255,0.4)] font-['Inter'] leading-5",children:e.description})]})]})}function B_e({isOpen:e,onClose:n}){const[s,r]=d.useState("test"),i=s==="test"?L_e:P_e;return t.jsx(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,animationDuration:.15,className:"m-0 sm:m-3 md:m-6 rounded-t-[24px] sm:rounded-[20px] overflow-hidden bg-[#18181A] min-h-[70vh] sm:min-h-0 max-h-[90%] flex flex-col",children:t.jsxs("div",{className:"relative flex flex-col gap-2 overflow-y-auto overflow-x-hidden flex-1",children:[t.jsx(LC,{onClick:n}),t.jsx("div",{className:"px-6 pt-4 pr-20",children:t.jsx("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-[28px] tracking-[-0.36px]",children:"How to test and publish your app"})}),t.jsx("div",{className:"border-b border-[#242424] px-5",children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("button",{type:"button",onClick:()=>r("test"),className:k("py-3 text-[15px] font-medium font-['Inter'] leading-6 transition-colors",s==="test"?"text-white border-b-2 border-white":"text-[rgba(255,255,255,0.4)] hover:text-[rgba(255,255,255,0.6)]"),children:"Test your app"}),t.jsx("button",{type:"button",onClick:()=>r("publish"),className:k("py-3 text-[15px] font-medium font-['Inter'] leading-6 transition-colors",s==="publish"?"text-white border-b-2 border-white":"text-[rgba(255,255,255,0.4)] hover:text-[rgba(255,255,255,0.6)]"),children:"Publish your app"})]})}),t.jsx("div",{className:"flex flex-col gap-5 px-4 sm:px-6 py-4 sm:py-8",children:i.map((a,o)=>t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsx(O_e,{step:a}),o<i.length-1&&t.jsx(Pz,{})]},a.number))})]})})}function U_e({title:e,description:n,mobileDescription:s,buttonText:r,mobileButtonText:i,onAction:a,onClose:o,isAgentSleeping:l,tooltipText:c="Wake agent up to initiate a new build",trackingEvent:u,actionTrackingEvent:p,platform:f}){const{isMobile:m}=ts(),h=yO(),x=f==="ios"&&!h;d.useEffect(()=>{u&&H(u)},[u]);const g=()=>{m?o():(p&&H(p),a())};return t.jsxs(fe.div,{className:"h-full flex flex-col items-center justify-center gap-10 px-6 py-[80px]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},style:{flex:"1 0 0"},children:[t.jsx("img",{src:K.deployment.noIosBuilds,alt:"Build Icon",className:"w-[80px] h-[80px]"}),t.jsxs("div",{className:"flex flex-col items-center text-center gap-1 w-full max-w-[400px]",children:[t.jsx("h2",{className:"text-[20px] font-medium text-[#F2F5F7] font-brockmann leading-[28px] tracking-[-0.4px]",children:e}),t.jsx("p",{className:"text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-[20px]",children:m?s:n})]}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{onClick:g,disabled:!m&&(x||l),className:"flex items-center justify-center px-6 py-2 bg-[#E6E6E6] rounded-[28px] hover:bg-[#D9D9D9] transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-[#E6E6E6]",children:t.jsx("span",{className:"text-[16px] font-semibold text-[#0E0E0F] font-brockmann leading-6 tracking-[-0.2px]",children:m?i:r})})}),(x||l)&&!m&&t.jsxs(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:x?"We're facing issues with Apple authentication, please try again later":c}),t.jsx(Co,{className:"fill-[#DDDDE6]"})]})]})})]})}const H_e={ios:{title:"Ready to publish your iOS app?",subtitle:"Once your build is ready we will manage the entire process",icon:K.deployment.expoBuilds.publishSupportIos},android:{title:"Ready to publish your Android app?",subtitle:"Once your build is ready we will manage the entire process",icon:K.deployment.expoBuilds.publishSupportAndroid}},FA="We have received your request to publish with Emergent and will get back soon.",EA=({title:e,subtitle:n,titleColor:s,onKnowMoreClick:r,className:i})=>t.jsxs("div",{className:k("flex flex-col gap-1 items-start",i),children:[t.jsx("span",{className:k("font-inter font-medium text-[16px] leading-6",s),children:e}),t.jsxs("span",{className:"font-inter font-normal text-[14px] leading-5 text-[rgba(255,255,255,0.6)]",children:[n," ",t.jsx("button",{onClick:r,className:"font-inter text-[14px] font-semibold leading-5 text-[rgba(255,255,255,0.8)] underline hover:text-[rgba(255,255,255,0.8)] transition-colors",children:"Know more"})]})]}),V_e=({platform:e,onKnowMoreClick:n,onClose:s,supportRequested:r})=>{const{title:i,subtitle:a,icon:o}=H_e[e],l=()=>{H(cs.BUILD_SUPPORT_KNOW_MORE_CLICKED,{platform:e}),n?.()};return r?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"sm:hidden flex flex-col gap-1 p-4 border border-[#242424] rounded-[12px] w-full",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("div",{className:"shrink-0",children:t.jsx("img",{src:o,alt:"Publish Support",className:"h-[24px]"})}),s&&t.jsx("button",{type:"button",title:"Close",onClick:s,className:"p-[6.4px] rounded-full hover:bg-[rgba(255,255,255,0.08)] transition-colors",children:t.jsx(Ft,{className:"w-[19.2px] h-[19.2px] text-white/60"})})]}),t.jsx("span",{className:"font-inter font-medium text-[16px] leading-6 text-[rgba(255,255,255,0.9)]",children:FA})]}),t.jsxs("div",{className:"hidden sm:flex gap-2 items-center px-4 py-3 border border-[#242424] rounded-[12px] w-full",children:[t.jsx("div",{className:"shrink-0",children:t.jsx("img",{src:o,alt:"Publish Support",className:"h-[32px]"})}),t.jsx("span",{className:"flex-1 font-inter font-medium text-[16px] leading-6 text-[rgba(255,255,255,0.9)]",children:FA}),s&&t.jsx("button",{type:"button",title:"Close",onClick:s,className:"shrink-0 p-[6.4px] rounded-full hover:bg-[rgba(255,255,255,0.08)] transition-colors",children:t.jsx(Ft,{className:"w-[19.2px] h-[19.2px] text-white/60"})})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"sm:hidden flex flex-col gap-1 p-4 border border-[#242424] rounded-[12px] w-full",children:[t.jsx("div",{className:"shrink-0",children:t.jsx("img",{src:o,alt:"Publish Support",className:"h-[24px]"})}),t.jsx(EA,{title:i,subtitle:a,titleColor:"text-[rgba(255,255,255,0.8)]",onKnowMoreClick:l,className:"w-full"})]}),t.jsxs("div",{className:"hidden sm:flex gap-2 items-center justify-center px-4 py-3 border border-[#242424] rounded-[12px] w-full",children:[t.jsx("div",{className:"shrink-0",children:t.jsx("img",{src:o,alt:"Publish Support",className:"h-[32px]"})}),t.jsx(EA,{title:i,subtitle:a,titleColor:"text-[rgba(255,255,255,0.9)]",onKnowMoreClick:l,className:"flex-1 min-w-0 justify-center"})]})]})};function $_e({size:e,color:n="currentColor",...s}){const r=s.width??e??40,i=s.height??e??40;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:i,viewBox:"0 0 40 40",fill:"none",...s,children:[t.jsx("mask",{id:"mask0_770_24638",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"40",height:"40",children:t.jsx("rect",{width:"40",height:"40",fill:n,fillOpacity:"0.6"})}),t.jsx("g",{mask:"url(#mask0_770_24638)",children:t.jsxs("g",{filter:"url(#filter0_d_770_24638)",children:[t.jsx("path",{d:"M29.6408 24.0117C29.5627 24.0901 29.4358 24.0902 29.3576 24.012L24.9074 19.5618C24.8293 19.4837 24.8293 19.3571 24.9074 19.279L26.4913 17.6951C26.5694 17.617 26.696 17.617 26.7741 17.6951L29.3246 20.2456C29.4027 20.3237 29.5293 20.3237 29.6074 20.2456L34.99 14.8631C35.0686 14.7845 35.1962 14.785 35.2741 14.8643L36.8607 16.4793C36.9375 16.5575 36.9371 16.6829 36.8598 16.7606L29.6408 24.0117ZM29.6408 14.345C29.5627 14.4234 29.4358 14.4235 29.3576 14.3453L24.9074 9.89513C24.8293 9.81703 24.8293 9.69039 24.9074 9.61229L26.4913 8.02847C26.5694 7.95036 26.696 7.95036 26.7741 8.02847L29.3246 10.579C29.4027 10.6571 29.5293 10.6571 29.6074 10.579L34.99 5.19639C35.0686 5.1178 35.1962 5.11836 35.2741 5.19765L36.8607 6.81261C36.9375 6.89079 36.9371 7.01622 36.8598 7.09389L29.6408 14.345ZM2.86602 21.487C2.75556 21.487 2.66602 21.3975 2.66602 21.287V19.0204C2.66602 18.9099 2.75556 18.8204 2.86602 18.8204H21.1327C21.2431 18.8204 21.3327 18.9099 21.3327 19.0204V21.287C21.3327 21.3975 21.2431 21.487 21.1327 21.487H2.86602ZM2.86602 11.8204C2.75556 11.8204 2.66602 11.7308 2.66602 11.6204V9.35371C2.66602 9.24325 2.75556 9.15371 2.86602 9.15371H21.1327C21.2431 9.15371 21.3327 9.24325 21.3327 9.35371V11.6204C21.3327 11.7308 21.2431 11.8204 21.1327 11.8204H2.86602Z",fill:n,fillOpacity:"0.6",shapeRendering:"crispEdges"}),t.jsx("path",{d:"M24.9074 29.4446C24.8293 29.5227 24.8293 29.6493 24.9074 29.7274L29.3576 34.1776C29.4358 34.2558 29.5627 34.2557 29.6408 34.1773L36.8598 26.9262C36.9371 26.8485 36.9375 26.7231 36.8607 26.6449L35.2741 25.0299C35.1962 24.9507 35.0686 24.9501 34.99 25.0287L29.6074 30.4112C29.5293 30.4894 29.4027 30.4894 29.3246 30.4112L26.7741 27.8608C26.696 27.7827 26.5694 27.7827 26.4913 27.8608L24.9074 29.4446Z",fill:n,fillOpacity:"0.6",shapeRendering:"crispEdges"}),t.jsx("path",{d:"M2.86602 28.986C2.75556 28.986 2.66602 29.0755 2.66602 29.186V31.4527C2.66602 31.5631 2.75556 31.6527 2.86602 31.6527H21.1327C21.2431 31.6527 21.3327 31.5631 21.3327 31.4527V29.186C21.3327 29.0755 21.2431 28.986 21.1327 28.986H2.86602Z",fill:n,fillOpacity:"0.6",shapeRendering:"crispEdges"}),t.jsx("path",{d:"M34.8838 24.9229C35.0213 24.7854 35.2445 24.7862 35.3809 24.9248L36.9678 26.54C37.102 26.6769 37.1011 26.8964 36.9658 27.0322L29.7471 34.2832C29.6105 34.4204 29.3888 34.4201 29.252 34.2832L24.8018 29.833C24.6651 29.6963 24.6651 29.4755 24.8018 29.3389L26.3848 27.7549C26.5214 27.6182 26.7432 27.6182 26.8799 27.7549L29.4307 30.3057C29.4501 30.3248 29.4815 30.3247 29.501 30.3057L34.8838 24.9229ZM21.1328 28.8359C21.3259 28.836 21.4822 28.9925 21.4824 29.1855V31.4531C21.4822 31.6462 21.3259 31.8027 21.1328 31.8027H2.86621C2.67306 31.8027 2.51587 31.6462 2.51562 31.4531V29.1855C2.51587 28.9925 2.67306 28.8359 2.86621 28.8359H21.1328ZM34.8838 14.7568C35.0212 14.6194 35.2445 14.6204 35.3809 14.7588L36.9678 16.374C37.1022 16.5108 37.1011 16.7303 36.9658 16.8662L29.7471 24.1172C29.6106 24.2543 29.3889 24.2548 29.252 24.1182L24.8018 19.668C24.6651 19.5313 24.6651 19.3095 24.8018 19.1729L26.3848 17.5889C26.5214 17.4523 26.7432 17.4524 26.8799 17.5889L29.4307 20.1396C29.4501 20.159 29.4814 20.1589 29.501 20.1396L34.8838 14.7568ZM21.1328 18.6699C21.3261 18.67 21.4824 18.8273 21.4824 19.0205V21.2871C21.4824 21.4803 21.326 21.6366 21.1328 21.6367H2.86621C2.67293 21.6367 2.51566 21.4804 2.51562 21.2871V19.0205C2.51562 18.8272 2.67291 18.6699 2.86621 18.6699H21.1328ZM34.8838 5.08984C35.0213 4.95247 35.2446 4.95408 35.3809 5.09277L36.9678 6.70703C37.1022 6.84384 37.1011 7.06428 36.9658 7.2002L29.7471 14.4512C29.6105 14.5882 29.3888 14.5879 29.252 14.4512L24.8018 10.001C24.6651 9.86429 24.6651 9.64254 24.8018 9.50586L26.3848 7.92285C26.5214 7.78617 26.7432 7.78617 26.8799 7.92285L29.4307 10.4727C29.4502 10.4922 29.4814 10.4921 29.501 10.4727L34.8838 5.08984ZM21.1328 9.00391C21.326 9.00398 21.4823 9.16035 21.4824 9.35352V11.6201C21.4824 11.8134 21.3261 11.9706 21.1328 11.9707H2.86621C2.67291 11.9707 2.51562 11.8134 2.51562 11.6201V9.35352C2.51573 9.16031 2.67298 9.00391 2.86621 9.00391H21.1328Z",stroke:n,strokeOpacity:"0.6",strokeWidth:"0.3",shapeRendering:"crispEdges"})]})}),t.jsx("defs",{children:t.jsxs("filter",{id:"filter0_d_770_24638",x:"-1.63477",y:"4.83789",width:"42.8535",height:"37.6982",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feOffset",{dy:"4"}),t.jsx("feGaussianBlur",{stdDeviation:"2"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_770_24638"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_770_24638",result:"shape"})]})})]})}function z_e({size:e,color:n="currentColor",...s}){const r=s.width??e??40,i=s.height??e??40;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:i,viewBox:"0 0 40 40",fill:"none",...s,children:[t.jsx("mask",{id:"mask0_770_24645",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"40",height:"40",children:t.jsx("rect",{width:"40",height:"40",fill:n,fillOpacity:"0.6"})}),t.jsx("g",{mask:"url(#mask0_770_24645)",children:t.jsx("path",{d:"M10.0169 18.4961L19.1836 3.49609L28.3503 18.4961H10.0169ZM28.3503 36.8294C26.2669 36.8294 24.4961 36.1003 23.0378 34.6419C21.5794 33.1836 20.8503 31.4128 20.8503 29.3294C20.8503 27.2461 21.5794 25.4753 23.0378 24.0169C24.4961 22.5586 26.2669 21.8294 28.3503 21.8294C30.4336 21.8294 32.2044 22.5586 33.6628 24.0169C35.1211 25.4753 35.8503 27.2461 35.8503 29.3294C35.8503 31.4128 35.1211 33.1836 33.6628 34.6419C32.2044 36.1003 30.4336 36.8294 28.3503 36.8294ZM4.18359 35.9961V22.6628H17.5169V35.9961H4.18359ZM28.3503 33.4961C29.5169 33.4961 30.503 33.0933 31.3086 32.2878C32.1141 31.4822 32.5169 30.4961 32.5169 29.3294C32.5169 28.1628 32.1141 27.1766 31.3086 26.3711C30.503 25.5655 29.5169 25.1628 28.3503 25.1628C27.1836 25.1628 26.1975 25.5655 25.3919 26.3711C24.5864 27.1766 24.1836 28.1628 24.1836 29.3294C24.1836 30.4961 24.5864 31.4822 25.3919 32.2878C26.1975 33.0933 27.1836 33.4961 28.3503 33.4961ZM7.51693 32.6628H14.1836V25.9961H7.51693V32.6628ZM15.9336 15.1628H22.4336L19.1836 9.91276L15.9336 15.1628Z",fill:n,fillOpacity:"0.6"})})]})}function W_e({size:e,color:n="currentColor",...s}){const r=s.width??e??40,i=s.height??e??40;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:i,viewBox:"0 0 40 40",fill:"none",...s,children:[t.jsx("mask",{id:"mask0_770_24652",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"40",height:"40",children:t.jsx("rect",{width:"40",height:"40",fill:n,fillOpacity:"0.6"})}),t.jsx("g",{mask:"url(#mask0_770_24652)",children:t.jsx("path",{d:"M19.9993 38.3346C16.8882 38.3346 14.0271 37.6263 11.416 36.2096C8.8049 34.793 6.66602 32.9041 4.99935 30.543V35.0013H1.66602V25.0013H11.666V28.3346H7.54102C8.87435 30.3346 10.6313 31.9457 12.8118 33.168C14.9924 34.3902 17.3882 35.0013 19.9993 35.0013C22.0827 35.0013 24.0341 34.6055 25.8535 33.8138C27.673 33.0221 29.2563 31.9527 30.6035 30.6055C31.9507 29.2582 33.0202 27.6749 33.8119 25.8555C34.6035 24.036 34.9994 22.0846 34.9994 20.0013H38.3327C38.3327 22.5291 37.8535 24.9041 36.8952 27.1263C35.9369 29.3485 34.6244 31.293 32.9577 32.9596C31.291 34.6263 29.3466 35.9388 27.1244 36.8971C24.9021 37.8555 22.5271 38.3346 19.9993 38.3346ZM1.66602 20.0013C1.66602 17.4735 2.14518 15.0985 3.10352 12.8763C4.06185 10.6541 5.37435 8.70964 7.04102 7.04297C8.70768 5.3763 10.6521 4.0638 12.8743 3.10547C15.0966 2.14714 17.4716 1.66797 19.9993 1.66797C23.1105 1.66797 25.9716 2.3763 28.5827 3.79297C31.1938 5.20964 33.3327 7.09852 34.9994 9.45964V5.0013H38.3327V15.0013H28.3327V11.668H32.4577C31.1244 9.66797 29.3674 8.05686 27.1868 6.83464C25.0063 5.61241 22.6105 5.0013 19.9993 5.0013C17.916 5.0013 15.9646 5.39714 14.1452 6.1888C12.3257 6.98047 10.7424 8.04991 9.39518 9.39714C8.04796 10.7444 6.97852 12.3277 6.18685 14.1471C5.39518 15.9666 4.99935 17.918 4.99935 20.0013H1.66602ZM19.9993 30.0013C20.5827 30.0013 21.0757 29.7999 21.4785 29.3971C21.8813 28.9944 22.0827 28.5013 22.0827 27.918C22.0827 27.3346 21.8813 26.8346 21.4785 26.418C21.0757 26.0013 20.5827 25.793 19.9993 25.793C19.416 25.793 18.923 25.9944 18.5202 26.3971C18.1174 26.7999 17.916 27.293 17.916 27.8763C17.916 28.4596 18.1174 28.9596 18.5202 29.3763C18.923 29.793 19.416 30.0013 19.9993 30.0013ZM18.4993 23.668H21.541C21.541 22.668 21.6591 21.918 21.8952 21.418C22.1313 20.918 22.6105 20.3069 23.3327 19.5846C24.3049 18.6124 24.9507 17.8277 25.2702 17.2305C25.5896 16.6332 25.7493 15.918 25.7493 15.0846C25.7493 13.5291 25.1938 12.293 24.0827 11.3763C22.9716 10.4596 21.6105 10.0013 19.9993 10.0013C18.6105 10.0013 17.416 10.3624 16.416 11.0846C15.416 11.8069 14.6938 12.8346 14.2493 14.168L16.9993 15.3346C17.1938 14.6124 17.5618 14.0152 18.1035 13.543C18.6452 13.0707 19.2771 12.8346 19.9993 12.8346C20.7493 12.8346 21.3813 13.0499 21.8952 13.4805C22.4091 13.911 22.666 14.4874 22.666 15.2096C22.666 15.6819 22.5549 16.1541 22.3327 16.6263C22.1105 17.0985 21.6382 17.6541 20.916 18.293C19.9993 19.0985 19.3674 19.8832 19.0202 20.6471C18.673 21.411 18.4993 22.418 18.4993 23.668Z",fill:n,fillOpacity:"0.6"})})]})}const N8="emergent_support_requested_jobs",G_e=20;function Zz(e,n){return`${e}:${n}`}function q_e(e,n){try{const s=Zz(e,n),i=JSON.parse(localStorage.getItem(N8)||"[]").filter(o=>o!==s),a=[s,...i].slice(0,G_e);localStorage.setItem(N8,JSON.stringify(a))}catch{}}function K_e(e,n){try{const s=Zz(e,n);return JSON.parse(localStorage.getItem(N8)||"[]").includes(s)}catch{return!1}}const Y_e={ios:{storeName:"App Store",reviewFeedback:"Apple"},android:{storeName:"Play Store",reviewFeedback:"Google"}};function Z_e({isOpen:e,onClose:n,platform:s,jobId:r,onSupportRequested:i}){const[a,o]=d.useState(!1),[l,c]=d.useState("form"),u=Y_e[s],p=`Once you submit interest, we'll review your app for ${u.storeName} readiness. After approval, we will manage the submission process with you.`;d.useEffect(()=>{e||(o(!1),c("form"))},[e]);const f=d.useCallback(()=>{o(g=>!g)},[]),m=d.useCallback(()=>{H(cs.BUILD_SUPPORT_MODAL_CLOSED),n()},[n]),h=d.useCallback(()=>{H(cs.BUILD_SUPPORT_MAYBE_LATER_CLICKED),n()},[n]),x=d.useCallback(()=>{H(cs.BUILD_SUPPORT_REQUESTED,{platform:s}),r&&q_e(r,s),i?.(),c("success")},[s,r,i]);return{isReady:a,modalState:l,text:u,description:p,toggleReady:f,handleClose:m,handleMaybeLater:h,handleRequestSupport:x}}function J_e({size:e,...n}){const s=n.width??e??120,r=n.height??e??114;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:r,viewBox:"0 0 120 114",fill:"none",...n,children:[t.jsx("path",{d:"M60 83.5C56.265 83.5 52.755 82.7913 49.47 81.3737C46.185 79.9562 43.3275 78.0325 40.8975 75.6025C38.4675 73.1725 36.5438 70.315 35.1263 67.03C33.7088 63.745 33 60.235 33 56.5C33 52.765 33.7088 49.255 35.1263 45.97C36.5438 42.685 38.4675 39.8275 40.8975 37.3975C43.3275 34.9675 46.185 33.0438 49.47 31.6263C52.755 30.2088 56.265 29.5 60 29.5C63.735 29.5 67.245 30.2088 70.53 31.6263C73.815 33.0438 76.6725 34.9675 79.1025 37.3975C81.5325 39.8275 83.4562 42.685 84.8737 45.97C86.2913 49.255 87 52.765 87 56.5C87 60.235 86.2913 63.745 84.8737 67.03C83.4562 70.315 81.5325 73.1725 79.1025 75.6025C76.6725 78.0325 73.815 79.9562 70.53 81.3737C67.245 82.7913 63.735 83.5 60 83.5Z",fill:"#5FE55C"}),t.jsx("path",{d:"M60 26.5C64.1255 26.5 68.0419 27.2855 71.7188 28.8721C75.3372 30.4335 78.5146 32.5673 81.2236 35.2764C83.9327 37.9854 86.0665 41.1628 87.6279 44.7812C89.2145 48.4581 90 52.3745 90 56.5C90 60.6254 89.2145 64.5419 87.6279 68.2188C86.0665 71.8372 83.9327 75.0146 81.2236 77.7236C78.5146 80.4327 75.3372 82.5665 71.7188 84.1279C68.0419 85.7145 64.1254 86.5 60 86.5C55.8745 86.5 51.9581 85.7145 48.2812 84.1279C44.6628 82.5665 41.4854 80.4327 38.7764 77.7236C36.0673 75.0146 33.9335 71.8372 32.3721 68.2188C30.7855 64.5419 30 60.6255 30 56.5C30 52.3745 30.7855 48.4581 32.3721 44.7812C33.9335 41.1628 36.0673 37.9854 38.7764 35.2764C41.4854 32.5673 44.6628 30.4335 48.2812 28.8721C51.9581 27.2855 55.8745 26.5 60 26.5Z",stroke:"#5FE55C",strokeOpacity:"0.1",strokeWidth:"6",strokeLinecap:"round"}),t.jsx("g",{filter:"url(#filter0_d_770_25292)",children:t.jsx("path",{d:"M68.9171 48C69.3487 48 69.7495 48.0753 70.1195 48.2258C70.4894 48.3763 70.8182 48.592 71.106 48.8729C71.3937 49.1538 71.6095 49.4699 71.7534 49.8211C71.8972 50.1722 71.9794 50.5686 72 51.01C72 51.4114 71.9229 51.7977 71.7688 52.1689C71.6146 52.5401 71.3937 52.8662 71.106 53.1472L58.8671 65.112C58.5793 65.393 58.2453 65.6087 57.8651 65.7592C57.4849 65.9097 57.0893 65.99 56.6782 66C56.2672 66 55.8715 65.9247 55.4913 65.7742C55.1111 65.6237 54.7771 65.403 54.4894 65.112L48.9094 59.6639C48.6217 59.3829 48.4008 59.0569 48.2466 58.6856C48.0925 58.3144 48.0103 57.9281 48 57.5268C48 57.1053 48.0822 56.714 48.2466 56.3528C48.411 55.9916 48.632 55.6706 48.9094 55.3896C49.1869 55.1087 49.5106 54.898 49.8805 54.7575C50.2505 54.6171 50.6564 54.5368 51.0983 54.5167C51.5093 54.5167 51.9049 54.592 52.2852 54.7425C52.6654 54.893 52.9994 55.1087 53.2871 55.3896L56.6782 58.7007L66.7283 48.8729C67.0161 48.592 67.35 48.3763 67.7303 48.2258C68.1105 48.0753 68.5061 48 68.9171 48Z",fill:"#172218"})}),t.jsx("defs",{children:t.jsxs("filter",{id:"filter0_d_770_25292",x:"0",y:"0",width:"120",height:"114",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feOffset",{}),t.jsx("feGaussianBlur",{stdDeviation:"24"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.372549 0 0 0 0 0.898039 0 0 0 0 0.360784 0 0 0 0.2 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_770_25292"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_770_25292",result:"shape"})]})})]})}function OC({onClick:e,className:n}){return t.jsx("button",{type:"button",title:"Close",onClick:e,className:k("p-[6.4px] rounded-full hover:bg-[rgba(255,255,255,0.08)] transition-colors",n),children:t.jsx(Ft,{className:"w-5 h-5 text-white/60"})})}function X_e({storeName:e,isMobile:n=!1,onClose:s}){const r=n?K.deployment.expoBuilds.buildSupportBgMobile:K.deployment.expoBuilds.buildSupportBg;return t.jsxs("div",{className:"relative flex flex-col p-4 sm:p-6 h-full min-h-[inherit]",children:[t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url('${r}')`,backgroundSize:"cover",backgroundPosition:"center"}}),t.jsx("div",{className:"flex justify-end w-full relative z-10",children:t.jsx(OC,{onClick:s,className:"bg-[rgba(255,255,255,0.04)]"})}),t.jsxs("div",{className:"relative z-10 flex flex-1 flex-col items-center justify-center gap-4 sm:gap-6 text-center px-2",children:[t.jsx(J_e,{}),t.jsxs("div",{className:"flex flex-col gap-2 max-w-[500px]",children:[t.jsx("h2",{className:"font-['Brockmann'] font-medium text-[20px] sm:text-[24px] leading-7 sm:leading-8 text-[rgba(255,255,255,0.9)] tracking-[-0.5px]",children:"We have received your request"}),t.jsxs("p",{className:"font-inter font-normal text-[13px] sm:text-[14px] leading-5 text-[rgba(255,255,255,0.6)] tracking-[0.14px]",children:["Thanks for your interest in ",e," publishing support.",t.jsx("br",{}),"Someone from our team will reach out soon with details and next steps."]})]})]})]})}function SA({icon:e,title:n,description:s,isMobile:r=!1}){return r?t.jsxs("div",{className:"border border-[rgba(255,255,255,0.04)] flex gap-3 items-start p-4 rounded-[12px] w-full",children:[t.jsx("div",{className:"shrink-0 w-7 h-7 flex items-center justify-center",children:e}),t.jsxs("div",{className:"flex flex-1 flex-col gap-1 items-start min-w-0",children:[t.jsx("p",{className:"font-inter font-medium text-[14px] leading-5 text-[rgba(255,255,255,0.6)]",children:n}),t.jsx("p",{className:"font-inter font-normal text-[14px] leading-5 text-[rgba(255,255,255,0.3)]",children:s})]})]}):t.jsxs("div",{className:"flex flex-col flex-1 gap-0 h-[208px] items-center p-6 border border-[#242424] rounded-[12px]",children:[t.jsx("div",{className:"h-[40px] flex items-center justify-center shrink-0",children:e}),t.jsxs("div",{className:"flex flex-col gap-1 items-center text-center w-full mt-5",children:[t.jsx("p",{className:"font-inter font-medium text-[16px] leading-5 text-[rgba(255,255,255,0.8)] h-5",children:n}),t.jsx("p",{className:"font-inter font-normal text-[14px] leading-5 text-[rgba(255,255,255,0.4)] h-[60px]",children:s})]})]})}function Jz({cards:e,isMobile:n=!1}){return n?t.jsx("div",{className:"flex flex-col gap-3",children:e.map(s=>t.jsx(SA,{...s,isMobile:!0},s.title))}):t.jsx("div",{className:"flex flex-row gap-[10px] w-full",children:e.map(s=>t.jsx(SA,{...s},s.title))})}function Q_e({size:e,...n}){const s=n.width??e??24,r=n.height??e??24;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:r,viewBox:"0 0 24 24",fill:"none",...n,children:[t.jsx("mask",{id:"mask0_770_24663",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_770_24663)",children:t.jsx("path",{d:"M4.22222 22C3.61111 22 3.08796 21.7824 2.65278 21.3472C2.21759 20.912 2 20.3889 2 19.7778V4.22222C2 3.61111 2.21759 3.08796 2.65278 2.65278C3.08796 2.21759 3.61111 2 4.22222 2H19.7778C20.3889 2 20.912 2.21759 21.3472 2.65278C21.7824 3.08796 22 3.61111 22 4.22222V19.7778C22 20.3889 21.7824 20.912 21.3472 21.3472C20.912 21.7824 20.3889 22 19.7778 22H4.22222ZM4.22222 19.7778H19.7778V4.22222H4.22222V19.7778Z",fill:"white",fillOpacity:"0.8"})})]})}function eje({size:e,...n}){const s=n.width??e??24,r=n.height??e??24;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:r,viewBox:"0 0 24 24",fill:"none",...n,children:[t.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"4",fill:"white"}),t.jsx("path",{d:"M9.59514 17.4989L5 12.9038L7.09408 10.8097L9.59514 13.3182L16.9059 6L19 8.09408L9.59514 17.4989Z",fill:"#212123"})]})}function Xz({isReady:e,storeName:n,onToggle:s,isMobile:r=!1}){return t.jsxs("button",{type:"button",onClick:s,className:k("flex items-center w-full cursor-pointer",r?"gap-3":"gap-2"),children:[t.jsx("span",{className:"shrink-0",children:e?t.jsx(eje,{}):t.jsx(Q_e,{})}),t.jsxs("span",{className:k("font-inter font-normal leading-5 text-[rgba(255,255,255,0.8)] text-left",r?"text-[14px]":"text-[16px]"),children:["I am ready to take my build live on ",n]})]})}function Qz({isReady:e,onMaybeLater:n,onRequestSupport:s,isMobile:r=!1}){return t.jsxs("div",{className:k("flex items-center",r?"gap-3 h-12 w-full":"flex-row gap-4 justify-end w-full"),children:[t.jsx("button",{type:"button",onClick:n,className:k("border border-[rgba(255,255,255,0.12)] flex items-center justify-center px-4 py-3 rounded-[12px] hover:bg-[rgba(255,255,255,0.04)] transition-colors",r?"flex-1":"w-[180px]"),children:t.jsx("span",{className:"font-['Brockmann'] font-medium text-[16px] leading-6 text-white tracking-[-0.2px]",children:"Maybe later"})}),t.jsx("button",{type:"button",onClick:s,disabled:!e,className:k("flex items-center justify-center gap-2 px-4 py-3 rounded-[12px] transition-colors",r?"flex-1":"w-[180px]",e?r?"bg-[rgba(255,255,255,0.8)] hover:bg-white cursor-pointer":"bg-white hover:bg-gray-100 cursor-pointer":"bg-[rgba(255,255,255,0.3)] cursor-not-allowed"),children:t.jsx("span",{className:"font-['Brockmann'] font-semibold text-[16px] leading-6 tracking-[-0.2px] text-[#18181A]",children:"Request support"})})]})}function tje({storeName:e,description:n,featureCards:s,isReady:r,onToggleReady:i,onMaybeLater:a,onRequestSupport:o,onClose:l}){return t.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-1 flex-col gap-2",children:[t.jsxs("h2",{className:"font-['Brockmann'] font-medium text-[24px] leading-8 text-[rgba(255,255,255,0.9)]",children:["Publish on ",e," with Emergent"]}),t.jsx("p",{className:"font-inter font-normal text-[14px] leading-5 text-[rgba(255,255,255,0.6)]",children:n})]}),t.jsx(OC,{onClick:l,className:"bg-[rgba(255,255,255,0.04)]"})]}),t.jsx(Jz,{cards:s}),t.jsx(Xz,{isReady:r,storeName:e,onToggle:i}),t.jsx(Qz,{isReady:r,onMaybeLater:a,onRequestSupport:o})]})}function nje({isOpen:e,storeName:n,description:s,featureCards:r,isReady:i,onToggleReady:a,onMaybeLater:o,onRequestSupport:l,onClose:c}){return t.jsx(Bf,{open:e,onOpenChange:u=>!u&&c(),children:t.jsx(a3,{className:"focus:outline-none",children:t.jsxs("div",{className:"bg-[#18181a] border border-[#242424] rounded-t-[24px] w-full pb-2 overflow-hidden max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"relative border-b border-[#242424] h-[72px] flex items-center px-4",children:[t.jsx("div",{className:"absolute top-[7px] left-1/2 -translate-x-1/2 w-[44px] h-1 bg-[#252525] rounded-full"}),t.jsxs("p",{className:"font-['Brockmann'] font-medium text-[18px] leading-6 text-white",children:["Publish on ",n," with Emergent"]}),t.jsx(OC,{onClick:c,className:"absolute right-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-white/5 hover:bg-white/10"})]}),t.jsxs("div",{className:"flex flex-col gap-5 p-4",children:[t.jsx("p",{className:"font-inter font-normal text-[14px] leading-5 text-[rgba(255,255,255,0.4)]",children:s}),t.jsx(Jz,{cards:r,isMobile:!0}),t.jsx(Xz,{isReady:i,storeName:n,onToggle:a,isMobile:!0}),t.jsx(Qz,{isReady:i,onMaybeLater:o,onRequestSupport:l,isMobile:!0})]})]})})})}const sje=({isOpen:e,onClose:n,platform:s="android",jobId:r,onSupportRequested:i})=>{const{isMobile:a}=ts(),{isReady:o,modalState:l,text:c,description:u,toggleReady:p,handleClose:f,handleMaybeLater:m,handleRequestSupport:h}=Z_e({isOpen:e,onClose:n,platform:s,jobId:r,onSupportRequested:i}),x=d.useMemo(()=>[{icon:t.jsx($_e,{color:"white"}),title:"Store listing content",description:"App name, categories, description, privacy details"},{icon:t.jsx(z_e,{color:"white"}),title:"Visual assets",description:"Screenshots, icons, previews"},{icon:t.jsx(W_e,{color:"white"}),title:"Review support",description:`Understanding ${c.reviewFeedback} feedback and fixing rejection issues`}],[c.reviewFeedback]);return t.jsxs(t.Fragment,{children:[a&&t.jsx(nje,{isOpen:e&&l==="form",storeName:c.storeName,description:u,featureCards:x,isReady:o,onToggleReady:p,onMaybeLater:m,onRequestSupport:h,onClose:f}),!a&&t.jsx(oi,{isOpen:e&&l==="form",onClose:f,position:"center",blurStrength:"sm",contained:!1,className:"rounded-[16px] overflow-clip bg-[#18181A] max-w-[720px] w-full mx-auto max-h-[80vh] overflow-y-auto",children:t.jsx(tje,{storeName:c.storeName,description:u,featureCards:x,isReady:o,onToggleReady:p,onMaybeLater:m,onRequestSupport:h,onClose:f})}),t.jsx(oi,{isOpen:e&&l==="success",onClose:f,position:"center",blurStrength:"sm",contained:!1,className:"rounded-[16px] overflow-clip bg-[#18181A] max-w-[720px] w-full mx-4 sm:mx-auto max-h-[80vh] min-h-[70vh] sm:min-h-[465px] overflow-y-auto",children:t.jsx(X_e,{storeName:c.storeName,isMobile:a,onClose:f})})]})},rje=({className:e="w-4 h-4",color:n="currentColor"})=>t.jsx("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M9.66732 16.6663H5.91732C4.65343 16.6663 3.57357 16.2288 2.67773 15.3538C1.7819 14.4788 1.33398 13.4094 1.33398 12.1455C1.33398 11.0622 1.66037 10.0969 2.31315 9.24967C2.96593 8.40245 3.8201 7.86079 4.87565 7.62467C5.22287 6.3469 5.91732 5.31217 6.95898 4.52051C8.00065 3.72884 9.18121 3.33301 10.5007 3.33301C12.1257 3.33301 13.5041 3.89898 14.6361 5.03092C15.768 6.16287 16.334 7.54134 16.334 9.16634C17.2923 9.27745 18.0875 9.69065 18.7194 10.4059C19.3513 11.1212 19.6673 11.958 19.6673 12.9163C19.6673 13.958 19.3027 14.8434 18.5736 15.5726C17.8444 16.3018 16.959 16.6663 15.9173 16.6663H11.334V10.708L12.6673 11.9997L13.834 10.833L10.5007 7.49967L7.16732 10.833L8.33399 11.9997L9.66732 10.708V16.6663Z",fill:n})});function kA({isOpen:e,onClose:n,onRedeployAndBuild:s,unpublishedChangesCount:r,jobId:i}){const a=d.useRef(!1),[o,l]=d.useState(!1);d.useEffect(()=>{e&&!a.current&&H(dr.UNPUBLISHED_CHANGES_MODAL_SHOWN,{jobId:i,unpublishedChangesCount:r}),e||l(!1),a.current=e},[e,i,r]);const c=async()=>{l(!0),H(dr.UNPUBLISHED_CHANGES_MODAL_REDEPLOY_AND_BUILD_CLICKED,{jobId:i,unpublishedChangesCount:r});try{await s(),n()}finally{l(!1)}},u=()=>{H(dr.UNPUBLISHED_CHANGES_MODAL_CANCEL_CLICKED,{jobId:i,unpublishedChangesCount:r}),n()};return t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"flex gap-6 items-start justify-end pt-6 px-6",children:[t.jsxs("div",{className:"flex flex-1 flex-col gap-3 items-start justify-center",children:[t.jsx("div",{className:"bg-white/[0.08] flex items-center p-3 rounded-[24px]",children:t.jsx(rje,{className:"w-6 h-6",color:"white"})}),t.jsx("p",{className:"font-brockmann font-medium leading-7 text-[18px] text-white tracking-[-0.36px]",children:"You need to re-deploy before generating a new build"})]}),t.jsx("button",{type:"button",title:"Close",onClick:u,className:"backdrop-blur-[20px] bg-white/[0.02] flex items-center p-[6.4px] rounded-[10px] text-gray-400 hover:text-white transition-colors",children:t.jsx(Ft,{className:"w-[19.2px] h-[19.2px]"})})]}),t.jsx("div",{className:"flex flex-col items-start pb-6 pt-4 px-6",children:t.jsxs("p",{className:"font-['Inter'] text-[14px] leading-5 text-white/[0.64]",children:["You have"," ",t.jsxs("span",{className:"font-inter font-medium text-[#f2f5f7]",children:[r," ",r===1?"change":"changes"]})," ","that haven't been deployed yet, so they won't be included in the new build. Re-deploy first to include them."]})}),t.jsx("div",{className:"border-t border-white/[0.1] flex flex-col items-start p-6",children:t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("button",{onClick:c,disabled:o,className:"bg-white flex items-center gap-2 px-6 py-[10px] rounded-[28px] hover:bg-white/90 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:[o&&t.jsx(tn,{className:"w-4 h-4 animate-spin text-[#0e0e0f]"}),t.jsx("span",{className:"font-brockmann font-semibold leading-5 text-[#0e0e0f] text-[14px] tracking-[-0.2px]",children:"Re-deploy and generate build"})]}),t.jsx("button",{onClick:u,disabled:o,className:"bg-[#222224] flex gap-2 items-center px-5 py-[10px] rounded-[28px] hover:bg-[#2a2a2c] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx("span",{className:"font-brockmann font-medium leading-5 text-[#dcdce5] text-[14px]",children:"Cancel"})})]})})]})}const eW=({size:e=16,color:n="white",opacity:s=.8,backgroundColor:r="transparent",hoverBackgroundColor:i,className:a=""})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:{backgroundColor:r,transition:"background-color 0.3s ease"},onMouseEnter:o=>i&&(o.currentTarget.style.backgroundColor=i),onMouseLeave:o=>o.currentTarget.style.backgroundColor=r,children:[t.jsxs("g",{opacity:s,clipPath:"url(#clip0_5747_75234)",children:[t.jsx("path",{d:"M7.99479 14.6693C11.6767 14.6693 14.6615 11.6845 14.6615 8.0026C14.6615 4.32071 11.6767 1.33594 7.99479 1.33594C4.31289 1.33594 1.32812 4.32071 1.32812 8.0026C1.32812 11.6845 4.31289 14.6693 7.99479 14.6693Z",stroke:n,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M6.0625 6.00038C6.21924 5.55482 6.5286 5.17912 6.9358 4.9398C7.343 4.70049 7.82176 4.61301 8.28728 4.69285C8.7528 4.7727 9.17504 5.01473 9.47922 5.37606C9.78339 5.7374 9.94987 6.19473 9.94917 6.66705C9.94917 8.00038 7.94917 8.66705 7.94917 8.66705",stroke:n,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 11.3359H8.00708",stroke:n,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_5747_75234",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),ije=({jobId:e,agentStatus:n,appName:s,isExpoImage:r,previewUrl:i,onShareLogs:a,handleJobClick:o,onLinkCustomDomain:l,deployStatus:c,deployApp:u,selectedTierId:p,replaceDeployment:f,loadEnvironmentVariables:m,loadDeployLogs:h,loadLiveLogs:x,deployLogs:g,liveLogs:v,envs:b,updateEnvironmentVariables:y,containsStripeKey:w,setContainsStripeKey:_,termsSelected:N,envSyncedWithProduction:j,setEnvSyncedWithProduction:C,setRollbackTargetId:S,selectedReplacement:F,setSelectedReplacement:E,setIsDeployModalOpen:I,setIsBuildLogsModalOpen:T,setIsRollbackModalOpen:A,setIsReplaceModalOpen:D,setIsReplaceConfirmModalOpen:O,isMoltbot:M=!1})=>{const{toast:L}=ns(),{getCurrentOrganizationId:P}=hs(),B=Hr(),G=XO(),{restrictedFree:$}=gi(),{tier:te}=xs(),U=P(),oe=M?{deployment_type:"statefulset"}:{},Y=()=>w.containsStripeKey&&w.stripeKeyValue&&w.stripeKeyValue.includes("sk_live_")||w.stripeKeyValue.includes("sk_prod_"),W=()=>Y()&&!N,Z=async Ne=>{try{if((await vt.getDeployWarningInformation(Ne,U)).warnings?.includes("stripe_integration")){const $e=(await m()).find(dt=>dt.key.toLowerCase().includes("stripe")&&dt.key.toLowerCase().includes("key"));$e&&_({containsStripeKey:!0,stripeKeyValue:$e.value||"",stripeKeyId:$e.key,stripeKey:$e.key})}}catch{}},le=async()=>{if(!j&&b.length>0)try{return await y(b)?(C(!0),!0):(L({title:"Environment Variable Update Failed",description:"Failed to update environment variables. Operation cancelled.",variant:"destructive",duration:5e3}),!1)}catch(Ne){return Ne?.message?.includes("version mismatch")||Ne?.message?.includes("Version")?L({title:"Environment Variable Conflict",description:"Environment variables were modified by another source. Please refresh and try again.",variant:"destructive",duration:5e3}):L({title:"Environment Variable Update Failed",description:"Failed to update environment variables. Operation cancelled.",variant:"destructive",duration:5e3}),!1}return!0};return{hasProductionStripeKey:Y,isDeployDisabled:W,fetchDeploymentWarnings:Z,updateEnvironmentVariablesWithErrorHandling:le,handleDeployClick:()=>{if(n&&n==="running"){L({title:"Agent is Running",description:"Please wait for agent to finish or stop it manually before starting the deployment",variant:"destructive",duration:2e3});return}if($){H(dr.FREE_USER_DEPLOY_ATTEMPTED,{source:"deploy_panel",jobId:e}),B.open({planType:"personal",triggerLocation:"default"});return}H(dr.START_DEPLOYMENT_CLICKED,{jobId:e,tier:te}),I(!0)},handleDeployConfirm:async()=>{if(e)try{if(!await le())return;const ge=N?"STRIPE_API_KEY_ACKNOWLEDGEMENT":void 0;H(dr.DEPLOYMENT_CONFIRMATION_DEPLOY_CLICKED,{jobId:e,tier:te}),vg({jobId:e,deploymentType:"deploy"}),await u({jobId:e,db_mode:!0,acknowledgements:ge,tier:p,...oe}),I(!1)}catch{}},handleRedeployConfirm:async()=>{if(!e||!await le())return;const ge=N?"STRIPE_API_KEY_ACKNOWLEDGEMENT":void 0;vg({jobId:e,deploymentType:"redeploy"}),await u({jobId:e,db_mode:!0,acknowledgements:ge,tier:p,...oe})},handleTierChange:async Ne=>{e&&(vg({jobId:e,deploymentType:"tier_change"}),await u({jobId:e,db_mode:!0,tier:Ne,...oe}))},handleStripeKeyUpdate:(Ne,ge)=>{_(Ce=>({...Ce,stripeKeyValue:ge}))},handleLogsClick:async()=>{if(e&&h)try{H(dr.DEPLOYMENT_FAILURE_LOGS_CLICKED,{jobId:e}),await h(e)}catch{L({title:"Error Loading Logs",description:"Failed to load deployment logs. Please try again.",variant:"destructive",duration:3e3})}T(!0)},handleLiveLogsClick:async()=>{if(x&&s){try{H(dr.DEPLOYMENT_LIVE_LOGS_CLICKED,{jobId:e}),await x({app:s})}catch{L({title:"Error Loading Live Logs",description:"Failed to load live logs. Please try again.",variant:"destructive",duration:3e3})}T(!0)}},handleFixWithAgent:async()=>{if(a)try{if(c==="success"){H(dr.DEPLOYMENT_LIVE_FIX_WITH_AGENT_CLICKED,{jobId:e});let Ne=v?.live_logs||[];if((!Ne||Ne.length===0)&&x&&s){const ge=await x({app:s});ge?.live_logs&&ge.live_logs.length>0&&(Ne=ge.live_logs)}Ne.length>0?a(Ne):L({title:"No Logs Available",description:"No live logs found. Please wait for the app to generate some logs.",variant:"destructive",duration:3e3})}else{H(dr.DEPLOYMENT_FAILURE_FIX_WITH_AGENT_CLICKED,{jobId:e});let Ne=g;(!Ne||Object.keys(Ne).length===0)&&e&&h&&(Ne=await h(e));const ge=Ne?Object.entries(Ne).flatMap(([Ce,$e])=>$e?$e.map(dt=>`[${Ce.toUpperCase()}] ${dt}`):[]):[];ge.length>0?a(ge):L({title:"No Logs Available",description:"No deployment logs found. Please try deploying again.",variant:"destructive",duration:3e3})}}catch{L({title:"Error Sharing Logs",description:"Failed to share logs with agent. Please try again.",variant:"destructive",duration:3e3})}},getJobDetails:async Ne=>{if(o)try{const Ce=(await vt.getJob(Ne.id)).data;o(Ce)}catch{}},onDeploymentSuccess:(Ne,ge,Ce)=>{const $e=r&&Ce?`${window.location.origin}/share?app=${encodeURIComponent(Ce)}`:void 0;G.open({deployUrl:Ne,customDomain:ge,onLinkCustomDomain:r?void 0:l,isExpoApp:r,mobileUrl:$e,previewUrl:i})},handleDeployWithImage:async({image:Ne,deployment_id:ge,acknowledgements:Ce,tier:$e})=>{e&&await u({jobId:e,image:Ne,deployment_id:ge,acknowledgements:Ce,db_mode:!0,tier:$e||p,...oe})},handleRollbackClick:Ne=>{H(dr.DEPLOYMENT_ROLLBACK_CLICKED,{jobId:e,rollbackTargetId:Ne}),S?.(Ne),A?.(!0)},handleSelectReplacement:Ne=>{E?.(Ne),D?.(!1)},handleReplaceGoBack:()=>{O?.(!1),D?.(!0)},handleConfirmReplace:async Ne=>{F&&f&&(await f(F.deployment_id,Ne,oe.deployment_type),O?.(!1),E?.(null))},currentOrgId:U,tier:te}},aje=({jobId:e,customDomain:n,unlinkDomain:s,verifyDomain:r,refetchCustomDomain:i,deploymentState:a,modalState:o})=>{const{toast:l}=ns(),[c,u]=d.useState(!1),[p,f]=d.useState([]),[m,h]=d.useState(""),x=d.useRef(""),g=d.useRef(""),v=d.useRef(""),b=d.useRef(async()=>{});return{isUnlinking:c,manualLinkDnsRecords:p,setManualLinkDnsRecords:f,manualLinkDomain:m,setManualLinkDomain:h,domainToSwitchRef:x,linkedAppNameRef:g,linkedJobIdRef:v,handleSwitchDomainClickRef:b,handleOpenUnlinkDomainModal:C=>{H(ur.UNLINK_DOMAIN_CLICKED,{jobId:e,domain:C}),a.setDomainToUnlink(C),o.setIsUnlinkDomainModalOpen(!0)},confirmUnlinkDomain:async()=>{if(!(!a.domainToUnlink||!e)){H(ur.UNLINK_DOMAIN_CONFIRMED,{jobId:e,domain:a.domainToUnlink}),u(!0);try{await s(a.domainToUnlink),o.setIsUnlinkDomainModalOpen(!1),l({title:"Domain Unlinked",description:"Your domain has been successfully unlinked from this app",duration:3e3}),a.setDomainToUnlink("")}catch(C){l({title:"Unlinking Failed",description:C.message||"Failed to unlink domain. Please try again.",variant:"destructive",duration:3e3})}finally{u(!1)}}},handleManualLinkConfirm:async()=>{const C=m||n?.domain;if(H(ur.MANUAL_LINK_CONFIRMED,{jobId:e,domain:C}),C){try{await r(C)}catch{}await i()}o.setIsManualDomainLinkModalOpen(!1),f([]),h("")},handleManualLinkClose:async()=>{if(H(ur.MANUAL_LINK_CANCELLED,{jobId:e,domain:m||n?.domain}),m&&!n)try{await s(m)}catch{}o.setIsManualDomainLinkModalOpen(!1),f([]),h("")},openSwitchDomainModal:(C,S,F,E)=>{x.current=C,g.current=S,v.current=F,b.current=E,o.setIsSwitchDomainModalOpen(!0)}}},oje=({isExpoImage:e,deploymentHistory:n,latestRunStatus:s,deployStatus:r,availableDeployments:i,isLoading:a})=>{const o=!e&&n.some(x=>x.status==="success")&&s!=="running"&&r!=="not_deployed",l=n.find(x=>x.status==="success"),c=i.length>0&&!a&&r!=="running"&&s!=="running"&&r==="not_deployed";return{shouldShowCustomDomainSection:o,latestSuccessfulDeployment:l,shouldShowReplaceCard:c,shouldShowDeploymentHistory:(r==="failed"||r==="success")&&s!=="running",shouldShowEnvSection:(r==="success"||r==="failed")&&s!=="running"&&!a,shouldShowRunningFooter:s==="running"||r==="running",shouldShowSuccessFooter:(r==="success"||r==="failed")&&s!=="running",shouldShowResourcesCard:r==="success"&&s!=="running"}},lje=()=>{const[e,n]=d.useState("main"),[s,r]=d.useState(!1),i=d.useRef(null),a=d.useRef(null);return d.useEffect(()=>{s==="ios"&&i.current?(i.current.startBuildingMode(),r(!1)):s==="android"&&a.current&&(a.current.startBuildingMode(),r(!1))},[s]),{currentView:e,setCurrentView:n,buildJustTriggered:s,setBuildJustTriggered:r,setIOSBuildData:h=>{i.current=h},setAndroidBuildData:h=>{a.current=h},navigateToMain:()=>{n("main")},navigateToAndroidBuilds:()=>{n("android-builds")},navigateToIOSBuilds:()=>{n("ios-builds")},handleAndroidBuildsBack:()=>{H(cs.ANDROID_BUILDS_BACK_CLICKED),n("main")},handleIOSBuildsBack:()=>{H(cs.IOS_BUILDS_BACK_CLICKED),n("main")}}},cje={ios:{fetchLogs:e=>vt.getIOSBuildLogs(e),events:{logsClicked:cs.IOS_BUILD_LOGS_CLICKED,shareLogsClicked:cs.IOS_BUILD_SHARE_LOGS_CLICKED,fixWithAgentClicked:cs.IOS_BUILD_FIX_WITH_AGENT_CLICKED},label:"iOS"},android:{fetchLogs:e=>vt.getAndroidBuildLogs(e),events:{logsClicked:cs.ANDROID_BUILD_LOGS_CLICKED,shareLogsClicked:cs.ANDROID_BUILD_SHARE_LOGS_CLICKED,fixWithAgentClicked:cs.ANDROID_BUILD_FIX_WITH_AGENT_CLICKED},label:"Android"}};function dje({jobId:e,platform:n,onShareLogs:s}){const{toast:r}=ns(),i=cje[n],[a,o]=d.useState(!1),[l,c]=d.useState([]),[u,p]=d.useState(!1),[f,m]=d.useState(!1),[h,x]=d.useState(!1),g=async(w,_=!1)=>{x(_),H(i.events.logsClicked,{job_id:e,run_id:w}),p(!0);try{const N=await i.fetchLogs(e);c(N||[]),o(!0)}catch{c([]),o(!0)}finally{p(!1)}},v=()=>{o(!1),c([])};return{isLogsModalOpen:a,buildLogs:l,isLoadingLogs:u,isFixingWithAgent:f,hideAgentFix:h,handleViewLogs:g,handleCloseLogsModal:v,handleShareLogs:w=>{H(i.events.shareLogsClicked,{job_id:e}),s&&w.length>0&&s(w,n),v()},handleFixWithAgent:async w=>{if(s){H(i.events.fixWithAgentClicked,{job_id:e,run_id:w}),m(!0);try{const N=await i.fetchLogs(e)||[];N.length>0?s(N,n):r({title:"No Logs Available",description:`No ${i.label} build logs found. Please try again later.`,variant:"destructive",duration:3e3})}catch{r({title:"Error Sharing Logs",description:"Failed to share logs with agent. Please try again.",variant:"destructive",duration:3e3})}finally{m(!1)}}}}}const uje={ios:{buildName:"iOS Build",platformName:"iOS",fileType:"IPA"},android:{buildName:"Android Build",platformName:"Android",fileType:"APK"}};function IA({platform:e,jobId:n,fetchLatest:s,fetchHistory:r,completedEventName:i,includeQueuedStatus:a=!1,checkMobileForEmptyState:o=!1,onBuildComplete:l,pollingInterval:c=5e3}){const{toast:u}=ns(),{isMobile:p}=ts(),f=uje[e],[m,h]=d.useState(null),[x,g]=d.useState(null),[v,b]=d.useState(!0),[y,w]=d.useState(0),[_,N]=d.useState(null),[j,C]=d.useState(!1),S=d.useRef(null),F=d.useRef(l);d.useEffect(()=>{F.current=l},[l]);const I=m?.latest_run?.status==="running"||a&&(m?.latest_run?.status==="queued"||m?.latest_run?.status==="pending")||j,T=!!(x?.runs&&x.runs.length>0),A=o&&p||!v&&!I&&!T,D=x?.runs?.filter(P=>P.status==="failed")||[],O=x?.runs?.filter(P=>P.status==="success")||[],M=d.useCallback(async()=>{if(!n){b(!1);return}try{const[P,B]=await Promise.all([s(n),r(n)]),G=S.current,$=P.latest_run?.status||null;h(P),g(B),N(null),($==="running"||a&&($==="queued"||$==="pending"))&&C(!1),(G==="running"||a&&(G==="queued"||G==="pending"))&&($==="success"||$==="failed")&&(C(!1),H(i,{job_id:n,status:$}),F.current?.(),$==="success"&&u({title:`${f.buildName} Succeeded`,description:`Your ${f.platformName} build has completed successfully. You can now download the ${f.fileType} file.`,duration:5e3}),$==="failed"&&u({title:`${f.buildName} Failed`,description:`Your ${f.platformName} build has failed. Check the logs for more details.`,variant:"destructive",duration:5e3})),S.current=$}catch{h(null),g(null),N(null)}finally{b(!1)}},[n,s,r,a,i,f,e,u]);d.useEffect(()=>{M()},[M]),d.useEffect(()=>{if(!I)return;const P=setInterval(()=>{M()},c);return()=>clearInterval(P)},[I,M,c]),d.useEffect(()=>{if(!I){w(0);return}const P=m?.latest_run?.created_at;if(!P)return;const B=()=>{const $=new Date(P).getTime(),te=Date.now(),U=Math.floor((te-$)/1e3);w(Math.max(0,U))};B();const G=setInterval(B,1e3);return()=>clearInterval(G)},[I,m?.latest_run?.created_at]);const L=d.useCallback(()=>{C(!0),M()},[M]);return{latestBuild:m,buildHistory:x,isLoading:v,error:_,elapsedTime:y,isBuilding:I,hasBuilds:T,shouldShowEmptyState:A,failedBuilds:D,successfulBuilds:O,refetch:M,startBuildingMode:L}}function tW(e){const[n,s]=d.useState(!1),[r,i]=d.useState(!1),a=d.useRef(null),o=d.useCallback(()=>{const l=a.current;if(!l){s(!1),i(!1);return}const{scrollTop:c,scrollHeight:u,clientHeight:p}=l;if(!(u>p+20)){s(!1),i(!1);return}s(c>5),i(c+p<u-5)},[]);return d.useEffect(()=>{s(!1),i(!1);const l=a.current;if(!l)return;const c=setTimeout(o,100),u=setTimeout(o,300),p=setTimeout(o,500),f=new ResizeObserver(()=>{setTimeout(o,50)});return f.observe(l),()=>{clearTimeout(c),clearTimeout(u),clearTimeout(p),f.disconnect()}},[e,o]),{scrollContainerRef:a,showTopShadow:n,showBottomShadow:r,handleScroll:o}}const pje=e=>e.endsWith("m")?`${parseInt(e.slice(0,-1),10)/1e3} vCPU`:`${e} vCPU`,fje=e=>e.endsWith("Gi")?`${parseInt(e.slice(0,-2),10)} GB RAM`:e.endsWith("Mi")?`${parseInt(e.slice(0,-2),10)} MB RAM`:e,mje=e=>`${20+e*20}%`,_3=(e={})=>{const{currentTierId:n}=e,{data:s,isLoading:r,error:i,refetch:a}=nO(),o=d.useMemo(()=>{if(!s?.tiers)return[];const h=Object.entries(s.tiers).sort(([g],[v])=>{const b=parseInt(g.replace("tier_",""),10),y=parseInt(v.replace("tier_",""),10);return b-y}),x=n||s.default_tier;return h.map(([g,v],b)=>{const y=v.VPAEnabled?v.DefaultResources.CPULimit:v.DefaultResources.CPU,w=v.VPAEnabled?v.DefaultResources.MemoryLimit:v.DefaultResources.Memory;return{id:g,name:v.Name,vCPU:pje(y),ram:fje(w),creditsPerMonth:v.CreditCostPerMonth,creditsPerDay:v.CreditCostPerDay,barWidth:mje(b),isCurrent:g===x,isRecommended:g==="tier_1"}})},[s,n]),l=s?.default_tier||"tier_0",c=s?.tiers?.[l]?.CreditCostPerMonth||50,u=s?.tiers?.[l]?.CreditCostPerDay||2,p=h=>o.find(x=>x.id===h),f=n?p(n):void 0;return{tiers:o,defaultTier:l,defaultTierCredits:c,defaultTierCreditsPerDay:u,currentTier:f,isLoading:r,error:i,refetch:a,getTierById:p,getRawTierInfo:h=>s?.tiers?.[h],rawData:s}};function nW({deployData:e,handleTierChange:n}){const[s,r]=d.useState(!1),[i,a]=d.useState(null),[o,l]=d.useState(!1),[c,u]=d.useState(null),[p,f]=d.useState(!1),[m,h]=d.useState(!1),{tiers:x,defaultTier:g,isLoading:v}=_3({currentTierId:e?.tier_info?.id}),{isSuccess:b}=Kr(),{data:y}=Wa(void 0,{skip:!b}),w=y?.deployment_tier??!1,_=e?.tier_info?.id||g,N=x.find(A=>A.id===_)||x[0],j=i||_,C=x.find(A=>A.id===j)||x[0],S=d.useCallback(()=>{a(null),r(!0)},[]);return{isResourcesModalOpen:s,resourcesEffectiveTierId:j,setResourcesModalSelectedTierId:a,isTiersLoading:v,tiers:x,resourcesChangeType:c,showResourcesConfirmModal:o,setShowResourcesConfirmModal:l,resourcesConfirmLoading:p,resourcesSelectedTier:C,currentTier:N,isResourcesCreditsInfoModalOpen:m,setIsResourcesCreditsInfoModalOpen:h,useDeploymentTier:w,handleOpenResourcesModal:S,handleCloseResourcesModal:()=>{r(!1),a(null)},handleResourcesChange:A=>{u(A),l(!0)},handleOpenResourcesCreditsInfoModal:()=>{H(ua.CREDITS_INFO_MODAL_OPENED,{currentTierId:_}),h(!0)},handleConfirmResourcesChange:async()=>{if(!(!j||!n)){f(!0);try{await n(j),l(!1),r(!1),a(null)}catch{}finally{f(!1)}}}}}function sW({envs:e,saveEnvironmentVariables:n,updateEnvironmentVariables:s,deployStatus:r,jobId:i}){const{toast:a}=ns(),[o,l]=d.useState(!1),[c,u]=d.useState(""),[p,f]=d.useState([]),[m,h]=d.useState(""),x=d.useCallback((b,y,w)=>{u(b),f(y),h(w),l(!0)},[]),g=()=>{l(!1),u(""),f([]),h("")};return{isSecretsEditModalOpen:o,secretsEditCategory:c,secretsEditSecrets:p,secretsEditDescription:m,handleOpenSecretsEditModal:x,handleCloseSecretsEditModal:g,handleSecretsEditSave:async b=>{const y=e.map(w=>{const _=b.find(N=>N.key===w.key);return _?{...w,value:_.value}:w});if(n&&n(y),r==="not_deployed"&&i&&s)try{await s(y),a({title:"Secrets Updated",description:"Your secrets have been saved successfully.",duration:2e3})}catch(w){throw a({title:"Update Failed",description:"Failed to save secrets. Please try again.",variant:"destructive",duration:3e3}),w}g()}}}function rW(e){const n=d.useRef(null),s=d.useRef({}),[r,i]=d.useState(e[0]),a=d.useRef(!1),o=d.useRef(null),l=d.useCallback((h,x)=>{s.current[h]=x},[]),c=d.useCallback(()=>{const h=n.current;return h&&parseFloat(getComputedStyle(h).scrollPaddingTop)||0},[]),u=d.useCallback(h=>{const x=n.current;if(!x)return 0;const g=c();return h.getBoundingClientRect().top-x.getBoundingClientRect().top+x.scrollTop-g},[c]),p=d.useCallback(()=>{const h=n.current;if(!h)return;const x=h.querySelector("[aria-hidden='true']");if(!x)return;x.style.height="0px";const g=h.scrollHeight;let v=0;for(let y=e.length-1;y>=0;y--){const w=s.current[e[y]];if(w){v=u(w);break}}const b=Math.max(0,v-g+h.clientHeight);x.style.height=`${b}px`},[e,u]),f=d.useCallback(()=>{const h=n.current;if(!h)return null;const x=h.getBoundingClientRect(),g=c(),v=x.top+g;let b=null;for(const y of e){const w=s.current[y];if(!w)continue;w.getBoundingClientRect().top<=v+60&&(b=y)}return b||e[0]},[e,c]),m=d.useCallback(h=>{const x=s.current[h],g=n.current;if(!x||!g)return;i(h),a.current=!0,o.current&&clearTimeout(o.current);const v=u(x);g.scrollTo({top:v,behavior:"smooth"}),o.current=setTimeout(()=>{a.current=!1},600)},[u]);return d.useEffect(()=>{const h=n.current;if(!h)return;p();const x=new ResizeObserver(()=>p());return x.observe(h),window.addEventListener("resize",p),()=>{x.disconnect(),window.removeEventListener("resize",p)}},[p]),d.useEffect(()=>{const h=n.current;if(!h)return;const x=()=>{if(a.current)return;const g=f();g&&i(g)};return h.addEventListener("scroll",x,{passive:!0}),()=>h.removeEventListener("scroll",x)},[e,f]),d.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]),{scrollContainerRef:n,activeTab:r,scrollToSection:m,setSectionRef:l}}const hje=["bulk_file_writer","search_replace","multi_search_replace","str_replace_editor","create_file"];function xje(e){if(!e)return[];try{const s=JSON.parse(e);if(s.type==="mcp_tool"&&s.tool_arguments){if(s.tool_name==="mcp_bulk_file_writer"&&Array.isArray(s.tool_arguments.files))return s.tool_arguments.files.map(r=>r.path).filter(Boolean);if(s.tool_arguments.path)return[s.tool_arguments.path]}}catch{}if(e.startsWith("bulk_file_writer")||e.startsWith("bulk_file_creator")){const s=e.indexOf("[");if(s!==-1){const r=gje(e,s);if(r!==-1){const i=e.substring(s+1,r),a=/"([^"]+)"|'([^']+)'/g,o=[];let l;for(;(l=a.exec(i))!==null;){const c=l[1]||l[2];c&&o.push(c)}if(o.length>0)return o}}}const n=e.split(" ");return n.length>=3&&n[2]?.startsWith("/")?[n[2]]:[]}function gje(e,n){if(e[n]!=="[")return-1;let s=1,r=!1,i="",a=!1;for(let o=n+1;o<e.length;o++){const l=e[o];if(a){a=!1;continue}if(l==="\\"){a=!0;continue}if((l==='"'||l==="'")&&!r){r=!0,i=l;continue}if(l===i&&r){r=!1;continue}if(!r&&(l==="["&&s++,l==="]"&&s--,s===0))return o}return-1}function bje(e){return!e.startsWith("/app/frontend/")}function yje(e){return e.length===0?!0:e.some(bje)}function vje(e,n,s={}){const{filterBackendOnly:r=!1}=s;let i=null;if(n!=null){const o=new Date(n).getTime();Number.isNaN(o)||(i=o)}let a=0;for(const o of e)if(!(!o.function_name||!hje.includes(o.function_name)||o.env_success===!1)){if(i!=null){const l=new Date(o.timestamp).getTime();if(Number.isNaN(l)||l<=i)continue}if(r){const l=xje(o.action);yje(l)&&a++}else a++}return a}function wje(e){const{containerId:n,tabId:s,isExpoApp:r}=e,i=br(f=>f.container.activeContainerId),a=br(f=>f.container.tabContainers[s]),o=n??a??i,l=br(f=>o?f.container.containers[o]?.trajectory||[]:[]),c=br(f=>b9(f,s)?.deploymentHistory),u=d.useMemo(()=>c?.find(m=>m.status==="success")?.updated_at??null,[c]),p=d.useMemo(()=>vje(l,u,{filterBackendOnly:r}),[l,u,r]);return{count:p,hasChanges:p>0}}function Gx({platform:e,jobId:n,tabId:s,onStartNewBuild:r,onRedeploy:i,onShareLogs:a,isAgentSleeping:o,onClose:l,buildData:c}){const u=F_e[e],{buildHistory:p,isLoading:f,error:m,elapsedTime:h,isBuilding:x,hasBuilds:g,successfulBuilds:v,shouldShowEmptyState:b,refetch:y}=c,w=yO(),_=e==="ios"&&!w,{isLogsModalOpen:N,buildLogs:j,isLoadingLogs:C,isFixingWithAgent:S,hideAgentFix:F,handleViewLogs:E,handleCloseLogsModal:I,handleShareLogs:T,handleFixWithAgent:A}=dje({jobId:n,platform:e,onShareLogs:a}),[D,O]=d.useState(!1),[M,L]=d.useState(!1),[P,B]=d.useState(null),[G,$]=d.useState(!1),[te,U]=d.useState(!1),[oe,Y]=d.useState(!1),{isMobile:W}=ts(),{count:Z}=wje({tabId:s,isExpoApp:!0}),le=()=>{Z>0?Y(!0):r?.()},q=async()=>{await i?.(),l()},Q=me=>{W&&(B(me),$(!0))},he=me=>{H(u.downloadTrackingEvent,{job_id:n}),window.open(me,"_blank")};return f?t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsx(tn,{className:"w-8 h-8 animate-spin text-[#7F8283]"})}):m?t.jsxs("div",{className:"h-full flex flex-col items-center justify-center gap-4",children:[t.jsx("p",{className:"text-[14px] text-[#FF6666] font-['Inter']",children:m}),t.jsx("button",{onClick:y,className:"text-[14px] text-white underline hover:text-[#989EA0] transition-colors",children:"Try again"})]}):b?t.jsxs(t.Fragment,{children:[t.jsx(U_e,{title:u.emptyState.title,description:u.emptyState.description,mobileDescription:u.emptyState.mobileDescription,buttonText:u.emptyState.buttonText,mobileButtonText:u.emptyState.mobileButtonText,onAction:r?le:()=>{},onClose:l,isAgentSleeping:o,trackingEvent:u.emptyState.trackingEvent,actionTrackingEvent:u.emptyState.actionTrackingEvent,platform:e}),t.jsx(kA,{isOpen:oe,onClose:()=>Y(!1),onRedeployAndBuild:q,unpublishedChangesCount:Z,jobId:n})]}):t.jsxs(fe.div,{className:"flex flex-col gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[g&&!x&&r&&t.jsx(E_e,{onClick:le,disabled:_||o,disabledTooltip:_?"We're facing issues with Apple authentication, please try again later":void 0,unpublishedChangesCount:Z}),x&&t.jsx(S_e,{elapsedTime:h,platform:e}),v.length>0&&(!K_e(n,e)||te)&&t.jsx(V_e,{platform:e,onKnowMoreClick:()=>L(!0),supportRequested:te,onClose:()=>U(!1)}),t.jsx(__e,{builds:p?.runs||[],onDownload:he,isLoadingLogs:C,isFixingWithAgent:S,onViewLogs:E,onFixWithAgent:A,onBuildClick:Q}),e==="android"&&t.jsxs("button",{type:"button",onClick:()=>O(!0),className:"flex items-center gap-1.5 w-fit opacity-40 hover:opacity-60 transition-opacity",children:[t.jsx(eW,{size:20,color:"white",opacity:1}),t.jsx("span",{className:"text-[14px] font-medium text-white font-['Inter'] leading-[20px]",children:"How to test and publish your app"})]}),t.jsx(qz,{isOpen:N,onClose:I,onShareLogs:T,jobId:n,deployStatus:"failed",deployLogs:j,hideAgentFix:F}),e==="android"&&t.jsx(B_e,{isOpen:D,onClose:()=>O(!1)}),t.jsx(sje,{isOpen:M,onClose:()=>L(!1),platform:e,jobId:n,onSupportRequested:()=>U(!0)}),t.jsx(j_e,{isOpen:G,onOpenChange:$,build:P,onDownload:he}),t.jsx(kA,{isOpen:oe,onClose:()=>Y(!1),onRedeployAndBuild:q,unpublishedChangesCount:Z,jobId:n})]})}const iW=({activeTab:e,onTabChange:n})=>{const s=[{id:"overview",label:"Overview"},{id:"domain",label:"Domain"},{id:"resources",label:"Resources"},{id:"database",label:"Database"},{id:"secrets",label:"Secrets"}],r=d.useRef(null),i=d.useRef({});return d.useEffect(()=>{const a=r.current,o=i.current[e];if(!a||!o)return;const l=a.getBoundingClientRect(),c=o.getBoundingClientRect(),u=c.left+c.width/2-(l.left+l.width/2);a.scrollBy({left:u,behavior:"smooth"})},[e]),t.jsx("div",{className:"w-full border-b border-white/10",children:t.jsx("div",{ref:r,className:"flex items-center h-10 px-4 overflow-x-auto scrollbar-hide",children:s.map(a=>t.jsxs("button",{ref:o=>{i.current[a.id]=o},onClick:()=>{H(V5.TAB_CLICKED,{tab:a.id}),n(a.id)},className:k("md:flex-1 flex flex-col items-center justify-center h-full relative transition-colors","min-w-[90px] shrink-0 md:px-0 md:min-w-0",e===a.id?"text-white":"text-white/60 hover:text-white/80"),children:[t.jsx("span",{className:"text-[14px] font-medium font-['Inter'] leading-5 whitespace-nowrap md:text-sm",children:a.label}),e===a.id&&t.jsx(fe.div,{layoutId:"tab-indicator",className:"absolute bottom-0 left-0 right-0 mx-auto w-[60%] max-w-[60px] md:max-w-[80px] h-[2px] bg-white rounded-t",transition:{type:"spring",stiffness:400,damping:30}})]},a.id))})})},Cje=({width:e=20,height:n=20,fill:s="white",opacity:r=.5,className:i,style:a,onClick:o,"aria-label":l="Globe icon",focusable:c=!1,viewBox:u="0 0 20 20",...p})=>t.jsx("svg",{width:e,height:n,viewBox:u,fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,style:a,onClick:o,"aria-label":l,focusable:c,...p,children:t.jsx("path",{opacity:r,d:"M10 2.00006C14.4184 2.00006 18 5.58161 18 10.0001C18 14.4185 14.4184 18.0001 10 18.0001C5.58154 18.0001 2 14.4185 2 10.0001C2 5.58161 5.58154 2.00007 10 2.00006ZM3.62568 10.788C3.94054 13.3618 5.77655 15.4633 8.20806 16.1684C7.17013 14.556 6.53788 12.7103 6.37178 10.788H3.62568ZM13.6282 10.788C13.4621 12.7105 12.8291 14.5559 11.791 16.1684C14.223 15.4635 16.0594 13.3621 16.3743 10.788H13.6282ZM7.95312 10.788C8.14159 12.6763 8.85009 14.4748 10 15.9827C11.1499 14.4748 11.8584 12.6763 12.0469 10.788H7.95312ZM11.791 3.8308C12.8293 5.44342 13.4621 7.28937 13.6282 9.21216H16.3743C16.0594 6.63797 14.2231 4.53562 11.791 3.8308ZM10 4.01646C8.84982 5.52452 8.14162 7.32361 7.95312 9.21216H12.0469C11.8584 7.32362 11.1501 5.52453 10 4.01646ZM8.20806 3.8308C5.77642 4.53587 3.94055 6.63827 3.62568 9.21216H6.37178C6.5379 7.28954 7.16988 5.44333 8.20806 3.8308Z",fill:s})}),_je=K.icons.animatedSpinner,aW=({previewUrl:e,deployUrl:n,customDomain:s,onAddDomain:r,disabled:i=!1,hasSuccessfulDeployment:a=!1,deployStatus:o})=>{const[l,c]=d.useState(!0),[u,p]=d.useState(!1),[f,m]=d.useState(0),h=s?.status==="verified"?s.domain:n?.replace(/^https?:\/\//,"")||"",x=s?.status==="verified"?s.domain.startsWith("http://")||s.domain.startsWith("https://")?s.domain:`https://${s.domain}`:n||"",g=()=>{x&&window.open(x,"_blank")},v=()=>{c(!1)},b=()=>{c(!1),p(!0)},y=()=>{c(!0),p(!1),m(N=>N+1)},_=o==="failed"&&!a;return t.jsx("div",{className:"flex flex-col items-center w-full",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center p-10 w-full",children:[t.jsx("div",{onClick:x?g:void 0,className:k("border border-[rgba(255,255,255,0.08)] rounded-[16px] p-1 w-[200px] md:w-[202px] shrink-0 group relative",x&&"cursor-pointer"),children:t.jsx("div",{className:"border border-[rgba(255,255,255,0.12)] rounded-[12px] h-[120px] w-full overflow-hidden bg-[#0f0f10] relative",children:x?t.jsxs(t.Fragment,{children:[l&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0f0f10] z-10",children:t.jsx("img",{src:_je,alt:"Loading...",className:"w-6 h-6"})}),u?t.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white/40 text-xs gap-2",children:[t.jsx("span",{children:"Unable to load"}),t.jsx("button",{onClick:N=>{N.stopPropagation(),y()},className:"p-1 hover:bg-white/10 rounded transition-colors",title:"Retry",children:t.jsx(df,{size:14,className:"text-white/60"})})]}):t.jsx("iframe",{src:x,title:"App Preview",className:"w-full h-full border-0 pointer-events-none",style:{transform:"scale(0.25)",transformOrigin:"top left",width:"768px",height:"480px"},onLoad:v,onError:b,sandbox:"allow-scripts allow-same-origin"},f),t.jsx("div",{className:"absolute top-1 right-1 p-1 bg-black/60 rounded opacity-0 group-hover:opacity-100 transition-opacity z-20",children:t.jsx(Uo,{size:12,className:"text-white/80"})})]}):e?t.jsx("img",{src:e,alt:"App Preview",className:"w-full h-full object-cover object-top"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40 text-sm",children:"No preview"})})}),t.jsxs("div",{className:"flex flex-col items-center md:items-start flex-1 min-w-0 w-full",children:[t.jsxs("div",{className:k("flex flex-col items-center md:items-start w-full",_?"gap-3":"gap-4"),children:[_?t.jsxs("div",{className:"flex gap-1 items-center justify-center pl-[2px] pr-2 py-[2px] bg-[rgba(255,102,102,0.12)] rounded-[12px]",children:[t.jsxs("div",{className:"relative w-5 h-5 flex items-center justify-center",children:[t.jsx("div",{className:"absolute w-4 h-4 rounded-full bg-[rgba(255,102,102,0.20)]"}),t.jsx("div",{className:"w-[6px] h-[6px] rounded-full bg-[#FF6666] relative z-10"})]}),t.jsx("span",{className:"text-[#FF6666] text-[13px] font-medium font-brockmann leading-5",children:"Not live yet"})]}):a?t.jsxs("div",{className:"flex gap-1 items-center justify-center pl-[2px] pr-2 py-[2px] bg-[#0e2416] rounded-[12px]",children:[t.jsxs("div",{className:"relative w-5 h-5 flex items-center justify-center",children:[t.jsx("div",{className:"absolute w-4 h-4 rounded-full bg-[rgba(46,229,114,0.20)]"}),t.jsx("div",{className:"w-[6px] h-[6px] rounded-full bg-[#2EE572] relative z-10"})]}),t.jsx("span",{className:"text-[#2ee572] text-[13px] font-medium font-brockmann leading-5",children:"Live"})]}):null,t.jsxs("div",{className:"flex flex-col gap-1 items-center md:items-start w-full",children:[h?t.jsxs("div",{className:"flex gap-2 items-center w-full justify-center md:justify-start",children:[t.jsx("button",{onClick:g,className:"text-[#f2f5f7] opacity-80 text-[18px] font-medium font-brockmann leading-7 tracking-[-0.36px] underline decoration-solid truncate min-w-0 hover:opacity-100 transition-opacity",children:h}),t.jsx("div",{className:"hidden md:flex items-center",children:t.jsx(rc,{value:x,feedbackType:"tooltip",tooltipText:"Copy URL",copiedTooltipText:"Copied!",iconOnly:!0,buttonClassName:"p-1.5 hover:bg-white/10 rounded-md transition-colors bg-transparent shrink-0",iconProps:{size:18,className:"text-white/60"}})})]}):t.jsx("span",{className:"text-white/40 text-lg",children:"No deployment URL"}),_&&t.jsx("p",{className:"text-[rgba(255,255,255,0.64)] text-[14px] font-medium font-['Inter'] leading-5",children:"Re-deploy to take your app live"})]})]}),!_&&t.jsxs("div",{className:"flex gap-4 items-start mt-4",children:[x&&t.jsxs("button",{onClick:g,className:"flex gap-2 items-center pl-2 pr-4 py-[6px] bg-white hover:bg-white/90 rounded-[8px] transition-colors",children:[t.jsx(Cje,{width:20,height:20,fill:"#060809",opacity:1}),t.jsx("span",{className:"text-[#060809] text-[14px] font-semibold font-brockmann leading-5",children:"Visit"})]}),s?.status!=="verified"&&t.jsxs("button",{onClick:r,disabled:i,className:k("flex items-center gap-2 py-[6px] pl-2 pr-4 bg-[rgba(255,255,255,0.08)] hover:bg-white/12 rounded-[8px] transition-colors",i&&"opacity-50 cursor-not-allowed"),children:[t.jsx(ma,{size:16,className:"text-white/80"}),t.jsx("span",{className:"text-[#DCDCE5] text-[14px] font-medium font-brockmann leading-5",children:"Add your Domain"})]})]})]})]})})},j3=({onFixWithAgent:e,podIsPaused:n,deployStatus:s})=>{const[r,i]=d.useState(!1),a=s==="failed",o=async()=>{if(!(!e||r)){i(!0);try{await e()}finally{i(!1)}}};return t.jsx("div",{className:"p-5 bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.08)] md:border-[rgba(255,255,255,0.12)] rounded-[12px] overflow-visible",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-0 items-start md:items-center justify-between",children:[t.jsx("p",{className:k("text-[14px] font-normal leading-5 font-['Inter']",a?"text-[#FF6666]":"text-[#7f8283]"),children:a?"Latest deployment failed":"Noticing issues on your live app?"}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsxs("button",{onClick:o,disabled:n||r,className:"flex justify-center items-center gap-2 px-4 py-1.5 bg-[rgba(255,255,255,0.08)] hover:bg-white/12 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r?t.jsx(tn,{size:20,className:"text-white animate-spin"}):t.jsx(U2,{size:20,className:"text-white"}),t.jsx("span",{className:"text-white text-[14px] font-medium leading-5 tracking-[-0.28px]",children:r?"Loading logs...":"Ask agent to fix"})]})}),n&&t.jsx(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:t.jsx("span",{className:"text-sm",children:"Please wake up the agent first"})})]})})]})})},zh=e=>{try{const n=new Date(e),r=new Date().getTime()-n.getTime(),i=Math.floor(r/(1e3*60)),a=Math.floor(r/(1e3*60*60));return i<1?"Just now":i<60?`${i} minute${i===1?"":"s"} ago`:a<24?`${a} hour${a===1?"":"s"} ago`:n.toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"2-digit"})+"  "+n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return"Unknown time"}},jje=e=>e.slice(0,7),TA=({deployment:e,index:n,totalCount:s,runId:r,isExpanded:i,hasMoreItems:a,collapsedItemCount:o,onViewLogs:l,onRollbackClick:c})=>{const u=e.id===r&&e.status==="success",p=e.status==="failed",f=n===0,m=n===s-1,h=!i&&a&&n===o-1,x=!m,g=!u&&!p&&e.rollback_possible!==!1,v=k(h?"h-[30px]":"h-[84px] md:h-[64px]"),b=(u||p)&&f?t.jsxs("button",{onClick:l,className:"flex items-center gap-1 transition-colors",children:[t.jsx(vo,{size:16,className:"text-[#989ea0] md:text-white"}),t.jsx("span",{className:"text-[#989ea0] md:text-white text-sm font-medium font-brockmann md:font-sans tracking-[-0.28px] underline md:no-underline hover:text-white/80 md:hover:text-white/80 leading-5",children:"View Logs"})]}):g?t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>c?.(e.id),className:"md:hidden flex items-center gap-1 transition-colors",children:[t.jsx(Vw,{size:16,className:"text-[#989ea0]"}),t.jsx("span",{className:"text-[#989ea0] text-sm font-medium font-brockmann tracking-[-0.28px] underline leading-5",children:"Rollback"})]}),t.jsx("button",{onClick:()=>c?.(e.id),className:"hidden md:flex w-8 h-8 items-center justify-center bg-white/[0.04] hover:bg-white/[0.08] rounded-[20px] transition-colors",title:"Rollback to this version",children:t.jsx(Vw,{size:16,className:"text-white/60"})})]}):null;return t.jsxs("div",{className:"relative flex flex-col gap-4 md:gap-0 overflow-visible",children:[t.jsxs("div",{className:"relative flex items-center justify-between overflow-visible",children:[x&&t.jsx("div",{className:k("absolute left-[7px] top-[18px] w-0 border-l-[1.5px] border-dashed border-white/20 z-0",v)}),t.jsxs("div",{className:"flex gap-4 items-start",children:[t.jsx("div",{className:"py-0.5 relative z-10",children:u?t.jsxs("div",{className:"relative w-4 h-4 flex items-center justify-center",children:[t.jsx(fe.div,{className:"absolute inset-0 rounded-full bg-[rgba(46,229,114,0.20)]",animate:{scale:[1,1.4,1],opacity:[1,.4,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-[rgba(46,229,114,0.20)]"}),t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#2EE572] relative z-10"})]}):p?t.jsx("div",{className:"w-4 h-4 rounded-[10px] bg-[rgba(255,102,102,0.20)] flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#F66]"})}):t.jsx("div",{className:"w-4 h-4 rounded-[10px] bg-[rgba(152,158,160,0.20)] flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#989EA0]"})})}),t.jsxs("div",{className:"flex flex-col gap-1",children:[p?t.jsx("p",{className:"text-[#F66] text-[12px] font-medium font-['Inter'] leading-[18px]",children:"Deployment failed"}):t.jsxs("p",{className:"text-[#f2f5f7] md:text-[#7f8283] text-[12px] font-normal font-['Inter'] leading-[18px]",children:["Deployment ",s-n]}),t.jsxs("div",{className:"flex gap-2 items-center text-[14px] leading-5",children:[t.jsx("span",{className:"text-[#f2f5f7] md:text-white font-medium font-['Inter']",children:zh(e.updated_at)}),t.jsx("span",{className:"text-[#989ea0] md:text-[#7f8283] font-normal font-['Inter']",children:jje(e.id)})]})]})]}),t.jsx("div",{className:"hidden md:block",children:b})]}),b&&t.jsx("div",{className:"md:hidden pl-8",children:b})]})},Od=3,N3=({deploymentHistory:e,runId:n,isLoading:s,onViewLogs:r,onRollbackClick:i})=>{const[a,o]=d.useState(!1),l=d.useRef(null),c=()=>{const f=!a;if(o(f),f&&l.current){const m=l.current.closest(".overflow-y-auto");if(m){const g=(e.length-Od)*66;setTimeout(()=>{m.scrollBy({top:g,behavior:"smooth"})},100)}}},u=e.length>Od,p=e.slice(Od);return t.jsx("div",{ref:l,className:"p-5 bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.08)] md:border-[rgba(255,255,255,0.12)] rounded-[12px] overflow-visible",children:t.jsxs("div",{className:"flex flex-col gap-8 overflow-visible",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h3",{className:"text-[#f2f5f7] text-[16px] md:text-base font-medium font-brockmann md:font-sans tracking-[-0.32px] leading-6",children:"Deployments"}),t.jsx("p",{className:"text-[#989ea0] md:text-[#7f8283] text-[12px] md:text-[13px] font-normal leading-[18px] font-['Inter']",children:"All deployed versions of your app"})]}),t.jsx("div",{className:"relative flex flex-col overflow-visible",children:e.length===0?t.jsx("div",{className:"flex items-center justify-center py-6",children:s?t.jsx(tn,{size:24,className:"animate-spin text-white/40"}):t.jsx("p",{className:"text-white/40 text-sm",children:"No deployment history"})}):t.jsxs(t.Fragment,{children:[e.slice(0,Od).map((f,m)=>t.jsx("div",{className:k("overflow-visible",m>0&&"mt-6"),children:t.jsx(TA,{deployment:f,index:m,totalCount:e.length,runId:n,isExpanded:a,hasMoreItems:u,collapsedItemCount:Od,onViewLogs:r,onRollbackClick:i})},f.id)),t.jsx(Kn,{initial:!1,children:a&&p.map((f,m)=>t.jsx(fe.div,{initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:24},exit:{opacity:0,height:0,marginTop:0},transition:{duration:.3,ease:[.4,0,.2,1],delay:m*.05},className:"overflow-visible",children:t.jsx(TA,{deployment:f,index:m+Od,totalCount:e.length,runId:n,isExpanded:a,hasMoreItems:u,collapsedItemCount:Od,onViewLogs:r,onRollbackClick:i})},f.id))}),u&&t.jsx("button",{onClick:c,className:"mt-6 text-white text-sm font-medium tracking-[-0.28px] leading-5 underline hover:text-white/80 transition-colors text-left",children:a?"View less":"View more"})]})})]})})},oW=({color:e="rgba(255, 255, 255, 0.64)",width:n=16,height:s=16,className:r})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:s,viewBox:"0 0 16 16",fill:"none",className:r,children:t.jsx("path",{d:"M8.31797 11.2163L13.9013 5.63301L13.0346 4.76634L7.4513 10.3497L8.31797 11.2163ZM3.96797 12.6663C2.85686 12.6108 2.02908 12.3775 1.48464 11.9663C0.940191 11.5552 0.667969 10.9608 0.667969 10.183C0.667969 9.46079 0.965191 8.87467 1.55964 8.42467C2.15408 7.97467 2.97908 7.70523 4.03464 7.61634C4.46797 7.58301 4.79297 7.51356 5.00964 7.40801C5.2263 7.30245 5.33464 7.15523 5.33464 6.96634C5.33464 6.67745 5.17075 6.46079 4.84297 6.31634C4.51519 6.1719 3.97352 6.06634 3.21797 5.99967L3.33464 4.66634C4.47908 4.75523 5.32075 4.98579 5.85964 5.35801C6.39852 5.73023 6.66797 6.26634 6.66797 6.96634C6.66797 7.55523 6.45408 8.01634 6.0263 8.34967C5.59852 8.68301 4.96797 8.88301 4.13464 8.94967C3.42352 9.00523 2.89019 9.13579 2.53464 9.34134C2.17908 9.5469 2.0013 9.82745 2.0013 10.183C2.0013 10.5719 2.15686 10.8525 2.46797 11.0247C2.77908 11.1969 3.3013 11.2997 4.03464 11.333L3.96797 12.6663ZM8.63464 12.783L5.88464 10.033L12.2513 3.66634C12.4735 3.44412 12.7374 3.33301 13.043 3.33301C13.3485 3.33301 13.6124 3.44412 13.8346 3.66634L15.0013 4.83301C15.2235 5.05523 15.3346 5.31912 15.3346 5.62467C15.3346 5.93023 15.2235 6.19412 15.0013 6.41634L8.63464 12.783ZM5.98464 13.333C5.79575 13.3775 5.62908 13.3275 5.48464 13.183C5.34019 13.0386 5.29019 12.8719 5.33464 12.683L5.88464 10.033L8.63464 12.783L5.98464 13.333Z",fill:e})}),m5=({width:e=16,height:n=16,className:s=""})=>t.jsx("img",{src:K.common.fluentEmojiBell,alt:"bell",width:e,height:n,className:s}),Nje=({hasUndeployedChanges:e=!1,hasSecretsChanges:n=!1,onRunHealthCheck:s,onRedeploy:r,onShutdown:i,isLoading:a,isDeploying:o,podIsPaused:l})=>{const c=n||e,p=n?{text:"Re-deploy to update secrets",iconColor:"#f3ca5f",textColor:"text-[#f3ca5f]"}:e?{text:"New changes ready to deploy",iconColor:"#00CCAF",textColor:"text-white/80"}:null;return t.jsx("div",{className:"shrink-0 bg-[#141415] md:bg-[#0F0F10] border-t border-[rgba(255,255,255,0.08)]",children:t.jsx("div",{className:k("md:bg-[rgba(255,255,255,0.02)]",l?"pt-4 pb-5":"py-5"),style:{paddingBottom:"max(20px, env(safe-area-inset-bottom, 20px))"},children:t.jsxs("div",{className:"flex flex-col gap-4 md:gap-0 px-4",children:[l&&t.jsxs("div",{className:"flex md:hidden items-center justify-center gap-1.5",children:[t.jsx(m5,{width:16,height:16}),t.jsx("p",{className:"text-xs font-medium font-['Inter'] leading-[18px] text-[#f3ca5f]",children:"Wake up the Agent to make deployment changes"})]}),t.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center justify-between gap-3 md:gap-0",children:[l?t.jsxs("div",{className:"hidden md:flex items-center gap-1.5",children:[t.jsx(m5,{width:20,height:20,className:"shrink-0"}),t.jsx("p",{className:"max-w-[178px] text-xs font-medium font-['Inter'] leading-[18px] text-[#f3ca5f]",children:"Wake up the Agent to make deployment changes"})]}):c&&p?t.jsxs("div",{className:"hidden md:flex items-center gap-1.5",children:[t.jsx(oW,{color:p.iconColor,width:16,height:16}),t.jsx("p",{className:k("text-xs font-normal font-['Inter'] leading-[18px]",p.textColor),children:p.text})]}):t.jsx("div",{className:"hidden md:block"}),t.jsxs("div",{className:"flex flex-col min-[440px]:flex-row items-stretch min-[440px]:items-center gap-3",children:[t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("span",{className:"flex-1 md:flex-none",children:t.jsx("button",{onClick:s,disabled:l,className:k("w-full px-6 py-2 bg-[rgba(255,255,255,0.08)] hover:bg-white/12 rounded-lg text-white text-[16px] md:text-base font-medium font-brockmann md:font-sans leading-6 tracking-[-0.32px] transition-colors whitespace-nowrap text-center","disabled:opacity-50 disabled:cursor-not-allowed"),children:"Run health check"})})}),l&&t.jsx(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:t.jsx("span",{className:"text-sm",children:"Please wake up the agent to process further"})})]})}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("span",{className:"flex-1 md:flex-none",children:t.jsx("button",{onClick:()=>{H(V5.REDEPLOY_CLICKED),r?.()},disabled:a||o||l,className:k("w-full px-6 py-2 bg-white hover:bg-white/90 rounded-lg text-[#060809] md:text-black text-[16px] md:text-base font-semibold font-brockmann md:font-sans leading-6 tracking-[-0.32px] transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap text-center",e&&"md:w-[160px]"),children:e?"Re-deploy":"Re-deploy changes"})})}),l&&t.jsx(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:t.jsx("span",{className:"text-sm",children:"Please wake up the agent to process further"})})]})}),t.jsx("button",{onClick:i,disabled:a||o,className:"hidden md:flex p-[8px] bg-[rgba(255,255,255,0.08)] hover:bg-white/12 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed shrink-0",title:"Shut down deployment",children:t.jsx(Of,{size:24,className:"text-white"})})]})]})]})})})},Fje=K.icons.deployCloud,jy=({onClose:e})=>t.jsxs("div",{className:"pl-5 pr-3 py-3 flex items-center justify-between border-b border-[#1f1f1f] bg-[#111112] sticky top-0 z-10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:Fje,alt:"Deploy",className:"w-6 h-6"}),t.jsx("span",{className:"text-white font-medium text-lg font-['Inter']",children:"Manage Deployments"})]}),t.jsx(u5,{onClose:e,dataTestId:"deploy-panel-close-button"})]});function BC(e=2e3){const[n,s]=d.useState(null),r=d.useRef(null);d.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]);const i=d.useCallback((o,l)=>{navigator.clipboard.writeText(l),s(o),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>s(null),e)},[e]),a=d.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),s(null)},[]);return{copiedKey:n,handleCopy:i,clearCopied:a}}const F8=[{title:"Custom keys",description:"Connections to external services your app depends on",isCollapsed:!1},{title:"System keys",description:"Managed by Emergent. Your app usually won't need changes here.",isCollapsed:!0}],Eje=Object.fromEntries(F8.map(e=>[e.title,e.description])),E8=e=>e.replace(/_/g," "),lW="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4.5%202.7C4.5%201.20884%205.70883%200%207.2%200H15.3C16.7912%200%2018%201.20884%2018%202.7V10.8C18%2012.2912%2016.7912%2013.5%2015.3%2013.5H13.5V15.3C13.5%2016.7912%2012.2912%2018%2010.8%2018H2.7C1.20884%2018%200%2016.7912%200%2015.3V7.2C0%205.70883%201.20884%204.5%202.7%204.5H4.5V2.7ZM6.3%204.5H10.8C12.2912%204.5%2013.5%205.70883%2013.5%207.2V11.7H15.3C15.7971%2011.7%2016.2%2011.2971%2016.2%2010.8V2.7C16.2%202.20295%2015.7971%201.8%2015.3%201.8H7.2C6.70295%201.8%206.3%202.20295%206.3%202.7V4.5ZM2.7%206.3C2.20295%206.3%201.8%206.70295%201.8%207.2V15.3C1.8%2015.7971%202.20295%2016.2%202.7%2016.2H10.8C11.2971%2016.2%2011.7%2015.7971%2011.7%2015.3V7.2C11.7%206.70295%2011.2971%206.3%2010.8%206.3H2.7Z'%20fill='%23ffffff60'/%3e%3c/svg%3e",AA=({label:e,value:n,isVisible:s,onToggleVisibility:r,onCopy:i,isCopied:a,isEditing:o,onValueChange:l})=>{const c=s?n:n?"".repeat(Math.min(n.length,20)):"",u=n.length>25?`${n.slice(0,25)}...`:n;return t.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-6 items-start md:items-center w-full",children:[t.jsx("div",{className:"w-full md:w-[160px] shrink-0 md:py-1 md:pr-3.5 overflow-hidden",children:t.jsx("p",{className:"text-[#989ea0] md:text-[#7f8283] text-[12px] md:text-xs font-['Inter'] font-normal leading-[18px] md:leading-[18px] truncate",title:e,children:e})}),t.jsxs("div",{className:"flex gap-3 items-center min-w-0 w-full",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-4 h-8 px-3 py-1 bg-white/[0.04] rounded-lg overflow-hidden",children:[o?t.jsx("input",{type:s?"text":"password",value:n,onChange:p=>l(p.target.value),className:"flex-1 bg-transparent text-[#989ea0] md:text-white text-sm font-medium font-['Inter'] leading-5 focus:outline-none min-w-0",placeholder:"Enter value..."}):t.jsx("p",{className:"flex-1 text-[#989ea0] md:text-white text-sm font-medium font-['Inter'] leading-5 truncate",children:s?u:c}),t.jsx("button",{onClick:r,className:"shrink-0 p-0.5 hover:bg-white/10 rounded transition-colors",title:s?"Hide value":"Show value",children:s?t.jsx(z7,{size:24,className:"text-white/60"}):t.jsx($7,{size:24,className:"text-white/60"})})]}),t.jsx("button",{onClick:i,className:"shrink-0 w-5 h-5 flex items-center justify-center hover:bg-white/10 rounded transition-colors",title:a?"Copied!":"Copy value",children:a?t.jsx(xn,{size:20,className:"text-green-500"}):t.jsx("img",{src:lW,alt:"Copy",className:"w-5 h-5 opacity-60"})})]})]})},qx=({title:e,description:n,buttonText:s,onButtonClick:r,disabled:i=!1})=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"hidden md:flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[t.jsx("h3",{className:"text-white text-base font-medium tracking-[-0.32px]",children:e}),t.jsx("p",{className:"text-[#7f8283] text-[13px] font-['Inter'] leading-5",children:n})]}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("span",{className:"shrink-0",children:t.jsx("button",{onClick:r,disabled:i,className:k("flex items-center gap-2 px-5 py-1.5 bg-[#222224] hover:bg-[#2a2a2c] rounded-[28px] transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:t.jsx("span",{className:"text-[#dcdce5] text-sm font-medium",children:s})})})}),i&&t.jsx(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:t.jsx("span",{className:"text-sm",children:"Please wake up the agent to process further"})})]})})]}),t.jsx("div",{className:"md:hidden flex flex-col gap-6",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h3",{className:"text-[#f2f5f7] text-[16px] font-medium font-brockmann leading-6 tracking-[-0.32px]",children:e}),t.jsx("p",{className:"text-[#989ea0] text-[14px] font-['Inter'] font-normal leading-5",children:n})]})})]}),DA=({text:e,onClick:n,disabled:s=!1})=>t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("span",{className:"md:hidden w-full",children:t.jsx("button",{onClick:n,disabled:s,className:k("flex items-center justify-center w-full px-5 py-1.5 bg-[#222224] hover:bg-[#2a2a2c] rounded-[28px] transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:t.jsx("span",{className:"text-[#dcdce5] text-[14px] font-medium font-brockmann leading-5",children:e})})})}),s&&t.jsx(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:t.jsx("span",{className:"text-sm",children:"Please wake up the agent to process further"})})]})}),Sje=({title:e,description:n,secrets:s,visibilityState:r,copiedKey:i,editingCategory:a,onToggleVisibility:o,onCopy:l,onEdit:c,onSave:u,onValueChange:p,isCollapsed:f=!1,podIsPaused:m=!1})=>{const h=a===e,x=()=>{f||!h?c(e):u(e)};return s.length===0&&!f?null:f?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.12)] rounded-[12px] p-5 overflow-hidden",children:t.jsx(qx,{title:e,description:n,buttonText:"View & edit",onButtonClick:x})}),t.jsx("div",{className:"md:hidden px-5 overflow-hidden rounded-[12px]",children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsx(qx,{title:e,description:n,buttonText:"View & Edit",onButtonClick:x}),t.jsx(DA,{text:"View & Edit",onClick:x})]})})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.12)] rounded-[12px] p-5 overflow-hidden",children:t.jsxs("div",{className:"flex flex-col gap-8",children:[t.jsx(qx,{title:e,description:n,buttonText:h?"Save":"Edit",onButtonClick:x,disabled:m}),s.length>0&&t.jsx("div",{className:"flex flex-col gap-4",children:s.map(g=>t.jsx(AA,{label:E8(g.key),value:g.value,isVisible:r[g.key]||!1,onToggleVisibility:()=>o(g.key),onCopy:()=>l(g.key,g.value),isCopied:i===g.key,isEditing:h,onValueChange:v=>p(g.key,v)},g.key))})]})}),t.jsx("div",{className:"md:hidden px-5 overflow-hidden rounded-[12px]",children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsx(qx,{title:e,description:n,buttonText:h?"Save":"Edit",onButtonClick:x,disabled:m}),s.length>0&&t.jsx("div",{className:"flex flex-col gap-4",children:s.map(g=>t.jsx(AA,{label:E8(g.key),value:g.value,isVisible:r[g.key]||!1,onToggleVisibility:()=>o(g.key),onCopy:()=>l(g.key,g.value),isCopied:i===g.key,isEditing:h,onValueChange:v=>p(g.key,v)},g.key))}),t.jsx(DA,{text:h?"Save":"Edit",onClick:x,disabled:m})]})})]})},F3=({envs:e,onSyncStatusChange:n,saveEnvironmentVariables:s,deployStatus:r="not_deployed",jobId:i,updateEnvironmentVariables:a,onOpenEditModal:o,podIsPaused:l=!1})=>{const{toast:c}=ns(),[u,p]=d.useState(e),[f,m]=d.useState({}),[h,x]=d.useState(null),{copiedKey:g,handleCopy:v}=BC();d.useEffect(()=>{p(e)},[e]),d.useEffect(()=>{const F=u.some(E=>E.value!==E.originalValue);n(!F)},[u,n]);const{categorizedSecrets:b,visibleConfigs:y}=d.useMemo(()=>{if(!u.some(I=>I.system))return{categorizedSecrets:{"Custom keys":u},visibleConfigs:F8.filter(I=>I.title!=="System keys")};const E={"Custom keys":[],"System keys":[]};return u.forEach(I=>{I.system?E["System keys"].push(I):E["Custom keys"].push(I)}),{categorizedSecrets:E,visibleConfigs:[...F8]}},[u]),w=F=>{m(E=>({...E,[F]:!E[F]}))},_=(F,E)=>{const I=u.map(A=>A.key===F?{...A,value:E}:A);p(I),s&&s(I);const T=I.some(A=>A.value!==A.originalValue);n(!T)},N=F=>{const E=b[F]||[],I=Eje[F]||"";o(F,E,I)},j=async F=>{if(x(null),s&&s(u),r==="not_deployed"&&i&&a)try{await a(u)&&c({title:"Environment Variables Updated",description:"Your environment variables have been updated successfully.",duration:2e3})}catch{c({title:"Update Failed",description:"Failed to update environment variables. Please try again.",variant:"destructive",duration:2e3})}},S=y.filter(F=>(b[F.title]?.length??0)>0||F.isCollapsed).map(F=>t.jsx(Sje,{title:F.title,description:F.description,secrets:b[F.title],visibilityState:f,copiedKey:g,editingCategory:h,onToggleVisibility:w,onCopy:v,onEdit:N,onSave:j,onValueChange:_,isCollapsed:F.isCollapsed,podIsPaused:l},F.title));return e.length===0?t.jsx("div",{className:"w-full bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.08)] md:border-[rgba(255,255,255,0.12)] p-5 rounded-[12px]",children:t.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("p",{className:"font-brockmann font-medium leading-6 text-[16px] text-[#f2f5f7] tracking-[-0.32px]",children:"Secrets"}),t.jsx("p",{className:"font-['Inter'] font-normal leading-[18px] text-[12px] md:text-[13px] text-[#989ea0] md:text-[#7f8283]",children:"Environment variables for your app"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] flex items-center justify-center w-10 h-10 rounded-[8px] shrink-0",children:t.jsx(Ime,{size:20,className:"text-[#989ea0]"})}),t.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[t.jsx("p",{className:"font-['Inter'] font-medium leading-5 text-[14px] text-[#f2f5f7]",children:"--"}),t.jsx("p",{className:"font-['Inter'] font-normal leading-[18px] text-[12px] text-[#989ea0] md:text-[#7f8283]",children:"No environment variables added yet"})]})]})]})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"md:hidden bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.08)] rounded-[12px] py-5 flex flex-col gap-5",children:S.map((F,E)=>t.jsxs("div",{children:[F,E<S.length-1&&t.jsx("div",{className:"w-full h-px bg-[rgba(255,255,255,0.08)] mt-5"})]},E))}),t.jsx("div",{className:"hidden md:flex flex-col gap-4",children:S})]})},MA=({size:e=16,color:n="#0098FE",className:s="",style:r})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 16 16",fill:"none",className:k(s),style:r,children:[t.jsx("mask",{id:"mask0_hourglass",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:t.jsx("rect",{width:"16",height:"16",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_hourglass)",children:t.jsx("path",{d:"M7.99935 7.33325C8.73268 7.33325 9.36046 7.07214 9.88268 6.54992C10.4049 6.0277 10.666 5.39992 10.666 4.66658V2.66659H5.33268V4.66658C5.33268 5.39992 5.59379 6.0277 6.11602 6.54992C6.63824 7.07214 7.26602 7.33325 7.99935 7.33325ZM2.66602 14.6666V13.3333H3.99935V11.3333C3.99935 10.6555 4.15768 10.0194 4.47435 9.42492C4.79102 8.83047 5.23268 8.35547 5.79935 7.99992C5.23268 7.64436 4.79102 7.16936 4.47435 6.57492C4.15768 5.98047 3.99935 5.34436 3.99935 4.66658V2.66659H2.66602V1.33325H13.3327V2.66659H11.9993V4.66658C11.9993 5.34436 11.841 5.98047 11.5243 6.57492C11.2077 7.16936 10.766 7.64436 10.1993 7.99992C10.766 8.35547 11.2077 8.83047 11.5243 9.42492C11.841 10.0194 11.9993 10.6555 11.9993 11.3333V13.3333H13.3327V14.6666H2.66602Z",fill:n})})]}),kje=({size:e=20,color:n="#DCDCE5",className:s="",style:r})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 20 20",fill:"none",className:k(s),style:r,children:[t.jsx("mask",{id:"mask0_sync",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:t.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_sync)",children:t.jsx("path",{d:"M3.33398 16.6666V14.9999H5.62565L5.29232 14.7083C4.5701 14.0694 4.06315 13.3402 3.77148 12.5208C3.47982 11.7013 3.33398 10.8749 3.33398 10.0416C3.33398 8.49992 3.79579 7.12839 4.7194 5.927C5.64301 4.72561 6.84787 3.93047 8.33398 3.54159V5.29159C7.33398 5.6527 6.52843 6.26728 5.91732 7.13534C5.30621 8.00339 5.00065 8.97214 5.00065 10.0416C5.00065 10.6666 5.11871 11.2742 5.35482 11.8645C5.59093 12.4548 5.95898 12.9999 6.45898 13.4999L6.66732 13.7083V11.6666H8.33398V16.6666H3.33398ZM11.6673 16.4583V14.7083C12.6673 14.3471 13.4729 13.7326 14.084 12.8645C14.6951 11.9964 15.0007 11.0277 15.0007 9.95825C15.0007 9.33325 14.8826 8.72561 14.6465 8.13534C14.4104 7.54506 14.0423 6.99992 13.5423 6.49992L13.334 6.29159V8.33325H11.6673V3.33325H16.6673V4.99992H14.3757L14.709 5.29159C15.3895 5.97214 15.8861 6.71172 16.1986 7.51034C16.5111 8.30895 16.6673 9.12492 16.6673 9.95825C16.6673 11.4999 16.2055 12.8714 15.2819 14.0728C14.3583 15.2742 13.1534 16.0694 11.6673 16.4583Z",fill:n})})]}),h5=({color:e="white",size:n=20,className:s=""})=>{const r=e==="white"?"255, 255, 255":"0, 0, 0";return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 20 20",fill:"none",className:`animate-spin ${s}`,children:[t.jsx("defs",{children:t.jsx("clipPath",{id:`spinner-clip-${e}`,children:t.jsx("path",{d:"M18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10ZM5.2 10C5.2 12.651 7.34903 14.8 10 14.8C12.651 14.8 14.8 12.651 14.8 10C14.8 7.34903 12.651 5.2 10 5.2C7.34903 5.2 5.2 7.34903 5.2 10Z"})})}),t.jsx("g",{clipPath:`url(#spinner-clip-${e})`,children:t.jsx("g",{transform:"matrix(0 0.008 -0.008 0 10 10)",children:t.jsx("foreignObject",{x:"-1095.24",y:"-1095.24",width:"2190.48",height:"2190.48",children:t.jsx("div",{style:{background:`conic-gradient(from 90deg, rgba(${r}, 1) 0deg, rgba(${r}, 0) 360deg)`,height:"100%",width:"100%",opacity:1}})})})})]})};var Ny={exports:{}},RA;function Ije(){return RA||(RA=1,(function(e){function n(f){return f&&f.__esModule?f.default:f}function s(f,m,h,x){Object.defineProperty(f,m,{get:h,set:x,enumerable:!0,configurable:!0})}s(e.exports,"showEntri",()=>o),s(e.exports,"checkDomain",()=>l),s(e.exports,"purchaseDomain",()=>c),s(e.exports,"close",()=>u),s(e.exports,"load",()=>p);var r={};r=JSON.parse('{"name":"entrijs","version":"0.0.16","description":"Entri","source":"src/index.ts","main":"dist/main.js","types":"dist/types.d.ts","scripts":{"build":"parcel build --no-cache","test":"echo \\"Error: no test specified\\" && exit 1"},"author":"Entri LLC","license":"MIT","dependencies":{"react":"^18.2.0"},"devDependencies":{"@parcel/packager-ts":"^2.12.0","@parcel/transformer-typescript-types":"^2.12.0","parcel":"^2.12.0","typescript":"^5.5.4"}}');function i(){return new Promise((f,m)=>{const h=window.entri;if(h){f(h);return}const x=document.createElement("script");x.type="text/javascript",x.src="https://cdn.goentri.com/entri.js",x.addEventListener("load",()=>{f(window.entri)}),x.addEventListener("error",()=>{m(new Error("Failed to load the Entri SDK."))}),document.body.appendChild(x)})}const a=f=>({...f,npm:!0,npmVersion:n(r)?.version??""}),o=async f=>(await i()).showEntri(a(f)),l=async(f,m)=>(await i()).checkDomain(f,m),c=async f=>(await i()).purchaseDomain(a(f)),u=async()=>(await i()).close(),p=async()=>await i()})(Ny)),Ny.exports}var Fy=Ije();class Tje{constructor(){Vt(this,"applicationId");this.applicationId="emergent"}async fetchEntriToken(){try{const{supabase:n}=await vn(async()=>{const{supabase:a}=await Promise.resolve().then(()=>uY);return{supabase:a}},void 0),{data:{session:s},error:r}=await n.auth.getSession();if(r||!s)throw new Error("Authentication required. Please log in again.");return(await vt.getEntriToken()).token}catch(n){throw n.code==="ERR_NETWORK"||n.message?.includes("Network Error"),n}}async launchEntriModal(n,s,r){try{const i=await this.fetchEntriToken(),a={applicationId:this.applicationId,token:i,dnsRecords:s,prefilledDomain:n,applicationName:"Emergent",...r&&{userId:r}};return new Promise(o=>{const l=c=>{window.removeEventListener("onEntriClose",l),o({success:c.detail?.success||!1,domain:c.detail?.domain,setupType:c.detail?.setupType})};window.addEventListener("onEntriClose",l,!1),Fy.showEntri(a).catch(c=>{window.removeEventListener("onEntriClose",l),o({success:!1})})})}catch(i){throw i}}parseDomain(n){if(!n)return{subdomain:null,rootDomain:"",isSubdomain:!1};const s=n.replace(/^https?:\/\//,"").toLowerCase(),r=s.split("."),i=["co.uk","com.au","co.nz","co.za","com.br","co.in","net.au","org.uk","ac.uk"];let a=2;for(const o of i)if(s.endsWith(o)){a=3;break}if(r.length>a){const o=r.slice(0,r.length-a),l=r.slice(r.length-a);return{subdomain:o.join("."),rootDomain:l.join("."),isSubdomain:!0}}return{subdomain:null,rootDomain:s,isSubdomain:!1}}formatDnsRecordsForEntri(n,s){return n.map(r=>({type:r.type,host:r.name||"@",value:r.value||"",ttl:300,...r.type.toUpperCase()==="MX"?{priority:10}:{}}))}async checkDomainSupport(n,s){try{const r=await this.fetchEntriToken(),i={applicationId:this.applicationId,token:r,dnsRecords:s};return await Fy.checkDomain(n,i)}catch(r){throw r}}createDnsRecordsWithWildcard(n,s=!0){const r=[{type:"A",host:"@",value:n,ttl:300}];return s&&r.push({type:"A",host:"*",value:n,ttl:300}),r}async launchEntriSellModal(n,s=!1,r,i){try{let a=!1,o=i;if(i){const v=this.parseDomain(i);v.isSubdomain&&(a=!0,o=v.rootDomain)}const l=await this.fetchEntriToken(),c=window.location.origin,u=encodeURIComponent(window.location.pathname+window.location.search),p=`${c}/domain-success?returnPath=${u}`,f=`${c}/domain-exit?returnPath=${u}`,m=!1,h=`${c}/entri_logo.svg`,x=`${c}/entri_icon.svg`,g={applicationId:this.applicationId,token:l,sellVersion:"v3",successCallbackUrl:p,exitCallbackUrl:f,dnsRecords:n,freeDomain:s,debugMode:m,locale:"en",...r&&{userId:r},whiteLabel:{sell:{partnerLogo:h,partnerIcon:x,partnerName:"Emergent",overlayScreenHeight:"70%",flowTarget:"_self"},customCopy:{initialScreen:{title:{en:"Buy your domain with Emergent"},marketingCopy:{en:"Search, pick, and own a clean memorable domain for your project."}}},hideEntriLogo:!1,hideCompanyLogo:!1,hideCompanyName:!1,theme:{primary:"#0070F3",onPrimary:"#FFFFFF",secondary:"#0070F3",onSecondary:"#FFFFFF",headerBackground:"#0B1221",interactive:"#4d9fff",premiumBadge:"#00ffcc",onPremiumBadge:"#ffffff",priceBadge:"#ff6600",onPriceBadge:"#ffffff",activating:"#0070F3",onActivating:"#FFFFFF"}}};return new Promise(v=>{let b=!1;const y=_=>{if(!b){window.removeEventListener("onEntriClose",y),window.removeEventListener("popstate",w),b=!0;const N=_.detail?.domain,j=_.detail?.success||!1;v({success:j,domain:N,setupType:"purchase",wasSubdomainRequest:a})}},w=()=>{if(b)return;const _=window.location.pathname,N=new URLSearchParams(window.location.search),j=N.get("domain"),C=N.get("returnPath"),S=()=>{if(C){const F=decodeURIComponent(C);window.location.href=window.location.origin+F}else window.location.href=window.location.origin+"/home"};_.includes("/domain-success")&&j?(window.removeEventListener("popstate",w),window.removeEventListener("onEntriClose",y),b=!0,S(),v({success:!0,domain:j,setupType:"purchase",wasSubdomainRequest:a})):_.includes("/domain-exit")&&(window.removeEventListener("popstate",w),window.removeEventListener("onEntriClose",y),b=!0,S(),v({success:!1,setupType:"purchase",wasSubdomainRequest:a}))};window.addEventListener("onEntriClose",y,!1),window.addEventListener("popstate",w),setTimeout(w,100),Fy.purchaseDomain(g).catch(_=>{window.removeEventListener("onEntriClose",y),window.removeEventListener("popstate",w),b||(b=!0,v({success:!1,wasSubdomainRequest:a}))})})}catch(a){throw a}}}const Kx=new Tje,UC=({onSuccess:e,onError:n,onCancel:s,onPurchaseSuccess:r}={})=>{const[i,a]=d.useState(!1),{toast:o}=ns(),l=d.useCallback(async(u,p,f)=>{a(!0);try{const m=Kx.formatDnsRecordsForEntri(p.filter(x=>x.value),u),h=await Kx.launchEntriModal(u,m,f);h.success?(o({title:"Domain Configuration Complete",description:`DNS records have been configured ${h.setupType==="automatic"?"automatically":"manually"}. Verification may take a few minutes.`,duration:5e3}),e?.()):(o({title:"Configuration Cancelled",description:"Domain configuration was not completed. You can try again or configure DNS manually.",variant:"default",duration:5e3}),s?.())}catch(m){o({title:"Configuration Failed",description:m.message||"Failed to configure domain with Entri",variant:"destructive",duration:5e3}),s?.(),n?.(m)}finally{a(!1)}},[o,e,n,s]),c=d.useCallback(async(u,p=!0)=>{a(!0);try{let f;try{const x=await vt.getEntriToken(u);if(!x.ip_address)throw new Error("IP address not found in Entri info response");f=x.ip_address}catch(x){o({title:"Unable to Fetch Deployment Configuration",description:"Could not retrieve the deployment IP address. Please try again later or contact support.",variant:"destructive",duration:5e3}),a(!1),n?.(x);return}const m=Kx.createDnsRecordsWithWildcard(f,!0),h=await Kx.launchEntriSellModal(m,p,u);h.success&&h.domain?(o({title:"Domain Purchased Successfully",description:`Your domain ${h.domain} has been purchased and DNS records are being configured. Please wait a few minutes for propagation.`,duration:7e3}),r?.(h.domain),e?.(h.domain)):o({title:"Purchase Cancelled",description:"Domain purchase was not completed. You can try again or link an existing domain.",variant:"default",duration:5e3})}catch(f){o({title:"Purchase Failed",description:f.message||"Failed to purchase domain through Entri",variant:"destructive",duration:5e3}),n?.(f)}finally{a(!1)}},[o,e,n,r]);return{launchEntriForDomain:l,purchaseDomain:c,isLoading:i}},Aje=({value:e,onChange:n,disabled:s=!1})=>t.jsx("div",{className:k("rounded-[12px] border border-[rgba(255,255,255,0.12)] focus-within:border-white",s&&"opacity-50"),children:t.jsx("input",{type:"text",value:e,onChange:r=>n(r.target.value),placeholder:"Enter your domain here",disabled:s,className:"w-full px-3 py-[14px] text-sm font-['Inter'] font-normal text-white bg-transparent placeholder:text-[#898c8e] focus:outline-none disabled:cursor-not-allowed"})}),Dje=({isOpen:e,onClose:n,domain:s,onDomainChange:r,onAutoLink:i,onLinkManually:a,isAutoLinking:o,isManualLinking:l,isProcessing:c,isFormValid:u})=>t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"overflow-clip bg-[#0F0F10] max-md:h-full max-md:flex max-md:flex-col",children:[t.jsx("div",{className:"flex items-center shrink-0 px-2 pt-2 pb-2",children:t.jsx("button",{type:"button",onClick:n,className:"flex items-center justify-center w-10 h-10 rounded-full text-[#f2f5f7] hover:bg-white/10 transition-colors",children:t.jsx(nc,{className:"w-6 h-6"})})}),t.jsx("div",{className:"flex-1 overflow-y-auto px-5 pt-2 pb-6",children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("h2",{className:"text-[#f2f5f7] text-[22px] font-semibold font-brockmann leading-7 tracking-[-0.44px]",children:"Connect custom domain"}),t.jsx("p",{className:"text-[#989ea0] text-[14px] font-normal font-['Inter'] leading-5",children:"Add your domain to give your app a clean, memorable address"})]}),t.jsx("div",{className:"rounded-[12px] border border-[rgba(255,255,255,0.12)] focus-within:border-white",children:t.jsx("input",{type:"text",value:s,onChange:p=>r(p.target.value),placeholder:"Enter your domain here",className:"w-full px-3 py-[14px] text-sm font-['Inter'] font-normal text-white bg-transparent placeholder:text-[#898c8e] focus:outline-none"})})]})}),t.jsx("div",{className:"shrink-0 px-4 py-5 bg-[#141415] border-t border-[rgba(255,255,255,0.08)]",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>{a()},disabled:l||c||!u,className:k("relative flex-1 flex items-center justify-center px-6 py-2 bg-[rgba(255,255,255,0.08)] hover:bg-white/12 rounded-lg text-white text-[16px] font-medium font-brockmann leading-6 tracking-[-0.32px] transition-colors",(l||c||!u)&&"opacity-50 cursor-not-allowed"),children:[t.jsx("span",{className:k(l&&"invisible"),children:"Link manually"}),l&&t.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(h5,{color:"white",size:20})})]}),t.jsxs("button",{type:"button",onClick:()=>{i()},disabled:c||!u,className:k("relative flex-1 flex items-center justify-center px-6 py-2 rounded-lg text-[16px] font-semibold font-brockmann leading-6 tracking-[-0.32px] transition-colors",c||!u?"bg-white/50 text-black/50 cursor-not-allowed":"bg-white text-[#060809] hover:bg-white/90"),children:[t.jsx("span",{className:k(o&&"invisible"),children:"Auto-link"}),o&&t.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(h5,{color:"black",size:20})})]})]})})]}),cW=({jobId:e,loading:n,customDomain:s,registerDomain:r,verifyDomain:i,onOpenManualLinkModal:a,onOpenManualLinkModalWithRecords:o,onUnlinkDomain:l,unlinkDomainDirect:c,refetchCustomDomain:u,fetchDnsRecordsOnly:p,shouldExpandForm:f,onFormExpanded:m,onOpenConnectModal:h,isHighlighted:x,onHighlightComplete:g,onOpenSwitchDomainModal:v,disabled:b=!1})=>{const{toast:y}=ns(),[w,_]=d.useState(""),[N,j]=d.useState(!1),[C,S]=d.useState(!1),[F,E]=d.useState(!1),[I,T]=d.useState(!1),A=d.useRef(null),D=d.useRef(!0);d.useEffect(()=>(D.current=!0,()=>{D.current=!1,A.current&&(clearTimeout(A.current),A.current=null)}),[]),d.useEffect(()=>{f&&m?.()},[f,m]),d.useEffect(()=>{if(x&&!I){T(!0);const Q=setTimeout(()=>{T(!1),g?.()},800);return()=>clearTimeout(Q)}},[x,I,g]);const{launchEntriForDomain:O,isLoading:M}=UC({onSuccess:async()=>{if(H(ur.ENTRI_SUCCESS,{jobId:e,domain:w}),w){try{await i(w)}catch{}await u()}},onCancel:async()=>{if(H(ur.ENTRI_CANCELLED,{jobId:e,domain:w}),w&&c)try{await c(w)}catch{}},onPurchaseSuccess:async Q=>{_(Q);let he=0;const me=10,ce=2e3,ee=async()=>{D.current&&he<me&&(await u(),he++,D.current&&(A.current=setTimeout(ee,ce)))};ee()}});d.useEffect(()=>{s?.domain&&!w&&_(s.domain)},[s?.domain]);const L=Q=>/^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$/i.test(Q),P=async()=>{if(s?.domain){H(ur.STATUS_REFRESH_CLICKED,{jobId:e,domain:s.domain}),j(!0);try{await i(s.domain),await u(),y({title:"Status Updated",description:"Domain status has been refreshed",duration:1500})}catch(Q){y({title:"Status Check Failed",description:Q?.message||"Failed to check domain status",variant:"destructive",duration:3e3})}finally{j(!1)}}},B=async()=>{const Q=await p();Q?.dns_records&&Q.dns_records.length>0?O(w,Q.dns_records,e):y({title:"DNS Records Unavailable",description:"Failed to fetch DNS records. Please try again or use manual linking.",variant:"destructive",duration:3e3})},G=async()=>{if(!w||!L(w)){y({title:"Invalid Domain",description:"Please enter a valid domain name",variant:"destructive",duration:3e3});return}H(ur.AUTO_LINK_CLICKED,{jobId:e,domain:w}),S(!0);try{await r(w),await B()}catch(Q){if(H(ur.AUTO_LINK_FAILED,{jobId:e,domain:w,error:Q?.error||Q?.message}),Q?.error?.code==="domain_already_linked"){v?.(w,Q.error.linked_app_name,Q.error.linked_app_id,B);return}let he=Q?.error||Q?.message||"Failed to register domain";Q?.error?.code&&(he=Q?.error?.error),y({title:"Registration Failed",description:he,variant:"destructive",duration:3e3})}finally{S(!1)}},$=async()=>{const Q=await p();Q?.dns_records&&Q.dns_records.length>0?(o?.(Q.dns_records,w),y({title:"Domain Registered",description:"Please add the DNS records to verify your domain",duration:3e3})):y({title:"DNS Records Unavailable",description:"Domain was registered but DNS records could not be fetched. Please try refreshing.",variant:"destructive",duration:3e3})},te=async()=>{if(!w||!L(w)){y({title:"Invalid Domain",description:"Please enter a valid domain name",variant:"destructive",duration:3e3});return}H(ur.MANUAL_LINK_CLICKED,{jobId:e,domain:w}),E(!0);try{await r(w),await $()}catch(Q){if(H(ur.MANUAL_LINK_FAILED,{jobId:e,domain:w,error:Q?.error||Q?.message}),Q?.error?.code==="domain_already_linked"){v?.(w,Q.error.linked_app_name,Q.error.linked_app_id,$);return}let he=Q?.error||Q?.message||"Failed to register domain";Q?.error?.code&&(he=Q?.error?.error),y({title:"Registration Failed",description:he,variant:"destructive",duration:3e3})}finally{E(!1)}},U=s?.status,oe=!!s,Y=U==="pending",W=U==="verified",Z=U==="failed",le=w&&L(w),q=n||M||C;return oe?t.jsx("div",{className:"p-5 bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.08)] md:border-[rgba(255,255,255,0.12)] rounded-[12px] overflow-clip",children:t.jsxs("div",{className:"flex flex-col gap-8",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h3",{className:"text-[#f2f5f7] text-[16px] font-medium font-brockmann leading-6 tracking-[-0.32px]",children:"Custom Domain"}),t.jsxs("p",{className:"text-[#989ea0] md:text-[#7f8283] text-[12px] md:text-[13px] font-normal font-['Inter'] leading-[18px]",children:[t.jsx("span",{className:"md:hidden",children:"Add a clean, memorable URL to your app"}),t.jsxs("span",{className:"hidden md:inline",children:["Add your domain to give your app a clean, memorable address."," ",t.jsx("a",{href:ha.howToAddDomains,target:"_blank",rel:"noopener noreferrer",className:"font-['Inter'] font-medium text-[14px] text-[#7F8283] underline hover:text-white/80 transition-colors",children:"Learn more"})]})]})]})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"h-12 pl-4 pr-2 py-2 bg-[rgba(255,255,255,0.04)] backdrop-blur-[6px] border border-[rgba(255,255,255,0.12)] rounded-[12px] flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[t.jsx(Ame,{size:20,className:"text-white/48 -rotate-45 shrink-0"}),W?t.jsx("span",{className:"text-[14px] text-white font-normal font-['Inter'] leading-5 truncate",children:s?.domain}):t.jsx("span",{className:"text-[14px] text-white md:text-[rgba(255,255,255,0.48)] font-normal font-['Inter'] leading-5 truncate",children:s?.domain})]}),t.jsxs("div",{className:"flex items-center gap-2 md:gap-4 shrink-0",children:[(Y||Z)&&t.jsx("button",{type:"button",onClick:P,disabled:N||n,className:"p-1.5 bg-[rgba(255,255,255,0.08)] hover:bg-white/12 rounded-lg transition-colors",title:"Refresh status",children:t.jsx(kje,{size:20,className:k((N||n)&&"animate-spin")})}),W&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(xn,{size:16,className:"text-[#1fe884]"}),t.jsx("span",{className:"text-[#1fe884] font-medium text-sm font-['Inter'] leading-5",children:"Linked"})]}),s&&t.jsx("button",{type:"button",onClick:()=>l?.(s.domain),className:"flex p-1.5 bg-[rgba(255,255,255,0.08)] hover:bg-white/12 rounded-lg transition-colors",title:"Unlink domain",children:t.jsx(Tme,{size:20,className:"text-white"})})]})]}),Y&&t.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[t.jsx(MA,{size:16,color:"#0098FE"}),t.jsx("span",{className:"text-[#0098fe] text-[12px] md:text-sm font-medium font-['Inter'] leading-[18px] md:leading-5",children:"Linking in progress"}),t.jsxs("span",{className:"text-[rgba(255,255,255,0.64)] text-[12px] md:text-[14px] font-normal font-['Inter'] leading-[18px] md:leading-5",children:[t.jsx("span",{className:"md:hidden",children:"Typically takes 10-15 mins"}),t.jsx("span",{className:"hidden md:inline",children:"Recheck the DNS records you've added"})]})]}),Z&&t.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[t.jsx(MA,{size:16,color:"#F3CA5F"}),t.jsx("span",{className:"text-[#f3ca5f] text-[12px] md:text-sm font-medium font-['Inter'] leading-[18px] md:leading-5",children:"Linking is pending"}),t.jsxs("span",{className:"text-[rgba(255,255,255,0.64)] text-[12px] md:text-[14px] font-normal font-['Inter'] leading-[18px] md:leading-5",children:[t.jsx("span",{className:"md:hidden",children:"Typically takes 10-15 mins"}),t.jsx("span",{className:"hidden md:inline",children:"Recheck the DNS records you've added"})]})]})]}),(Y||Z)&&t.jsx("button",{type:"button",onClick:a,className:"self-start px-6 py-1.5 bg-[rgba(255,255,255,0.08)] hover:bg-white/12 rounded-lg text-white text-[14px] font-medium font-brockmann leading-5 tracking-[-0.28px] transition-colors",children:"View DNS records"})]})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:k("p-5 bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.08)] md:border-[rgba(255,255,255,0.12)] rounded-[12px] overflow-clip",I&&"animate-blink-border"),children:[t.jsxs("div",{className:"flex flex-col gap-6 md:hidden",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h3",{className:"text-[#f2f5f7] text-[16px] font-medium font-brockmann leading-6 tracking-[-0.32px]",children:"Custom Domain"}),t.jsx("p",{className:"text-[#989ea0] text-[12px] font-normal font-['Inter'] leading-[18px]",children:"Add a clean, memorable URL to your app"})]}),t.jsxs("button",{type:"button",onClick:()=>h?.(),disabled:b,className:k("flex items-center gap-2 self-start px-4 py-1.5 bg-[rgba(255,255,255,0.08)] hover:bg-white/12 rounded-lg transition-colors",b&&"opacity-50 cursor-not-allowed"),children:[t.jsx(ma,{size:16,className:"text-[#dcdce5]"}),t.jsx("span",{className:"text-[#dcdce5] text-[14px] font-medium font-brockmann leading-5",children:"Add your Domain"})]})]}),t.jsxs("div",{className:"hidden md:flex flex-col gap-8",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h3",{className:"text-[#f2f5f7] text-[16px] font-medium font-brockmann leading-6 tracking-[-0.32px]",children:"Custom Domain"}),t.jsxs("p",{className:"text-[#7f8283] text-[13px] font-normal font-['Inter'] leading-[18px]",children:["Add your domain to give your app a clean, memorable address."," ",t.jsx("a",{href:ha.howToAddDomains,target:"_blank",rel:"noopener noreferrer",className:"font-['Inter'] font-medium text-[14px] text-[#7F8283] underline hover:text-white/80 transition-colors",children:"Learn more"})]})]})}),t.jsx(Aje,{value:w,onChange:_,disabled:b}),t.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[t.jsxs("button",{type:"button",onClick:G,disabled:b||q||!le,className:k("relative px-6 py-1.5 rounded-lg text-sm font-semibold tracking-[-0.28px] transition-colors flex items-center justify-center gap-2",b||q||!le?"bg-white/50 text-black/50 cursor-not-allowed":"bg-white text-black hover:bg-white/90"),children:[t.jsx("span",{className:k(C&&"invisible"),children:"Auto-link Domain"}),C&&t.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(h5,{color:"black",size:20})})]}),t.jsxs("button",{type:"button",onClick:te,disabled:b||F||q||!le,className:k("relative px-6 py-1.5 bg-[rgba(255,255,255,0.08)] hover:bg-white/12 rounded-lg text-white text-sm font-medium tracking-[-0.28px] transition-colors flex items-center justify-center gap-2",(b||F||q||!le)&&"opacity-50 cursor-not-allowed"),children:[t.jsx("span",{className:k(F&&"invisible"),children:"Link Manually"}),F&&t.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(h5,{color:"white",size:20})})]})]})]})]})})},Mje="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_8613_47701)'%3e%3ccircle%20opacity='0.1'%20cx='14'%20cy='14'%20r='14'%20fill='%23F3CA5F'/%3e%3cpath%20d='M14%204C19.5227%204.00009%2024%208.47731%2024%2014C23.9999%2019.5226%2019.5226%2023.9999%2014%2024C8.47731%2024%204.00009%2019.5227%204%2014C4%208.47725%208.47725%204%2014%204ZM14.5107%209.7373C14.1812%208.92078%2013.9035%208.64721%2013.5078%209.62207C12.6422%2011.6997%2011.6087%2012.6895%209.57422%2013.5469C9.36996%2013.6412%209.00239%2013.8057%209%2014C9.00275%2014.1941%209.36765%2014.3578%209.57422%2014.4521C11.6061%2015.307%2012.6423%2016.2995%2013.5078%2018.377C13.9083%2019.3693%2014.1869%2019.0582%2014.5107%2018.2627C15.3788%2016.2546%2016.3482%2015.3223%2018.3955%2014.4521C18.6102%2014.3498%2018.9641%2014.2136%2019%2014.0098V13.9873C18.9641%2013.7851%2018.6125%2013.6473%2018.3955%2013.5449V13.5469C16.3485%2012.6768%2015.3787%2011.746%2014.5107%209.7373Z'%20fill='%23F3CA5F'/%3e%3cpath%20d='M14%204C19.5227%204.00009%2024%208.47731%2024%2014C23.9999%2019.5226%2019.5226%2023.9999%2014%2024C8.47731%2024%204.00009%2019.5227%204%2014C4%208.47725%208.47725%204%2014%204ZM14.5107%209.7373C14.1812%208.92078%2013.9035%208.64721%2013.5078%209.62207C12.6422%2011.6997%2011.6087%2012.6895%209.57422%2013.5469C9.36996%2013.6412%209.00239%2013.8057%209%2014C9.00275%2014.1941%209.36765%2014.3578%209.57422%2014.4521C11.6061%2015.307%2012.6423%2016.2995%2013.5078%2018.377C13.9083%2019.3693%2014.1869%2019.0582%2014.5107%2018.2627C15.3788%2016.2546%2016.3482%2015.3223%2018.3955%2014.4521C18.6102%2014.3498%2018.9641%2014.2136%2019%2014.0098V13.9873C18.9641%2013.7851%2018.6125%2013.6473%2018.3955%2013.5449V13.5469C16.3485%2012.6768%2015.3787%2011.746%2014.5107%209.7373Z'%20fill='url(%23paint0_linear_8613_47701)'%20style='mix-blend-mode:overlay'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_8613_47701'%20x1='14'%20y1='4'%20x2='14'%20y2='24'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='white'/%3e%3cstop%20offset='1'/%3e%3c/linearGradient%3e%3cclipPath%20id='clip0_8613_47701'%3e%3crect%20width='28'%20height='28'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",LA=({size:e=24,className:n,color:s="white",opacity:r=.8})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:n,children:t.jsx("path",{d:"M9 14V10C9 9.71667 9.09583 9.47917 9.2875 9.2875C9.47917 9.09583 9.71667 9 10 9H14C14.2833 9 14.5208 9.09583 14.7125 9.2875C14.9042 9.47917 15 9.71667 15 10V14C15 14.2833 14.9042 14.5208 14.7125 14.7125C14.5208 14.9042 14.2833 15 14 15H10C9.71667 15 9.47917 14.9042 9.2875 14.7125C9.09583 14.5208 9 14.2833 9 14ZM9 20V19H7C6.45 19 5.97917 18.8042 5.5875 18.4125C5.19583 18.0208 5 17.55 5 17V15H4C3.71667 15 3.47917 14.9042 3.2875 14.7125C3.09583 14.5208 3 14.2833 3 14C3 13.7167 3.09583 13.4792 3.2875 13.2875C3.47917 13.0958 3.71667 13 4 13H5V11H4C3.71667 11 3.47917 10.9042 3.2875 10.7125C3.09583 10.5208 3 10.2833 3 10C3 9.71667 3.09583 9.47917 3.2875 9.2875C3.47917 9.09583 3.71667 9 4 9H5V7C5 6.45 5.19583 5.97917 5.5875 5.5875C5.97917 5.19583 6.45 5 7 5H9V4C9 3.71667 9.09583 3.47917 9.2875 3.2875C9.47917 3.09583 9.71667 3 10 3C10.2833 3 10.5208 3.09583 10.7125 3.2875C10.9042 3.47917 11 3.71667 11 4V5H13V4C13 3.71667 13.0958 3.47917 13.2875 3.2875C13.4792 3.09583 13.7167 3 14 3C14.2833 3 14.5208 3.09583 14.7125 3.2875C14.9042 3.47917 15 3.71667 15 4V5H17C17.55 5 18.0208 5.19583 18.4125 5.5875C18.8042 5.97917 19 6.45 19 7V9H20C20.2833 9 20.5208 9.09583 20.7125 9.2875C20.9042 9.47917 21 9.71667 21 10C21 10.2833 20.9042 10.5208 20.7125 10.7125C20.5208 10.9042 20.2833 11 20 11H19V13H20C20.2833 13 20.5208 13.0958 20.7125 13.2875C20.9042 13.4792 21 13.7167 21 14C21 14.2833 20.9042 14.5208 20.7125 14.7125C20.5208 14.9042 20.2833 15 20 15H19V17C19 17.55 18.8042 18.0208 18.4125 18.4125C18.0208 18.8042 17.55 19 17 19H15V20C15 20.2833 14.9042 20.5208 14.7125 20.7125C14.5208 20.9042 14.2833 21 14 21C13.7167 21 13.4792 20.9042 13.2875 20.7125C13.0958 20.5208 13 20.2833 13 20V19H11V20C11 20.2833 10.9042 20.5208 10.7125 20.7125C10.5208 20.9042 10.2833 21 10 21C9.71667 21 9.47917 20.9042 9.2875 20.7125C9.09583 20.5208 9 20.2833 9 20ZM17 17V7H7V17H17Z",fill:s,fillOpacity:r})}),Rje=e=>e.endsWith("m")?`${parseInt(e.slice(0,-1),10)/1e3} vCPU`:`${e} vCPU`,Lje=e=>e.endsWith("Gi")?`${parseInt(e.slice(0,-2),10)} GB RAM`:e.endsWith("Mi")?`${parseInt(e.slice(0,-2),10)} MB RAM`:e,E3=({tierInfo:e,onOpenResourcesModal:n,hasNoSuccessfulDeployment:s=!1})=>{const{tiers:r,defaultTier:i,isLoading:a}=_3({currentTierId:e?.id}),o=e?.id||i,l=r.find(v=>v.id===o)||r[0],c=e?.name||l?.name||"Basic",u=e?Rje(e.vpa_enabled?e.cpu_limit:e.cpu):l?.vCPU||"",p=e?Lje(e.vpa_enabled?e.memory_limit:e.memory):l?.ram||"",f=r.length>0?r[r.length-1]:null,m=f&&o===f.id,h=m?"Downgrade":"Upgrade",x=l?.creditsPerMonth||50,g=()=>{H(m?ua.RESOURCES_DOWNGRADE_BUTTON_CLICKED:ua.RESOURCES_UPGRADE_BUTTON_CLICKED,{currentTierId:o,currentTierName:l?.name,isOnHighestTier:!!m}),n()};return t.jsx(fe.div,{className:"w-full bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.08)] md:border-[rgba(255,255,255,0.12)] p-5 rounded-[12px] overflow-clip",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.25,.46,.45,.94]},children:t.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[t.jsx("div",{className:"flex items-center justify-center w-full",children:t.jsxs("div",{className:"flex flex-1 flex-col gap-1 items-start relative",children:[t.jsx("p",{className:"font-['Brockmann'] font-medium leading-6 text-[16px] text-[#f2f5f7] tracking-[-0.32px]",children:"Resources"}),t.jsx("p",{className:"font-['Inter'] font-normal leading-[18px] text-[12px] md:text-[13px] text-[#989ea0] md:text-[#7f8283]",children:"Power allocated to keep your app fast, stable, and online"}),!s&&t.jsxs("div",{className:"absolute right-0 top-0 hidden md:flex items-center gap-1 bg-[rgba(243,202,95,0.24)] pl-1 pr-2 py-0.5 rounded-[12px]",children:[t.jsx("img",{src:Mje,alt:"Credits",className:"w-4 h-4"}),t.jsxs("span",{className:"font-['Inter'] font-medium text-[12px] leading-[18px] text-[#f3ca5f]",children:[x," credits / month"]})]})]})}),s?t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] flex items-center justify-center w-10 h-10 rounded-[8px] shrink-0",children:t.jsx(LA,{size:24})}),t.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[t.jsx("p",{className:"font-['Inter'] font-medium leading-5 text-[14px] text-[#f2f5f7]",children:"--"}),t.jsx("p",{className:"font-['Inter'] font-normal leading-[18px] text-[12px] text-[#989ea0] md:text-[#7f8283]",children:"No resources allocated yet"})]})]}):t.jsxs("div",{className:"flex flex-col gap-4 md:gap-0 md:flex-row md:items-center md:justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] flex items-center justify-center w-10 h-10 rounded-[8px] shrink-0",children:t.jsx(LA,{size:24})}),t.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[t.jsx("p",{className:"font-['Inter'] font-medium leading-5 text-[14px] text-[#f2f5f7]",children:a&&!e?"Loading...":c}),t.jsx("p",{className:"font-['Inter'] font-normal leading-[18px] text-[12px] text-[#989ea0] md:text-[#7f8283]",children:a&&!e?"...":`${u}  ${p}`})]})]}),t.jsx("button",{onClick:g,className:"bg-[#222224] hover:bg-[#2a2a2c] flex items-center justify-center gap-2 w-full md:w-auto px-5 py-2.5 rounded-[28px] transition-colors",children:t.jsx("p",{className:"font-['Brockmann'] font-medium leading-5 text-[14px] text-[#dcdce5]",children:h})})]})]})})},S3=({onShutdown:e})=>t.jsxs("div",{className:"md:hidden bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.08)] rounded-[12px] py-5 overflow-clip",children:[t.jsxs("div",{className:"flex flex-col gap-0.5 px-4",children:[t.jsx("p",{className:"text-[#f2f5f7] text-[16px] font-medium font-brockmann leading-6 tracking-[-0.32px]",children:"Shutting down will take your app offline"}),t.jsx("p",{className:"text-[#989ea0] text-[14px] font-normal font-['Inter'] leading-5",children:"Your app won't be accessible to users, but your code and data stay safe. You can restart it anytime with one click."})]}),t.jsx("div",{className:"px-4 mt-5",children:t.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-1.5 px-3 py-1.5 bg-[rgba(236,57,57,0.24)] hover:bg-[rgba(236,57,57,0.32)] rounded-[24px] transition-colors",children:[t.jsx(Of,{size:16,className:"text-[#f66d6d]"}),t.jsx("span",{className:"text-[#f66d6d] text-[14px] font-semibold font-brockmann leading-5 tracking-[-0.28px]",children:"Shut down"})]})})]}),Pje=({size:e=20,color:n="#80FFF9",className:s})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:k(s),children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 3.125C14 1.67525 12.8247 0.5 11.375 0.5H2.625C1.17525 0.5 0 1.67525 0 3.125V11.8751C0 13.3248 1.17525 14.5001 2.625 14.5001H11.375C12.8247 14.5001 14 13.3248 14 11.8751L14 3.125ZM6.99972 5.82299C7.60378 5.82299 8.09347 5.3333 8.09347 4.72924C8.09347 4.12518 7.60378 3.63549 6.99972 3.63549C6.39565 3.63549 5.90597 4.12518 5.90597 4.72924C5.90597 5.3333 6.39565 5.82299 6.99972 5.82299ZM5.90597 6.91674C5.50326 6.91674 5.1768 7.2432 5.1768 7.6459C5.1768 8.04861 5.50326 8.37507 5.90597 8.37507H6.63542L6.63542 11.1459C6.63542 11.5486 6.96188 11.8751 7.36458 11.8751C7.76729 11.8751 8.09375 11.5486 8.09375 11.1459L8.09375 7.6459C8.09375 7.2432 7.76729 6.91674 7.36458 6.91674H5.90597Z",fill:n})}),Oje="MONGO_URL";function Bje(e){if(!e?.trim())return"";try{const n=e.startsWith("http")?e:`https://${e}`;return new URL(n).host.split(".")[0]??""}catch{return""}}const k3=({envs:e=[],previewOrDeployUrl:n})=>{const{copiedKey:s,handleCopy:r}=BC(2e3),{handleGoToDatabase:i,isLoading:a}=Q$(),o=d.useMemo(()=>e.find(f=>f.key===Oje)?.value||"",[e]),l=d.useMemo(()=>Bje(n),[n]),c=()=>{o&&(r("mongo",o),H(hg.DATABASE_MONGO_URL_COPIED))},u=()=>{l&&r("slug",l)};return t.jsx("div",{className:"bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.08)] md:border-[rgba(255,255,255,0.12)] rounded-[12px] overflow-clip pt-5",children:t.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[t.jsx("div",{className:"flex flex-col items-start justify-center",children:t.jsxs("div",{className:"flex gap-4 items-center justify-center px-5 w-full",children:[t.jsxs("div",{className:"flex flex-1 gap-4 items-center",children:[t.jsx("div",{className:"hidden md:flex bg-[rgba(255,255,255,0.04)] items-center justify-center rounded-[8px] size-[40px] shrink-0 text-white",children:t.jsx(X$,{size:24})}),t.jsxs("div",{className:"flex flex-1 flex-col gap-1 items-start",children:[t.jsx("p",{className:"font-['Brockmann'] font-medium text-[16px] leading-[24px] text-white tracking-[-0.32px]",children:"Database"}),t.jsx("p",{className:"font-['Inter'] font-normal text-[12px] md:text-[13px] leading-[18px] text-[#989ea0] md:text-[#7f8283]",children:"View and manage your live app's data"})]})]}),t.jsx("button",{onClick:i,disabled:a,className:"hidden md:flex bg-[#222224] hover:bg-[#2a2a2c] gap-1 items-center px-4 py-[10px] rounded-[28px] transition-colors shrink-0 disabled:opacity-50 disabled:cursor-not-allowed",children:a?t.jsx(tn,{size:20,className:"text-[#dcdce5] animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"font-['Brockmann'] font-medium text-[14px] leading-[20px] text-[#dcdce5]",children:"Go to database"}),t.jsx(KU,{size:20,className:"text-[#dcdce5]"})]})})]})}),t.jsxs("div",{className:"bg-[rgba(128,255,249,0.04)] px-5 py-2 md:py-[14px] w-full",children:[t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(Pje,{size:20}),t.jsx("p",{className:"flex-1 md:hidden font-['Inter'] font-medium text-[13px] leading-[20px] text-[rgba(128,255,249,0.64)]",children:"Visit emergent.sh on desktop to continue"}),t.jsx("p",{className:"hidden md:block flex-1 font-['Inter'] font-medium text-[13px] leading-[20px] text-[rgba(128,255,249,0.64)]",children:"You will need your App name and Mongo URL to access your database"})]}),t.jsxs("div",{className:"hidden md:flex gap-3 pt-4 items-center shrink-0",children:[l&&t.jsxs("button",{onClick:u,className:"flex gap-1 items-center group",children:[t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] text-[#80FFF9] underline decoration-solid",children:s==="slug"?"Copied!":"Copy App name"}),s==="slug"?t.jsx(xn,{size:20,className:"text-[#80FFF9]"}):t.jsx(Di,{size:20,className:"text-[#80FFF9]"})]}),o&&t.jsxs("button",{onClick:c,className:"flex gap-1 items-center group",children:[t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] text-[#80FFF9] underline decoration-solid",children:s==="mongo"?"Copied!":"Copy Mongo URL"}),s==="mongo"?t.jsx(xn,{size:20,className:"text-[#80FFF9]"}):t.jsx(Di,{size:20,className:"text-[#80FFF9]"})]})]})]})]})})},Uje=["overview","domain","resources","database","secrets"],Hje=({jobId:e,previewUrl:n,deployUrl:s,customDomain:r,deployData:i,envs:a,deploymentHistory:o,runId:l,deployStatus:c,isLoading:u,podIsPaused:p=!1,isCustomDomainLoading:f,registerDomain:m,verifyDomain:h,unlinkDomain:x,refetchCustomDomain:g,fetchDnsRecordsOnly:v,customDomainHandlers:b,shouldShowCustomDomainSection:y,shouldShowEnvSection:w,shouldShowResourcesCard:_,deploymentState:N,onFixWithAgent:j,handleViewLogs:C,handleRollbackClick:S,saveEnvironmentVariables:F,updateEnvironmentVariables:E,onOpenResourcesModal:I,useDeploymentTier:T,onOpenConnectDomainModal:A,onOpenManualDomainLinkModal:D,onShutdown:O,shouldExpandDomainForm:M,onFormExpanded:L,onOpenSecretsEditModal:P})=>{const B=!o?.some(q=>q.status==="success"),{scrollContainerRef:G,activeTab:$,scrollToSection:te,setSectionRef:U}=rW(Uje),oe=d.useCallback(q=>U("overview",q),[U]),Y=d.useCallback(q=>U("domain",q),[U]),W=d.useCallback(q=>U("resources",q),[U]),Z=d.useCallback(q=>U("database",q),[U]),le=d.useCallback(q=>U("secrets",q),[U]);return t.jsx("div",{className:"flex flex-col flex-1 min-h-0",children:t.jsxs("div",{ref:G,className:"flex-1 overflow-y-auto",style:{scrollPaddingTop:50},children:[t.jsx(aW,{previewUrl:n,deployUrl:s,customDomain:r,onAddDomain:A,disabled:B,hasSuccessfulDeployment:!B,deployStatus:c}),t.jsx("div",{className:"sticky top-[-1px] z-20 bg-[#0F0F10] pt-px pb-2",children:t.jsx(iW,{activeTab:$,onTabChange:te})}),t.jsxs("div",{className:"flex flex-col gap-6 pt-6",children:[t.jsxs("div",{ref:oe,"data-section-id":"overview",className:"flex flex-col gap-4 px-4",children:[t.jsx(j3,{onFixWithAgent:j,podIsPaused:p,deployStatus:c}),t.jsx(N3,{deploymentHistory:o.map(q=>({id:q.run_id||q.id,status:q.status,updated_at:q.updated_at,rollback_possible:q.rollback_possible})),runId:l,isLoading:u,onViewLogs:C,onRollbackClick:S})]}),(y||B)&&t.jsx("div",{ref:Y,"data-section-id":"domain",className:"px-4",children:t.jsx(cW,{jobId:e,loading:u||f,customDomain:r,registerDomain:m,verifyDomain:h,onOpenManualLinkModal:D,onOpenManualLinkModalWithRecords:(q,Q)=>{b?.setManualLinkDnsRecords(q),b?.setManualLinkDomain(Q),D()},onUnlinkDomain:b?.handleOpenUnlinkDomainModal||(()=>{}),unlinkDomainDirect:x,refetchCustomDomain:g,fetchDnsRecordsOnly:v,shouldExpandForm:M,onFormExpanded:L,onOpenConnectModal:A,isHighlighted:!1,onHighlightComplete:()=>{},onOpenSwitchDomainModal:(q,Q,he,me)=>{b?.openSwitchDomainModal(q,Q,he,me)},disabled:B})}),(_||B)&&T&&t.jsx("div",{ref:W,"data-section-id":"resources",className:"px-4",children:t.jsx(E3,{tierInfo:i?.tier_info,onOpenResourcesModal:I,hasNoSuccessfulDeployment:B})}),t.jsx("div",{ref:Z,"data-section-id":"database",className:"px-4",children:t.jsx(k3,{envs:a})}),w&&t.jsx("div",{ref:le,"data-section-id":"secrets",className:"px-4",children:t.jsx(F3,{envs:a,onSyncStatusChange:N.setEnvSyncedWithProduction,saveEnvironmentVariables:F,deployStatus:c,jobId:e,updateEnvironmentVariables:E,onOpenEditModal:P,podIsPaused:p})}),t.jsx("div",{className:"px-4 pb-10",children:t.jsx(S3,{onShutdown:O})}),t.jsx("div",{className:"shrink-0 h-[100vh]","aria-hidden":"true"})]})]})})},Vje=K.common.copperCoin,$je=({isSelected:e})=>t.jsxs(fe.div,{className:"relative w-6 h-6",whileTap:{scale:.9},children:[t.jsx(fe.svg,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute inset-0",children:t.jsx(fe.circle,{cx:"12",cy:"12",r:"9",strokeWidth:"2",fill:"none",initial:!1,animate:{stroke:e?"#80FFF9":"rgba(255,255,255,0.64)"},transition:{duration:.2}})}),t.jsx(Kn,{children:e&&t.jsx(fe.svg,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute inset-0",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:30},children:t.jsx("circle",{cx:"12",cy:"12",r:"5",fill:"#80FFF9"})})})]}),PA=()=>t.jsxs("div",{className:"font-['Inter'] font-normal text-sm text-left max-w-[200px]",children:[t.jsxs("span",{className:"font-medium text-white",children:["Max tier limit",t.jsx("br",{})]}),t.jsx("span",{className:"text-[rgba(255,255,255,0.64)]",children:"Each tier runs on 2 machines for faster traffic handling"})]}),zje=({tier:e,isSelected:n,onSelect:s,index:r,currentTierId:i,isDisabled:a,disabledMessage:o,hideProgressBar:l})=>{const c=()=>{a||(e.isCurrent,e.isCurrent||e.id!==i&&e.isCurrent,H(ua.CHOOSE_RESOURCES_TIER_SELECTED,{selectedTierId:e.id,selectedTierName:e.name,isCurrent:e.isCurrent}),s())};return t.jsxs(fe.button,{onClick:c,disabled:a,className:k("flex gap-4 items-center w-full rounded-xl transition-colors",a?"opacity-50 cursor-not-allowed":"hover:bg-[rgba(255,255,255,0.02)]"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:r*.08,ease:[.25,.46,.45,.94]},whileHover:a?void 0:{scale:1.01},whileTap:a?void 0:{scale:.99},children:[t.jsx("div",{className:"flex items-center p-[6px]",children:t.jsx($je,{isSelected:n})}),t.jsxs("div",{className:"flex flex-1 gap-6 items-center",children:[t.jsxs("div",{className:"flex flex-1 gap-4 items-center",children:[t.jsxs("div",{className:k("flex flex-col items-start gap-0.5 shrink-0",!l&&"w-[80px] md:w-[72px]"),children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fe.p,{className:"font-['Brockmann'] leading-7 text-[20px] md:text-[18px] tracking-[-0.4px] md:tracking-[-0.36px] whitespace-nowrap text-left",initial:!1,animate:{color:a?"rgba(255,255,255,0.4)":n?"#80FFF9":"#FFFFFF"},transition:{duration:.2},children:e.name}),l&&e.isCurrent&&t.jsx(fe.div,{className:"bg-[rgba(255,255,255,0.04)] flex items-center justify-center px-2 py-1 rounded shrink-0",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:r*.08+.2,duration:.2},children:t.jsx("p",{className:"font-['Inter'] font-medium leading-5 text-xs text-white",children:"Current"})})]}),a&&o&&t.jsx("p",{className:"font-['Inter'] text-[12px] leading-4 text-[rgba(255,255,255,0.4)]",children:o})]}),!l&&t.jsxs("div",{className:"hidden md:flex flex-1 items-center gap-2 min-w-0",children:[t.jsx(fe.div,{className:k("h-3 rounded-[8px] shrink-0",n?"bg-[rgba(128,255,249,0.16)]":"bg-[rgba(255,255,255,0.16)]"),initial:{width:0},animate:{width:e.barWidth},transition:{duration:.4,delay:r*.08+.1,ease:[.25,.46,.45,.94]}}),e.isCurrent&&t.jsx(fe.div,{className:"bg-[rgba(255,255,255,0.04)] flex items-center justify-center px-2 py-1 rounded shrink-0",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:r*.08+.2,duration:.2},children:t.jsx("p",{className:"font-['Inter'] font-medium leading-5 text-xs text-white",children:"Current"})})]})]}),t.jsxs("div",{className:"flex items-center shrink-0",children:[t.jsx("div",{className:"flex items-center justify-end py-2 w-[96px] md:w-[80px] md:p-2",children:t.jsx("p",{className:k("font-['Inter'] font-normal leading-5 text-[14px] md:text-sm whitespace-nowrap",a?"text-[rgba(255,255,255,0.3)]":"text-[rgba(255,255,255,0.64)]"),children:e.vCPU})}),t.jsx("div",{className:"flex items-center justify-end py-2 w-[96px] md:w-[100px] md:p-2",children:t.jsx("p",{className:k("font-['Inter'] font-normal leading-5 text-[14px] md:text-sm whitespace-nowrap",a?"text-[rgba(255,255,255,0.3)]":"text-[rgba(255,255,255,0.64)]"),children:e.ram})})]})]})]})},Wje=new Set(["tier_0","tier_1"]),Gje="This tier is too small for Moltbot's resource usage",HC=({isOpen:e,onClose:n,selectedTierId:s,onTierSelect:r,onResourceChange:i,tiers:a,isLoading:o=!1,isMoltbot:l=!1})=>{const c=a.find(y=>y.id===s)||a[0],p=a.find(y=>y.isCurrent)?.id||"",f=d.useRef(!1),m=a.findIndex(y=>y.isCurrent),h=a.findIndex(y=>y.id===s);d.useEffect(()=>{e&&!f.current&&(f.current=!0,H(ua.CHOOSE_RESOURCES_MODAL_OPENED,{currentTierId:p,tiersCount:a.length})),e||(f.current=!1)},[e,p,a.length]);const x=()=>h===m?"Keep current resources":h>m?"Upgrade resources":"Downgrade resources",g=()=>h>m?"upgrade":h<m?"downgrade":null,v=()=>{const y=g();y&&i?(H(y==="upgrade"?ua.CHOOSE_RESOURCES_UPGRADE_CLICKED:ua.CHOOSE_RESOURCES_DOWNGRADE_CLICKED,{currentTierId:p,targetTierId:s,targetTierName:c?.name}),i(y)):(H(ua.CHOOSE_RESOURCES_KEEP_CURRENT_CLICKED,{currentTierId:p}),n())},b=()=>{H(ua.CHOOSE_RESOURCES_MODAL_CLOSED,{currentTierId:p,hadSelection:s!==p}),n()};return t.jsxs(oi,{isOpen:e,onClose:b,position:"bottom",blurStrength:"sm",contained:!0,className:"md:m-6 md:rounded-[16px] overflow-clip bg-[#0F0F10] md:bg-[#18181A] max-md:h-full max-md:flex max-md:flex-col",children:[t.jsxs("div",{className:"relative px-4 py-4 md:px-6 md:py-4 border-b border-[#242424] bg-[#0F0F10] md:bg-[#18181A] shrink-0",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("p",{className:"font-['Brockmann'] text-[16px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Choose Resources"}),t.jsx("p",{className:"font-['Inter'] font-normal text-[12px] md:text-[14px] text-[#989ea0] md:text-[#7F8283]",children:"Power allocated to keep your app fast, stable, and online"})]}),t.jsx("button",{type:"button",title:"Close",onClick:b,className:"absolute top-4 right-4 p-1 rounded-full bg-[rgba(255,255,255,0.1)] backdrop-blur-sm text-gray-400 hover:text-white transition-colors",children:t.jsx(Ft,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex flex-col gap-4 items-start px-4 py-6 md:p-6 flex-1 overflow-y-auto",children:[t.jsxs("div",{className:"flex gap-4 items-center w-full",children:[t.jsx("div",{className:"flex items-center p-[6px]",children:t.jsx("div",{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex flex-1 gap-6 items-center",children:[t.jsxs("div",{className:"flex flex-1 gap-4 items-center",children:[t.jsx("p",{className:"font-['Inter'] font-normal leading-5 text-[14px] md:text-sm text-[rgba(255,255,255,0.64)]",children:"Tier"}),!l&&t.jsx("div",{className:"hidden md:flex flex-1"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"flex items-center justify-end gap-1 w-[96px] md:w-[80px] md:p-2",children:[t.jsx("p",{className:"font-['Inter'] font-medium md:font-normal leading-5 text-[14px] md:text-sm text-[rgba(255,255,255,0.64)]",children:"Speed"}),t.jsx(l5,{iconSize:16,iconColor:"rgba(255,255,255,0.64)",side:"top",children:t.jsx(PA,{})})]}),t.jsxs("div",{className:"flex items-center justify-end gap-1 w-[96px] md:w-[100px] md:p-2",children:[t.jsx("p",{className:"font-['Inter'] font-medium md:font-normal leading-5 text-[14px] md:text-sm text-[rgba(255,255,255,0.64)]",children:"Memory"}),t.jsx(l5,{iconSize:16,iconColor:"rgba(255,255,255,0.64)",side:"top",children:t.jsx(PA,{})})]})]})]})]}),t.jsx("div",{className:"flex flex-col gap-6 md:gap-4 items-start w-full",children:o?t.jsx("div",{className:"flex items-center justify-center w-full py-8",children:t.jsx("div",{className:"animate-pulse text-white/50",children:"Loading tiers..."})}):a.map((y,w)=>{const _=l&&Wje.has(y.id);return t.jsx(zje,{tier:y,isSelected:y.id===s,onSelect:()=>r(y.id),index:w,currentTierId:p,isDisabled:_,disabledMessage:_?Gje:void 0,hideProgressBar:l},y.id)})})]}),t.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center justify-between gap-3 md:gap-0 p-4 md:p-6 border-t border-[#242424] bg-[#0F0F10] md:bg-[#18181A] shrink-0",children:[t.jsxs(fe.div,{className:"flex items-center justify-center md:justify-start gap-2",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},children:[t.jsx("img",{src:Vje,alt:"Credits",className:"w-5 h-5"}),t.jsxs("p",{className:"font-['Brockmann'] leading-5 text-sm text-[rgba(255,255,255,0.64)] tracking-[-0.2px]",children:[c?.creditsPerMonth??"--"," Credits/month"]})]},c?.creditsPerMonth??"loading"),t.jsx("button",{onClick:v,className:"bg-white flex items-center justify-center px-6 py-[10px] rounded-xl hover:bg-gray-100 transition-colors overflow-hidden",children:t.jsx(fe.p,{className:"font-['Brockmann'] font-semibold leading-5 text-sm text-[#0E0E0F] tracking-[-0.2px]",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},children:x()},x())})]})]})},dW=({isOpen:e,onClose:n,title:s,subtitle:r,children:i,footer:a})=>t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"md:m-6 md:rounded-[16px] overflow-clip bg-[#0f0f10] md:bg-[#18181A] max-md:h-full max-md:flex max-md:flex-col",children:[t.jsxs("div",{className:"md:hidden flex items-start shrink-0",children:[t.jsx("div",{className:"flex items-center justify-center p-2 shrink-0",children:t.jsx("button",{type:"button",onClick:n,className:"flex items-center justify-center w-10 h-10 rounded-full text-[#f2f5f7] hover:bg-white/10 transition-colors",children:t.jsx(nc,{className:"w-6 h-6"})})}),t.jsx("div",{className:"flex flex-1 items-center justify-center px-3 py-4",children:t.jsx("p",{className:"text-[18px] font-semibold font-brockmann text-[#f2f5f7] leading-7 tracking-[-0.36px] text-center truncate",children:s})}),t.jsx("div",{className:"w-14 shrink-0"})]}),t.jsxs("div",{className:"hidden md:block p-4 py-[24px] border-[rgba(255,255,255,0.1)] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[18px] font-medium text-[#E6E6E6] font-['Brockmann']",children:s}),r&&t.jsx("p",{className:"text-[14px] font-normal text-[#989EA0] font-['Inter'] mt-1",children:r}),t.jsx("button",{type:"button",title:"Close",onClick:n,className:"absolute top-4 right-4 p-1 rounded-full bg-[rgba(255,255,255,0.1)] backdrop-blur-sm text-gray-400 hover:text-white transition-colors",children:t.jsx(Ft,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"px-[14px] pt-3 pb-4 md:p-6 flex-1 overflow-y-auto",children:i}),t.jsx("div",{className:"px-[22px] py-5 md:p-4 bg-[#141415] md:bg-[#18181A] border-t border-[rgba(255,255,255,0.08)] md:border-[rgba(255,255,255,0.1)] shrink-0",children:a})]}),uW=({size:e=20,width:n,height:s,color:r="white",fill:i,className:a,style:o,onClick:l,...c})=>{const u=n||e,p=s||e,f=i||r;return t.jsx("svg",{width:u,height:p,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:o,onClick:l,...c,children:t.jsx("path",{d:"M7.08335 13.3334H13.3334C14.0278 13.3334 14.6181 13.0904 15.1042 12.6042C15.5903 12.1181 15.8334 11.5279 15.8334 10.8334C15.8334 10.139 15.5903 9.54869 15.1042 9.06258C14.6181 8.57647 14.0278 8.33341 13.3334 8.33341C13.2222 7.52786 12.8542 6.84036 12.2292 6.27091C11.6042 5.70147 10.9028 5.41675 10.125 5.41675C9.41669 5.41675 8.77432 5.5973 8.19794 5.95841C7.62155 6.31953 7.19446 6.83341 6.91669 7.50008C6.12502 7.56952 5.46877 7.87161 4.94794 8.40633C4.4271 8.94105 4.16669 9.61119 4.16669 10.4167C4.16669 11.2223 4.45141 11.9098 5.02085 12.4792C5.5903 13.0487 6.2778 13.3334 7.08335 13.3334ZM10 18.3334C8.84724 18.3334 7.76391 18.1147 6.75002 17.6772C5.73613 17.2397 4.85419 16.6459 4.10419 15.8959C3.35419 15.1459 2.76044 14.264 2.32294 13.2501C1.88544 12.2362 1.66669 11.1529 1.66669 10.0001C1.66669 8.8473 1.88544 7.76397 2.32294 6.75008C2.76044 5.73619 3.35419 4.85425 4.10419 4.10425C4.85419 3.35425 5.73613 2.7605 6.75002 2.323C7.76391 1.8855 8.84724 1.66675 10 1.66675C11.1528 1.66675 12.2361 1.8855 13.25 2.323C14.2639 2.7605 15.1459 3.35425 15.8959 4.10425C16.6459 4.85425 17.2396 5.73619 17.6771 6.75008C18.1146 7.76397 18.3334 8.8473 18.3334 10.0001C18.3334 11.1529 18.1146 12.2362 17.6771 13.2501C17.2396 14.264 16.6459 15.1459 15.8959 15.8959C15.1459 16.6459 14.2639 17.2397 13.25 17.6772C12.2361 18.1147 11.1528 18.3334 10 18.3334Z",fill:f})})},S8=e=>{const n=e.getDate().toString().padStart(2,"0"),s=e.toLocaleString("en-US",{month:"short"}),r=e.getFullYear().toString().slice(-2);return`${n} ${s} '${r}`},qje=()=>{const e=new Date;return e.setMonth(e.getMonth()+1),S8(e)},Kje=e=>{const n=e.vCPU.replace(" vCPU",""),s=e.ram.replace(" RAM","");return`${n} vCPU, ${s}`},Ey=({tier:e,label:n,variant:s})=>{const r=s==="current",i=r?"rgba(255,255,255,0.1)":"rgba(92,210,229,0.2)",a=r?"transparent":"rgba(92,210,229,0.05)",o=r?"white":"#5CD2E5",l=r?"rgba(255,255,255,0.1)":"rgba(128,255,249,0.12)",c=r?"white":"#80FFF9",u=r?`${e.creditsPerMonth} / month`:`${e.creditsPerMonth} / month`;return t.jsxs("div",{className:"relative flex flex-col gap-3 p-4 rounded-[12px] flex-1 min-w-0 overflow-clip",style:{backgroundColor:a,border:`1px solid ${i}`},children:[t.jsxs("div",{className:"absolute top-[-1px] right-[-1px] flex items-center justify-center gap-1 px-[10px] py-[7px] rounded-bl-[12px] rounded-tr-[12px]",style:{backgroundColor:l},children:[t.jsx($2,{size:16,variant:r?"default":"cyan"}),t.jsx("span",{className:"text-[12px] font-['Inter'] font-semibold",style:{color:c},children:u})]}),t.jsx("div",{className:"flex items-start",children:t.jsx(uW,{size:24,color:o})}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:"text-[14px] font-['Inter'] font-medium text-white opacity-80",children:n}),t.jsxs("div",{className:"flex items-baseline justify-between",children:[t.jsx("p",{className:"text-[18px] font-['Brockmann'] font-medium text-white",children:e.name}),t.jsx("p",{className:"text-[14px] font-['Inter'] font-medium text-white opacity-60",children:Kje(e)})]})]})]})},Sy=({label:e,sublabel:n,value:s,valuePrefix:r="",valueColor:i="white",valueFontSize:a="18px",showTopDivider:o=!1})=>t.jsxs(t.Fragment,{children:[o&&t.jsx("div",{className:"w-full h-[1px] bg-[rgba(255,255,255,0.1)]"}),t.jsxs("div",{className:"flex flex-col gap-3 w-full md:hidden",children:[t.jsxs("div",{className:"flex flex-col gap-[6px]",children:[t.jsx("span",{className:"text-[16px] text-white font-['Brockmann'] font-medium tracking-[-0.32px] leading-[24px]",children:e}),n&&t.jsx("span",{className:"text-[14px] text-[rgba(255,255,255,0.64)] font-['Inter'] font-normal leading-[20px]",children:n})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"font-['Brockmann'] font-medium tracking-[-0.36px] leading-[28px]",style:{color:i,fontSize:a},children:[r,s]}),t.jsx($2,{size:20})]})]}),t.jsxs("div",{className:"hidden md:flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col gap-[6px] flex-1 min-w-0 pr-2",children:[t.jsx("span",{className:"text-[16px] text-white font-['Brockmann'] font-medium tracking-[-0.32px] leading-[24px]",children:e}),n&&t.jsx("span",{className:"text-[14px] text-[rgba(255,255,255,0.64)] font-['Inter'] font-normal leading-[20px]",children:n})]}),t.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[t.jsxs("span",{className:"font-['Brockmann'] font-medium tracking-[-0.36px] leading-[28px]",style:{color:i,fontSize:a},children:[r,s]}),t.jsx($2,{size:20})]})]})]}),VC=({isOpen:e,onClose:n,onConfirm:s,loading:r=!1,changeType:i,targetTier:a,currentTier:o,tierChangeRefund:l,deductedAmount:c,estimatedRefund:u,deductionDate:p,podIsPaused:f=!1})=>{const m=i==="upgrade",h=d.useRef(!1),x=m?"Your app will run faster and stay more stable with more power":"Your app will have fewer resources available",g=m?"Upgrade to":"Downgrade to",v=m?"Upgrade and re-deploy":"Downgrade and re-deploy",b=l?.refund_amount??0,y=c??o.creditsPerMonth,w=y-b,_=a.creditsPerMonth,N=b>_,j=Math.max(0,b-_),C=Math.max(0,_-b),S=N?"Credit refund":"Upfront credits required",F=N?j:C,E=qje(),I=S8(p?new Date(p):new Date);d.useEffect(()=>{e&&!h.current&&(h.current=!0,H(ua.CONFIRM_RESOURCE_CHANGE_MODAL_OPENED,{changeType:i,currentTierId:o?.id,targetTierId:a?.id,upfrontCredits:C,isRefund:N})),e||(h.current=!1)},[e,i,o?.id,a?.id,C,N]);const T=()=>{H(ua.CONFIRM_RESOURCE_CHANGE_MODAL_CLOSED,{changeType:i,currentTierId:o?.id,targetTierId:a?.id}),n()},A=async()=>{H(m?ua.CONFIRM_RESOURCE_UPGRADE_CLICKED:ua.CONFIRM_RESOURCE_DOWNGRADE_CLICKED,{currentTierId:o?.id,targetTierId:a?.id,targetTierName:a?.name,upfrontCreditsRequired:C});try{await s(),n()}catch{}};return t.jsxs(dW,{isOpen:e,onClose:T,title:m?"Resource upgrade":"Resource downgrade",subtitle:x,footer:t.jsx(D,{}),children:[t.jsx("div",{className:"md:hidden mb-4",children:t.jsx(Ey,{tier:a,label:g,variant:"target"})}),t.jsxs("div",{className:"hidden md:flex items-center gap-3 mb-6",children:[t.jsx(Ey,{tier:o,label:"Current",variant:"current"}),t.jsx("div",{className:"shrink-0 flex items-center justify-center",children:t.jsx(wme,{size:24,color:"#7F8283",strokeWidth:1.5})}),t.jsx(Ey,{tier:a,label:g,variant:"target"})]}),t.jsxs("div",{className:"flex flex-col gap-6 items-center justify-center px-4 py-5 bg-[rgba(255,255,255,0.04)] rounded-[12px] md:rounded-[8px]",children:[t.jsx(Sy,{label:"Unused credits from last billing",sublabel:t.jsxs(t.Fragment,{children:[y," credits billed on ",I,"  ",w," credits utilised"]}),value:b,valuePrefix:"+",valueColor:"#2EE572"}),t.jsx(Sy,{label:"New deployment cost",sublabel:t.jsxs("span",{className:"flex items-center gap-[6px]",children:[t.jsx(vme,{className:"w-4 h-4 text-[rgba(255,255,255,0.64)]"}),t.jsxs("span",{children:["Next billing on ",t.jsx("span",{className:"font-medium text-white",children:E})]})]}),value:_}),t.jsx(Sy,{label:S,value:F,valuePrefix:N?"+":"",valueColor:N?"#2EE572":"white",valueFontSize:"20px",showTopDivider:!0})]})]});function D(){const O=r||f;return t.jsx("div",{className:"flex items-center justify-center md:justify-end w-full",children:t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("span",{className:"w-full md:w-auto",children:t.jsx("button",{onClick:A,disabled:O,className:k("bg-white flex items-center justify-center w-full md:w-auto px-6 py-2 md:py-[10px] rounded-lg md:rounded-xl hover:bg-gray-100 transition-colors",O&&"opacity-50 cursor-not-allowed"),children:t.jsx("p",{className:"font-['Brockmann'] font-semibold text-[16px] md:text-sm leading-6 md:leading-5 text-[#060809] md:text-[#0E0E0F] tracking-[-0.32px] md:tracking-[-0.2px]",children:r?"Processing...":v})})})}),f&&t.jsx(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:t.jsx("span",{className:"text-sm",children:"Please wake up the agent to process further"})})]})})})}},I3=({isOpen:e,onClose:n,creditsPerMonth:s=50,creditsPerDay:r=2})=>t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-[rgba(255,255,255,0.08)]",children:[t.jsx("button",{type:"button",onClick:n,className:"p-1 rounded-full hover:bg-[rgba(255,255,255,0.1)] transition-colors",children:t.jsx(nc,{className:"w-6 h-6 text-white"})}),t.jsx("p",{className:"font-['Brockmann'] font-medium text-[18px] leading-[28px] tracking-[-0.36px] text-white",children:"How are credits charged for an active deployment?"})]}),t.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-['Brockmann'] font-medium text-[32px] leading-[40px] tracking-[-0.64px] text-white",children:s}),t.jsx(Ho,{size:32,color:"#F5C563"})]}),t.jsx("p",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] text-[rgba(255,255,255,0.64)]",children:"Credits/month charged upfront"})]}),t.jsxs("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.1)] rounded-[12px] px-4 py-5 flex flex-col gap-5",children:[t.jsx("p",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] text-[rgba(255,255,255,0.64)]",children:"If you shut down early, we adjust the charges and refund unused credits"}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[t.jsx("p",{className:"font-['Inter'] font-semibold text-[16px] leading-[24px] text-white",children:"< 25 days live"}),t.jsxs("p",{className:"font-['Inter'] font-normal text-[14px] leading-[20px] text-[#7f8283]",children:[r," credits / day  remaining refunded"]})]}),t.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[t.jsx("p",{className:"font-['Inter'] font-semibold text-[16px] leading-[24px] text-white",children:" 25 days live"}),t.jsxs("p",{className:"font-['Inter'] font-normal text-[14px] leading-[20px] text-[#7f8283]",children:[s," credits total  no refund"]})]})]})]})]}),t.jsx("div",{className:"p-6 border-t border-[rgba(255,255,255,0.08)]",children:t.jsx(zt,{onClick:n,className:"bg-[#e6e6e6] hover:bg-[#d4d4d4] text-[#0e0e0f] rounded-[28px] h-[48px] px-6",children:t.jsx("span",{className:"font-['Brockmann'] font-semibold text-[16px] leading-[24px] tracking-[-0.2px]",children:"Okay, got it"})})})]}),Yje=({label:e,value:n,isVisible:s,isCopied:r,onToggleVisibility:i,onCopy:a,onChange:o,disabled:l=!1})=>t.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[t.jsx("p",{className:"text-white/60 text-sm font-medium font-['Inter'] leading-5",children:e}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:k("flex flex-1 items-center justify-between px-3 py-2.5 border border-[rgba(255,255,255,0.12)] rounded-[12px] min-w-0",l&&"opacity-50"),children:[t.jsx("input",{type:s?"text":"password",value:n,onChange:c=>o(c.target.value),disabled:l,className:"flex-1 bg-transparent text-white text-sm font-medium font-['Inter'] leading-5 focus:outline-none min-w-0 disabled:cursor-not-allowed",placeholder:"Enter value..."}),t.jsx("button",{onClick:i,className:"shrink-0 p-0.5 hover:bg-white/10 rounded transition-colors ml-3",title:s?"Hide value":"Show value",children:s?t.jsx(z7,{size:20,className:"text-white/60"}):t.jsx($7,{size:20,className:"text-white/60"})})]}),t.jsx("button",{onClick:a,className:"shrink-0 w-5 h-5 flex items-center justify-center hover:bg-white/10 rounded transition-colors",title:r?"Copied!":"Copy value",children:r?t.jsx(xn,{size:20,className:"text-green-500"}):t.jsx("img",{src:lW,alt:"Copy",className:"w-5 h-5 opacity-60"})})]})]}),pW=({isOpen:e,onClose:n,title:s,description:r,secrets:i,onSave:a,podIsPaused:o=!1})=>{const[l,c]=d.useState([]),[u,p]=d.useState({}),[f,m]=d.useState(null),[h,x]=d.useState(!1);d.useEffect(()=>{e&&(c([...i]),p({}),m(null))},[e,i]);const g=(_,N)=>{c(j=>j.map(C=>C.key===_?{...C,value:N}:C))},v=_=>{p(N=>({...N,[_]:!N[_]}))},b=(_,N)=>{navigator.clipboard.writeText(N),m(_),setTimeout(()=>m(j=>j===_?null:j),2e3)},y=async()=>{x(!0);try{await a(l)}finally{x(!1)}},w=()=>{n()};return e?t.jsx("div",{className:"absolute inset-0 z-[99] flex items-end justify-center bg-[rgba(15,15,16,0.7)] backdrop-blur-sm",onClick:n,children:t.jsxs(fe.div,{className:"w-full max-md:h-full max-md:flex max-md:flex-col md:flex md:flex-col bg-[#0F0F10] md:bg-[#18181A] md:m-6 md:rounded-[16px] overflow-clip md:max-h-[640px]",initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{duration:.3},onClick:_=>_.stopPropagation(),children:[t.jsxs("div",{className:"md:hidden flex items-start shrink-0",children:[t.jsx("div",{className:"flex items-center justify-center p-2 shrink-0",children:t.jsx("button",{type:"button",onClick:n,className:"flex items-center justify-center w-10 h-10 rounded-full text-[#f2f5f7] hover:bg-white/10 transition-colors",children:t.jsx(nc,{className:"w-6 h-6"})})}),t.jsx("div",{className:"flex flex-1 items-center justify-center px-3 py-4",children:t.jsx("p",{className:"text-[18px] font-semibold font-brockmann text-[#f2f5f7] leading-7 tracking-[-0.36px] text-center truncate",children:s})}),t.jsx("div",{className:"w-14 shrink-0"})]}),t.jsxs("div",{className:"hidden md:block relative px-6 py-4 border-b border-[#242424] bg-[#18181A] shrink-0",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("p",{className:"font-['Brockmann'] text-[18px] font-medium text-[#E6E6E6]",children:["Edit ",s]}),t.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[t.jsx("p",{className:"font-['Inter'] font-normal text-[14px] text-[#7F8283]",children:r}),t.jsx("a",{href:ha.apiUsageGuide,target:"_blank",rel:"noopener noreferrer",className:"font-['Inter'] font-medium text-[14px] text-[#7F8283] underline hover:text-white/80 transition-colors",children:"Learn how to get API keys"})]})]}),t.jsx("button",{type:"button",title:"Close",onClick:n,className:"absolute top-4 right-4 p-1 rounded-full bg-[rgba(255,255,255,0.1)] backdrop-blur-sm text-gray-400 hover:text-white transition-colors",children:t.jsx(Ft,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex flex-col gap-6 px-5 py-6 md:p-6 flex-1 overflow-y-auto",children:l.map(_=>t.jsx(Yje,{label:E8(_.key),value:_.value,isVisible:u[_.key]||!1,isCopied:f===_.key,onToggleVisibility:()=>v(_.key),onCopy:()=>b(_.key,_.value),onChange:N=>g(_.key,N),disabled:o},_.key))}),t.jsxs("div",{className:"shrink-0 bg-[#141415] md:bg-[#18181A] border-t border-[rgba(255,255,255,0.08)] md:border-[#242424]",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-white/[0.04]",children:[t.jsx(s3,{size:20,className:"text-white/64 shrink-0"}),t.jsxs("p",{className:"font-['Inter'] font-medium text-sm text-white/64 md:text-center leading-5",children:["Incorrect ",s," can cause features to fail on your live app"]})]}),t.jsxs("div",{className:"flex items-center justify-center md:justify-between px-4 py-5 md:p-6",children:[t.jsx("div",{className:"hidden md:block"}),t.jsxs("div",{className:"flex gap-4 items-center w-full md:w-auto",children:[t.jsx("button",{onClick:w,disabled:h,className:"hidden md:flex bg-[#222224] items-center px-5 py-2.5 rounded-lg hover:bg-[#2a2a2c] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx("span",{className:"font-['Brockmann'] font-medium text-sm text-[#dcdce5] leading-5",children:"Cancel"})}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("span",{className:"w-full md:w-auto",children:t.jsx("button",{onClick:y,disabled:h||o,className:k("bg-white flex items-center justify-center w-full md:w-[160px] px-6 py-2 md:py-2.5 rounded-lg md:rounded-xl hover:bg-gray-100 transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:t.jsx("span",{className:"font-['Brockmann'] font-semibold text-[16px] md:text-sm leading-6 md:leading-5 text-[#060809] md:text-[#0e0e0f] tracking-[-0.32px] md:tracking-[-0.2px]",children:h?"Saving...":"Save"})})})}),o&&t.jsx(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:t.jsx("span",{className:"text-sm",children:"Please wake up the agent to process further"})})]})})]})]})]})]})}):null},Zje=({jobId:e,previewUrl:n,deployUrl:s,customDomain:r,deployData:i,envs:a,deploymentHistory:o,runId:l,deployStatus:c,isLoading:u,podIsPaused:p=!1,isCustomDomainLoading:f,registerDomain:m,verifyDomain:h,unlinkDomain:x,refetchCustomDomain:g,fetchDnsRecordsOnly:v,customDomainHandlers:b,shouldShowCustomDomainSection:y,shouldShowEnvSection:w,shouldShowResourcesCard:_,deploymentState:N,onFixWithAgent:j,handleTierChange:C,handleViewLogs:S,handleRollbackClick:F,saveEnvironmentVariables:E,updateEnvironmentVariables:I,modalState:T,isMoltbot:A=!1})=>{const D=!o?.some(Ze=>Ze.status==="success"),[O,M]=d.useState("overview"),{isMobile:L}=ts(),[P,B]=d.useState(!1),[G,$]=d.useState(!1),[te,U]=d.useState(""),[oe,Y]=d.useState(!1),[W,Z]=d.useState(!1),[le,q]=d.useState(!1),Q=d.useRef(null),{toast:he}=ns(),me=Ze=>/^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$/i.test(Ze),{launchEntriForDomain:ce,isLoading:ee}=UC({onSuccess:async()=>{if(H(ur.ENTRI_SUCCESS,{jobId:e,domain:te}),$(!1),te){try{await h(te)}catch{}await g()}},onCancel:async()=>{if(H(ur.ENTRI_CANCELLED,{jobId:e,domain:te}),te&&x)try{await x()}catch{}}}),J=te&&me(te),re=u||ee||oe,xe=async()=>{const Ze=await v();Ze?.dns_records&&Ze.dns_records.length>0?ce(te,Ze.dns_records,e):he({title:"DNS Records Unavailable",description:"Failed to fetch DNS records. Please try again or use manual linking.",variant:"destructive",duration:3e3})},ae=async()=>{if(J){H(ur.AUTO_LINK_CLICKED,{jobId:e,domain:te}),Y(!0);try{await m(te),$(!1),await xe()}catch(Ze){if(H(ur.AUTO_LINK_FAILED,{jobId:e,domain:te,error:Ze?.error||Ze?.message}),Ze?.error?.code==="domain_already_linked"){$(!1),b?.openSwitchDomainModal(te,Ze.error.linked_app_name,Ze.error.linked_app_id,xe);return}let ut=Ze?.error||Ze?.message||"Failed to register domain";Ze?.error?.code&&(ut=Ze?.error?.error),he({title:"Registration Failed",description:ut,variant:"destructive",duration:3e3})}finally{Y(!1)}}},Fe=async()=>{if(J){H(ur.MANUAL_LINK_CLICKED,{jobId:e,domain:te}),Z(!0);try{await m(te);const Ze=await v();Ze?.dns_records&&Ze.dns_records.length>0?(b?.setManualLinkDnsRecords(Ze.dns_records),b?.setManualLinkDomain(te),$(!1),T.setIsManualDomainLinkModalOpen(!0),he({title:"Domain Registered",description:"Please add the DNS records to verify your domain",duration:3e3})):he({title:"DNS Records Unavailable",description:"Domain was registered but DNS records could not be fetched.",variant:"destructive",duration:3e3})}catch(Ze){if(H(ur.MANUAL_LINK_FAILED,{jobId:e,domain:te,error:Ze?.error||Ze?.message}),Ze?.error?.code==="domain_already_linked"){$(!1),b?.openSwitchDomainModal(te,Ze.error.linked_app_name,Ze.error.linked_app_id,async()=>{const Qt=await v();Qt?.dns_records&&Qt.dns_records.length>0&&(b?.setManualLinkDnsRecords(Qt.dns_records),b?.setManualLinkDomain(te),T.setIsManualDomainLinkModalOpen(!0))});return}let ut=Ze?.error||Ze?.message||"Failed to register domain";Ze?.error?.code&&(ut=Ze?.error?.error),he({title:"Registration Failed",description:ut,variant:"destructive",duration:3e3})}finally{Z(!1)}}},{scrollContainerRef:se,showTopShadow:_e,showBottomShadow:Re,handleScroll:Se}=tW(O),{isResourcesModalOpen:Ne,resourcesEffectiveTierId:ge,setResourcesModalSelectedTierId:Ce,isTiersLoading:$e,tiers:dt,resourcesChangeType:Me,showResourcesConfirmModal:we,setShowResourcesConfirmModal:Te,resourcesConfirmLoading:ze,resourcesSelectedTier:_t,currentTier:Bt,isResourcesCreditsInfoModalOpen:qe,setIsResourcesCreditsInfoModalOpen:Ae,useDeploymentTier:Le,handleOpenResourcesModal:Ut,handleCloseResourcesModal:tt,handleResourcesChange:xt,handleOpenResourcesCreditsInfoModal:St,handleConfirmResourcesChange:It}=nW({deployData:i,handleTierChange:C}),{isSecretsEditModalOpen:kt,secretsEditCategory:Ot,secretsEditSecrets:Ie,secretsEditDescription:nt,handleOpenSecretsEditModal:We,handleCloseSecretsEditModal:Lt,handleSecretsEditSave:pt}=sW({envs:a,saveEnvironmentVariables:E,updateEnvironmentVariables:I,deployStatus:c,jobId:e}),ft={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2}},Gt=(()=>{switch(O){case"overview":return t.jsxs(fe.div,{...ft,className:"flex flex-col gap-4 px-4 md:px-6",children:[t.jsx(j3,{onFixWithAgent:j,podIsPaused:p,deployStatus:c}),t.jsx(N3,{deploymentHistory:o.map(Ze=>({id:Ze.run_id||Ze.id,status:Ze.status,updated_at:Ze.updated_at,rollback_possible:Ze.rollback_possible})),runId:l,isLoading:u,onViewLogs:S,onRollbackClick:F}),t.jsx(S3,{onShutdown:()=>T.setIsShutdownModalOpen(!0)})]},"overview");case"domain":return t.jsx(fe.div,{...ft,className:"md:px-6 px-4",children:(y||D)&&t.jsx("div",{ref:Q,children:t.jsx(cW,{jobId:e,loading:u||f,customDomain:r,registerDomain:m,verifyDomain:h,onOpenManualLinkModal:()=>T.setIsManualDomainLinkModalOpen(!0),onOpenManualLinkModalWithRecords:(Ze,ut)=>{b?.setManualLinkDnsRecords(Ze),b?.setManualLinkDomain(ut),T.setIsManualDomainLinkModalOpen(!0)},onUnlinkDomain:b?.handleOpenUnlinkDomainModal||(()=>{}),unlinkDomainDirect:x,refetchCustomDomain:g,fetchDnsRecordsOnly:v,shouldExpandForm:P,onFormExpanded:()=>B(!1),onOpenConnectModal:()=>$(!0),isHighlighted:le,onHighlightComplete:()=>q(!1),onOpenSwitchDomainModal:(Ze,ut,Qt,Sn)=>{b?.openSwitchDomainModal(Ze,ut,Qt,Sn)},disabled:D})})},"domain");case"secrets":return t.jsx(fe.div,{...ft,className:"px-4 md:px-6",children:w&&t.jsx(F3,{envs:a,onSyncStatusChange:N.setEnvSyncedWithProduction,saveEnvironmentVariables:E,deployStatus:c,jobId:e,updateEnvironmentVariables:I,onOpenEditModal:We,podIsPaused:p})},"secrets");case"resources":return t.jsx(fe.div,{...ft,className:"px-4 md:px-6",children:(_||D)&&Le&&t.jsx(E3,{tierInfo:i?.tier_info,onOpenResourcesModal:Ut,hasNoSuccessfulDeployment:D})},"resources");case"database":return t.jsx(fe.div,{...ft,className:"px-6",children:t.jsx(k3,{previewOrDeployUrl:n,envs:a})},"database");default:return null}})();return t.jsxs(t.Fragment,{children:[L?t.jsx(Hje,{jobId:e,previewUrl:n,deployUrl:s,customDomain:r,deployData:i,envs:a,deploymentHistory:o,runId:l,deployStatus:c,isLoading:u,podIsPaused:p,isCustomDomainLoading:f,registerDomain:m,verifyDomain:h,unlinkDomain:x,refetchCustomDomain:g,fetchDnsRecordsOnly:v,customDomainHandlers:b,shouldShowCustomDomainSection:y,shouldShowEnvSection:w,shouldShowResourcesCard:_,deploymentState:N,onFixWithAgent:j,handleViewLogs:S,handleRollbackClick:F,saveEnvironmentVariables:E,updateEnvironmentVariables:I,onOpenResourcesModal:Ut,useDeploymentTier:Le,onOpenConnectDomainModal:()=>$(!0),onOpenManualDomainLinkModal:()=>T.setIsManualDomainLinkModalOpen(!0),onShutdown:()=>T.setIsShutdownModalOpen(!0),shouldExpandDomainForm:P,onFormExpanded:()=>B(!1),onOpenSecretsEditModal:We}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"shrink-0",children:t.jsx(aW,{previewUrl:n,deployUrl:s,customDomain:r,onAddDomain:()=>{M("domain"),B(!0)},disabled:D,hasSuccessfulDeployment:!D,deployStatus:c})}),t.jsx("div",{className:"shrink-0",children:t.jsx(iW,{activeTab:O,onTabChange:M})}),t.jsxs("div",{className:"relative flex-1 flex flex-col min-h-0",children:[t.jsx("div",{className:k("absolute top-0 left-0 right-0 h-6 bg-gradient-to-b from-white/[0.02] to-transparent z-10 pointer-events-none transition-opacity duration-200",_e?"opacity-100":"opacity-0")}),t.jsx("div",{className:k("absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-white/[0.02] to-transparent z-10 pointer-events-none transition-opacity duration-200",Re?"opacity-100":"opacity-0")}),t.jsx("div",{ref:se,onScroll:Se,className:"flex-1 overflow-y-auto pt-6 pb-[90px]",children:t.jsx(Kn,{mode:"wait",children:Gt})})]})]}),t.jsx(HC,{isOpen:Ne,onClose:tt,selectedTierId:ge,onTierSelect:Ce,onResourceChange:xt,tiers:dt,isLoading:$e,isMoltbot:A}),Me&&t.jsx(VC,{isOpen:we,onClose:()=>Te(!1),onConfirm:It,onKnowMoreClick:St,loading:ze,changeType:Me,targetTier:_t,currentTier:Bt,tierChangeRefund:i?.tier_change_refund,deductedAmount:i?.deducted_amount,estimatedRefund:i?.estimated_refund,deductionDate:i?.deduction_date,podIsPaused:p}),t.jsx(I3,{isOpen:qe,onClose:()=>Ae(!1),creditsPerMonth:_t?.creditsPerMonth,creditsPerDay:_t?.creditsPerDay}),t.jsx(pW,{isOpen:kt,onClose:Lt,title:Ot,description:nt,secrets:Ie,onSave:pt,podIsPaused:p}),t.jsx(Dje,{isOpen:G&&L,onClose:()=>$(!1),domain:te,onDomainChange:U,onAutoLink:ae,onLinkManually:Fe,isAutoLinking:oe,isManualLinking:W,isProcessing:!!re,isFormValid:!!J})]})},ky=({width:e=14,height:n=18,fill:s="white",className:r})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 14 18",fill:"none",className:r,children:t.jsx("path",{d:"M1.66667 17.5C1.20833 17.5 0.815972 17.3368 0.489583 17.0104C0.163194 16.684 0 16.2917 0 15.8333V7.5C0 7.04167 0.163194 6.64931 0.489583 6.32292C0.815972 5.99653 1.20833 5.83333 1.66667 5.83333H4.16667V7.5H1.66667V15.8333H11.6667V7.5H9.16667V5.83333H11.6667C12.125 5.83333 12.5174 5.99653 12.8437 6.32292C13.1701 6.64931 13.3333 7.04167 13.3333 7.5V15.8333C13.3333 16.2917 13.1701 16.684 12.8437 17.0104C12.5174 17.3368 12.125 17.5 11.6667 17.5H1.66667ZM5.83333 12.5V3.1875L4.5 4.52083L3.33333 3.33333L6.66667 0L10 3.33333L8.83333 4.52083L7.5 3.1875V12.5H5.83333Z",fill:s})});function OA({width:e=17,height:n=17,fill:s="#FF6666",className:r}){return t.jsx("svg",{width:e,height:n,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:t.jsx("path",{d:"M8.33333 12.5C8.56944 12.5 8.76736 12.4201 8.92708 12.2604C9.08681 12.1007 9.16667 11.9028 9.16667 11.6667C9.16667 11.4306 9.08681 11.2326 8.92708 11.0729C8.76736 10.9132 8.56944 10.8333 8.33333 10.8333C8.09722 10.8333 7.8993 10.9132 7.73958 11.0729C7.57986 11.2326 7.5 11.4306 7.5 11.6667C7.5 11.9028 7.57986 12.1007 7.73958 12.2604C7.8993 12.4201 8.09722 12.5 8.33333 12.5ZM7.5 9.16667H9.16667V4.16667H7.5V9.16667ZM8.33333 16.6667C7.18056 16.6667 6.09722 16.4479 5.08333 16.0104C4.06944 15.5729 3.1875 14.9792 2.4375 14.2292C1.6875 13.4792 1.09375 12.5972 0.65625 11.5833C0.21875 10.5694 0 9.48611 0 8.33333C0 7.18056 0.21875 6.09722 0.65625 5.08333C1.09375 4.06944 1.6875 3.1875 2.4375 2.4375C3.1875 1.6875 4.06944 1.09375 5.08333 0.65625C6.09722 0.21875 7.18056 0 8.33333 0C9.48611 0 10.5694 0.21875 11.5833 0.65625C12.5972 1.09375 13.4792 1.6875 14.2292 2.4375C14.9792 3.1875 15.5729 4.06944 16.0104 5.08333C16.4479 6.09722 16.6667 7.18056 16.6667 8.33333C16.6667 9.48611 16.4479 10.5694 16.0104 11.5833C15.5729 12.5972 14.9792 13.4792 14.2292 14.2292C13.4792 14.9792 12.5972 15.5729 11.5833 16.0104C10.5694 16.4479 9.48611 16.6667 8.33333 16.6667Z",fill:s})})}const BA=K.icons.animatedSpinner;function fW({appName:e,onIOSBuildsClick:n,onAndroidBuildsClick:s,iosBuildCount:r,androidBuildCount:i,buildBanners:a}){const{qrDataUrl:o,expoUrl:l,isGenerating:c,error:u}=Az(e),p=h=>{H(cs.GET_BUILD_CLICK,{build_type:h})},f=h=>{h==="iOS"?n?.():s?.()},m=e?`${window.location.origin}/share?app=${encodeURIComponent(e)}`:void 0;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"md:hidden flex flex-col gap-6 items-center px-4 py-6 w-full",children:[t.jsxs("div",{className:"flex flex-col gap-4 items-start w-full",children:[t.jsxs("div",{className:"flex gap-1 items-center justify-center pl-[2px] pr-2 py-[2px] bg-[#0e2416] rounded-[12px]",children:[t.jsxs("div",{className:"relative w-5 h-5 flex items-center justify-center",children:[t.jsx("div",{className:"absolute w-4 h-4 rounded-full bg-[rgba(46,229,114,0.20)]"}),t.jsx("div",{className:"w-[6px] h-[6px] rounded-full bg-[#2EE572] relative z-10"})]}),t.jsx("span",{className:"text-[#2ee572] text-[14px] font-medium font-brockmann leading-5",children:"Live"})]}),t.jsx("h2",{className:"text-[18px] font-medium text-[#f2f5f7] font-brockmann leading-7 tracking-[-0.36px] opacity-80",children:"Your mobile app is live!"}),t.jsxs("div",{className:"flex gap-3 items-start w-full",children:[m?t.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"flex flex-1 items-center justify-center gap-2 px-4 py-1.5 bg-[rgba(255,255,255,0.08)] rounded-lg overflow-clip hover:bg-white/12 transition-colors",children:[t.jsx(ky,{width:20,height:20,fill:"white"}),t.jsx("span",{className:"text-[14px] font-medium text-white font-brockmann leading-5 tracking-[-0.28px]",children:"Share"})]}):t.jsxs("div",{className:"flex flex-1 items-center justify-center gap-2 px-4 py-1.5 bg-[rgba(255,255,255,0.08)] rounded-lg overflow-clip opacity-50",children:[t.jsx(ky,{width:20,height:20,fill:"white"}),t.jsx("span",{className:"text-[14px] font-medium text-white font-brockmann leading-5 tracking-[-0.28px]",children:"Share"})]}),l?t.jsxs("a",{href:l,className:"flex flex-1 items-center justify-center gap-2 px-4 py-1.5 bg-[rgba(255,255,255,0.08)] rounded-lg overflow-clip hover:bg-white/12 transition-colors",children:[t.jsx(j8,{width:20,height:20,fill:"white"}),t.jsx("span",{className:"text-[14px] font-medium text-white font-brockmann leading-5 tracking-[-0.28px]",children:"Open in Expo"})]}):t.jsxs("div",{className:"flex flex-1 items-center justify-center gap-2 px-4 py-1.5 bg-[rgba(255,255,255,0.08)] rounded-lg overflow-clip opacity-50",children:[t.jsx(j8,{width:20,height:20,fill:"white"}),t.jsx("span",{className:"text-[14px] font-medium text-white font-brockmann leading-5 tracking-[-0.28px]",children:"Open in Expo"})]})]})]}),t.jsxs("div",{className:"bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.08)] rounded-[12px] w-full",children:[t.jsxs("button",{onClick:()=>{p("iOS"),n?.()},className:"flex items-center gap-2 h-12 px-4 py-2.5 w-full hover:bg-white/[0.04] transition-colors",children:[t.jsx(gf,{className:"w-5 h-5 shrink-0",color:"#dcdce5"}),t.jsx("span",{className:"flex-1 text-left text-[14px] font-medium text-[#dcdce5] font-brockmann leading-5 tracking-[-0.28px]",children:r>0?"iOS builds":"Get iOS builds"}),r>0&&t.jsx("span",{className:"flex items-center justify-center w-4 h-4 bg-[#80fff9] rounded-[9px] text-[12px] font-semibold text-[#060809] font-brockmann leading-[18px] tracking-[-0.24px]",children:r}),t.jsx(Bo,{size:16,className:"text-[rgba(255,255,255,0.48)] shrink-0"})]}),t.jsx("div",{className:"h-px bg-[rgba(255,255,255,0.08)]"}),t.jsxs("button",{onClick:()=>{p("Android"),s?.()},className:"flex items-center gap-2 h-12 px-4 py-2.5 w-full hover:bg-white/[0.04] transition-colors",children:[t.jsx(Uh,{className:"w-5 h-5 shrink-0",color:"#dcdce5"}),t.jsx("span",{className:"flex-1 text-left text-[14px] font-medium text-[#dcdce5] font-brockmann leading-5 tracking-[-0.28px]",children:i>0?"Android builds":"Get Android builds"}),i>0&&t.jsx("span",{className:"flex items-center justify-center w-4 h-4 bg-[#80fff9] rounded-[9px] text-[12px] font-semibold text-[#060809] font-brockmann leading-[18px] tracking-[-0.24px]",children:i}),t.jsx(Bo,{size:16,className:"text-[rgba(255,255,255,0.48)] shrink-0"})]})]}),a.length>0&&t.jsx("div",{className:"flex flex-col gap-2 w-full",children:a.map(h=>t.jsxs("div",{children:[h.status==="in-progress"&&t.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-[#152229] rounded-lg w-full",children:[t.jsx("img",{src:BA,alt:"",className:"w-5 h-5 shrink-0"}),t.jsxs("span",{className:"text-[14px] font-normal text-[#43b7de] font-['Inter'] leading-5",children:[h.platform," build generation is in progress"]})]}),h.status==="failed"&&t.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-[rgba(255,102,102,0.15)] rounded-lg w-full",children:[t.jsx(OA,{width:20,height:20,className:"shrink-0"}),t.jsxs("span",{className:"text-[14px] font-normal text-[rgba(255,102,102,0.8)] font-['Inter'] leading-5 truncate",children:[h.platform," build generation failed"]}),t.jsx("button",{onClick:()=>f(h.platform),className:"text-[14px] font-medium text-[#ff6666] font-['Inter'] leading-5 underline shrink-0 hover:text-[#ff8080] transition-colors",children:"View"})]}),h.status==="success"&&t.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-[rgba(103,203,101,0.1)] rounded-lg w-full",children:[t.jsx("div",{className:"flex items-center p-0.5 shrink-0",children:t.jsx("div",{className:"flex items-center justify-center w-4 h-4 bg-[#67cb65] rounded-full",children:t.jsx(xn,{size:10,className:"text-[#060809]",strokeWidth:3})})}),t.jsx("span",{className:"text-[14px] font-normal text-[rgba(103,203,101,0.8)] font-['Inter'] leading-5 truncate",children:h.version?`${h.platform} version ${h.version} is ready to download`:`${h.platform} build is ready to download`}),t.jsx("button",{onClick:()=>f(h.platform),className:"text-[14px] font-medium text-[#67cb65] font-['Inter'] leading-5 underline shrink-0 hover:text-[#7dd97b] transition-colors",children:"View"})]})]},`${h.platform}-${h.status}`))})]}),t.jsxs("div",{className:"hidden md:flex flex-row gap-6 items-center px-10 pt-10 pb-6 w-full",children:[t.jsxs("div",{className:"flex flex-col items-center shrink-0 w-[120px] bg-white/[0.02] border border-white/[0.12] rounded-lg overflow-clip",children:[t.jsx("div",{className:"w-[120px] h-[120px] flex items-center justify-center overflow-hidden bg-[#060809] p-2",children:c?t.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."}):u?t.jsx("div",{className:"text-gray-500 text-xs text-center px-2",children:"Failed to load"}):o?t.jsx("img",{src:o,alt:"Expo QR Code",className:"w-full h-full"}):null}),e&&t.jsx("a",{href:`${window.location.origin}/share?app=${encodeURIComponent(e)}`,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center border-t border-white/[0.08] px-[7px] py-1 text-[12px] font-medium text-white/[0.64] font-['Inter'] leading-[18px] hover:text-white/80 transition-colors",children:"View on expo app"})]}),t.jsxs("div",{className:"flex flex-col gap-4 flex-1 min-w-0 pt-2 items-start w-full",children:[t.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[t.jsxs("div",{className:"flex gap-1 items-center justify-center pl-[2px] pr-2 py-[2px] bg-[#0e2416] rounded-[12px]",children:[t.jsxs("div",{className:"relative w-5 h-5 flex items-center justify-center",children:[t.jsx("div",{className:"absolute w-4 h-4 rounded-full bg-[rgba(46,229,114,0.20)]"}),t.jsx("div",{className:"w-[6px] h-[6px] rounded-full bg-[#2EE572] relative z-10"})]}),t.jsx("span",{className:"text-[#2ee572] text-[14px] font-medium font-brockmann leading-5",children:"Live"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-[18px] font-medium text-[#F2F5F7] font-brockmann leading-7 tracking-[-0.36px] opacity-80",children:"Your mobile app is live!"}),e&&t.jsx("a",{href:`${window.location.origin}/share?app=${encodeURIComponent(e)}`,target:"_blank",rel:"noopener noreferrer",className:"p-0.5 hover:bg-white/10 rounded transition-colors shrink-0",children:t.jsx(ky,{width:14,height:18,fill:"rgba(255,255,255,0.5)"})})]})]}),t.jsxs("div",{className:"flex flex-row flex-wrap gap-4 w-auto",children:[t.jsxs("button",{onClick:()=>{p("iOS"),n?.()},className:k("flex items-center justify-start gap-2 px-4 py-2.5 rounded-lg hover:bg-white/[0.06] active:bg-white/[0.08] transition-colors",r>0?"bg-white/[0.02] ring-1 ring-inset ring-white/[0.12]":"bg-[rgba(255,255,255,0.08)]"),children:[t.jsx(gf,{className:"w-4 h-4",color:"#dcdce5"}),t.jsx("span",{className:"text-[14px] font-medium text-[#dcdce5] font-brockmann leading-5 tracking-[-0.28px] whitespace-nowrap",children:r>0?"iOS builds":"Get iOS builds"}),r>0&&t.jsx("span",{className:"flex items-center justify-center w-4 h-4 bg-[#80fff9] rounded-[9px] text-[12px] font-semibold text-[#060809] font-brockmann leading-[18px] tracking-[-0.24px]",children:r})]}),t.jsxs("button",{onClick:()=>{p("Android"),s?.()},className:k("flex items-center justify-start gap-2 px-4 py-2.5 rounded-lg hover:bg-white/[0.06] active:bg-white/[0.08] transition-colors",i>0?"bg-white/[0.02] ring-1 ring-inset ring-white/[0.12]":"bg-[rgba(255,255,255,0.08)]"),children:[t.jsx(Uh,{className:"w-4 h-4",color:"#dcdce5"}),t.jsx("span",{className:"text-[14px] font-medium text-[#dcdce5] font-brockmann leading-5 tracking-[-0.28px] whitespace-nowrap",children:i>0?"Android builds":"Get Android builds"}),i>0&&t.jsx("span",{className:"flex items-center justify-center w-4 h-4 bg-[#80fff9] rounded-[9px] text-[12px] font-semibold text-[#060809] font-brockmann leading-[18px] tracking-[-0.24px]",children:i})]})]}),a.length>0&&t.jsx("div",{className:"flex flex-col gap-2 w-full",children:a.map(h=>t.jsxs("div",{children:[h.status==="in-progress"&&t.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-[#152229] rounded-lg w-full max-w-[476px]",children:[t.jsx("img",{src:BA,alt:"",className:"w-5 h-5 shrink-0"}),t.jsxs("span",{className:"text-[14px] font-normal text-[#43b7de] font-['Inter'] leading-5",children:[h.platform," build generation is in progress"]})]}),h.status==="failed"&&t.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-[rgba(255,102,102,0.15)] rounded-lg w-full max-w-[476px]",children:[t.jsx(OA,{width:20,height:20,className:"shrink-0"}),t.jsxs("span",{className:"text-[14px] font-normal text-[rgba(255,102,102,0.8)] font-['Inter'] leading-5 truncate",children:[h.platform," build generation failed"]}),t.jsx("button",{onClick:()=>f(h.platform),className:"text-[14px] font-medium text-[#ff6666] font-['Inter'] leading-5 underline shrink-0 hover:text-[#ff8080] transition-colors",children:"View"})]}),h.status==="success"&&t.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-[rgba(103,203,101,0.1)] rounded-lg w-full max-w-[476px]",children:[t.jsx("div",{className:"flex items-center p-0.5 shrink-0",children:t.jsx("div",{className:"flex items-center justify-center w-4 h-4 bg-[#67cb65] rounded-full",children:t.jsx(xn,{size:10,className:"text-[#060809]",strokeWidth:3})})}),t.jsx("span",{className:"text-[14px] font-normal text-[rgba(103,203,101,0.8)] font-['Inter'] leading-5 truncate",children:h.version?`${h.platform} version ${h.version} is ready to download`:`${h.platform} build is ready to download`}),t.jsx("button",{onClick:()=>f(h.platform),className:"text-[14px] font-medium text-[#67cb65] font-['Inter'] leading-5 underline shrink-0 hover:text-[#7dd97b] transition-colors",children:"View"})]})]},`${h.platform}-${h.status}`))})]})]})]})}const Jje=[{id:"overview",label:"Overview"},{id:"resources",label:"Resources"},{id:"database",label:"Database"},{id:"secrets",label:"Secrets"}];function mW({activeTab:e,onTabChange:n}){const s=d.useRef(null),r=d.useRef({});return d.useEffect(()=>{const i=s.current,a=r.current[e];if(!i||!a)return;const o=i.getBoundingClientRect(),l=a.getBoundingClientRect(),c=l.left+l.width/2-(o.left+o.width/2);i.scrollBy({left:c,behavior:"smooth"})},[e]),t.jsx("div",{className:"w-full border-b border-white/10",children:t.jsx("div",{ref:s,className:"flex items-center justify-center h-11 px-4 overflow-x-auto scrollbar-hide",children:Jje.map(i=>t.jsxs("button",{ref:a=>{r.current[i.id]=a},onClick:()=>{H(V5.TAB_CLICKED,{tab:i.id}),n(i.id)},className:k("md:flex-1 flex flex-col items-center justify-center h-full relative transition-colors","min-w-[90px] shrink-0 md:px-0 md:min-w-0",e===i.id?"text-white":"text-white/40 hover:text-white/60"),children:[t.jsx("span",{className:"text-[14px] font-medium font-['Inter'] leading-5 whitespace-nowrap",children:i.label}),e===i.id&&t.jsx(fe.div,{layoutId:"expo-tab-indicator",className:"absolute bottom-0 h-[2px] bg-white rounded-t",style:{left:"15%",right:"15%"},transition:{type:"spring",stiffness:400,damping:30}})]},i.id))})})}function UA({hasUndeployedChanges:e=!1,hasSecretsChanges:n=!1,onRunHealthCheck:s,onRedeploy:r,onShutdown:i,isLoading:a,isDeploying:o,podIsPaused:l}){const c=n||e,p=n?{text:"Re-deploy to update secrets",iconColor:"#f3ca5f",textColor:"text-[#f3ca5f]"}:e?{text:"New changes ready to deploy",iconColor:"#00CCAF",textColor:"text-white/80"}:null;return t.jsx("div",{className:"shrink-0 bg-[#141415] md:bg-white/[0.04] border-t border-white/[0.08]",children:t.jsx("div",{className:k("px-4",l?"pt-4 pb-5":"py-5"),style:{paddingBottom:"max(20px, env(safe-area-inset-bottom, 20px))"},children:t.jsxs("div",{className:"flex flex-col gap-4 md:gap-0",children:[l&&t.jsxs("div",{className:"flex md:hidden items-center justify-center gap-1.5",children:[t.jsx(m5,{width:16,height:16}),t.jsx("p",{className:"text-xs font-medium font-['Inter'] leading-[18px] text-[#f3ca5f]",children:"Wake up the Agent to make deployment changes"})]}),t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l?t.jsxs("div",{className:"hidden md:flex items-center gap-1.5",children:[t.jsx(m5,{width:20,height:20,className:"shrink-0"}),t.jsx("p",{className:"max-w-[178px] text-xs font-medium font-['Inter'] leading-[18px] text-[#f3ca5f]",children:"Wake up the Agent to make deployment changes"})]}):c&&p?t.jsxs("div",{className:"hidden md:flex items-center gap-1.5",children:[t.jsx(oW,{color:p.iconColor,width:16,height:16}),t.jsx("p",{className:k("text-xs font-normal font-['Inter'] leading-[18px]",p.textColor),children:p.text})]}):t.jsx("div",{className:"hidden md:block"}),t.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("span",{className:"flex flex-1 md:flex-none",children:t.jsx("button",{onClick:s,disabled:l,className:k("w-full py-2 px-6 justify-center items-center gap-1.5 rounded-lg bg-[rgba(255,255,255,0.08)] hover:bg-white/12 text-white text-[16px] font-medium font-brockmann leading-6 tracking-[-0.32px] transition-colors whitespace-nowrap","disabled:opacity-50 disabled:cursor-not-allowed"),children:"Run health check"})})}),l&&t.jsx(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:t.jsx("span",{className:"text-sm",children:"Please wake up the agent to process further"})})]})}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{asChild:!0,children:t.jsx("span",{className:"flex flex-1 md:flex-none",children:t.jsx("button",{onClick:()=>{H(V5.REDEPLOY_CLICKED),r?.()},disabled:a||o||l,className:k("w-full md:w-[160px] py-2 px-6 justify-center items-center gap-1.5 bg-white hover:bg-white/90 rounded-lg md:rounded-[10px] text-[#060809] text-[16px] font-semibold font-brockmann leading-6 tracking-[-0.32px] transition-colors whitespace-nowrap","disabled:opacity-50 disabled:cursor-not-allowed"),children:"Re-deploy"})})}),l&&t.jsx(Ns,{className:"bg-[#DDDDE6] text-black border-0",children:t.jsx("span",{className:"text-sm",children:"Please wake up the agent to process further"})})]})}),t.jsx("button",{onClick:i,disabled:a||o,className:"hidden md:flex p-[8px] bg-[rgba(255,255,255,0.08)] hover:bg-white/12 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed shrink-0",title:"Shut down deployment",children:t.jsx(Of,{size:24,className:"text-white"})})]})]})]})})})}const Xje=["overview","resources","database","secrets"],Qje=({jobId:e,appName:n,deployData:s,envs:r,deploymentHistory:i,runId:a,deployStatus:o,isLoading:l=!1,podIsPaused:c=!1,iosBuildCount:u,androidBuildCount:p,buildBanners:f,shouldShowEnvSection:m,shouldShowResourcesCard:h,useDeploymentTier:x,deploymentState:g,onFixWithAgent:v,handleViewLogs:b,handleRollbackClick:y,saveEnvironmentVariables:w,updateEnvironmentVariables:_,onAndroidBuildsClick:N,onIOSBuildsClick:j,onOpenResourcesModal:C,onShutdown:S,onOpenSecretsEditModal:F})=>{const E=!i?.some(B=>B.status==="success"),{scrollContainerRef:I,activeTab:T,scrollToSection:A,setSectionRef:D}=rW(Xje),O=d.useCallback(B=>D("overview",B),[D]),M=d.useCallback(B=>D("secrets",B),[D]),L=d.useCallback(B=>D("resources",B),[D]),P=d.useCallback(B=>D("database",B),[D]);return t.jsx("div",{className:"flex flex-col flex-1 min-h-0",children:t.jsxs("div",{ref:I,className:"flex-1 overflow-y-auto",style:{scrollPaddingTop:54},children:[t.jsx(fW,{appName:n,onIOSBuildsClick:j,onAndroidBuildsClick:N,iosBuildCount:u,androidBuildCount:p,buildBanners:f}),t.jsx("div",{className:"sticky top-[-1px] z-20 bg-[#0F0F10] pt-px pb-2",children:t.jsx(mW,{activeTab:T,onTabChange:A})}),t.jsxs("div",{className:"flex flex-col gap-6 pt-6",children:[t.jsxs("div",{ref:O,"data-section-id":"overview",className:"flex flex-col gap-3 px-4",children:[t.jsx(j3,{onFixWithAgent:v,podIsPaused:c,deployStatus:o}),t.jsx("div",{className:"[&>div]:mx-0",children:t.jsx(N3,{deploymentHistory:i.map(B=>({id:B.run_id||B.id,status:B.status,updated_at:B.updated_at,rollback_possible:B.rollback_possible})),runId:a,isLoading:l,onViewLogs:b,onRollbackClick:y})})]}),(h||E)&&x&&t.jsx("div",{ref:L,"data-section-id":"resources",className:"px-4",children:t.jsx(E3,{tierInfo:s?.tier_info,onOpenResourcesModal:C,hasNoSuccessfulDeployment:E})}),t.jsx("div",{ref:P,"data-section-id":"database",className:"px-4",children:t.jsx(k3,{envs:r})}),m&&t.jsx("div",{ref:M,"data-section-id":"secrets",className:"px-4",children:t.jsx(F3,{envs:r,onSyncStatusChange:g.setEnvSyncedWithProduction,saveEnvironmentVariables:w,deployStatus:o,jobId:e,updateEnvironmentVariables:_,onOpenEditModal:F,podIsPaused:c})}),S&&t.jsx("div",{className:"px-4 pb-10",children:t.jsx(S3,{onShutdown:S})}),t.jsx("div",{className:"shrink-0 h-[100vh]","aria-hidden":"true"})]})]})})},eNe=({jobId:e,appName:n,deployData:s,envs:r,deploymentHistory:i,runId:a,deployStatus:o,isLoading:l,podIsPaused:c=!1,previewUrl:u,iosBuildData:p,androidBuildData:f,shouldShowEnvSection:m,shouldShowResourcesCard:h,deploymentState:x,onFixWithAgent:g,handleTierChange:v,handleViewLogs:b,handleRollbackClick:y,saveEnvironmentVariables:w,updateEnvironmentVariables:_,onAndroidBuildsClick:N,onIOSBuildsClick:j,onRunHealthCheck:C,onRedeploy:S,onShutdown:F,isDeploying:E,isMoltbot:I=!1})=>{const T=!i?.some(ze=>ze.status==="success"),[A,D]=d.useState("overview"),{isMobile:O}=ts(),{scrollContainerRef:M,showTopShadow:L,showBottomShadow:P,handleScroll:B}=tW(A),{isResourcesModalOpen:G,resourcesEffectiveTierId:$,setResourcesModalSelectedTierId:te,isTiersLoading:U,tiers:oe,resourcesChangeType:Y,showResourcesConfirmModal:W,setShowResourcesConfirmModal:Z,resourcesConfirmLoading:le,resourcesSelectedTier:q,currentTier:Q,isResourcesCreditsInfoModalOpen:he,setIsResourcesCreditsInfoModalOpen:me,useDeploymentTier:ce,handleOpenResourcesModal:ee,handleCloseResourcesModal:J,handleResourcesChange:re,handleOpenResourcesCreditsInfoModal:xe,handleConfirmResourcesChange:ae}=nW({deployData:s,handleTierChange:v}),{isSecretsEditModalOpen:Fe,secretsEditCategory:se,secretsEditSecrets:_e,secretsEditDescription:Re,handleOpenSecretsEditModal:Se,handleCloseSecretsEditModal:Ne,handleSecretsEditSave:ge}=sW({envs:r,saveEnvironmentVariables:w,updateEnvironmentVariables:_,deployStatus:o,jobId:e}),Ce=p?.successfulBuilds?.length||0,$e=f?.successfulBuilds?.length||0,dt=(()=>{const ze=[],_t=p?.latestBuild?.latest_run?.status,Bt=p?.isBuilding||_t==="running",qe=_t==="failed",Ae=_t==="success",Le=p?.successfulBuilds?.[0]?bf(p.successfulBuilds[0]):void 0;Bt?ze.push({platform:"iOS",status:"in-progress"}):(qe&&ze.push({platform:"iOS",status:"failed"}),Ae&&ze.push({platform:"iOS",status:"success",version:Le}));const Ut=f?.latestBuild?.latest_run?.status,tt=f?.isBuilding||Ut==="running"||Ut==="queued"||Ut==="pending",xt=Ut==="failed",St=Ut==="success",It=f?.successfulBuilds?.[0]?bf(f.successfulBuilds[0]):void 0;return tt?ze.push({platform:"Android",status:"in-progress"}):(xt&&ze.push({platform:"Android",status:"failed"}),St&&ze.push({platform:"Android",status:"success",version:It})),ze})(),Me={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2}},Te=(()=>{switch(A){case"overview":return t.jsxs(fe.div,{...Me,className:"flex flex-col gap-3 px-4 md:px-0",children:[t.jsx("div",{className:"md:mx-6",children:t.jsx(j3,{onFixWithAgent:g,podIsPaused:c,deployStatus:o})}),t.jsx("div",{className:"[&>div]:mx-0 md:[&>div]:mx-6",children:t.jsx(N3,{deploymentHistory:i.map(ze=>({id:ze.run_id||ze.id,status:ze.status,updated_at:ze.updated_at,rollback_possible:ze.rollback_possible})),runId:a,isLoading:l,onViewLogs:b,onRollbackClick:y})}),F&&t.jsx(S3,{onShutdown:F})]},"overview");case"secrets":return t.jsx(fe.div,{...Me,className:"px-4 md:px-6",children:m&&t.jsx(F3,{envs:r,onSyncStatusChange:x.setEnvSyncedWithProduction,saveEnvironmentVariables:w,deployStatus:o,jobId:e,updateEnvironmentVariables:_,onOpenEditModal:Se,podIsPaused:c})},"secrets");case"resources":return t.jsx(fe.div,{...Me,className:"px-4 md:px-6",children:(h||T)&&ce&&t.jsx(E3,{tierInfo:s?.tier_info,onOpenResourcesModal:ee,hasNoSuccessfulDeployment:T})},"resources");case"database":return t.jsx(fe.div,{...Me,className:"px-4 md:px-6",children:t.jsx(k3,{previewOrDeployUrl:u,envs:r})},"database");default:return null}})();return t.jsxs(t.Fragment,{children:[O?t.jsxs(t.Fragment,{children:[t.jsx(Qje,{jobId:e,appName:n,deployData:s,envs:r,deploymentHistory:i,runId:a,deployStatus:o,isLoading:l,podIsPaused:c,iosBuildCount:Ce,androidBuildCount:$e,buildBanners:dt,shouldShowEnvSection:m,shouldShowResourcesCard:h,useDeploymentTier:ce,deploymentState:x,onFixWithAgent:g,handleViewLogs:b,handleRollbackClick:y,saveEnvironmentVariables:w,updateEnvironmentVariables:_,onAndroidBuildsClick:N,onIOSBuildsClick:j,onOpenResourcesModal:ee,onShutdown:F,onOpenSecretsEditModal:Se}),t.jsx(UA,{hasSecretsChanges:!x.envSyncedWithProduction,onRunHealthCheck:C,onRedeploy:S,onShutdown:F,isLoading:l,isDeploying:E,podIsPaused:c})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"shrink-0",children:t.jsx(fW,{appName:n,onIOSBuildsClick:j,onAndroidBuildsClick:N,iosBuildCount:Ce,androidBuildCount:$e,buildBanners:dt})}),t.jsx("div",{className:"shrink-0",children:t.jsx(mW,{activeTab:A,onTabChange:D})}),t.jsxs("div",{className:"relative flex-1 flex flex-col min-h-0",children:[t.jsx("div",{className:k("absolute top-0 left-0 right-0 h-6 bg-gradient-to-b from-white/[0.02] to-transparent z-10 pointer-events-none transition-opacity duration-200",L?"opacity-100":"opacity-0")}),t.jsx("div",{className:k("absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-white/[0.02] to-transparent z-10 pointer-events-none transition-opacity duration-200",P?"opacity-100":"opacity-0")}),t.jsx("div",{ref:M,onScroll:B,className:"flex-1 overflow-y-auto pt-6 pb-[90px]",children:t.jsx(Kn,{mode:"wait",children:Te})})]}),t.jsx(UA,{hasSecretsChanges:!x.envSyncedWithProduction,onRunHealthCheck:C,onRedeploy:S,onShutdown:F,isLoading:l,isDeploying:E,podIsPaused:c})]}),t.jsx(HC,{isOpen:G,onClose:J,selectedTierId:$,onTierSelect:te,onResourceChange:re,tiers:oe,isLoading:U,isMoltbot:I}),Y&&t.jsx(VC,{isOpen:W,onClose:()=>Z(!1),onConfirm:ae,onKnowMoreClick:xe,loading:le,changeType:Y,targetTier:q,currentTier:Q,tierChangeRefund:s?.tier_change_refund,deductedAmount:s?.deducted_amount,estimatedRefund:s?.estimated_refund,deductionDate:s?.deduction_date,podIsPaused:c}),t.jsx(I3,{isOpen:he,onClose:()=>me(!1),creditsPerMonth:q?.creditsPerMonth,creditsPerDay:q?.creditsPerDay}),t.jsx(pW,{isOpen:Fe,onClose:Ne,title:se,description:Re,secrets:_e,onSave:ge,podIsPaused:c})]})},tNe=K.common.keyPurple,nNe=K.common.purpleDownArrow,sNe=K.common.iconamoonEditFill,rNe=K.common.copyPurple,iNe=K.common.eyeNew,aNe=K.icons.eyeOff,oNe=({onSyncStatusChange:e,envs:n,saveEnvironmentVariables:s,deployStatus:r="not_deployed",jobId:i,updateEnvironmentVariables:a})=>{const{toast:o}=ns(),[l,c]=d.useState(!1),[u,p]=d.useState({}),{copiedKey:f,handleCopy:m}=BC(),h=()=>{c(!l)},[x,g]=d.useState(n);d.useEffect(()=>{g(n)},[n]);const v=()=>{const F=x.some(E=>E.value!==E.originalValue);e(!F)},b=(F,E)=>{const I=[...x];I[F]={...I[F],value:E},g(I),s&&s(I),v()};d.useEffect(()=>{const F={};x.forEach((E,I)=>{F[I]={isEditing:{value:!1},showPassword:!1,editMode:!1}}),p(F)},[x.length]),d.useEffect(()=>{v()},[]);const y=F=>{p(E=>({...E,[F]:{...E[F],isEditing:{value:!0}}}))},w=F=>{p(E=>({...E,[F]:{...E[F],isEditing:{value:!1}}}))},_=F=>{p(E=>({...E,[F]:{...E[F],showPassword:!E[F]?.showPassword}}))},N=d.useCallback(F=>{m(F,x[F].value)},[m,x]),j=async(F,E)=>{E&&(E.preventDefault(),E.stopPropagation());const I=u[F]?.editMode;if(p(T=>({...T,[F]:{...T[F],editMode:!T[F]?.editMode}})),I){const T=[...x];if(s&&s(T),r==="not_deployed"&&i&&a)try{await a(T)&&o({title:"Environment Variables Updated",description:"Your environment variables have been updated successfully.",duration:2e3})}catch{o({title:"Update Failed",description:"Failed to update environment variables. Please try again.",variant:"destructive",duration:2e3})}}setTimeout(()=>{v()},0)},C={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},S={hidden:{height:0,opacity:0},visible:{height:"auto",opacity:1,transition:{height:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2,delay:.1}}},exit:{height:0,opacity:0,transition:{height:{type:"spring",stiffness:500,damping:40},opacity:{duration:.1}}}};return t.jsx(fe.div,{className:"",variants:C,initial:"hidden",animate:"visible",exit:"exit",children:t.jsxs("div",{className:"flex items-center flex-col bg-[#A199FF0F] p-3 mb-3  md:p-5 md:mb-5 rounded-[12px]",children:[t.jsxs("div",{onClick:h,className:"flex flex-col w-full gap-2 cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:tNe,alt:"Key",className:"w-6 h-6"}),t.jsx("div",{className:"text-[#A199FF] text-[14px]  md:text-[16px] font-medium font-['Inter']",children:"Env Variables"})]}),t.jsx("img",{onClick:h,src:nNe,alt:"Down Arrow",className:k("w-5 h-5 md:w-6 md:h-6 opacity-50 cursor-pointer hover:opacity-100 transition-transform duration-300",{"rotate-180":l})})]}),t.jsx("div",{className:"text-[13px] md:text-[14px] font-['Inter'] text-[#B9B2FF] opacity-60",children:"Secrets and environment variables are confidential credentials that enable secure access to APIs and services. Carefully handle secrets to avoid application failure."})]}),t.jsx("div",{className:"w-full overflow-hidden",children:t.jsx(Kn,{children:l&&t.jsx(fe.div,{className:"w-full",variants:S,initial:"hidden",animate:"visible",exit:"exit",children:x.map((F,E)=>t.jsxs("div",{className:"flex flex-col items-center justify-between w-full gap-2 md:gap-4 max-md:p-2 mt-4 max-md:border border-[#B9B2FF25] max-md:rounded-[10px] md:flex-row",children:[t.jsxs("div",{className:"flex flex-col items-center w-full gap-2 md:gap-4 md:flex-row",children:[t.jsx("div",{className:k("w-full border rounded-[8px] transition-all duration-200","bg-[#A199FF14] border-transparent"),children:t.jsx("input",{type:"text",value:F.key,placeholder:"Key Name",readOnly:!0,className:k("w-full py-[10px] px-[14px] bg-transparent focus:outline-none placeholder-[#626266] transition-colors duration-200 font-[inter] text-[14px]","text-[#B9B2FF] cursor-not-allowed")})}),t.jsxs("div",{className:k("pr-[8px] justify-between flex w-full border rounded-[8px] items-center transition-all duration-200",u[E]?.editMode?k("bg-[#FFFFFF0A]",u[E]?.isEditing?.value?"border-[#fff]/80":"border-[#ffffff]/30"):"bg-[#A199FF14] border-transparent"),children:[t.jsx("input",{type:u[E]?.showPassword?"text":"password",value:F.value,placeholder:"Key Value",onChange:I=>b(E,I.target.value),onFocus:()=>y(E),onBlur:()=>w(E),readOnly:!u[E]?.editMode,className:k("py-[10px] px-[14px] bg-transparent placeholder-[#626266] focus:outline-none transition-colors duration-200 font-[inter] text-[14px]",u[E]?.editMode?u[E]?.isEditing?.value?"text-white":"text-[#E6E6E6]":"text-[#B9B2FF]",!u[E]?.editMode&&"cursor-not-allowed")}),t.jsx("div",{role:"button",tabIndex:0,onClick:I=>{I.preventDefault(),I.stopPropagation(),_(E)},onKeyDown:I=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),I.stopPropagation(),_(E))},className:"text-[#626266] hover:text-[#B9B2FF] transition-colors w-8 h-8 flex items-center justify-center rounded-md hover:bg-white/5 cursor-pointer",children:u[E]?.showPassword?t.jsx("img",{src:aNe,alt:"Hide",className:"w-6 h-6"}):t.jsx("img",{src:iNe,alt:"Show",className:"w-6 h-6"})})]})]}),t.jsx("div",{className:"flex items-center gap-2 max-md:w-full md:min-w-[72px]",children:u[E]?.editMode?t.jsx("div",{role:"button",tabIndex:0,title:"Save",onClick:I=>{I.preventDefault(),I.stopPropagation(),setTimeout(()=>{j(E,I)},0)},onKeyDown:I=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),I.stopPropagation(),setTimeout(()=>{j(E,I)},0))},className:"relative px-3  flex items-center justify-center bg-[#2EE572] max-md:w-full min-h-[40px] rounded-[10px] cursor-pointer",children:t.jsx("span",{className:"text-[#0f0f10] font-semibold",children:"Save"})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{role:"button",tabIndex:0,title:"Edit",onClick:I=>{I.preventDefault(),I.stopPropagation(),setTimeout(()=>{j(E,I)},0)},onKeyDown:I=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),I.stopPropagation(),setTimeout(()=>{j(E,I)},0))},className:"relative flex gap-2 items-center justify-center max-md:w-full cursor-pointer max-md:bg-[#A199FF25] rounded-[10px] p-1 px-3 hover:bg-[#A199FF14]",children:[t.jsx("img",{src:sNe,alt:"Edit",className:"w-6 h-6 md:w-7 md:h-7"}),t.jsx("span",{className:"text-[#B9B2FF90] md:hidden font-semibold",children:"Edit"})]}),t.jsxs("div",{role:"button",tabIndex:0,title:"Copy",onClick:I=>{I.preventDefault(),I.stopPropagation(),N(E)},onKeyDown:I=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),I.stopPropagation(),N(E))},className:"relative flex gap-2 text-[#A199FF] items-center justify-center max-md:w-full cursor-pointer max-md:bg-[#A199FF25] rounded-[10px] p-1 px-3  hover:bg-[#A199FF14]",children:[t.jsx("img",{src:rNe,alt:"Copy",className:"w-6 h-6 md:w-7 md:h-7"}),t.jsx("span",{className:"text-[#B9B2FF90] md:hidden font-semibold",children:f===E?"Copied!":"Copy"}),f===E&&t.jsx("span",{className:"absolute hidden md:block -top-8 left-1/2 transform -translate-x-1/2 bg-[#333333] text-white text-xs px-2 py-1 rounded",children:"Copied!"})]})]})})]},E))})})})]})})},lNe=({size:e=24,primaryColor:n="white",secondaryColor:s="#2EE572",className:r,style:i})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,style:i,children:[t.jsx("path",{d:"M17.4053 4.80469C19.0621 4.80469 20.4053 6.14783 20.4053 7.80469V12.0645C19.4374 11.3953 18.2638 11.0029 16.998 11.0029C15.7709 11.0029 14.6302 11.3716 13.6797 12.0039H8.4043C7.07881 12.0039 6.00391 13.0788 6.00391 14.4043C6.00412 15.7296 7.07894 16.8037 8.4043 16.8037H11.0029C11.0008 16.8697 10.998 16.9364 10.998 17.0029C10.9981 17.7806 11.1476 18.5231 11.417 19.2051H6.60547C4.94875 19.2051 3.60568 17.8618 3.60547 16.2051V7.80469C3.60547 6.14783 4.94862 4.80469 6.60547 4.80469H17.4053ZM9.59668 13.208C10.2593 13.2081 10.7968 13.7456 10.7969 14.4082C10.7969 15.0709 10.2593 15.6083 9.59668 15.6084C8.93394 15.6084 8.39648 15.0709 8.39648 14.4082C8.39659 13.7456 8.934 13.208 9.59668 13.208ZM1.2002 10.8066C1.86285 10.8067 2.40039 11.3442 2.40039 12.0068V14.4062C2.40039 15.0689 1.86285 15.6063 1.2002 15.6064C0.537453 15.6064 0 15.069 0 14.4062V12.0068C0 11.3441 0.537453 10.8066 1.2002 10.8066ZM22.8037 10.8066C23.4664 10.8067 24.0039 11.3442 24.0039 12.0068V14.4062C24.0039 15.0594 23.4816 15.5893 22.832 15.6045C22.6136 14.6896 22.1875 13.8559 21.6035 13.1572V12.0068C21.6035 11.3441 22.141 10.8066 22.8037 10.8066Z",fill:n}),t.jsx("path",{d:"M19.9231 17.2288C19.9231 16.4876 19.6597 15.8536 19.1328 15.3268C18.606 14.7999 17.972 14.5365 17.2308 14.5365C16.4896 14.5365 15.8556 14.7999 15.3287 15.3268C14.8019 15.8536 14.5385 16.4876 14.5385 17.2288C14.5385 17.97 14.8019 18.604 15.3287 19.1309C15.8556 19.6577 16.4896 19.9211 17.2308 19.9211C17.972 19.9211 18.606 19.6577 19.1328 19.1309C19.6597 18.604 19.9231 17.97 19.9231 17.2288ZM23 22.2288C23 22.4372 22.9239 22.6174 22.7716 22.7697C22.6194 22.9219 22.4391 22.998 22.2308 22.998C22.0144 22.998 21.8341 22.9219 21.6899 22.7697L19.6286 20.7144C18.9115 21.2112 18.1122 21.4596 17.2308 21.4596C16.6579 21.4596 16.11 21.3484 15.5871 21.1261C15.0643 20.9037 14.6136 20.6032 14.235 20.2246C13.8564 19.846 13.5559 19.3953 13.3335 18.8724C13.1112 18.3496 13 17.8017 13 17.2288C13 16.6559 13.1112 16.108 13.3335 15.5852C13.5559 15.0623 13.8564 14.6116 14.235 14.233C14.6136 13.8544 15.0643 13.5539 15.5871 13.3316C16.11 13.1092 16.6579 12.998 17.2308 12.998C17.8037 12.998 18.3516 13.1092 18.8744 13.3316C19.3972 13.5539 19.848 13.8544 20.2266 14.233C20.6052 14.6116 20.9056 15.0623 21.128 15.5852C21.3504 16.108 21.4615 16.6559 21.4615 17.2288C21.4615 18.1102 21.2131 18.9095 20.7163 19.6267L22.7776 21.688C22.9259 21.8362 23 22.0165 23 22.2288Z",fill:s})]}),HA=({onRunHealthCheck:e})=>{const[n,s]=d.useState(!1),{isMobile:r}=ts();return t.jsx("div",{className:"",children:t.jsxs("div",{className:"w-full bg-[#FFFFFF0A] p-4 rounded-[12px] transition-all duration-150 ease-in-out max-md:flex max-md:flex-col max-md:gap-2",children:[t.jsxs("div",{className:"flex items-center justify-between ",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(lNe,{className:"",size:r?20:24}),t.jsx("span",{className:"font-medium font-inter text-nowrap text-base",children:"Pre-Deployment Health Check"})]}),t.jsxs("div",{className:"flex gap-[10px] items-center max-md:hidden",children:[t.jsx("button",{"data-testid":gs.deploy.healthCheckButton,title:"Run Health Check",onClick:()=>{ss("health_check",{action:"run_health_check_clicked",location:"desktop"}),e&&e()},className:"text-[#0F0F10] text-nowrap bg-[#2EE572] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",children:"Run Health Check"}),t.jsx("button",{title:"Open Health Check Section",onClick:()=>s(!n),className:"bg-[#FFFFFF1A] p-[6px] rounded-[10px]",children:t.jsx(Ur,{className:`transition-transform ${n?"rotate-180":""}`})})]})]}),t.jsxs("div",{className:k("md:max-w-[60%] flex flex-col gap-4",n&&"flex"),children:[t.jsx("span",{className:"text-[14px] leading-[20px] text-[#FFFFFF80] font-inter font-medium",children:"Run an automated code review to catch deployment blockers before launch. Costs 2-3 credits"}),t.jsx("span",{className:"text-[#2EE572] hidden max-md:hidden text-[14px] underline font-medium font-inter",children:"Why Health check is important?"})]}),t.jsx("button",{"data-testid":gs.deploy.healthCheckButton,title:"Run Health Check",onClick:()=>{ss("health_check",{action:"run_health_check_clicked",location:"mobile"}),e&&e()},className:"text-[#0F0F10] md:hidden mt-2 text-nowrap bg-[#2EE572] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",children:"Run Health Check"})]})})},VA=K.common.lockedWeb,cNe=K.common.lockedWebBlue,$A=K.common.unlink,dNe=K.common.close,uNe=K.common.flowbiteRefreshOutline,pNe=({jobId:e,loading:n,customDomain:s,registerDomain:r,verifyDomain:i,onOpenManualLinkModal:a,onOpenManualLinkModalWithRecords:o,onUnlinkDomain:l,unlinkDomainDirect:c,refetchCustomDomain:u,fetchDnsRecordsOnly:p,shouldExpandForm:f,onFormExpanded:m,isHighlighted:h,onHighlightComplete:x,onOpenSwitchDomainModal:g})=>{const{toast:v}=ns(),[b,y]=d.useState(""),[w,_]=d.useState(!1),[N,j]=d.useState(!1),[C,S]=d.useState(!1),[F,E]=d.useState(!1),[I,T]=d.useState(!1),A=Ule(),D=d.useRef(null),O=d.useRef(!0);d.useEffect(()=>(O.current=!0,()=>{O.current=!1,D.current&&(clearTimeout(D.current),D.current=null)}),[]),d.useEffect(()=>{f&&!w&&(_(!0),m?.())},[f,w,m]),d.useEffect(()=>{if(h&&!I){T(!0);const ee=setTimeout(()=>{T(!1),x?.()},800);return()=>clearTimeout(ee)}},[h,I,x]);const{launchEntriForDomain:M,purchaseDomain:L,isLoading:P}=UC({onSuccess:async()=>{if(H(ur.ENTRI_SUCCESS,{jobId:e,domain:b}),b){try{await i(b)}catch{}await u(),_(!1)}},onCancel:async()=>{if(H(ur.ENTRI_CANCELLED,{jobId:e,domain:b}),b&&c)try{await c(b)}catch{}},onPurchaseSuccess:async ee=>{y(ee);let J=0;const re=10,xe=2e3,ae=async()=>{O.current&&J<re&&(await u(),J++,O.current&&(D.current=setTimeout(ae,xe)))};ae(),_(!1)}});d.useEffect(()=>{s?.domain&&!b&&y(s.domain)},[s?.domain]);const B=ee=>/^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$/i.test(ee),G=async()=>{if(s?.domain){H(ur.STATUS_REFRESH_CLICKED,{jobId:e,domain:s.domain}),j(!0);try{await i(s.domain),await u(),v({title:"Status Updated",description:"Domain status has been refreshed",duration:1500})}catch(ee){v({title:"Status Check Failed",description:ee?.message||"Failed to check domain status",variant:"destructive",duration:3e3})}finally{j(!1)}}},$=async()=>{const ee=await p();ee?.dns_records&&ee.dns_records.length>0?M(b,ee.dns_records,e):v({title:"DNS Records Unavailable",description:"Failed to fetch DNS records. Please try again or use manual linking.",variant:"destructive",duration:3e3})},te=async()=>{if(!b||!B(b)){v({title:"Invalid Domain",description:"Please enter a valid domain name",variant:"destructive",duration:3e3});return}H(ur.AUTO_LINK_CLICKED,{jobId:e,domain:b}),S(!0);try{await r(b),await $()}catch(ee){if(H(ur.AUTO_LINK_FAILED,{jobId:e,domain:b,error:ee?.error||ee?.message}),ee?.error?.code==="domain_already_linked"){g?.(b,ee.error.linked_app_name,ee.error.linked_app_id,$);return}let J=ee?.error||ee?.message||"Failed to register domain";ee?.error?.code&&(J=ee?.error?.error),v({title:"Registration Failed",description:J,variant:"destructive",duration:3e3})}finally{S(!1)}},U=async()=>{const ee=await p();ee?.dns_records&&ee.dns_records.length>0?(o?.(ee.dns_records,b),v({title:"Domain Registered",description:"Please add the DNS records to verify your domain",duration:3e3})):v({title:"DNS Records Unavailable",description:"Domain was registered but DNS records could not be fetched. Please try refreshing.",variant:"destructive",duration:3e3})},oe=async()=>{if(!b||!B(b)){v({title:"Invalid Domain",description:"Please enter a valid domain name",variant:"destructive",duration:3e3});return}H(ur.MANUAL_LINK_CLICKED,{jobId:e,domain:b}),E(!0);try{await r(b),await U()}catch(ee){if(H(ur.MANUAL_LINK_FAILED,{jobId:e,domain:b,error:ee?.error||ee?.message}),ee?.error?.code==="domain_already_linked"){g?.(b,ee.error.linked_app_name,ee.error.linked_app_id,U);return}let J=ee?.error||ee?.message||"Failed to register domain";ee?.error?.code&&(J=ee?.error?.error),v({title:"Registration Failed",description:J,variant:"destructive",duration:3e3})}finally{E(!1)}},Y=s?.status,W=!!s,Z=Y==="pending",le=Y==="verified",q=Y==="failed",Q=le||q||Z,he=Z||q,me=b&&B(b),ce=n||P||C;return W?t.jsxs("div",{className:"w-full bg-[#FFFFFF0A] p-4 rounded-[12px] transition-all duration-150 ease-in-out max-md:flex max-md:flex-col max-md:gap-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:VA,alt:"Locked Web",className:"w-5 h-5 md:w-6 md:h-6"}),t.jsx("span",{className:"font-medium font-inter text-nowrap text-base text-white",children:"Custom Domain"})]}),Q&&s&&t.jsx("div",{className:"flex gap-[10px] items-center max-md:hidden",children:t.jsxs("button",{type:"button",title:"Unlink Domain",onClick:()=>l?.(s.domain),className:"text-white text-nowrap bg-[#FFFFFF1A] hover:bg-[#FFFFFF25] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2 gap-2",children:["Unlink Domain",t.jsx("img",{src:$A,alt:"Unlink",className:"w-5 h-5"})]})})]}),t.jsx("div",{className:"md:max-w-[60%] flex flex-col gap-4",children:t.jsxs("span",{className:"text-[14px] leading-[20px] text-[#FFFFFF80] font-inter font-medium",children:["Users can visit your project using this domain."," ",t.jsx("button",{type:"button",onClick:a,className:"text-[#0A84FF] font-medium underline hover:opacity-80",children:"View DNS records"})]})}),t.jsxs("div",{className:"mt-4 p-3 md:p-4 bg-[#FFFFFF08] rounded-[12px] flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Dme,{className:"w-5 h-5 text-[#8E8E93]"}),Z?t.jsxs("span",{className:"text-[14px] text-[#828283] font-inter font-medium underline flex items-center gap-1",children:[s?.domain,t.jsx(Uo,{className:"w-4 h-4 text-[#8E8E93]"})]}):t.jsxs("a",{href:`https://${s?.domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-[14px] text-white font-inter font-medium flex items-center gap-1 underline",children:[s?.domain,t.jsx(Uo,{className:"w-4 h-4 text-[#8E8E93]"})]})]}),le&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xn,{className:"w-5 h-5 text-[#30D158]"}),t.jsx("span",{className:"text-[#30D158] font-inter font-medium text-[14px]",children:"Linked"})]})]}),Q&&s&&t.jsxs("button",{type:"button",title:"Unlink Domain",onClick:()=>l?.(s.domain),className:"md:hidden text-white text-nowrap bg-[#FFFFFF1A] hover:bg-[#FFFFFF25] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2 gap-2 mt-2",children:["Unlink Domain",t.jsx("img",{src:$A,alt:"Unlink",className:"w-5 h-5"})]}),he&&t.jsxs("div",{className:k("mt-4 p-3 md:p-4 rounded-[12px] flex max-md:flex-col items-center justify-between gap-4",Z&&"bg-[#27313D]",q&&"bg-[#3D2727]"),children:[t.jsxs("div",{className:"flex flex-col gap-1 max-md:w-full",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[Z&&t.jsx(VS,{className:"w-3 h-3 text-[#4d9fff]"}),q&&t.jsx(VS,{className:"w-3 h-3 text-[#FF453A]"}),t.jsx("span",{className:k("font-inter font-medium text-[14px]",Z?"text-[#4d9fff]":"text-[#FF453A]"),children:Z?"Linking in progress":"Linking is taking longer"})]}),t.jsx("p",{className:"text-[#d9d9d9] font-inter text-[12px]",children:"Typically takes 10-15 mins, may take up to 24 hours in rare cases."})]}),Z&&t.jsxs("button",{type:"button",onClick:G,disabled:N||n,className:"flex items-center gap-2 px-4 py-2 bg-[#FFFFFF0F] hover:bg-[#FFFFFF15] rounded-[10px] text-white font-inter font-medium text-[14px] whitespace-nowrap h-[36px] max-md:w-full max-md:justify-center",children:["Refresh status",t.jsx("img",{src:uNe,alt:"Refresh",className:k("w-5 h-5 invert brightness-0",(N||n)&&"animate-spin")})]}),q&&t.jsx("button",{type:"button",onClick:()=>{A.open({domain:s?.domain||"",jobId:e,data:s?{current_ips:s.current_ips||[],dns_records:s.dns_records.map(ee=>({type:ee.type,name:ee.name,value:ee.value||""}))}:void 0,onAutoLink:async()=>{s?.domain&&await M(s.domain,s.dns_records,e)}})},className:"flex items-center gap-2 px-4 py-2 bg-[#FFFFFF0F] hover:bg-[#FFFFFF15] rounded-[10px] text-white font-inter font-medium text-[14px] whitespace-nowrap h-[36px] max-md:w-full max-md:justify-center",children:"View details"})]})]}):t.jsxs("div",{className:k("w-full bg-[#FFFFFF0A] p-4 rounded-[12px] transition-all duration-150 ease-in-out max-md:flex max-md:flex-col max-md:gap-2",w&&"bg-[#4d9fff08] border border-[#4d9fff50]",I&&"border border-[#4d9fff50] animate-blink-border"),children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:w?cNe:VA,alt:"Locked Web",className:"w-5 h-5 md:w-6 md:h-6"}),t.jsx("span",{className:k("font-medium font-inter text-nowrap text-base",w&&"text-[#4d9fff]"),children:"Custom Domain"})]}),!w&&t.jsxs("div",{className:"flex gap-[10px] items-center max-md:hidden",children:[SF()&&t.jsx("button",{type:"button",title:"Buy Domain",onClick:()=>L(e||""),disabled:P||!e,className:k("text-white text-nowrap bg-[#0070F3] hover:bg-[#0050C3] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",(P||!e)&&"opacity-50 cursor-not-allowed"),children:"Buy Domain"}),t.jsx("button",{type:"button",title:"Link Domain",onClick:()=>{H("custom_domain_link_clicked",{jobId:e}),_(!0)},className:"text-white text-nowrap bg-[#FFFFFF1A] hover:bg-[#FFFFFF25] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",children:"Link Domain"})]}),w&&t.jsx("button",{type:"button",title:"Cancel",onClick:()=>{H("custom_domain_link_canceled",{jobId:e}),_(!1)},className:"bg-[#FFFFFF1A] p-[6px] rounded-[10px] max-md:hidden",children:t.jsx("img",{src:dNe,alt:"Close",className:"w-6 h-6"})})]}),!w&&t.jsx("div",{className:"md:max-w-[60%] flex flex-col gap-4",children:t.jsx("span",{className:"text-[14px] leading-[20px] text-[#FFFFFF80] font-inter font-medium",children:"Connect a custom domain so users can visit your project at your own URL"})}),!w&&t.jsxs("div",{className:"flex gap-2 md:hidden mt-2",children:[SF()&&t.jsx("button",{type:"button",title:"Buy Domain",onClick:()=>L(e||""),disabled:P||!e,className:k("flex-1 text-white text-nowrap bg-[#0070F3] hover:bg-[#0050C3] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",(P||!e)&&"opacity-50 cursor-not-allowed"),children:"Buy Domain"}),t.jsx("button",{type:"button",title:"Link Domain",onClick:()=>{H(ur.LINK_CLICKED,{jobId:e}),_(!0)},className:"flex-1 text-white text-nowrap bg-[#FFFFFF1A] hover:bg-[#FFFFFF25] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",children:"Link Domain"})]}),w&&t.jsxs("div",{className:"mt-4 flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:"domain-input",className:"text-[#99c8ff]/80 font-inter text-[14px]",children:"Enter your domain"}),t.jsx("input",{id:"domain-input",type:"text",autoFocus:!0,value:b,onChange:ee=>y(ee.target.value),placeholder:"e.g. yourapp.com or yourapp.tech",className:"w-full p-3 bg-[#66adff08] px-4 font-inter font-medium rounded-[12px] text-[#CCE4FF] placeholder:text-[#4d9fff50] border border-[#66adff40] text-[16px] focus:outline-none focus:border-[#66adff60]"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:te,disabled:ce||!me,className:k("flex-1 rounded-[10px] h-[36px] font-semibold text-[14px]",ce||!me?"bg-[#0070F350] text-[#FFFFFF4D] cursor-not-allowed":"bg-[#0070F3] text-white hover:bg-[#0060D3]"),children:ce?"Processing...":"Auto-link Domain"}),t.jsx("button",{type:"button",onClick:oe,disabled:F||ce||!me,className:k("flex-1 rounded-[10px] h-[36px] font-semibold text-[14px] bg-[#FFFFFF1A]",F||ce||!me?"text-[#FFFFFF4D] cursor-not-allowed":"text-white hover:bg-[#FFFFFF25]"),children:F?"Processing...":"Link Manually"})]}),t.jsx("button",{type:"button",onClick:()=>{H("custom_domain_link_canceled",{jobId:e}),_(!1)},className:"md:hidden text-[#FFFFFF80] text-[14px] font-medium",children:"Cancel"})]})]})},fNe=e=>e.endsWith("m")?`${parseInt(e.slice(0,-1),10)/1e3} vCPU`:`${e} vCPU`,mNe=e=>e.endsWith("Gi")?`${parseInt(e.slice(0,-2),10)} GB RAM`:e.endsWith("Mi")?`${parseInt(e.slice(0,-2),10)} MB RAM`:e,zA=({tierInfo:e,tierChangeRefund:n,deductedAmount:s,estimatedRefund:r,deductionDate:i,onTierChange:a,isMoltbot:o=!1})=>{const{tiers:l,defaultTier:c,isLoading:u}=_3({currentTierId:e?.id}),[p,f]=d.useState(!1),[m,h]=d.useState(null),[x,g]=d.useState(!1),[v,b]=d.useState(null),[y,w]=d.useState(!1),[_,N]=d.useState(!1),j=e?.id||c,C=l.find(te=>te.id===j)||l[0],S=m||j,F=l.find(te=>te.id===S)||l[0],E=e?.name||C?.name||"Basic",I=e?fNe(e.vpa_enabled?e.cpu_limit:e.cpu):C?.vCPU||"",T=e?mNe(e.vpa_enabled?e.memory_limit:e.memory):C?.ram||"",A=l.length>0?l[l.length-1]:null,D=A&&j===A.id,O=D?"Downgrade":"Upgrade",M=te=>{h(te)},L=()=>{H(D?ua.RESOURCES_DOWNGRADE_BUTTON_CLICKED:ua.RESOURCES_UPGRADE_BUTTON_CLICKED,{currentTierId:j,currentTierName:C?.name,isOnHighestTier:!!D}),h(null),f(!0)},P=()=>{f(!1),h(null)},B=te=>{b(te),g(!0)},G=()=>{H(ua.CREDITS_INFO_MODAL_OPENED,{currentTierId:j}),N(!0)},$=async()=>{if(a){w(!0);try{await a(S),g(!1),f(!1),h(null)}catch{}finally{w(!1)}}};return t.jsxs(t.Fragment,{children:[t.jsx(fe.div,{className:"w-full bg-[#FFFFFF0A] p-4 rounded-[12px] max-md:flex max-md:flex-col max-md:gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.25,.46,.45,.94]},children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex gap-6 items-start w-full",children:[t.jsxs("div",{className:"flex flex-1 flex-col gap-2 items-start",children:[t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(uW,{size:20}),t.jsx("p",{className:"font-['Inter'] font-medium leading-6 text-base text-white",children:"Resources"})]}),t.jsx("p",{className:"font-['Inter'] font-normal leading-5 text-sm text-white opacity-60",children:"Power allocated to keep your app fast, stable, and online"})]}),t.jsx("button",{onClick:L,className:"bg-[rgba(255,255,255,0.08)] flex items-center px-4 py-[6px] rounded-[8px] hover:bg-[rgba(255,255,255,0.12)] transition-colors",children:t.jsx("p",{className:"font-['Brockmann'] font-semibold leading-6 text-base text-white",children:O})})]}),t.jsxs("div",{className:"flex gap-4 items-center justify-center w-full",children:[t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] flex items-center overflow-clip px-[14px] py-[10px] rounded-[8px] w-[250px] max-lg:hidden",children:t.jsx("p",{className:"font-['Inter'] font-semibold leading-6 text-sm text-[#7F8283]",children:"Current allocation"})}),t.jsxs("div",{className:"bg-[rgba(255,255,255,0.08)] flex flex-col lg:flex-row flex-1 lg:items-center justify-between overflow-clip px-[14px] py-[10px] rounded-[8px] gap-1 lg:gap-0",children:[t.jsx("p",{className:"font-['Inter'] font-medium leading-6 text-base text-white whitespace-nowrap",children:u&&!e?"Loading...":E}),t.jsx("p",{className:"font-['Inter'] font-normal leading-5 text-sm text-[#7F8283] whitespace-nowrap",children:u&&!e?"...":`${I}  ${T}`})]})]})]})}),t.jsx(HC,{isOpen:p,onClose:P,selectedTierId:S,onTierSelect:M,onResourceChange:B,tiers:l,isLoading:u,isMoltbot:o}),v&&t.jsx(VC,{isOpen:x,onClose:()=>g(!1),onConfirm:$,onKnowMoreClick:G,loading:y,changeType:v,targetTier:F,currentTier:C,tierChangeRefund:n,deductedAmount:s,estimatedRefund:r,deductionDate:i}),t.jsx(I3,{isOpen:_,onClose:()=>N(!1),creditsPerMonth:F?.creditsPerMonth,creditsPerDay:F?.creditsPerDay})]})},$C=({width:e=16,height:n=16,className:s="",style:r,fill:i="#F2F5F7"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 16 16",fill:"none",className:s,style:r,children:t.jsx("path",{d:"M3.59154 13.332L2.6582 12.3987L10.3915 4.66536H5.99154V3.33203H12.6582V9.9987H11.3249V5.5987L3.59154 13.332Z",fill:i})}),WA="https://dataviewer-7.emergent.host/",hNe=({size:e=24})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M12 3C7.58 3 4 4.79 4 7V17C4 19.21 7.58 21 12 21C16.42 21 20 19.21 20 17V7C20 4.79 16.42 3 12 3ZM12 5C15.87 5 18 6.5 18 7C18 7.5 15.87 9 12 9C8.13 9 6 7.5 6 7C6 6.5 8.13 5 12 5ZM6 9.72C7.61 10.53 9.72 11 12 11C14.28 11 16.39 10.53 18 9.72V12C18 12.5 15.87 14 12 14C8.13 14 6 12.5 6 12V9.72ZM6 14.72C7.61 15.53 9.72 16 12 16C14.28 16 16.39 15.53 18 14.72V17C18 17.5 15.87 19 12 19C8.13 19 6 17.5 6 17V14.72Z",fill:"white"})}),xNe=()=>{const e=()=>{H("database_access_clicked",{url:WA}),window.open(WA,"_blank")};return t.jsx("div",{className:"",children:t.jsxs("div",{className:"w-full bg-[#FFFFFF0A] rounded-[12px] overflow-hidden",children:[t.jsxs("div",{className:"p-4 flex items-start justify-between",children:[t.jsxs("div",{className:"flex flex-col gap-2 flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hNe,{size:24}),t.jsx("p",{className:"font-['Inter'] font-medium leading-6 text-base text-white",children:"Database"})]}),t.jsx("p",{className:"font-['Inter'] font-normal leading-5 text-sm text-white opacity-60",children:"View and manage the data your live app stores and uses"})]}),t.jsxs("button",{onClick:e,className:"bg-[rgba(255,255,255,0.08)] flex items-center gap-2 px-4 py-[6px] rounded-[8px] hover:bg-[rgba(255,255,255,0.12)] transition-colors shrink-0",children:[t.jsx("p",{className:"font-['Brockmann'] font-medium leading-6 text-base text-white whitespace-nowrap",children:"Access database"}),t.jsx($C,{width:20,height:20})]})]}),t.jsxs("div",{className:"bg-[rgba(255,255,255,0.04)] px-4 py-[10px] flex items-center justify-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 14 15",fill:"none",className:"shrink-0",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 3.125C14 1.67525 12.8247 0.5 11.375 0.5H2.625C1.17525 0.5 0 1.67525 0 3.125V11.8751C0 13.3248 1.17525 14.5001 2.625 14.5001H11.375C12.8247 14.5001 14 13.3248 14 11.8751L14 3.125ZM6.99972 5.82299C7.60378 5.82299 8.09347 5.3333 8.09347 4.72924C8.09347 4.12518 7.60378 3.63549 6.99972 3.63549C6.39565 3.63549 5.90597 4.12518 5.90597 4.72924C5.90597 5.3333 6.39565 5.82299 6.99972 5.82299ZM5.90597 6.91674C5.50326 6.91674 5.1768 7.2432 5.1768 7.6459C5.1768 8.04861 5.50326 8.37507 5.90597 8.37507H6.63542L6.63542 11.1459C6.63542 11.5486 6.96188 11.8751 7.36458 11.8751C7.76729 11.8751 8.09375 11.5486 8.09375 11.1459L8.09375 7.6459C8.09375 7.2432 7.76729 6.91674 7.36458 6.91674H5.90597Z",fill:"rgba(255,255,255,0.8)"})}),t.jsx("p",{className:"font-['Inter'] font-medium leading-5 text-sm text-white/80 text-center",children:"Open Env Variables, copy the Mongo URL, and paste it to access your database"})]})]})})},gNe=K.common.eyeNew,bNe=K.common.alertOrange,yNe=K.deployment.keyAlert,vNe=K.deployment.stripe,wNe=K.icons.eyeOff,hW=({value:e,onStripeKeyUpdate:n,termsSelected:s,setTermsSelected:r})=>{const[i,a]=d.useState(!1),[o,l]=d.useState(!1),[c,u]=d.useState({value:e.stripeKeyValue,keyId:e.stripeKey,originalValue:e.stripeKeyValue});d.useEffect(()=>{u({value:e.stripeKeyValue,keyId:e.stripeKey,originalValue:e.stripeKeyValue})},[e]),d.useEffect(()=>{c.value.includes("sk_live_")||c.value.includes("sk_prod_")?l(!0):l(!1)},[c.value]);const p=f=>{u({...c,value:f}),n&&n(c.keyId,f)};return e.containsStripeKey?t.jsxs("div",{className:"flex flex-col bg-[#F2994A20] rounded-[10px] overflow-clip",children:[t.jsxs("div",{className:"flex flex-col gap-2 bg-[#242424] rounded-[10px] border-[#8B8B8B20] border p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:yNe,alt:"Key Alert",className:"w-6 h-6"}),t.jsx("span",{className:"text-[#C5C5C5] font-['Inter'] font-medium leading-[20px]",children:"Stripe Integration Detected"})]}),t.jsx("img",{src:vNe,alt:"Stripe",className:"w-[15px] h-[20px]"})]}),t.jsx("p",{className:"text-[#6C6C6C] font-medium text-[14px] font-['Inter'] pb-1",children:o?t.jsxs("span",{children:["We found a ",t.jsx("span",{className:"text-[#A199FF]  font-semibold tracking-wide",children:"Live Stripe Key"})," in your app."]}):t.jsxs(t.Fragment,{children:["We found a ",t.jsx("strong",{className:"text-[#A199FF] tracking-wide",children:"Test Stripe Key"})," in your app. Your deployment will work perfectly for testing, but to accept real payments from customers, please provide your Live Stripe API key.",t.jsx("br",{}),t.jsx("br",{}),"You can update the key anytime and redeploy for free."," "]})}),t.jsx("div",{className:"bg-[#323232] rounded-[8px] px-4 py-[10px]",children:t.jsx("input",{type:"text",disabled:!0,value:c.keyId,placeholder:"Environment variable name",className:"w-full rounded-md border border-none font-semibold font-['Inter'] focus:border-none focus:outline-none bg-transparent placeholder-[#808080] text-[#808080]"})}),t.jsxs("div",{className:"bg-[#323232] relative rounded-[8px] px-4 py-[10px]",children:[t.jsx("input",{type:i?"text":"password",value:c.value,onChange:f=>p(f.target.value),placeholder:o?"Live key detected":"Enter your live Stripe API key",onFocus:()=>a(!0),onBlur:()=>a(!1),className:k("w-full rounded-md font-semibold font-['Inter'] bg-transparent placeholder-[#808080] text-[#808080] focus:outline-none",i&&"text-white")}),t.jsx("img",{src:i?wNe:gNe,alt:"Eye",onClick:()=>a(!i),className:"absolute w-6 h-6 -translate-y-1/2 cursor-pointer grayscale right-3 top-1/2"})]})]}),t.jsx("div",{className:"p-2 md:p-4 md:pt-[14px] rounded-[10px] rounded-t-none flex flex-col gap-2",children:t.jsxs("div",{className:"flex items-start justify-start gap-1",children:[o?t.jsx("div",{title:"I acknowledge that I have tested my Stripe integration and understand the risks of deploying with a live API key.",onClick:()=>r(!s),className:k("min-w-5 min-h-5 mt-1 mr-2 border-[2px] border-[#E58A5C] rounded cursor-pointer flex items-center justify-center",s?"bg-[#E58A5C]":"bg-[#E58A5C40]"),children:s&&t.jsx(xn,{className:"w-4 h-4 text-white"})}):t.jsx("img",{src:bNe,alt:"Replace",className:"inline-block w-5 h-5 mt-1 mr-2"}),t.jsxs("p",{className:"text-[#E58A5C] font-['Inter'] text-[14px]",children:[t.jsx("span",{className:"font-semibold text-[#E58A5C] font-['Inter'] text-[14px]",children:" Disclaimer:"})," Ensure your Stripe API Key is valid and you have tested the application yourself. Emergent is not liable for any third-party transactions or any losses."]})]})})]}):null},CNe=K.deployment.carbonViewFilled,_Ne=K.deployment.timeGreyDeployed,jNe=({isOpen:e,onClose:n,onDeploy:s,loading:r=!1,localLoading:i=!1,containsStripeKey:a={containsStripeKey:!1,stripeKeyValue:"",stripeKeyId:"",stripeKey:""},termsSelected:o=!1,onStripeKeyUpdate:l=()=>{},onTermsSelectedChange:c=()=>{},isDeployDisabled:u=!1,jobId:p,onKnowMoreClick:f,useProRataRefunds:m=!1,creditsPerMonth:h=50})=>{const x=()=>{H(dr.DEPLOYMENT_CONFIRMATION_CANCEL_CLICKED,{jobId:p}),n()};return t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-6 md:py-[20px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Deployment"}),t.jsx("button",{type:"button",title:"Close",onClick:x,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:t.jsx(Ft,{className:"w-4 h-4 md:w-6 md:h-6"})})]}),t.jsxs("div",{className:"flex flex-col gap-3 p-3 md:gap-6 md:p-6 max-md:max-h-[400px] overflow-hidden overflow-y-scroll",children:[m?t.jsxs("p",{className:"font-medium text-[13px] md:text-[16px] font-['Inter'] text-[#939399]",children:["Active deployments cost"," ",t.jsxs("span",{className:"text-[#f3ca5f] font-semibold font-['Inter']",children:[h," credits / month,"]})," ","charged upfront. You can shut down any time. Charges apply only for the days your app is live."," ",t.jsx("button",{type:"button",onClick:f,className:"text-white underline underline-offset-2 hover:text-white/80 transition-colors",children:"Know more"})]}):t.jsxs("p",{className:"font-medium text-[13px] md:text-[16px] font-['Inter'] text-[#939399]",children:["Your account will be charged"," ",t.jsxs("span",{className:"text-[#f3ca5f] font-semibold font-['Inter']",children:[h," credits/month"]}),". You can shut down your deployment anytime to stop charges for the next months."]}),t.jsxs("div",{className:"p-2 md:p-4 bg-[#E68A5C0D] border-[#E68A5C33] border rounded-[10px] flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center justify-start gap-1",children:[t.jsx("img",{src:CNe,alt:"Replace",className:"inline-block w-6 h-6 mr-2"}),t.jsx("span",{className:"text-[#E58A5C] font-['Inter'] font-medium text-[14px] md:text-[16px]",children:"Preview First Recommended"})]}),t.jsx("span",{className:"text-[#CCB1A3] font-['Inter'] text-[12px] md:text-base",children:"To avoid deployment issues and wasted credits, please preview your app first to ensure it's working correctly."})]}),t.jsx(hW,{value:a,onStripeKeyUpdate:l,termsSelected:o,setTermsSelected:c})]}),t.jsx("div",{className:"p-4 min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-2 text-[#737780] max-md:hidden text-[12px] md:text-sm max-w-[250px]",children:[t.jsx("img",{src:_Ne,alt:"Deploy Time",className:"w-8 h-8"}),t.jsx("span",{children:"Deployment usually takes around 5-7 mins."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{onClick:x,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-3 py-2 md:px-4 md:py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{children:t.jsx(zt,{disabled:r||i||u,onClick:s,className:"flex items-center gap-1 py-2 pl-6 text-sm text-black bg-white rounded-full md:gap-3 hover:bg-white/90",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold",children:"Deploy Now"})," ",t.jsxs("span",{className:"bg-black text-[#F3CA5F] px-3 py-2 rounded-full",children:[h," Credits"]})]})})}),t.jsx(Ns,{className:k(u?"":"hidden"),children:t.jsx("span",{className:"text-[12px] md:text-sm",children:"Please acknowledge the Disclaimer before deploying"})})]})})]})]})})]})},NNe=K.common.arrowUploadReadyDark,FNe=K.deployment.timeGreyDeployed,ENe=({isOpen:e,onClose:n,onRedeploy:s,deploymentHistory:r,deployUrl:i,latestRunStatus:a,jobId:o,loading:l=!1,localLoading:c=!1,containsStripeKey:u={containsStripeKey:!1,stripeKeyValue:"",stripeKeyId:"",stripeKey:""},termsSelected:p=!1,onStripeKeyUpdate:f=()=>{},onTermsSelectedChange:m=()=>{},isRedeployDisabled:h=!1})=>{const[x,g]=d.useState(!1),v=async()=>{H(dr.REDEPLOY_MODAL_CONFIRM_CLICKED,{jobId:o}),g(!0);try{await s()}catch{}finally{g(!1),n()}},b=()=>{x||(H(dr.REDEPLOY_MODAL_CANCEL_CLICKED,{jobId:o}),n())},y=r.find(w=>w.status==="success")||r[0];return t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,closeOnOutsideClick:!x,className:"m-3 md:m-6 rounded-[16px] overflow-hidden bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-6 md:py-[20px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Redeployment"}),t.jsx("button",{type:"button",title:"Close",onClick:b,disabled:x,className:k("absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",x&&"opacity-50 cursor-not-allowed"),children:t.jsx(Ft,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),t.jsxs("div",{className:"flex flex-col gap-3 p-3 max-h-[500px] md:gap-6 md:p-6 max-md:max-h-[400px] overflow-hidden overflow-y-scroll",children:[t.jsx("p",{className:"font-medium text-[13px] md:text-[16px] font-['Inter'] text-[#939399]",children:"Are you sure you want to re-deploy your current application? This will replace your current deployment with latest code changes."}),y&&t.jsxs("div",{className:"",children:[t.jsx("div",{className:"text-[#A199FF] text-md py-2 md:py-4 font-medium mb-2",children:"Current Deployment"}),t.jsx(fe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:400,damping:30,delay:.2},children:t.jsx(p5,{jobId:o||"",deployStatus:"success",currentActive:!0,deployTime:zh(y.created_at),deploymentLink:i,deploymentRun:y,latestRunStatus:a,inRollbackModal:!0,isRollbackTarget:!1})})]}),t.jsx(hW,{value:u,onStripeKeyUpdate:f,termsSelected:p,setTermsSelected:m})]}),t.jsx("div",{className:"p-2 md:p-4 md:min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsxs("div",{className:"flex items-center justify-end w-full md:justify-between",children:[t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-[#737780] text-sm max-w-[250px]",children:[t.jsx("img",{src:FNe,alt:"Deploy Time",className:"w-8 h-8"}),t.jsx("span",{children:"Re-deployment usually takes around 1-3 mins."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{onClick:b,disabled:x,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-4 py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsx(ms,{children:t.jsxs(Ss,{children:[t.jsx(ks,{children:t.jsx(zt,{disabled:l||c||x||h,onClick:v,className:k("flex items-center gap-3 py-2 pl-6 text-sm text-black bg-white rounded-full hover:bg-white/90",(l||c||x||h)&&"opacity-50 cursor-not-allowed"),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold",children:l||c||x?"Re-deploying...":"Yes, Re-deploy"}),t.jsx("img",{src:NNe,alt:"Deploy",className:"w-5 h-5"})]})})}),t.jsxs(Ns,{side:"top",align:"center",className:k(h?"bg-[#DDDDE6] font-['Inter'] text-black border-0":"hidden"),children:[t.jsx("span",{className:"text-sm font-['Inter'] font-medium",children:"Please acknowledge the Disclaimer before redeploying"}),t.jsx(Co,{className:"fill-[#DDDDE6]"})]})]})})]})]})})]})},SNe=({isOpen:e,onClose:n,onShutdown:s,loading:r=!1,jobId:i})=>{const a=async()=>{H(dr.SHUTDOWN_MODAL_CONFIRM_CLICKED,{jobId:i});try{await s(),n()}catch{}},o=()=>{H(dr.SHUTDOWN_MODAL_CANCEL_CLICKED,{jobId:i}),n()};return t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-4 md:py-[24px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Shutdown"}),t.jsx("button",{type:"button",title:"Close",onClick:o,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:t.jsx(Ft,{className:"w-5 h-5 md:w-7 md:h-7"})})]}),t.jsx("div",{className:"p-3 md:p-6",children:t.jsx("p",{className:"font-medium font-['Inter'] text-[14px] md:text-[16px] text-[#939399]",children:"Are you sure you want to shut down this deployment? This will make your application immediately unavailable to users and stop all recurring charges."})}),t.jsx("div",{className:"p-4 min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("div",{className:"flex text-[12px] items-center gap-2 text-[#737780] md:text-sm",children:t.jsx("span",{children:"This action cannot be undone."})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{onClick:o,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-4 py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsx(zt,{onClick:a,disabled:r,className:k("flex items-center gap-3 md:px-4 md:py-2 text-sm text-white rounded-full bg-[#CC3D3D] hover:bg-red-600",r&&"opacity-50 cursor-not-allowed"),children:r?"Shutting down...":"Confirm Shutdown"})]})]})})]})},kNe=({summaryIcon:e,summaryText:n,lineItems:s,dividerAfterIndex:r,defaultExpanded:i=!1})=>{const[a,o]=d.useState(i);return t.jsx(kp,{open:a,onOpenChange:o,children:t.jsxs("div",{className:"bg-[rgba(255,255,255,0.04)] rounded-[8px] border border-[rgba(255,255,255,0.1)]",children:[t.jsx(Ip,{asChild:!0,children:t.jsxs("button",{type:"button",className:"w-full flex items-center justify-between p-3 md:p-4 cursor-pointer hover:bg-[rgba(255,255,255,0.02)] transition-colors rounded-[8px]",children:[t.jsxs("div",{className:"flex items-start md:items-center gap-2",children:[e||t.jsx(Ho,{size:16,color:"#F5C563",className:"shrink-0 mt-1 md:mt-0"}),t.jsx("span",{className:"text-[13px] md:text-[14px] text-[#FFFFFFA3] font-['Inter'] font-normal text-left",children:n})]}),a?t.jsx(n3,{className:"w-4 h-4 text-[rgba(255,255,255,0.64)]"}):t.jsx(Ur,{className:"w-4 h-4 text-[rgba(255,255,255,0.64)]"})]})}),t.jsx(Tp,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:t.jsx("div",{className:"px-3 pb-3 md:px-4 md:pb-4 pt-0",children:s.map((l,c)=>t.jsxs(et.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsxs("span",{className:"text-[13px] md:text-[14px] text-[#FFFFFFA3] font-['Inter'] font-medium",children:[l?.label,l?.labelSuffix&&t.jsxs("span",{className:"font-normal",children:[" ",l?.labelSuffix]})]}),t.jsxs("span",{className:"text-[13px] md:text-[14px] font-['Brockmann'] font-medium",style:{color:l.valueColor||"white"},children:[l.valuePrefix,l.value]})]}),r!==void 0&&c===r&&t.jsx("div",{className:"border-t border-[rgba(255,255,255,0.1)] my-2"})]},c))})})]})})},INe=e=>{if(!e)return"Invalid date";const n=new Date(e);if(isNaN(n.getTime()))return"Invalid date";const s=n.getDate(),r=n.toLocaleString("en-US",{month:"short"}),i=n.getFullYear().toString().slice(-2);return`${s} ${r} '${i}`},TNe=e=>{if(!e)return"Invalid date";const n=new Date(e);if(isNaN(n.getTime()))return"Invalid date";const r=Math.abs(new Date().getTime()-n.getTime());return Math.ceil(r/(1e3*60*60*24))},Iy=25,ANe=({isOpen:e,onClose:n,onShutdown:s,loading:r=!1,jobId:i,deductionDate:a,deductedAmount:o,estimatedRefund:l})=>{const c=TNe(a),u=INe(a),p=o??50,f=p/Iy,m=o-l,h=typeof c=="number"&&c>Iy?`  ${Iy}`:c,x=l??p-m,g=async()=>{H(dr.SHUTDOWN_MODAL_CONFIRM_CLICKED,{jobId:i});try{await s(),n()}catch{}},v=()=>{H(dr.SHUTDOWN_MODAL_CANCEL_CLICKED,{jobId:i}),n()},b=[{label:"Credits charged",labelSuffix:`(on ${u})`,value:p},{label:"Utilised since last charge",labelSuffix:`(${h} days * ${f} credits/day)`,value:m,valuePrefix:"-"},{label:"Credits refund",value:x,valuePrefix:"+",valueColor:"#4ADE80"}],y=t.jsxs(t.Fragment,{children:["Live for ",c," days since last charge ",t.jsxs("span",{className:"text-white font-medium",children:[" ",x," credits "]}),"refunded instantly"]}),w=t.jsx(Ho,{size:16,color:"#F5C563",className:"shrink-0 mt-1 md:mt-0"}),_=t.jsx("div",{className:"flex flex-col gap-3",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between w-full gap-3 md:gap-0",children:[t.jsx("div",{className:"flex text-[12px] items-center gap-2 text-[#737780] md:text-sm font-['Inter'] text-left",children:t.jsx("span",{children:"This action cannot be undone"})}),t.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto justify-end",children:[t.jsx(zt,{onClick:v,className:"bg-[rgba(255,255,255,0.1)] text-white hover:bg-[rgba(255,255,255,0.15)] rounded-full px-5 py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsxs(zt,{onClick:g,disabled:r,className:k("flex items-center px-5 py-2 text-white rounded-[28px] bg-[#CC3D3D] hover:bg-[#b53535]",r&&"opacity-50 cursor-not-allowed"),children:[t.jsx("span",{className:"font-['Brockmann'] font-semibold text-[16px] leading-[24px] tracking-[-0.2px]",children:r?"Shutting down...":"Confirm Shutdown"}),t.jsx(Of,{className:"w-6 h-6 ml-2"})]})]})]})});return t.jsxs(dW,{isOpen:e,onClose:v,title:"Confirm Shut Down",footer:_,children:[t.jsx("p",{className:"font-medium font-['Inter'] text-[14px] md:text-[16px] text-[#989EA0] mb-4",children:"Are you sure you want to shut down this deployment? This will make your application immediately unavailable to users and stop all recurring charges."}),t.jsx(kNe,{summaryIcon:w,summaryText:y,lineItems:b,dividerAfterIndex:1})]})},DNe=K.common.webImage,MNe=K.deployment.replaceGrey,RNe=K.icons.animatedSpinner,LNe=({isOpen:e,onClose:n,onSelectReplacement:s,deployments:r,loading:i=!1,hoveredCard:a,onHoverStart:o,onHoverEnd:l,onDeploymentClick:c})=>t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-6 md:px-4 md:py-[24px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsxs("div",{className:"text-[18px] font-medium text-[#E6E6E6]",children:[t.jsx("img",{src:MNe,alt:"Replace",className:"inline-block w-6 h-6 mr-2 text-[14px] md:text-[16px]"}),"Replace Deployment"]}),t.jsx("button",{type:"button",title:"Close",onClick:n,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:t.jsx(Ft,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),t.jsxs("div",{className:"p-3 md:p-6 md:pt-4 max-h-[350px] md:max-h-[500px] overflow-y-scroll flex flex-col gap-6",children:[t.jsx("p",{className:"text-[13px] md:text-[16px] font-medium font-['Inter'] text-[#939399]",children:"Choose which deployment to replace with your new application. The selected app will be permanently deleted, but you won't be charged any additional fees."}),i?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx("img",{src:RNe,alt:"Loading...",className:"w-8 h-8"}),t.jsx("span",{className:"ml-2 text-[#DDDDE6]",children:"Loading deployments..."})]}):r.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-6",children:r.map((u,p)=>t.jsx(iV,{deployment:u,index:p,hoveredCard:a,onHoverStart:o,onHoverEnd:l,onClick:c||(()=>{}),fromRedeployModal:!0,onReplaceClick:f=>{s(f)}},u.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[t.jsx("img",{src:DNe,alt:"No deployments",className:"w-12 h-12 mb-4 opacity-50"}),t.jsx("p",{className:"text-[#737780] font-medium",children:"No deployments available to replace"}),t.jsx("p",{className:"text-[#737780] text-sm mt-1",children:"You need at least one successful deployment to use this feature"})]})]})]}),PNe=K.deployment.replaceGrey,ONe=K.deployment.replaceOrange,BNe=K.deployment.replaceBlack,UNe=K.deployment.goBack,HNe=K.deployment.database,VNe=[{id:"keep",name:"Keep existing database",description:"(recommended)"},{id:"new",name:"Start with fresh database",description:""}],$Ne=({isOpen:e,onClose:n,onGoBack:s,onConfirmReplace:r,selectedDeployment:i,loading:a=!1,hoveredCard:o,onHoverStart:l,onHoverEnd:c,onDeploymentClick:u})=>{const[p,f]=d.useState("keep"),m=async()=>{H(dr.REPLACE_CONFIRM_REPLACE_CLICKED,{deploymentId:i?.id,appName:i?.app_name,keepDatabase:p==="keep"});try{await r(p==="keep")}catch{}},h=()=>{H(dr.REPLACE_CONFIRM_GO_BACK_CLICKED,{deploymentId:i?.id,appName:i?.app_name}),s()};return t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-6 md:px-4 md:py-[24px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsxs("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:[t.jsx("img",{src:PNe,alt:"Replace",className:"inline-block w-6 h-6 mr-2"}),"Confirm Replacement"]}),t.jsx("button",{type:"button",title:"Close",onClick:n,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:t.jsx(Ft,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),t.jsx("div",{className:"p-3 md:p-6",children:t.jsxs("p",{className:"font-medium text-[13px] md:text-[16px] font-['Inter'] text-[#939399]",children:["You're about to replace"," ",t.jsx("span",{className:"font-medium capitalize text-white/80",children:i?.app_name})," with your new application. This action cannot be undone."]})}),t.jsx("div",{className:"px-3 md:px-5",children:t.jsxs("div",{className:"flex p-4 flex-col rounded-[10px] bg-[#FFFFFF05] border-[#FFFFFF1F] border-[1px] gap-5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:HNe,alt:"Database",className:"w-6 h-6"}),t.jsx("span",{className:"text-[#FFFFFF99] font-['Inter'] font-medium text-[13px] md:text-[16px]",children:"Database Configuration"})]}),VNe.map(x=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{onClick:()=>f(x.id),className:k("w-5 h-5 cursor-pointer rounded-full border-[2px] flex items-center justify-center",p===x.id&&"border-[#00E573]"),children:t.jsx("div",{className:k("w-2 h-2 rounded-full bg-[#FFFFFF00]",p===x.id&&"bg-[#00E573]")})}),t.jsx("span",{className:k("text-[#FFFFFF]/80 font-['Inter'] font-medium text-[13px] md:text-[16px]",p===x.id&&"text-[#00E573]"),children:x.name}),t.jsx("span",{className:"text-[#737780] font-['Inter'] text-[12px] md:text-[14px] font-medium",children:x.description})]},x.id))]})}),t.jsx("div",{className:"p-3 md:p-4",children:t.jsxs("div",{className:"bg-[#E38F451A] pt-3 p-[6px] rounded-[16px]",children:[t.jsxs("div",{className:"flex items-center gap-2 px-2",children:[t.jsx("img",{src:ONe,alt:"Replace",className:"w-6 h-6"}),t.jsx("span",{className:"text-[#E38F45] font-['Inter'] font-medium text-[13px] md:text-[16px]",children:"This app will be permanently deleted"})]}),t.jsx("div",{className:"bg-[#18181A] overflow-clip rounded-[16px] mt-2",children:i&&t.jsx(d_e,{deployment:i,index:0,hoveredCard:o,onHoverStart:l,onHoverEnd:c,onClick:u||(()=>{}),allowHover:!1})})]})}),t.jsx("div",{className:"md:p-4 p-3 justify-end bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsx("div",{className:"flex items-center justify-end w-full",children:t.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[t.jsxs(zt,{onClick:h,className:"bg-[#FFFFFF1A] text-white hover:bg-[#FFFFFF20] rounded-full px-4 py-2 text-sm flex items-center gap-2",children:[t.jsx("img",{src:UNe,alt:"Arrow Left",className:"w-5 h-5"}),t.jsx("span",{className:"text-[#FFFFFF99]",children:"Go Back"})]}),t.jsx("button",{type:"button",onClick:m,disabled:a,className:k("bg-[#80FFF9] flex px-3 py-2 md:px-6 md:py-3 rounded-[28px]",a&&"opacity-50 cursor-not-allowed"),children:t.jsxs("div",{className:"flex items-center text-[14px] md:text-[16px] gap-2 text-[#0E0E0F] font-semibold",children:[a?"Replacing...":"Replace Deployment",t.jsx("img",{src:BNe,alt:"Replace",className:"w-6 h-6"})]})})]})})})]})},zNe=({deployment:e,isSelected:n,onSelect:s})=>{const r=PC(e),i=e.deployStatus==="success"||e.latest_run?.status==="success",{openJobTab:a}=DC(),o=()=>{H($i.APP_CARD_CLICKED,{deploymentId:e.id,appName:e.app_name,isLive:i}),s(e)},l=u=>{u.stopPropagation(),H($i.APP_JOB_TITLE_CLICKED,{deploymentId:e.id,appName:e.app_name}),e.id&&a(e.id)},c=u=>{u.stopPropagation(),H($i.APP_EXTERNAL_LINK_CLICKED,{deploymentId:e.id,appName:e.app_name,url:yf(e)});const p=yf(e);p&&window.open(p,"_blank","noopener,noreferrer")};return t.jsxs("div",{onClick:o,className:k("flex gap-4 items-start p-4 rounded-[12px] border cursor-pointer transition-all duration-200 overflow-hidden",n?"bg-[rgba(255,255,255,0.04)] border-[#302f32]":"border-[#302f32] hover:border-[#3A3A3C]"),children:[t.jsx("div",{className:"flex items-center self-stretch shrink-0",children:t.jsx("div",{className:k("w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors duration-200",n?"border-[#2EE572]":"border-[#4A4A4C]"),children:n&&t.jsx("div",{className:"w-3 h-3 rounded-full bg-[#2EE572]"})})}),t.jsxs("div",{className:"flex flex-1 items-center gap-4 min-w-0",children:[t.jsxs("div",{className:"flex flex-col gap-0.5 flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-white font-['Inter'] font-medium text-[16px] leading-[24px] capitalize truncate",children:e.app_name}),i&&t.jsx("div",{className:"flex items-center px-2 py-0.5 rounded-[12px] bg-[rgba(46,229,114,0.04)] shrink-0",children:t.jsx("span",{className:"text-[#2EE572] text-[14px] font-['Brockmann'] font-medium leading-[20px]",children:"Live"})})]}),r&&t.jsx("button",{onClick:c,className:"text-[rgba(255,255,255,0.6)] hover:text-white font-['Inter'] font-medium text-[14px] leading-[20px] underline truncate text-left cursor-pointer transition-colors",children:r})]}),t.jsx("button",{onClick:l,className:"bg-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.15)] px-5 py-1.5 rounded-[28px] transition-colors shrink-0",children:t.jsx("span",{className:"font-['Brockmann'] font-medium text-[14px] leading-[20px] text-[#DCDCE5]",children:"Go to task"})})]})]})},WNe=K.icons.animatedSpinner,GNe=({isOpen:e,onClose:n,onSelectReplacement:s,deployments:r,loading:i=!1,selectedDeployment:a})=>{const[o,l]=d.useState(a||null);d.useEffect(()=>{e&&(l(a||null),H($i.SELECT_MODAL_OPENED,{deploymentsCount:r.length,preSelectedDeploymentId:a?.id}))},[e,a,r.length]);const c=f=>{H($i.SELECT_APP_SELECTED,{deploymentId:f.id,appName:f.app_name}),l(f)},u=()=>{H($i.SELECT_CONFIRM_CLICKED,{selectedDeploymentId:o?.id,selectedAppName:o?.app_name}),o&&s(o),n()},p=()=>{H($i.SELECT_CLOSE_CLICKED,{hadSelection:!!o}),n()};return t.jsx(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-0 md:m-6 rounded-none md:rounded-[16px] h-full md:h-auto overflow-clip bg-[#18181A]",children:t.jsxs(fe.div,{className:"flex flex-col h-full md:h-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsxs("div",{className:"flex items-start justify-between gap-6 pt-6 pb-4 px-6 relative shrink-0",children:[t.jsx("h2",{className:"font-['Brockmann'] font-medium text-[18px] leading-[28px] tracking-[-0.36px] text-white",children:"Select an app to replace deployment"}),t.jsx("button",{type:"button",title:"Close",onClick:p,className:"backdrop-blur-[20px] bg-[rgba(255,255,255,0.02)] p-[6.4px] rounded-[10px] hover:bg-[rgba(255,255,255,0.06)] transition-colors shrink-0",children:t.jsx(Ft,{className:"w-[19.2px] h-[19.2px] text-white/60"})})]}),t.jsxs("div",{className:"relative flex-1 md:flex-none",children:[r.length>4&&t.jsx("div",{className:"absolute top-0 left-0 right-0 h-16 bg-gradient-to-b from-[#18181A] to-transparent z-10 pointer-events-none"}),t.jsx("div",{className:k("pt-4 pb-8 px-6 overflow-y-auto h-full",r.length>4&&"md:max-h-[420px]"),children:i?t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx("img",{src:WNe,alt:"Loading...",className:"w-8 h-8"}),t.jsx("span",{className:"ml-3 text-[#DDDDE6]",children:"Loading deployments..."})]}):r.length>0?t.jsx("div",{className:"flex flex-col gap-4",children:r.map(f=>t.jsx(zNe,{deployment:f,isSelected:o?.id===f.id,onSelect:c},f.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("p",{className:"text-[#737780] font-medium",children:"No deployments available to replace"}),t.jsx("p",{className:"text-[#737780] text-sm mt-2",children:"You need at least one successful deployment to use this feature"})]})})]}),t.jsx("div",{className:"shrink-0 p-6 border-t border-[rgba(255,255,255,0.08)] flex items-center justify-end",children:t.jsx("button",{onClick:u,disabled:!o,className:k("w-[240px] px-6 py-2.5 bg-white rounded-[12px] font-['Brockmann'] font-semibold text-[14px] leading-[20px] tracking-[-0.2px] text-[#0E0E0F] hover:bg-gray-100 transition-colors",!o&&"opacity-50 cursor-not-allowed"),children:"Continue to replace"})})]})})},qNe=({className:e="w-4 h-2",color:n="white",opacity:s=.64})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"8",viewBox:"0 0 16 8",fill:"none",className:e,children:t.jsx("path",{d:"M0 8V6.95C0 6.47222 0.244444 6.08333 0.733333 5.78333C1.22222 5.48333 1.86667 5.33333 2.66667 5.33333C2.81111 5.33333 2.95 5.33611 3.08333 5.34167C3.21667 5.34722 3.34444 5.36111 3.46667 5.38333C3.31111 5.61667 3.19444 5.86111 3.11667 6.11667C3.03889 6.37222 3 6.63889 3 6.91667V8H0ZM4 8V6.91667C4 6.56111 4.09722 6.23611 4.29167 5.94167C4.48611 5.64722 4.76111 5.38889 5.11667 5.16667C5.47222 4.94444 5.89722 4.77778 6.39167 4.66667C6.88611 4.55556 7.42222 4.5 8 4.5C8.58889 4.5 9.13056 4.55556 9.625 4.66667C10.1194 4.77778 10.5444 4.94444 10.9 5.16667C11.2556 5.38889 11.5278 5.64722 11.7167 5.94167C11.9056 6.23611 12 6.56111 12 6.91667V8H4ZM13 8V6.91667C13 6.62778 12.9639 6.35556 12.8917 6.1C12.8194 5.84445 12.7111 5.60556 12.5667 5.38333C12.6889 5.36111 12.8139 5.34722 12.9417 5.34167C13.0694 5.33611 13.2 5.33333 13.3333 5.33333C14.1333 5.33333 14.7778 5.48056 15.2667 5.775C15.7556 6.06944 16 6.46111 16 6.95V8H13ZM5.41667 6.66667H10.6C10.4889 6.44444 10.1806 6.25 9.675 6.08333C9.16944 5.91667 8.61111 5.83333 8 5.83333C7.38889 5.83333 6.83056 5.91667 6.325 6.08333C5.81944 6.25 5.51667 6.44444 5.41667 6.66667ZM2.66667 4.66667C2.3 4.66667 1.98611 4.53611 1.725 4.275C1.46389 4.01389 1.33333 3.7 1.33333 3.33333C1.33333 2.95556 1.46389 2.63889 1.725 2.38333C1.98611 2.12778 2.3 2 2.66667 2C3.04444 2 3.36111 2.12778 3.61667 2.38333C3.87222 2.63889 4 2.95556 4 3.33333C4 3.7 3.87222 4.01389 3.61667 4.275C3.36111 4.53611 3.04444 4.66667 2.66667 4.66667ZM13.3333 4.66667C12.9667 4.66667 12.6528 4.53611 12.3917 4.275C12.1306 4.01389 12 3.7 12 3.33333C12 2.95556 12.1306 2.63889 12.3917 2.38333C12.6528 2.12778 12.9667 2 13.3333 2C13.7111 2 14.0278 2.12778 14.2833 2.38333C14.5389 2.63889 14.6667 2.95556 14.6667 3.33333C14.6667 3.7 14.5389 4.01389 14.2833 4.275C14.0278 4.53611 13.7111 4.66667 13.3333 4.66667ZM8 4C7.44444 4 6.97222 3.80556 6.58333 3.41667C6.19444 3.02778 6 2.55556 6 2C6 1.43333 6.19444 0.958333 6.58333 0.575C6.97222 0.191667 7.44444 0 8 0C8.56667 0 9.04167 0.191667 9.425 0.575C9.80833 0.958333 10 1.43333 10 2C10 2.55556 9.80833 3.02778 9.425 3.41667C9.04167 3.80556 8.56667 4 8 4ZM8 2.66667C8.18889 2.66667 8.34722 2.60278 8.475 2.475C8.60278 2.34722 8.66667 2.18889 8.66667 2C8.66667 1.81111 8.60278 1.65278 8.475 1.525C8.34722 1.39722 8.18889 1.33333 8 1.33333C7.81111 1.33333 7.65278 1.39722 7.525 1.525C7.39722 1.65278 7.33333 1.81111 7.33333 2C7.33333 2.18889 7.39722 2.34722 7.525 2.475C7.65278 2.60278 7.81111 2.66667 8 2.66667Z",fill:n,fillOpacity:s})}),KNe=({className:e="w-[14px] h-[14px]",color:n="white",opacity:s=.64})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:e,children:t.jsx("path",{d:"M2.56667 6.66667L2.36667 5.66667C2.23333 5.61111 2.10833 5.55278 1.99167 5.49167C1.875 5.43056 1.75556 5.35556 1.63333 5.26667L0.666667 5.56667L0 4.43333L0.766667 3.76667C0.744444 3.62222 0.733333 3.47778 0.733333 3.33333C0.733333 3.18889 0.744444 3.04444 0.766667 2.9L0 2.23333L0.666667 1.1L1.63333 1.4C1.75556 1.31111 1.875 1.23611 1.99167 1.175C2.10833 1.11389 2.23333 1.05556 2.36667 1L2.56667 0H3.9L4.1 1C4.23333 1.05556 4.35833 1.11389 4.475 1.175C4.59167 1.23611 4.71111 1.31111 4.83333 1.4L5.8 1.1L6.46667 2.23333L5.7 2.9C5.72222 3.04444 5.73333 3.18889 5.73333 3.33333C5.73333 3.47778 5.72222 3.62222 5.7 3.76667L6.46667 4.43333L5.8 5.56667L4.83333 5.26667C4.71111 5.35556 4.59167 5.43056 4.475 5.49167C4.35833 5.55278 4.23333 5.61111 4.1 5.66667L3.9 6.66667H2.56667ZM3.23333 4.66667C3.6 4.66667 3.91389 4.53611 4.175 4.275C4.43611 4.01389 4.56667 3.7 4.56667 3.33333C4.56667 2.96667 4.43611 2.65278 4.175 2.39167C3.91389 2.13056 3.6 2 3.23333 2C2.86667 2 2.55278 2.13056 2.29167 2.39167C2.03056 2.65278 1.9 2.96667 1.9 3.33333C1.9 3.7 2.03056 4.01389 2.29167 4.275C2.55278 4.53611 2.86667 4.66667 3.23333 4.66667ZM8.53333 14L8.23333 12.6C8.04445 12.5333 7.86944 12.4528 7.70833 12.3583C7.54722 12.2639 7.38889 12.1556 7.23333 12.0333L5.9 12.4667L4.96667 10.8667L6.03333 9.93333C6.01111 9.73333 6 9.53333 6 9.33333C6 9.13333 6.01111 8.93333 6.03333 8.73333L4.96667 7.8L5.9 6.2L7.23333 6.63333C7.38889 6.51111 7.54722 6.40278 7.70833 6.30833C7.86944 6.21389 8.04445 6.13333 8.23333 6.06667L8.53333 4.66667H10.4L10.7 6.06667C10.8889 6.13333 11.0639 6.21389 11.225 6.30833C11.3861 6.40278 11.5444 6.51111 11.7 6.63333L13.0333 6.2L13.9667 7.8L12.9 8.73333C12.9222 8.93333 12.9333 9.13333 12.9333 9.33333C12.9333 9.53333 12.9222 9.73333 12.9 9.93333L13.9667 10.8667L13.0333 12.4667L11.7 12.0333C11.5444 12.1556 11.3861 12.2639 11.225 12.3583C11.0639 12.4528 10.8889 12.5333 10.7 12.6L10.4 14H8.53333ZM9.46667 11.3333C10.0222 11.3333 10.4944 11.1389 10.8833 10.75C11.2722 10.3611 11.4667 9.88889 11.4667 9.33333C11.4667 8.77778 11.2722 8.30556 10.8833 7.91667C10.4944 7.52778 10.0222 7.33333 9.46667 7.33333C8.91111 7.33333 8.43889 7.52778 8.05 7.91667C7.66111 8.30556 7.46667 8.77778 7.46667 9.33333C7.46667 9.88889 7.66111 10.3611 8.05 10.75C8.43889 11.1389 8.91111 11.3333 9.46667 11.3333Z",fill:n,fillOpacity:s})}),YNe=K.deployment.database,GA=({className:e})=>t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M6 10L9 13L14 7",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),qA=({className:e})=>t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M6 6L14 14M14 6L6 14",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),KA=({className:e})=>t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"#80FFF9",strokeWidth:"2"}),t.jsx("circle",{cx:"12",cy:"12",r:"5",fill:"#80FFF9"})]}),YA=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"#4A4A4C",strokeWidth:"2"})}),ZNe=({isOpen:e,onClose:n,onConfirmReplace:s,selectedDeployment:r,newAppName:i="Your new app",loading:a=!1})=>{const[o,l]=d.useState(null),c=PC(r);d.useEffect(()=>{e&&H($i.CONFIRM_MODAL_OPENED,{deploymentId:r?.id,appName:r?.app_name})},[e,r?.id,r?.app_name]);const u=x=>{H($i.CONFIRM_DB_MODE_SELECTED,{deploymentId:r?.id,appName:r?.app_name,mode:x,previousMode:o}),l(x)},p=()=>{H($i.CONFIRM_URL_CLICKED,{deploymentId:r?.id,appName:r?.app_name,url:yf(r)});const x=yf(r);x&&window.open(x,"_blank","noopener,noreferrer")},f=()=>{H($i.CONFIRM_CLOSE_CLICKED,{deploymentId:r?.id,appName:r?.app_name,selectedDbMode:o}),n()},m=async()=>{if(o){H($i.CONFIRM_REPLACE_CLICKED,{deploymentId:r?.id,appName:r?.app_name,keepDatabase:o==="keep"});try{await s(o==="keep")}catch{}}},h=()=>{H($i.CONFIRM_CANCEL_CLICKED,{deploymentId:r?.id,appName:r?.app_name}),n()};return t.jsx(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-0 md:m-6 rounded-none md:rounded-[16px] h-full md:h-auto overflow-clip bg-[#18181A]",children:t.jsxs(fe.div,{className:"flex flex-col h-full md:h-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsxs("div",{className:"flex items-start justify-between gap-6 pt-6 pb-4 px-6 relative shrink-0",children:[t.jsx("h2",{className:"font-['Brockmann'] font-medium text-[20px] leading-[28px] tracking-[-0.4px] text-white",children:"Confirm Replacing deployment"}),t.jsx("button",{type:"button",title:"Close",onClick:f,className:"backdrop-blur-[20px] bg-[rgba(255,255,255,0.04)] p-[6.4px] rounded-[16px] hover:bg-[rgba(255,255,255,0.08)] transition-colors shrink-0",children:t.jsx(Ft,{className:"w-[19.2px] h-[19.2px] text-white/60"})})]}),t.jsxs("div",{className:"flex-1 flex flex-col gap-5 pt-2 pb-4 px-6 overflow-y-auto",children:[t.jsxs("div",{className:"relative flex flex-col gap-10",children:[t.jsx("div",{className:"absolute left-[19px] top-[40px] bottom-[40px] border-l-2 border-dashed border-[rgba(255,255,255,0.12)] -z-10"}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"relative z-10 p-2 rounded-[20px] shrink-0 mt-2",style:{background:"linear-gradient(180deg, rgba(46, 229, 114, 0.2) 0%, rgba(16, 95, 45, 0.2) 100%), #18181A"},children:t.jsx(Gz,{className:"w-6 h-6",color:"#2EE572"})}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[28px] tracking-[-0.36px] text-white",children:[i," goes live"]}),t.jsx("div",{className:"text-[14px] leading-[20px] text-left",children:c&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:p,className:"text-[#F2F5F7] hover:text-white underline cursor-pointer transition-colors text-left",children:c}),t.jsx("span",{className:"text-[#7F8283]",children:" will auto-link to this app"})]})})]})]}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"relative z-10 p-2 rounded-[20px] shrink-0",style:{background:"linear-gradient(180deg, #633434 0%, #512424 100%), #18181A"},children:t.jsx(Of,{className:"w-6 h-6 text-[#ED5B5B]"})}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[28px] tracking-[-0.36px] text-white capitalize",children:[r?.app_name||"Selected app"," shuts down"]}),t.jsx("span",{className:"text-[#7F8283] text-[14px] leading-[20px]",children:"If deployment fails, it stays live"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-4 pb-4 pt-5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:YNe,alt:"Database",className:"w-5 h-5"}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-[14px] leading-[20px] tracking-[-0.28px] text-white",children:"Select database setup"})]}),t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsxs("div",{onClick:()=>u("keep"),className:k("flex-1 flex flex-col rounded-[12px] border cursor-pointer transition-all duration-200 overflow-hidden pt-4",o==="keep"?"bg-[rgba(128,255,249,0.04)] border-[rgba(128,255,249,0.2)]":"bg-[#232326] border-[#333]"),children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex gap-3 items-start px-5",children:[t.jsx("span",{className:"flex-1 font-['Inter'] font-medium text-[16px] leading-[24px] text-white",children:"Use existing database"}),o==="keep"?t.jsx(KA,{className:"w-6 h-6 shrink-0"}):t.jsx(YA,{className:"w-6 h-6 shrink-0"})]}),t.jsxs("div",{className:"flex flex-col gap-1 px-5",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(GA,{className:"w-5 h-5 shrink-0"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[13px] leading-[20px] text-[rgba(255,255,255,0.6)]",children:"User data from live app stays"})]}),t.jsxs("div",{className:"flex items-start gap-1",children:[t.jsx(qA,{className:"w-5 h-5 shrink-0"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[13px] leading-[20px] text-[rgba(255,255,255,0.6)]",children:"New data from latest preview won't carry over"})]})]})]}),t.jsxs("div",{className:k("flex items-center justify-center gap-2 px-3 py-[7px] mt-4 rounded-bl-[12px] rounded-br-[12px]",o==="keep"?"bg-[rgba(128,255,249,0.12)]":"bg-[rgba(255,255,255,0.2)]"),children:[t.jsx(qNe,{className:"w-5 h-5",color:o==="keep"?"#80FFF9":"#FFFFFF",opacity:1}),t.jsx("span",{className:k("font-['Inter'] font-medium text-[12px] leading-[18px]",o==="keep"?"text-[#80FFF9]":"text-white"),children:"Have real users? Pick this"})]})]}),t.jsxs("div",{onClick:()=>u("new"),className:k("flex-1 flex flex-col rounded-[12px] border cursor-pointer transition-all duration-200 overflow-hidden pt-4",o==="new"?"bg-[rgba(128,255,249,0.04)] border-[rgba(128,255,249,0.2)]":"bg-[#232326] border-[#333]"),children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex gap-3 items-start px-5",children:[t.jsx("span",{className:"flex-1 font-['Inter'] font-medium text-[16px] leading-[24px] text-white",children:"Use new database"}),o==="new"?t.jsx(KA,{className:"w-6 h-6 shrink-0"}):t.jsx(YA,{className:"w-6 h-6 shrink-0"})]}),t.jsxs("div",{className:"flex flex-col gap-1 px-5",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(qA,{className:"w-5 h-5 shrink-0"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[13px] leading-[20px] text-[rgba(255,255,255,0.6)]",children:"Live user data won't be available"})]}),t.jsxs("div",{className:"flex items-start gap-1",children:[t.jsx(GA,{className:"w-5 h-5 shrink-0"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[13px] leading-[20px] text-[rgba(255,255,255,0.6)]",children:"New data from latest preview carries over"})]})]})]}),t.jsxs("div",{className:k("flex items-center justify-center gap-2 px-3 py-[7px] mt-4 rounded-bl-[12px] rounded-br-[12px]",o==="new"?"bg-[rgba(128,255,249,0.12)]":"bg-[rgba(255,255,255,0.2)]"),children:[t.jsx(KNe,{className:"w-5 h-5",color:o==="new"?"#80FFF9":"#FFFFFF",opacity:1}),t.jsx("span",{className:k("font-['Inter'] font-medium text-[12px] leading-[18px]",o==="new"?"text-[#80FFF9]":"text-white"),children:"Still building? Pick this"})]})]})]}),!o&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(lf,{className:"w-5 h-5 text-[#FF6666] shrink-0"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] text-[#FF6666]",children:"Select a database option to continue"})]})]})]}),t.jsxs("div",{className:"shrink-0 p-6 border-t border-[rgba(255,255,255,0.08)] flex items-center justify-center md:justify-end gap-3",children:[t.jsx("button",{onClick:h,className:"hidden md:block px-4 py-2.5 bg-[#222224] rounded-[12px] font-['Brockmann'] font-medium text-[14px] leading-[20px] text-[#DCDCE5] hover:bg-[#2A2A2C] transition-colors",children:"Cancel"}),t.jsx("button",{onClick:m,disabled:a||!r||!o,className:k("w-full md:w-auto px-6 py-2.5 bg-white rounded-[12px] font-['Brockmann'] font-semibold text-[14px] leading-[20px] tracking-[-0.2px] text-[#0E0E0F] hover:bg-gray-100 transition-colors",(a||!r||!o)&&"opacity-50 cursor-not-allowed"),children:a?"Deploying...":"Confirm and Deploy"})]})]})})},ZA=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:"",JNe=({isOpen:e,onClose:n,deploymentHistory:s,runId:r,rollbackTargetId:i,jobId:a,deployUrl:o,customDomain:l,latestRunStatus:c,isLoading:u=!1,isDeploying:p=!1,podIsPaused:f=!1,rollbackWithApi:m,refetch:h})=>{const{toast:x}=ns(),[g,v]=et.useState(!1),b=async()=>{if(H(dr.ROLLBACK_MODAL_CONFIRM_CLICKED,{jobId:a,rollbackTargetId:i}),!a||!i)return;const w=s.find(_=>_.id===i);v(!0);try{x({title:"Rolling back...",description:"Please wait while we rollback your deployment.",duration:2e3});const _=w?.params?.image;m&&_&&await m(a,_),n(),h&&h()}finally{v(!1)}},y=()=>{H(dr.ROLLBACK_MODAL_CANCEL_CLICKED,{jobId:a,rollbackTargetId:i}),n()};return t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-6 md:py-[20px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Rollback to Previous Deployment"}),t.jsx("button",{type:"button",title:"Close",onClick:y,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:t.jsx(Ft,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),t.jsxs("div",{className:"p-3 md:p-6",children:[t.jsx("p",{className:"font-medium font-['Inter'] text-[13px] md:text-[16px] text-[#939399]",children:"Replace your current production with a previously successful deployment. Your site will remain online with minimal downtime."}),s.length>0&&t.jsx("div",{className:"mt-6 mb-6",children:t.jsx("div",{children:t.jsx(p5,{jobId:a||"",deployStatus:"success",currentActive:!0,deployTime:zh(s.find(w=>w.id===r)?.updated_at||""),deploymentLink:ZA(l?.domain)||o,deploymentRun:s.find(w=>w.id===r),latestRunStatus:c,inRollbackModal:!0,isRollbackTarget:!1})})}),s.length>1&&t.jsx("div",{className:"mt-6",children:t.jsx("div",{children:t.jsx(p5,{jobId:a||"",deployStatus:"success",currentActive:!1,deployTime:zh(s.find(w=>w.id===i)?.updated_at||""),deploymentLink:ZA(l?.domain)||o,deploymentRun:s.find(w=>w.id===i),latestRunStatus:c,inRollbackModal:!0,isRollbackTarget:!0})})})]}),t.jsx("div",{className:"p-2 md:p-4 md:min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsxs("div",{className:"flex items-center justify-end w-full md:justify-between",children:[t.jsx("div",{className:"hidden md:flex items-center gap-2 text-[#737780] text-sm",children:t.jsx("span",{children:"Rollback usually takes around 1-3 mins."})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{onClick:y,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-3 py-2 text-[14px] md:text-[16px] md:px-4 md:py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsx(zt,{onClick:b,disabled:f||u||p||g,className:"flex items-center gap-3 px-3 py-2 font-semibold text-black bg-white rounded-full md:px-4 hover:bg-white/90",children:u||p||g?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-4 h-4 animate-spin"}),"Rolling back..."]}):"Confirm Rollback"})]})]})})]})},Yx="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.40156%205.28039C8.40156%203.68981%209.69099%202.40039%2011.2816%202.40039H19.9216C21.5122%202.40039%2022.8016%203.68981%2022.8016%205.28039V13.9204C22.8016%2015.511%2021.5122%2016.8004%2019.9216%2016.8004H18.0016V18.7204C18.0016%2020.311%2016.7122%2021.6004%2015.1216%2021.6004H6.48156C4.89099%2021.6004%203.60156%2020.311%203.60156%2018.7204V10.0804C3.60156%208.48981%204.89099%207.20039%206.48156%207.20039H8.40156V5.28039ZM10.3216%207.20039H15.1216C16.7122%207.20039%2018.0016%208.48981%2018.0016%2010.0804V14.8804H19.9216C20.4518%2014.8804%2020.8816%2014.4506%2020.8816%2013.9204V5.28039C20.8816%204.7502%2020.4518%204.32039%2019.9216%204.32039H11.2816C10.7514%204.32039%2010.3216%204.7502%2010.3216%205.28039V7.20039ZM6.48156%209.12039C5.95137%209.12039%205.52156%209.5502%205.52156%2010.0804V18.7204C5.52156%2019.2506%205.95137%2019.6804%206.48156%2019.6804H15.1216C15.6518%2019.6804%2016.0816%2019.2506%2016.0816%2018.7204V10.0804C16.0816%209.5502%2015.6518%209.12039%2015.1216%209.12039H6.48156Z'%20fill='%23E6E6E6'/%3e%3c/svg%3e",Zx=(e,n,s)=>e||"@",XNe=({isOpen:e,onClose:n,onConfirm:s,dns_records:r,domain:i,loading:a=!1,jobId:o})=>{const{toast:l}=ns(),c=(f,m)=>{H(ur.DNS_RECORD_COPIED,{jobId:o,domain:i,field:m,value:f}),navigator.clipboard.writeText(f),l({title:"Copied to Clipboard",description:"DNS record copied to clipboard",duration:1500})},u=()=>{H(ur.DNS_ADDED_CONFIRMED,{jobId:o,domain:i}),s()},p=()=>{H(ur.MANUAL_MODAL_CLOSED,{jobId:o,domain:i}),n()};return t.jsxs(oi,{isOpen:e,onClose:p,position:"bottom",blurStrength:"sm",contained:!0,className:"overflow-clip max-md:h-full max-md:flex max-md:flex-col max-md:bg-[#0F0F10] md:m-4 md:rounded-[16px] md:bg-[#18181A]",children:[t.jsx("div",{className:"md:hidden flex items-start shrink-0",children:t.jsx("div",{className:"flex items-center justify-center p-2 shrink-0",children:t.jsx("button",{type:"button",onClick:p,className:"flex items-center justify-center w-10 h-10 rounded-full text-[#f2f5f7] hover:bg-white/10 transition-colors",children:t.jsx(nc,{className:"w-6 h-6"})})})}),t.jsx("div",{className:"hidden md:block p-6 relative",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("button",{type:"button",className:"p-3 bg-[#2A2A2C] rounded-full pointer-events-none cursor-none ",children:t.jsx(vo,{className:"w-5 h-5 text-[#FFFFFF]"})}),t.jsxs("div",{className:"flex-1 pt-3",children:[t.jsx("h2",{className:"text-[18px] font-semibold text-[#FFFFFF] font-['Inter']",children:"Steps to link your domain manually"}),t.jsx("p",{className:"text-[14px] text-[#8E8E93] font-['Inter'] mt-1",children:"Go to your domain provider and add each DNS record one by one."}),t.jsx("a",{href:ha.howToAddDomains,target:"_blank",rel:"noopener noreferrer",className:"text-[14px] text-[#0A84FF] font-['Inter'] font-medium underline mt-2 inline-block",children:"View step-by-step guide"})]})]}),t.jsx("button",{type:"button",title:"Close",onClick:p,className:"p-[6.4px] rounded-full bg-[#303031] text-[#8E8E93] hover:text-white opacity-80",children:t.jsx(Ft,{size:20})})]})}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-6 md:px-6 md:pb-6 md:max-h-[400px]",children:[t.jsxs("div",{className:"md:hidden flex flex-col gap-2 pt-2 pb-6",children:[t.jsx("h2",{className:"text-[#f2f5f7] text-[22px] font-semibold font-brockmann leading-7 tracking-[-0.44px]",children:"Steps to link your domain manually"}),t.jsx("p",{className:"text-[#989ea0] text-[14px] font-normal font-['Inter'] leading-5",children:"Go to your domain provider and add each DNS record one by one"})]}),t.jsx("div",{className:"flex flex-col gap-4 md:gap-4",children:(()=>{const f=P0e(r);return f.length===0?t.jsx("div",{className:"p-4 bg-[#303031] rounded-[10px]",children:t.jsx("span",{className:"text-[14px] text-[#8E8E93] font-['Inter']",children:"No data"})}):f.map((m,h)=>t.jsxs("div",{children:[t.jsxs("div",{className:"md:hidden flex flex-col gap-2",children:[t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsxs("div",{className:"flex flex-col gap-1.5 min-w-0",style:{flex:"0 0 40%"},children:[t.jsx("span",{className:"text-[12px] text-[#8E8E93] font-['Inter']",children:"Type"}),t.jsx("div",{className:"px-3 py-2.5 bg-[rgba(255,255,255,0.06)] rounded-[10px] h-[44px] flex items-center",children:t.jsx("span",{className:"text-[14px] text-[#FFFFFF] font-['Inter'] font-medium truncate",children:m.type})})]}),t.jsxs("div",{className:"flex flex-col gap-1.5 flex-1 min-w-0",children:[t.jsx("span",{className:"text-[12px] text-[#8E8E93] font-['Inter']",children:"Host-Name"}),t.jsxs("div",{className:"relative h-[44px]",children:[t.jsx("div",{className:"px-3 py-2.5 pr-9 bg-[rgba(255,255,255,0.06)] rounded-[10px] h-full flex items-center",children:t.jsx("span",{className:"text-[14px] text-[#FFFFFF] font-['Inter'] font-medium truncate",children:Zx(m.name||"",i||"",m.type||"")})}),t.jsx("button",{type:"button",onClick:()=>c(Zx(m.name||"",i||"",m.type||""),"hostname"),className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 cursor-pointer hover:opacity-80",children:t.jsx("img",{src:Yx,alt:"Copy",className:"w-5 h-5 opacity-50"})})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-1.5 w-full",children:[t.jsx("span",{className:"text-[12px] text-[#8E8E93] font-['Inter']",children:"Value"}),t.jsxs("div",{className:"relative h-[44px]",children:[t.jsx("div",{className:"px-3 py-2.5 pr-9 bg-[rgba(255,255,255,0.06)] rounded-[10px] h-full flex items-center",children:t.jsx("span",{className:"text-[14px] text-[#FFFFFF] font-['Inter'] font-medium truncate block w-full",children:m.value})}),t.jsx("button",{type:"button",onClick:()=>m.value&&c(m.value,"value"),className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 cursor-pointer hover:opacity-80",children:t.jsx("img",{src:Yx,alt:"Copy",className:"w-5 h-5 opacity-50"})})]})]})]}),t.jsxs("div",{className:"hidden md:flex gap-3 w-full",children:[t.jsxs("div",{className:"flex flex-col gap-1.5 w-[20%] min-w-0",children:[t.jsx("span",{className:"text-[13px] text-[#8E8E93] font-['Inter']",children:"Type"}),t.jsx("div",{className:"p-3 bg-[#303031] rounded-[10px] h-[44px] flex items-center",children:t.jsx("span",{className:"text-[14px] text-[#FFFFFF] font-['Inter'] font-medium truncate",children:m.type})})]}),t.jsxs("div",{className:"flex flex-col gap-1.5 w-[30%] min-w-0",children:[t.jsx("span",{className:"text-[13px] text-[#8E8E93] font-['Inter']",children:"Host-Name"}),t.jsxs("div",{className:"relative h-[44px]",children:[t.jsx("div",{className:"p-3 pr-9 bg-[#303031] rounded-[10px] h-full flex items-center",children:t.jsx("span",{className:"text-[14px] text-[#FFFFFF] font-['Inter'] font-medium truncate",children:Zx(m.name||"",i||"",m.type||"")})}),t.jsx("button",{type:"button",onClick:()=>c(Zx(m.name||"",i||"",m.type||""),"hostname"),className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 cursor-pointer hover:opacity-80",children:t.jsx("img",{src:Yx,alt:"Copy",className:"w-5 h-5 opacity-50"})})]})]}),t.jsxs("div",{className:"flex flex-col gap-1.5 w-[50%] min-w-0",children:[t.jsx("span",{className:"text-[13px] text-[#8E8E93] font-['Inter']",children:"Value"}),t.jsxs("div",{className:"relative h-[44px]",children:[t.jsx("div",{className:"p-3 pr-9 bg-[#303031] rounded-[10px] h-full flex items-center",children:t.jsx("span",{className:"text-[14px] text-[#FFFFFF] font-['Inter'] font-medium truncate block w-full",children:m.value})}),t.jsx("button",{type:"button",onClick:()=>m.value&&c(m.value,"value"),className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 cursor-pointer hover:opacity-80",children:t.jsx("img",{src:Yx,alt:"Copy",className:"w-5 h-5 opacity-50"})})]})]})]})]},h))})()})]}),t.jsx("div",{className:"shrink-0 px-4 py-5 md:p-6 border-t border-[rgba(255,255,255,0.08)] md:border-[#303031] bg-[#141415] md:bg-transparent",children:t.jsx("button",{type:"button",onClick:u,disabled:a,className:k("w-full md:w-auto px-6 py-3 md:py-3 rounded-lg md:rounded-full font-brockmann font-semibold text-[16px] md:text-base tracking-[-0.32px] md:tracking-[-0.2px] transition-colors",a?"bg-[#3A3A3C] text-[#8E8E93] cursor-not-allowed":"bg-[#FFFFFF] text-[#000000] hover:bg-[#E5E5E5]"),children:a?"Verifying...":"I have added DNS records"})})]})},xW=({width:e=24,height:n=24,className:s="",style:r,fill:i="#F2F5F7"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 24 24",fill:"none",className:s,style:r,children:t.jsx("path",{d:"M4 9H7V4L16 12L7 20L7 15L4 15V9ZM6 11V13L9 13V15.55L13 12L9 8.45V11H6ZM12 4L21 12L12 20L12 17.325L18 12L12 6.675V4Z",fill:i})}),QNe=({isOpen:e,onClose:n,domain:s,targetAppName:r,sourceAppName:i,linkedJobId:a,handleJobClick:o,handleSwitchDomainClick:l,jobId:c})=>{const[u]=Df(),{toast:p}=ns(),[f,m]=d.useState(!1),h=async()=>{H(ur.SWITCH_DOMAIN_CLICKED,{jobId:c,domain:s,targetAppName:r,sourceAppName:i}),m(!0);try{await vt.switchDomain(s,r,i),await l(),n()}catch(v){p({title:"Error",description:v?.error||v?.message||"Failed to switch domain",variant:"destructive",duration:3e3})}finally{m(!1)}},x=async()=>{if(!(!o||!a))try{const v=await u(a);if("error"in v||!v.data)throw new Error;o(v.data)}catch{p({title:"Error",description:"An error occurred while opening the linked app",variant:"destructive"})}},g=()=>{H(ur.SWITCH_DOMAIN_CANCELLED,{jobId:c,domain:s,targetAppName:r,sourceAppName:i}),n()};return t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-hidden bg-[#18181A]",children:[t.jsx("div",{className:"p-6 relative",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"p-3 bg-[#2A2A2C] rounded-full w-fit",children:t.jsx(xW,{})}),t.jsxs("div",{className:"flex-1 pt-3",children:[t.jsx("h2",{className:"text-[18px] font-semibold text-[#FFFFFF] font-['Inter']",children:"This domain is already linked to another app. Are you sure you want to link it here instead?"}),t.jsxs("div",{className:"flex flex-col py-4 gap-2",children:[t.jsxs("p",{className:"text-[14px] text-[#8E8E93] font-['Inter'] leading-10",children:[t.jsx("a",{href:`https://${s}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-2 py-1 bg-[#4D9FFF1F] text-[#F2F5F7] font-medium leading-6 underline rounded-lg hover:bg-[#4D9FFF2F] transition-colors cursor-pointer",style:{fontFamily:"JetBrains Mono, monospace"},children:s})," ","is currently linked to your live app"," ",t.jsxs("span",{onClick:x,className:"inline-block px-2 py-1 bg-[#4D9FFF1F] text-[#F2F5F7] font-medium leading-6 rounded-lg hover:bg-[#4D9FFF2F] transition-colors cursor-pointer",style:{fontFamily:"JetBrains Mono, monospace"},children:[i,t.jsx($C,{className:"inline w-4 h-4 ml-1 align-middle"})]})]}),t.jsx("p",{className:"text-[14px] text-[#8E8E93] font-['Inter']",children:"Continuing will unlink it from there and point all traffic to this app."})]})]})]}),t.jsx("button",{type:"button",title:"Close",onClick:g,className:"p-[6.4px] rounded-full bg-[#303031] text-[#8E8E93] hover:text-white opacity-80",children:t.jsx(Ft,{size:20})})]})}),t.jsxs("div",{className:"flex gap-3 p-6 border-t border-[#303031]",children:[t.jsx("button",{type:"button",onClick:h,disabled:f,className:k("px-6 py-3 rounded-full font-brockmann font-semibold text-base tracking-[-0.2px]",f?"bg-[#3A3A3C] text-[#8E8E93] cursor-not-allowed":"bg-[#FFFFFF] text-[#000000] hover:bg-[#E5E5E5]"),children:f?"Linking...":"Yes, link domain here"}),t.jsx("button",{type:"button",onClick:g,disabled:!1,className:k("px-6 py-3 rounded-full font-brockmann font-semibold text-base tracking-[-0.2px]","bg-[#222224] text-[#FFFFFF] hover:bg-gray-100/10"),children:"Keep existing link"})]})]})},eFe=({isOpen:e,onClose:n,domain:s,targetAppName:r,sourceAppName:i,linkedJobId:a,handleJobClick:o,handleSwitchDomainClick:l,jobId:c})=>{const[u]=Df(),{toast:p}=ns(),[f,m]=d.useState(!1),h=async()=>{H(ur.SWITCH_DOMAIN_CLICKED,{jobId:c,domain:s,targetAppName:r,sourceAppName:i}),m(!0);try{await vt.switchDomain(s,r,i),await l(),n()}catch(v){p({title:"Error",description:v?.error||v?.message||"Failed to switch domain",variant:"destructive",duration:3e3})}finally{m(!1)}},x=async()=>{if(!(!o||!a))try{const v=await u(a);if("error"in v||!v.data)throw new Error;o(v.data)}catch{p({title:"Error",description:"An error occurred while opening the linked app",variant:"destructive"})}},g=()=>{H(ur.SWITCH_DOMAIN_CANCELLED,{jobId:c,domain:s,targetAppName:r,sourceAppName:i}),n()};return t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-hidden bg-[#18181A]",children:[t.jsx("div",{className:"p-6 relative",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"p-3 bg-[#2A2A2C] rounded-full w-fit",children:t.jsx(xW,{})}),t.jsxs("div",{className:"flex-1 pt-3",children:[t.jsx("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-7 tracking-[-0.36px]",children:"This domain is already linked to another app. Are you sure you want to link it here instead?"}),t.jsxs("div",{className:"flex flex-col pt-4 gap-2",children:[t.jsxs("p",{className:"text-[14px] text-[rgba(255,255,255,0.64)] font-['Inter'] font-normal leading-5",children:[t.jsx("a",{href:`https://${s}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-2 py-1 bg-[#4D9FFF1F] text-[#F2F5F7] font-medium leading-6 underline rounded-lg hover:bg-[#4D9FFF2F] transition-colors cursor-pointer",style:{fontFamily:"JetBrains Mono, monospace"},children:s})," ","is currently linked to your live app"," ",t.jsxs("span",{onClick:x,className:"inline-block px-2 py-1 bg-[#4D9FFF1F] text-[#F2F5F7] font-medium leading-6 rounded-lg hover:bg-[#4D9FFF2F] transition-colors cursor-pointer",style:{fontFamily:"JetBrains Mono, monospace"},children:[i,t.jsx($C,{className:"inline w-4 h-4 ml-1 align-middle"})]})]}),t.jsx("p",{className:"text-[14px] text-[rgba(255,255,255,0.64)] font-['Inter'] font-normal leading-5",children:"Continuing will unlink it from there and point all traffic to this app."})]})]})]}),t.jsx("button",{type:"button",title:"Close",onClick:g,className:"p-[6.4px] rounded-full bg-[#303031] text-[#8E8E93] hover:text-white opacity-80",children:t.jsx(Ft,{size:20})})]})}),t.jsxs("div",{className:"flex flex-col-reverse md:flex-row items-stretch md:items-center md:justify-end gap-3 md:gap-4 p-4 md:p-6 border-t border-[rgba(255,255,255,0.1)]",children:[t.jsx("button",{type:"button",onClick:g,className:"px-5 py-[10px] rounded-lg bg-[#222224] font-brockmann font-medium text-[14px] text-[#DCDCE5] leading-5 hover:bg-[#2A2A2C] transition-colors text-center",children:"Keep existing link"}),t.jsx("button",{type:"button",onClick:h,disabled:f,className:k("px-6 py-[10px] rounded-lg font-brockmann font-semibold text-[14px] leading-5 tracking-[-0.2px] transition-colors text-center",f?"bg-[#3A3A3C] text-[#8E8E93] cursor-not-allowed":"bg-white text-[#0E0E0F] hover:bg-[#E5E5E5]"),children:f?"Linking...":"Yes, link domain here"})]})]})},tFe=({isOpen:e,onClose:n,domainToUnlink:s,onConfirm:r,isLoading:i,isDeploying:a})=>t.jsxs(oi,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-8 py-[28px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Domain Unlinking"}),t.jsx("button",{type:"button",title:"Close",onClick:n,className:"absolute text-gray-400 top-8 right-8 hover:text-white",children:t.jsx(Ft,{size:24})})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("p",{className:"font-medium font-['Inter'] text-[#939399]",children:["Would you like to remove the domain ",s," from this App? After continuing, your App will no longer be accessible through this domain."]}),s&&t.jsxs("div",{className:"mt-6",children:[t.jsx("div",{className:"text-[#A199FF] text-md py-4 font-medium mb-2",children:"Connected Domain"}),t.jsx(fe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:400,damping:30,delay:.2},className:"bg-[#0076FF05] rounded-[12px] border-[#66acff20] overflow-clip border p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"flex items-center gap-4",children:t.jsx("span",{className:"text-[#CCE4FF] font-medium",children:s})})})})]})]}),t.jsx("div",{className:"p-4 min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("div",{className:"flex items-center gap-2 text-[#737780] text-sm"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{onClick:n,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-4 py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsx(zt,{onClick:r,disabled:i||a,className:"flex items-center gap-3 px-4 py-2 text-sm text-black bg-red-500 rounded-full hover:bg-red-600",children:i||a?t.jsxs(t.Fragment,{children:[t.jsx(tn,{className:"w-4 h-4 animate-spin"}),"Unlinking..."]}):"Confirm Unlinking"})]})]})})]});function nFe({isOpen:e,jobId:n,bundleIdentifier:s,onCredentialsSubmit:r,onBuildDetailsContinue:i,onAuthMethodContinue:a,onOTPSubmit:o,onTriggerBuild:l,onResendOTP:c,isLoading:u}){const[p,f]=d.useState("build-details"),{toast:m}=ns(),h=Yz({platform:"ios",isOpen:e,jobId:n,defaultBundleIdentifier:s});d.useEffect(()=>{e&&n&&H(cs.IOS_DEVELOPER_DETAILS_SCREEN_OPENED)},[e,n]);const[x,g]=d.useState(""),[v,b]=d.useState(""),[y,w]=d.useState(!1),[_,N]=d.useState(null),[j,C]=d.useState(""),[S,F]=d.useState(!1),[E,I]=d.useState(0),T=120;d.useEffect(()=>{if(E<=0)return;const U=setInterval(()=>{I(oe=>oe-1)},1e3);return()=>clearInterval(U)},[E]);const A=x.trim()!==""&&v.trim()!==""&&_!==null,D=j.trim().length===6;d.useEffect(()=>{e||(f("build-details"),g(""),b(""),w(!1),N(null),C(""),I(0))},[e]);const O=async()=>{if(!h.isBuildDetailsValid||u||!h.appIcon&&!h.appIconId){m({title:"Error",description:"Details are not valid. Please check the form and try again.",variant:"destructive",duration:3e3});return}await i({appName:h.appName,appIcon:h.appIcon,appIconId:h.appIcon?null:h.appIconId,versionName:h.versionName,bundleIdentifier:h.bundleIdentifier,originalBundleIdentifier:h.originalBundleIdentifier})&&e&&f("credentials")},M=async()=>{if(!A||u||!_)return;H(cs.IOS_DEVELOPER_DETAILS_CONTINUE_CLICKED);const U=await r({email:x,password:v});U.success&&(U.credentialsCreated?f("app-capabilities"):await a(_)&&e&&(C(""),I(T),f("otp")))},L=async()=>{if(!D||u)return;const U=await o({code:j});U.shouldGoBack&&e?(C(""),f("credentials")):U.success&&e&&f("app-capabilities")},P=async()=>{if(!S){F(!0);try{await c()&&(C(""),I(T))}finally{F(!1)}}},B=()=>{H(cs.IOS_DEVELOPER_DETAILS_BACK_CLICKED),H(cs.APPLE_LOGIN_CANCELLED),f("build-details")},G=()=>{H(cs.IOS_DEVELOPER_DETAILS_BACK_CLICKED),H(cs.APPLE_LOGIN_2FA_CANCELLED),f("credentials")},$=async()=>{if(u)return;!(await l()).success&&e&&f("credentials")},te=()=>{H(cs.IOS_DEVELOPER_DETAILS_BACK_CLICKED),f("credentials")};return{step:p,email:x,setEmail:g,password:v,setPassword:b,showPassword:y,setShowPassword:w,isCredentialsValid:A,appName:h.appName,setAppName:h.setAppName,appIcon:h.appIcon,handleAppIconChange:h.handleAppIconChange,appIconError:h.appIconError,appIconUrl:h.appIconUrl,appIconId:h.appIconId,versionName:h.versionName,setVersionName:h.setVersionName,versionError:h.versionError,bundleIdentifier:h.bundleIdentifier,originalBundleIdentifier:h.originalBundleIdentifier,isEditingBundleId:h.isEditingBundleId,onBundleIdEditToggle:h.setIsEditingBundleId,onBundleIdChange:h.handleBundleIdentifierChange,bundleIdError:h.bundleIdError,isBuildDetailsValid:h.isBuildDetailsValid,isLoadingConfig:h.isLoadingConfig,isAppDetailsLocked:h.isAppDetailsLocked,selectedAuthMethod:_,setSelectedAuthMethod:N,otpCode:j,setOtpCode:C,isOTPValid:D,isResendingOTP:S,resendCountdown:E,handleBuildDetailsContinue:O,handleCredentialsContinue:M,handleOTPSubmit:L,handleResendOTP:P,handleCredentialsBack:B,handleOTPBack:G,handleAppCapabilitiesContinue:$,handleAppCapabilitiesBack:te}}function sFe({email:e,onEmailChange:n,password:s,onPasswordChange:r,showPassword:i,onTogglePassword:a,selectedAuthMethod:o,onAuthMethodSelect:l,isValid:c,isLoading:u,error:p,onContinue:f,onBack:m,onClearError:h}){const x=y=>{h?.(),n(y.target.value)},g=y=>{h?.(),r(y.target.value)},v=()=>{h?.(),l("sms")},b=()=>{h?.(),l("device")};return t.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"flex flex-col gap-10",children:[t.jsxs("div",{className:"flex flex-col gap-1 pr-16",children:[t.jsxs("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-[28px] tracking-[-0.36px]",children:["Enter your Apple Developer Account Details"," ",t.jsx(l5,{className:"bg-[#1E2224]",children:t.jsx("p",{className:"text-[14px] font-normal text-[#989EA0] font-['Inter'] leading-[20px]",children:"Apple developer program is completely owned & managed by Apple. A paid $100 membership to the apple developer program has been made compulsory by apple to enable access for building & publishing iOS apps."})})]}),t.jsxs("p",{className:"text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-[20px]",children:["Having a paid Apple Developer program enrollment is mandatory to generate iOS builds and publish it to App Store."," ",t.jsxs("a",{href:"https://developer.apple.com/programs/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline hover:text-[#989EA0] transition-colors",children:["Learn how to create a new account",t.jsx(Uo,{className:"w-4 h-4"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"Email ID"}),t.jsx("input",{type:"text",value:e,onChange:x,placeholder:"Enter your email",className:"w-full px-3 py-2.5 bg-transparent border border-white/[0.12] rounded-xl text-[14px] text-white font-['Inter'] leading-[20px] placeholder:text-[#898C8E] focus:outline-none focus:border-white/30 transition-colors"})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:i?"text":"password",value:s,onChange:g,placeholder:"Enter your password",className:"w-full px-3 py-2.5 pr-12 bg-transparent border border-white/[0.12] rounded-xl text-[14px] text-white font-['Inter'] leading-[20px] placeholder:text-[#898C8E] focus:outline-none focus:border-white/30 transition-colors"}),t.jsx("button",{type:"button",onClick:a,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#898C8E] hover:text-white transition-colors",children:i?t.jsx(z7,{className:"w-5 h-5"}):t.jsx($7,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"Choose Authentication Method"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{type:"button",onClick:v,className:k("flex-1 flex items-center gap-3 p-3 rounded-xl border transition-colors",o==="sms"?"border-white/30 bg-white/[0.08]":"border-white/[0.12] bg-transparent hover:bg-white/[0.04]"),children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-white/[0.08] flex items-center justify-center shrink-0",children:t.jsx(Ume,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{className:"flex flex-col items-start",children:[t.jsx("span",{className:"text-[14px] font-medium text-white font-['Inter'] leading-[20px]",children:"SMS"}),t.jsx("span",{className:"text-[11px] font-normal text-[#7F8283] font-['Inter'] leading-[16px]",children:"Code via text message"})]})]}),t.jsxs("button",{type:"button",onClick:b,className:k("flex-1 flex items-center gap-3 p-3 rounded-xl border transition-colors",o==="device"?"border-white/30 bg-white/[0.08]":"border-white/[0.12] bg-transparent hover:bg-white/[0.04]"),children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-white/[0.08] flex items-center justify-center shrink-0",children:t.jsx(Rme,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{className:"flex flex-col items-start",children:[t.jsx("span",{className:"text-[14px] font-medium text-white font-['Inter'] leading-[20px]",children:"Apple Device"}),t.jsx("span",{className:"text-[11px] font-normal text-[#7F8283] font-['Inter'] leading-[16px]",children:"Code on trusted devices"})]})]})]})]}),t.jsx(RC,{error:p,defaultMessage:"Your credentials are saved locally, not on our servers"})]}),t.jsx(C3,{onClick:f,disabled:!c||u,isLoading:u,loadingText:"Verifying...",onBack:m})]},"credentials")}function rFe({otpCode:e,onOtpCodeChange:n,authMethod:s,isValid:r,isLoading:i,isResendingOTP:a,resendCountdown:o,error:l,onContinue:c,onResendOTP:u,onBack:p}){const f=x=>{const g=x.target.value.replace(/\D/g,"").slice(0,6);n(g)},m=a||o>0,h=()=>{if(a)return"Sending...";if(o>0){const x=Math.floor(o/60),g=o%60;return`Resend OTP (${x}:${g.toString().padStart(2,"0")})`}return"Resend OTP"};return t.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"flex flex-col gap-10",children:[t.jsxs("div",{className:"flex flex-col gap-1 pr-16",children:[t.jsx("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-[28px] tracking-[-0.36px]",children:"Enter 6 digit OTP"}),t.jsx("p",{className:"text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-[20px]",children:s==="sms"?"Enter the verification code sent to your registered phone number":"Enter the verification code displayed on your trusted Apple device"})]}),t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsx("input",{type:"text",value:e,onChange:f,placeholder:"123456",maxLength:6,className:"w-full px-3 py-2.5 bg-transparent border border-white/[0.12] rounded-xl text-[14px] text-white font-medium font-['Inter'] leading-[20px] placeholder:text-[#898C8E] focus:outline-none focus:border-white/30 transition-colors"})}),t.jsx("button",{type:"button",onClick:u,disabled:m,className:k("text-[14px] font-medium font-['Inter'] leading-[20px] transition-colors self-start",m?"text-[#7F8283] cursor-not-allowed":"text-white underline hover:text-[#989EA0]"),children:h()})]}),l&&t.jsx(RC,{error:l}),t.jsx(C3,{onClick:c,disabled:!r||i,isLoading:i,loadingText:"Verifying...",onBack:p})]},"otp")}const JA=[{number:1,description:t.jsxs(t.Fragment,{children:["Go to"," ",t.jsx("a",{href:"https://developer.apple.com",target:"_blank",rel:"noopener noreferrer",className:"text-[#80fff9] underline",children:"developer.apple.com"})," "," Account  Certificates, Identifiers & Profiles."]})},{number:2,description:"Select Identifiers and choose your App ID (e.g., com.emergent...)."},{number:3,description:"Scroll down and check Sign in with Apple (Configure as Primary)."},{number:4,description:"Ensure Push Notifications is also checked."},{number:5,description:"Click Save to confirm changes."}];function iFe({step:e}){return t.jsxs("div",{className:"flex gap-3 items-center w-full",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-[rgba(128,255,249,0.05)] flex items-center justify-center shrink-0",children:t.jsx("span",{className:"text-[14px] font-medium text-[#80fff9] font-['Inter'] leading-5",children:e.number})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("div",{className:"text-[14px] font-normal text-[rgba(255,255,255,0.6)] font-['Inter'] leading-5",children:e.description})})]})}function aFe({isLoading:e,onContinue:n,onBack:s}){return t.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"flex flex-col gap-8",children:[t.jsxs("div",{className:"flex flex-col gap-1 pr-16",children:[t.jsx("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-[28px] tracking-[-0.36px]",children:"Action Required: Enable App Capabilities"}),t.jsx("p",{className:"text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-[20px]",children:"If you use 3rd party logins (Apple/Google Auth) or Push Notifications, you must enable them in your Apple Developer account to prevent build failures."})]}),t.jsx("div",{className:"flex flex-col gap-5",children:JA.map((r,i)=>t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsx(iFe,{step:r}),i<JA.length-1&&t.jsx(Pz,{})]},r.number))}),t.jsx(C3,{onClick:n,disabled:e,isLoading:e,loadingText:"Building...",onBack:s})]},"app-capabilities")}function oFe({isOpen:e,onClose:n,onCredentialsSubmit:s,onBuildDetailsContinue:r,onAuthMethodContinue:i,onOTPSubmit:a,onTriggerBuild:o,onResendOTP:l,isLoading:c=!1,error:u,bundleIdentifier:p="app.emergent.your-app",jobId:f,onClearError:m,successfulBuildsCount:h=0}){const{user:x}=os(),g=nFe({isOpen:e,jobId:f,bundleIdentifier:p,onCredentialsSubmit:s,onBuildDetailsContinue:r,onAuthMethodContinue:i,onOTPSubmit:a,onTriggerBuild:o,onResendOTP:l,isLoading:c}),v=vO()&&h===0,b=()=>{H(cs.IOS_DEVELOPER_DETAILS_CLOSE_CLICKED),n()};return t.jsx(oi,{isOpen:e,onClose:b,position:"bottom",blurStrength:"sm",contained:!0,className:"m-0 sm:m-3 md:m-6 rounded-t-[24px] sm:rounded-[16px] overflow-hidden bg-[#18181A] max-h-[90%] flex flex-col",children:t.jsxs("div",{className:"relative p-6 overflow-y-auto overflow-x-hidden flex-1",children:[t.jsx(LC,{onClick:b}),t.jsxs(Kn,{mode:"wait",children:[g.step==="build-details"&&t.jsx(Kz,{platform:"ios",appName:g.appName,onAppNameChange:g.setAppName,appIcon:g.appIcon,onAppIconChange:g.handleAppIconChange,appIconError:g.appIconError,appIconUrl:g.appIconUrl,isAppDetailsLocked:g.isAppDetailsLocked&&h>0,versionName:g.versionName,onVersionNameChange:g.setVersionName,versionError:g.versionError,bundleIdError:g.bundleIdError,bundleIdentifier:g.bundleIdentifier,originalBundleIdentifier:g.originalBundleIdentifier,isEditingBundleId:g.isEditingBundleId,onBundleIdEditToggle:g.onBundleIdEditToggle,onBundleIdChange:g.onBundleIdChange,userId:x?.id,isValid:g.isBuildDetailsValid,isLoading:c,isLoadingConfig:g.isLoadingConfig,error:u,onContinue:g.handleBuildDetailsContinue,canEditBundleId:v}),g.step==="credentials"&&t.jsx(sFe,{email:g.email,onEmailChange:g.setEmail,password:g.password,onPasswordChange:g.setPassword,showPassword:g.showPassword,onTogglePassword:()=>g.setShowPassword(!g.showPassword),selectedAuthMethod:g.selectedAuthMethod,onAuthMethodSelect:g.setSelectedAuthMethod,isValid:g.isCredentialsValid,isLoading:c,error:u,onContinue:g.handleCredentialsContinue,onBack:g.handleCredentialsBack,onClearError:m}),g.step==="otp"&&g.selectedAuthMethod&&t.jsx(rFe,{otpCode:g.otpCode,onOtpCodeChange:g.setOtpCode,authMethod:g.selectedAuthMethod,isValid:g.isOTPValid,isLoading:c,isResendingOTP:g.isResendingOTP,resendCountdown:g.resendCountdown,error:u,onContinue:g.handleOTPSubmit,onResendOTP:g.handleResendOTP,onBack:g.handleOTPBack}),g.step==="app-capabilities"&&t.jsx(aFe,{isLoading:c,onContinue:g.handleAppCapabilitiesContinue,onBack:g.handleAppCapabilitiesBack})]})]})})}const lFe=({jobId:e,appName:n,userId:s,onBuildTriggered:r,onModalClose:i,setCurrentView:a})=>{const[o,l]=d.useState(!1),[c,u]=d.useState(null),p=d.useMemo(()=>crypto.randomUUID().replace(/-/g,"").slice(0,8),[]),f=Wz(n),m=n?f?`app.emergent.${f}${p}`:`app.emergent.app${p}`:void 0;return{isSubmitting:o,error:c,handleBuildSubmit:async g=>{if(!e)return!1;u(null),l(!0);try{let v;if(g.appIcon){const y=await vt.getExpoBuildAppIconUploadUrl(e,"android",{file_name:g.appIcon.name});await vt.uploadToPresignedUrl(y.upload_url,g.appIcon),v=(await vt.finalizeExpoBuildAppIconUpload("android",{icon_id:y.icon_id,job_id:e,file_path:y.file_path,file_name:g.appIcon.name})).id}else if(g.appIconId)v=g.appIconId;else return u("Please select an app icon."),!1;await vt.submitExpoBuildAppDetails("android",{job_id:e,app_details:{app_name:g.appName,version:g.versionName,package_name:g.packageName,app_logo_id:v}}),g.originalPackageName&&g.packageName!==g.originalPackageName&&H(cs.BUNDLE_ID_CHANGED,{user_id:s,jobId:e,originalBundleId:g.originalPackageName,newBundleId:g.packageName,appName:g.appName,platform:"android"});const b=await vt.triggerExpoBuild(e,"android");if(b.status!=="triggered"){const y=b.message||"Failed to start Android build. Please try again.";return H(cs.ANDROID_BUILD_FAILED_BUNDLE_ID,{user_id:s,job_id:e,bundle_id:g.packageName,failure_source:"trigger_response",error:y}),u(y),!1}return H(cs.ANDROID_BUILD_STARTED,{job_id:e}),r?.(),i?.(),a?.("android-builds"),!0}catch(v){const b=v?.response?.data?.detail||v?.response?.data?.error||v?.message||"Failed to start Android build. Please try again.";return H(cs.ANDROID_BUILD_FAILED_BUNDLE_ID,{user_id:s,job_id:e,bundle_id:g.packageName,failure_source:"exception",error:b}),u(b),!1}finally{l(!1)}},clearError:()=>u(null),packageName:m}},cFe=({jobId:e,initialData:n,enablePolling:s=!0,pollingInterval:r=3e4,isDeploymentRunning:i=!1})=>{const{getCurrentOrganizationId:a}=hs(),o=a(),[l,c]=d.useState(n??null),[u,p]=d.useState(!1),f=d.useRef(n!==void 0),m=s&&!!e&&!!l&&(l.status==="pending"||l.status==="failed")&&!i,{data:h}=zP({jobId:e,silent:!0,organization_id:o},{skip:!m,pollingInterval:m?r:0}),[x]=Are(),[g]=GP(),[v]=qP(),[b]=KP(),[y]=YP(),w=d.useCallback(async()=>{if(!e)return null;p(!0);try{const E=await x({jobId:e,silent:!0,organization_id:o}).unwrap();let I=null;return E?.custom_domain?.domain&&E.custom_domain.status&&(I={domain:E.custom_domain.domain,status:E.custom_domain.status,dns_records:Array.isArray(E.custom_domain.dns_records)?E.custom_domain.dns_records:[E.custom_domain.dns_records].filter(Boolean),current_ips:E.custom_domain.current_ips}),c(I),I}catch{return null}finally{p(!1)}},[e,o,x]),_=d.useCallback(async()=>{if(!e)return null;p(!0);try{const E=await x({jobId:e,silent:!0,organization_id:o}).unwrap();let I=null;return E?.custom_domain?.domain&&E.custom_domain.status&&(I={domain:E.custom_domain.domain,status:E.custom_domain.status,dns_records:Array.isArray(E.custom_domain.dns_records)?E.custom_domain.dns_records:[E.custom_domain.dns_records].filter(Boolean),current_ips:E.custom_domain.current_ips}),I}catch{return null}finally{p(!1)}},[e,o,x]);d.useEffect(()=>{n!==void 0&&(c(n),f.current=!0)},[n]),d.useEffect(()=>{if(h?.custom_domain?.domain&&h.custom_domain.status){const E={domain:h.custom_domain.domain,status:h.custom_domain.status,dns_records:Array.isArray(h.custom_domain.dns_records)?h.custom_domain.dns_records:[h.custom_domain.dns_records].filter(Boolean),current_ips:h.custom_domain.current_ips};c(I=>I?.status!==E.status||I?.domain!==E.domain?E:I)}},[h]),d.useEffect(()=>{e&&!f.current&&n===void 0&&(f.current=!0,w())},[e,w,n]);const N=d.useCallback(async E=>{if(!e)throw new Error("No job ID");return await g({domain:E,jobId:e,organization_id:o}).unwrap()},[g,e,o]),j=d.useCallback(async E=>{if(!e)throw new Error("No job ID");return await v({domain:E,jobId:e,organization_id:o}).unwrap()},[v,e,o]),C=d.useCallback(async E=>{if(!e)throw new Error("No job ID");return await b({domain:E,jobId:e,organization_id:o}).unwrap()},[b,e,o]),S=d.useCallback(async E=>{if(!e)throw new Error("No job ID");const I=await y({domain:E,jobId:e,organization_id:o}).unwrap();return c(null),I},[y,e,o]),F=d.useCallback(()=>{c(null)},[]);return{customDomain:l,isLoading:u,registerDomain:N,verifyDomain:j,connectDomain:C,unlinkDomain:S,setCustomDomain:c,refetchCustomDomain:w,fetchDnsRecordsOnly:_,clearCustomDomain:F}};function dFe({jobId:e,deployStatus:n,latestRunStatus:s}){const[r,i]=d.useState(null),[a,o]=d.useState("0s"),l=d.useRef(null);return d.useEffect(()=>{const c=async()=>{if(e)try{const p=await vt.getDeployStatus(e);if(p.latest_run){let f;p.latest_run.steps&&p.latest_run.steps.length>0?f=p.latest_run.steps[0].created_at:f=new Date().toISOString(),i(new Date(f))}else i(new Date)}catch{i(new Date)}},u=n==="running"||s==="running";return u?(r||c(),l.current&&clearInterval(l.current),l.current=setInterval(()=>{if(!r)return;const f=new Date().getTime()-r.getTime(),m=Math.floor(f/1e3),h=Math.floor(m/60),x=Math.floor(h/60);let g="";x>0?g=`${x}h ${h%60}m ${m%60}s`:h>0?g=`${h}m ${m%60}s`:g=`${m}s`,o(g)},1e3)):!u&&l.current&&(clearInterval(l.current),l.current=null,i(null)),()=>{l.current&&clearInterval(l.current)}},[n,s,r,e]),{deploymentStartTime:r,elapsedTime:a}}const uFe=()=>{const[e,n]=d.useState(!1),[s,r]=d.useState(!1),[i,a]=d.useState(!1),[o,l]=d.useState(!1),[c,u]=d.useState(!1),[p,f]=d.useState(!1),[m,h]=d.useState(!1),[x,g]=d.useState(!1),[v,b]=d.useState(!1),[y,w]=d.useState(!1),[_,N]=d.useState(!1),[j,C]=d.useState(!1),[S,F]=d.useState(!1);return{isDeployModalOpen:e,setIsDeployModalOpen:n,isBuildLogsModalOpen:s,setIsBuildLogsModalOpen:r,isRollbackModalOpen:i,setIsRollbackModalOpen:a,isRedeployModalOpen:o,setIsRedeployModalOpen:l,isShutdownModalOpen:c,setIsShutdownModalOpen:u,isReplaceModalOpen:p,setIsReplaceModalOpen:f,isReplaceConfirmModalOpen:m,setIsReplaceConfirmModalOpen:h,isUnlinkDomainModalOpen:x,setIsUnlinkDomainModalOpen:g,isManualDomainLinkModalOpen:v,setIsManualDomainLinkModalOpen:b,isSwitchDomainModalOpen:y,setIsSwitchDomainModalOpen:w,isAppleDeveloperModalOpen:_,setIsAppleDeveloperModalOpen:N,isCreditsInfoModalOpen:j,setIsCreditsInfoModalOpen:C,isAndroidBuildModalOpen:S,setIsAndroidBuildModalOpen:F}},pFe=()=>{const[e,n]=d.useState(""),[s,r]=d.useState(null),[i,a]=d.useState(null),[o,l]=d.useState(!1),[c,u]=d.useState(!0),[p,f]=d.useState(""),[m,h]=d.useState({containsStripeKey:!1,stripeKeyValue:"",stripeKeyId:"",stripeKey:""});return{rollbackTargetId:e,setRollbackTargetId:n,selectedReplacement:s,setSelectedReplacement:r,replaceHoveredCard:i,setReplaceHoveredCard:a,termsSelected:o,setTermsSelected:l,envSyncedWithProduction:c,setEnvSyncedWithProduction:u,domainToUnlink:p,setDomainToUnlink:f,containsStripeKey:m,setContainsStripeKey:h}},fFe=({jobId:e,appName:n,userId:s,onBuildTriggered:r,onModalClose:i,setCurrentView:a})=>{const{toast:o}=ns(),[l,c]=d.useState(null),[u,p]=d.useState(!1),[f,m]=d.useState(null),[h,x]=d.useState(null),[g,v]=d.useState(1),b=d.useRef(null),y=d.useRef(null),[w,_]=d.useState(null),N=d.useMemo(()=>crypto.randomUUID().split("-")[0],[]),j=Wz(n),C=n?j?`app.emergent.${j}${N}`:`app.emergent.app${N}`:void 0;return{error:l,isSubmitting:u,bundleIdentifier:C,handleCredentialsSubmit:async M=>{if(!e)return{success:!1};H(cs.APPLE_LOGIN_CLICKED,{job_id:e}),c(null),p(!0);try{const L=await vt.appleLogin({job_id:e,apple_id:M.email,password:M.password});if(!L.success)return H(cs.APPLE_LOGIN_FAILED,{job_id:e,error:L.message}),c(L.message||"Failed to submit developer details. Please try again."),{success:!1};if(b.current={appleId:M.email,password:M.password},L.session_id){const P=L.trusted_phone_numbers?.[0]?.id??1;y.current={sessionId:L.session_id,phoneId:P},m(L.session_id),v(P)}return H(cs.APPLE_LOGIN_SUCCESS,{job_id:e}),{success:!0,credentialsCreated:L.credentials_created}}catch(L){const P=L?.message||"Failed to submit developer details. Please try again.";return H(cs.APPLE_LOGIN_FAILED,{job_id:e,error:P}),c(P),{success:!1}}finally{p(!1)}},handleAuthMethodContinue:async M=>{const L=y.current;if(!e||!L)return!1;H(cs.APPLE_LOGIN_2FA_CLICKED,{job_id:e,method:M}),c(null),p(!0),x(M);try{if(M==="sms"){const P=await vt.apple2FA({job_id:e,session_id:L.sessionId,code_type:"sms",phone_id:L.phoneId});if(!P.success){const B=P.message||"Failed to request verification code. Please try again.";return c(B),!1}}return!0}catch(P){const B=P?.message||"Failed to request verification code. Please try again.";return c(B),!1}finally{p(!1)}},handleBuildDetailsContinue:async M=>{if(!e)return!1;c(null),p(!0);try{let L;if(M.appIcon){const P=await vt.getExpoBuildAppIconUploadUrl(e,"ios",{file_name:M.appIcon.name});await vt.uploadToPresignedUrl(P.upload_url,M.appIcon),L=(await vt.finalizeExpoBuildAppIconUpload("ios",{icon_id:P.icon_id,job_id:e,file_path:P.file_path,file_name:M.appIcon.name})).id}else if(M.appIconId)L=M.appIconId;else return c("Please select an app icon."),!1;return await vt.submitExpoBuildAppDetails("ios",{job_id:e,step:1,app_details:{app_name:M.appName,version:M.versionName,bundle_identifier:M.bundleIdentifier,app_logo_id:L}}),_(M.bundleIdentifier),M.originalBundleIdentifier&&M.bundleIdentifier!==M.originalBundleIdentifier&&H(cs.BUNDLE_ID_CHANGED,{user_id:s,jobId:e,originalBundleId:M.originalBundleIdentifier,newBundleId:M.bundleIdentifier,appName:M.appName,platform:"ios"}),!0}catch(L){const P=L?.message||"Failed to save app details. Please try again.";return c(P),!1}finally{p(!1)}},handleOTPSubmit:async M=>{if(!e||!f||!h)return{success:!1};const L="Incorrect verification code. Please try again.";c(null),p(!0);try{const P=await vt.apple2FA({job_id:e,session_id:f,code:M.code,code_type:h});if(!P.success){const B=P.message||"Verification failed. Please try again.";return H(cs.APPLE_LOGIN_2FA_FAILED,{job_id:e,error:B}),c(B),{success:!1,shouldGoBack:!(B===L)}}return H(cs.APPLE_LOGIN_2FA_SUCCESS,{job_id:e}),{success:!0}}catch(P){const B=P?.message||"Failed to verify OTP. Please try again.";return H(cs.APPLE_LOGIN_2FA_FAILED,{job_id:e,error:B}),c(B),{success:!1,shouldGoBack:!0}}finally{p(!1)}},handleTriggerBuild:async()=>{if(!e)return{success:!1};c(null),p(!0);try{const M=await vt.triggerExpoBuild(e,"ios");if(M.status!=="triggered"){const L=M.message||"Failed to start iOS build. Please try again.";return H(cs.IOS_BUILD_FAILED_BUNDLE_ID,{user_id:s,job_id:e,bundle_id:w||C,failure_source:"trigger_response",error:L}),c(L),{success:!1}}return H(cs.IOS_BUILD_STARTED,{job_id:e}),r?.(),i?.(),a?.("ios-builds"),o({title:"iOS Build Started",description:"Your iOS build is being generated. This may take a few minutes.",duration:5e3}),{success:!0}}catch(M){const L=M?.response?.data?.detail||M?.response?.data?.error||M?.message||"Failed to start iOS build. Please try again.";return H(cs.IOS_BUILD_FAILED_BUNDLE_ID,{user_id:s,job_id:e,bundle_id:w||C,failure_source:"exception",error:L}),c(L),{success:!1}}finally{p(!1)}},handleResendOTP:async()=>{if(!e||!f||!h)return!1;c(null);try{if(h==="sms"){const M=await vt.apple2FA({job_id:e,session_id:f,code_type:"sms",phone_id:g});if(M.sms_sent||M.success)return o({title:"OTP Sent",description:"A new OTP has been sent to your phone.",duration:3e3}),!0;{const L=M.message||"Failed to resend OTP. Please try again.";return c(L),!1}}else{const M=b.current;if(!M)return c("Unable to resend code. Please try logging in again."),!1;const L=await vt.appleLogin({job_id:e,apple_id:M.appleId,password:M.password});if(L.session_id){const P=L.trusted_phone_numbers?.[0]?.id??1;y.current={sessionId:L.session_id,phoneId:P},m(L.session_id),v(P),o({title:"Check Your Devices",description:"A verification code should appear on your trusted Apple devices.",duration:3e3})}return!0}}catch(M){const L=M?.message||"Failed to resend OTP. Please try again.";return c(L),!1}},reset:()=>{c(null),m(null),x(null),_(null),y.current=null,b.current=null},clearError:()=>c(null)}},mFe={build:{pending:"Build Waiting",running:"Building Package...",success:"Build Completed",failed:"Build Failed"},mongodb_migrate:{pending:"Migrate Database",running:"Migrating Database...",success:"Migration Completed",failed:"Migration Failed"},manage_secrets:{pending:"Export Secrets",running:"Exporting Secrets...",success:"Secrets Exported",failed:"Secrets Export Failed"},deploy:{pending:"Deploy",running:"Deploying...",success:"Deployment Complete",failed:"Deployment Failed"},health_check:{pending:"Run Health Check",running:"Running Health Checks",success:"Health Check Successful",failed:"Health Check Failed"}},hFe={build:"Building...",mongodb_migrate:"Migrating...",manage_secrets:"Exporting Secrets...",deploy:"Deploying..."},Jx=K.icons.animatedSpinner,XA=K.icons.deployCloud,xFe=K.common.deployTime,gFe=({isOpen:e,onClose:n,jobId:s,tabId:r,onShareLogs:i,onRunHealthCheck:a,podIsPaused:o=!1,agentStatus:l,handleJobClick:c,isExpoImage:u=!1,previewUrl:p,isMoltbot:f=!1})=>{const m=uFe(),h=pFe(),{getCurrentOrganizationId:x}=hs(),g=XO(),{isMobile:v}=ts(),{user:b}=os(),{defaultTierCredits:y,defaultTierCreditsPerDay:w}=_3(),[_,N]=d.useState(!1),[j,C]=d.useState(!1),S=d.useRef(null),[F,E]=d.useState(null),[I,T]=d.useState(null),[A,D]=d.useState(!0),{isSuccess:O}=Kr(),{data:M}=Wa(void 0,{skip:!O}),L=M?.pro_rata_refunds??!1,P=M?.deployment_tier??!1,B=M?.db_tool??!1;d.useEffect(()=>{Mf(()=>{E(Zie()),T(bO()),D(!1)})},[]);const{currentView:G,setCurrentView:$,setBuildJustTriggered:te,setIOSBuildData:U,setAndroidBuildData:oe,handleAndroidBuildsBack:Y,handleIOSBuildsBack:W,navigateToAndroidBuilds:Z,navigateToIOSBuilds:le}=lje(),q=u?IA({platform:"ios",jobId:s||"",fetchLatest:vt.getIOSBuildLatest,fetchHistory:vt.getIOSBuildHistory,completedEventName:cs.IOS_BUILD_COMPLETED,checkMobileForEmptyState:!0}):null,Q=u?IA({platform:"android",jobId:s||"",fetchLatest:vt.getAndroidBuildLatest,fetchHistory:vt.getAndroidBuildHistory,completedEventName:cs.ANDROID_BUILD_COMPLETED,includeQueuedStatus:!0}):null;d.useEffect(()=>{U(q)},[q,U]),d.useEffect(()=>{oe(Q)},[Q,oe]);const he=x(),me=()=>{g.close(),N(!0),C(!0),setTimeout(()=>{S.current?.scrollIntoView({behavior:"smooth",block:"center"})},100)},ce=(nn,Ue,Nt)=>{const bn=u&&Nt?`${window.location.origin}/share?app=${encodeURIComponent(Nt)}`:void 0;g.open({deployUrl:nn,customDomain:Ue,onLinkCustomDomain:u?void 0:me,isExpoApp:u,mobileUrl:bn,previewUrl:p})},{deployStatus:ee,latestRunStatus:J,isLoading:re,deploymentSteps:xe,currentStepIndex:ae,deploymentHistory:Fe,deployUrl:se,runId:_e,deployApp:Re,isDeploying:Se,deployLogs:Ne,liveLogs:ge,loadDeployLogs:Ce,loadLiveLogs:$e,shutdownDeployment:dt,replaceDeployment:Me,refetch:we,envs:Te,loadEnvironmentVariables:ze,updateEnvironmentVariables:_t,saveEnvironmentVariables:Bt,rollbackWithApi:qe,data:Ae,customDomain:Le}=_C({jobId:s,tabId:r,silent:!1,onDeploymentSuccess:ce}),Ut=ee==="running"||J==="running",{customDomain:tt,isLoading:xt,registerDomain:St,verifyDomain:It,unlinkDomain:kt,refetchCustomDomain:Ot,fetchDnsRecordsOnly:Ie}=u?{customDomain:null,isLoading:!1,registerDomain:async()=>{},verifyDomain:async()=>{},unlinkDomain:async()=>{},refetchCustomDomain:async()=>null,fetchDnsRecordsOnly:async()=>null}:cFe({jobId:s,initialData:Le,isDeploymentRunning:Ut}),nt=Ae?.app_name,We=u?null:aje({jobId:s,customDomain:tt,unlinkDomain:kt,verifyDomain:It,refetchCustomDomain:Ot,deploymentState:{domainToUnlink:h.domainToUnlink,setDomainToUnlink:h.setDomainToUnlink},modalState:{setIsUnlinkDomainModalOpen:m.setIsUnlinkDomainModalOpen,setIsManualDomainLinkModalOpen:m.setIsManualDomainLinkModalOpen,setIsSwitchDomainModalOpen:m.setIsSwitchDomainModalOpen}}),Lt=u?fFe({jobId:s||"",appName:nt,userId:b?.id,onBuildTriggered:()=>te("ios"),onModalClose:()=>m.setIsAppleDeveloperModalOpen(!1),setCurrentView:$}):null,pt=u?lFe({jobId:s||"",appName:nt,userId:b?.id,onBuildTriggered:()=>te("android"),onModalClose:()=>m.setIsAndroidBuildModalOpen(!1),setCurrentView:$}):null,{data:ft=[],isLoading:Tt,isFetching:Gt}=V9({organization_id:he,...F===!0&&{job_id:s}},{skip:!s||A,refetchOnMountOrArgChange:!1}),Ze=F===!0&&(Tt||Gt),{elapsedTime:ut}=dFe({jobId:s,deployStatus:ee,latestRunStatus:J}),{isDeployDisabled:Qt,fetchDeploymentWarnings:Sn,handleDeployClick:yn,handleDeployConfirm:Ee,handleRedeployConfirm:Ke,handleTierChange:mt,handleStripeKeyUpdate:Ge,handleLogsClick:At,handleLiveLogsClick:Cn,handleFixWithAgent:Mt,getJobDetails:Pn,handleDeployWithImage:wn,handleRollbackClick:In,handleSelectReplacement:us,handleReplaceGoBack:Kt,handleConfirmReplace:dn}=ije({jobId:s,tabId:r,agentStatus:l,appName:nt,isExpoImage:u,previewUrl:p,onShareLogs:i,handleJobClick:c,onLinkCustomDomain:me,deployStatus:ee,deployApp:Re,selectedTierId:Ae?.tier_info?.id,replaceDeployment:Me,loadEnvironmentVariables:ze,loadDeployLogs:Ce,loadLiveLogs:$e,deployLogs:Ne,liveLogs:ge,envs:Te,updateEnvironmentVariables:_t,containsStripeKey:h.containsStripeKey,setContainsStripeKey:h.setContainsStripeKey,termsSelected:h.termsSelected,envSyncedWithProduction:h.envSyncedWithProduction,setEnvSyncedWithProduction:h.setEnvSyncedWithProduction,setRollbackTargetId:h.setRollbackTargetId,selectedReplacement:h.selectedReplacement,setSelectedReplacement:h.setSelectedReplacement,setIsDeployModalOpen:m.setIsDeployModalOpen,setIsBuildLogsModalOpen:m.setIsBuildLogsModalOpen,setIsRollbackModalOpen:m.setIsRollbackModalOpen,setIsReplaceModalOpen:m.setIsReplaceModalOpen,setIsReplaceConfirmModalOpen:m.setIsReplaceConfirmModalOpen,isMoltbot:f});d.useEffect(()=>{m.isDeployModalOpen&&s&&Sn(s)},[m.isDeployModalOpen,s]),d.useEffect(()=>{m.isRedeployModalOpen&&s&&Sn(s)},[m.isRedeployModalOpen,s]),d.useEffect(()=>{ee==="success"&&!u&&Ot()},[ee,Ot,u]);const{shouldShowCustomDomainSection:gt,latestSuccessfulDeployment:ps,shouldShowReplaceCard:Zn,shouldShowDeploymentHistory:$s,shouldShowEnvSection:Ls,shouldShowRunningFooter:ys,shouldShowSuccessFooter:zn,shouldShowResourcesCard:_n}=oje({isExpoImage:u,deploymentHistory:Fe,latestRunStatus:J,deployStatus:ee,availableDeployments:ft,isLoading:re}),Wn=()=>{const nn=ft.filter(Ue=>Ue.id!==s);!h.selectedReplacement&&nn.length>0&&h.setSelectedReplacement(nn[0])},As=()=>{Wn(),m.setIsReplaceConfirmModalOpen(!0)},tr=()=>{Wn(),m.setIsReplaceModalOpen(!0)},Ht=d.useCallback(()=>{ee==="success"?Cn():At()},[ee,Cn,At]),zs=Fe?.length>0,Ve=!re&&J!=="running"&&(ee==="success"||ee==="failed"||ee==="not_deployed"&&zs),lt=A&&Ve,$t=I===!0&&!A&&re&&J!=="running",Tn=I===!0&&!A&&!u&&Ve,Yt=I===!0&&!A&&u&&Ve,Is=Yt&&G==="main";return t.jsx("div",{className:k("w-full h-full bg-[#0F0F10] border-l border border-[#242424]/60 max-md:inset-0 max-md:absolute z-[39]",e?"block":"hidden"),children:t.jsxs("div",{className:k("relative flex flex-col justify-between min-h-full max-h-[100%]",Tn||Is||lt||$t?"overflow-hidden":"overflow-y-scroll overflow-clip",G==="main"&&ee!=="running"&&J!=="running"&&ee!="not_deployed"&&!re&&!Is&&!Tn?"pb-[5rem]":""),children:[u&&G==="android-builds"&&Yt?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"pl-5 pr-3 py-3 flex items-center justify-between border-b border-[#1f1f1f] bg-[#111112] sticky top-0 z-10",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:Y,className:"text-gray-400 hover:text-white transition-colors",title:"Back",children:t.jsx(nc,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bI,{}),t.jsx("span",{className:"text-white font-medium text-[18px] font-brockmann leading-7 tracking-[-0.36px]",children:"Android Builds"})]})]}),t.jsx(u5,{onClose:n,dataTestId:"deploy-panel-close-button"})]}),t.jsx("div",{className:"flex flex-col flex-1 h-full gap-4 p-4 sm:p-5 overflow-y-auto",children:Q&&t.jsx(Gx,{platform:"android",jobId:s||"",tabId:r,onStartNewBuild:()=>m.setIsAndroidBuildModalOpen(!0),onRedeploy:Ke,onShareLogs:i,isAgentSleeping:o||l==="sleeping",buildData:Q,onClose:$.bind(null,"main")})})]}):u&&G==="ios-builds"&&Yt?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"pl-5 pr-3 py-3 flex items-center justify-between border-b border-[#1f1f1f] bg-[#111112] sticky top-0 z-10",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:W,className:"text-gray-400 hover:text-white transition-colors",title:"Back",children:t.jsx(nc,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yI,{}),t.jsx("span",{className:"text-white font-medium text-[18px] font-brockmann leading-7 tracking-[-0.36px]",children:"iOS Builds"})]})]}),t.jsx(u5,{onClose:n,dataTestId:"deploy-panel-close-button"})]}),t.jsx("div",{className:"flex flex-col flex-1 h-full gap-4 p-4 sm:p-5 overflow-y-auto",children:q&&t.jsx(Gx,{platform:"ios",jobId:s||"",tabId:r,onStartNewBuild:()=>m.setIsAppleDeveloperModalOpen(!0),onRedeploy:Ke,onShareLogs:i,isAgentSleeping:o||l==="sleeping",buildData:q,onClose:$.bind(null,"main")})})]}):u&&G==="android-builds"?t.jsxs(t.Fragment,{children:[t.jsx(zx,{deployStatus:ee,latestRunningStatus:J||"not_deployed",onBackClick:Y,onClose:n,title:"Android Builds",icon:t.jsx(bI,{className:"ml-2"}),showBackButton:!0,showCloseButton:!0}),t.jsx("div",{className:"flex flex-col flex-1 h-full gap-4 p-4 sm:p-5 overflow-y-auto",children:Q&&t.jsx(Gx,{platform:"android",jobId:s||"",tabId:r,onStartNewBuild:()=>m.setIsAndroidBuildModalOpen(!0),onRedeploy:Ke,onShareLogs:i,isAgentSleeping:o||l==="sleeping",buildData:Q,onClose:$.bind(null,"main")})})]}):u&&G==="ios-builds"?t.jsxs(t.Fragment,{children:[t.jsx(zx,{deployStatus:ee,latestRunningStatus:J||"not_deployed",onBackClick:W,onClose:n,title:"iOS Builds",icon:t.jsx(yI,{className:"ml-2"}),showBackButton:!0,showCloseButton:!0}),t.jsx("div",{className:"flex flex-col flex-1 h-full gap-4 p-4 sm:p-5 overflow-y-auto",children:q&&t.jsx(Gx,{platform:"ios",jobId:s||"",tabId:r,onStartNewBuild:()=>m.setIsAppleDeveloperModalOpen(!0),onRedeploy:Ke,onShareLogs:i,isAgentSleeping:o||l==="sleeping",buildData:q,onClose:$.bind(null,"main")})})]}):lt?t.jsxs(t.Fragment,{children:[t.jsx(zx,{deployStatus:ee,latestRunningStatus:J||"not_deployed",onClose:n,icon:t.jsx("img",{src:XA,alt:"Deploy",className:"w-5 h-5 md:w-6 md:h-6"}),showCloseButton:!0}),t.jsx("div",{className:"flex items-center justify-center py-12 flex-1",children:t.jsx("img",{src:Jx,alt:"Loading...",className:"w-8 h-8"})})]}):Is?t.jsxs(t.Fragment,{children:[t.jsx(jy,{onClose:n}),t.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:t.jsx(eNe,{jobId:s,appName:nt,deployData:Ae,envs:Te,deploymentHistory:Fe,runId:_e,deployStatus:ee,isLoading:re,podIsPaused:o,previewUrl:p,iosBuildData:q?{successfulBuilds:q.successfulBuilds,isBuilding:q.isBuilding,latestBuild:q.latestBuild}:void 0,androidBuildData:Q?{successfulBuilds:Q.successfulBuilds,isBuilding:Q.isBuilding,latestBuild:Q.latestBuild}:void 0,shouldShowEnvSection:Ls,shouldShowResourcesCard:_n,deploymentState:{envSyncedWithProduction:h.envSyncedWithProduction,setEnvSyncedWithProduction:h.setEnvSyncedWithProduction},onFixWithAgent:Mt,handleTierChange:mt,handleViewLogs:Ht,handleRollbackClick:In,saveEnvironmentVariables:Bt,updateEnvironmentVariables:_t,onAndroidBuildsClick:Z,onIOSBuildsClick:le,onRunHealthCheck:a,onRedeploy:()=>m.setIsRedeployModalOpen(!0),onShutdown:()=>m.setIsShutdownModalOpen(!0),isDeploying:Se,isMoltbot:f})})]}):Tn?t.jsxs(t.Fragment,{children:[t.jsx(jy,{onClose:n}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx(Zje,{jobId:s,previewUrl:p,deployUrl:se,customDomain:tt,deployData:Ae,envs:Te,deploymentHistory:Fe,runId:_e,deployStatus:ee,isLoading:re,podIsPaused:o,isCustomDomainLoading:xt,registerDomain:St,verifyDomain:It,unlinkDomain:kt,refetchCustomDomain:Ot,fetchDnsRecordsOnly:Ie,customDomainHandlers:We,shouldShowCustomDomainSection:gt,shouldShowEnvSection:Ls,shouldShowResourcesCard:_n,deploymentState:{envSyncedWithProduction:h.envSyncedWithProduction,setEnvSyncedWithProduction:h.setEnvSyncedWithProduction},onFixWithAgent:Mt,handleTierChange:mt,handleViewLogs:Ht,handleRollbackClick:In,saveEnvironmentVariables:Bt,updateEnvironmentVariables:_t,modalState:{setIsManualDomainLinkModalOpen:m.setIsManualDomainLinkModalOpen,setIsRedeployModalOpen:m.setIsRedeployModalOpen,setIsShutdownModalOpen:m.setIsShutdownModalOpen},isMoltbot:f}),t.jsx(Nje,{hasUndeployedChanges:!h.envSyncedWithProduction,hasSecretsChanges:!h.envSyncedWithProduction,onRunHealthCheck:a,onRedeploy:()=>m.setIsRedeployModalOpen(!0),onShutdown:()=>m.setIsShutdownModalOpen(!0),isLoading:re,isDeploying:Se,podIsPaused:o})]})]}):$t?t.jsxs(t.Fragment,{children:[t.jsx(jy,{onClose:n}),t.jsx("div",{className:"flex items-center justify-center py-12 flex-1",children:t.jsx("img",{src:Jx,alt:"Loading...",className:"w-8 h-8"})})]}):t.jsxs(t.Fragment,{children:[t.jsx(zx,{deployStatus:ee,latestRunningStatus:J||"not_deployed",onClose:n,icon:t.jsx("img",{src:XA,alt:"Deploy",className:"w-5 h-5 md:w-6 md:h-6"}),showCloseButton:!0}),t.jsxs("div",{className:"flex flex-col flex-1 h-full gap-5 p-5 overflow-y-auto",children:[ee==="not_deployed"&&!re&&(A||Ze)&&t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("img",{src:Jx,alt:"Loading...",className:"w-8 h-8"})}),ee==="not_deployed"&&!re&&!A&&!Ze&&t.jsxs(t.Fragment,{children:[F===!0&&Zn?t.jsx(a_e,{availableDeployments:ft.filter(nn=>nn.id!==s),selectedDeployment:h.selectedReplacement,podIsPaused:o,onReplaceClick:As,onChangeAppClick:tr,onNewDeploymentClick:yn,jobId:s,newDeploymentCredits:f?ox:y}):t.jsx(ICe,{onDeployClick:yn,loading:re,localLoading:Se,podIsPaused:o,isExpoImage:u,creditsPerMonth:f?ox:y}),t.jsx(HA,{onRunHealthCheck:a}),_n&&P&&t.jsx(zA,{tierInfo:Ae?.tier_info,tierChangeRefund:Ae?.tier_change_refund,deductedAmount:Ae?.deducted_amount,estimatedRefund:Ae?.estimated_refund,deductionDate:Ae?.deduction_date,onTierChange:mt,isMoltbot:f})]}),Zn&&F===!1&&t.jsx(s_e,{availableDeployments:ft,podIsPaused:o,onReplaceClick:()=>m.setIsReplaceModalOpen(!0),jobId:s}),(ee==="running"||J==="running")&&t.jsx(DCe,{deploymentSteps:xe,currentStepIndex:ae,deployStatus:ee,latestRunStatus:J,stepNameMap:mFe,runningStepNameMap:hFe}),$s&&t.jsxs(t.Fragment,{children:[Fe.some(nn=>nn.status==="success")&&u&&q&&Q&&t.jsx(e_e,{deploymentHistory:Fe.map(nn=>({id:nn.run_id||nn.id,status:nn.status,updated_at:nn.updated_at,rollback_possible:nn.rollback_possible})),appName:nt,previewUrl:p,onAndroidBuildsClick:Z,onIOSBuildsClick:le,iosBuildData:{successfulBuilds:q.successfulBuilds,isBuilding:q.isBuilding,latestBuild:q.latestBuild},androidBuildData:Q?{successfulBuilds:Q.successfulBuilds,isBuilding:Q.isBuilding,latestBuild:Q.latestBuild}:void 0}),t.jsx(u_e,{deploymentHistory:Fe.map(nn=>({id:nn.run_id||nn.id,status:nn.status,updated_at:nn.updated_at,rollback_possible:nn.rollback_possible})),jobId:s||"",handleDeploy:wn,runId:_e,deployUrl:se,podIsPaused:o,customDomain:tt,latestRunStatus:J,onRollbackClick:In,formatTimeAgo:zh,handleLogsClick:At,handleLiveLogsClick:Cn,handleFixWithAgent:Mt,isExpoImage:u,appName:nt}),t.jsx(HA,{onRunHealthCheck:a}),_n&&P&&t.jsx(zA,{tierInfo:Ae?.tier_info,tierChangeRefund:Ae?.tier_change_refund,deductedAmount:Ae?.deducted_amount,estimatedRefund:Ae?.estimated_refund,deductionDate:Ae?.deduction_date,onTierChange:mt,isMoltbot:f}),B&&t.jsx(xNe,{})]}),gt&&t.jsx("div",{ref:S,children:t.jsx(pNe,{jobId:s,loading:re||xt,customDomain:tt,registerDomain:St,verifyDomain:It,onOpenManualLinkModal:()=>m.setIsManualDomainLinkModalOpen(!0),onOpenManualLinkModalWithRecords:(nn,Ue)=>{We?.setManualLinkDnsRecords(nn),We?.setManualLinkDomain(Ue),m.setIsManualDomainLinkModalOpen(!0)},onUnlinkDomain:We?.handleOpenUnlinkDomainModal||(()=>{}),unlinkDomainDirect:kt,refetchCustomDomain:Ot,fetchDnsRecordsOnly:Ie,shouldExpandForm:_,onFormExpanded:()=>N(!1),isHighlighted:j,onHighlightComplete:()=>C(!1),onOpenSwitchDomainModal:(nn,Ue,Nt,bn)=>{We?.openSwitchDomainModal(nn,Ue,Nt,bn)}})}),Ls&&t.jsx(fe.div,{className:"",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:t.jsx(oNe,{envs:Te,onSyncStatusChange:h.setEnvSyncedWithProduction,saveEnvironmentVariables:Bt,deployStatus:ee,jobId:s,updateEnvironmentVariables:_t})},"env-variables-section")]})]}),t.jsx(jNe,{isOpen:m.isDeployModalOpen,onClose:()=>m.setIsDeployModalOpen(!1),onDeploy:Ee,loading:re,localLoading:Se,containsStripeKey:h.containsStripeKey,termsSelected:h.termsSelected,onStripeKeyUpdate:Ge,onTermsSelectedChange:h.setTermsSelected,isDeployDisabled:Qt(),jobId:s,onKnowMoreClick:()=>m.setIsCreditsInfoModalOpen(!0),useProRataRefunds:L,creditsPerMonth:f?ox:y}),t.jsx(I3,{isOpen:m.isCreditsInfoModalOpen,onClose:()=>m.setIsCreditsInfoModalOpen(!1),creditsPerMonth:f?ox:y,creditsPerDay:f?gie:w}),t.jsx(qz,{isOpen:m.isBuildLogsModalOpen,onClose:()=>m.setIsBuildLogsModalOpen(!1),onShareLogs:nn=>{i&&i(nn)},jobId:s,deployStatus:ee,deployLogs:ge?.live_logs?.length?ge.live_logs:Ne?Object.entries(Ne).flatMap(([nn,Ue])=>Ue?Ue.map(Nt=>`[${nn.toUpperCase()}] ${Nt}`):[]):[]}),t.jsx(JNe,{isOpen:m.isRollbackModalOpen,onClose:()=>m.setIsRollbackModalOpen(!1),deploymentHistory:Fe,runId:_e,rollbackTargetId:h.rollbackTargetId,jobId:s,deployUrl:se,customDomain:tt,latestRunStatus:J,isLoading:re,isDeploying:Se,podIsPaused:o,rollbackWithApi:qe,refetch:we}),t.jsx(ENe,{isOpen:m.isRedeployModalOpen,onClose:()=>m.setIsRedeployModalOpen(!1),onRedeploy:Ke,deploymentHistory:Fe,deployUrl:se,latestRunStatus:J,jobId:s,loading:re,localLoading:Se,containsStripeKey:h.containsStripeKey,termsSelected:h.termsSelected,onStripeKeyUpdate:Ge,onTermsSelectedChange:h.setTermsSelected,isRedeployDisabled:Qt()}),L?t.jsx(ANe,{isOpen:m.isShutdownModalOpen,onClose:()=>m.setIsShutdownModalOpen(!1),onShutdown:dt,loading:re||Se,jobId:s,deductionDate:Ae?.deduction_date,deductedAmount:Ae?.deducted_amount,estimatedRefund:Ae?.estimated_refund}):t.jsx(SNe,{isOpen:m.isShutdownModalOpen,onClose:()=>m.setIsShutdownModalOpen(!1),onShutdown:dt,loading:re||Se,jobId:s}),F===!0&&t.jsxs(t.Fragment,{children:[t.jsx(GNe,{isOpen:m.isReplaceModalOpen,onClose:()=>m.setIsReplaceModalOpen(!1),onSelectReplacement:us,deployments:ft.filter(nn=>nn.id!==s),loading:Tt,selectedDeployment:h.selectedReplacement}),t.jsx(ZNe,{isOpen:m.isReplaceConfirmModalOpen,onClose:()=>m.setIsReplaceConfirmModalOpen(!1),onConfirmReplace:dn,selectedDeployment:h.selectedReplacement,newAppName:Ae?.app_name,loading:re||Se})]}),F===!1&&t.jsxs(t.Fragment,{children:[t.jsx(LNe,{isOpen:m.isReplaceModalOpen,onClose:()=>m.setIsReplaceModalOpen(!1),onSelectReplacement:nn=>{us(nn),m.setIsReplaceConfirmModalOpen(!0)},deployments:ft.filter(nn=>nn.id!==s),loading:Tt,hoveredCard:h.replaceHoveredCard,onHoverStart:h.setReplaceHoveredCard,onHoverEnd:()=>h.setReplaceHoveredCard(null),onDeploymentClick:Pn}),t.jsx($Ne,{isOpen:m.isReplaceConfirmModalOpen,onClose:()=>m.setIsReplaceConfirmModalOpen(!1),onGoBack:Kt,onConfirmReplace:dn,selectedDeployment:h.selectedReplacement,loading:re||Se,hoveredCard:h.replaceHoveredCard,onHoverStart:h.setReplaceHoveredCard,onHoverEnd:()=>h.setReplaceHoveredCard(null),onDeploymentClick:Pn})]}),!u&&t.jsxs(t.Fragment,{children:[t.jsx(tFe,{isOpen:m.isUnlinkDomainModalOpen,onClose:()=>{H("custom_domain_unlink_canceled",{jobId:s,domain:h.domainToUnlink}),m.setIsUnlinkDomainModalOpen(!1)},domainToUnlink:h.domainToUnlink,onConfirm:We?.confirmUnlinkDomain||(async()=>{}),isLoading:We?.isUnlinking||!1,isDeploying:Se}),t.jsx(XNe,{isOpen:m.isManualDomainLinkModalOpen,onClose:We?.handleManualLinkClose||(async()=>{}),onConfirm:We?.handleManualLinkConfirm||(async()=>{}),dns_records:(We?.manualLinkDnsRecords?.length??0)>0?We?.manualLinkDnsRecords||[]:tt?.dns_records||[],domain:We?.manualLinkDomain||tt?.domain||"",loading:re||xt,jobId:s}),I===!0&&!u?t.jsx(eFe,{isOpen:m.isSwitchDomainModalOpen,onClose:()=>m.setIsSwitchDomainModalOpen(!1),domain:We?.domainToSwitchRef.current||"",sourceAppName:We?.linkedAppNameRef.current||"",targetAppName:nt,linkedJobId:We?.linkedJobIdRef.current||"",handleJobClick:c,handleSwitchDomainClick:We?.handleSwitchDomainClickRef.current||(async()=>{}),jobId:s}):t.jsx(QNe,{isOpen:m.isSwitchDomainModalOpen,onClose:()=>m.setIsSwitchDomainModalOpen(!1),domain:We?.domainToSwitchRef.current||"",sourceAppName:We?.linkedAppNameRef.current||"",targetAppName:nt,linkedJobId:We?.linkedJobIdRef.current||"",handleJobClick:c,handleSwitchDomainClick:We?.handleSwitchDomainClickRef.current||(async()=>{}),jobId:s})]}),u&&Lt&&t.jsx(oFe,{isOpen:m.isAppleDeveloperModalOpen,onClose:()=>{m.setIsAppleDeveloperModalOpen(!1),Lt.reset()},onCredentialsSubmit:Lt.handleCredentialsSubmit,onBuildDetailsContinue:Lt.handleBuildDetailsContinue,onAuthMethodContinue:Lt.handleAuthMethodContinue,onOTPSubmit:Lt.handleOTPSubmit,onTriggerBuild:Lt.handleTriggerBuild,onResendOTP:Lt.handleResendOTP,isLoading:Lt.isSubmitting,error:Lt.error,bundleIdentifier:Lt.bundleIdentifier,jobId:s||"",onClearError:Lt.clearError,successfulBuildsCount:q?.successfulBuilds?.length??0}),u&&pt&&t.jsx(R_e,{isOpen:m.isAndroidBuildModalOpen,onClose:()=>{m.setIsAndroidBuildModalOpen(!1),pt.clearError()},onBuildSubmit:pt.handleBuildSubmit,isLoading:pt.isSubmitting,error:pt.error,jobId:s||"",onClearError:pt.clearError,packageName:pt.packageName,successfulBuildsCount:Q?.successfulBuilds?.length??0}),ys&&G==="main"&&t.jsxs("div",{className:"absolute bottom-0 md:min-h-[96px] md:max-h-[96px] left-0 right-0 bg-[#111112] border-t border-[#242424] md:px-8 p-3 md:py-9 flex items-center justify-start w-full",style:{paddingBottom:"max(12px, env(safe-area-inset-bottom, 12px))"},children:[t.jsx("img",{src:Jx,alt:"Deploy Time",className:"w-6 h-6 mr-2 grayscale"}),t.jsxs("span",{className:"text-[#FFFFFF] text-[14px] md:text-[16px] opacity-50",children:["Deployment started ",ut," ago..."]})]}),zn&&G==="main"&&!Is&&!Tn&&t.jsxs(zCe,{className:"absolute bottom-0 left-0 right-0 flex items-center justify-between w-full",showEnvWarning:!h.envSyncedWithProduction,children:[t.jsxs("div",{className:"items-center gap-3 text-[#737780] hidden md:flex text-sm md:max-w-[250px] font-medium",children:[t.jsx("img",{src:xFe,alt:"Deploy Time",className:"w-8 h-8"}),t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:"Deployment usually takes around 5-7 mins."})]}),t.jsx(OCe,{isLoading:re,isDeploying:Se,podIsPaused:o,latestSuccessfulDeployment:ps,onShutdown:()=>m.setIsShutdownModalOpen(!0),onRedeploy:()=>m.setIsRedeployModalOpen(!0),onDeploy:yn,jobId:s,isBuildRunning:q?.isBuilding})]})]})})};function bFe(e={}){const{jobId:n,containerId:s,agentName:r,modelName:i,organizationId:a,createdBy:o,onFocusChange:l,onFocusLost:c,onFocusGained:u,enabled:p=!0}=e,[f,m]=d.useState(()=>typeof window<"u"?document.hasFocus():!0),[h,x]=d.useState(()=>typeof document<"u"?document.visibilityState==="visible":!0),g=f&&h,v=d.useRef(g),b=d.useCallback(()=>({jobId:n,containerId:s,agentName:r,modelName:i,organizationId:a,createdBy:o,timestamp:new Date().toISOString()}),[n,s,r,i,a,o]);return d.useEffect(()=>{if(!p||g===v.current)return;const y=b(),w={jobId:y.jobId,containerId:y.containerId,agentName:y.agentName,modelName:y.modelName,organizationId:y.organizationId,createdBy:y.createdBy,sessionTimestamp:y.timestamp,windowFocused:f,documentVisible:h};IF("focus_changed",{...w,focusState:g?"gained":"lost",previousFocusState:v.current}),IF(g?"focus_gained":"focus_lost",w),l?.(g,y),g?u?.(y):c?.(y),v.current=g},[g,p,l,u,c,b,f,h]),d.useEffect(()=>{if(!p||typeof window>"u")return;const y=()=>m(!0),w=()=>m(!1),_=()=>x(document.visibilityState==="visible");return window.addEventListener("focus",y),window.addEventListener("blur",w),document.addEventListener("visibilitychange",_),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",w),document.removeEventListener("visibilitychange",_)}},[p]),{isFocused:g,isWindowFocused:f,isDocumentVisible:h}}const yFe=e=>e.function_name?.includes("bulk_file")||e.function_name?.includes("replace")||e.function_name?.includes("create_file")||e.function_name?.includes("apply_patch")||e.action==="finish",vFe=e=>e?.action?.includes?.("supervisorctl")??!1,wFe=e=>e?.expertise_type?.includes?.("testing")??!1,CFe=e=>e?.function_name==="screenshot_tool",_Fe=e=>e?e.function_name?.includes("bulk_file")||e.function_name?.includes("create_file")||e.function_name?.includes("apply_patch")||e.function_name==="screenshot_tool"||e.action==="finish":!1,jFe=(e,n)=>{const{isDesktop:s,isMobile:r,isVisualEditChangesFlagEnabled:i,enableVisualEditFromJob:a}=n;return s&&!r&&i&&a&&e?.action==="finish"},NFe=(e,n)=>{const s=e.filter(c=>c.role==="assistant"),r=s.some(yFe),i=s.some(vFe),a=s.some(wFe),o=s.some(CFe);return{shouldEnablePreview:r||!!n||i||a||o,bulkWriteExists:r,supervisorRestarted:i,testingSubagentExists:a,screenshotToolUsed:o}};function FFe({user:e,jobDetails:n,tier:s,aiMessages:r,enabled:i=!0}){d.useEffect(()=>{!i||!e?.id||fae(e.id)},[e?.id,i]),d.useEffect(()=>{if(!i||!r.length||!e?.id)return;const a=r[r.length-1];if(!a)return;const o={user_id:e.id,user_email:e.email,job_id:n?.job_id,user_id_ends:e?.id?.slice(-1),tier:s};(a.function_name==="default_tool"||a.function_name==="ask_human")&&h1(m1.ASK_HUMAN,o),(a.action?.includes("bulk_file")||a.function_name?.includes("bulk_file"))&&h1(m1.BULK_WRITE,o),a.action==="finish"&&h1(m1.FINISH_TOOL,o),a.action==="deployment_initiated"&&h1(m1.DEPLOYMENT_INITIATED,o)},[r,e,n,s,i])}function EFe({size:e=16,color:n="black",strokeWidth:s=1.33333,className:r=""}){return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("path",{d:"M13.332 2H2.66536C1.92898 2 1.33203 2.59695 1.33203 3.33333V10C1.33203 10.7364 1.92898 11.3333 2.66536 11.3333H13.332C14.0684 11.3333 14.6654 10.7364 14.6654 10V3.33333C14.6654 2.59695 14.0684 2 13.332 2Z",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M5.33203 14H10.6654",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 11.3359V14.0026",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"})]})}function SFe({size:e=16,color:n="white",strokeWidth:s=1.33333,className:r=""}){return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("path",{d:"M11.332 1.33594H4.66536C3.92898 1.33594 3.33203 1.93289 3.33203 2.66927V13.3359C3.33203 14.0723 3.92898 14.6693 4.66536 14.6693H11.332C12.0684 14.6693 12.6654 14.0723 12.6654 13.3359V2.66927C12.6654 1.93289 12.0684 1.33594 11.332 1.33594Z",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 12H8.00667",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"})]})}const zC=({width:e=16,height:n=16,fill:s="currentColor",className:r})=>t.jsx("svg",{width:e,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:t.jsx("path",{d:"M12.7988 1.59766C14.1242 1.59766 15.199 2.67274 15.1992 3.99805V11.998C15.1992 13.3235 14.1243 14.3984 12.7988 14.3984H3.19922C1.87383 14.3983 0.798828 13.3235 0.798828 11.998V3.99805C0.799039 2.67281 1.87396 1.59776 3.19922 1.59766H12.7988ZM2.39941 11.998C2.39941 12.4398 2.75748 12.7977 3.19922 12.7979H12.7988C13.2407 12.7979 13.5986 12.4399 13.5986 11.998V6.39844H2.39941V11.998ZM3.2002 3.20117C2.75837 3.20117 2.40039 3.55915 2.40039 4.00098C2.4005 4.44271 2.75843 4.80078 3.2002 4.80078C3.64169 4.80046 3.99989 4.44252 4 4.00098C4 3.55934 3.64175 3.20149 3.2002 3.20117ZM5.59961 3.20117C5.15796 3.20138 4.7998 3.55928 4.7998 4.00098C4.79991 4.44258 5.15803 4.80057 5.59961 4.80078C6.04119 4.80057 6.40028 4.44258 6.40039 4.00098C6.40039 3.55928 6.04126 3.20138 5.59961 3.20117ZM8 3.20117C7.55817 3.20117 7.2002 3.55915 7.2002 4.00098C7.2003 4.44271 7.55824 4.80078 8 4.80078C8.44158 4.80057 8.7997 4.44258 8.7998 4.00098C8.7998 3.55928 8.44165 3.20138 8 3.20117Z",fill:s})}),kFe=({size:e=16,opacity:n=.4,className:s})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("g",{opacity:n,children:t.jsx("path",{d:"M7.37945 14.3834C7.37945 12.2441 6.90638 10.8458 6.03228 9.97163C5.15815 9.0975 3.75985 8.62445 1.62055 8.62445C1.27776 8.62445 1.00002 8.34669 1 8.00391C1 7.704 1.2126 7.45402 1.49538 7.39609L1.62055 7.38336L2.01303 7.37805C3.93264 7.32295 5.21278 6.85568 6.03228 6.03618C6.9064 5.16206 7.37945 3.76376 7.37945 1.62445C7.37945 1.28165 7.6572 1.00391 8 1.00391C8.34278 1.00394 8.62055 1.28167 8.62055 1.62445C8.62055 3.76376 9.09359 5.16206 9.96772 6.03618C10.8419 6.91028 12.2401 7.38336 14.3795 7.38336C14.7222 7.38338 15 7.66111 15 8.00391C15 8.34668 14.7222 8.62444 14.3795 8.62445C12.2401 8.62445 10.8419 9.09751 9.96772 9.97163C9.14821 10.7911 8.68095 12.0712 8.62585 13.9909L8.62055 14.3834L8.60782 14.5085C8.54988 14.7913 8.29987 15.0039 8 15.0039C7.65722 15.0039 7.37949 14.7261 7.37945 14.3834ZM7.99894 5.26925C7.73172 5.90008 7.37432 6.45077 6.91059 6.9145C6.44687 7.37823 5.89617 7.73562 5.26534 8.00285C5.89648 8.2701 6.44669 8.6294 6.91059 9.09331C7.37409 9.55683 7.73176 10.107 7.99894 10.7375C8.26616 10.1067 8.62571 9.55701 9.08941 9.09331C9.55311 8.62961 10.1028 8.27006 10.7336 8.00285C10.1031 7.73567 9.55292 7.378 9.08941 6.9145C8.6255 6.45059 8.26619 5.90039 7.99894 5.26925Z",fill:"white"})})}),IFe=({width:e=39,height:n=16,color:s="#9E99FF",className:r})=>t.jsxs("svg",{width:e,height:n,viewBox:"0 0 39 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("g",{clipPath:"url(#clip0_7757_77949)",children:t.jsx("path",{d:"M38.2804 8.23028C38.2804 5.50811 36.9618 3.36015 34.4417 3.36015C31.9109 3.36015 30.3797 5.50819 30.3797 8.20905C30.3797 11.4096 32.1874 13.0259 34.7819 13.0259C36.0473 13.0259 37.0043 12.7388 37.7274 12.3348V10.2081C37.0044 10.5696 36.175 10.793 35.1222 10.793C34.0908 10.793 33.1763 10.4314 33.0594 9.17667H38.2591C38.2591 9.03835 38.2804 8.48546 38.2804 8.23028ZM33.0274 7.22011C33.0274 6.01854 33.7612 5.51873 34.4311 5.51873C35.0797 5.51873 35.7709 6.01854 35.7709 7.22011H33.0274ZM26.2753 3.36015C25.2331 3.36015 24.5632 3.84927 24.1911 4.18961L24.0528 3.53032H21.7135V15.9288L24.3718 15.3653L24.3825 12.356C24.7653 12.6325 25.3288 13.0259 26.2646 13.0259C28.168 13.0259 29.9012 11.4947 29.9012 8.12396C29.8906 5.04022 28.1361 3.36015 26.2752 3.36015M25.6372 10.6866C25.0098 10.6866 24.6375 10.4633 24.3824 10.1868L24.3717 6.24179C24.6482 5.93346 25.031 5.72082 25.6372 5.72082C26.6048 5.72082 27.2747 6.80538 27.2747 8.19835C27.2747 9.62325 26.6154 10.6866 25.6372 10.6866ZM18.0555 2.73278L20.7246 2.15858V0L18.0555 0.563589V2.73278ZM18.0555 3.54093H20.7246V12.8452H18.0555V3.54093ZM15.1952 4.32778L15.025 3.54093H12.7282V12.8452H15.3866V6.53959C16.0139 5.72082 17.0773 5.86968 17.407 5.98662V3.54093C17.0667 3.41331 15.8226 3.17936 15.1952 4.32778ZM9.87843 1.2335L7.28389 1.78639L7.27327 10.3038C7.27327 11.8776 8.45361 13.0366 10.0274 13.0366C10.8993 13.0366 11.5373 12.8771 11.8881 12.6857V10.5271C11.548 10.6653 9.86781 11.1545 9.86781 9.58071V5.80583H11.8881V3.54093H9.86781L9.87843 1.2335ZM2.69024 6.24179C2.69024 5.82714 3.0305 5.66759 3.59417 5.66759C4.40224 5.66759 5.42303 5.91222 6.23118 6.34819V3.84927C5.34864 3.49839 4.47671 3.36015 3.59417 3.36015C1.43551 3.36015 0 4.48733 0 6.3695C0 9.30422 4.04067 8.83641 4.04067 10.1018C4.04067 10.5909 3.6154 10.7504 3.01989 10.7504C2.13735 10.7504 1.01017 10.3889 0.116935 9.89974V12.4305C1.10587 12.8558 2.10542 13.0366 3.01989 13.0366C5.23163 13.0366 6.75222 11.9414 6.75222 10.038C6.74161 6.86923 2.69024 7.43275 2.69024 6.24179Z",fill:s})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_7757_77949",children:t.jsx("rect",{width:"38.2804",height:"16",fill:"white"})})})]}),TFe=({width:e=16,height:n=16,color:s="#635BFF",backgroundColor:r="white",className:i})=>t.jsxs("svg",{width:e,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:[t.jsxs("g",{clipPath:"url(#clip0_7757_77947)",children:[t.jsx("rect",{width:"16",height:"16",rx:"2",fill:r}),t.jsx("path",{d:"M2 0C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2L0 14C0 14.5304 0.210714 15.0391 0.585786 15.4142C0.960859 15.7893 1.46957 16 2 16H14C14.5304 16 15.0391 15.7893 15.4142 15.4142C15.7893 15.0391 16 14.5304 16 14V2C16 1.46957 15.7893 0.960859 15.4142 0.585786C15.0391 0.210714 14.5304 0 14 0L2 0ZM8.226 5.385C7.642 5.385 7.289 5.549 7.289 5.978C7.289 6.446 7.896 6.652 8.649 6.908C9.877 7.323 11.493 7.871 11.5 9.901C11.5 11.868 9.924 13 7.63 13C6.59512 12.9957 5.57174 12.7828 4.621 12.374V9.758C5.547 10.264 6.716 10.638 7.631 10.638C8.248 10.638 8.689 10.473 8.689 9.967C8.689 9.449 8.031 9.212 7.236 8.926C6.026 8.49 4.5 7.94 4.5 6.11C4.5 4.165 5.988 3 8.226 3C9.16127 2.99163 10.0894 3.16308 10.96 3.505V6.088C10.122 5.638 9.064 5.385 8.226 5.385Z",fill:s})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_7757_77947",children:t.jsx("rect",{width:"16",height:"16",rx:"2",fill:"white"})})})]}),gW=({highlights:e})=>e&&(e.auth_prebuilt||e.stripe_enabled||e.ai_integrated)?t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(kFe,{}),t.jsx("span",{className:"text-[14px] font-medium",children:"Highlights"})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[e.auth_prebuilt&&t.jsxs("div",{className:"bg-[#80FFF91A] border w-fit border-[#80FFF91F] px-[10px] py-[6px] flex items-center rounded-[8px] gap-1",children:[t.jsx(za,{size:16,opacity:1,color:"#80FFF9"}),t.jsx("span",{className:"text-[#80FFF9] font-inter text-[14px]",children:"Auth pre-built"})]}),e.stripe_enabled&&t.jsxs("div",{className:"bg-[#635BFF1A] border w-fit border-[#9E99FF1F] px-[10px] py-[6px] flex items-center rounded-[8px] gap-1",children:[t.jsx(TFe,{}),t.jsx(IFe,{}),t.jsx("span",{className:"text-[#9E99FF] font-inter text-[14px]",children:"enabled"})]}),e.ai_integrated&&t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("div",{className:"w-fit px-[10px] py-[6px] flex items-center rounded-[8px] gap-2",children:[t.jsx("img",{src:K.showcase.aiIncluded,alt:"AI Included Icons"}),t.jsx("img",{src:K.showcase.aiIncludedText,alt:"AI Included Text"})]})})]})]}):null,AFe=e=>{if(!e)return"No description available";if(e.startsWith("<analysis>")){const n=e.match(/<analysis>([\s\S]*?)<\/analysis>/);return n?n[1].trim():e}return e},DFe=({isOpen:e,onOpenChange:n,showcaseDetails:s})=>t.jsx(Fa,{trigger:t.jsx("div",{}),open:e,onOpenChange:n,maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"",handleColor:"bg-[#fff]/10",children:t.jsxs("div",{className:"max-h-[70vh] pb-4 overflow-y-auto bg-[#111112] rounded-t-[24px]",children:[t.jsxs("div",{className:"flex items-center sticky z-[100] top-0 justify-center w-full py-4 border-b border-[#242424] bg-[#111112]",children:[t.jsx("span",{className:"font-medium text-[18px]",children:"Template Info"}),t.jsx("button",{type:"button",title:"Close",onClick:()=>n(!1),className:"absolute flex items-center justify-center w-8 h-8 p-1 rounded-full top-3 right-4 bg-white/5 hover:bg-white/10",children:t.jsx(Ft,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex flex-col p-4 gap-7",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"text-[14px] font-semibold font-inter",children:"Description"}),t.jsx("span",{className:"text-[#FFFFFF]/40 font-inter text-[14px] font-medium leading-relaxed",children:AFe(s?.details?.description)})]}),s?.details?.pages_included&&s.details.pages_included.length>0&&t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(zC,{}),t.jsx("span",{className:"text-[14px] font-medium",children:"Pages included"})]}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:s.details.pages_included.map((r,i)=>t.jsx("div",{className:"bg-[#18181A] px-3 py-1 rounded-[8px] font-inter font-medium text-[14px] text-white/40 border border-[#FFFFFF0F]",children:r},i))})]}),t.jsx(gW,{highlights:s?.details?.highlights})]})]})});function MFe({width:e=20,height:n=20,className:s="",fill:r="#A1A1B3",hoverColor:i,isHovered:a}){const[o,l]=d.useState(!1),u=(a!==void 0?a:o)&&i?i:r;return t.jsx("svg",{width:e,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,onMouseEnter:()=>i&&l(!0),onMouseLeave:()=>i&&l(!1),style:{transition:"fill 0.2s ease"},children:t.jsx("path",{d:"M6.43188 5.13649C6.43193 4.83302 6.5525 4.54199 6.76709 4.3274C6.98168 4.11281 7.27271 3.99223 7.57619 3.99219L14.8596 3.99219C15.1631 3.99223 15.4541 4.11281 15.6687 4.3274C15.8833 4.54199 16.0039 4.83302 16.0039 5.13649V12.4199C15.9987 12.72 15.8758 13.0059 15.6618 13.2163C15.4478 13.4266 15.1597 13.5445 14.8596 13.5445C14.5595 13.5445 14.2714 13.4266 14.0574 13.2163C13.8434 13.0059 13.7205 12.72 13.7153 12.4199L13.6457 7.96893L5.95765 15.657C5.74302 15.8716 5.45192 15.9922 5.14838 15.9922C4.84485 15.9922 4.55375 15.8716 4.33912 15.657C4.12448 15.4423 4.00391 15.1512 4.00391 14.8477C4.00391 14.5442 4.12448 14.2531 4.33912 14.0384L12.0272 6.35039L7.57619 6.2808C7.27271 6.28075 6.98168 6.16018 6.76709 5.94559C6.5525 5.731 6.43193 5.43997 6.43188 5.13649Z",fill:u,style:{transition:"fill 0.2s ease"}})})}const RFe=K.common.send,bW=d.memo(({agentStatus:e,rollbackStatus:n,text:s})=>t.jsxs("div",{className:"mt-4",children:[e&&t.jsxs(t.Fragment,{children:[t.jsx(r5,{text:s}),t.jsx("div",{className:"h-32"})]}),n==="FAILED"?t.jsx(Bve,{}):null]}));bW.displayName="AgentFooter";const LFe=e=>{if(!e)return"No description available";if(e.startsWith("<analysis>")){const n=e.match(/<analysis>([\s\S]*?)<\/analysis>/);return n?n[1].trim():e}return e},QA=(e,n)=>{if(!n?.content||e.length===0)return!1;const s=e.findLastIndex(i=>i.human_message),r=n.timestamp?new Date(n.timestamp).getTime():NaN;return e.some((i,a)=>{if(i.human_message!==n.content)return!1;const o=i.timestamp?new Date(i.timestamp).getTime():NaN;return!Number.isNaN(o)&&!Number.isNaN(r)?o>r:!i.timestamp&&a===s})},PFe=(e,n)=>{if(!e||!n)return e===n;if(e.length!==n.length)return!1;if(e.length===0&&n.length===0)return!0;const s=e[0],r=n[0];if(s?.request_id!==r?.request_id)return!1;const i=e[e.length-1],a=n[n.length-1];if(!i||!a)return e.length===n.length;if(i.request_id!==a.request_id||i.step!==a.step||i.action!==a.action)return!1;const o=i.subagent_trajectory?.length||0,l=a.subagent_trajectory?.length||0;return!(o!==l||i.subagent_status!==a.subagent_status||i.fork_status!==a.fork_status||i.forked_job_id!==a.forked_job_id)},OFe={isInitialized:!1,isJobPolling:!1,jobDetails:void 0,trajectory:[],lastProcessedStep:-1,taskState:null},BFe=(e,n)=>!e||!n?e===n:e.agent_running===n.agent_running&&e.job_running===n.job_running&&e.agent_status_new===n.agent_status_new&&e.chat_mode===n.chat_mode&&e.pod_state_display===n.pod_state_display&&e.pod_state_hitl===n.pod_state_hitl&&e.show_upgrade===n.show_upgrade,Xx=1e7;function UFe({tabId:e}){const{t:n}=en("home"),s=Mi(),r=Ea(),[i]=Fu(),{getTabState:a,updateTabState:o,clearPendingMessage:l,setPendingMessage:c,removeTab:u,activeTab:p,setTabs:f,setActiveTab:m,getTabByJobId:h,getAllTabs:x}=hi(),[g,v]=d.useState(!1),{members:b}=rz(),y=a(e),{toast:w}=ns(),_=zf(),{session:N,user:j}=os(),{showLogsPanel:C,showSubagentPanel:S,showUrlPreviewPanel:F,showInfoPanel:E,showDeployPanel:I,panelState:T,togglePanel:A,closeAllPanels:D}=EC(e),O=li(e),{credits:M,tier:L,isTrulyFreeUser:P,refreshCredits:B}=xs(),{restrictedFree:G}=gi(),{getCurrentOrganizationId:$,isOrganizationWorkspace:te}=hs(),U=Sie(),oe=Jie(),Y=Wie(),{data:W,isSuccess:Z}=Kr(void 0,{skip:!j}),{data:le}=Wa(void 0,{skip:!Z}),q=le?.auto_summarisation_enabled===!0,{data:Q=[]}=HP({organization_id:$()}),he=d.useRef(null),me=d.useRef(null),ce=d.useRef(new Date().toISOString()),[ee,J]=d.useState(!1),[re,xe]=d.useState(!1),[ae,Fe]=d.useState(!1),[se,_e]=d.useState(null),[Re,Se]=d.useState(null),[Ne,ge]=d.useState(null),[Ce,$e]=d.useState(!1),[dt,Me]=d.useState(!1),[we,Te]=d.useState(!1),[ze,_t]=d.useState(!0),[Bt,qe]=d.useState([]),[Ae,Le]=d.useState(),[Ut,tt]=d.useState(),[xt,St]=d.useState(),[It,kt]=d.useState(),[Ot,Ie]=d.useState(),[nt,We]=d.useState(),[Lt,pt]=d.useState(!1),[ft,Tt]=d.useState("increase_budget"),[Gt,Ze]=d.useState("default"),[ut,Qt]=d.useState(!1),[Sn,yn]=d.useState(!1),[Ee,Ke]=d.useState(null),[mt,Ge]=d.useState(!0),[At,Cn]=d.useState(!1),Mt=d.useRef(null),wn=x().find(X=>X.id===e)?.tabType==="ShowCasePreview";p!==e&&Sn&&(yn(!1),Ke(null));const[In,us]=d.useState(null),[Kt,dn]=d.useState({fork:!1,visualEdits:!1,unsavedChanges:!1}),[gt,ps]=d.useState({onConfirm:()=>{}}),[Zn,$s]=d.useState(!1),[Ls,ys]=d.useState([]),[zn,_n]=d.useState(!1),[Wn,As]=d.useState(null),[tr,Ht]=d.useState(null),[zs,Ve]=d.useState(null),[lt,$t]=d.useState(!1),[Tn,Yt]=d.useState(!0),[Is,nn]=d.useState(!1),[Ue,Nt]=d.useState([]),[bn,Yn]=d.useState(null),[Jn,fs]=d.useState(!1),[Gn,Fs]=d.useState(null),nr=d.useRef([]),[an,Ws]=d.useState(null),[ir,vr]=d.useState(null),[rs,Bs]=d.useState(!1),[_s,wr]=d.useState(!!y?.isPhishingBlocked),[Gs,Sr]=d.useState(!1),ve=d.useRef(null),[Xe,at]=d.useState(!1),[un,Xn]=d.useState(),[ke,ye]=d.useState("SUCCESS"),[Et,qt]=d.useState(!0),[Oe,He]=d.useState(!1),[it,Ln]=d.useState(!1),[js,Un]=d.useState(null),on=cc(),sn=N2(),On=G9(),[rt,gr]=d.useState(y?.jobsLength===0),[Es,ar]=d.useState("stopped"),[Pe,Ct]=d.useState(null),[An,Hn]=d.useState("desktop"),[ls,Rr]=d.useState(!0),Jt=y?.containerId||s.state?.containerId,bi=y?.task||s.state?.task,Ri=y?.initial_preceived_msg||s.state?.initial_preceived_msg,Je=y?.jobId||s.state?.jobId||i.get("id"),kr=y?.trajPath||s.state?.trajPath,Yr=y?.initial_commit_id,Ps=y?.isCloudFlow,yi=y?.clientRefId,[_l,_o]=d.useState(!1),[pc,fc]=d.useState(!1),[jl]=$P(),[Vr,{error:qo}]=Ure(),{isMobile:vs}=ts(),z=Sa(),{isPanelMobileView:R}=lH(),[V,pe]=d.useState(!1),[je,ot]=d.useState(!1),Pt=y?.modelName,jn=!!(y?.isPerceivedUX&&!y?.jobId),is=!!Je&&!jn,ne=typeof an?.agent_running=="boolean"||typeof an?.job_running=="boolean"||typeof an?.agent_status_new<"u",De=!is||Gs||ne,{vscodeUrl:Ye,vscodePassword:ue,showVSCodeDialog:be,setVSCodeUrl:ht,setVSCodePassword:yt,setShowVSCodeDialog:mn,handleVSCodeLink:Nn,handleOpenVSCodeUrl:Mn}=bve({isCloudFlow:Ps}),{previewUrl:Qn,shareableUrl:sr,refresh:qs,isLoading:Xs,clearData:vi}=yve({jobId:p===e?Je:void 0,containerId:p===e?Jt:void 0,isCloudFlow:Ps,onVSCodeUrlChange:ht,onVSCodePasswordChange:yt,autoFetch:!wn}),es=jr(X=>b9(X,e||Je||"")),Lr=es?.deploymentHistory?.some(X=>X.status==="success")??!1,{modifiedFiles:Qs,showDiffModal:io,setShowDiffModal:Nl,handleShowDiff:Ko}=vve({containerId:Jt,jobId:Je,isCloudFlow:Ps,initialCommitId:Yr}),[Ia]=Df(),{config:Fl}=sc(),[Zr,N0]=d.useState(null),Jf=d.useCallback(X=>X.container?.containers?.[Jt]||OFe,[Jt]),Ei=jr(Jf,Oc),Xf=d.useCallback(X=>g9(X,e),[e]),Ou=jr(Xf,Oc),[Dt,Qf]=d.useState({job_id:Je||"",traj_path:kr||"",initial_commit_id:Yr,createdBy:y?.created_by,createdAt:y?.createdAt,forked:{parent_job_id:y?.forked?.parent_job_id,parent_job_title:y?.forked?.parent_job_title},asset_upload_enabled:y?.asset_upload_enabled||!1,modelName:y?.modelName,promptName:y?.promptName,user_prompt_id:y?.user_prompt_id,promptVersion:y?.promptVersion,costLimit:y?.costLimit,agentName:y?.agentName,dynamic_preview_subdomain:y?.dynamic_preview_subdomain,env_image:y?.env_image,isPublished:y?.isPublished||!1,machineType:y?.machineType,organization_id:y?.organization_id||null,testMode:y?.testMode||!1}),{budgetInfo:Yo,fetchBudgetInfo:em}=I$({jobId:Je,initialFetch:!0}),Ks=d.useRef(null),tm=()=>{gr(!1)};d.useEffect(()=>{s.state?.containerId&&(!y?.containerId||y.containerId!==s.state.containerId)&&o(e,{...s.state,isActive:!0,podIsPaused:rs})},[s.state,y?.containerId,e,o,rs]),d.useEffect(()=>{y?.isPerceivedUX||Je&&(Jt&&!Ei.isInitialized&&(_(dX(Jt)),_(uX({containerId:Jt,isInitialized:!0})),_(fX({tabId:e,containerId:Jt})),_(mX(e))),Jt&&Je&&kr&&_(fN({containerId:Jt,details:{job_id:Je,traj_path:kr,initial_commit_id:Yr}})))},[Jt,Je,kr,Yr,Ei.isInitialized,_,y?.isPerceivedUX]);const nm=d.useCallback((X,de)=>j?X===j.id?!0:de?(W?.organizations||[]).some(pn=>pn.organization_id===de):!1:!1,[j,W?.organizations]),fr=d.useCallback(async()=>{if(Je&&!y.showcaseId){_t(!0);try{const X=await Ia(Je);if("error"in X)throw new Error("Failed to fetch job details");const de=X.data;if(!de)throw new Error("No job data received");const Be=!!de.payload?.is_suspended;wr(Be);const wt=a(e)||{},pn=de.title||wt.tabHeading,cr={...wt,containerId:de.payload.container_id||de.id,initial_commit_id:de.payload.initial_commit_id,task:de.payload?.original_task||de.payload.task,jobId:de.id,trajPath:kr,tabId:e,fromJobList:!0,isCloudFlow:de.payload?.is_cloud,clientRefId:de.client_ref_id,modelName:de.payload.model_name,promptName:de.payload.prompt_name,promptVersion:de.payload.prompt_version,costLimit:de.payload.per_instance_cost_limit,agentName:de.payload.agent_name,portMapping:de.payload.portMapping,created_by:de.created_by,podIsPaused:rs,base64_image_list:de.payload.base64_image_list,dynamic_preview_subdomain:de.payload.dynamic_preview_subdomain,env_image:de.payload.env_image,isPublished:de.payload.is_persisted,machineType:de.payload.machine_type,organization_id:de.payload.organization_id,createdAt:de.created_at,isRemix:de.payload.is_showcase_remix,isPhishingBlocked:!!de.payload?.is_suspended};Qf({job_id:Je,traj_path:kr,initial_commit_id:Yr,createdBy:de.created_by,forked:de.payload.forked,modelName:de.payload.model_name,promptName:de.payload.prompt_name,user_prompt_id:de.payload.user_prompt_id,promptVersion:de.payload.prompt_version,costLimit:de.payload.per_instance_cost_limit,agentName:de.payload.agent_name,dynamic_preview_subdomain:de.payload.dynamic_preview_subdomain,createdAt:de.created_at,asset_upload_enabled:de.payload.asset_upload_enabled,env_image:de.payload.env_image,isPublished:de.payload.is_persisted||!1,machineType:de.payload.machine_type,organization_id:de.payload.organization_id||null,testMode:de.payload.testMode||!1,enable_visual_edit:de.payload.enable_visual_edit,is_showcase_remix:de.payload.is_showcase_remix,showcase:de.payload.showcase,deploy_url:de.payload.deploy_url,initial_preceived_msg:de.payload.initial_preceived_msg}),_e(de.payload.source_repo),ge(de.payload.target_repo);const Jr=$(),Xr=de.payload?.organization_id,{tabLevel:Zi,organizationId:ya}=hf(Xr,Jr);o(e,cr),f(wi=>wi.map(Ta=>Ta.id===e?{...Ta,title:de.payload?.original_task||de.payload.task,level:Zi,organization_id:ya,state:cr,tabHeading:pn}:Ta)),wt.showCase&&!Be&&A({panelName:"showUrlPreviewPanel",value:!0}),_t(!1)}catch(X){zc(X instanceof Error?X:String(X),{jobId:Je,containerId:Jt,context:"fetch_job_details"}),w({title:"Error fetching task details",description:"Please try again later",variant:"destructive"}),u(e),_t(!1)}}},[Je,kr,e,rs,Yr,Jt,o,f,w,u,Ia]),{isPublishing:sm,isPublished:Ki,publishApp:L3}=h3({jobId:Je,onPublishSuccess:fr}),Hs=d.useMemo(()=>wn?y?.showcasePreviewUrl||Zr?.preview_url:Qn,[wn,y?.showcasePreviewUrl,Zr?.preview_url,Qn]),Zo=d.useCallback(()=>Zr?.new_tab_url||Hs,[Zr?.new_tab_url,Hs]);d.useEffect(()=>{Ge(!0)},[Hs]),d.useEffect(()=>{if(!wn)return;const X=()=>{const Be=Zo();Be&&window.open(Be,"_blank","noopener,noreferrer")},de=()=>{Ge(!0),document.querySelectorAll('iframe[title="Remix Preview"]').forEach(wt=>{const pn=wt.src,cr=new URL(pn);cr.searchParams.set("_t",Date.now().toString()),wt.src=cr.toString()})};return window.addEventListener("openShowcaseInNewTab",X),window.addEventListener("refreshShowcaseIframe",de),()=>{window.removeEventListener("openShowcaseInNewTab",X),window.removeEventListener("refreshShowcaseIframe",de)}},[wn,Zo]);const MG=d.useMemo(()=>e===p&&y?.isActive!==!1&&!wn&&!!Jt,[e,p,y?.isActive,Jt,wn]);d.useEffect(()=>{Sr(!is||ne)},[is,ne]),d.useLayoutEffect(()=>{is&&(ve.current=null,Ws(null),Sr(!1))},[e,Je,is]);const{resetPolling:RG,loadOlderHistory:r_,hasMoreHistory:rm}=Tbe({isCloudFlow:Ps,containerId:Jt,jobId:Je,trajPath:kr,isActive:MG,historyEnabled:Y,onCurrentChunkResult:X=>{if(X===""){Un(null);return}if(X&&X.chunk&&X.chunk.request_id&&bt?.some(Be=>Be.id===X.chunk.request_id||Be.request_id===X.chunk.request_id||Be.content===X.chunk.data?.thought&&Be.action===X.chunk.data?.tool_name)){Un(null);return}Un(X)},onJobDetailsResult:X=>{!Jt||!X||_(fN({containerId:Jt,details:X}))},onTrajectoryResult:X=>{if(Jt&&!PFe(nr.current,X)&&(nr.current=X,_(pX({containerId:Jt,trajectory:X})),X&&X.length>0)){const de=[...X].sort((pn,cr)=>pn.timestamp&&cr.timestamp?new Date(pn.timestamp).getTime()-new Date(cr.timestamp).getTime():pn.step_num!==void 0&&cr.step_num!==void 0?pn.step_num-cr.step_num:0),wt=de[de.length-1]?.traj_payload?.finished===!0;Te(wt)}},onAgentStateResult:X=>{const de=typeof X.agent_running=="boolean"||typeof X.job_running=="boolean"||typeof X.agent_status_new<"u";if(!Gs&&de&&Sr(!0),!BFe(ve.current,X)){ve.current=X,Ws(X);const Be=X.agent_running!==an?.agent_running,wt=X.job_running!==an?.job_running,pn=an?.agent_status_new==="paused"&&X.agent_status_new!=="paused";(Be||wt||pn)&&He(!1);const cr=X.agent_status_new==="archived",Jr=X.agent_status_new==="recovering",Xr=X.agent_status_new==="paused"||cr||Jr;xe(cr),Bs(Xr),Fe(Jr)}},onBrainStormingResult:X=>{Ct(de=>de===X.chat_mode?de:X.chat_mode)},onError:()=>{}}),i_=X=>{H("info_panel_visibility_changed",{jobId:Je,containerId:Jt,isVisible:X,tabId:e}),A({panelName:"showInfoPanel",value:X})},F0=d.useCallback(async()=>{if(G){H("free_user_deploy_attempted",{source:"chat_header",jobId:Je}),ot(!0);return}await fr(),A({panelName:"showDeployPanel",value:!0}),ss("deploy_panel_toggle",{jobId:Je,containerId:Jt,isVisible:!I,tabId:e});const X=es?.deploymentHistory?.some(de=>de.status==="success");H(X?dr.CHAT_HEADER_REDEPLOY_CLICKED:dr.CHAT_HEADER_DEPLOY_CLICKED,{jobId:Je,containerId:Jt,tabId:e})},[fr,A,I,Je,Jt,e,es?.deploymentHistory,G]),LG=d.useCallback(()=>{if(G){H(h2.FREE_USER_CODE_ATTEMPTED,{source:"chat_header",jobId:Je}),ot(!0);return}Nn()},[G,Je,Nn]),PG=d.useCallback(()=>{if(G){H(h2.FREE_USER_CODE_ATTEMPTED,{source:"mobile_bottom_sheet",jobId:Je}),ot(!0);return}Nn()},[G,Je,Nn]),a_=d.useCallback(X=>{if(!X.payload.task)return;const de=X.payload.container_id||X.id;if(!de)return;const Be=h(X.id);if(Be){m(Be.id);return}const wt=X.id,pn=$(),cr=X.organization_id||X.payload?.organization_id,{tabLevel:Jr,organizationId:Xr}=hf(cr,pn),Zi=X.organization_name||X.payload?.organization_name,ya=pn?`/workspace/${pn}/chat`:"/chat",wi={jobId:X.id,containerId:de,task:X.payload?.original_task||X.payload.task,trajPath:X.traj_path,initial_commit_id:X.initial_commit_id,isCloudFlow:X.payload.is_cloud_flow||!1,clientRefId:X.payload.client_ref_id,modelName:X.payload.model_name,promptName:X.payload.prompt_name,promptVersion:X.payload.prompt_version,costLimit:X.payload.per_instance_cost_limit,agentName:X.payload.agent_name,portMapping:X.payload.portMapping,created_by:X.created_by,createdAt:X.created_at,isActive:!0,dynamic_preview_subdomain:X.payload.dynamic_preview_subdomain,isRemix:X.payload?.isRemix},Ta=X.title||wi?.task||"Untitled";f(Ka=>[...Ka,{id:wt,title:`${X.payload.task}`,path:ya,level:Jr,organization_id:Xr,organization_name:Zi,state:wi,tabHeading:Ta}]),o(wt,wi),m(wt),r(`${ya}?id=${X.id}`)},[h,m,f,o,r]),{handleRemixClick:o_,isRemixing:l_}=_V({jobId:Je,showcaseDetails:Zr,onRemixSuccess:(X,de)=>{a_({id:X,payload:{task:de.details?.description,isRemix:!0}})}}),OG=(X,de)=>{if(!X||!de)return;const Be=b.find(wt=>wt.user_id===X);if(Be){const wt=Be.email.split("@")[0];return wt.charAt(0).toUpperCase()+wt.slice(1)}if(X.includes("@")){const wt=X.split("@")[0];return wt.charAt(0).toUpperCase()+wt.slice(1)}},E0=n("perceivedUX.message"),BG=d.useMemo(()=>{if(y?.isPerceivedUX&&!y?.jobId)return[{id:"perceived-ux-assistant",role:"assistant",content:E0,thought:E0,action:"initial-llm",typing:!0,container_id:void 0,timestamp:ce.current,base64_image_list:[],isPerceivedUXMessage:!0}];if(!bi)return[];if(Y)return[];const de=Dt?.organization_id?OG(Dt?.createdBy,Dt?.organization_id):void 0,wt=Dt?.createdBy===j?.id||!Dt?.job_id?"user":"member",pn=[];return Ri&&pn.push({id:"perceived-ux-assistant",role:"assistant",content:Ri,thought:Ri,action:"initial-llm",container_id:Jt,timestamp:Dt?.createdAt||ce.current,base64_image_list:[],isPerceivedUXMessage:!0}),pn.push({id:"user-task",role:wt,content:bi,container_id:Jt,timestamp:Dt.createdAt,base64_image_list:Ei.trajectory?.[0]?.base64_image_list||[],artifacts:Ou||[],...de&&{user_name:de},...Dt?.createdBy&&{user_id:Dt.createdBy}}),pn},[bi,Ri,Jt,Dt?.createdBy,Dt?.organization_id,Dt?.createdAt,b,j?.id,y?.isPerceivedUX,y?.jobId,E0,Y]),{messages:UG,setMessages:S0}=S4e({initialMessages:BG}),P3=UG,bt=d.useMemo(()=>{const X=P3.reduce((de,Be,wt)=>Be.action==="auto_summarisation_reached"&&(Be.summarisation_status==="running"||Be.summarisation_status==="success")?wt:de,-1);return P3.map((de,Be)=>{const wt=X!==-1&&Be<=X,pn=de.action==="auto_summarisation_reached"&&de.summarisation_status==="failed";return wt||pn?{...de,...pn&&{isHidden:!0},...wt&&{hideRollback:!0}}:de})},[P3,Jt]),HG=d.useMemo(()=>{const X=y?.pendingMessage;if(!X?.content)return!1;const de=Ei.trajectory||[],Be=QA(de,X),wt=X.timestamp?new Date(X.timestamp).getTime():NaN,pn=!Number.isNaN(wt)&&new Date().getTime()-wt>300*1e3;return!Be&&!pn},[y?.pendingMessage,Ei.trajectory]),VG=vs&&!z&&P()&&bt.length>2,{searchState:Bu,toggleSearch:k0,updateSearchQuery:$G,navigateToNextMatch:O3,navigateToPrevMatch:B3,getSearchHighlightsForMessage:U3,isMessageContainingCurrentMatch:H3}=Abe(bt,{virtuosoRef:he}),[pd,V3]=d.useState(Xx),mc=Y?pd:0,zG=d.useCallback(X=>{if(X>0&&Y){const de=me.current;if(de){de.style.visibility="hidden";let Be=!1;const wt=()=>{Be||(Be=!0,de.style.visibility="")};requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(wt)})}),e4.current=setTimeout(wt,500)}V3(Be=>Math.max(0,Be-X)),t4.current=setTimeout(()=>n4(!1),300)}},[Y]),{processTrajectory:c_}=Ive({task:bi,initialPerceivedMsg:Ri,containerId:Jt,jobId:Je,showSubagentPanel:S,selectedMessageId:Ot,selectedSubagent:Ae,setSelectedSubagentMessages:qe,setIsSubagentActive:Me,setAiMessages:S0,getCurrentMessages:()=>bt,createdByUserId:Dt?.createdBy,historyEnabled:Y,onPrependCount:zG,hasMoreHistory:rm});d.useEffect(()=>{ir&&bt.length>1&&Ks.current&&(clearTimeout(Ks.current),Ks.current=null)},[bt.length,ir]),d.useEffect(()=>()=>{Ks.current&&clearTimeout(Ks.current)},[]),d.useEffect(()=>{Je&&(V3(Xx),zu.current=!1)},[Je]),d.useEffect(()=>{const X=()=>{p===e&&(wn?fc(!0):_o(!0))};return window.addEventListener("openMobileMenu",X),()=>{window.removeEventListener("openMobileMenu",X)}},[p,e,wn]),d.useEffect(()=>{(Je&&bt.length<3&&!y?.showcaseId||Je&&bt.length>=3&&y?.fromPerceivedUX&&!Dt?.job_id)&&fr()},[Je,bt.length,wn,y?.fromPerceivedUX,Dt?.job_id]),d.useEffect(()=>{(()=>{const de=y?.showcaseId;if(wn&&de&&!Vu.current&&Fl){Vu.current=!0;try{const Be=Fl.showcases?.items?.find(pn=>pn.id===de);if(!Be){Vu.current=!1;return}const wt={id:Be.id,title:Be.title,category:Be.category,created_at:Be.created_at,job_id:Be.job_id,preview_url:Be.preview_url,details:Be.details};N0(wt),o(e,{showcasePreviewUrl:wt.preview_url})}catch{Vu.current=!1}}})()},[wn,y?.showcaseId,Fl,e,o]);const d_=d.useCallback(async()=>{if(Je)try{const X=await Ia(Je);if("error"in X)return;const de=X.data;de?.title&&(f(Be=>Be.map(wt=>wt.id===e?{...wt,tabHeading:de.title}:wt)),o(e,{dynamic_preview_subdomain:de.payload.dynamic_preview_subdomain}))}catch{}},[y?.dynamic_preview_subdomain,Je,e,Ia,f,o]);d.useEffect(()=>{const X=p===e;!Q3.current&&X&&Je&&!wn&&d_()},[p,e,Je,d_]),d.useEffect(()=>{Je&&bt.length>=3&&!y?.dynamic_preview_subdomain&&!ze&&!__.current&&!wn&&(__.current=!0,fr())},[Je,bt.length,y?.dynamic_preview_subdomain,ze,fr,e,wn]),d.useEffect(()=>{bt.length===2&&bt[1].id==="initial-llm"&&!Dt?.job_id&&!an?.agent_running&&!an?.job_running&&!an?.agent_status_new&&rs&&(Ws({agent_running:!0,job_running:!0,agent_status_new:"running"}),Bs(!1));const X=bt.slice(1).filter(wi=>wi.role==="user").length,de=bt.length>0?bt[bt.length-1]:null,Be=de?.role==="assistant",wt=!!(de&&(de.function_name==="ask_human"||de.function_name==="default_tool")),pn=!an?.agent_running,cr=X===0,Jr=!te(),Xr=L==="free",Zi=W?.auto_hitl_enabled===!0;v(cr&&Be&&wt&&pn&&Jr&&Xr&&Zi)},[bt,an,te,L,W?.auto_hitl_enabled]);const WG=d.useCallback(X=>{if(!Ei.trajectory||Ei.trajectory.length===0)return;const de=[...Ei.trajectory];let Be=null;if(X){const wt=QA(de,X),pn=new Date().getTime()-new Date(X.timestamp).getTime()>300*1e3;wt||pn?l(e,X.content):Be={id:`user-${Date.now()}`,role:"user",content:X.content,containerId:Jt,timestamp:new Date().toISOString(),status:"pending",base64_image_list:X.base64_image_list,artifacts:X.artifacts}}c_(de,Be,Dt.createdAt),j_.current!==Je&&de.length>0&&(j_.current=Je,H(mg.DATA_READY_FOR_RENDER,{jobId:Je,trajectoryLength:de.length}))},[Ei.trajectory,c_,e,Jt,l,Je]),[fd,u_]=d.useState(!1);d.useEffect(()=>{if(_s)return;const X=bt.find(de=>de.action==="initial-llm"&&!de.isPerceivedUXMessage);bt.length===2&&X&&!rt&&!vs?A({panelName:"showUrlPreviewPanel",value:!0}):bt.length<=2&&Dt?.is_showcase_remix===!0?A({panelName:"showUrlPreviewPanel",value:!0}):bt.length===3&&X&&!rt&&!vs&&y?.fromPerceivedUX&&A({panelName:"showUrlPreviewPanel",value:!0})},[bt.length,rt,vs,Dt,y?.fromPerceivedUX]),d.useEffect(()=>{_s&&D()},[_s,D]),d.useEffect(()=>{Pe==="build"&&qs&&qs()},[Pe,qs]);const $3=d.useMemo(()=>y?.jobsLength>=1,[y?.jobsLength]),Uu=d.useMemo(()=>bt.length>=2&&fd||y?.repository&&Hs||wn||Dt.is_showcase_remix===!0,[bt,fd,y?.repository,Hs,wn]),Hu=d.useRef(!1),z3=d.useRef(bt.length),GG=d.useMemo(()=>{if(!xO()||Hu.current)return!0;const de=bt.filter(pn=>pn.role==="assistant");if(de.length===0)return!1;const Be=pn=>pn.function_name?.includes("bulk_file");if(de.some(pn=>pn.function_name==="screenshot_tool")||de.some(pn=>pn.action==="finish"))return Hu.current=!0,!0;const wt=de.findIndex(Be);return wt!==-1&&de.slice(wt+1).some(pn=>!Be(pn)&&pn.function_name)?(Hu.current=!0,!0):!1},[bt]);d.useEffect(()=>{A0.current=!1,D0.current=!1,M0.current=!1,Vu.current=!1,Hu.current=!1,wr(!!y?.isPhishingBlocked),z3.current=bt.length},[e,Je]),d.useEffect(()=>{bt.length<z3.current&&(A0.current=!1,D0.current=!1,M0.current=!1,Vu.current=!1,Hu.current=!1),z3.current=bt.length},[bt.length]),d.useEffect(()=>{const X=bt.filter(pn=>pn.role==="assistant"),de=X.filter(pn=>!pn.isPerceivedUXMessage);de.length>0&&!de.some(pn=>pn.action==="finish")&&(M0.current=!0);const{shouldEnablePreview:Be}=NFe(bt,Dt?.forked?.parent_job_id),wt=X[X.length-1];if(Be){u_(!0);const pn=window.innerWidth>=768,cr=_Fe(wt);vs&&!rs&&pe(!0),qs().then(()=>{jFe(wt,{isDesktop:pn,isMobile:vs,isVisualEditChangesFlagEnabled:oe,enableVisualEditFromJob:!!Dt?.enable_visual_edit})&&!D0.current&&M0.current&&!_s&&(D0.current=!0,yn(!0),A({panelName:"showUrlPreviewPanel",value:!0}),H(Xt.VISUAL_EDIT_ENABLED,{jobId:Je,source:"auto_enabled_on_finish"})),pn&&cr&&!A0.current&&!_s&&(A({panelName:"showUrlPreviewPanel",value:!0}),A0.current=!0)})}else u_(!1)},[bt.length,Dt?.forked?.parent_job_id,Dt?.enable_visual_edit,e,vs,rs,oe,Je]),d.useEffect(()=>{const X=bt.filter(wt=>wt.role==="assistant"),de=X[X.length-1],Be=y?.pendingMessage;if(Be&&de?.error_ts){const wt=new Date(Be.timestamp).getTime(),pn=new Date(de.error_ts).getTime();wt<pn&&(Se(Be.content),l(e,Be.content))}},[bt,y?.pendingMessage,e]),bFe({jobId:Dt.job_id,containerId:Jt,agentName:Dt.agentName,modelName:Dt.modelName,organizationId:Dt.organization_id,createdBy:Dt.createdBy,enabled:!!Je});const qG=d.useMemo(()=>{const X=Ei.trajectory;if(!X||X.length===0)return"empty";const de=X[0],Be=X[X.length-1],wt=Be?.subagent_trajectory?.length||0,pn=Be?.fork_status||"none",cr=Be?.forked_job_id||"none";return`${X.length}-first${de?.request_id||"none"}-${Be?.request_id||"none"}-${Be?.step||0}-sub${wt}-fork${pn}-${cr}`},[Ei.trajectory]);d.useLayoutEffect(()=>{const X=y?.pendingMessage;WG(X)},[qG,e,y?.pendingMessage]),d.useEffect(()=>()=>{},[Jt,_]),d.useEffect(()=>{if(S&&bt.length>0){const X=bt[bt.length-1];X&&X.subagent_trajectory&&X.subagent_trajectory.length>0&&X.agent_name===Bt[0]?.agent_name&&qe(X.subagent_trajectory)}},[S,bt]),d.useEffect(()=>{if(S&&Ot&&bt.length>0){const X=bt.find(de=>de.id===Ot);X&&X.subagent_trajectory&&X.subagent_trajectory.length>0&&X.agent_name===Ae&&qe(X.subagent_trajectory)}},[S,Ot,bt,Ae]),d.useEffect(()=>{!S&&Ot&&Ie(void 0)},[S,Ot]),d.useEffect(()=>{if(S&&nt!==void 0&&Ei.trajectory){const X=Ei.trajectory.find(de=>de.step_num===nt);X?.subagent_trajectory&&qe(X.subagent_trajectory)}},[S,nt,Ei.trajectory]),d.useEffect(()=>{if(S&&Ot&&bt.length>0){const X=bt.find(de=>de.id===Ot);X&&X.subagent_trajectory&&X.subagent_trajectory.length>0&&qe(X.subagent_trajectory)}},[S,Ot,bt]),FFe({user:j,jobDetails:Dt,tier:L,aiMessages:bt,enabled:!0});const qa=d.useCallback((X,de,Be,wt)=>{const pn=`user-${Date.now()}`;if(y?.isPerceivedUX&&!y?.jobId){H(IP.FIRST_MESSAGE_SENT,{userId:j?.id,tabId:e,messageLength:X.length,hasImages:de.length>0,imageCount:de.length,hasOriginalFiles:wt&&wt.length>0}),localStorage.removeItem(rw),Ws({agent_running:!0,job_running:!0,agent_status_new:"running"}),Bs(!1),o(e,{task:X,selectedAgent:"auto_prompt_selector_dev",selectedImage:"emergentintegrations/neo:web-react-v2",image:"emergentintegrations/neo:web-react-v2",model_name:"claude-sonnet-4-20250514",per_instance_cost_limit:"25",agentic_skills:[],client_ref_id:null,apiCallInProgress:!1,needsApiCall:!0,pending_client_ref_id:crypto.randomUUID(),newJob:!0,isCloudFlow:!0,fromCreateTask:!0,isPerceivedUX:!1,fromPerceivedUX:!0,initial_preceived_msg:E0,base64_image_list:de.length>0?de:void 0,selectedFiles:wt&&wt.length>0?wt:void 0,tabId:e,parentTabId:e,id:e,title:"Setting up Task",path:"/chat",state:{tabId:e,sourceTabId:e}});return}EF("message_sent",{jobId:Je,containerId:Jt,messageId:pn,messageLength:X.length,hasImages:de.length>0,imageCount:de.length,tabId:e});const Jr={id:pn,role:"user",content:X,containerId:Jt,timestamp:new Date().toISOString(),status:"pending",base64_image_list:de,artifacts:Be?.map(Xr=>({name:Xr.file_name,url:`#artifact-${Xr.artifact_id}`}))};S0(Xr=>{const Zi=[...Xr,Jr];return setTimeout(()=>{he.current&&he.current.scrollToIndex({index:Zi.length-1,behavior:"smooth"})},150),Zi}),X.trim()&&c(e,pn,X,de,Be)},[Jt,Je,e,y,o]),KG=qa,p_=d.useCallback(X=>{const de=X.expertise_type||X.function_name,Be=X.function_name?.replaceAll("_"," ");X.subagent_trajectory?.length?(qe(X.subagent_trajectory),Le(de),St(Be),Ie(X.id),A({panelName:"showSubagentPanel",value:!0}),ss("subagent_selected",{jobId:Je,containerId:Jt,expertise:de,messageId:X.id,subagentTrajectoryLength:X.subagent_trajectory.length,tabId:e})):(qe([]),Le(de),St(Be),Ie(X.id),A({panelName:"showSubagentPanel",value:!0}))},[Je,Jt,e]),W3=d.useCallback(async()=>{if(!_s){if(!F&&qs)try{await qs()}catch{}A({panelName:"showUrlPreviewPanel",value:!0}),ss("preview_panel_toggle",{jobId:Je,containerId:Jt,isVisible:!F,tabId:e,previewUrl:Hs})}},[A,F,Je,Jt,e,Hs,qs,_s]),YG=d.useCallback(X=>{Cn(X)},[]),ZG=d.useCallback(X=>{Mt.current=X},[]),I0=d.useCallback(X=>{_s||(yn(X),X&&A({panelName:"showUrlPreviewPanel",value:!0}))},[A,_s]),f_=d.useCallback(()=>{I0(!0),H(Xt.VISUAL_EDIT_ENABLED,{jobId:Je,source:"finish_action_button"})},[I0,Je]),m_=d.useMemo(()=>Es!=="waiting"&&Es!=="subagent_waiting"||Pe!=="build"||dt||!(Uu||Dt?.is_showcase_remix&&Pe!=="build"),[Es,Pe,dt,Uu,Dt?.is_showcase_remix]),G3=d.useCallback((X,de)=>{Fs({jobId:X,messages:de}),dn(Be=>({...Be,fork:!0}))},[]),q3=d.useCallback((X,de)=>{Fs({jobId:X,messages:[],summaryData:de,startInSummaryMode:!0}),dn(Be=>({...Be,fork:!0}))},[]),h_=d.useCallback(X=>{vs&&_o(!1),ys(X||[]),$s(!0)},[vs]);d.useEffect(()=>{N&&!IL()&&Dt?.enable_visual_edit&&fd&&dn(X=>({...X,visualEdits:!0}))},[N,Dt?.enable_visual_edit,fd]),d.useEffect(()=>{y?.openRedeployPanel&&(A({panelName:"showDeployPanel",value:!0}),o(e,{openRedeployPanel:!1}))},[y?.openRedeployPanel,A,o,e]);const JG=d.useCallback(async X=>{if(typeof X.data=="string")try{X.data=JSON.parse(X.data)}catch{return}if(X.type==="rrweb_events"&&Array.isArray(X.data)){try{if(Nt(X.data),nn(!0),Je){fs(!0);try{if(!Je)throw new Error("No job ID available");const de=await vt.extractRRWebData(Je,X.data),Be=[],wt=new Blob([de.playwright_script],{type:"text/javascript"}),pn=new File([wt],"generated-playwright-test.js",{type:"text/javascript"});Be.push({file:pn,description:"Generated Playwright test script from user interaction recording"});const cr=new Blob([de.console_logs],{type:"text/plain"}),Jr=new File([cr],"console-logs.txt",{type:"text/plain"});Be.push({file:Jr,description:"Console logs captured during user interaction recording (last 50 entries, TIMESTAMP:MESSAGE format)"});const Xr=new Blob([de.network_logs],{type:"text/plain"}),Zi=new File([Xr],"network-logs.txt",{type:"text/plain"});Be.push({file:Zi,description:"Network requests captured during user interaction recording (last 50 entries, excluding PostHog)"});const ya=[];for(const wi of Be)try{const Ta={file_name:wi.file.name,mime_type:wi.file.type},Ka=await vt.uploadArtifact(Je,Ta);await vt.uploadFileToUrl(Ka.upload_url,wi.file),ya.push({artifact_id:Ka.artifact_id,file_path:Ka.file_path,entity_id:Je,entity_type:"job",visibility:"public",file_name:wi.file.name,description:wi.description})}catch{}if(ya.length>0)try{await vt.batchFinalizeArtifactUpload({artifacts:ya})}catch{}Yn(de.playwright_script)}catch{Yn({error:"Failed to process rrweb events"})}finally{fs(!1)}}X.source&&typeof X.source.postMessage=="function"&&X.source.postMessage({type:"close_window"},"*")}catch{}return}X.type==="user_interaction"||X.type==="error"||X.type},[Je]),XG=d.useCallback(async()=>{if(!(!Je||!Wn)){Yt(!1),$t(!0);try{const X={file_name:Wn.name,mime_type:Wn.type},de=await vt.uploadArtifact(Je,X);await vt.uploadFileToUrl(de.upload_url,Wn);const Be={entity_id:Je,entity_type:"job",visibility:"public",file_name:Wn.name,description:"Screen recording of the preview"};await vt.batchFinalizeArtifactUpload({artifacts:[{...Be,artifact_id:de.artifact_id,file_path:de.file_path}]});try{const wt=await vt.getArtifactTestCases(Je,de.artifact_id);Ve(wt)}catch{Ve({error:"Failed to generate test cases"})}finally{$t(!1)}}catch{$t(!1),w({title:"Upload Failed",description:"Failed to upload the recorded video. Please try again.",variant:"destructive"})}}},[Je,Wn,w]),QG=d.useCallback(()=>{_n(!1),As(null),tr&&URL.revokeObjectURL(tr),Ht(null),Ve(null),$t(!1),Yt(!0)},[tr]),eq=d.useCallback(()=>{nn(!1),Nt([]),Yn(null),fs(!1)},[]),tq=d.useCallback(async(X,de)=>{if(!Ae||!Je)return;EF("message_sent",{jobId:Je,containerId:Jt,messageLength:X.length,hasImages:de?de.length>0:!1,imageCount:de?de.length:0,tabId:e,isSubagent:!0,subagentType:Ae});const Be={id:`subagent-${Date.now()}`,role:"user",content:X,timestamp:new Date().toISOString(),agent_name:Ae,base64_image_list:de};qe((wt=[])=>[...wt,Be])},[Ae,Je,Jt,e]),T0=d.useRef(!1),A0=d.useRef(!1),D0=d.useRef(!1),M0=d.useRef(!1),Vu=d.useRef(!1);d.useEffect(()=>{const X=a(e);if(X?.isPerceivedUX){qt(!1);return}X&&j?(X.showCase&&(k_(!1),!T0.current&&!_s&&(A({panelName:"showUrlPreviewPanel",value:!0}),T0.current=!0)),nm(X.created_by,X.organization_id||null)?qt(!1):(qt(!0),T0.current||(A({panelName:"showUrlPreviewPanel",value:!1}),T0.current=!0))):qt(!0)},[y?.showCase,y?.created_by,y?.organization_id,y?.isPerceivedUX,j?.id,W?.organizations,Je,nm]),d.useEffect(()=>{y?.isPerceivedUX&&Bs(!1)},[y?.isPerceivedUX]),d.useEffect(()=>{j&&N&&p===e&&Je&&em()},[j,N,p,e,Je,bt.length,em]);const nq=d.useMemo(()=>{const X=bt.length>0?bt[bt.length-1]:null;if(Pe==="salesman_agent"&&(an?.agent_running||X?.role==="user"))return()=>t.jsxs("div",{className:"mt-4",children:[t.jsx(r5,{text:"Agent is responding..."}),t.jsx("div",{className:"h-32"})]});if(X&&(X.function_name==="ask_human"||X.function_name==="default_tool"||X.action==="finish"))return()=>null;if((Pe=="brainstorming_requested"||Pe=="brainstorming_done")&&(!y?.isRemix&&!Dt?.is_showcase_remix||bt.length>1))return()=>t.jsx("div",{className:"mt-4",children:an?.agent_running&&!rt&&t.jsxs(t.Fragment,{children:[t.jsx(r5,{text:"Preparing the build environment..."}),t.jsx("div",{className:"h-32"})]})});if(dt)return()=>t.jsx(t.Fragment,{});const wt=(y?.isRemix||Dt?.is_showcase_remix)&&bt.length<=1&&Pe!=="build"?"Booting up your remixed task...":void 0;return()=>t.jsx(bW,{agentStatus:an?.agent_running,rollbackStatus:ke,text:wt})},[ke,an?.agent_running,bt,Pe,dt,rt,y?.isRemix,Dt?.is_showcase_remix,F]),K3=d.useMemo(()=>N?.user?.email?N.user.email.split("@")[0].split(".").map(X=>X[0]).join("").toUpperCase():"U",[N?.user?.email]),Yi=d.useMemo(()=>Dt?.forked?.parent_job_id&&bt.length<=1?[]:bt.filter(X=>!X.isHidden),[bt,Dt?.forked?.parent_job_id,ze]);d.useEffect(()=>{if(!Y||Yi.length===0){pd!==Xx&&V3(Xx);return}},[Y,Yi.length,pd]);const sq=d.useCallback(X=>{Tt(X),Ze(X!=="increase_budget"?"add_credits":"exit_cost"),pt(!0)},[]),rq=d.useCallback((X,de,Be)=>{X&&X.length>0&&(qe(X),Le(X[0].expertise_type),We(de),Ie(Be),A({panelName:"showSubagentPanel"}))},[A]),x_=d.useCallback(X=>{if(an?.agent_running){_q("Agent is running","Please wait for the agent to finish or stop running before rolling back");return}X&&Xn(X),at(!0)},[an?.agent_running]),Y3=d.useMemo(()=>{const X=bt.filter(Vi=>Vi.warning_for_token_limit===!0),de=X[X.length-1],Be=bt.filter(Vi=>Vi.role==="assistant"),wt=Be[Be.length-1],pn=Be.some(Vi=>Vi.action==="context_limit_reached"),cr=Be.some(Vi=>Vi.action==="auto_summarisation_reached"),Jr=bt.reduce((Vi,jo,No)=>jo.warning_for_token_limit===!0?No:Vi,-1),Zi=bt.reduce((Vi,jo,No)=>jo.action==="auto_summarisation_reached"&&jo.summarisation_status==="success"?No:Vi,-1)>Jr&&Jr!==-1,ya=bt[bt.length-1]?.role==="user",wi=wt?.error_message&&typeof wt.error_message=="string"&&wt.error_message.includes("context limit"),Ta=X.length>0||wi,Ka=de?.current_token_count||0,pm=de?.max_token_count||2e5,hc=Math.min(Ka,pm-1e3);return{currentToken:Ka,maxToken:pm,safeCurrentToken:hc,lastAssistantMessage:wt,hasExplicitContextLimitMessage:pn,hasAutoSummarisationMessage:cr,isContextLimitResolvedByAutoCompact:Zi,lastIsUser:ya,contextLimitReached:Ta,errorMessageExists:wi}},[bt]),Z3=d.useMemo(()=>{const X=bt[bt.length-1],{errorMessageExists:de,maxToken:Be,safeCurrentToken:wt}=Y3;return{content:de?"The agent is reached its context limit. To keep the conversation going and avoid losing progress, please summarize the session and save your work.":"The agent is approaching its context limit. To keep the conversation going and avoid losing progress, please summarize the session and save your work.",containerId:Jt,id:`context_limit_reached-${bt.length-1}`,role:"assistant",error:!1,error_message:de?"You have reached the context limit for this chat! To continue working on this project, please use Rollback and Clear Messages feature to an earlier message or Push to Github and Start a new run.":"",function_name:"context_limit_reached",job_id:Je,step_number:0,current_token_count:de?Be:wt,max_token_count:Be,container_id:Jt,timestamp:X?.timestamp,action:"context_limit_reached",error_message_exists:de}},[bt,Y3,Jt,Je]),iq=d.useCallback(X=>{$u.current&&clearTimeout($u.current),$u.current=setTimeout(()=>{md.current&&(L0.current=!1),$u.current=null},200);const Be=X.currentTarget.scrollTop;yq.current=Be},[]),R0=d.useCallback(X=>{zu.current=!0,n4(!0),r_().catch(de=>{}).finally(()=>{requestAnimationFrame(()=>{zu.current=!1}),setTimeout(()=>n4(!1),300)})},[r_]),aq=d.useCallback(()=>{setTimeout(()=>{!Y||!lm.current||zu.current||!rm()||Wu.current||R0("startReached")},0)},[Y,rm,R0]),oq=10,lq=d.useCallback(X=>{if(!Y||zu.current||!rm()||!lm.current||Wu.current||md.current)return;X.startIndex-pd<oq&&R0("rangeChanged")},[Y,rm,R0,pd]),cq=1.5,g_=vs?20:14,[dq,uq]=d.useState(0),[im,pq]=d.useState(null),fq=d.useCallback(X=>pq(X),[]);d.useEffect(()=>{if(!im)return;const X=()=>{const Be=im.getBoundingClientRect().height;if(Be<=0)return;const wt=Number.parseFloat(getComputedStyle(document.documentElement).fontSize||"16")||16;uq(Be/wt)};X();const de=new ResizeObserver(()=>X());return de.observe(im),()=>de.disconnect()},[im]);const J3=Math.max(g_,im?dq+cq:g_),b_=d.useMemo(()=>({height:`${J3}rem`}),[J3]);d.useEffect(()=>{md.current&&requestAnimationFrame(()=>{const X=me.current;X&&(X.scrollTop=X.scrollHeight)})},[J3]);const mq=d.useMemo(()=>function(){return t.jsx(t.Fragment,{children:t.jsx("div",{style:b_})})},[b_]),hq=d.useCallback(()=>{A({panelName:"showInfoPanel",value:!0})},[A]),xq=d.useMemo(()=>!C&&!S&&!E&&!F&&!I,[C,S,E,F,I]),gq=d.useMemo(()=>fd&&Yi[Yi.length-1]?.fork_status!=="running",[fd,Yi]),X3=d.useMemo(()=>({enablePublish:bt.find(Be=>Be.role==="user"||Be.role==="member")?.content?.includes("https://moltbot.emergent.to/install.sh")??!1,isPublishing:sm,isPublished:Ki}),[bt,sm,Ki]),[bq,am]=d.useState(!0),[y_,om]=d.useState(!1),L0=d.useRef(!1),Jo=d.useRef(null),md=d.useRef(!0),$u=d.useRef(null),yq=d.useRef(0),Q3=d.useRef(p===e),zu=d.useRef(!1),e4=d.useRef(null),t4=d.useRef(null),[vq,n4]=d.useState(!1),v_=d.useRef(!1),Wu=d.useRef(!0),lm=d.useRef(!1),[w_,C_]=d.useState(!1),__=d.useRef(!1),j_=d.useRef(null),N_=d.useRef(null);d.useEffect(()=>{const X=bt[bt.length-1];if(!X||X.role!=="assistant")return;const de=X.action,Be=`${X.id}-${de}`;N_.current!==Be&&(de==="exit_cost"||de==="exit_cost_credit_limit_reached"||de==="finish"||de==="context_limit_reached"||de==="pause")&&(N_.current=Be,B({includePlans:!1}))},[bt,B]);const F_=()=>{H(Za.SCROLL_TO_BOTTOM_CLICKED,{jobId:Je,containerId:Jt,tabId:e,messageCount:bt.length}),he.current&&(Jo.current&&(clearTimeout(Jo.current),Jo.current=null),he.current.scrollToIndex({index:bt.length-1,behavior:"smooth"}),setTimeout(()=>{om(!1),am(!0),L0.current=!1,md.current=!0},100))};d.useEffect(()=>{const X=p===e;!Q3.current&&X&&(v_.current=!0,w_&&he.current&&md.current&&requestAnimationFrame(()=>{he.current?.scrollToIndex({index:bt.length-1,behavior:"auto",align:"end"})}),setTimeout(()=>{v_.current=!1},500)),Q3.current=X},[p,e,w_,bt.length]),d.useEffect(()=>{bt.length>1&&Wu.current&&Ei.trajectory?.length>0&&(lm.current=!0,requestAnimationFrame(()=>{he.current&&he.current.scrollToIndex({index:bt.length-1,behavior:"auto",align:"end"}),setTimeout(()=>{C_(!0),requestAnimationFrame(()=>{Wu.current=!1})},50)}))},[bt.length,Ei.trajectory?.length]),d.useEffect(()=>{if(bt.length>0){const X=[...bt].reverse().find(de=>de.role==="assistant");if(X&&X.thinking_level&&X.id&&X.id!==In){const de=X.thinking_level==="ultra_mode";Qt(de),us(X.id)}}},[bt.length,In]);const wq=X=>{Jo.current&&(clearTimeout(Jo.current),Jo.current=null),X?Jo.current=setTimeout(()=>{he.current&&(am(!0),om(!1),L0.current=!1),Jo.current=null},150):(am(!1),om(!0),L0.current=!0),md.current=X};d.useEffect(()=>{if(!zu.current&&p===e&&he.current&&bt.length>0){const X=setTimeout(()=>{he.current&&he.current.getState(de=>{if(de){const Be=de.isScrolling===!1&&de.lastItemIndex===bt.length-1&&de.offsetBottom<100;Be?(am(!0),om(!1)):(am(!1),om(!0)),md.current=Be}})},100);return()=>clearTimeout(X)}},[p,e,bt.length]),d.useEffect(()=>()=>{Jo.current&&clearTimeout(Jo.current),$u.current&&clearTimeout($u.current),e4.current&&clearTimeout(e4.current),t4.current&&clearTimeout(t4.current)},[]),d.useEffect(()=>{Wu.current=!0,lm.current=!1,C_(!1)},[e,Je]);const[Cq,cm]=d.useState(!1),[s4,P0]=d.useState(!1),[r4,i4]=d.useState(!1),{showErrorToast:_q}=Vve(),{newToast:E_,changePosition:jq}=Ga(),Nq=d.useCallback(()=>{i4(!1),P0(!1)},[]),Fq=d.useCallback(()=>{cm(!1)},[]),S_=d.useCallback(()=>{if(!Je||!Jt)return;ss("wake_up_clicked",{jobId:Je}),J(!0),cm(!1),(()=>{setTimeout(()=>{try{cm(!1),Vr({jobId:Je,upgrade:an?.show_upgrade&&Dt?.machineType!=="large"}).unwrap().then(de=>{de&&(an?.show_upgrade&&jl({payload:{task:an?.pod_state_hitl},client_ref_id:Je,resume:!0}).unwrap(),setTimeout(()=>{He(!1),Bs(!1),J(!1),cm(!0),ss("wake_up_successful",{jobId:Je})},5500))}).catch(de=>{let Be="We are pulling your job from archive. Please try again after 30 Minutes.";de.response&&de.response.data?Be=de.response.data.message||de.response.data.error||Be:de.message&&(Be=de.message),jq(Oa.BOTTOM_LEFT),E_.info("It's taking longer than expected. We will reach out to you once the agent wakes up"),J(!1),ss("wake_up_failed",{jobId:Je,errorMessage:Be})})}catch(de){E_.info("It's taking longer than expected. We will reach out to you once the agent wakes up"),ss("wake_up_failed",{jobId:Je,error:JSON.stringify(de)})}},100)})()},[Je,Jt,an?.show_upgrade,an?.pod_state_hitl,Dt?.machineType]),a4=d.useCallback(async({origin:X="MainInput"})=>{if(!(!Dt?.job_id||!an?.agent_running)){Ln(!0),He(!0);try{const de=await vt.pauseJob({job_id:Dt.job_id,agent_name:X==="SubagentButton"?"SkilledAssistant":y?.agentName});de.status===200||de.status}catch{w({title:"Error",description:"Failed to pause agent",variant:"destructive"}),Ln(!1),He(!1)}}},[Dt?.job_id,an?.agent_running,y?.agentName,w]);d.useEffect(()=>{!an?.agent_running&&it&&Ln(!1)},[an?.agent_running,it]),d.useEffect(()=>{if(!De)return;const X=Yi[Yi.length-1]?.fork_status||null,de=Yi[Yi.length-1]||null,Be=Sbe({agentState:an,isSubagentActive:dt,currentAgentStatus:Es,isPauseLoading:it,forked_status:X,lastMessage:de});Be!==Es&&(ar(Be),_(IX({tabId:e,agentStatus:Be})));const wt=y?.user_prompt_id&&y?.user_prompt_id!=="auto_prompt_selector_dev";tt(wt?de?.expertise_type?.replaceAll("_"," "):"Agent"),kt(de?.function_name?.replaceAll("_"," ")||"Subagent");const pn=e5(de?.next_call_agent)||de?.next_call_agent===null&&e5(de?.agent_name);Be==="subagent_running"||Be==="subagent_waiting"||Be==="subagent_stopping"?Me(!0):pn&&Me(!1)},[an,dt,Es,it,Yi,_,e,De]),d.useEffect(()=>{o(e,{subagentName:It,isSubagentActive:dt})},[It,dt,Es,e,o]),d.useEffect(()=>{Sn&&(Es==="running"||Es==="subagent_running")&&yn(!1)},[Es,Sn]);const Xo=async({content:X})=>{try{const de=$(),Be=j?.id,wt={processor_type:"env_only",is_cloud:!0,task:X,prompt_name:"",prompt_version:"latest",work_space_dir:"",model_name:Pt||"claude-3-5-sonnet-20241022",env_image:"",base64_image_list:[],human_timestamp:new Date().toISOString(),thinking_level:ut?"ultra_mode":"thinking",...de&&{organization_id:de},...Be&&{user_id:Be}};await vt.submitCloudJob(wt,Dt?.job_id,!0)}catch{_L({tabId:e,content:X}),w({title:"Error",description:"Failed to resume agent",variant:"destructive"})}},Eq=d.useCallback(X=>{if(X.trim()){const de=`Here are the test cases for the screen & audio recording:

\`\`\`json
${X}
\`\`\``;qa(de,[]),Xo({content:de})}},[qa,Xo]),Sq=d.useCallback(X=>{qa(X,[]),Xo({content:X})},[qa,Xo]),kq=d.useCallback((X,de)=>{const Be=de?.map(wt=>({artifact_id:wt.artifact_id,entity_id:Je||"",entity_type:"job",visibility:"public",file_name:wt.file_name,description:wt.description}));qa(X,[],Be),Xo({content:X}),nn(!1)},[qa,Xo,Je]),[o4,k_]=d.useState(!0),[l4,c4]=d.useState(!1);d.useEffect(()=>{const X=de=>{(de.metaKey||de.ctrlKey)&&de.key==="/"&&(de.preventDefault(),k_(Be=>!Be)),(de.metaKey||de.ctrlKey)&&de.key==="f"&&(de.preventDefault(),k0(!0)),Bu.isActive&&(de.key==="Escape"?(de.preventDefault(),k0(!1)):de.key==="Enter"&&(de.preventDefault(),de.shiftKey?B3():O3()))};return window.addEventListener("keydown",X),()=>{window.removeEventListener("keydown",X)}},[Bu.isActive,k0,O3,B3]);const ao=wn?Zr?.category.toLowerCase().includes("mobile"):Dt?.promptName?.includes("expo")||Dt?.env_image?.includes("expo"),I_=(W?.showcase_remix_enabled??!1)&&!Zr?.category?.toLowerCase().includes("mobile"),El=d.useRef(null),O0=d.useRef(!1),dm=d.useRef(-1);d.useEffect(()=>{if(bt.length){if(dm.current===-1){dm.current=bt.length;return}for(let X=dm.current;X<bt.length;X++){const de=bt[X];if(de.function_name?.includes("replace")||de.function_name?.includes("create_file")||de.function_name?.includes("bulk_file")||de.function_name?.includes("insert_text")||de.function_name?.includes("apply_patch")){O0.current=!0;break}}dm.current=bt.length}},[bt]),d.useEffect(()=>{const X=Es==="waiting"||Es==="subagent_waiting",de=Es==="running"||Es==="subagent_running";return X&&O0.current&&!rs&&ao&&(El.current&&clearTimeout(El.current),El.current=setTimeout(()=>{cm(!0),O0.current=!1,El.current=null},3e3)),de&&(O0.current=!1,dm.current=bt.length,El.current&&(clearTimeout(El.current),El.current=null)),()=>{El.current&&clearTimeout(El.current)}},[Es,rs,ao]);const d4={enablePublish:bt.find(X=>X.role==="user"||X.role==="member")?.content?.includes("https://moltbot.emergent.to/install.sh")??!1,isPublished:Dt?.isPublished},um={subagent:45,info:30,urlPreview:ao?35:50,deploy:45,logs:30},[Sl,Iq]=d.useState(!1);d.useEffect(()=>{bt.length>0&&$e(X=>Tq(bt[0]?.timestamp)||X)},[bt]);function Tq(X){return X?new Date(X)<new Date("2025-04-25T00:00:00Z"):!1}const Aq=d.useMemo(()=>Fh((X,de)=>{let Be;const wt=nae();wt&&de==="android"?Be=Da.androidBuildPrompt+Da.logsIdentifier+X.join(`
`)+Da.logsIdentifier+Da.androidBuildPromptSuffix:wt&&de==="ios"?Be=Da.iosBuildPrompt+Da.logsIdentifier+X.join(`
`)+Da.logsIdentifier+Da.iosBuildPromptSuffix:Be=Da.logsHeading+Da.logsIdentifier+Da.logsPrompt+X.join(`
`)+Da.logsIdentifier,an?.agent_running?w({title:"Agent is Running",description:"Please wait for agent to finish or stop it manually before sharing logs",variant:"destructive",duration:2e3}):(vs&&D(),qa(Be,[]),Xo({content:Be}))},1e3,{leading:!0,trailing:!1}),[an?.agent_running,vs,D,qa,Xo,w]),Dq=d.useMemo(()=>Fh(()=>{const X="Call Deployer Agent and Run Health Check to Check for Readiness for Deployment";!an?.agent_running&&!rs?(vs&&D(),qa(X,[]),Xo({content:X})):w({title:"Agent is Running",description:"Please wait for agent to finish or stop it manually before running health check",variant:"destructive",duration:2e3})},1e3,{leading:!0,trailing:!1}),[an?.agent_running,rs,vs,D,qa,Xo,w]),Mq=()=>F?um.urlPreview:I?um.deploy:S?um.subagent:E?um.info:C?um.logs:0,u4=()=>F?U.previewDefaultWidth:I?45:S?50:30,hd=Mq()>0,{config:p4,refetch:Rq}=sc(),B0=d.useRef(!1),Lq=async(X,de)=>{const Be=[];for(const wt of X)try{const pn=URL.createObjectURL(wt),cr=wt.type.startsWith("image/"),Jr={file_name:wt.name,mime_type:wt.type},Xr=await vt.uploadArtifact(de,Jr);await vt.uploadFileToUrl(Xr.upload_url,wt),Be.push({artifact_id:Xr.artifact_id,entity_id:de,entity_type:"job",visibility:"public",file_name:wt.name,description:"",file_path:Xr.file_path,readByAgent:cr,mime_type:wt.type,file_size:wt.size,local_preview_url:pn,local_preview_base64:void 0})}catch{}return Be};d.useEffect(()=>{(y.needsApiCall||y.apiCallInProgress)&&$3?(i4(!0),P0(!1)):r4&&!s4&&P0(!0)},[y.needsApiCall,y.apiCallInProgress,r4,s4,$3]);const T_=d.useCallback(async()=>{if(!(B0.current||y.apiCallInProgress)){if(y.client_ref_id){y.needsApiCall&&o(e,{...y,needsApiCall:!1});return}B0.current=!0;try{const X=y.pending_client_ref_id||crypto.randomUUID();o(e,{...y,apiCallInProgress:!0,pending_client_ref_id:X,needsApiCall:!1,fromShowCase:!1,showCase:!1,created_by:j?.id});const{selectedAgent:de,task:Be,model_name:wt,per_instance_cost_limit:pn,agentic_skills:cr,portMappings:Jr,image:Xr,selectedImage:Zi,base64_image_list:ya,repository:wi,branch:Ta,e15Enabled:Ka,e2Enabled:pm}=y,hc=ya||[],Vi=Xr||Zi,jo=de||y.agentName||y.agent_name,No=wt||y.modelName||y.model,Vq=y.selectedAgent&&y.selectedAgent!=="",$q=y.model_name&&y.model_name!=="",zq=(y.selectedImage||y.image)&&(y.selectedImage!==""||y.image!==""),U0=$(),m4=(sa,g4,gd,Gu)=>g4?sa:Ka?p4?.e15_experimental?.[gd]||Gu:pm&&p4?.e2_experimental?.[gd]||Gu,R_=m4(jo,Vq,"agent",jo),L_=m4(No,$q,"baseModel",No),P_=m4(Vi,zq,"dockerImage",Vi),h4={...y.user_prompt_id?{user_prompt_id:y.user_prompt_id}:{prompt_name:R_},prompt_version:"latest",work_space_dir:"",task:Be,model_name:L_,model_manually_selected:y.modelManuallySelected||!1,per_instance_cost_limit:parseInt(pn?.toString()||"25",10),agentic_skills:cr,portMapping:Jr,env_image:P_,plugin_version:p4?.plugin_library_version,base64_image_list:hc,repository:wi,branch:Ta,human_timestamp:Date.now(),asset_upload_enabled:sn,is_pro_user:L==="pro_mode",testMode:on,thinking_level:y.ultraMode?"ultra_mode":"thinking",...n0()&&{job_mode:y.privacy||"public"},...U0&&{organization_id:U0},mcp_id:y.selectedMcpServerIds||[],...y.initial_preceived_msg&&{initial_preceived_msg:y.initial_preceived_msg},...Be?.includes("https://moltbot.emergent.to/install.sh")&&{job_type:"moltbot"}};if(Be&&!Vi)throw ss("new_job_submitted_without_data",{tabState:y,payload:h4}),new Error("Task creation failed, please try again after a refresh.");let H0=[];if(sn&&y.selectedFiles&&y.selectedFiles.length>0)try{H0=await Lq(y.selectedFiles,X),H0.length>0&&_(NL({tabId:e,artifacts:H0}))}catch{}const xd=[...Ou,...H0];let x4;sn&&xd.length>0&&(x4={artifacts:xd.map(sa=>({artifact_id:sa.artifact_id,entity_id:sa.entity_id,entity_type:sa.entity_type,visibility:sa.visibility,file_name:sa.file_name,description:sa.description,file_path:sa.file_path}))});const Wq=j?.id&&Q.length===0,Gq=j?.id&&!localStorage.getItem(`first_message_sent_${j.id}`);let O_;j?.id&&(O_=aae(j.id,X,Q.length)),Wq&&(localStorage.setItem(`first_job_created_${j.id}`,"true"),localStorage.setItem("first_job_timestamp",new Date().toISOString()),_se(j.id,X,Be,{agent_name:jo,model_name:No,docker_image:Vi,has_images:hc.length>0,image_count:hc.length,has_artifacts:xd.length>0,artifact_count:xd.length,organization_id:U0||"personal",is_experimental:!1,ultra_mode:y.ultraMode||!1,privacy:y.privacy||"public",tier:L})),Gq&&localStorage.setItem(`first_message_sent_${j.id}`,"true");const qq=vt.submitCloudJob(h4,X,!1,x4,O_);try{const sa=await vt.getChatPreview(h4,X,!1,x4);if(sa?.text){o(e,{...y,apiCallInProgress:!1,needsApiCall:!1}),i4(!1),P0(!1),Ks.current&&clearTimeout(Ks.current),vr({content:sa.text,typing:!0}),S0(gd=>{const Gu=[...gd],Yq={id:"initial-llm",role:"assistant",content:sa.text,timestamp:new Date().toISOString(),base64_image_list:[],typing:!0,action:"initial-llm",function_name:"initial-llm",tying:!0};return Gu.push(Yq),Gu});const g4=sa.text.length*50+1e3;Ks.current=setTimeout(()=>{vr(gd=>gd?{...gd,typing:!1}:null)},g4)}}catch{o(e,{apiCallInProgress:!0,needsApiCall:!0})}await qq,H("job_created",{userId:j?.id,jobId:X,task:Be?.substring(0,100),agent_name:R_,model_name:L_,docker_image:P_,has_images:hc.length>0,image_count:hc.length,has_artifacts:xd.length>0,artifact_count:xd.length,organization_id:U0||null,ultra_mode:y.ultraMode||!1,privacy:y.privacy||"public",tier:L,budget:parseInt(pn?.toString()||"25",10)}),sn&&xd.length>0&&_(Rv({tabId:e})),(sn&&y.selectedFiles?.length>0||y.selectedImages?.length>0)&&o(e,{...y,selectedFiles:[],selectedImages:[]});const Kq={...y,containerId:X,client_ref_id:X,apiCallInProgress:!1,needsApiCall:!1,task:Be,fromJobList:!0,tabHeading:Be,jobId:X,apiCallSuccessful:!0,pending_client_ref_id:void 0,fromShowCase:!1,showCase:!1,created_by:j?.id,newJob:!1};o(e,Kq)}catch(X){const de=X?.response?.data?.detail||X?.message;jt(Zt.JOB.SUBMISSION,X,{jobId:y?.jobId||null,tabStateTaskAvailable:!!y?.task,tabStateHasImages:!!(y?.image||y?.selectedImage),message:de}),w({title:"Error",description:de||"Failed to submit task. Please try again.",variant:"destructive",duration:5e3}),f(Be=>Be.filter(wt=>wt.id!==e)),m("home")}finally{B0.current=!1}}},[y,e,o,Rq,w,f,m,sn,$3]),A_=d.useRef(!0),Pq=()=>localStorage.getItem(`hasOpenedPreviewBefore-${Je}`)==="true";d.useEffect(()=>{const X=async()=>{const Be=y.pending_client_ref_id&&!y.client_ref_id,wt=y.needsApiCall&&!y.apiCallInProgress;Be&&(wt||o(e,{...y,task:y.task,clientRefId:y.pending_client_ref_id,containerId:y.pending_client_ref_id,client_ref_id:y.pending_client_ref_id,apiCallInProgress:!1,needsApiCall:!1,pending_client_ref_id:void 0,jobId:y.pending_client_ref_id,fromShowCase:!1,showCase:!1,created_by:j?.id}))};y.pending_client_ref_id&&!y.client_ref_id&&A_.current&&(X(),A_.current=!1)},[]),d.useEffect(()=>{y.needsApiCall&&!y.apiCallInProgress&&!B0.current&&(y.task&&(y.image||y.selectedImage)?setTimeout(()=>{T_()},50):setTimeout(()=>{const X=a(e);X.task&&(X.image||X.selectedImage)&&T_()},200))},[y.needsApiCall,y.apiCallInProgress,y.task,y.image,y.selectedImage]);const{totalBannerHeight:Oq}=ka(),Bq=Oq+56,Uq=async(X,de)=>{try{const Be=await vt.submitFork(X,de);(Be.status===200||Be.status===201)&&Kt&&dn&&dn({...Kt,fork:!1})}catch(Be){w({title:"Error",description:Be instanceof Error?Be.message:"Failed to fork your task, please try again.",variant:"destructive"}),Kt&&dn&&dn({...Kt,fork:!1})}},D_=d.useCallback(X=>{ps(X),dn(de=>({...de,unsavedChanges:!0}))},[dn,ps]),f4=d.useCallback(()=>{dn(X=>({...X,unsavedChanges:!1}))},[dn]),Hq=On?{isVisible:hd,isDragging:!R&&Sl,defaultSize:R?0:u4(),minSizeInPixels:R?0:I?680:530,maxSize:R?0:U.previewMaxWidth,className:`bg-[#0F0F10] ${hd?R?"absolute inset-0 w-full z-49":"md:relative absolute inset-0 w-full":""}`,exitDelay:400}:{isVisible:hd,isDragging:!vs&&Sl,defaultSize:vs?0:u4(),...I?{minSizeInPixels:vs?0:680}:{minSize:vs?0:30},maxSize:vs?0:U.previewMaxWidth,className:`bg-[#0F0F10] ${hd?vs?"absolute inset-0 w-full z-49":"md:relative absolute inset-0 w-full":""}`,exitDelay:400};if(r4)return t.jsx(_6,{children:t.jsx("div",{className:"w-screen h-full",children:t.jsx(N7e,{complete:s4,onComplete:Nq})})});if(wn)return t.jsxs(_6,{children:[t.jsxs("div",{className:"flex flex-col w-screen h-full bg-[#0F0F10]",children:[t.jsxs(fe.div,{transition:{duration:.3,ease:"easeInOut"},className:"relative flex items-center justify-between px-3 text-xl text-white md:p-4 ",children:[t.jsxs(fe.div,{animate:{justifyContent:ls||vs?"space-between":"flex-start",width:vs?"100%":ls?"320px":"auto"},transition:{duration:.3,ease:"easeInOut"},className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-white/80 tracking-[-0.1px] text-[16px] font-medium max-md:hidden",children:y?.tabHeading||"Remix Preview"}),t.jsx("div",{"data-testid":gs.showcase.infoToggleButton,className:"p-1 border-[#FFFFFF1F] max-md:hidden border-[1.17px] w-fit rounded-[7px] bg-[#FFFFFF0A] cursor-pointer hover:bg-[#FFFFFF14] transition-colors",onClick:()=>{ls?H("showcase_sidebar_closed",{showcase_id:y?.showcaseId,showcase_title:Zr?.title,job_id:Je,tabId:e}):H("showcase_sidebar_opened",{showcase_id:y?.showcaseId,showcase_title:Zr?.title,job_id:Je,tabId:e}),Rr(!ls)},children:ls?t.jsx(Ft,{size:20}):t.jsx(o5,{size:20,color:"white"})})]}),!ao&&t.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 bg-[#FFFFFF0A] max-md:hidden border-[#FFFFFF1F] border rounded-[8px] p-1 gap-1 flex",children:[t.jsx("div",{"data-testid":gs.showcase.viewportDesktop,className:`flex items-center justify-center w-6 h-6 rounded-[6px] cursor-pointer transition-all ${An==="desktop"?"bg-[#FFFFFF]":"opacity-60"}`,onClick:()=>{H("showcase_view_mode_changed",{showcase_id:y?.showcaseId,showcase_title:Zr?.title,job_id:Je,view_mode:"desktop",previous_view_mode:An,tabId:e}),Hn("desktop")},children:t.jsx(EFe,{size:16,color:An=="desktop"?"black":"white"})}),t.jsx("div",{"data-testid":gs.showcase.viewportTablet,className:`flex items-center justify-center w-6 h-6 rounded-[6px] cursor-pointer transition-all ${An==="tablet"?"bg-[#FFFFFF]":"opacity-60"}`,onClick:()=>{H("showcase_view_mode_changed",{showcase_id:y?.showcaseId,showcase_title:Zr?.title,job_id:Je,view_mode:"tablet",previous_view_mode:An,tabId:e}),Hn("tablet")},children:t.jsx(Vme,{size:16,color:An=="tablet"?"black":"white"})}),t.jsx("div",{"data-testid":gs.showcase.viewportMobile,className:`flex items-center justify-center w-6 h-6 rounded-[6px] cursor-pointer transition-all ${An==="mobile"?"bg-[#FFFFFF]":"opacity-60"}`,onClick:()=>{H("showcase_view_mode_changed",{showcase_id:y?.showcaseId,showcase_title:Zr?.title,job_id:Je,view_mode:"mobile",previous_view_mode:An,tabId:e}),Hn("mobile")},children:t.jsx(SFe,{size:16,color:An=="mobile"?"black":"white"})})]}),t.jsx(ms,{children:t.jsxs("div",{className:"flex items-center gap-3 max-md:hidden",children:[I_&&t.jsx(Z2,{className:"flex items-center justify-center w-full max-h-8",onClick:o_,icon:t.jsx(J2,{}),children:l_?"Remixing...":"Remix this template"}),t.jsxs(Ss,{delayDuration:100,children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{"data-testid":gs.showcase.openNewTabButton,title:"Open in new tab",type:"button",onClick:()=>{const X=Zo();X&&(H("showcase_open_new_tab_clicked",{showcase_id:y?.showcaseId,showcase_title:Zr?.title,job_id:Je,preview_url:Hs,new_tab_url:X,tabId:e}),window.open(X,"_blank","noopener,noreferrer"))},className:"min-w-8 min-h-8 border-[1.48px] border-[#FFFFFF1F] bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px] group",onMouseEnter:X=>{const de=X.currentTarget.querySelector("svg");if(de){const Be=de.querySelector("path");Be&&Be.setAttribute("fill","#ffffffCC")}},onMouseLeave:X=>{const de=X.currentTarget.querySelector("svg");if(de){const Be=de.querySelector("path");Be&&Be.setAttribute("fill","#ffffff66")}},children:t.jsx(MFe,{fill:"#ffffff66"})})}),t.jsx(Ns,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:"Open in new tab"})]}),t.jsxs(Ss,{delayDuration:100,children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{"data-testid":gs.showcase.refreshButton,title:"Refresh",type:"button",onClick:()=>{H("showcase_refresh_clicked",{showcase_id:y?.showcaseId,showcase_title:Zr?.title,job_id:Je,preview_url:Hs,tabId:e}),Ge(!0),document.querySelectorAll('iframe[title="Remix Preview"]').forEach(de=>{const Be=de.src,wt=new URL(Be);wt.searchParams.set("_t",Date.now().toString()),de.src=wt.toString()})},className:"min-w-8 min-h-8 border-[1.48px] border-[#FFFFFF1F]  bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",onMouseEnter:X=>{const de=X.currentTarget.querySelector("svg");if(de){const Be=de.querySelector("path");Be&&Be.setAttribute("fill","#ffffffCC")}},onMouseLeave:X=>{const de=X.currentTarget.querySelector("svg");if(de){const Be=de.querySelector("path");Be&&Be.setAttribute("fill","#ffffff66")}},children:t.jsx(x3,{width:20,height:20,fill:"#ffffff66",spinning:!1})})}),t.jsx(Ns,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:"Refresh"})]})]})})]}),t.jsxs("div",{className:Ad("flex h-full px-4 max-md:px-0 max-md:pb-0 pb-[10px] bg-[#0F0F10] overflow-y-auto gap-[10px]"),children:[t.jsx(Kn,{children:ls&&!vs&&t.jsx(fe.div,{initial:{width:0,opacity:0},animate:{width:vs?"100%":320,opacity:1},exit:{width:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:Ad("relative h-full overflow-hidden flex-shrink-0",vs&&"absolute top-0 left-0 z-50 bg-[#0F0F10]"),children:t.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,delay:.15,ease:"easeOut"},className:"flex flex-col h-full p-4 px-[6px] overflow-y-auto gap-7",style:{minWidth:vs?"100%":320},children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsx("span",{className:"text-[#FFFFFF]/40 font-inter text-[14px] font-medium leading-relaxed",children:LFe(Zr?.details?.description)})}),Zr?.details?.pages_included&&Zr.details.pages_included.length>0&&t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(zC,{className:"opacity-40"}),t.jsx("span",{className:"text-[14px] font-medium",children:"Pages included"})]}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Zr.details.pages_included.map((X,de)=>t.jsx("div",{className:"bg-[#18181A] px-3 py-1 rounded-[8px] font-inter font-medium text-[14px] text-white/40 border border-[#FFFFFF0F]",children:X},de))})]}),t.jsx(gW,{highlights:Zr?.details?.highlights})]})})}),!vs&&t.jsxs(fe.div,{className:Ad("border border-[#FFFFFF1F] rounded-[16px] overflow-y-auto flex justify-center relative flex-grow flex-shrink h-full",ls&&"rounded-[16px]",ao&&"bg-[url('/bg_grid.png')] bg-repeat py-4"),children:[mt||Xs?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10] z-10",children:t.jsx(Pc,{className:"h-12 w-12 text-[#69FF66]"})}):null,Hs?ao?t.jsx(y8,{className:"w-[340px] h-[750px]",maxWidth:"340px",children:t.jsx("iframe",{src:Hs,className:"flex-1 w-full h-full overflow-y-auto border-0",title:"Remix Preview",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-modals",onLoad:()=>Ge(!1)})}):t.jsx(fe.iframe,{src:Hs,animate:{width:An==="mobile"?"375px":An==="tablet"?"768px":"100%"},transition:{duration:.3,ease:"easeInOut"},className:"h-full border-0",title:"Remix Preview",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-modals",onLoad:()=>Ge(!1)}):!Xs&&!mt?t.jsx("div",{className:"flex items-center justify-center flex-1 w-full h-full",children:t.jsx("div",{className:"text-lg text-white/60",children:"No preview available"})}):null]}),vs&&t.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[mt||Xs?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10] z-10",children:t.jsx(Pc,{className:"h-12 w-12 text-[#69FF66]"})}):null,Hs?t.jsx(fe.iframe,{src:Hs,animate:{width:An==="mobile"?"375px":An==="tablet"?"768px":"100%"},transition:{duration:.3,ease:"easeInOut"},className:"h-full border-0",title:"Remix Preview",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-modals",onLoad:()=>Ge(!1)}):!Xs&&!mt?t.jsx("div",{className:"flex items-center justify-center flex-1 w-full h-full",children:t.jsx("div",{className:"text-lg text-white/60",children:"No preview available"})}):null]})]})]}),I_&&t.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-[#0F0F10] via-[#0F0F10] to-transparent md:hidden z-50",children:t.jsx(Z2,{className:"flex items-center justify-center w-full h-12",onClick:o_,icon:t.jsx(J2,{}),children:l_?"Remixing...":"Remix this template"})}),t.jsx(Kn,{children:pc&&t.jsx(fe.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx(DFe,{isOpen:pc,onOpenChange:fc,showcaseDetails:Zr})})})]});const M_={isOpen:Kt.fork,appName:Dt?.dynamic_preview_subdomain||"",onOpenChange:X=>{dn(de=>({...de,fork:X})),X||Fs(null)},onFork:Uq,podIsPaused:rs,jobId:Gn?.jobId||Dt?.job_id,messages:Gn?.messages||bt,summaryData:Gn?.summaryData,startInSummaryMode:Gn?.startInSummaryMode};return t.jsx(Z5e,{tabId:e,children:t.jsxs(_6,{children:[t.jsxs(d7e,{direction:"horizontal",className:"relative flex w-full bg-[#0F0F10]",style:{height:`calc(100dvh - ${Bq}px)`},children:[t.jsx(u7e,{defaultSize:vs?100:hd?100-u4():100,minSize:vs?100:U.mainContentMinWidth,maxSize:vs?100:void 0,className:Ad(hd&&!vs?"md:block hidden":"block"),children:t.jsxs("div",{"data-testid":Vs.screen,className:"relative flex flex-col h-full max-md:pt-2",children:[VG&&t.jsx(_Ce,{}),t.jsx("div",{className:"h-10 md:h-16 pt-1 md:pt-3 bg-transparent md:bg-gradient-to-b from-[#0f0f0f] to-[#0f0f0f00] w-fit md:w-full right-0 md:right-3 fixed md:absolute top-[14px] md:top-[0px] z-[50] md:z-[49]",children:t.jsx(j$,{handleVSCodeLink:LG,handleShowDiff:Ko,handlePreviewClick:W3,handleInfoClick:hq,handleDeployClick:F0,onPublish:L3,showActions:xq,hideImportantActions:Et&&!on,jobId:Je,tabId:e,podIsPaused:rs,enableDeploy:gq,publishConfig:X3,previewUrl:Uu?Hs:"",buildMode:Pe,isShowcaseRemix:Dt?.is_showcase_remix,showcase:Dt?.showcase,isExpoImage:ao,isPhishingBlocked:_s})}),t.jsx(Fbe,{searchState:Bu,updateSearchQuery:$G,navigateToPrevMatch:B3,navigateToNextMatch:O3,toggleSearch:k0}),t.jsxs("div",{className:"relative flex-1 w-full h-full overflow-hidden",children:[t.jsx("div",{className:`absolute top-3 left-1/2 -translate-x-1/2 z-20 pointer-events-none transition-opacity duration-200 ${vq?"opacity-100":"opacity-0"}`,children:t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-background border border-border rounded-full shadow-md",children:[t.jsx(Pc,{className:"h-3.5 w-3.5 text-muted-foreground"}),t.jsx("span",{className:"text-xs text-foreground/70",children:"Loading..."})]})}),t.jsxs("div",{className:"absolute inset-0",children:[(!Dt?.forked?.parent_job_id&&!y?.isRemix&&bt.length===0||Dt?.forked?.parent_job_id&&bt.length<=1||y?.isRemix&&!Dt?.is_showcase_remix)&&t.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center h-full text-center bg-background",children:t.jsx("div",{className:"max-w-md",children:t.jsx("p",{className:"text-[#C4C4CC] text-base mb-2",children:t.jsx(Pc,{})})})}),!(!Dt?.forked?.parent_job_id&&!y?.isRemix&&bt.length===0||Dt?.forked?.parent_job_id&&bt.length<=1||y?.isRemix&&!Dt?.is_showcase_remix)&&t.jsx(rY,{ref:he,scrollerRef:X=>{me.current=X},className:Ad("w-full h-full overflow-x-hidden",_s&&"overflow-hidden"),style:{height:"100%",paddingTop:ir?"120px":"0px",..._s&&{overflow:"hidden",pointerEvents:"none"}},"data-testid":Vs.virtuosoList,"data-virtuoso-scroller":"true",data:Yi,atBottomThreshold:100,initialTopMostItemIndex:lm.current?pd+Math.max(0,Yi.length-1):void 0,firstItemIndex:Y?pd:0,atBottomStateChange:X=>{wq(X)},followOutput:Wu.current?!1:bq?"smooth":!1,startReached:Y?aq:void 0,rangeChanged:Y?lq:void 0,itemContent:(X,de)=>{if(!de)return t.jsx("div",{style:{height:"1px",minHeight:"1px"}});const Be=mc+Yi.length-1,wt=Yo?.current_usage||0,pn=Yo?.max_budget||0,{lastIsUser:cr,contextLimitReached:Jr,hasExplicitContextLimitMessage:Xr,isContextLimitResolvedByAutoCompact:Zi}=Y3,ya=de?.function_name==="rollback",wi=de.role==="assistant"&&(de.action==="pause"||de.function_name==="pause"||de.warning_for_token_limit===!0)&&X!==Be,Ta=HG&&wi,Ka={...de};Dt?.is_showcase_remix===!0&&X===mc+1&&(de.function_name==="ask_human"||de.function_name==="default_tool")&&(Ka.action=Da.remixWelcomeMessage);const Vi=X===Be&&Jr&&!cr&&!Xr&&!Zi;if(de.function_name=="forked"){const No=(de.forked_job_id||de.forked_from)&&de.fork_status!="failed"?"completed":de.fork_status=="failed"?"error":"running";return t.jsx(Lg,{state:No,count:X-mc+1,message:de,disabled:rs||M<=0,isDropdownOpen:l4,setIsDropdownOpen:c4,currentJobId:Dt?.job_id,messages:bt,onOpenForkModal:G3,onOpenForkModalWithSummary:q3,isLastMessage:X===Be})}return t.jsx("div",{className:"flex justify-center w-full min-h-[1px]",children:t.jsxs("div",{className:Ad("w-full hover:bg-[rgba(255,255,255,0.02)]",ya&&"bg-[#FFAA800D] hover:bg-[#FFAA800D] mb-2",X===mc&&"mt-10"),children:[bt.length>0&&X===mc&&Dt?.forked?.parent_job_id&&t.jsx(Lg,{isDropdownOpen:l4,setIsDropdownOpen:c4,state:Dt.is_showcase_remix===!0?"remixed":"forked",message:bt[bt.length-1],forked:Dt?.forked,showcase:Dt?.showcase,currentJobId:Dt?.job_id,messages:bt,onOpenForkModal:G3,onOpenForkModalWithSummary:q3,disabled:rs||M<=0,isLastMessage:!1}),bt.length>0&&X===mc&&Dt?.is_showcase_remix&&t.jsx(Lg,{isDropdownOpen:l4,setIsDropdownOpen:c4,state:Dt.is_showcase_remix===!0?"remixed":"forked",message:bt[bt.length-1],forked:Dt?.forked,showcase:Dt?.showcase,currentJobId:Dt?.job_id,messages:bt,onOpenForkModal:G3,onOpenForkModalWithSummary:q3,disabled:rs||M<=0,isLastMessage:!1}),t.jsxs("div",{className:"mx-auto px-4 w-full",children:[!de.switching_to_build_mode&&de.role==="assistant"&&"action"in de&&!Ta&&!(Be===X&&Jr&&!Zi&&de.action==="pause")&&t.jsx(s5,{lastGithubUsed:Ne,togglePanel:A,hideRollback:de?.hideRollback,message:Ka,userInitials:K3,onMergeToLocal:()=>{},onShowSubagentMessages:(jo,No)=>rq(jo,No,de.id),onSubagentClick:p_,isSubagentActive:dt,handleOpenVsCode:Mn,handleRollback:()=>x_(de?.request_id),hideImportantActions:Et&&!on,isCloudFlow:Ps,isSubagent:!1,handleAddToken:sq,acc_cost:wt,max_budget:pn,selectedMessageId:Ot,currentChunk:js,forkStatus:Yi[Yi.length-1]?.fork_status,isLastMessage:X===Be,nextMessageExists:X<Be,agentState:an,panelState:T,jobDetails:Dt,agentName:y?.agentName,subagentName:de.function_name?.replaceAll("_"," ")||"Subagent",onPause:()=>{a4({origin:"MainInput"})},isPauseLoading:it,podIsPaused:rs,modalOpen:Kt,setModalOpen:dn,openUpgradeModal:()=>ot(!0),isTyping:de.action==="initial-llm"&&de.typing,onTypingComplete:()=>{tm()},agentStatus:Es,searchActive:Bu.isActive,searchHighlights:U3(de.id),isMatchingMessage:H3(de.id),isExpoImage:ao,buildMode:Pe,onEnableVisualEdit:f_,isVisualEditEnabled:oe&&!vs,enableVisualEdit:Dt?.enable_visual_edit,enablePublish:d4?.enablePublish,jobId:Je,onPublishSuccess:fr,previewUrl:Hs||Dt?.deploy_url||"",isDeployed:Lr}),de.role==="user"&&!(X===mc&&(Dt.forked?.parent_job_id||Dt.is_showcase_remix===!0||y?.isRemix===!0))&&t.jsx(v$,{message:de,hideRollback:de?.hideRollback,hideImportantActions:Et,isCloudFlow:Ps,handleRollback:()=>x_(de?.request_id),podIsPaused:rs,searchActive:Bu.isActive,searchHighlights:U3(de.id),isMatchingMessage:H3(de.id)}),de.role==="member"&&!(X===mc&&Dt.forked?.parent_job_id)&&t.jsx(F9e,{message:de,organizationMembers:b}),Vi&&t.jsx(s5,{currentChunk:js,togglePanel:A,userInitials:K3,hideImportantActions:Et,isCloudFlow:Ps,message:Z3,selectedMessageId:Ot,jobDetails:Dt,agentName:y?.agentName,subagentName:de.function_name?.replaceAll("_"," ")||"Subagent",onPause:()=>He(!0),modalOpen:Kt,setModalOpen:dn,searchActive:Bu.isActive,searchHighlights:U3(Z3.id),isMatchingMessage:H3(Z3.id),agentStatus:Es,isExpoImage:ao,buildMode:Pe,onEnableVisualEdit:f_,isVisualEditEnabled:oe&&!vs,enableVisualEdit:Dt?.enable_visual_edit,enablePublish:d4?.enablePublish,jobId:Je,onPublishSuccess:fr,previewUrl:Hs||Dt?.deploy_url||"",isDeployed:Lr}),X===Be&&(an?.agent_running||Pe==="salesman_agent"&&de.role==="user")&&nq()]})]})})},defaultItemHeight:100,overscan:400,onScroll:iq,components:{Footer:mq}},`virtuoso-${e}${Je?`-${Je}`:""}`)]})]}),(!Et||on)&&De&&!rs&&!_s&&o4&&y?.showCase!==!0&&t.jsxs("div",{className:Ad("absolute z-[40] bottom-0 left-0 right-0 flex flex-col justify-center bg-transparent rounded-t-l-[14px] rounded-t-r-[14px] pointer-events-none",O?"px-2":"px-4"),children:[y_&&t.jsx("div",{className:"flex justify-center mb-2 pointer-events-auto",children:t.jsx("button",{type:"button",onClick:F_,className:"z-[9999] p-2 w-[36px] h-[36px] flex items-center justify-center text-black transition-colors bg-white rounded-full shadow-lg hover:bg-white/80","aria-label":"Scroll to bottom","data-testid":Vs.scrollToBottom,children:t.jsx("img",{src:RFe,alt:"Scroll to bottom",className:"w-6 h-6 rotate-180"})})}),Cie()&&t.jsx("div",{className:"pointer-events-auto",children:t.jsx(R9e,{isVisible:V,previewUrl:Uu?Hs:"",onPreviewClick:async()=>{if(!_s){if(!F&&qs)try{await qs()}catch{}localStorage.setItem(`hasOpenedPreviewBefore-${Je}`,"true"),A({panelName:"showUrlPreviewPanel",value:!0})}},ariaLabel:"Open preview panel",hasOpenedBefore:Pq})}),t.jsx("div",{ref:fq,className:"relative flex items-center justify-center w-full md:pb-2 pb-0 rounded-t-l-[14px] rounded-t-r-[14px] pointer-events-auto overflow-hidden",children:t.jsx(bC,{placeholder:`Message ${Ut||"Neo"}`,lastGithubUsed:Ne,isDisabled:ke==="FAILED"||ow()||!Dt?.job_id&&!y?.isPerceivedUX,forked_status:Yi[Yi.length-1]?.fork_status||null,onSubmit:KG,agentState:an,agentStatus:Es,setAgentStatus:ar,containerId:Jt,jobDetails:Dt,newJob:y.newJob,acc_cost:Yo?.current_usage,max_budget:Yo?.max_budget,onAddToken:async()=>{Tt("increase_budget"),pt(!0)},inputValue:Re||"",isCloudFlow:Ps,clientRefId:yi,modelName:Pt,modalOpen:Kt,setModalOpen:dn,isSubagentActive:dt,disableWhenSubagentActive:!0,showFinishSubagentText:!0,onOpenSubagentPanel:()=>{if(bt.length>0){const X=bt[bt.length-1];p_(X)}},onGitHubPush:X=>{ge(X)},handleDeploy:F0,isMoltbot:X3.enablePublish,pauseWasClicked:Oe,onPause:a4,isPauseLoading:it,agentName:Ut||"Agent",subagentName:It||"Subagent",buildMode:Pe,onOpenUploadAssetsModal:h_,ultraMode:ut,onUltraModeChange:X=>{H("ultra_mode_toggled",{jobId:Je,containerId:Jt,isVisible:X,tabId:e}),Qt(X)},autoMessageEnabled:g,visualEditMode:Sn,onVisualEditModeChange:I0,selectedElementName:Ee,enableVisualEdit:Dt?.enable_visual_edit,visualEditDisabled:m_,hasUnsavedVisualEditChanges:At,onSaveVisualEditChanges:Mt.current?.save,onDiscardVisualEditChanges:Mt.current?.discard,isVisualEditChangesEnabled:oe,showUnsavedChangesModal:D_,isRemix:y?.isRemix||Dt?.is_showcase_remix,isPerceivedUXMode:jn,aiMessagesCount:bt.length,salesmanFinished:we})})]}),_s&&t.jsx(D9e,{isBlocked:_s,isInputActive:o4,showCase:y?.showCase||!1,jobId:Je}),De&&rs&&!_s&&t.jsx(T9e,{podIsPaused:rs,archivedPod:re,isReplaying:ae,isInputActive:o4,showCase:y?.showCase||!1,githubDetails:se,createdBefore25April:Ce,resumePod:S_,restartError:qo,jobId:Je,podStateDisplay:an?.pod_state_display,isWakingUp:ee,showUpgrade:an?.show_upgrade,machineType:Dt?.machineType,showScrollButton:y_,scrollToBottom:F_})]})}),t.jsx(f7e,{isVisible:hd,withHandle:!0,className:"bg-[#242424] hidden md:flex",onDragging:X=>Iq(X)}),t.jsx(p7e,{...Hq,children:t.jsxs(fe.div,{className:"relative w-full h-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:Sl?0:.2},children:[t.jsx(fe.div,{"data-testid":gs.subagent.container,className:"absolute inset-0",initial:{x:"100%",opacity:0},animate:{x:S?0:"100%",opacity:S?1:0},transition:{type:"spring",stiffness:300,damping:30,mass:.8,duration:Sl?0:void 0},style:{pointerEvents:S?"auto":"none"},children:S&&t.jsx(Bye,{searchState:{isActive:!1,query:""},togglePanel:A,userInitials:K3,searchHighlights:[{startIndex:10,endIndex:10}],isMatchingMessage:!1,isOpen:S,onClose:()=>{A({panelName:"showSubagentPanel",value:!1}),ss("subagent_panel_toggle",{jobId:Je,containerId:Jt,isVisible:!1,tabId:e})},messages:Bt,onSubmit:tq,agentState:an,agentStatus:Es,setAgentStatus:ar,containerId:Jt,jobDetails:Dt,selectedAgent:Ae,subagentName:xt,isSubagentActive:dt,isCloudFlow:Ps,pauseWasClicked:Oe,onPause:a4,isPauseLoading:it,currentChunk:js},Ot||nt)}),t.jsx(fe.div,{"data-testid":gs.info.container,className:"absolute inset-0 z-[60]",initial:{x:"100%",opacity:0},animate:{x:E?0:"100%",opacity:E?1:0},transition:{type:"spring",stiffness:300,damping:30,mass:.8,duration:Sl?0:void 0},style:{pointerEvents:E?"auto":"none"},children:E&&t.jsx(xve,{isOpen:E,onClose:()=>{i_(!1)},onOpenUploadAssetsModal:h_,isShowcase:wn,chatInfo:{modelName:y?.modelName||Dt.modelName,containerStatus:an?.job_running?"Running":"Stopped",containerName:Jt?.split("-")[0]==="task"?Jt:void 0,containerId:Jt,assignedPorts:y?.portMapping,jobId:Je,isCloudFlow:Ps,promptName:y?.promptName,user_prompt_id:y.user_prompt_id,promptVersion:y?.promptVersion,costLimit:y?.costLimit,vscodeUrl:Ye,vscodePassword:ue,targetRepo:Ne,sourceRepo:se,machineType:y?.machineType}})}),t.jsx(fe.div,{"data-testid":gs.preview.container,className:"absolute inset-0",initial:{x:"100%",opacity:0},animate:{x:F?0:"100%",opacity:F?1:0},transition:Sl?{duration:0,ease:"linear"}:{type:"spring",stiffness:300,damping:30,mass:.8},style:{pointerEvents:F?"auto":"none"},children:F&&t.jsx(J8e,{jobId:Je,onRetry:W3,children:t.jsx("div",{className:"w-full h-full",style:{pointerEvents:Sl?"none":"auto"},children:t.jsx(C9e,{shareableLink:sr,isOpen:F,isReplaying:ae,onClose:()=>A({panelName:"showUrlPreviewPanel",value:!1}),showCase:y?.showCase||wn,previewUrl:Uu?Dt.is_showcase_remix&&Pe!=="build"?Dt.showcase?.url:Hs:null,podIsPaused:rs,onResumePod:S_,isFromGithub:se&&Ce,shouldReloadIframe:Cq,onIframeReloaded:Fq,isResizing:Sl,archivedPod:re,jobId:Je,env_image:Dt?.env_image,restartError:qo,isWakingUp:ee,onPreviewEvent:JG,testMode:Dt?.testMode,agentName:Dt?.promptName,visualEditMode:Sn,vscodePassword:ue,enableVisualEdit:Dt?.enable_visual_edit,onEnableVisualEdit:()=>I0(!0),onDisableVisualEdit:()=>yn(!1),visualEditDisabled:m_,onSelectedElementChange:Ke,onVisualEditComplete:Sq,isVisualEditChangesEnabled:oe,onUnsavedChangesChange:YG,onExposeHandlers:ZG,showUnsavedChangesModal:D_,buildMode:Pe,isShowcaseRemix:Dt?.is_showcase_remix||y?.isRemix,agentState:an,shouldShowActualPreview:GG,onDeployClick:F0})})})}),t.jsx(fe.div,{"data-testid":gs.deploy.container,className:"absolute inset-0 z-[49]",initial:{x:"100%",opacity:0},animate:{x:I?0:"100%",opacity:I?1:0},transition:Sl?{duration:0,ease:"linear"}:{type:"spring",stiffness:300,damping:30,mass:.8},style:{pointerEvents:I?"auto":"none"},children:I&&t.jsx(gFe,{isOpen:I,onClose:()=>A({panelName:"showDeployPanel",value:!1}),jobId:Je,podIsPaused:rs,agentStatus:an?.job_running?"running":"stopped",handleJobClick:a_,onShareLogs:Aq,onRunHealthCheck:Dq,tabId:e,isExpoImage:ao,previewUrl:Hs,isMoltbot:X3.enablePublish})})]})}),t.jsx(Kn,{children:Xe&&t.jsx(fe.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx(Lve,{isOpen:Xe,onOpenChange:X=>{at(X)},rollbackRequestId:un,containerId:Jt,jobId:Je,isCloudFlow:Ps,session:N,resetPolling:RG,setAiMessages:S0,clearPreviewData:vi})})}),Kt.fork&&(q?t.jsx(nCe,{...M_}):t.jsx(P7e,{...M_})),Kt.visualEdits&&t.jsx(CCe,{open:Kt.visualEdits,onOpenChange:X=>{dn(de=>({...de,visualEdits:X})),X||ug()},onClose:()=>{dn(X=>({...X,visualEdits:!1})),ug()},onGetStarted:()=>{dn(X=>({...X,visualEdits:!1})),ug()},onLearnMore:()=>{window.open("https://help.emergent.sh/articles/662181-visual-edits","_blank")}}),Kt.unsavedChanges&&t.jsx(x0,{isOpen:Kt.unsavedChanges,onClose:f4,onConfirm:()=>{gt.onConfirm(),f4()},onCancel:f4,title:gt.title,description:gt.description,confirmButton:gt.confirmButton,cancelButton:gt.cancelButton,isFullscreen:gt.isFullscreen}),t.jsx(bCe,{isOpen:Zn,onOpenChange:X=>{$s(X),X||ys([])},jobId:Dt?.job_id,handleSendMessage:qa,initialFiles:Ls,onUploadComplete:(X,de)=>{vs&&A({panelName:"showInfoPanel",value:!1})},onUploadError:(X,de)=>{}}),t.jsx(yCe,{isOpen:zn,onClose:QG,videoFile:Wn,videoUrl:tr,testCasesData:zs,isLoadingTestCases:lt,onApproveVideo:XG,onSaveTestCases:Eq,showApprovalStage:Tn}),t.jsx(Vye,{isOpen:Is,onClose:eq,rrwebEvents:Ue,testCasesData:bn,isLoadingTestCases:Jn,onSubmitScript:kq,jobId:Je})]}),t.jsx(Kn,{children:be&&t.jsx(fe.div,{"data-testid":er.vscode.container,initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx(gve,{isOpen:be,onOpenChange:mn,vscodeUrl:Ye,vscodePassword:ue,onOpenInBrowser:Mn})})}),t.jsx(Kn,{children:io&&t.jsx(fe.div,{"data-testid":er.diff.container,initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx(Obe,{isOpen:io,onOpenVSCode:Mn,onClose:()=>Nl(!1),containerId:Jt,modifiedFiles:Qs,initialCommitId:Yr,isCloudFlow:Ps,jobId:Je})})}),t.jsx(Kn,{children:_l&&t.jsx(fe.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx(NCe,{isOpen:_l,onOpenChange:_o,podIsPaused:rs,buildMode:Pe,diffCount:Qs.length,isCloudFlow:Ps||!1,showCase:y?.showCase||wn,previewUrl:Uu?Hs:"",isEmergentUser:on,isPublishDisabled:!fd||!Ps,hasPreviewUrl:!!Hs,enablePublish:d4?.enablePublish,isExpoImage:ao,onInfoClick:()=>i_(!0),onVSCodeClick:PG,onDiffClick:Ko,onPreviewClick:W3,onDeployClick:F0,jobId:Je,onPublishSuccess:fr})})}),t.jsx(Kn,{children:Lt&&t.jsx(fe.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx(Uye,{modelName:Pt,triggeredLocation:Gt,variant:ft,handleSendMessage:qa,isOpen:Lt,onOpenChange:pt,currentCost:Yo?.current_usage||0,maxBudget:Yo?.max_budget,jobId:Je,onBudgetUpdate:async()=>{em(),pt(!1),ss("budget_updated",{jobId:Je,containerId:Jt,tabId:e,newMaxBudget:Yo?.max_budget||0,currentUsage:Yo?.current_usage||0})}})})}),t.jsx(ud,{isOpen:je,onOpenChange:ot,triggerLocation:ao?"mobilePublish":"default"})]})})}const HFe=({checked:e,onCheckedChange:n,disabled:s=!1,className:r="",checkedColor:i="#29BCCC",uncheckedColor:a="#131314",title:o="Toggle Switch"})=>t.jsx("button",{title:o,type:"button",role:"switch","aria-checked":e?"true":"false",disabled:s,onClick:l=>{l.stopPropagation(),!s&&n(!e)},className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed ${r}`,style:{backgroundColor:e?i:a},children:t.jsx(fe.div,{className:"relative",animate:{x:e?28:4},transition:{type:"spring",stiffness:500,damping:30},children:t.jsxs("div",{className:"relative w-6 h-6",children:[t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"rgba(255, 255, 255, 0.05)"}}),t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`
                linear-gradient(180deg, #242528 0%, #111113 100%),
                linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.2) 100%)
              `,filter:`
                drop-shadow(0px 0.85px 2.12px rgba(0, 0, 0, 0.36))
                drop-shadow(0px 3.6px 3.6px rgba(0, 0, 0, 0.31))
                drop-shadow(0px 8.27px 5.09px rgba(0, 0, 0, 0.18))
                drop-shadow(0px 14.84px 5.93px rgba(0, 0, 0, 0.05))
                drop-shadow(0px 23.1px 6.57px rgba(0, 0, 0, 0.01))
              `}}),t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`
                radial-gradient(circle at center, 
                  rgba(255, 255, 255, 0.1) 0%, 
                  rgba(255, 255, 255, 0.03) 50%, 
                  transparent 100%
                )
              `,boxShadow:`
                inset 0px 1.48px 2.97px rgba(255, 255, 255, 0.03),
                inset 0px 1.27px 0.85px rgba(255, 255, 255, 0.02),
                inset 0px 0.21px 0.21px rgba(255, 255, 255, 0.1)
              `}})]})})}),VFe=({size:e=16,width:n,height:s,color:r="white",fill:i,className:a,style:o,onClick:l,...c})=>{const u=n||e,p=s||e,f=i||r;return t.jsx("svg",{width:u,height:p,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:o,onClick:l,...c,children:t.jsx("path",{d:"M11.586 3L8.586 6L10 7.414L13 4.414V7H15V1H9V3H11.586ZM4.414 13L7.414 10L6 8.586L3 11.586V9H1V15H7V13H4.414Z",fill:f})})},$Fe=K.pro.workbench,zFe=({item:e})=>t.jsxs("p",{className:"items-start gap-2 font-['Inter'] text-[14px]",children:[t.jsx("span",{className:'font-["Inter"] mr-1',children:""}),e.boldText&&t.jsx("span",{className:"font-['Inter'] text-[14px] font-medium text-nowrap",children:e.boldText}),e.text,e.highlight&&t.jsx("span",{className:"text-[#80AAFF] font-['Inter']",children:e.highlight})]}),Mp=({items:e})=>t.jsx("div",{className:"space-y-4 text-[#737780] font-medium font-['Inter'] mb-4",children:e.map((n,s)=>t.jsx(zFe,{item:n},s))}),WFe=({isOpen:e,onOpenChange:n,title:s,value:r,onChange:i,readOnly:a=!1})=>{const[o,l]=d.useState(r),c=d.useRef(null);d.useEffect(()=>{l(r)},[r]);const u=()=>{a||i(o),n(!1)},p=()=>{l(r),n(!1)};return d.useEffect(()=>{const f=c.current;f&&e&&!a&&setTimeout(()=>{f.focus()},100)},[e,a]),t.jsx(as,{open:e,onOpenChange:n,children:t.jsxs(Er,{className:"sm:max-w-[700px] max-h-[95dvh] bg-[#18181A] text-white border border-[#242424] rounded-[16px] overflow-hidden flex flex-col",children:[t.jsxs(lc,{className:"flex flex-row bg-[#1C1C1F] items-center justify-between pb-4 space-y-0",children:[t.jsx(Lo,{className:"text-[#C4C4CC] font-brockmann text-[20px] font-medium leading-[28px] tracking-[-0.44px]",children:s}),t.jsxs("button",{type:"button",onClick:p,className:"rounded-[8px] opacity-70 h-[36px] w-[36px]  bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground flex items-center justify-center",children:[t.jsx(Ft,{className:"w-5 h-5"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]}),t.jsx("div",{className:"flex flex-col flex-1 gap-4 overflow-hidden bg-[#18181A]",children:t.jsx(dd,{ref:c,value:o,onChange:f=>l(f.target.value),readOnly:a,tabIndex:a?-1:0,onFocus:f=>{a&&f.target.blur()},className:k("font-['Inter'] border-none bg-none p-6 bg-[#18181A] text-white text-[16px] min-h-[600px] resize-none placeholder:text-[#C4C4CC] focus:border-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 overflow-y-auto flex-1",a&&"cursor-not-allowed opacity-60"),placeholder:"Enter your system prompt..."})}),t.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t-[1px] border-[#242424]",children:[t.jsx("button",{onClick:p,className:"border-[#333] px-5 py-3 font-medium text-[#C4C4CC] bg-[#1D1D1E] rounded-full hover:bg-[#1D1D1E] hover:text-white",children:"Cancel"}),!a&&t.jsx("button",{onClick:u,className:"bg-[#2EE572] px-5 py-3 text-[#0E0E0F] rounded-full font-semibold hover:bg-[#2EE572]/90",children:"Save & Continue"})]})]})})},X1=({section:e,value:n,onChange:s,dynamicVariableValues:r,onDynamicVariableChange:i})=>{const a=d.useRef(null),[o,l]=d.useState(!1),[c,u]=d.useState(!1),p=e.isDynamic&&e.variableName?r?.[e.variableName]||"":n,f=h=>{e.isDynamic&&e.variableName&&i?i(e.variableName,h):s(h)},m=()=>{e.title.includes("System Constraints")||e.title.includes("System Prompt")?u(!0):(l(!0),setTimeout(()=>{e.showLock||a.current?.focus()},0))};return d.useEffect(()=>{const h=a.current;if(h)if(h.style.height="auto",o){const x=Math.min(h.scrollHeight,500);h.style.height=`${x}px`}else h.style.height="300px"},[p,o]),t.jsxs(t.Fragment,{children:[t.jsx(WFe,{isOpen:c,onOpenChange:u,title:e.readOnly||e.showLock?e.title:`Edit ${e.title}`,value:p,onChange:f,readOnly:e.readOnly||e.showLock}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bl,{htmlFor:e.id,className:"font-medium text-[14px] text-[#e4eeff] font-inter",children:e.title}),e.showLock&&t.jsxs("span",{className:"flex items-center font-inter font-medium text-[14px] gap-1 text-white/50",children:[t.jsx(za,{size:16}),"read only"]})]})}),t.jsxs("div",{className:"relative rounded-lg overflow-clip",children:[t.jsx(dd,{ref:a,id:e.id,value:p,onChange:h=>f(h.target.value),readOnly:e.readOnly||e.showLock,tabIndex:e.showLock?-1:0,onFocus:h=>{e.showLock&&h.target.blur()},className:k("bg-[#FFFFFF05] font-['Inter'] rounded-lg border border-[#262629] p-4 text-white text-[16px] max-h-[300px] resize-none placeholder:text-[#C4C4CC] focus:border-[#666] focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0",e.showLock&&"opacity-60")}),t.jsx("div",{onClick:()=>{e.title.includes("System Constraints")||e.title.includes("System Prompt")?u(!0):o?l(!1):m()},className:"absolute hover:bg-[#FFFFFF]/20 bg-[#FFFFFF1A] right-2 bottom-2 p-2 cursor-pointer z-[20] rounded-[8px] backdrop-blur-lg",children:t.jsx(VFe,{size:16,className:k(" text-white transition-transform duration-200",e.title.includes("System Constraints")||e.title.includes("System Prompt")?"rotate-0":o?"rotate-180":"rotate-0")})})]})]})]})},Q1=({tool:e,isSelected:n=!1,onToggle:s,onCheckedChange:r,isNecessary:i=!1,variant:a="agent",onViewDetails:o,hideToggle:l=!1,className:c=""})=>{const[u,p]=d.useState(!1),f=d.useCallback(()=>{o?.(e)},[o,e]);return t.jsxs("div",{className:k("flex items-center group gap-[4rem] justify-between p-4 rounded-lg bg-[#18181A] transition-all ease-in-out duration-200 hover:bg-[#FFFFFF]/5",c),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex items-center justify-center min-w-10 min-h-10 bg-[#272729] rounded-full",children:t.jsx("img",{src:$Fe,alt:"Workbench",className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-[#ced7e5] capitalize",children:e.name.replaceAll("_"," ")}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-[#626366] text-[14px] font-medium font-['Inter'] text-nowrap truncate",children:e.user_descriptions?.short_desc}),t.jsx(Kn,{children:u&&t.jsx(fe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,ease:"easeInOut"},className:"w-1 h-1 rounded-full bg-[#45474D]"})}),t.jsx(Kn,{children:u&&t.jsx(fe.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2,ease:"easeInOut"},className:"text-[#B7BFCC] text-nowrap text-[14px] font-medium font-['Inter'] cursor-pointer hover:text-white",onClick:f,children:"View Details"})})]})]})]}),!l&&t.jsx(o3,{checked:n,onCheckedChange:m=>{i||(r?r(m):s&&s())},disabled:i})]})},Ty=({subAgent:e,isSelected:n=!1,onToggle:s,onCheckedChange:r,isApiSubAgent:i=!1,isDefault:a=!1,onViewDetails:o,onEdit:l,hideToggle:c=!1})=>{const[u,p]=d.useState(!1),f=e.description?.trim()||e.skill_description?.trim(),m=d.useMemo(()=>({...e,isApiSubAgent:i,isDefault:a}),[e,i,a]),h=d.useCallback(()=>{o?.(m)},[o,m]);return t.jsx("div",{className:k("flex items-center group justify-between p-4 bg-[#18181A] hover:bg-[#FFFFFF05] rounded-lg transition-all ease-in-out duration-200"),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:t.jsxs("div",{className:"flex items-center gap-3 max-w-full w-full",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-[#272729]",children:t.jsx(uf,{size:20,primaryColor:a?"#fff":"#dd99ff"})}),t.jsxs("div",{className:"w-full max-w-[562px]",children:[t.jsx("h3",{className:"font-medium  text-[#ced7e5] capitalize group-hover:text-[#E5EFFF]",children:e.name.replaceAll("_"," ")}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("p",{className:"text-[#626366] max-w-[50%] truncate text-[14px] font-medium font-['Inter']",children:e.skill_description||e.description||"No description available"}),t.jsxs("div",{className:"flex justify-between gap-2 grow",children:[t.jsxs("div",{className:"flex justify-center items-center gap-2",children:[t.jsx(Kn,{children:u&&f&&t.jsx(fe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,ease:"easeInOut"},className:"w-1 h-1 rounded-full bg-[#45474D]"})}),t.jsx(Kn,{children:u&&f&&t.jsx(fe.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2,ease:"easeInOut"},className:"text-[#B7BFCC] text-[14px] font-medium font-['Inter'] cursor-pointer hover:text-white",onClick:h,children:"View Details"})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[!a&&l&&t.jsxs("button",{type:"button",className:"flex items-center font-medium gap-1 p-[6px] pl-3 pr-4 rounded-full text-[#C4C4CC] bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] transition-colors duration-150 group",onClick:x=>{x.stopPropagation(),l(e)},children:[t.jsx(Vf,{width:20,height:20,fill:"#C4C4CC"}),"Edit"]}),!c&&t.jsx(HFe,{checked:n,checkedColor:a?"#29BCCC":"#DD99FF",onCheckedChange:x=>{r?r(x):s&&s()},disabled:!1})]})]})]})]})]})})},Qa=({className:e="",children:n})=>t.jsxs("div",{className:`relative overflow-hidden bg-[#FFFFFF05] rounded-lg ${e}`,children:[t.jsx("div",{className:"absolute inset-0 shimmer-effect"}),n]}),GFe=()=>t.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qa,{className:"w-4 h-4 rounded"}),t.jsx(Qa,{className:"w-32 h-4 rounded"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qa,{className:"w-24 h-4 rounded"}),t.jsx(Qa,{className:"w-5 h-5 rounded"})]})]}),t.jsx(Qa,{className:"w-full h-32 rounded-lg border border-[#1F1F1F]",children:t.jsxs("div",{className:"p-4 space-y-2",children:[t.jsx("div",{className:"w-full h-3 bg-[#FFFFFF08] rounded"}),t.jsx("div",{className:"w-4/5 h-3 bg-[#FFFFFF08] rounded"}),t.jsx("div",{className:"w-3/4 h-3 bg-[#FFFFFF08] rounded"}),t.jsx("div",{className:"w-5/6 h-3 bg-[#FFFFFF08] rounded"})]})})]}),qFe=()=>t.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 bg-[#FFFFFF05] rounded-lg border border-[#222224]",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Qa,{className:"w-8 h-8 rounded-lg"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Qa,{className:"w-24 h-4 rounded"}),t.jsx(Qa,{className:"w-40 h-3 rounded"})]})]}),t.jsx(Qa,{className:"w-11 h-6 rounded-full"})]}),KFe=()=>t.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 bg-[#FFFFFF05] rounded-lg border border-[#222224]",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Qa,{className:"w-8 h-8 rounded-lg"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Qa,{className:"w-28 h-4 rounded"}),t.jsx(Qa,{className:"w-48 h-3 rounded"})]})]}),t.jsx(Qa,{className:"w-11 h-6 rounded-full"})]}),k8=({count:e=3})=>t.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((n,s)=>t.jsx(qFe,{},s))}),eD=({count:e=4})=>t.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((n,s)=>t.jsx(KFe,{},s))}),yW=({count:e=3})=>t.jsx("div",{className:"flex flex-col gap-12",children:Array.from({length:e}).map((n,s)=>t.jsx(GFe,{},s))}),YFe=K.pro.book,ZFe=K.pro.external,JFe={sm:"px-3 py-1.5 text-xs gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-3"},tD={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};function vW({text:e,onClick:n,className:s,disabled:r=!1,bookIcon:i=YFe,externalIcon:a=ZFe,size:o="md",showExternalIcon:l=!0,...c}){return t.jsxs(fe.button,{onClick:n,disabled:r,className:k("flex items-center border-[#2B2B2E] border bg-[#1E1E1F] hover:bg-[#1E1E1F90] rounded-[8px] transition-colors text-white font-medium",JFe[o],r&&"opacity-50 cursor-not-allowed hover:bg-[#1E1E1F]",s),whileHover:r?{}:{scale:1.02},whileTap:r?{}:{scale:.98},transition:{duration:.15},...c,children:[t.jsx("img",{src:i,alt:"Book",className:k("inline-block",tD[o])}),t.jsx("span",{children:e}),l&&t.jsx("img",{src:a,alt:"External",className:k("inline-block",tD[o])})]})}const Pg=({size:e=24,width:n,height:s,color:r="white",fill:i,fillOpacity:a=.2,className:o,style:l,onClick:c,...u})=>{const p=n||e,f=s||e,m=i||r;return t.jsxs("svg",{width:p,height:f,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...u,children:[t.jsx("mask",{id:"mask0_118_2904",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_118_2904)",children:t.jsx("path",{d:"M5.77778 10.6667C5.28889 10.6667 4.87037 10.4926 4.52222 10.1444C4.17407 9.7963 4 9.37778 4 8.88889V5.77778C4 5.28889 4.17407 4.87037 4.52222 4.52222C4.87037 4.17407 5.28889 4 5.77778 4H8.88889C9.37778 4 9.7963 4.17407 10.1444 4.52222C10.4926 4.87037 10.6667 5.28889 10.6667 5.77778V8.88889C10.6667 9.37778 10.4926 9.7963 10.1444 10.1444C9.7963 10.4926 9.37778 10.6667 8.88889 10.6667H5.77778ZM5.77778 20C5.28889 20 4.87037 19.8259 4.52222 19.4778C4.17407 19.1296 4 18.7111 4 18.2222V15.1111C4 14.6222 4.17407 14.2037 4.52222 13.8556C4.87037 13.5074 5.28889 13.3333 5.77778 13.3333H8.88889C9.37778 13.3333 9.7963 13.5074 10.1444 13.8556C10.4926 14.2037 10.6667 14.6222 10.6667 15.1111V18.2222C10.6667 18.7111 10.4926 19.1296 10.1444 19.4778C9.7963 19.8259 9.37778 20 8.88889 20H5.77778ZM15.1111 10.6667C14.6222 10.6667 14.2037 10.4926 13.8556 10.1444C13.5074 9.7963 13.3333 9.37778 13.3333 8.88889V5.77778C13.3333 5.28889 13.5074 4.87037 13.8556 4.52222C14.2037 4.17407 14.6222 4 15.1111 4H18.2222C18.7111 4 19.1296 4.17407 19.4778 4.52222C19.8259 4.87037 20 5.28889 20 5.77778V8.88889C20 9.37778 19.8259 9.7963 19.4778 10.1444C19.1296 10.4926 18.7111 10.6667 18.2222 10.6667H15.1111ZM15.1111 20C14.6222 20 14.2037 19.8259 13.8556 19.4778C13.5074 19.1296 13.3333 18.7111 13.3333 18.2222V15.1111C13.3333 14.6222 13.5074 14.2037 13.8556 13.8556C14.2037 13.5074 14.6222 13.3333 15.1111 13.3333H18.2222C18.7111 13.3333 19.1296 13.5074 19.4778 13.8556C19.8259 14.2037 20 14.6222 20 15.1111V18.2222C20 18.7111 19.8259 19.1296 19.4778 19.4778C19.1296 19.8259 18.7111 20 18.2222 20H15.1111Z",fill:m,fillOpacity:a})})]})},wW=({size:e=24,width:n,height:s,color:r="white",fill:i,fillOpacity:a=.2,className:o,style:l,onClick:c,...u})=>{const p=n||e,f=s||e,m=i||r;return t.jsxs("svg",{width:p,height:f,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...u,children:[t.jsx("mask",{id:"mask0_118_2584",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_118_2584)",children:t.jsx("path",{d:"M2 15.1111V12.8889H9.77778V15.1111H2ZM2 10.6667V8.44444H14.2222V10.6667H2ZM2 6.22222V4H14.2222V6.22222H2ZM12 21.7778V18.3611L18.1389 12.25C18.3056 12.0833 18.4907 11.963 18.6944 11.8889C18.8981 11.8148 19.1019 11.7778 19.3056 11.7778C19.5278 11.7778 19.7407 11.8194 19.9444 11.9028C20.1481 11.9861 20.3333 12.1111 20.5 12.2778L21.5278 13.3056C21.6759 13.4722 21.7917 13.6574 21.875 13.8611C21.9583 14.0648 22 14.2685 22 14.4722C22 14.6759 21.963 14.8843 21.8889 15.0972C21.8148 15.3102 21.6944 15.5 21.5278 15.6667L15.4167 21.7778H12ZM19.3056 15.5556L20.3333 14.4722L19.3056 13.4444L18.25 14.5L19.3056 15.5556Z",fill:m,fillOpacity:a})})]})},XFe=({size:e=24,width:n,height:s,color:r="white",fill:i,fillOpacity:a=.2,className:o="",style:l,onClick:c,...u})=>{const p=n||e,f=s||e,m=i||r;return t.jsxs("svg",{width:p,height:f,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...u,children:[t.jsx("mask",{id:"mask0_180_3078",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_180_3078)",children:t.jsx("path",{d:"M4.755 17.355C4.2 16.605 3.76875 15.7762 3.46125 14.8687C3.15375 13.9612 3 13.005 3 12C3 10.995 3.15 10.0425 3.45 9.1425C3.75 8.2425 4.1775 7.4175 4.7325 6.6675L6.0375 7.95C5.6475 8.52 5.34375 9.14625 5.12625 9.82875C4.90875 10.5113 4.8 11.235 4.8 12C4.8 12.765 4.90875 13.4925 5.12625 14.1825C5.34375 14.8725 5.6475 15.5025 6.0375 16.0725L4.755 17.355ZM12 21C10.995 21 10.0425 20.85 9.1425 20.55C8.2425 20.25 7.4175 19.8225 6.6675 19.2675L7.95 17.9625C8.52 18.3525 9.14625 18.6562 9.82875 18.8738C10.5113 19.0912 11.235 19.2 12 19.2C12.765 19.2 13.4888 19.0912 14.1713 18.8738C14.8538 18.6562 15.48 18.3525 16.05 17.9625L17.3325 19.2675C16.5825 19.8225 15.7575 20.25 14.8575 20.55C13.9575 20.85 13.005 21 12 21ZM19.245 17.355L17.9625 16.0725C18.3525 15.5025 18.6562 14.8725 18.8738 14.1825C19.0912 13.4925 19.2 12.765 19.2 12C19.2 11.235 19.0912 10.5113 18.8738 9.82875C18.6562 9.14625 18.3525 8.52 17.9625 7.95L19.2675 6.6675C19.8225 7.4175 20.25 8.2425 20.55 9.1425C20.85 10.0425 21 10.995 21 12C21 13.005 20.8463 13.9612 20.5387 14.8687C20.2313 15.7762 19.8 16.605 19.245 17.355ZM7.9275 6.0375L6.645 4.755C7.395 4.2 8.22375 3.76875 9.13125 3.46125C10.0387 3.15375 10.995 3 12 3C13.02 3 13.98 3.15375 14.88 3.46125C15.78 3.76875 16.605 4.2 17.355 4.755L16.0725 6.0375C15.5025 5.6475 14.8725 5.34375 14.1825 5.12625C13.4925 4.90875 12.765 4.8 12 4.8C11.235 4.8 10.5075 4.90875 9.8175 5.12625C9.1275 5.34375 8.4975 5.6475 7.9275 6.0375ZM12 16.5C10.755 16.5 9.69375 16.0612 8.81625 15.1838C7.93875 14.3062 7.5 13.245 7.5 12C7.5 10.755 7.93875 9.69375 8.81625 8.81625C9.69375 7.93875 10.755 7.5 12 7.5C13.245 7.5 14.3062 7.93875 15.1838 8.81625C16.0612 9.69375 16.5 10.755 16.5 12C16.5 13.245 16.0612 14.3062 15.1838 15.1838C14.3062 16.0612 13.245 16.5 12 16.5Z",fill:m,fillOpacity:a})})]})},nD=({onBack:e})=>t.jsxs(fe.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[t.jsx(fe.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[t.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Creating Your Perfect AI Agent"}),t.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})})]})}),t.jsxs(fe.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[t.jsx(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:t.jsx("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:"Welcome! Creating an AI agent might sound complex, but think of it like training a skilled assistant who's eager to help with your specific needs. Let's walk through this together, step by step."})}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 1: Give Your Agent a Personality (The Persona)"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Just like people excel in different areas, AI agents work best when they know their role."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Think of this as introducing your agent to their new job. Be specific about who they are and what they're good at:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Need a Research Assistant?"})," Try:"," ",t.jsx("em",{children:'"You are an expert researcher, profound at searching through information and synthesizing complex topics into clear insights..."'})]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Want a Creative Designer?"})," Start with:"," ",t.jsx("em",{children:'"You are an experienced Designer who excels at creating beautiful, user-friendly interfaces..."'})]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Building Something Custom?"})," Consider:"," ",t.jsx("em",{children:'"You are Emergent, a full-stack app builder who excels in creating innovative solutions..."'})]})})]})]}),t.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:t.jsx("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:"Pro tip: The more specific you are about their expertise, the better they'll perform!"})})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 2: Explain What You Need Done (The Task)"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Clear instructions lead to better results - just like giving directions to a friend."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This is where you describe your actual goal. Be as clear as you would be when asking a colleague for help:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Want to automate repetitive business tasks? Describe which ones and how they currently work"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Need a study app? Explain what subjects and what features would help you learn best"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Building something unique? Paint a picture of what success looks like"})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Remember: Your agent wants to help, so don't hold back on details!"})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 3: Share Current Context (Optional but Helpful)"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sometimes your agent needs to know about recent developments or specific circumstances."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"If your task involves current events or recent changes in technology, give your agent a heads up. For example:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:`"It's currently July 2025, and Emergent just launched E1.2, their most capable model yet!"`})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"Our company just switched to a new system last month..."'})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"The latest regulations in our industry require..."'})})})]})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This helps your agent provide timely, relevant solutions rather than outdated information."})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 4: Map Out Your Ideal Workflow"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sharing your thought process helps the agent work the way YOU work."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Think about how you'd tackle this problem yourself, then guide your agent through those same steps:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"1"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Start with Planning:"})," ",t.jsx("em",{children:'"First, analyze the requirements and create a plan..."'})]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"2"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Build the Foundation:"})," ",t.jsx("em",{children:'"Begin with the basic functionality..."'})]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"3"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Add Advanced Features:"})," ",t.jsx("em",{children:'"Once the core is working, implement..."'})]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"4"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Customize to Perfection:"})," ",t.jsx("em",{children:'"Finally, add these specific touches I need..."'})]})})]})]})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Working with Sub-agents (Team Players)"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"If your main agent needs to delegate specialized tasks to other agents (like a manager working with specialists), mention this in your workflow:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"When you need detailed code analysis, consult the Code Reviewer agent..."'})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"For design decisions, collaborate with the UI/UX specialist agent..."'})})})]})]})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.7},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 5: Set Your Guidelines and Preferences"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:'These are your "house rules" - they help your agent work exactly how you prefer.'})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Share any specific preferences, constraints, or things to be careful about:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"Always prioritize user-friendly solutions over complex ones"'})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"Use the troubleshooter tool primarily for debugging issues"'})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"When testing frontend features, use the frontend testing tool exclusively"'})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"Double-check any financial calculations for accuracy"'})})})]})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Think of these as friendly reminders that keep your agent on track."})]})]})]}),QFe=({onBack:e})=>t.jsxs(fe.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[t.jsx(fe.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[t.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Learn about Tools"}),t.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})})]})}),t.jsxs(fe.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Selecting Tools: Equipping Your Agent"}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Think of tools as your agent's superpowers"}),"  each one gives your agent a specific ability to help you better. Just like a chef needs the right utensils or a carpenter needs the right tools, your AI agent needs the right digital tools to accomplish its tasks effectively."]})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"What Exactly Are Tools?"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Imagine your agent as a talented professional who needs access to different resources to do their job. Tools are these resources:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A Web Search tool"})," is like giving your agent internet access to find current information"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A File Reader tool"})," helps your agent access and understand documents you provide"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A Screenshot tool"})," helps your agent take screenshots"]})})]})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Think of each tool as adding a new skill to your agent's toolkit!"})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"The Art of Tool Selection"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Purpose-Driven Selection"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"Each tool should have a clear job to do"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:`Before adding a tool, ask yourself: "Will my agent actually need this for the task I'm giving it?"`}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Examples:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Building a research assistant? Definitely include Web Search and Document Analysis tools"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Quality Over Quantity"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Giving your agent too many tools is like giving someone a Swiss Army knife when they just need a screwdriver. More tools means:"}),t.jsxs("div",{className:"ml-4 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Your agent takes longer to decide which tool to use"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" It might get distracted from the main task"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" The responses become less focused and more scattered"})]}),t.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:t.jsxs("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:[t.jsx("span",{className:"font-semibold",children:"Rule of thumb:"})," If you're not sure whether you need a tool, start without it."]})})]})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Important Notes"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"About Default Tools"}),t.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#FFAE66]",children:t.jsx("p",{className:"text-[#FFAE66] text-[14px] font-medium mb-2 italic",children:"The tools selected by default are mandatorily required by the agents to function."})}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:`Think of default tools as the "starter pack"  they're like the engine in a car. Your agent needs these to:`}),t.jsxs("div",{className:"ml-4 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Understand and process your requests"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Communicate responses effectively"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Maintain its core functionality"})]})]})]})]})]}),eEe=({onBack:e})=>t.jsxs(fe.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[t.jsx(fe.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[t.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Learn about Sub-Agents"}),t.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})})]})}),t.jsxs(fe.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"What are Sub-Agents?"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:"Think of sub-agents as your agent's network of expert colleagues. Just like how a general contractor might call in an electrician for wiring or a plumber for pipes, your main agent can call on sub-agents when it needs specialized help."})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Hyper-Specialization: Masters of Their Craft"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Each sub-agent is like a Master in their specific field."})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"On-Demand Collaboration: Right Expert, Right Time"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Your main agent intelligently decides when to bring in the sub agents based on their use case."})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"How Main Agent and Sub-Agent interact:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"1"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"You give your main agent a task"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"2"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"It recognizes what subagent is needed, for a specific subtask"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"3"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Automatically hands over the required subtask to the right sub-agents"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"4"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub agent performs its function and outputs the result"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"5"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Receives the response from the subagent"})})]})]})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"How to Create Sub-agents Effectively"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"1. Identify Your Needs:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Start by giving your Sub-Agent a name, Ask yourself:"}),t.jsxs("div",{className:"ml-4 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" What specialized tasks come up repeatedly, that needs to be handed off the main Agent?"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Where do I need a highly specific agent?"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"2. Give definition to the Sub-Agent:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This definition will go to the main agent, please clearly state what this Sub Agent can do, and when it should be called."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"3. Define System Prompt:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Give your agent step-by-step approach to approach the required task. Set guidelines for best practices, constraints, and things to avoid."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"4. Configure Sub-Agent Tools:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Assign tools that are required by your subagent to complete their work and"})]})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Best Practices for Sub-agent Success"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-[#80FFF9] text-[18px] font-semibold",children:"DO's:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Give each sub-agent a clear, focused role"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Provide context about when they should be consulted"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Allow sub-agents to communicate with each other when needed"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Test the handoffs between agents to ensure smooth operation"})})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-[#FF6B6B] text-[18px] font-semibold",children:"DON'Ts:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#FF6B6B]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#FF6B6B] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Make sub-agents too broad (defeats the purpose of specialization)"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#FF6B6B]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#FF6B6B] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Overwhelm with too many sub-agents initially (start small, grow as needed)"})})]})]})]})]})]})]}),sD=({onBack:e})=>t.jsxs(fe.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[t.jsx(fe.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[t.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Creating Your Sub-Agent: A Step-by-Step Guide"}),t.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})})]})}),t.jsxs(fe.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[t.jsx(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:t.jsx("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:"Sub-agents are like specialist consultants that your main agent can call upon for specific expertise. While creating them follows similar principles to main agents, there are key differences in how you approach each step."})}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 1: Define Your Sub-Agent's Hyper-Specialized Persona"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub-agents excel through laser-focused expertise, not broad capabilities."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Unlike main agents who might wear many hats, sub-agents should be masters of ONE specific domain."}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Code Review Specialist:"})," ",t.jsx("em",{children:'"You are an expert code reviewer who specializes in identifying bugs, security vulnerabilities, and optimization opportunities in code..."'})]})})]}),t.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:t.jsxs("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:[t.jsx("span",{className:"font-semibold",children:"Key difference from main agents:"})," Be ultra-specific. If your main agent is a general contractor, your sub-agent should be the master electrician who only does wiring."]})})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 2: Create Two Descriptions - One for Each Audience"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Your sub-agent needs to be understood by both the main agent AND perform its specialized task."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"A. The Definition (For the Main Agent)"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This tells your main agent WHEN and WHY to call this sub-agent:"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border border-[#333333]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Example:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'"The Code Review Sub-Agent should be consulted when:'}),t.jsxs("div",{className:"ml-4 space-y-1",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:" You need to verify code quality before deployment"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:" You encounter bugs or errors in existing code"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:" You want to optimize performance of specific functions"})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'This agent specializes in JavaScript, Python, and React applications."'})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"B. The Task Description (For the Sub-Agent)"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This tells the sub-agent WHAT to do when called:"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border border-[#333333]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Example:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'"When you receive code to review, analyze it for:'}),t.jsxs("div",{className:"ml-4 space-y-1",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"1. Syntax errors and bugs"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"2. Security vulnerabilities"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"3. Performance bottlenecks"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"4. Code style and best practices"})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'Provide specific, actionable feedback with examples."'})]})]})]})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 3: Design the System Prompt with Focused Workflow"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub-agents need clear, repeatable processes since they handle specific types of requests."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Structure your sub-agent's workflow around its specialization:"}),t.jsx("div",{className:"bg-[#1A1A1C] p-4 rounded-[8px] border border-[#333333]",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"1"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Receive the Specific Request:"})," Understand what the main agent needs"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"2"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Apply Your Expertise:"})," Use your specialized knowledge to analyze"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"3"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Deliver Targeted Results:"})," Provide exactly what was requested"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"4"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Include Recommendations:"})," Suggest improvements within your domain"]})})]})]})})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 4: Set Interaction Guidelines"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub-agents need to know how to communicate with the main agent and potentially other sub-agents."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Include guidelines for:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Communication Protocol:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"Always format your responses with clear sections: Analysis, Findings, Recommendations"'})]}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"Flag critical issues immediately at the start of your response"'})]}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"Use technical terms when communicating with the main agent"'})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Constraints and Best Practices:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"Stay within your domain of expertise"'})]}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"Prioritize accuracy over speed in your analysis"'})]}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"If you cannot complete a request, explain why and suggest alternatives"'})]})]})]})]}),t.jsx(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:t.jsxs("div",{className:"border-t border-[#333333] pt-6",children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold mb-4",children:"System Constraints (Read-Only Section)"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#FFAE66]",children:[t.jsx("p",{className:"text-[#FFAE66] text-[14px] font-medium mb-2",children:"What this is:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:'This section contains essential technical guidelines that help your sub-agent operate properly within its environment. Think of it as the "operating manual" that ensures everything runs smoothly.'})]}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why it's protected:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed mb-2",children:"These constraints are carefully designed to ensure your agent can:"}),t.jsxs("div",{className:"ml-4 space-y-1",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Access the right tools and features"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Communicate with other agents effectively"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Maintain security and performance standards"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Follow best practices automatically"})]})]}),t.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:t.jsx("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:"You don't need to modify this section - it's like the foundation of a house that supports everything you build on top!"})})]})]})})]})]}),tEe=({onBack:e})=>t.jsxs(fe.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[t.jsx(fe.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[t.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Learn about Tools"}),t.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})})]})}),t.jsxs(fe.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Selecting Tools: Equipping Your Agent"}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Think of tools as your agent's superpowers"}),"  each one gives your agent a specific ability to help you better. Just like a chef needs the right utensils or a carpenter needs the right tools, your AI agent needs the right digital tools to accomplish its tasks effectively."]})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"What Exactly Are Tools?"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Imagine your agent as a talented professional who needs access to different resources to do their job. Tools are these resources:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A Web Search tool"})," is like giving your agent internet access to find current information"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A File Reader tool"})," helps your agent access and understand documents you provide"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A Screenshot tool"})," helps your agent take screenshots"]})})]})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Think of each tool as adding a new skill to your agent's toolkit!"})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"The Art of Tool Selection"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Purpose-Driven Selection"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"Each tool should have a clear job to do"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:`Before adding a tool, ask yourself: "Will my agent actually need this for the task I'm giving it?"`}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Examples:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Building a research assistant? Definitely include Web Search and Document Analysis tools"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Quality Over Quantity"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Giving your agent too many tools is like giving someone a Swiss Army knife when they just need a screwdriver. More tools means:"}),t.jsxs("div",{className:"ml-4 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Your agent takes longer to decide which tool to use"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" It might get distracted from the main task"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" The responses become less focused and more scattered"})]}),t.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:t.jsxs("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:[t.jsx("span",{className:"font-semibold",children:"Rule of thumb:"})," If you're not sure whether you need a tool, start without it."]})})]})]}),t.jsxs(fe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Important Notes"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"About Default Tools"}),t.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#FFAE66]",children:t.jsx("p",{className:"text-[#FFAE66] text-[14px] font-medium mb-2 italic",children:"The tools selected by default are mandatorily required by the agents to function."})}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:`Think of default tools as the "starter pack"  they're like the engine in a car. Your agent needs these to:`}),t.jsxs("div",{className:"ml-4 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Understand and process your requests"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Communicate responses effectively"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Maintain its core functionality"})]})]})]})]})]}),CW=({isOpen:e,onOpenChange:n,currentStep:s=1,isSubagent:r=!1})=>{const{totalBannerHeight:i}=ka(),a=i+56;return t.jsx(Kn,{children:e&&t.jsx(fe.div,{style:{height:`calc(100vh - ${a}px)`,top:`${a}px`},className:k("fixed inset-0 w-full z-[100] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]"),onClick:()=>n(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:t.jsx(fe.div,{className:k("p-0 sm:max-w-[700px] max-h-[90dvh] overflow-y-auto w-full max-w-[600px] mx-auto bg-[#18181A] border border-[#242424] rounded-[20px] font-['Inter']"),onClick:o=>o.stopPropagation(),initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeInOut"},children:r?s===1?t.jsx(sD,{onBack:()=>n(!1)}):s===2?t.jsx(tEe,{onBack:()=>n(!1)}):t.jsx(sD,{onBack:()=>n(!1)}):s===1?t.jsx(nD,{onBack:()=>n(!1)}):s===2?t.jsx(QFe,{onBack:()=>n(!1)}):s===3?t.jsx(eEe,{onBack:()=>n(!1)}):t.jsx(nD,{onBack:()=>n(!1)})})})})};function _W({size:e=24,color:n="#999999",className:s}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M12 21C11.4477 21 11 20.5523 11 20V14C11 13.4477 10.5523 13 10 13H4C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11H10C10.5523 11 11 10.5523 11 10V4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V10C13 10.5523 13.4477 11 14 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H14C13.4477 13 13 13.4477 13 14V20C13 20.5523 12.5523 21 12 21Z",fill:n})})}const jW=({size:e=20,width:n,height:s,fill:r="#CCCCCC",className:i,onClick:a,style:o})=>{const l=n||e,c=s||e;return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:i,onClick:a,style:o,children:t.jsx("path",{d:"M13.6398 11.4516H10.4824C10.1393 12.4222 9.46406 13.2402 8.57611 13.7611C7.68815 14.282 6.64463 14.4722 5.63 14.2981C4.61536 14.124 3.69493 13.5968 3.03138 12.8098C2.36784 12.0227 2.00391 11.0263 2.00391 9.99688C2.00391 8.96742 2.36784 7.9711 3.03138 7.18401C3.69493 6.39693 4.61536 5.86975 5.63 5.69567C6.64463 5.52159 7.68815 5.7118 8.57611 6.23269C9.46406 6.75358 10.1393 7.57161 10.4824 8.5422H18.0039V11.4516H16.5492V14.3609H13.6398V11.4516ZM6.36641 11.4516C6.75221 11.4516 7.12222 11.2983 7.39503 11.0255C7.66783 10.7527 7.82109 10.3827 7.82109 9.99688C7.82109 9.61108 7.66783 9.24107 7.39503 8.96826C7.12222 8.69546 6.75221 8.5422 6.36641 8.5422C5.9806 8.5422 5.61059 8.69546 5.33779 8.96826C5.06498 9.24107 4.91172 9.61108 4.91172 9.99688C4.91172 10.3827 5.06498 10.7527 5.33779 11.0255C5.61059 11.2983 5.9806 11.4516 6.36641 11.4516Z",fill:r})})},nEe=d.memo(({server:e,isEnabled:n,onToggle:s,onEdit:r,showEditButton:i=!0})=>{const[a,o]=d.useState(!1),[l,c]=d.useState(!1),[u,p]=d.useState(!1),{pro:f}=gi(),m=Hr(),h=KO(),x=e.type==="public"&&e.key_required===!0,g=v=>{if(f){if(e.type==="public"&&e.key_required){r();return}s(v)}else h.close(),m.open({planType:"personal",triggerLocation:"mcp-tools-modal"})};return t.jsxs("div",{"data-testid":`mcp-server-item-${e.id}`,className:"flex gap-4 p-4 max-w-[652px] w-[652px] rounded-[12px] justify-between bg-transparent hover:bg-[#FFFFFF08] transition-colors relative",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[t.jsxs("div",{className:"flex items-center justify-center bg-[#313133] rounded-[12px] h-10 w-10 ",children:[e.icon&&!l&&t.jsx("img",{alt:"Image",src:e.icon,className:"w-6 h-6",onError:()=>{c(!0),setTimeout(()=>p(!0),200)}}),(!e.icon||u)&&t.jsx(fa,{size:24})]}),t.jsxs("div",{className:k("flex flex-col gap-[2px] flex-1 max-w-[562px] pr-36 w-full",a&&""),children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("span",{className:"text-[#D8DDE6] font-medium",children:e.display_name}),e.key_required&&t.jsxs("div",{className:"flex items-center text-[#D8DDE6]/80 bg-[#D8DDE6]/10 rounded-full px-[6px] font-inter font-semibold text-[12px] gap-1 py-[2px]",children:[t.jsx(jW,{fill:"#D8DDE6",size:16})," Key needed"]})]}),t.jsx("div",{className:"text-[14px] font-inter truncate text-[#777a80] mb-1",children:e.description})]}),t.jsxs("div",{className:"absolute flex items-center gap-2 -translate-y-1/2 right-2 top-1/2",children:[a&&i&&e.type==="private"&&t.jsx("div",{className:"flex items-center gap-1 max-h-[32px]",children:t.jsxs("button",{type:"button",className:"flex items-center font-medium gap-1 backdrop-blur-lg p-[6px] pl-3 pr-4 rounded-full text-[#C4C4CC] bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] transition-colors duration-150 group",onClick:r,children:[t.jsx(Vf,{width:20,height:20,fill:"#C4C4CC"}),"Edit"]})}),t.jsx("div",{"data-testid":Nr.mcpServerToggle,children:x?t.jsxs("button",{type:"button",className:"text-[#C4C4CC] backdrop-blur-lg flex items-center gap-1 px-[10px] rounded-full py-[6px] font-medium bg-[#FFFFFF14] hover:bg-white/15",title:"Configure Button",onClick:()=>{H(mse.SERVER_CONFIGURE_CLICKED,{server_id:e.id,server_name:e.display_name,server_type:e.type}),g(!0)},children:[t.jsx(Po,{size:20,color:"#E6E6E6"}),"Configure"]}):t.jsx(o3,{checked:n,onCheckedChange:g,disabled:!1,checkedColor:"#F49B57"})})]})]})}),rD=K.pro.workbench,iD=K.common.controls,sEe=K.pro.nextArrow,rEe=K.pro.backGray,NW=K.robots.robot1,FW=K.robots.robot2,EW=K.robots.robot3,SW=K.robots.robot4,iEe=K.robots.robot5,aEe=K.robots.robot6,oEe=K.robots.robot7,lEe=K.robots.robot8,cEe=K.robots.robot9,dEe=K.robots.robot10,uEe=K.robots.research,pEe=K.pro.bgSvg,Bd={1:{title:"Define your Agent",description:"Your agent is only as good as the instructions you give it: Think of this as writing a job description for your ideal AI teammatebe specific about who they are, what they do, and how they work.",icon:rD,iconAlt:"Workbench",welcomeTitle:"Creating an Agent on Emergent",learnMoreText:"Learn about prompt design",tips:"The clearer you are, the better your agent performs."},2:{title:"Select Tools",description:"Equip your agent with the right capabilities: Tools are essential for your Agent to operate and work. Please choose the specialized tools required by your Agent as per your needs and goals.",icon:iD,iconAlt:"Tools",welcomeTitle:"What exactly are tools?",learnMoreText:"Learn about tools",tips:"The tools selected by default are mandatorily required by the agents to function."},3:{title:"Configure Sub-agents",description:"Deploy specialized experts for complex tasks: Sub-agents are your agent's specialist consultantshighly focused AI helpers that excel in specific domains.",icon:iD,iconAlt:"Sub-agents",welcomeTitle:"What are Sub-Agents ?",learnMoreText:"Learn about Sub-agents",tips:"Think of sub-agents as your agent's expert advisory team."},4:{title:"Review Agent Info",description:"Final check before launch: Please review your agent configuration before saving.",icon:rD,iconAlt:"Review",welcomeTitle:"To Review : ",learnMoreText:"Learn about Agents",tips:"You can edit Everything after creation as well."}},fEe=[{boldText:"Name your agent",text:" based on its specialty and role"},{boldText:"Describe their role",text:" - who they are and what they're experts at"},{boldText:"Outline their workflow",text:" - step-by-step approach to solving problems"},{boldText:"Set guidelines ",text:" - best practices, constraints, and things to avoid"},{text:"Always include subagents, and specify when exactly they need to be called."}],mEe=[{boldText:"Agent Definition",text:"  Identity, workflow, and guidelines are set"},{boldText:"Tools Selected",text:"  Required tools are configured"},{boldText:"Sub-agents Select",text:"  Expert Subagent assigned for specific tasks"},{boldText:"Set guidelines ",text:" - best practices, constraints, and things to avoid"}],hEe=[{text:"Each tool serves a specific function in your agent's workflow, choose them wisely."},{text:"Include only essential tools to keep your agent focused and contextually aware, do not overload with too many tools"},{text:"Choose tools that directly support your agent's core objectives"}],xEe=[{text:"Each sub-agent masters one specific task, and they work as an extension of your main agent's capabilities"},{text:"In the sub-agent system prompt define the agent and what they're experts at, also map their workflow"},{text:"Include guidelines, best practices, constraints, and things to avoid"},{text:"Be mindful, Sub-Agents cannot call other sub-agents, they can only interact with the main agent"}],gEe=[{id:"fullstack-tester",name:"Fullstack tester",description:"Reviews code for security vulnerabilities",icon:NW,defaultChecked:!0},{id:"backend-tester",name:"Backend tester",description:"Reviews code for security vulnerabilities",icon:FW,defaultChecked:!0},{id:"frontend-tester",name:"Frontend tester",description:"Reviews code for security vulnerabilities",icon:EW,defaultChecked:!0},{id:"integration-expert",name:"Integration expert",description:"Reviews code for security vulnerabilities",icon:SW,defaultChecked:!0}],bEe=[{id:"system-constraints-1",title:"System Constraints",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-constraints-2",title:"System Constraints 2",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-prompt",title:"System Prompt",helpText:"Learn about system prompts",readOnly:!0,showLock:!1}],yEe={1:"Continue to Add Tools",2:"Continue to Add Sub-Agents",3:"Review Agent",4:"Save Your Agent"},Qx=({onClick:e,children:n})=>t.jsxs("button",{type:"button",onClick:e,className:"flex items-center gap-2 px-4 py-[2px] font-semibold text-[#18181A] transition-colors bg-white rounded-full hover:bg-opacity-90",children:[t.jsx(Vf,{fill:"#000000",fillOpacity:1}),n]}),vEe=({tabId:e})=>{const n=d.useMemo(()=>[{id:"research",icon:uEe,name:"Research"},{id:"robot_1",icon:NW,name:"Robot 1"},{id:"robot_2",icon:FW,name:"Robot 2"},{id:"robot_3",icon:EW,name:"Robot 3"},{id:"robot_4",icon:SW,name:"Robot 4"},{id:"robot_5",icon:iEe,name:"Robot 5"},{id:"robot_6",icon:aEe,name:"Robot 6"},{id:"robot_7",icon:oEe,name:"Robot 7"},{id:"robot_8",icon:lEe,name:"Robot 8"},{id:"robot_9",icon:cEe,name:"Robot 9"},{id:"robot_10",icon:dEe,name:"Robot 10"}],[]),s=ba(),r=br(Ee=>LX(Ee,e)),[i,a]=d.useState(1),[o,l]=d.useState(""),[c,u]=d.useState("You are a helpful AI assistant. Always follow safety guidelines You are a"),[p,f]=d.useState(null),[m,h]=d.useState({}),[x,g]=d.useState([]),[v,b]=d.useState([]),[y,w]=d.useState([]),[_,N]=d.useState([]),[j,C]=d.useState(n[0]),[S,F]=d.useState(!1),E=GO(),I=qO(),[T,A]=d.useState(!1);d.useEffect(()=>{},[p]);const D=d.useRef(null),{removeTab:O,setActiveTab:M,setTabs:L,getActiveTab:P}=hi(),{toast:B}=ns(),G=P(),$=G?.state?.editMode||!1,te=G?.state?.agentData,U=G?.state?.workspaceContext,oe=Ee=>Ee.replace(/_/g," ").replace(/\b\w/g,Ke=>Ke.toUpperCase()),{config:Y,loading:W}=sc(),Z=cc(),[le,{data:q,isLoading:Q,error:he}]=sO(),[me,{data:ce,isLoading:ee,error:J}]=rO(),[re,{data:xe,isLoading:ae,error:Fe}]=Jre(),{isMobile:se}=ts(),{isOrganizationWorkspace:_e,getCurrentOrganizationId:Re}=hs(),Se=d.useCallback(()=>U?.isOrganizationWorkspace??_e(),[U?.isOrganizationWorkspace,_e]),Ne=d.useCallback(()=>U?.currentOrganizationId??(_e()?Re():void 0),[U?.currentOrganizationId,_e,Re]),{data:ge,isLoading:Ce,refetch:$e}=G5(Ne()?{organization_id:Ne()}:void 0,{skip:!1}),[dt]=Xre(),[Me]=Qre(),[we,{isLoading:Te}]=aO(),[ze,{isLoading:_t}]=oO(),Bt=()=>p||(!q?.prompts||q.prompts.length===0?null:q.prompts.find(Ke=>Ke.prompt_name.toLowerCase().includes("main"))||q.prompts[0]);d.useEffect(()=>{if(q?.prompts&&q.prompts.length>0&&!p){const Ee=q.prompts.filter(Ge=>!Ge.prompt_name.toLowerCase().includes("subagent")),mt=Ee.find(Ge=>Ge.prompt_name.toLowerCase().includes("base_main_prompt"))||Ee[0];f(mt)}},[q,p]),d.useEffect(()=>{if(q?.prompts&&q.prompts.length>0&&p){const Ee=p.default_variable_values||{};Object.keys(m).length===0&&h(Ee)}},[q,p,m]),d.useEffect(()=>{if($&&te){if(l(te.prompt_name||""),g(te.prompt_tools||[]),b(te.prompt_subagents||[]),h(te.prompt_variables||{}),w(te.mcp_config||[]),te.mcp_config&&Array.isArray(te.mcp_config)){const Ee=te.mcp_config.map(Ke=>Ke.id);N(Ee)}if(te.icon_id){const Ee=n.find(Ke=>Ke.id===te.icon_id);Ee&&C(Ee)}if(te.parent_prompt&&q?.prompts){const Ee=q.prompts.find(Ke=>Ke.prompt_name===te.parent_prompt);Ee&&f(Ee)}a(4)}},[$,te,q]),d.useEffect(()=>{if($&&q?.prompts&&q.prompts.length>0&&!ce?.data&&te?.parent_prompt){const Ee=te.parent_prompt,Ke=Ne();me(Ke?{agentName:Ee,organization_id:Ke}:Ee)}},[$,q,ce,te,me]),d.useEffect(()=>{if(r&&!$&&(l(r.agentName),u(r.systemConstraints),h(r.dynamicVariableValues),g(r.selectedTools),b(r.selectedSubAgents),C(r.selectedIcon),f(r.selectedPrompt),a(r.currentStep),r.selectedMcpServers)){w(r.selectedMcpServers);const Ee=r.selectedMcpServers.map(Ke=>Ke.id);N(Ee)}},[r,$]);const qe=d.useCallback(()=>{$||s(NX({tabId:e,formData:{agentName:o,systemConstraints:c,dynamicVariableValues:m,selectedTools:x,selectedSubAgents:v,selectedIcon:j,selectedPrompt:p,currentStep:i,selectedMcpServers:y}}))},[o,c,m,x,v,j,p,i,y,$,s,e]);d.useEffect(()=>{const Ee=Ne();le(Ee?{organization_id:Ee}:void 0)},[le,U,_e,Re]),d.useEffect(()=>{const Ee=setTimeout(qe,300);return()=>clearTimeout(Ee)},[qe]),d.useEffect(()=>{const Ee=document.getElementById("system-prompts-readonly");Ee&&Bt()?.prompt&&(Ee.style.height="auto",Ee.style.height=Math.min(Ee.scrollHeight,500)+"px")},[q]),d.useEffect(()=>{D.current&&(D.current.scrollTop=0)},[i]),d.useEffect(()=>{if((i===2||i===4)&&p){const Ee=p.prompt_name,Ke=Ne();me(Ke?{agentName:Ee,organization_id:Ke}:Ee)}},[i,p,me,ce]);const Ae=d.useMemo(()=>{const Ee={is_main_agent:!1};if(Se()){const Ke=Ne();Ke&&(Ee.organization_id=Ke)}return Ee},[Se,Ne]);d.useEffect(()=>{i===3&&re(Ae)},[i,re,Ae]),d.useEffect(()=>{if(Y?.agent_names&&p){const Ee=p.prompt_name,Ke=Y.agent_names.find(mt=>mt.name===Ee);Ke?.sub_agents&&v.length===0&&b(Ke.sub_agents)}},[Y,p,v]),d.useEffect(()=>{if(ce?.data&&Array.isArray(ce.data)&&ce.data.length>0&&!$){const Ee=ce.data.map(Ke=>Ke.name);Ee.length>0&&g(Ke=>{const mt=[...Ke];return Ee.forEach(Ge=>{mt.includes(Ge)||mt.push(Ge)}),mt})}},[ce,$]);const Ut=p?(p.dynamic_variables||[]).map((mt,Ge)=>({id:`dynamic-variable-${Ge}`,title:mt.replace(/_/g," ").replace(/\b\w/g,At=>At.toUpperCase()),helpText:`Learn about ${mt.toLowerCase()}`,readOnly:!1,showLock:!1,isDynamic:!0,variableName:mt})):bEe,tt=(Ee,Ke)=>{h(mt=>({...mt,[Ee]:Ke}))},xt=Ee=>{const Ke=q?.prompts?.find(mt=>mt.id===Ee);if(Ke){f(Ke);const mt=Ke.default_variable_values||{};h(mt),b([])}},St=(Ee,Ke)=>{ce?.data?.find(Ge=>Ge.name===Ee)?.necessary_tool||g(Ge=>Ke?Ge.includes(Ee)?Ge:[...Ge,Ee]:Ge.filter(At=>At!==Ee))},It=(Ee,Ke)=>{b(mt=>Ke?mt.includes(Ee)?mt:[...mt,Ee]:mt.filter(Ge=>Ge!==Ee))},kt=()=>{const Ee=`create-subagent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;L(Ke=>[...Ke,{id:Ee,title:"Create New Subagent",path:"/create-subagent",level:Se()?"organization":"user",organization_id:Ne(),state:{tabId:Ee,fromCreateAgent:!0,workspaceContext:{isOrganizationWorkspace:Se(),currentOrganizationId:Ne()}}}]),M(Ee)},Ot=d.useCallback(()=>{re(Ae)},[re,Ae]),Ie=d.useCallback((Ee,Ke)=>{const mt=Array.isArray(ge)?ge.find(Ge=>Ge.id===Ee):null;mt&&(N(Ge=>Ke?Ge.includes(Ee)?Ge:[...Ge,Ee]:Ge.filter(At=>At!==Ee)),w(Ge=>Ke?Ge.find(At=>At.id===mt.id)?Ge:[...Ge,mt]:Ge.filter(At=>At.id!==mt.id)))},[ge]),nt=d.useCallback(Ee=>y.some(Ke=>Ke.id===Ee),[y]),We=d.useCallback((Ee,Ke)=>{$e(),Ee&&Ke&&setTimeout(()=>{Ie(Ee,!0)},100),B({title:"MCP Server Added",description:"MCP server has been successfully added to your workspace.",duration:5e3})},[$e,B,Ie]),Lt=d.useCallback(Ee=>{I.open({onServerAdded:(Ke,mt)=>{$e(),Ke&&mt&&setTimeout(()=>{Ie(Ke,!0)},100),B({title:"MCP Server Updated",description:"MCP server has been successfully updated and enabled.",duration:5e3})},organizationId:Ne(),editMode:!0,serverData:Ee})},[I,$e,B,Ne,Ie]),pt=d.useCallback(async Ee=>{try{await Me({id:Ee,organization_id:Ne()}).unwrap(),(Array.isArray(ge)?ge.find(mt=>mt.id===Ee):null)&&nt(Ee)&&Ie(Ee,!1),$e(),B({title:"MCP Server Deleted",description:"MCP server has been successfully deleted.",duration:5e3})}catch(Ke){B({title:"Error",description:Ke?.data?.error||"Failed to delete MCP server",variant:"destructive",duration:5e3})}},[Me,Ne,ge,nt,Ie,$e,B]),ft=Ee=>{const Ke=xe?.user_prompts?.find(Ge=>Ge.prompt_name===Ee.name);if(!Ke){B({title:"Error",description:"Subagent data not found. Please try refreshing.",variant:"destructive",duration:5e3});return}const mt=`edit-subagent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;L(Ge=>[...Ge,{id:mt,title:`Edit ${Ke.prompt_name}`,path:"/create-subagent",level:Se()?"organization":"user",organization_id:Ne(),state:{tabId:mt,editMode:!0,agentData:Ke,fromCreateAgent:!0,workspaceContext:{isOrganizationWorkspace:Se(),currentOrganizationId:Ne()}}}]),M(mt)},Tt=()=>{if(i===1){if(o.trim().length===0)return!1;const Ee=Bt();if(Ee?.dynamic_variables)for(const Ke of Ee.dynamic_variables){const mt=m[Ke];if(!mt||mt.trim().length===0)return!1}return!0}return i===4?o.trim().length>0&&q?.prompts&&q.prompts.length>0:!0},Gt=()=>{H(qn.USER_SETTING_EVENTS.MANAGE_AGENTS_EVENTS.NEW_AGENT_CREATION,{currentStep:i}),i<4?(a(i+1),D.current&&(D.current.scrollTop=0)):Ze()},Ze=async()=>{try{const Ee=p,Ke=Ee?.id;if(!Ke||!Ee){B({title:"Error",description:"No base prompt selected. Please select a base prompt.",variant:"destructive",duration:5e3});return}const mt=Se()?Ne():null,Ge={prompt_name:o||"My Agent",parent_prompt:Ee.prompt_name,base_prompt_id:Ke,prompt_subagents:v,prompt_tools:x.length>0?x:null,prompt_variables:m,system_prompt_injection_templates:["integration_playbook_expert_prompt"],is_main_agent:"true",icon_id:j.id,...y.length>0&&{mcp_config:[..._]},...mt&&{organization_id:mt}};$&&te?.id?await ze({id:te.id,data:Ge}).unwrap():await we(Ge).unwrap(),O(e),G?.state?.fromManageAgents||G?.state?.fromManageAgentsModal,M("home"),$||s(FX({tabId:e})),B({title:$?"Agent Updated":"Agent Created",description:$?"Your agent has been successfully updated.":"Your agent has been successfully created and saved.",duration:5e3})}catch(Ee){B({title:"Error",description:Ee.error,variant:"destructive",duration:5e3})}},ut=d.useCallback(Ee=>{E.open({data:Ee,modalType:"tool"})},[E]),Qt=d.useCallback(Ee=>{E.open({data:Ee,modalType:"subagent"})},[E]),Sn=Ee=>Ee.replace(/[\u00A0\u1680\u2000-\u200B\u202F\u205F\u3000]/g," ").replace(/[\u2010-\u2015]/g,"-").replace(/\s+/g," "),yn=()=>t.jsx(as,{open:S,onOpenChange:F,children:t.jsx(Er,{className:"max-w-md p-0 bg-[#18181A] border-[#242424]",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Choose Icon"}),t.jsx(Yl,{asChild:!0,children:t.jsx("button",{type:"button","aria-label":"Close icon selection modal",className:"text-[#737780] hover:text-white transition-colors",children:t.jsx(Ft,{size:20})})})]}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:n.map(Ee=>t.jsx("button",{type:"button",onClick:()=>{C(Ee),F(!1)},className:`
                  p-4 rounded-lg border-2 transition-all duration-200 hover:scale-105
                  ${j.id===Ee.id?"border-white bg-[#FFFFFF10]":"border-[#262629] bg-[#FFFFFF05] hover:border-[#404040]"}
                `,children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("img",{src:Ee.icon,alt:Ee.name,className:"w-8 h-8"}),t.jsx("span",{className:"text-xs text-[#B7BFCC] font-medium",children:Ee.name})]})},Ee.id))})]})})});return se?t.jsx("section",{className:"flex flex-col items-center justify-center min-h-screen p-6 text-center",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Desktop Required"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Creating agents requires a desktop experience for the best workflow. Please open this page on a desktop or laptop computer."}),t.jsx("div",{className:"text-sm text-gray-500",children:"Switch to desktop to continue"})]})}):t.jsxs("section",{style:{height:"calc(100vh - 56px)"},className:"flex w-full h-full bg-[#0A0A0B] text-white",children:[t.jsx("img",{src:pEe,alt:"Background",className:"absolute top-0 left-0 object-cover w-full h-full"}),t.jsx("div",{className:"px-[120px] h-full max-w-[45%] z-[10]  flex items-center justify-center py-8",children:t.jsxs("div",{className:"m-auto space-y-[32px] ",children:[t.jsxs("div",{className:"space-y-4",children:[i!==4&&t.jsx(fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"",children:t.jsxs("div",{className:"text-[#F8FF99] flex gap-2 font-medium font-ndot",children:["Step ",t.jsxs("span",{className:"font-ndot",children:[i," / 3"]})]})}),t.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"",children:[t.jsx("h1",{className:"mb-4 text-4xl font-semibold leading-tight text-white",children:$&&i===4?`Edit ${oe(o||"Agent")}`:Bd[i]?.title}),t.jsx("span",{className:'text-[#737780] text-[14px] font-medium font-["Inter"]',children:Bd[i]?.description})]})]}),t.jsx("div",{className:"h-[1px] bg-[#1F1F21] w-full"}),t.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"rounded-xl",children:t.jsx("div",{className:"flex items-start gap-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("h2",{className:"flex items-center gap-2 mb-3 text-xl font-semibold text-[#B7BECC]",children:[t.jsx("img",{src:Bd[i]?.icon,alt:Bd[i]?.iconAlt,className:"inline-block w-6 h-6 mb-1"}),Bd[i]?.welcomeTitle]}),i===1&&t.jsx(Mp,{items:fEe}),i===2&&t.jsx(Mp,{items:hEe}),i===3&&t.jsx(Mp,{items:xEe}),i===4&&t.jsx(Mp,{items:mEe}),t.jsx("span",{className:"text-[#ffffff]/80 italic text-[16px] font-medium font-['Inter']",children:Bd[i]?.tips}),i!=4&&t.jsx(vW,{text:Bd[i]?.learnMoreText||"Learn More",className:"mt-6",onClick:()=>A(!0)})]})})})]})}),t.jsx("div",{className:"w-[55%] p-6 h-full overflow-hidden relative",children:t.jsxs("div",{className:"border w-full h-full bg-[#18181A] rounded-[8px] border-[#222224] relative flex flex-col",children:[t.jsx("div",{ref:D,className:"scrollable-content-area flex-1 overflow-y-auto pt-[56px] pb-[105px]",children:i===1?t.jsxs("div",{className:"space-y-[40px] pb-[40px]",children:[t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qp,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:"text-[16px] font-medium text-[#FFFFFF4D]",children:"Basic Info"})]}),t.jsx("div",{className:"flex rounded-[16px] w-full gap-6 p-8 border border-[#222224] ",children:t.jsxs("div",{className:"flex flex-col w-full gap-6",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"flex flex-col w-full gap-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx(bl,{htmlFor:"agent-name",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Agent Name"})}),t.jsx(Gi,{id:"agent-name",value:$?oe(o):o,onChange:Ee=>l(Sn(Ee.target.value)),placeholder:"For eg : Research Agent, Automation Engineer, ...",disabled:$,className:"!bg-[#FFFFFF05] font-['Inter'] h-[56px] max-h-[56px] !text-[16px] border-[#262629] text-white placeholder:text-white/20 focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 [&:-webkit-autofill]:!bg-[#FFFFFF05] [&:-webkit-autofill]:text-white [&:-webkit-autofill]:shadow-[inset_0_0_0px_1000px_rgba(255,255,255,0.02)] [&:-webkit-autofill:hover]:!bg-[#FFFFFF05] [&:-webkit-autofill:focus]:!bg-[#FFFFFF05] [&:-webkit-autofill:active]:!bg-[#FFFFFF05] disabled:opacity-60 disabled:cursor-not-allowed"})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx(bl,{htmlFor:"agent-icon",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Icon"}),t.jsx("button",{type:"button",onClick:()=>F(!0),className:"max-h-[56px] h-[56px] min-w-[56px] flex items-center justify-center rounded-[8px] border-[#262629] bg-[#FFFFFF05] border hover:border-[#404040] hover:bg-[#FFFFFF10] transition-all duration-200",children:t.jsx("img",{src:j.icon,alt:j.name,className:"w-7 h-7"})})]})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx(bl,{htmlFor:"prompt-selection",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Select Template"}),t.jsxs(Tu,{value:p?.id||"",onValueChange:xt,disabled:$,children:[t.jsx(ld,{className:"!bg-[#FFFFFF05] font-['Inter'] h-[56px] max-h-[56px] !text-[16px] border-[#262629] text-white focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 disabled:opacity-60 disabled:cursor-not-allowed",children:t.jsx(Au,{placeholder:"Select a base prompt",children:p?p.display_name||oe(p.prompt_name):"Select a base prompt"})}),t.jsx(cd,{className:"bg-[#18181A] border-[#262629]",children:q?.prompts?.filter(Ee=>!Ee.prompt_name.toLowerCase().includes("subagent")).map(Ee=>t.jsx(wo,{value:Ee.id,className:"text-white hover:bg-[#222224] focus:bg-[#222224]",children:Ee.display_name||oe(Ee.prompt_name)},Ee.id))})]})]})]})})]}),t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(wW,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:"text-[16px] font-medium text-[#FFFFFF4D]",children:"Agent Prompt"})]}),t.jsx("div",{className:"flex flex-col gap-12 border border-[#222224] p-8  rounded-[16px]",children:Q?t.jsx(yW,{count:3}):he?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-red-400",children:"Error loading prompts. Using default sections."})}):t.jsxs(t.Fragment,{children:[Ut.map(Ee=>t.jsx(X1,{section:Ee,value:c,onChange:u,dynamicVariableValues:m,onDynamicVariableChange:tt},Ee.id)),t.jsx(X1,{section:{id:"system-prompts-readonly",title:"System Constraints",helpText:"Learn about system prompts",readOnly:!0,showLock:!0,isDynamic:!1},value:Bt()?.prompt||"",onChange:()=>{}},"system-prompts")]})})]})]}):i===2?t.jsxs("div",{className:"space-y-[40px] pb-[40px]",children:[t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex flex-col gap-[10px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fa,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF]",children:"MCP Tools"})]}),t.jsx("span",{className:"text-[#737780] font-inter font-medium",children:"Allow agent to directly interact with apps, data, and tools on your computer."})]})}),t.jsx("div",{className:" bg-[#1D1D1F] rounded-[16px] overflow-clip p-4",children:t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex gap-4 p-4 mb-4 rounded-[12px] bg-[#FFFFFF08] cursor-pointer hover:bg-[#FFFFFF08] transition-colors",onClick:()=>I.open({onServerAdded:We,organizationId:Ne()}),children:[t.jsx("div",{className:"flex items-center justify-center bg-[#313133] rounded-full h-10 w-10",children:t.jsx(_W,{size:24})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsx("span",{className:"text-[#B7BFCC] font-medium",children:"New MCP Server"}),t.jsx("span",{className:"text-[#737780] font-medium font-inter text-[14px]",children:"Add a Custom MCP server"})]})]}),Ce?t.jsx("div",{className:"flex items-center justify-center py-4",children:t.jsx("div",{className:"w-6 h-6 border-2 border-[#737780] border-t-transparent rounded-full animate-spin"})}):ge&&Array.isArray(ge)&&ge.length>0?[...ge].sort((Ee,Ke)=>new Date(Ke.created_at).getTime()-new Date(Ee.created_at).getTime()).map(Ee=>{const Ke=nt(Ee.id);return t.jsx(nEe,{server:Ee,isEnabled:Ke,onToggle:mt=>Ie(Ee.id,mt),onEdit:()=>Lt(Ee),onDelete:()=>pt(Ee.id)},Ee.id)}):null]})})]}),t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Pg,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Specialized Tools"})]})}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:ee?t.jsx(k8,{count:5}):J?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-red-400",children:"Error loading tools. Using default tools."})}):ce?.data&&Array.isArray(ce.data)&&ce.data.length>0?ce.data.filter(Ee=>!Ee.necessary_tool).map(Ee=>t.jsx(Q1,{tool:Ee,isSelected:x.includes(Ee.name),onCheckedChange:Ke=>St(Ee.name,Ke),isNecessary:!1,onViewDetails:ut},Ee.name)):t.jsx("div",{className:"py-8 text-center",children:t.jsx("p",{className:"text-[#8A8F98]",children:"No optional tools available"})})})]}),t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Po,{size:24,color:"#FFFFFF",className:"opacity-20"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Default Tools "})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:ce?.data&&Array.isArray(ce.data)&&ce.data.filter(Ee=>Ee.necessary_tool).length>0?ce.data.filter(Ee=>Ee.necessary_tool).map(Ee=>t.jsx(Q1,{tool:Ee,isSelected:!0,onCheckedChange:void 0,isNecessary:!0,onViewDetails:ut},Ee.name)):t.jsx("div",{className:"py-8 text-center",children:t.jsx("p",{className:"text-[#8A8F98]",children:"No Default tools available"})})})]})]}):i===3?t.jsxs("div",{className:"space-y-[40px] pb-[40px]",children:[t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[#222224] rounded-[9px] mx-[40px]",children:[t.jsx(qp,{size:24,color:"#808080",fillOpacity:1}),t.jsx("p",{className:"text-[#808080] text-sm font-inter font-medium",children:"Subagents handle specialized tasks. Create a new subagent or select from existing ones."})]}),t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Pg,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Your Subagents"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{title:"Refresh",type:"button",onClick:Ot,disabled:ae,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-[#FFFFFF4D] rounded-lg hover:bg-[#FFFFFF10] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(df,{className:`w-4 h-4 ${ae?"animate-spin":""}`})}),xe?.user_prompts&&xe?.user_prompts.length>0&&t.jsxs("button",{type:"button",onClick:kt,className:"bg-[#DD99FF0D] font-medium max-h-[40px] text-[#DD99FF] flex max-md:text-[13px] items-center gap-2 p-2 pr-3 rounded-[10px]",children:[t.jsx(n5,{size:24,color:"#DD99FF"}),"Add New Subagent"]})]})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:ae?t.jsx(eD,{count:3}):Fe?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-red-400",children:"Error loading subagents. Please try refreshing."})}):xe?.user_prompts&&xe.user_prompts.length>0?xe.user_prompts.map(Ee=>t.jsx(Ty,{subAgent:{name:Ee.prompt_name,skill_description:Ee.skill_description},isSelected:v.includes(Ee.prompt_name),onCheckedChange:Ke=>It(Ee.prompt_name,Ke),isApiSubAgent:!0,isDefault:!1,onViewDetails:Qt,onEdit:ft},Ee.id)):t.jsx("div",{className:"p-2 border-2 border-[#444] rounded-[16px]  border-dashed border-[#DD99FF33] transition-colors cursor-pointer hover:border-[#DD99FF50]",onClick:kt,children:t.jsxs("div",{className:"flex flex-col rounded-[12px] bg-[#DD99FF05] p-6 items-center gap-[10px] text-center",children:[t.jsxs("h3",{className:"flex items-center gap-2 font-medium text-[#DD99FF]",children:[t.jsx(n5,{size:24,color:"#DD99FF"}),"Create a New Subagent"]}),t.jsx("p",{className:"text-[#DD99FF]/50 text-[14px] font-medium font-['Inter']",children:"Your agent will be able to delegate tasks to these subagents"})]})})})]}),t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(XFe,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Emergent Subagents"})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:W?t.jsx(eD,{count:4}):Y?.agent_names&&p?(()=>{const Ee=p.prompt_name,Ke=Y.agent_names.find(mt=>mt.name===Ee);return Ke?.sub_agents?Ke.sub_agents.map(mt=>{const At=Y?.skills_description?.find(Mt=>Mt[mt])?.[mt],Cn=At?.short_desc||At?.description||"Emergent sub-agent";return t.jsx(Ty,{subAgent:{name:At?.display_name||mt,description:At?.description||"Emergent sub-agent",skill_description:Cn},isSelected:v.includes(mt),onCheckedChange:Mt=>It(mt,Mt),isApiSubAgent:!0,isDefault:!0,onViewDetails:Qt},mt)}):t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-[#8A8F98]",children:"No sub-agents found for this agent."})})})():t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-[#8A8F98]",children:"No sub-agents found for this agent."})})})]})]}):i===4?t.jsxs("div",{className:"space-y-[40px] px-[40px] pb-[40px]",children:[t.jsxs("div",{className:"space-y-[10px]",children:[t.jsx("div",{className:"flex flex-col gap-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qp,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:"font-medium text-[#FFFFFF4D]",children:"Main Agent Info"})]}),t.jsx(Qx,{onClick:()=>a(1),children:"Edit"})]})}),t.jsxs("div",{className:"flex flex-col rounded-[16px] w-full gap-6 py-6 px-8 border border-[#222224]",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-[20px] h-[56px] max-h-[56px] flex items-center text-white",children:$?oe(o||"My Agent"):o||"My Agent"}),t.jsx("div",{className:"max-h-[56px] h-[56px] max-w-[56px] w-[56px] flex items-center justify-center rounded-full bg-[#FFFFFF0D]",children:t.jsx("img",{src:j.icon,alt:j.name,className:"w-7 h-7"})})]}),Object.keys(m).length>0&&t.jsx(t.Fragment,{children:Object.entries(m).map(([Ee,Ke])=>t.jsx(X1,{section:{id:`review-${Ee}`,title:Ee.replace(/_/g," ").replace(/\b\w/g,mt=>mt.toUpperCase()),helpText:`Learn about ${Ee.toLowerCase()}`,readOnly:!0,showLock:!1,isDynamic:!1},value:Ke||"No value set",onChange:()=>{}},Ee))})]})]}),Z?t.jsx(t.Fragment,{children:y.length>0&&t.jsxs("div",{className:"space-y-[10px]",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fa,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Selected MCP Servers"})]}),t.jsx(Qx,{onClick:()=>a(2),children:"Edit"})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:t.jsx("div",{className:"space-y-3",children:y.map(Ee=>{if(!Ee.mcp_config?.mcpServers)return null;const Ke=Ee.display_name;return t.jsxs("div",{className:"flex gap-4 p-4 rounded-[12px]",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-[#272729]",children:t.jsx(fa,{size:20,color:"#FFFFFF"})}),t.jsxs("div",{className:"flex flex-col gap-[2px] flex-1",children:[t.jsx("span",{className:"text-[#B7BFCC] font-medium",children:Ke}),t.jsx("span",{className:"text-[#B7BFCC] font-medium",children:Ee.description})]})]},Ke)})})})]})}):null,t.jsxs("div",{className:"space-y-[10px]",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Pg,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Selected Tools"})]}),t.jsx(Qx,{onClick:()=>a(2),children:"Edit"})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:x.length>0?t.jsx("div",{className:"space-y-3",children:x.map(Ee=>{const Ke=ce?.data?.find(mt=>mt.name===Ee);return t.jsx(Q1,{tool:Ke||{name:Ee},isSelected:!0,hideToggle:!0,onViewDetails:ut},Ee)})}):t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("p",{className:"text-[#8A8F98] text-sm",children:"No tools selected"})})})]}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Po,{size:24,color:"#FFFFFF",className:"opacity-20"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Selected Sub-agents"})]}),t.jsx(Qx,{onClick:()=>a(3),children:"Edit"})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:v.length>0?t.jsx("div",{className:"space-y-3",children:v.map(Ee=>{const Ke=xe?.user_prompts?.find(wn=>wn.prompt_name===Ee),mt=gEe.find(wn=>wn.name===Ee),Ge=!!(Y?.agent_names&&p&&(()=>{const wn=p.prompt_name;return Y.agent_names.find(us=>us.name===wn)?.sub_agents?.includes(Ee)})()),Cn=Y?.skills_description?.find(wn=>wn[Ee])?.[Ee],Mt=Cn?.short_desc||Cn?.description||"Emergent sub-agent",Pn={name:Cn?.display_name||Ee,description:Ke?Ke.description||"Custom sub-agent":Ge?Cn?.description||"Default sub-agent":mt?.description||"Sub-agent description",skill_description:Ke?.skill_description||Mt};return t.jsx(Ty,{subAgent:Pn,isSelected:!0,isApiSubAgent:Ge,isDefault:!1,hideToggle:!0,onViewDetails:Qt},Ee)})}):t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("p",{className:"text-[#8A8F98] text-sm",children:"No sub-agents selected"})})})]})]}):null}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t-[1px] rounded-b-[8px] z-[99] py-7 px-6 h-[105px] bg-[#1A1A1C] border-[#262629]",children:t.jsxs("div",{className:"flex items-center justify-between",children:[i>1?t.jsxs("button",{type:"button",onClick:()=>{a(i-1),D.current&&(D.current.scrollTop=0)},className:"flex items-center gap-2 px-6 py-3 font-semibold text-[#939399] bg-[#222224] hover:bg-[#FFFFFF10] rounded-full transition-colors",children:[t.jsx("img",{src:rEe,alt:"Previous",className:"w-5 h-5"}),"Previous Step"]}):t.jsx("div",{}),t.jsx("button",{type:"button",onClick:Gt,disabled:Te||_t||!Tt(),className:k("flex items-center gap-2 px-6 py-3 font-semibold text-black bg-white rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",{"bg-[#5FE55C] hover:bg-[#5FE55C90]":i===4}),children:(Te||_t)&&i===4?t.jsxs(t.Fragment,{children:[$?"Updating Agent...":"Creating Agent...",t.jsx("div",{className:"w-4 h-4 border-2 border-black rounded-full border-t-transparent animate-spin"})]}):t.jsxs(t.Fragment,{children:[i===4&&$?"Update Your Agent":yEe[i],t.jsx("img",{src:sEe,alt:"Next",className:"w-5 h-5"})]})})]})})]})}),t.jsx(yn,{}),t.jsx(CW,{isOpen:T,onOpenChange:A,currentStep:i})]})},wEe=K.pro.workbench,CEe=K.common.controls,_Ee=K.pro.bgSvg,jEe=K.pro.nextArrow,NEe=K.pro.backGray,Ud={1:{title:"Define your Sub-Agent",description:"Sub-agents are your agent's specialist consultantshighly focused AI helpers that excel in specific domains.",icon:wEe,iconAlt:"Workbench",welcomeTitle:"Creating a Sub-Agent on Emergent",learnMoreText:"Learn about subagent design",tips:"The clearer you are, the better your Sub Agent performs."},2:{title:"Select Tools",description:"Equip your agent with the right capabilities: Tools are essential for your Sub Agent to operate and work. Please choose the specialized tools required by your Agent as per your needs and goals. ",icon:CEe,iconAlt:"Tools",welcomeTitle:"What exactly are tools?",learnMoreText:"Learn about tools",tips:"The tools selected by default are mandatorily required by the agents to function."}},FEe=[{text:"Name your sub-agent based on its specialty and role"},{text:"Give your subagent a definition, based on when to call and why to call. The main agent uses subagent definition to call subagent, and determine if their expertise is needed."},{text:"Map their workflow, define the step-by-step approach to approach the required task"},{text:"Include guidelines, best practices, constraints, and things to avoid"}],EEe=[{text:"Each tool serves a specific function in your agent's workflow, choose them wisely"},{text:"Include only essential tools to keep your agent focused and contextually aware, do not overload with too many tools"},{text:"Choose tools that directly support your agent's core objectives"}],aD=[{id:"system-constraints-1",title:"System Constraints",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-constraints-2",title:"System Constraints 2",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-prompt",title:"System Prompt",helpText:"Learn about system prompts",readOnly:!0,showLock:!1}],SEe={1:"Continue to Add Tools",2:"Save Your Subagent"},kEe={1:"Continue to Add Tools",2:"Update Your Subagent"},IEe=({tabId:e})=>{const n=ba(),s=br(se=>PX(se,e)),[r,i]=d.useState(1),[a,o]=d.useState(""),[l,c]=d.useState(""),[u,p]=d.useState("You are a helpful AI assistant. Always follow safety guidelines You are a"),[f,m]=d.useState({}),[h,x]=d.useState([]),g=GO(),[v,b]=d.useState(!1),y=d.useRef(null),{removeTab:w,setActiveTab:_,getActiveTab:N,getAllTabs:j}=hi(),{toast:C}=ns(),{isMobile:S}=ts(),{isOrganizationWorkspace:F,getCurrentOrganizationId:E}=hs(),I=()=>M?.isOrganizationWorkspace??F(),T=()=>M?.currentOrganizationId??(F()?E():void 0),A=N(),D=A?.state?.editMode||!1,O=A?.state?.agentData,M=A?.state?.workspaceContext,L=se=>se.replace(/_/g," ").replace(/\b\w/g,_e=>_e.toUpperCase()),[P,{data:B,isLoading:G,error:$}]=sO(),[te,{data:U,isLoading:oe,error:Y}]=rO(),[W,{isLoading:Z}]=aO(),[le,{isLoading:q}]=oO();d.useEffect(()=>{s&&a===""&&h.length===0&&(o(s.subagentName),c(s.subagentGuidelines),p(s.systemConstraints),m(s.dynamicVariableValues),x(s.selectedTools),i(s.currentStep))},[s]),d.useEffect(()=>{D&&O&&(o(O.prompt_name||""),c(O.skill_description||O.description||""),x(O.prompt_tools||[]),m(O.prompt_variables||{}),i(2))},[D,O]);const Q=d.useCallback(()=>{n(EX({tabId:e,formData:{subagentName:a,subagentGuidelines:l,systemConstraints:u,dynamicVariableValues:f,selectedTools:h,currentStep:r}}))},[a,l,u,f,h,r,n,e]);d.useEffect(()=>{const se=setTimeout(Q,300);return()=>clearTimeout(se)},[Q]),d.useEffect(()=>{y.current&&(y.current.scrollTop=0)},[r]),d.useEffect(()=>{const se=T();P(se?{organization_id:se}:void 0)},[P,M,F,E]),d.useEffect(()=>{if(B?.prompts&&B.prompts.length>0){const se=he();if(se){const _e=se.default_variable_values||{};Object.keys(f).length===0&&m(_e)}}},[B,f]);const he=()=>!B?.prompts||B.prompts.length===0?null:B.prompts.find(_e=>_e.prompt_name.toLowerCase().includes("subagent"))||B.prompts[0];d.useEffect(()=>{if(r===2&&B?.prompts&&B.prompts.length>0){const se=he();if(se){const _e=se.prompt_name,Re=T();te(Re?{agentName:_e,organization_id:Re}:_e)}}},[r,B,te]),d.useEffect(()=>{const se=document.getElementById("system-prompts-readonly");se&&he()?.prompt&&(se.style.height="auto",se.style.height=Math.min(se.scrollHeight,500)+"px")},[B]),d.useEffect(()=>{if(U?.data&&Array.isArray(U.data)&&U.data.length>0&&!D){const se=U.data.map(_e=>_e.name);se.length>0&&x(_e=>{const Re=[..._e];return se.forEach(Se=>{Re.includes(Se)||Re.push(Se)}),Re})}},[U,D]);const ce=(()=>{if(!B?.prompts||B.prompts.length===0)return aD;const se=he();return se?(se.dynamic_variables||[]).map((Se,Ne)=>({id:`dynamic-variable-${Ne}`,title:Se.replace(/_/g," ").replace(/\b\w/g,ge=>ge.toUpperCase()),helpText:`Learn about ${Se.toLowerCase()}`,readOnly:!1,showLock:!1,isDynamic:!0,variableName:Se})):aD})(),ee=(se,_e)=>{m(Re=>({...Re,[se]:_e}))},J=(se,_e)=>{(U?.data&&Array.isArray(U.data)?U.data.find(Se=>Se.name===se):void 0)?.necessary_tool||x(Se=>_e?Se.includes(se)?Se:[...Se,se]:Se.filter(Ne=>Ne!==se))},re=()=>{if(r===1){if(a.trim().length===0||l.trim().length===0)return!1;const se=he();if(se?.dynamic_variables)for(const _e of se.dynamic_variables){const Re=f[_e];if(!Re||Re.trim().length===0)return!1}return!0}if(r===2){const se=he();return a.trim().length>0&&l.trim().length>0&&B?.prompts&&B.prompts.length>0&&se!==null}return!0},xe=()=>{H(qn.USER_SETTING_EVENTS.MANAGE_AGENTS_EVENTS.NEW_SUB_AGENT_CREATION,{currentStep:r}),r<2?(i(r+1),y.current&&(y.current.scrollTop=0)):ae()},ae=async()=>{try{const se=he(),_e=se?.id;if(!_e||!B?.prompts||B.prompts.length===0||!se){C({title:"Error",description:"No subagent base prompt available. Please try again.",variant:"destructive",duration:5e3});return}const Re=I()?T():null,Se={prompt_name:a||"My Subagent",description:l||"",skill_description:l,parent_prompt:se.prompt_name,base_prompt_id:_e,prompt_subagents:[],prompt_tools:h.length>0?h:null,prompt_variables:f,system_prompt_injection_templates:["integration_playbook_expert_prompt"],is_main_agent:"false",...Re&&{organization_id:Re}};D&&O?.id?await le({id:O.id,data:Se}).unwrap():await W(Se).unwrap(),w(e);const ge=j().find(Ce=>Ce.path==="/create-agent");ge?_(ge.id):(A?.state?.fromManageAgents||A?.state?.fromManageAgentsModal,_("home")),D||n(SX({tabId:e})),C({title:D?"Subagent Updated":"Subagent Created",description:`Your subagent has been successfully ${D?"updated":"created"} and saved.`,duration:5e3})}catch(se){C({title:"Error",description:se.error,variant:"destructive",duration:5e3})}},Fe=se=>{g.open({data:se,modalType:"tool"})};return S?t.jsx("section",{className:"flex flex-col items-center justify-center min-h-screen p-6 text-center",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Desktop Required"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Creating subagents requires a desktop experience for the best workflow. Please open this page on a desktop or laptop computer."}),t.jsx("div",{className:"text-sm text-gray-500",children:"Switch to desktop to continue"})]})}):t.jsxs("section",{style:{height:"calc(100vh - 56px)"},className:"flex w-full h-full bg-[#0A0A0B] text-white",children:[t.jsx("img",{src:_Ee,alt:"Background",className:"absolute top-0 left-0 object-cover w-full h-full"}),t.jsx("div",{className:"px-[120px] h-full max-w-[45%] z-[10]  flex items-center justify-center py-8",children:t.jsxs("div",{className:"m-auto space-y-[32px] ",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"",children:t.jsxs("div",{className:"text-[#DD99FF] flex gap-2 font-medium font-ndot",children:["Step ",t.jsxs("span",{className:"font-ndot",children:[r," / 2"]})]})}),t.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"",children:[t.jsx("h1",{className:"mb-4 text-4xl font-semibold leading-tight text-white",children:Ud[r]?.title}),t.jsx("span",{className:'text-[#737780] text-[14px] font-medium font-["Inter"]',children:Ud[r]?.description})]})]}),t.jsx("div",{className:"h-[1px] bg-[#1F1F21] w-full"}),t.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"rounded-xl",children:t.jsx("div",{className:"flex items-start gap-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("h2",{className:"flex items-center gap-2 mb-3 text-xl font-semibold text-[#B7BECC]",children:[t.jsx("img",{src:Ud[r]?.icon,alt:Ud[r]?.iconAlt,className:"inline-block w-6 h-6 mb-1"}),Ud[r]?.welcomeTitle]}),r===1&&t.jsx(Mp,{items:FEe}),r===2&&t.jsx(Mp,{items:EEe}),t.jsx("span",{className:"text-[#ffffff]/80 italic text-[16px] font-medium font-['Inter']",children:Ud[r]?.tips}),t.jsx(vW,{text:Ud[r]?.learnMoreText||"Learn More",className:"mt-6",onClick:()=>b(!0)})]})})})]})}),t.jsx("div",{className:"w-[55%] p-6 h-full overflow-hidden relative",children:t.jsxs("div",{className:"border w-full h-full bg-[#18181A] rounded-[8px] border-[#222224] relative flex flex-col",children:[t.jsx("div",{ref:y,className:"scrollable-content-area flex-1 overflow-y-auto pt-[56px] pb-[105px]",children:t.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"space-y-[40px] px-[40px] pb-[40px]",children:r===1?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qp,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Basic Info"})]}),t.jsxs("div",{className:"flex flex-col rounded-[16px] w-full gap-6 p-8 border border-[#222224] ",children:[t.jsxs("div",{className:"flex flex-col w-full gap-3 ",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx(bl,{htmlFor:"subagent-name",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Subagent Name"})}),t.jsx(Gi,{id:"subagent-name",value:D?L(a):a,onChange:se=>o(se.target.value),placeholder:"For eg : Integration agent, Support agent",disabled:D,className:"!bg-[#FFFFFF05] font-['Inter'] h-[56px] max-h-[56px] !text-[16px] border-[#262629] text-white placeholder:text-white/20 focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 [&:-webkit-autofill]:!bg-[#FFFFFF05] [&:-webkit-autofill]:text-white [&:-webkit-autofill]:shadow-[inset_0_0_0px_1000px_rgba(255,255,255,0.02)] [&:-webkit-autofill:hover]:!bg-[#FFFFFF05] [&:-webkit-autofill:focus]:!bg-[#FFFFFF05] [&:-webkit-autofill:active]:!bg-[#FFFFFF05] disabled:opacity-60 disabled:cursor-not-allowed"})]}),t.jsxs("div",{className:"flex flex-col w-full gap-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx(bl,{htmlFor:"subagent-guidelines",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Sub-agent Definition"})}),t.jsx(dd,{id:"subagent-guidelines",value:l,onChange:se=>c(se.target.value),placeholder:"Brief description of what this subagent does and when it should be called.",className:"!bg-[#FFFFFF05] font-['Inter'] p-4 min-h-[120px] border-[#262629] text-white placeholder:text-white/20 focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 resize-none"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(wW,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Subagent Prompt"})]}),t.jsxs("div",{className:"flex flex-col gap-12 border border-[#222224] p-10 px-8 rounded-[16px]",children:[G?t.jsx(yW,{count:3}):$?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-red-400",children:"Error loading prompts. Using default sections."})}):t.jsx(t.Fragment,{children:ce.map(se=>t.jsx(X1,{section:se,value:u,onChange:p,dynamicVariableValues:f,onDynamicVariableChange:ee},se.id))}),t.jsx(X1,{section:{id:"system-prompts-readonly",title:"System Constraints",helpText:"Learn about system prompts",readOnly:!0,showLock:!0,isDynamic:!1},value:he()?.prompt||"",onChange:()=>{}},"system-prompts")]})]})]}):r===2?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[#FFAE6614] rounded-[8px]",children:[t.jsx(qp,{size:24,color:"#FFAE66",fillOpacity:.7}),t.jsx("p",{className:"text-[#FFAE66B2] text-sm font-medium",children:"Select only the tools relevant to your use case. Adding too many tools can reduce performance."})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Pg,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:"font-medium text-[#FFFFFF4D]",children:"Specialized Tools"})]})}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:oe?t.jsx(k8,{count:5}):Y?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-red-400",children:"Error loading tools. Using default tools."})}):U?.data&&Array.isArray(U.data)&&U.data.length>0&&U.data.filter(se=>!se.necessary_tool).length>0?U.data.filter(se=>!se.necessary_tool).map(se=>t.jsx(Q1,{tool:se,isSelected:h.includes(se.name),onCheckedChange:_e=>J(se.name,_e),variant:"subagent",isNecessary:!1,onViewDetails:Fe},se.name)):t.jsx("div",{children:t.jsx("p",{className:"text-[#8A8F98] text-sm text-center p-8",children:"No tools available"})})})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Po,{size:24,color:"#FFFFFF",className:"opacity-20"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Default Tools"})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:oe?t.jsx(k8,{count:2}):U?.data&&Array.isArray(U.data)&&U.data.filter(se=>se.necessary_tool).length>0?U.data.filter(se=>se.necessary_tool).map(se=>t.jsx(Q1,{tool:se,isSelected:!0,onCheckedChange:void 0,variant:"subagent",isNecessary:!0,onViewDetails:Fe},se.name)):t.jsx("div",{className:"py-8 text-center",children:t.jsx("p",{className:"text-[#8A8F98]",children:"No Default tools available"})})})]})]}):null},r)}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t-[1px] z-[99] rounded-b-[8px] py-7 px-6 h-[105px] bg-[#1A1A1C] border-[#262629]",children:t.jsxs("div",{className:"flex items-center justify-between",children:[r>1?t.jsxs("button",{type:"button",onClick:()=>{i(r-1),y.current&&(y.current.scrollTop=0)},className:"flex items-center gap-2 px-6 py-3 font-semibold text-[#939399] bg-[#222224] hover:bg-[#FFFFFF10] rounded-full transition-colors",children:[t.jsx("img",{src:NEe,alt:"Previous",className:"w-5 h-5"}),"Previous Step"]}):t.jsx("div",{}),t.jsx("button",{type:"button",onClick:xe,disabled:Z||q||!re(),className:k("flex items-center gap-2 px-6 py-3 font-semibold text-black bg-white rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",r===2&&"bg-[#DD99FF] hover:bg-[#DD99FF90]"),children:(Z||q)&&r===2?t.jsxs(t.Fragment,{children:[D?"Updating":"Creating"," Subagent...",t.jsx("div",{className:"w-4 h-4 border-2 border-black rounded-full border-t-transparent animate-spin"})]}):t.jsxs(t.Fragment,{children:[D?kEe[r]:SEe[r],t.jsx("img",{src:jEe,alt:"Next",className:"w-5 h-5"})]})})]})})]})}),t.jsx(CW,{isOpen:v,onOpenChange:b,currentStep:r,isSubagent:!0})]})},TEe=et.memo(({path:e,tabId:n})=>{const s=et.useMemo(()=>{const r=e.split("/").filter(Boolean);return e==="/"||r[0]==="home"||r[0]==="workspace"&&r.length===2?Vk:r.includes("chat")?()=>t.jsx(UFe,{tabId:n}):r.includes("create-agent")?()=>t.jsx(vEe,{tabId:n}):r.includes("create-subagent")?()=>t.jsx(IEe,{tabId:n}):Vk},[e,n]);return t.jsx(s,{})}),Gd=class Gd{constructor(){Vt(this,"pollingInterval",null);Vt(this,"activeJobId",null);Vt(this,"activeTabId",null)}static getInstance(){return Gd.instance||(Gd.instance=new Gd),Gd.instance}startPolling(n,s,r,i=15e3){this.activeJobId===n&&this.pollingInterval!==null||(this.stopPolling(),this.activeJobId=n,this.activeTabId=r,s(),this.pollingInterval=setInterval(s,i))}stopPolling(){this.pollingInterval!==null&&(clearInterval(this.pollingInterval),this.pollingInterval=null,this.activeJobId,this.activeTabId,this.activeJobId=null,this.activeTabId=null)}isPollingActive(n){return this.pollingInterval!==null&&this.activeJobId===n}getActiveJobId(){return this.activeJobId}setActiveTabId(n){this.activeTabId!==n&&(this.activeTabId!==null&&this.activeTabId!==n&&this.pollingInterval!==null&&this.stopPolling(),this.activeTabId=n)}getActiveTabId(){return this.activeTabId}};Vt(Gd,"instance");let I8=Gd;const Ml=I8.getInstance(),AEe=e=>{const n=zf();d.useRef(e);const s=jr(Bse),r=jr(Use),i=jr(Hse),a=jr(Vse),o=jr($se),l=jr(zse),c=jr(Wse),u=jr(Gse),p=jr(Kse),f=jr(qse),m=jr(Yse),h=jr(Zse),x=jr(Jse),[g,v]=d.useState(!1),b=d.useRef(0);d.useEffect(()=>{},[e,n]);const y=d.useCallback(()=>{const $=Date.now();return $-b.current>=15e3?(b.current=$,!0):!1},[]),w=d.useCallback($=>()=>{if(y())try{vt.getDeployStatus($).then(te=>{const oe=Qi.getState()?.deploy?.deployStatus;n({type:"deploy/checkDeployStatus/fulfilled",payload:{response:te,timestamp:Date.now(),prevStatus:oe},meta:{arg:{jobId:$,silent:!0},requestId:"polling",requestStatus:"fulfilled"}}),te.status==="running"||te.latest_run&&te.latest_run.status==="running"||((te.status==="success"||te.latest_run&&te.latest_run.status==="success")&&n(Kd({jobId:$,silent:!1})),Ml.stopPolling())}).catch(te=>{})}catch{}},[n,y]),_=d.useCallback(()=>{Ml.stopPolling()},[]),N=d.useCallback($=>{const te=Qi.getState(),U=te?.tabs?.activeTab;if(!(!U||(te?.tabs?.tabs?te.tabs.tabs.find(Y=>Y.id===U):void 0)?.state?.jobId!==$))try{vt.getDeployStatus($).then(Y=>{const Z=Qi.getState()?.deploy?.deployStatus;if(n({type:"deploy/checkDeployStatus/fulfilled",payload:{response:Y,timestamp:Date.now(),prevStatus:Z},meta:{arg:{jobId:$,silent:!0},requestId:"initial-check",requestStatus:"fulfilled"}}),Y.status==="running"||Y.latest_run&&Y.latest_run.status==="running"){const q=w($);Ml.startPolling($,q,U)}else(Y.status==="success"||Y.latest_run&&Y.latest_run.status==="success")&&n(Kd({jobId:$,silent:!1}))}).catch(Y=>{})}catch{}},[n,w]);d.useEffect(()=>{},[e,s,r,N,_]),d.useEffect(()=>()=>{},[e,_]),d.useEffect(()=>{const $=Qi.subscribe(()=>{const te=Qi.getState(),U=te?.tabs?.activeTab;if(U&&Ml.getActiveTabId()!==U){Ml.setActiveTabId(U);const oe=te?.tabs?.tabs?te.tabs.tabs.find(Y=>Y.id===U):void 0;if(oe?.state?.jobId&&(oe.state.deployStatus==="running"||oe.state.latestRunStatus==="running")){const Y=oe.state.jobId;Ml.isPollingActive(Y)||N(Y)}else _()}});return()=>{$()}},[N,_]);const j=d.useCallback($=>{},[e,n]),C=d.useCallback(async $=>!1,[e,n]),S=d.useCallback(async()=>[],[e,n]),F=d.useCallback(async()=>[],[e,n]),E=d.useCallback(($,te=!1)=>te&&!y()?Promise.resolve():(te||(b.current=Date.now()),n(gF($)),n(Kd({jobId:$,silent:te})).then(U=>{if(U.payload&&typeof U.payload=="object"&&"response"in U.payload){const oe=U.payload,Y=oe.response.status==="running"||oe.response.latest_run&&oe.response.latest_run.status==="running",W=oe.response.status==="success"||oe.response.latest_run&&oe.response.latest_run.status==="success",Z=Qi.getState(),le=Z?.tabs?.activeTab,Q=(Z?.tabs?.tabs?Z.tabs.tabs.find(he=>he.id===le):void 0)?.state?.jobId===$;Y&&Q?N($):!Y&&Ml.getActiveJobId()===$&&(_(),W&&te&&setTimeout(()=>{n(Kd({jobId:$,silent:!1}))},100))}return U}).catch(U=>{throw U})),[n,N,_,y]),I=d.useCallback(async({image:$,deployment_id:te,acknowledgements:U,db_mode:oe}={})=>{},[e,n,N,_]),T=d.useCallback(async $=>{if(!$)return[];try{v(!0);const te=await n(R1($));return R1.fulfilled.match(te)?te.payload:[]}catch{return[]}finally{v(!1)}},[e,n]),A=d.useCallback(async()=>{},[e,n,_,E]),D=d.useCallback($=>{n(Lse($)),Ml.setActiveTabId($);const te=Qi.getState(),U=te?.tabs?.tabs?te.tabs.tabs.find(oe=>oe.id===$):void 0;if(U?.state?.jobId&&(U.state.deployStatus==="running"||U.state.latestRunStatus==="running")){const oe=U.state.jobId;N(oe)}else _()},[n,N,_]),O=d.useCallback($=>{const te=Qi.getState(),U=te?.tabs?.tabs?te.tabs.tabs.find(oe=>oe.id===$):void 0;U?.state?.jobId&&Ml.getActiveJobId()===U.state.jobId&&_(),e===U?.state?.jobId&&(n(Pse()),n(gF(null)))},[n,e,_]),M=d.useCallback(async($,te)=>{if(!$)return null;try{v(!0);const U=await vt.registerDomain($,te);if(!U||!U.ip_address)return{status:"failed",message:"Failed to register domain"};const oe={type:"A",name:$||"",value:U.ip_address};return n(Sm({domain:$,status:U.verification_required?"pending":"verified",dns_records:[oe]})),{...U,domain:$,status:U.verification_required?"pending_verification":"connected",dns_records:[oe]}}catch{return null}finally{v(!1)}},[n]),L=d.useCallback(async($,te)=>{if(!$)return null;try{v(!0);const U=await vt.verifyDomain($,te);if(!U||!U.status)return null;if(U.status==="connected"||U.status==="pending_verification")if(U.domain&&U.dns_records&&U.dns_records.length>0){const oe=U.verified===!0?"verified":"pending";n(Sm({domain:U.domain,status:oe,dns_records:U.dns_records}))}else n(Sm(null));return U}catch{return null}finally{v(!1)}},[n]),P=d.useCallback(async $=>null,[n,e]),B=d.useCallback(async $=>{if(!$)return null;try{v(!0);const te=await vt.getDomainStatus($);return te&&(!te.domain||te.domain===""||!te.status||!te.dns_records||te.dns_records.length===0?n(Sm(null)):n(Sm({domain:te.domain,status:te.status==="pending_verification"?"pending":te.status==="connected"?"verified":"failed",dns_records:te.dns_records||[]}))),te}catch{return null}finally{v(!1)}},[n]),G=d.useCallback(async $=>null,[n,e]);return{deployStatus:s,latestRunStatus:r,loading:g,deploymentSteps:i,deploymentHistory:a,currentStepIndex:o,deployUrl:l,customDomainUrl:c,runId:u,errorMessage:p,currentJobId:f,customDomain:h,deployLogs:x,checkDeployStatus:E,loadDeploymentHistory:F,setActiveTabId:D,handleTabClosed:O,loadEnvironmentVariables:S,saveEnvironmentVariables:j,updateEnvironmentVariables:C,envs:m,handleDeploy:I,shutDownDeployment:A,loadDeployLogs:T,startPolling:N,stopPolling:_,isPolling:!1,registerDomain:M,verifyDomain:L,connectDomain:P,getDomainStatus:B,unlinkDomain:G}};function T3(){const{getVisualEditState:e}=Y$();return{guardAction:d.useCallback((s,r)=>{const i=e();return i?.activeJobId?i.hasUnsavedChanges||i.pendingChangesCount>0?(r?.showModal?.({onConfirm:()=>{i.onDiscard?.(),i.onDisableVisualEdit?.(),s()},title:r?.modalTitle||"You have unsaved changes",description:r?.modalDescription||"Are you sure you want to continue?",confirmButton:{text:r?.confirmText||"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"}}),!1):(i.onDisableVisualEdit?.(),s(),!0):(s(),!0)},[e])}}const DEe=({width:e=13,height:n=13,color:s="currentColor",className:r})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 13 13",fill:"none",className:r,children:t.jsx("path",{d:"M2.966 0C2.406 0 1.93533 2.98023e-08 1.562 0.05C1.166 0.103333 0.804 0.221333 0.512667 0.512667C0.221333 0.804 0.103333 1.166 0.05 1.562C2.98023e-08 1.93533 0 2.406 0 2.966V3.03333C0 3.59333 2.98023e-08 4.064 0.05 4.43733C0.103333 4.83333 0.221333 5.19533 0.512667 5.48667C0.804 5.778 1.166 5.896 1.562 5.94933C1.93533 5.99933 2.406 5.99933 2.966 5.99933H3.03333C3.59333 5.99933 4.064 5.99933 4.43733 5.94933C4.83333 5.896 5.19533 5.778 5.48667 5.48667C5.778 5.19533 5.896 4.83333 5.94933 4.43733C5.99933 4.064 5.99933 3.59333 5.99933 3.03333V2.96667C5.99933 2.40667 5.99933 1.936 5.94933 1.56267C5.896 1.16667 5.778 0.804667 5.48667 0.513333C5.19533 0.222 4.83333 0.104 4.43733 0.0506667C4.064 0.000666648 3.59333 0.000666618 3.03333 0.000666618L2.966 0ZM9.966 0C9.406 0 8.93533 2.98023e-08 8.562 0.05C8.166 0.103333 7.804 0.221333 7.51267 0.512667C7.22133 0.804 7.10333 1.166 7.05 1.562C7 1.93533 7 2.406 7 2.966V3.03333C7 3.59333 7 4.064 7.05 4.43733C7.10333 4.83333 7.22133 5.19533 7.51267 5.48667C7.804 5.778 8.166 5.896 8.562 5.94933C8.93533 5.99933 9.406 5.99933 9.966 5.99933H10.034C10.594 5.99933 11.0647 5.99933 11.438 5.94933C11.834 5.896 12.196 5.778 12.4873 5.48667C12.7787 5.19533 12.8967 4.83333 12.95 4.43733C13 4.064 13 3.59333 13 3.03333V2.96667C13 2.40667 13 1.936 12.95 1.56267C12.8967 1.16667 12.7787 0.804667 12.4873 0.513333C12.196 0.222 11.834 0.104 11.438 0.0506667C11.0647 0.000666648 10.5947 0.000666618 10.0347 0.000666618L9.966 0ZM2.966 7.00467C2.406 7.00467 1.93533 7.00467 1.562 7.05467C1.166 7.108 0.804 7.226 0.512667 7.51733C0.221333 7.80867 0.103333 8.17067 0.05 8.56667C2.98023e-08 8.94 0 9.41067 0 9.97067V10.0387C0 10.5987 2.98023e-08 11.0693 0.05 11.4427C0.103333 11.8387 0.221333 12.2007 0.512667 12.492C0.804 12.7833 1.166 12.9013 1.562 12.9547C1.93533 13.0047 2.406 13.0047 2.966 13.0047H3.03333C3.59333 13.0047 4.064 13.0047 4.43733 12.9547C4.83333 12.9013 5.19533 12.7833 5.48667 12.492C5.778 12.2007 5.896 11.8387 5.94933 11.4427C5.99933 11.0693 5.99933 10.5987 5.99933 10.0387V9.97067C5.99933 9.41067 5.99933 8.94067 5.94933 8.56667C5.896 8.17067 5.778 7.80867 5.48667 7.51733C5.19533 7.226 4.83333 7.108 4.43733 7.05467C4.064 7.00467 3.59333 7.00467 3.03333 7.00467H2.966ZM9.966 7.00467C9.406 7.00467 8.93533 7.00467 8.562 7.05467C8.166 7.108 7.804 7.226 7.51267 7.51733C7.22133 7.80867 7.10333 8.17067 7.05 8.56667C7 8.94 7 9.41067 7 9.97067V10.0387C7 10.5987 7 11.0693 7.05 11.4427C7.10333 11.8387 7.22133 12.2007 7.51267 12.492C7.804 12.7833 8.166 12.9013 8.562 12.9547C8.93533 13.0047 9.406 13.0047 9.966 13.0047H10.034C10.594 13.0047 11.0647 13.0047 11.438 12.9547C11.834 12.9013 12.196 12.7833 12.4873 12.492C12.7787 12.2007 12.8967 11.8387 12.95 11.4427C13 11.0693 13 10.5987 13 10.0387V9.97067C13 9.41067 13 8.94067 12.95 8.56667C12.8967 8.17067 12.7787 7.80867 12.4873 7.51733C12.196 7.226 11.834 7.108 11.438 7.05467C11.0647 7.00467 10.594 7.00467 10.0347 7.00467H9.966Z",fill:s})}),kW=d.memo(({status:e,size:n="md",className:s,subagentName:r,isSubagentActive:i,overrideColor:a})=>{const o=a||AH(e,r,i),l=n==="sm"?{outer:"w-3 h-3",inner:"w-1.5 h-1.5"}:{outer:"w-4 h-4",inner:"w-2 h-2"};return t.jsx("div",{className:k("rounded-lg flex justify-center items-center",l.outer,e!=="stopped"&&e!=="exit_cost"&&"animate-status-pulse",s),style:{backgroundColor:`${o}20`,"--status-pulse-color":`${o}70`,"--status-pulse-transparent":`${o}00`},children:t.jsx("div",{className:k("rounded",l.inner),style:{backgroundColor:o}})})});kW.displayName="StatusIndicator";function MEe({agentStatus:e,isActive:n=!1,tabType:s,subagentName:r,isSubagentActive:i,overrideColor:a}){return s==="ShowCasePreview"?t.jsx(zC,{width:16,height:16,fill:"#FF8C66",className:k("flex-shrink-0",n?"opacity-100":"opacity-70")}):n?t.jsx(kW,{status:e||"running",size:"sm",className:"flex-shrink-0",subagentName:r,isSubagentActive:i,overrideColor:a}):t.jsx("div",{className:"flex-shrink-0 w-3 h-3 rounded-full flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#7B7B80]"})})}const REe=et.memo(({tab:e,isActive:n,tabWidth:s,onTabClick:r,onTabClose:i,tabRef:a,agentStatus:o,subagentName:l,isSubagentActive:c})=>{const u=d.useMemo(()=>localStorage.getItem("embeddedTaskTabId")===e.id||e.path==="/not-defined",[e.id,e.path]),p=e.id==="home",f=e.title.toLowerCase().includes("create new agent")||e.path==="/create-agent",m=e.title.toLowerCase().includes("create subagent")||e.path==="/create-subagent",x=f||m?jd.INDICATOR_BG_CREATE:jd.INDICATOR_BG_DEFAULT,g=m?jd.INDICATOR_BORDER_SUBAGENT:f?jd.INDICATOR_BORDER_AGENT:jd.INDICATOR_BORDER_DEFAULT,v=m?jd.CREATE_SUBAGENT:f?jd.CREATE_AGENT:void 0;return u?null:t.jsx(ms,{children:t.jsxs(ri,{delayDuration:800,children:[t.jsx(ii,{asChild:!0,children:t.jsxs("div",{ref:a,className:"group relative",children:[n&&t.jsxs(Rn.div,{layoutId:"activeTabIndicator",className:"absolute inset-0 rounded-tl-lg rounded-tr-lg",style:{backgroundColor:x},transition:{duration:.2,ease:[.25,.1,.25,1]},children:[t.jsx("div",{className:"absolute inset-0 rounded-tl-lg rounded-tr-lg pointer-events-none",style:{padding:"1px",background:`linear-gradient(180deg, ${g} 0%, transparent 50%)`,mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",maskComposite:"exclude",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor"}}),t.jsx("div",{className:"absolute bottom-0 -left-[20px] w-[20px] h-[20px] z-10",style:{borderBottomRightRadius:"12px",boxShadow:`6px 6px 0 6px ${x}`,clipPath:"inset(0 -10px 0 0)"}}),t.jsx("div",{className:"absolute bottom-0 -right-[20px] w-[20px] h-[20px] z-10",style:{borderBottomLeftRadius:"12px",boxShadow:`-6px 6px 0 6px ${x}`,clipPath:"inset(0 0 0 -10px)"}})]}),t.jsx(Rn.div,{layout:!0,"data-testid":`tab-${e.id}`,onClick:()=>r(e),style:p?void 0:{width:`${s}px`,minWidth:"40px",maxWidth:"170px"},className:k("flex justify-between items-center pr-0.5 pl-0.5 pt-[7px] pb-[5px] mx-1 mb-1 cursor-pointer transition-all duration-200 font-brockmann text-[14px] leading-[20px] font-medium relative z-20 rounded-t-xl",!n&&"hover:bg-white/10 rounded-lg"),animate:{color:n?"#ffffff":"#B3B3B3"},transition:{duration:.2,ease:"easeOut",layout:{duration:.2,ease:[.25,.1,.25,1]}},children:p?t.jsxs("div",{className:"flex items-center space-x-0 md:space-x-2 py-1 pl-2 pr-1 ",children:[t.jsx(DEe,{color:n?"#ffffff":"#7B7B80",className:""}),t.jsx("p",{className:"hidden md:block",children:"Home"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden pl-1.5 py-1",children:[MEe({agentStatus:o,isActive:n,tabType:e.tabType,subagentName:l,isSubagentActive:c,overrideColor:v}),t.jsx("span",{className:k("text-sm font-medium cursor-default truncate",f&&"text-[#F8FF99]",m&&"text-[#DD99FF]",!n&&"text-[#B3B3B3]"),children:e.tabHeading||e.title})]}),t.jsx("button",{type:"button","data-testid":`close-tab-${e.id}`,title:"Close Tab",onClick:b=>i(b,e),className:k("hover:bg-white/10 rounded-full p-0.5 flex-shrink-0 transition-opacity duration-200 text-[#7B7B80] hover:text-white",n?"opacity-100":"opacity-0 group-hover:opacity-100"),children:t.jsx(mV,{size:14,color:"currentColor"})})]})})]})}),!p&&t.jsx(qr,{className:"max-w-xs bg-[#fff] text-[#0f0f10] px-4 py-3 rounded-xl shadow-lg z-[9999]",sideOffset:4,side:"bottom",asChild:!0,children:t.jsx(Rn.div,{initial:{opacity:0,y:-4,scale:.96},animate:{opacity:1,y:0,scale:1},transition:{duration:.15,ease:[.25,.46,.45,.94]},children:t.jsx("div",{className:"flex flex-col gap-0.5",children:t.jsx("span",{className:"font-semibold text-sm tracking-[-0.3px] line-clamp-1",children:e.tabHeading||e.title})})})})]})})});function Fc({hoverIcon:e,icon:n,className:s,children:r,onClick:i,hoveringEndIcon:a,buttonClassName:o,loadingState:l=!1,loadingNode:c,disabled:u=!1,"data-testid":p}){const[f,m]=d.useState(!1);return t.jsxs(fe.button,{"data-testid":p,disabled:u,onClick:i,type:"button",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),className:k("flex font-medium max-h-[36px] px-0 py-[10px] text-[14px] gap-3 justify-between items-center",s),transition:{duration:.15},children:[t.jsxs("div",{className:k("flex items-center gap-3"),children:[n&&!l&&t.jsx(fe.img,{src:f&&e?e:n,alt:"icon",className:"w-5 h-5 transition-all ease-in-out group-hover/rotate:-rotate-12",initial:{opacity:1},animate:{},transition:{duration:.2}}),l&&c,t.jsx(fe.span,{animate:{},transition:{duration:.2},children:r})]}),a&&t.jsx(fe.img,{src:a,alt:"end icon",className:"w-5 h-5",initial:{opacity:0,x:-5},animate:{opacity:f?1:0,x:f?0:-5},transition:{duration:.2}})]})}const LEe=K.common.whiteGithub,PEe=K.common.githubGreen,OEe=K.common.greenLinkArrow;function BEe({className:e}){const{t:n}=en("home"),{isConnecting:s,setIsConnecting:r,redirectToGitHubInstallation:i,setIsConnected:a,isConnected:o}=Du(),{sendMessage:l,isMobileApp:c}=K9();d.useEffect(()=>{o&&s&&r(!1)},[o,s,r]);const u=async()=>{try{const m=await vt.getUserDetails();return m&&m.github&&m.github.authorized===!0?(a(!0),Ds({title:n("repositorySelector.connectGitHub.success.title"),description:n("repositorySelector.connectGitHub.success.description")}),!0):!1}catch{return!1}finally{r(!1)}},p=()=>{let m=0;const h=10,x=3e3,g=setInterval(async()=>{m++;const v=await u();(v||m>=h)&&(clearInterval(g),v?window.location.reload():m>=h&&r(!1))},x);setTimeout(()=>{clearInterval(g),r(!1)},x*h+1e3)},f=async()=>{try{if(r(!0),H(qn.HOME_PAGE_EVENTS.GITHUB_EVENTS.CONNECT_TO_GITHUB_CTA_CLICKED),c){const m=`${th.appUrl}?state=mobile_app`;l("OPEN_GITHUB_CONNECT",{url:m}),r(!1);return}i({isPopup:!0,pollingEnabled:!1,onSuccess:async()=>{await u()&&window.location.reload()}}),p()}catch{r(!1),Ds({title:n("repositorySelector.connectGitHub.error.title"),description:n("repositorySelector.connectGitHub.error.description"),variant:"destructive"})}};return t.jsx(Fc,{disabled:s,loadingNode:t.jsx(tn,{className:"animate-spin"}),loadingState:s,hoveringEndIcon:OEe,hoverIcon:PEe,icon:LEe,className:k(" hover:bg-[#2EE5720F] px-[10px] w-full hover:text-[#2EE572] opacity-70 hover:opacity-100 rounded-[8px]",e),onClick:f,children:n("repositorySelector.connectGitHub.button")})}function UEe({user:e,userDetails:n,onCloseMenu:s,getUserInitials:r,hideNewWorkspace:i=!1}){const{t:a}=en("teams"),{toast:o}=ns(),{currentWorkspace:l}=hs(),{personalTier:c}=xs();Hr();const u=ku(),p=s7(),f=jle(),m=Sa(),{isMobile:h}=ts(),[x,{isLoading:g}]=z5(),[v,{isLoading:b}]=W5(),{guardAction:y}=T3(),[w,_]=d.useState(!1),[N,j]=d.useState(null),[C,S]=d.useState(!1),[F,E]=d.useState(""),I=d.useRef(null),T=d.useRef(null),A=d.useRef(null);d.useEffect(()=>{if(!h||!C)return;const Q=me=>{const ce=me.target;A.current&&!A.current.contains(ce)&&T.current&&!T.current.contains(ce)&&S(!1)},he=setTimeout(()=>{document.addEventListener("mousedown",Q),document.addEventListener("touchstart",Q)},100);return()=>{clearTimeout(he),document.removeEventListener("mousedown",Q),document.removeEventListener("touchstart",Q)}},[h,C]);const D=[{id:"personal",name:e?.user_metadata?.name||e?.user_metadata?.full_name||e?.email?.split("@")[0]||"Personal",role:"admin",members:1,status:"ACTIVE"},...(n?.organizations||[]).map(Q=>({id:Q.organization_id,name:Q.organization_name,role:Q.role?.toLowerCase(),members:Q.member_count,status:Q.status}))],M=l==="personal"?D[0]:D.find(Q=>Q.id===l)||D[0],L=()=>c.toLowerCase().includes("pro")?"Pro Plan":c.toLowerCase().includes("standard")?"Standard Plan":c.toLowerCase().includes("starter")?"Starter Plan":"Free Plan",P=Q=>{if(l===Q){S(!1);return}y(()=>{S(!1);const he=D.find(J=>J.id===Q),me=ea(he,e),ee=`${Q==="personal"?bu:hh(Q)}?switching=${encodeURIComponent(me)}`;H("workspace_switched",{workspace_id:Q,workspace_name:me}),window.location.href=ee},{modalTitle:a("workspaceSelector.unsavedChanges.title"),modalDescription:a("workspaceSelector.unsavedChanges.description"),confirmText:a("workspaceSelector.unsavedChanges.confirm"),showModal:he=>{j(he),_(!0)}})},B=()=>{S(!1),H(ki.CREATE_NEW_PROJECT_CLICKED,{source:"workspace_selector",currentWorkspace:l}),f.open({onWorkspaceCreated:Q=>{P(Q)}})},G=()=>{u.open({initialTab:"general"})},$=()=>{H(ki.PROJECT_INVITE_MEMBER_CLICKED,{currentWorkspace:l,source:"workspace_selector"}),p.open({organizationId:l})},te=()=>{h||(I.current&&clearTimeout(I.current),S(!0))},U=()=>{h||(I.current=setTimeout(()=>{S(!1)},150))},oe=()=>{h||I.current&&clearTimeout(I.current)},Y=()=>{h||(I.current=setTimeout(()=>{S(!1)},150))},W=Q=>{Q.stopPropagation(),Q.preventDefault(),S(!0)},Z=async(Q,he)=>{try{await x({invitation_id:Q}).unwrap(),o({title:a("workspaceSelector.toast.invitationAccepted"),description:a("workspaceSelector.toast.successfullyJoined",{name:he}),variant:"default"})}catch(me){o({title:a("workspaceSelector.toast.error"),description:me?.error||a("workspaceSelector.toast.failedToAccept"),variant:"destructive"})}},le=async(Q,he)=>{try{await v({invitation_id:Q}).unwrap(),o({title:a("workspaceSelector.toast.invitationDeclined"),description:a("workspaceSelector.toast.successfullyDeclined",{name:he}),variant:"default"})}catch(me){o({title:a("workspaceSelector.toast.error"),description:me?.data?.detail||a("workspaceSelector.toast.failedToDecline"),variant:"destructive"})}},q=D.filter(Q=>F===""||ea(Q,e).toLowerCase().includes(F.toLowerCase()));return t.jsxs("div",{className:"flex flex-col border-b border-[#242424]",children:[t.jsx("div",{className:"px-4 py-[10px] text-[#808080] text-sm font-medium border-b border-[#1F1F1F]",children:e?.email}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:W,children:[t.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(Wc,{size:32,name:ea(M,e),variant:"marble",colors:zp})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-white text-base font-semibold truncate",children:ea(M,e)}),t.jsxs("p",{className:"text-[#808080] text-sm font-inter font-medium",children:[Ah(M,a),"  ",cl(M)," ",cl(M)===1?a("workspaceSelector.member"):a("workspaceSelector.members")]})]}),t.jsxs("div",{className:"relative",onMouseEnter:te,onMouseLeave:U,onClick:Q=>Q.stopPropagation(),children:[t.jsx("button",{ref:T,type:"button",onClick:W,className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/[0.04] transition-all duration-200",children:t.jsx(qU,{className:"w-5 h-5"})}),C&&t.jsxs("div",{ref:A,className:k("absolute top-full mt-2 bg-[#18181A] rounded-[16px] border border-[#292929] shadow-2xl z-[100] overflow-hidden",h?"right-[-60px] w-[280px]":"right-0 w-[320px]"),onMouseEnter:oe,onMouseLeave:Y,onClick:Q=>Q.stopPropagation(),children:[D.length>2&&t.jsx("div",{className:"px-5 py-[10px] border-b border-[#242424]",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($o,{className:"w-4 h-4 text-white/40"}),t.jsx("input",{type:"text",placeholder:a("workspaceSelector.searchProjects")||"Search projects",value:F,onChange:Q=>E(Q.target.value),className:"flex-1 bg-transparent text-white text-sm placeholder-white/40 outline-none font-brockmann"})]})}),t.jsx("div",{className:"px-[6px] py-[6px] max-h-[240px] overflow-y-auto",children:q.map(Q=>t.jsxs("div",{onClick:()=>P(Q.id),className:"w-full flex items-center gap-3 p-[10px] rounded-[10px] hover:bg-white/[0.04] transition-all duration-200 cursor-pointer",children:[t.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(Wc,{size:32,name:ea(Q,e),variant:"marble",colors:zp})}),t.jsxs("div",{className:"flex-1 text-left min-w-0",children:[t.jsx("p",{className:"text-white text-xs font-inter font-medium truncate",children:ea(Q,e)}),t.jsxs("p",{className:"text-[#808080] text-xs font-inter font-medium",children:[Q.id==="personal"?L():Ah(Q,a)," "," ",cl(Q)," ",cl(Q)===1?a("workspaceSelector.member"):a("workspaceSelector.members")]})]}),l===Q.id&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx(gV,{})})]},Q.id))}),!i&&t.jsx("div",{className:"border-t border-white/[0.08] rounded-b-[10px] p-[6px]",children:t.jsxs("button",{type:"button",onClick:B,className:"w-full flex items-center justify-center gap-2 p-[6px] rounded-[10px] opacity-80 hover:opacity-100 hover:bg-white/[0.06] transition-all duration-200 group",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center bg-white/[0.04] rounded-lg",children:t.jsx(ma,{className:"w-4 h-4 text-white transition-transform duration-300 group-hover:rotate-90"})}),t.jsx("span",{className:"text-white font-brockmann text-[16px] font-medium leading-6 tracking-[-0.2px]",children:a("workspaceSelector.createNewProject")})]})})]})]})]}),l!=="personal"&&t.jsxs("div",{className:"flex gap-2 mt-4",children:[t.jsxs(zt,{variant:"secondary",size:"sm",onClick:G,centerContent:!Dh(M),className:"flex-1 rounded-lg border border-white/[0.08] backdrop-blur-[25px] opacity-80 hover:opacity-100 hover:bg-white/[0.08] transition-all duration-200",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.03) 100%)"},children:[t.jsx(uC,{size:16,color:"#E8E8E6",className:"mr-2"}),a("workspaceSelector.settings")]}),Dh(M)&&t.jsxs(zt,{variant:"secondary",size:"sm",onClick:$,className:"flex-1 rounded-lg border border-white/[0.08] backdrop-blur-[25px] opacity-80 hover:opacity-100 hover:bg-white/[0.08] transition-all duration-200",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.03) 100%)"},children:[t.jsx(xV,{size:16,fill:"#E8E8E6",className:"mr-2"}),a("workspaceSelector.inviteMembers")]})]})]}),n?.pending_invitations&&!m&&n.pending_invitations.length>0&&t.jsx("div",{className:"px-4 pb-4",children:n.pending_invitations.map(Q=>t.jsx(hV,{invitation:Q,onAcceptInvitation:Z,onDeclineInvitation:le,isAcceptingInvitation:g||b,variant:"selector"},Q.id))}),t.jsx(as,{open:w&&N,onOpenChange:_,children:t.jsx(Cr,{children:t.jsx(x0,{isOpen:w,onClose:()=>_(!1),onConfirm:N?.onConfirm,onCancel:()=>_(!1),title:N?.title,description:N?.description,confirmButton:N?.confirmButton||{text:a("workspaceSelector.unsavedChanges.confirm"),variant:"default"},cancelButton:N?.cancelButton||{text:a("workspaceSelector.unsavedChanges.cancel"),variant:"outline"}})})})]})}const x5=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"fr",name:"Franais",flag:""},{code:"it",name:"Italiano",flag:""},{code:"pt-BR",name:"Portugus (Brazil)",flag:""},{code:"pt-PT",name:"Portugus (Portugal)",flag:""}];function IW(e={}){const{onLanguageChange:n,onClose:s}=e,{i18n:r,t:i}=en("common"),[a,o]=d.useState(""),l=r.language,c=d.useMemo(()=>{let f=x5;if(a.trim()){const m=a.toLowerCase();f=x5.filter(h=>h.name.toLowerCase().includes(m)||h.code.toLowerCase().includes(m))}return[...f].sort((m,h)=>{const x=l===m.code||l.startsWith(m.code+"-"),g=l===h.code||l.startsWith(h.code+"-");return x&&!g?-1:!x&&g?1:0})},[a,l]),u=d.useCallback(f=>l===f||l.startsWith(f+"-"),[l]),p=d.useCallback(f=>{r.changeLanguage(f),localStorage.setItem("userSelectedLanguage","true"),H(SP.LANGUAGE_SELECTED,{language:f}),n?.(f),s?.()},[r,n,s]);return{searchTerm:a,setSearchTerm:o,currentLanguage:l,filteredLanguages:c,isLanguageSelected:u,handleLanguageSelect:p,t:i}}function HEe({onLanguageChange:e,onClose:n,className:s}){const{searchTerm:r,setSearchTerm:i,filteredLanguages:a,isLanguageSelected:o,handleLanguageSelect:l,t:c}=IW({onLanguageChange:e,onClose:n});return t.jsxs("div",{className:k("bg-[#1C1C1F] border border-[#242424] flex flex-col gap-[6px] pb-4 pt-2 px-2 rounded-lg w-[180px]",s),"data-testid":Nr.language.menu,children:[t.jsxs("div",{className:"bg-white/[0.02] flex items-center gap-1 pb-[6px] pt-1 px-2 rounded",children:[t.jsx($o,{size:16,className:"text-white/50 shrink-0"}),t.jsx("input",{type:"text",placeholder:c("languageBottomSheet.search"),value:r,onChange:u=>i(u.target.value),className:"bg-transparent text-white/90 text-sm font-['Brockmann'] font-medium placeholder:text-white/50 outline-none w-full tracking-[-0.14px]","data-testid":Nr.language.searchInput})]}),t.jsxs("div",{className:"flex flex-col gap-1 max-h-[280px] overflow-y-auto",children:[a.map(u=>{const p=o(u.code);return t.jsxs("button",{type:"button",onClick:()=>l(u.code),className:k("flex items-center gap-2 h-8 px-2 rounded transition-colors",p?"bg-white/[0.05]":"hover:bg-white/[0.03]"),"data-testid":Nr.language.option(u.code),children:[t.jsx("span",{className:"text-base leading-none shrink-0 size-4 flex items-center justify-center",children:u.flag}),t.jsx("span",{className:k("flex-1 text-left text-sm font-['Brockmann'] font-medium leading-8",p?"text-white/90":"text-white/70"),children:u.name}),p&&t.jsx(xn,{size:12,className:"text-white shrink-0"})]},u.code)}),a.length===0&&t.jsx("div",{className:"text-white/50 text-sm text-center py-4 font-['Brockmann'] font-medium",children:c("languageBottomSheet.noLanguagesFound")})]})]})}function TW({open:e,onOpenChange:n,onClose:s}){const{searchTerm:r,setSearchTerm:i,filteredLanguages:a,isLanguageSelected:o,handleLanguageSelect:l,t:c}=IW({onClose:()=>{n?.(!1),s?.()}}),u=()=>{n?.(!1)};return t.jsx(Bf,{open:e,onOpenChange:n,children:t.jsx(CH,{handleColor:"bg-[#252525]",children:t.jsxs("div",{className:"mx-auto w-full bg-[#18181a] border border-[#242424] rounded-t-[24px] max-w-[500px] max-h-[85vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center h-[72px] px-4 border-b border-[#242424] relative",children:[t.jsx("button",{type:"button",onClick:u,className:"p-1.5 rounded-full hover:bg-white/5 transition-colors","aria-label":"Go back",children:t.jsx(V7,{size:16,className:"text-white"})}),t.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 flex items-center gap-1",children:[t.jsx(kme,{size:16,className:"text-white"}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-lg text-white",children:c("languageBottomSheet.title")})]})]}),t.jsxs("div",{className:"flex flex-col gap-3 p-4 overflow-y-auto max-h-[calc(85vh-72px)]",children:[t.jsxs("div",{className:"flex items-center gap-2 h-14 px-4 border border-[#242424] rounded-xl",children:[t.jsx($o,{size:20,className:"text-white/50 shrink-0"}),t.jsx("input",{type:"text",placeholder:c("languageBottomSheet.search"),value:r,onChange:p=>i(p.target.value),className:"bg-transparent text-white/90 text-lg font-['Brockmann'] font-medium placeholder:text-white/50 outline-none w-full tracking-[-0.18px]","data-testid":Nr.language.bottomSheetSearch})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[a.map(p=>{const f=o(p.code);return t.jsxs("button",{type:"button",onClick:()=>l(p.code),className:k("flex items-center gap-3 h-14 px-4 rounded-xl transition-colors",f?"bg-white/[0.05]":"hover:bg-white/[0.03]"),"data-testid":Nr.language.bottomSheetOption(p.code),children:[t.jsx("span",{className:"text-base leading-none shrink-0 size-4 flex items-center justify-center",children:p.flag}),t.jsx("span",{className:k("flex-1 text-left text-base font-['Brockmann'] font-medium leading-6",f?"text-white/90":"text-white/70"),children:p.name}),f&&t.jsx(xn,{size:16,className:"text-white shrink-0"})]},p.code)}),a.length===0&&t.jsx("div",{className:"text-white/50 text-base text-center py-8 font-['Brockmann'] font-medium",children:c("languageBottomSheet.noLanguagesFound")})]})]})]})})})}const oD=({size:e=20,width:n,height:s,fill:r="#E6E6E6",className:i,onClick:a,style:o})=>{const l=n||e,c=s||e;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:i,onClick:a,style:o,children:[t.jsx("path",{d:"M14.5039 4C15.8846 4 17.0039 5.11929 17.0039 6.5V13.5C17.0039 14.8807 15.8846 16 14.5039 16H5.50391C4.12319 16 3.00391 14.8807 3.00391 13.5V6.5C3.00391 5.11929 4.12319 4 5.50391 4H14.5039Z",fill:r}),t.jsx("path",{d:"M5 12C5 10.8954 5.89543 10 7 10H13C14.1046 10 15 10.8954 15 12C15 13.1046 14.1046 14 13 14H7C5.89543 14 5 13.1046 5 12Z",fill:"#1D1D1E"}),t.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 7 13)",fill:r}),t.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 11 13)",fill:r}),t.jsx("rect",{y:"9",width:"2",height:"4",rx:"1",fill:r}),t.jsx("rect",{x:"18",y:"9",width:"2",height:"4",rx:"1",fill:r})]})},lD=({width:e,height:n,size:s=16,fill:r,color:i="#808080",className:a,onClick:o})=>{const l=e??s,c=n??s,u=r??i;return t.jsx("svg",{width:l,height:c,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,onClick:o,style:{cursor:o?"pointer":"default"},children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.01781 1.77114C5.85109 1.55645 6.72751 1.57629 7.55021 1.82849C8.37292 2.08068 9.1099 2.5554 9.67971 3.2002C10.2495 3.845 10.63 4.63477 10.7791 5.48225C10.9281 6.32973 10.84 7.20193 10.5245 8.00247L13.5905 10.5978C13.823 10.7943 14.0122 11.0369 14.1461 11.3103C14.2801 11.5837 14.3558 11.882 14.3685 12.1861C14.3813 12.4903 14.3307 12.7938 14.2201 13.0775C14.1095 13.3611 13.9412 13.6187 13.7259 13.8339C13.5106 14.0492 13.253 14.2174 12.9693 14.328C12.6857 14.4385 12.3822 14.489 12.078 14.4762C11.7738 14.4634 11.4756 14.3876 11.2022 14.2536C10.9289 14.1196 10.6863 13.9304 10.4898 13.6978L7.89581 10.6331C7.09517 10.9492 6.22272 11.0377 5.37491 10.8889C4.5271 10.74 3.73697 10.3596 3.09187 9.78974C2.44677 9.21985 1.97184 8.48266 1.71958 7.65968C1.46732 6.83669 1.44756 5.95998 1.66248 5.12647C1.69278 5.00936 1.75408 4.90257 1.83993 4.81733C1.92577 4.7321 2.03299 4.67156 2.15032 4.6421C2.26765 4.61263 2.39075 4.61531 2.50669 4.64987C2.62262 4.68442 2.7271 4.74958 2.80915 4.83847L4.83915 7.04314L6.37048 6.47981L6.93515 4.94647L4.72915 2.91981C4.63972 2.83779 4.57411 2.73312 4.53928 2.61688C4.50444 2.50065 4.50166 2.37715 4.53124 2.25947C4.56081 2.14178 4.62164 2.03427 4.70729 1.94831C4.79294 1.86235 4.90023 1.80114 5.01781 1.77114Z",fill:u})})},VEe=K.robots.research,$Ee=d.memo(({server:e,onMouseEnter:n,onMouseLeave:s,handleEditMCPServer:r})=>{const{t:i}=en("settings"),a=e.type==="public"&&e.key_required===!0,o=e.key_required===!0||e.type==="private",{isMobile:l}=ts(),c=Sa(),{toast:u}=ns(),p=f=>{if(l||c){u({title:i("manageAgents.configNotAvailable"),description:i("manageAgents.configNotAvailableMobile"),duration:5e3});return}r(f)};return t.jsxs("div",{className:"flex gap-4 p-4 rounded-[12px] justify-between bg-transparent hover:bg-[#FFFFFF08] transition-colors relative",onMouseEnter:n,onMouseLeave:s,children:[t.jsx("div",{className:"flex items-center justify-center bg-[#313133] rounded-[12px] h-10 w-10",children:e.icon?t.jsx("img",{alt:"Image",src:e.icon,className:"w-6 h-6"}):t.jsx(fa,{size:24})}),t.jsxs("div",{className:k("flex flex-col gap-[2px] flex-1 w-full"),children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("span",{className:"text-[#D8DDE6] font-medium",children:e.display_name}),e.key_required&&t.jsxs("div",{className:"flex items-center text-[#D8DDE6]/80 bg-[#D8DDE6]/10 rounded-full px-[6px] font-inter font-semibold text-[12px] gap-1 py-[2px]",children:[t.jsx(jW,{fill:"#D8DDE6",size:16}),i("manageAgents.keyNeeded")]})]}),t.jsx("div",{className:"text-[14px] font-inter truncate mr-4 text-[#777a80] mb-1 max-md:max-w-[180px]",children:e.description})]}),t.jsx("div",{className:"absolute flex items-center gap-2 -translate-y-1/2 right-2 top-1/2",children:a?t.jsxs("button",{type:"button",className:"text-[#C4C4CC] backdrop-blur-lg flex items-center gap-1 px-[10px] rounded-full py-[6px] font-medium bg-[#FFFFFF14] hover:bg-white/15",title:"Configure Button",onClick:()=>p(e),children:[t.jsx(Po,{size:20,color:"#E6E6E6"}),i("manageAgents.configure")]}):o?t.jsxs("button",{type:"button",className:"flex items-center font-medium gap-1 backdrop-blur-lg p-[6px] pl-3 pr-4 rounded-full text-[#C4C4CC] bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] transition-colors duration-150 group",onClick:()=>p(e),children:[t.jsx(Vf,{width:20,height:20,fill:"#C4C4CC"}),i("manageAgents.edit")]}):null})]},e.id)});function qPe({agentsTab:e,setAgentsTab:n,isLoadingAgents:s,agentsError:r,agentsForbidden:i,agents:a,subAgents:o,mcpServers:l,isLoadingMCPServers:c,mcpServersError:u,handleCreateAgent:p,handleEditAgent:f,getAgentDescriptionKey:m,fetchMCPServers:h,currentWorkspace:x,orgDetails:g,showToast:v,onClose:b,location:y}){const{t:w}=en("settings"),_=Hr(),N=qO();d.useEffect(()=>{H(qn.USER_SETTING_EVENTS.MANAGE_AGENTS_EVENTS.MANAGE_AGENTS_TAB_CHANGED,{tab:e,workspace:x||"personal"})},[e]);const j=x!=="personal"?x:void 0,[C,S]=d.useState({}),F=O=>C[O]||{showActions:!1,imageError:!1,showFallback:!1},E=(O,M)=>{S(L=>({...L,[O]:{...F(O),...M}}))},I=()=>{if(x!=="personal"&&v&&y==="personal"){v.info(w("manageAgents.switchToPersonalMCP"));return}const O={tab:y==="personal"?"manage-agents":"shared-agents",currentWorkspace:x};N.open({onServerAdded:()=>{try{h(),v?.success(w("manageAgents.mcpCreated"))}catch{v?.success(w("manageAgents.mcpCreated"))}},organizationId:j||null,reopenAccountSettings:O}),b()},T=O=>{if(x!=="personal"&&v&&y==="personal"){v.info(w("manageAgents.switchToPersonalMCP"));return}const M={tab:y==="personal"?"manage-agents":"shared-agents",currentWorkspace:x};N.open({onServerAdded:()=>{try{h(),v?.success(w("manageAgents.mcpUpdated"))}catch{v?.success(w("manageAgents.mcpUpdated"))}},organizationId:j||null,editMode:!0,serverData:O,reopenAccountSettings:M}),b()};d.useEffect(()=>{H(qn.USER_SETTING_EVENTS.MANAGE_AGENTS_EVENTS.MANAGE_AGENTS_TAB_OPENED)},[]);const A=d.useCallback(O=>()=>{E(O,{showActions:!0})},[]),D=d.useCallback(O=>()=>{E(O,{showActions:!1})},[]);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"pt-6 pb-4 pl-6 max-md:hidden md:block",children:[t.jsx("h2",{className:"max-md:text-center text-white font-[Brockmann] text-[18px] font-medium leading-8",children:w("manageAgents.title")}),t.jsx("p",{className:"mt-1 text-white/40 font-['Inter'] text-[14px] font-medium",children:w("manageAgents.description")})]}),t.jsxs("div",{className:"flex border-b px-6 border-[#242424]",children:[t.jsx("button",{type:"button",onClick:()=>n("main"),className:`px-3 py-3 text-sm font-medium border-b-2 transition-colors ${e==="main"?"border-[#E5EFFF] text-[#E5EFFF]":"border-transparent text-[#8A8F98] hover:text-[#E5EFFF]"}`,"data-testid":Lm.manageAgents.tabMain,children:w("manageAgents.tabs.mainAgents")}),t.jsx("button",{type:"button",onClick:()=>n("sub"),className:`px-3 py-3 text-sm font-medium border-b-2 transition-colors ${e==="sub"?"border-[#E5EFFF] text-[#E5EFFF]":"border-transparent text-[#8A8F98] hover:text-[#E5EFFF]"}`,"data-testid":Lm.manageAgents.tabSub,children:w("manageAgents.tabs.subAgents")}),t.jsx("button",{type:"button",onClick:()=>n("mcp"),className:`px-3 py-3 text-sm font-medium border-b-2 transition-colors ${e==="mcp"?"border-[#E5EFFF] text-[#E5EFFF]":"border-transparent text-[#8A8F98] hover:text-[#E5EFFF]"}`,"data-testid":Lm.manageAgents.tabMcp,children:w("manageAgents.tabs.mcpTools")})]}),t.jsx("div",{className:"flex-1 w-full h-full flex flex-col max-h-[calc(700px-120px)] overflow-hidden",children:t.jsxs("div",{className:"flex-1 w-full p-4 overflow-y-auto",children:[(s||e==="mcp"&&c)&&t.jsxs("div",{className:"grid w-full grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[t.jsx("div",{className:"border-[1px] border-dashed border-[#80FFF933] rounded-xl p-2 md:min-h-[200px]",children:t.jsxs("div",{className:"bg-[#80FFF905] rounded-xl flex md:flex-col h-full w-full items-center justify-center",children:[t.jsx("div",{className:"bg-[#80FFF910] rounded-full w-12 h-12 md:mb-4"}),t.jsx("div",{className:"bg-[#80FFF910] rounded w-20 max-md:ml-3 h-5"})]})}),Array.from({length:5}).map((O,M)=>t.jsxs("div",{className:"bg-[#1C1C1F] border border-[#FFFFFF0A] rounded-[16px] p-4 min-h-[200px] relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-[#FFFFFF0F] mb-4"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"bg-[#FFFFFF08] rounded h-5 mb-2 w-3/4"}),t.jsx("div",{className:"bg-[#FFFFFF05] rounded h-4 mb-1 w-full"}),t.jsx("div",{className:"bg-[#FFFFFF05] rounded h-4 w-2/3"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-[#FFFFFF0A] rounded-full px-3 py-[6px] w-16 h-7"}),t.jsx("div",{className:"bg-[#FFFFFF0A] rounded-full px-3 py-[6px] w-16 h-7"})]})]},M))]}),(r&&!i&&e!=="mcp"||u&&e==="mcp")&&t.jsxs("div",{className:"flex flex-col items-center justify-center px-8 py-16 text-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-[#EEC257] bg-opacity-10 p-2 flex items-center justify-center",children:t.jsx(oD,{fill:"#EEC257",width:40,height:40,className:""})}),t.jsx("h3",{className:"mt-2 text-white font-[Brockmann] text-[20px] font-medium mb-3",children:w("manageAgents.unlockMCPTools")}),t.jsx("p",{className:"text-[#8A8F98] font-['Inter'] text-[16px] leading-6 mb-8 max-w-md",children:w("manageAgents.mcpToolsProPlan")}),t.jsxs("button",{type:"button",onClick:()=>{_.open({organizationId:void 0,organizationName:void 0,planType:"personal"}),b()},className:"px-6 py-3 rounded-[10px] bg-[#F3CA5F] shadow-[0_0_20px_0_rgba(243,202,95,0.20)] hover:bg-opacity-[0.75] text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann'] transition-colors flex items-center gap-2",children:[t.jsx("p",{className:"text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann']",children:w("manageAgents.upgradeAccount")}),t.jsx("div",{className:"object-contain w-5 h-5",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{d:"M9.01807 4.94727C9.14234 4.57813 9.67013 4.57816 9.79443 4.94727L10.5483 7.18555C10.9231 8.29864 11.8075 9.17173 12.9341 9.54199L15.1987 10.2871C15.5723 10.4099 15.5723 10.9319 15.1987 11.0547L12.9341 11.7988C11.8074 12.1691 10.9231 13.0431 10.5483 14.1562L9.79443 16.3936C9.67016 16.7628 9.14234 16.7628 9.01807 16.3936L8.26416 14.1562C7.88944 13.0432 7.00585 12.1691 5.87939 11.7988L3.61377 11.0547C3.24017 10.9319 3.2402 10.4099 3.61377 10.2871L5.87939 9.54199C7.00571 9.17164 7.88941 8.29844 8.26416 7.18555L9.01807 4.94727ZM14.0825 3.44629C14.1324 3.29888 14.3433 3.29878 14.3931 3.44629L14.6733 4.28027C14.8363 4.76414 15.2208 5.14363 15.7104 5.30469L16.5542 5.58203C16.7036 5.63114 16.7036 5.84054 16.5542 5.88965L15.7104 6.16699C15.2208 6.32805 14.8363 6.70754 14.6733 7.19141L14.3931 8.02539C14.3433 8.17279 14.1324 8.17269 14.0825 8.02539L13.8013 7.19141C13.6383 6.70745 13.254 6.32797 12.7642 6.16699L11.9204 5.88965C11.771 5.84054 11.771 5.63116 11.9204 5.58203L12.7642 5.30469C13.254 5.14371 13.6383 4.76419 13.8013 4.28027L14.0825 3.44629Z",fill:"#0F0F10"})})})]})]}),!s&&!r&&e!=="mcp"&&t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsx("div",{onClick:()=>{if(x!=="personal"&&v&&y==="personal"){v.info(w("manageAgents.switchToPersonalAgents"));return}p()},className:k("border-[1px] border-dashed border-[#80FFF933] rounded-xl p-2 transition-colors cursor-pointer flex flex-col items-center justify-center md:min-h-[200px] group",e!=="main"&&"border-[#DD99FF33]"),"data-testid":Lm.manageAgents.createNewAgentCard,children:t.jsxs("div",{className:k("bg-[#80FFF905] rounded-xl flex md:flex-col h-full w-full items-center justify-center",e!=="main"&&"bg-[#DD99FF05]"),children:[t.jsx("div",{className:"w-12 h-12 self-center rounded-full bg-[#80FFF905] flex items-center justify-center md:mb-4 group-hover:scale-110 transition-transform",children:t.jsx(n5,{size:24,color:e==="main"?"#80FFF9":"#DD99FF"})}),t.jsx("h3",{className:k("max-md:ml-3 self-center text-[#80FFF9] font-medium text-lg",e!=="main"&&"text-[#DD99FF]"),children:w(e==="main"?"manageAgents.newAgent":"manageAgents.newSubAgent")})]})}),(e==="main"?a:o).map(O=>t.jsxs("div",{onClick:()=>{if(H(qn.USER_SETTING_EVENTS.MANAGE_AGENTS_EVENTS.EXISTING_AGENT_OPENED,{agent:O}),x!=="personal"&&v&&y==="personal"){v.info(w("manageAgents.switchToPersonalAgents"));return}f(O)},className:"bg-[#1C1C1F] border border-[#FFFFFF0A] rounded-[16px] p-4 transition-colors relative group min-h-[200px] cursor-pointer hover:bg-[#212124] hover:border-[#FFFFFF15]",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-[#FFFFFF0F] mb-4",children:t.jsx("img",{src:VEe,alt:"Agent",className:"w-6 h-6"})}),t.jsxs("div",{className:"mb-6 space-y-1",children:[t.jsx("h3",{className:"text-[#E6E6E6] font-medium capitalize",children:O.prompt_name.replaceAll("_"," ")}),t.jsx("p",{className:"text-[#666666] text-[14px] font-['Inter'] line-clamp-2",children:w(m(O.parent_prompt))})]}),t.jsxs("div",{className:"flex items-center gap-4 text-[#8A8F98] text-sm transition-colors group-hover:text-[#D9D9D9]",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-[#FFFFFF0A] rounded-full px-3 py-[6px]",children:[t.jsxs("div",{className:"relative",children:[t.jsx(uf,{size:16,primaryColor:"#808080",className:"group-hover:hidden"}),t.jsx(uf,{size:16,primaryColor:"#D9D9D9",className:"hidden group-hover:block"})]}),t.jsx("span",{children:O.prompt_subagents?.length||0})]}),t.jsxs("div",{className:"flex items-center gap-1 bg-[#FFFFFF0A] rounded-full px-3 py-[6px]",children:[t.jsxs("div",{className:"relative",children:[t.jsx(lD,{size:16,color:"#808080",className:"group-hover:hidden"}),t.jsx(lD,{size:16,color:"#D9D9D9",className:"hidden group-hover:block"})]}),t.jsx("span",{children:O.prompt_tools?.length||0})]})]})]},O.id))]}),!c&&!u&&e==="mcp"&&t.jsxs("div",{className:"grid grid-cols-1",children:[t.jsxs("div",{className:"flex gap-4 p-4 mb-4 rounded-[12px] bg-[#FFFFFF08] cursor-pointer hover:bg-[#FFFFFF08] transition-colors",onClick:I,"data-testid":Lm.manageAgents.createNewMcpServerCard,children:[t.jsx("div",{className:"flex items-center justify-center bg-[#313133] rounded-full h-10 w-10",children:t.jsx(_W,{size:24})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsx("span",{className:"text-[#B7BFCC] font-medium",children:w("manageAgents.newMCPServer")}),t.jsx("span",{className:"text-[#737780] font-medium font-inter text-[14px]",children:w("manageAgents.addCustomMCP")})]})]}),Array.isArray(l)&&l.map(O=>t.jsx($Ee,{server:O,onMouseEnter:A(O.id),onMouseLeave:D(O.id),handleEditMCPServer:T},O.id))]}),!c&&!u&&e==="mcp"&&Array.isArray(l)&&l.length===0&&t.jsxs("div",{className:"flex flex-col items-center justify-center px-8 py-16 text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-[#80FFF905] flex items-center justify-center mb-4",children:t.jsx(fa,{size:32,color:"#80FFF9"})}),t.jsx("h3",{className:"text-white font-[Brockmann] text-[20px] font-medium mb-3",children:w("manageAgents.noMCPToolsYet")}),t.jsx("p",{className:"text-[#8A8F98] font-['Inter'] text-[16px] leading-6 mb-8 max-w-md",children:w("manageAgents.noMCPToolsDescription")}),t.jsx("button",{type:"button",onClick:I,className:"px-6 py-3 rounded-[10px] bg-[#80FFF9] hover:bg-opacity-[0.8] text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann'] transition-colors",children:w("manageAgents.createMCPTool")})]}),!s&&i&&e!=="mcp"&&t.jsxs("div",{className:"flex flex-col items-center justify-center px-8 py-16 text-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-[#EEC257] bg-opacity-10 p-2 flex items-center justify-center",children:t.jsx(oD,{fill:"#EEC257",width:40,height:40,className:""})}),t.jsx("h3",{className:"mt-2 text-white font-[Brockmann] text-[20px] font-medium mb-3",children:w("manageAgents.unlockCustomAgents")}),t.jsx("p",{className:"text-[#8A8F98] font-['Inter'] text-[16px] leading-6 mb-8 max-w-md",children:w("manageAgents.customAgentsPremium")}),t.jsxs("button",{type:"button",onClick:()=>{_.open({organizationId:void 0,organizationName:void 0,planType:"personal"}),b()},className:"px-6 py-3 rounded-[10px] bg-[#F3CA5F] shadow-[0_0_20px_0_rgba(243,202,95,0.20)] hover:bg-opacity-[0.75] text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann'] transition-colors flex items-center gap-2",children:[t.jsx("p",{className:"text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann']",children:w("manageAgents.upgradeAccount")}),t.jsx("div",{className:"object-contain w-5 h-5",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{d:"M9.01807 4.94727C9.14234 4.57813 9.67013 4.57816 9.79443 4.94727L10.5483 7.18555C10.9231 8.29864 11.8075 9.17173 12.9341 9.54199L15.1987 10.2871C15.5723 10.4099 15.5723 10.9319 15.1987 11.0547L12.9341 11.7988C11.8074 12.1691 10.9231 13.0431 10.5483 14.1562L9.79443 16.3936C9.67016 16.7628 9.14234 16.7628 9.01807 16.3936L8.26416 14.1562C7.88944 13.0432 7.00585 12.1691 5.87939 11.7988L3.61377 11.0547C3.24017 10.9319 3.2402 10.4099 3.61377 10.2871L5.87939 9.54199C7.00571 9.17164 7.88941 8.29844 8.26416 7.18555L9.01807 4.94727ZM14.0825 3.44629C14.1324 3.29888 14.3433 3.29878 14.3931 3.44629L14.6733 4.28027C14.8363 4.76414 15.2208 5.14363 15.7104 5.30469L16.5542 5.58203C16.7036 5.63114 16.7036 5.84054 16.5542 5.88965L15.7104 6.16699C15.2208 6.32805 14.8363 6.70754 14.6733 7.19141L14.3931 8.02539C14.3433 8.17279 14.1324 8.17269 14.0825 8.02539L13.8013 7.19141C13.6383 6.70745 13.254 6.32797 12.7642 6.16699L11.9204 5.88965C11.771 5.84054 11.771 5.63116 11.9204 5.58203L12.7642 5.30469C13.254 5.14371 13.6383 4.76419 13.8013 4.28027L14.0825 3.44629Z",fill:"#0F0F10"})})})]})]})]})})]})}const zEe=K.common.stars;function WEe({className:e="",variant:n="default",size:s="md",isNewVariant:r=!1}){const[i,a]=d.useState(!1),{getCurrentOrganizationId:o,getCurrentWorkspaceData:l}=hs(),{user:c}=os(),{tier:u}=xs(),p=o();l();const f=p&&p!=="personal",m=()=>{switch(n){case"outline":return"border border-[#F3CA5F] text-[#F3CA5F] hover:bg-[#F3CA5F]/10";case"subtle":return"bg-[#F3CA5F]/10 text-[#F3CA5F] hover:bg-[#F3CA5F]/20";default:return"bg-[#F3CA5F] text-black hover:bg-[#E7A93C]"}},h=()=>{switch(s){case"sm":return"px-3 py-1 text-sm";case"lg":return"px-6 py-3 text-lg";default:return"px-4 py-2"}},x="text-[14px] h-[36px] w-full flex items-center justify-center text-[#0F0F10] bg-[#F3CA5F] font-semibold p-2 rounded-[8px] gap-1",g={boxShadow:"0px 0px 20px 0px #F3CA5F66, 0px 2.18px 3.64px 1.45px #FFFFFF66 inset, 0px -1.45px 0px 0px #00000033 inset, 0px 0.73px 0.73px 0.73px #0000001A"},v={background:`
      linear-gradient(180deg, #ffffff, #000000),
      #F3CA5F
    `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"},b=()=>{c?.id&&gg(c.id,u||"free","unknown","monthly",f||!1,p,"upgrade_button_click"),H(qn.CREDIT_EVENTS.TIER_UPGRADE_BUTTON_CLICKED),a(!0)};return t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:b,style:r?g:v,className:`${r?x:`${m()} ${h()} flex items-center font-semibold font-brockmann p-[12px] px-4 justify-center rounded-lg tracking-[-0.2px] gap-2`} ${e}`,children:[t.jsx("img",{src:zEe,alt:"right arrow",className:"w-6 h-6"}),t.jsx("span",{children:"Upgrade your Tier"})]}),t.jsx(ud,{isOpen:i,onOpenChange:a,organizationId:void 0,organizationName:void 0,planType:"personal"})]})}const cD=K.common.plusIcon;function GEe({className:e="",variant:n="default",size:s="md",label:r}){const{t:i}=en("billing"),[a,o]=d.useState(!1),[l,c]=d.useState(!1),{tier:u}=xs(),p=r||i("credits.buyMoreCredits"),{getCurrentOrganizationId:f,getCurrentWorkspaceData:m}=hs();f(),m();const h=v=>{v.preventDefault(),v.stopPropagation(),u==="free"?c(!0):o(!0)},x=()=>{switch(n){case"outline":return"border border-[#F3CA5F] text-[#F3CA5F] hover:bg-[#F3CA5F]/10";case"subtle":return"bg-[#F3CA5F]/10 text-[#F3CA5F] hover:bg-[#F3CA5F]/20";default:return"bg-[#F3CA5F] text-black hover:bg-[#E7A93C]"}},g=()=>{switch(s){case"sm":return"px-3 py-1 text-sm";case"lg":return"px-6 py-3 text-lg";default:return"px-4 py-2"}};return t.jsxs(t.Fragment,{children:[t.jsxs("button",{type:"button",onClick:h,className:`${x()} ${g()} hidden px-4 py-3 rounded-lg justify-between font-semibold tracking-[-0.2px] md:flex items-center gap-2 ${e}`,children:[p,t.jsx("img",{src:cD,alt:"right arrow",className:"w-6 h-6"})]}),t.jsxs("button",{type:"button",onClick:h,className:"flex md:hidden min-h-[50px] w-full  bg-[#F3CA5F] text-black hover:bg-[#E7A93C] px-4 py-3 rounded-lg justify-between font-semibold tracking-[-0.2px] items-center gap-2 ",children:[p,t.jsx("img",{src:cD,alt:"right arrow",className:"w-6 h-6"})]}),t.jsx(m3,{isOpen:a,onOpenChange:o}),t.jsx(ud,{isOpen:l,onOpenChange:c,organizationId:void 0,organizationName:void 0,planType:"personal"})]})}const qEe=K.common.settings;function dD({className:e=""}){const{t:n}=en("billing"),[s,r]=d.useState(!1),{getCurrentOrganizationId:i,getCurrentWorkspaceData:a}=hs();i(),a();const o=()=>{r(!0)};return t.jsxs(t.Fragment,{children:[t.jsxs("button",{type:"button",onClick:()=>o(),className:`flex items-center justify-between flex-1 px-4 py-3 space-x-1 font-medium text-center text-white transition-colors border rounded-lg cursor-pointer border-white/20 bg-white/5 hover:border-white/30 hover:bg-white/10 hover:text-white/80 ${e}`,title:n("credits.manageSubscriptionsTitle"),children:[n("credits.manageSubscriptions"),t.jsx("img",{src:qEe,alt:"settings",className:"w-6 h-6 ml-2"})]}),t.jsx(ud,{isOpen:s,onOpenChange:r,organizationId:void 0,organizationName:void 0,planType:"personal"})]})}const KEe=({width:e=20,height:n=20,fill:s="white",className:r,style:i,...a})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:r,style:i,...a,children:t.jsx("path",{d:"M5.66504 11.9571C6.06881 11.9574 6.39941 12.2879 6.39941 12.6915C6.3992 13.0949 6.06867 13.4247 5.66504 13.4249H4.59277C5.19315 14.3275 6.00712 15.068 6.96289 15.5802C7.91877 16.0924 8.98667 16.3612 10.0713 16.3614C12.7448 16.3614 15.044 14.7683 16.0869 12.4855C16.2265 12.17 16.5788 12.0157 16.9092 12.089C17.015 12.1142 17.1141 12.1629 17.1992 12.2306C17.2842 12.2982 17.354 12.3833 17.4023 12.4806C17.4506 12.5778 17.477 12.6846 17.4795 12.7931C17.482 12.9017 17.4599 13.01 17.416 13.1095C16.1454 15.8914 13.3397 17.8292 10.0713 17.8292C7.33177 17.8292 4.92251 16.4636 3.46094 14.379V15.6271C3.46094 16.0308 3.13052 16.3614 2.72656 16.3614C2.32268 16.3613 1.99219 16.0307 1.99219 15.6271V12.6915C1.99219 12.2879 2.32268 11.9572 2.72656 11.9571H5.66504ZM10.0713 6.6007C10.1417 6.60074 10.2103 6.62124 10.2695 6.65929C10.3288 6.69738 10.3761 6.75149 10.4053 6.81554L11.2129 8.60656L13.0049 9.42101C13.069 9.4502 13.124 9.49753 13.1621 9.55675C13.2001 9.61588 13.2207 9.68472 13.2207 9.75499C13.2207 9.82524 13.2001 9.89411 13.1621 9.95324C13.124 10.0125 13.069 10.0598 13.0049 10.089L11.2129 10.8966L10.3975 12.6876C10.3683 12.7515 10.3217 12.8058 10.2627 12.8439C10.2034 12.882 10.1339 12.9025 10.0635 12.9025C9.99313 12.9024 9.92441 12.8819 9.86523 12.8439C9.80601 12.8058 9.75871 12.7516 9.72949 12.6876L8.92188 10.9034L7.12988 10.089C6.84344 9.95685 6.84344 9.5463 7.12988 9.41417L8.92188 8.60656L9.7373 6.81554C9.76645 6.75162 9.81301 6.69737 9.87207 6.65929C9.93132 6.6212 10.0008 6.6007 10.0713 6.6007ZM3.87891 4.98058C3.98712 4.97005 4.09691 4.98385 4.19922 5.02062C4.30136 5.0574 4.39409 5.11659 4.4707 5.19347C4.7056 5.4357 4.75681 5.81695 4.57324 6.09581C4.10325 6.80037 3.75782 7.60043 3.58887 8.4591C3.52277 8.78938 3.21479 9.01766 2.87695 9.01769C2.76803 9.01771 2.65994 8.99305 2.56152 8.9464C2.46336 8.89979 2.37639 8.83227 2.30762 8.74816C2.23874 8.66387 2.19014 8.56475 2.16406 8.4591C2.138 8.35347 2.13549 8.24342 2.15723 8.13683C2.36107 7.12385 2.76303 6.16035 3.33984 5.30285C3.40022 5.21268 3.48009 5.13689 3.57324 5.08117C3.66643 5.02546 3.77083 4.99112 3.87891 4.98058ZM15.6641 5.19347C15.9871 4.86328 16.5377 4.92151 16.7949 5.30285C17.3605 6.15431 17.7645 7.10921 17.9775 8.13683C17.9993 8.24342 17.9968 8.35347 17.9707 8.4591C17.9446 8.56475 17.896 8.66387 17.8271 8.74816C17.7583 8.8324 17.6706 8.89978 17.5723 8.9464C17.4739 8.99295 17.3666 9.01771 17.2578 9.01769C16.92 9.01767 16.611 8.78939 16.5449 8.4591C16.3686 7.6005 16.0315 6.80032 15.5615 6.09581C15.3706 5.8096 15.4218 5.4357 15.6641 5.19347ZM10.8018 2.56554C10.8018 2.09577 11.2282 1.7509 11.6836 1.83898C12.7117 2.05187 13.674 2.4555 14.5186 3.02062C14.9076 3.2776 14.9589 3.82808 14.6211 4.15831C14.3787 4.4005 14.0042 4.45168 13.7178 4.26085C13.0201 3.79114 12.2196 3.4463 11.3604 3.27745C11.0299 3.2114 10.8018 2.90313 10.8018 2.56554ZM8.45117 1.83898C8.90654 1.7509 9.33301 2.09577 9.33301 2.56554C9.33294 2.90304 9.10523 3.2108 8.76758 3.26964C7.9083 3.4458 7.11521 3.78429 6.41016 4.25402C6.12371 4.44486 5.74823 4.39273 5.50586 4.1505C5.18321 3.82755 5.23466 3.27749 5.61621 3.02062C6.46074 2.4555 7.42306 2.05187 8.45117 1.83898Z",fill:s})}),Ay=K.payments.info,YEe=K.payments.question,ZEe=K.payments.external,JEe=K.common.copperCoin,Xm=K.common.sparklingStar;function XEe({tier:e}){const{t:n}=en("billing"),s="px-3 py-1.5 md:px-4 md:py-2 rounded-full max-h-[32px] md:max-h-[36px] flex items-center justify-center font-['Inter'] font-semibold text-sm md:text-base whitespace-nowrap";if(e==="free")return t.jsx("div",{className:`${s} bg-[#363637]`,children:n("credits.tiers.free")});const r=`${s} transition-all ease-in-out duration-200 border border-[#37342A] bg-[#37342A] text-[#F3CA5F]`;return e==="starter"?t.jsxs("div",{className:r,children:[n("credits.tiers.starter"),t.jsx("img",{src:Xm,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):e==="standard"?t.jsxs("div",{className:r,children:[n("credits.tiers.standard"),t.jsx("img",{src:Xm,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):e==="pro_mode"?t.jsxs("div",{className:r,children:[n("credits.tiers.proMode"),t.jsx("img",{src:Xm,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):e==="team"?t.jsxs("div",{className:r,children:[n("credits.tiers.teamPlan"),t.jsx("img",{src:Xm,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):t.jsxs("div",{className:r,children:[n("credits.tiers.pro"),t.jsx("img",{src:Xm,alt:"tier icon",className:"w-5 h-5 ml-2"})]})}function QEe({tier:e,isMobile:n,isUserSSO:s,currentWorkspace:r}){const{t:i}=en("billing"),a=/android/i.test(navigator.userAgent);return n?t.jsx("div",{className:"flex flex-col gap-3",children:t.jsx("div",{className:"w-full",children:t.jsxs("button",{type:"button",onClick:o=>{o.preventDefault(),o.stopPropagation();var l="https://app.emergent.sh";n&&(a?l="https://play.google.com/store/account/subscriptions":l="https://apps.apple.com/account/subscriptions"),zi("OPEN_EXTERNAL_URL",{url:l})},className:"flex w-[90%] mt-2 ml-3 bg-[#F3CA5F] text-black hover:bg-[#E7A93C] px-4 py-2 rounded-lg justify-between font-semibold tracking-[-0.2px] items-center gap-2 text-sm",children:[i("credits.manageAccount"),t.jsx("span",{className:"text-base",children:"+"})]})})}):t.jsx("div",{className:"flex flex-col gap-3",children:e==="free"?t.jsx(WEe,{isNewVariant:!0,className:"w-full"}):t.jsxs(t.Fragment,{children:[r==="personal"?t.jsx(dD,{}):!s&&t.jsx(dD,{}),t.jsx(GEe,{})]})})}function eSe({tier:e,creditResponse:n}){const{t:s}=en("billing");return e!=="free"?null:t.jsx("div",{className:"mb-3",children:t.jsxs("p",{className:"text-[13px] font-medium md:text-sm text-white/50",children:[s("credits.freeTierMessage.onFreeTier"),n&&n.daily_credit_max_per_window>0?s("credits.freeTierMessage.with"):s("credits.freeTierMessage.period"),n&&n.daily_credit_max_per_window>0&&t.jsxs("span",{className:"text-white",children:[n?n.daily_credit_per_day===n.daily_credit_max_per_window?s("credits.freeTierMessage.monthlyCreditsCount",{count:n.daily_credit_max_per_window}):s("credits.freeTierMessage.dailyCreditsCount",{count:n.daily_credit_per_day,max:n.daily_credit_max_per_window}):"","."]})," ",s("credits.freeTierMessage.upgradePrompt")]})})}function AW(){const{t:e}=en("billing"),{credits:n,tier:s,creditResponse:r,dailyCreditsEnabled:i}=xs(),a=Sa(),o=Mi(),{isMobile:l}=ts(),{userDetails:c}=os(),u=c?.is_sso_user,{currentWorkspace:p}=hs(),[f,m]=d.useState(!1);d.useEffect(()=>{m(o.pathname.includes("chat")&&l)},[o,l]);const h=r?.daily_credit_max_per_window&&r?.daily_credit_max_per_window>20?e("credits.dailyCredits"):e("credits.freeCredits");return f?null:t.jsx(ms,{children:t.jsxs("div",{className:"w-full p-3 md:py-5 px-3 md:px-4 bg-[#272829CC] backdrop-blur-xl rounded-xl text-white flex flex-col",children:[t.jsxs("div",{className:"flex items-start justify-between space-y-0",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("h2",{className:"text-sm md:text-base text-white/50 whitespace-nowrap",style:{fontFamily:"Inter",fontWeight:500},children:e("credits.availableCredits").split(`
`).map((x,g)=>t.jsxs("span",{children:[x,t.jsx("br",{})]},g))}),t.jsxs(Ss,{delayDuration:0,children:[t.jsx(ks,{asChild:!0,children:t.jsx("img",{src:YEe,alt:"Info",className:"w-3 h-3 ml-1 md:w-4 md:h-4"})}),t.jsx(Ns,{className:"w-[364px] p-4 pl-2 mt-[6px] rounded-[12px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-2xl",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between pl-4",children:[t.jsx("h3",{className:"font-['Inter'] font-semibold text-white",children:e("credits.aboutCredits")}),t.jsxs("div",{className:"flex items-center gap-1 text-xs cursor-pointer text-white/70 hover:text-white/90",children:[t.jsx("span",{className:"font-['Inter'] text-[14px] text-[#FFFFFF99] underline",onClick:()=>window.open("https://atlas-kb.com/atlas-e74243keac/articles/769724-credits-and-pricing","_blank"),children:e("credits.learnMore")}),t.jsx("img",{src:ZEe,alt:"External",className:"w-5 h-5"})]})]}),t.jsxs("div",{className:"space-y-2 text-[13px] font-medium text-white/60",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"flex-shrink-0 w-1 h-1 mt-2 rounded-full bg-white/50"}),t.jsx("p",{className:"leading-[22px] font-['Inter']",children:e("credits.creditsTooltip.priority",{creditType:h.toLowerCase()})})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"flex-shrink-0 w-1 h-1 mt-2 rounded-full bg-white/50"}),t.jsx("p",{className:"leading-[22px] font-['Inter']",children:e("credits.creditsTooltip.reset")})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"flex-shrink-0 w-1 h-1 mt-2 rounded-full bg-white/50"}),t.jsx("p",{className:"leading-[22px] font-['Inter']",children:e("credits.creditsTooltip.permanent")})]})]})]})})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-[#F5CC62] text-xl md:text-[28px] leading-6 md:leading-[32px] font-semibold",children:n!==null?n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""}),t.jsx("img",{alt:"Balance Coin",src:JEe,className:"w-5 h-5 md:w-6 md:h-6"})]})]}),t.jsx(XEe,{tier:s})]}),r&&s=="free"&&i?t.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[8px] p-4 flex flex-col gap-4 mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Gr,{color:"#FFFFFF",className:"opacity-80"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:h}),t.jsxs(Ss,{delayDuration:0,children:[t.jsx(ks,{asChild:!0,children:t.jsx("img",{src:Ay,alt:"Info",className:"w-4 h-4 ml-1 cursor-pointer"})}),t.jsx(Ns,{className:"px-3 py-2 rounded-[8px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:t.jsxs("span",{className:"text-[15px] font-['Inter'] font-medium text-[#FFFFFF]/80 tracking-[-0.2px]",children:[r.daily_credit_per_day," ",e("credits.credits")," ",r.daily_credit_per_day===r.daily_credit_max_per_window?e("credits.monthly"):t.jsxs(t.Fragment,{children:[e("credits.refreshesDaily"),t.jsx("br",{})," ",t.jsx("span",{className:"font-inter text-[#FFFFFF99]",children:e("credits.uptoMonthly",{max:r.daily_credit_max_per_window})})]})]})})]})]}),t.jsxs("span",{className:"text-[#FFFFFF50] text-[15px] font-['Inter'] font-medium",children:[t.jsx("span",{className:k("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:r.daily_credits.toFixed(2)})," ","/"," ",t.jsx("span",{className:k("text-sm md:text-[15px] font-['Inter'] font-medium text-white opacity-60"),children:r.daily_credit_per_day})]})]}),!a&&t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(Ho,{fill:"#CCC",className:"w-5 h-5"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:e("credits.bonusCredits")})]}),t.jsx("span",{className:k("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:r.top_up_credit_balance.toFixed(2)})]})]}):null,r&&(s!="free"||!i)?t.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[8px] p-4 flex flex-col gap-4 mt-4",children:[i?t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Gr,{color:"#FFFFFF",className:"opacity-80"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:h}),t.jsxs(Ss,{delayDuration:0,children:[t.jsx(ks,{asChild:!0,children:t.jsx("img",{src:Ay,alt:"Info",className:"w-3 h-3 ml-1 cursor-pointer md:w-4 md:h-4"})}),t.jsx(Ns,{className:"px-3 py-2 rounded-[8px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:t.jsxs("span",{className:"text-[15px] font-['Inter'] font-medium text-[#FFFFFF]/80 tracking-[-0.2px]",children:[r.daily_credit_per_day," ",e("credits.credits")," ",r.daily_credit_per_day===r.daily_credit_max_per_window?e("credits.monthly"):t.jsxs(t.Fragment,{children:[e("credits.refreshesDaily"),t.jsx("br",{})," ",t.jsx("span",{className:"font-inter text-[#FFFFFF99]",children:e("credits.uptoMonthly",{max:r.daily_credit_max_per_window})})]})]})})]})]}),t.jsxs("span",{className:"text-[#FFFFFF50] text-sm md:text-[15px] font-['Inter'] font-medium",children:[t.jsx("span",{className:k("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:r.daily_credits.toFixed(2)})," ","/"," ",t.jsx("span",{className:k("text-sm md:text-[15px] font-['Inter'] font-medium text-white opacity-60"),children:r.daily_credit_per_day})]})]}):null,s!="free"&&t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(KEe,{}),t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80 whitespace-nowrap",children:e("credits.monthlyCredits").split(`
`).map((x,g)=>t.jsxs("span",{children:[x,t.jsx("br",{})]},g))}),t.jsxs(Ss,{delayDuration:0,children:[t.jsx(ks,{asChild:!0,children:t.jsx("img",{src:Ay,alt:"Info",className:"w-3 h-3 ml-1 cursor-pointer md:w-4 md:h-4"})}),t.jsx(Ns,{className:"px-3 py-2 rounded-[8px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:t.jsxs("span",{className:"text-[15px] font-['Inter'] font-medium text-[#FFFFFF99] tracking-[-0.2px]",children:[e("credits.refreshesOn")," ",t.jsx("span",{className:"text-[#FFFFFF] font-['Inter'] font-medium",children:TH(r.monthly_credits_refresh_date)})]})})]})]}),t.jsxs("span",{className:"text-[#FFFFFF50] text-sm md:text-[15px] font-['Inter'] font-medium",children:[t.jsx("span",{className:k("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:r.monthly_credits_balance.toFixed(2)})," ","/"," ",t.jsx("span",{className:k("text-sm md:text-[15px] font-['Inter'] font-medium text-white opacity-60"),children:r.subscription.monthly_credit_limit})]})]}),!a&&t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(Ho,{fill:"#CCC",className:"w-5 h-5"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:s!="free"?e("credits.topUpCredits"):e("credits.bonusCredits")})]}),t.jsx("span",{className:k("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:r.top_up_credit_balance.toFixed(2)})]})]}):null,t.jsx("div",{className:"min-w-full border-[2px]  border-t border-dashed border-b-0 border-l-0 border-r-0 mt-4 md:mt-[24px] mb-4 md:mb-[24px]"}),t.jsx(eSe,{tier:s,creditResponse:r}),t.jsx(QEe,{tier:s,isMobile:a,isUserSSO:u,currentWorkspace:p})]})})}const tSe=K.common.greenLinkArrow,uD=K.common.menuInfo,pD=K.common.accountSettingsIcon,eg=K.common.globeWhite,fD=K.menuIcons.logout,nSe=K.menuIcons.discordHover,sSe=K.menuIcons.discord,rSe=K.menuIcons.discordEndIcon,mD=K.github.gitDot,iSe=K.teams.org;function DW({user:e,isGitHubConnected:n,handleGitHubConfigClick:s,handleLogout:r,isLoggingOut:i,openAccountSettingsModal:a,openLanguageBottomSheet:o,isOpen:l,onOpenChange:c,popoverClassName:u,isMobileApp:p}){const{t:f}=en("common"),m=Hr(),{personalCredits:h}=xs(),{isMobile:x}=ts(),{isTrulyFreeUser:g,isOrganizationWorkspace:v,isCurrentWorkspaceOwner:b}=gi(),[y,w]=d.useState(!1),_=d.useRef(null),[N,j]=d.useState(!1),C=()=>{_.current&&(clearTimeout(_.current),_.current=null),w(!0)},S=()=>{_.current&&clearTimeout(_.current),_.current=window.setTimeout(()=>{w(!1),_.current=null},150)},F=Mi(),E=br(B=>B.menu.isOpen),I=br(B=>B.menu.showUniversalKeyTooltip),[T,A]=d.useState(zX()),D=ba();d.useEffect(()=>{E&&(c?.(!0),D(wF()))},[E,c]),d.useEffect(()=>{const B=()=>{I&&HX()&&!T&&(WX(),D(CF(!1)),A(!0),D(wF()))};return document.addEventListener("click",B),()=>{document.removeEventListener("click",B)}},[l,I,T]),d.useEffect(()=>{I&&!T&&!l&&c?.(!0)},[I,T,l,c]),d.useEffect(()=>{!l&&I&&T&&D(CF(!1))},[l,I,T]),d.useEffect(()=>()=>{_.current&&(clearTimeout(_.current),_.current=null)},[]);const O=()=>e&&e?.email?.slice(0,1).toUpperCase()||"U",M=e7(F.pathname),{data:L}=Kr(void 0,{skip:M||!e}),P=B=>{B&&window.dispatchEvent(new Event("close-workspace-switcher")),c?.(B)};return t.jsxs(Gc,{open:l,onOpenChange:P,children:[t.jsx(qc,{asChild:!0,children:t.jsx(zt,{"data-testid":Fd.avatarButton,variant:"ghost",className:"relative w-8 h-8 p-0 rounded-full bg-[#1E1E1F] hover:bg-[#2A2A2B]",children:t.jsx(Mu,{className:"h-8 w-8 bg-[#1E1E1F]",children:v()?t.jsx("div",{className:"flex items-center justify-center w-full h-full backdrop-blur-sm",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(63, 243, 200, 0.1) 0%, rgba(63, 243, 200, 0.05) 100%)"},children:t.jsx("img",{src:iSe,alt:"Organization",className:"w-5 h-5"})}):t.jsxs(t.Fragment,{children:[t.jsx(N$,{src:e?.user_metadata?.avatar_url,alt:"User Avatar",className:"min-w-8 min-h-8"}),t.jsx(Wf,{className:"bg-[#1E1E1F] text-sm font-medium",children:O()})]})})})}),t.jsxs(td,{align:"end",className:u??"w-[300px] bg-[#131314] border-[#1f1f1f] mt-4 mb-2 max-md:ml-2 ml-4 md:-mr-5 p-0 rounded-[16px] shadow-md",children:[t.jsx(UEe,{user:e,userDetails:L,onCloseMenu:()=>c?.(!1),getUserInitials:O,hideNewWorkspace:p}),g()&&(!v()||b)&&t.jsx("div",{className:"px-[10px] pt-[10px]",children:t.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border-2 border-[#1F1F1F]",children:[t.jsxs("div",{className:"flex items-center justify-between px-3 pt-3",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Ho,{fill:"#FFF",size:20}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-[14px] leading-[20px] tracking-[0px] text-white",children:f("menu.credits")}),!x&&t.jsxs(Gc,{open:y,onOpenChange:w,children:[t.jsx(qc,{asChild:!0,children:t.jsx("div",{onMouseEnter:C,onMouseLeave:S,className:"cursor-pointer",children:t.jsx(eW,{size:16,className:"transition-opacity opacity-50 hover:opacity-80"})})}),t.jsx(td,{className:"w-[350px] max-md:hidden p-0 border-0 bg-transparent",align:"end",sideOffset:8,onMouseEnter:C,onMouseLeave:S,children:t.jsx(AW,{})})]})]}),t.jsx("span",{className:"font-['Brockmann'] text-[14px] leading-[20px] tracking-[0px] text-[#F3CA5F] font-semibold",children:h!==null?h.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""})]}),t.jsx("div",{className:"flex bg-[#1F1F1F] p-2",children:t.jsxs("button",{type:"button",className:"text-[14px] h-[36px] w-full flex items-center justify-center text-[#0F0F10] bg-[#F3CA5F] font-semibold p-2 rounded-[8px] gap-1",style:{boxShadow:"0px 0px 20px 0px #F3CA5F66, 0px 2.18px 3.64px 1.45px #FFFFFF66 inset, 0px -1.45px 0px 0px #00000033 inset, 0px 0.73px 0.73px 0.73px #0000001A"},onClick:()=>m.open({planType:"personal",triggerLocation:"default"}),children:[t.jsx("span",{className:"font-['Brockmann'] font-semibold text-[14px] leading-[16px] tracking-[-0.2px] text-right align-middle text-[#0F0F10]",children:f("menu.upgrade")}),t.jsx(Oi,{color:"#0F0F10",size:24,height:24,width:24})]})})]})}),n&&t.jsx("div",{className:"flex flex-col p-[10px] border-b border-[#1f1f1f]",children:t.jsx(Fc,{hoveringEndIcon:tSe,hoverIcon:mD,icon:mD,className:"w-full px-[10px] border-[#1F1F1F] text-[#2EE572] hover:bg-[#2EE5720F] rounded-[10px]  hover:opacity-100",onClick:s,children:L?.github?.account_name})}),t.jsxs("div",{className:"flex flex-col pt-[10px] gap-1 p-[10px]",children:[t.jsx(Fc,{"data-testid":Fd.accountSettingsButton,onClick:()=>{a(),H(qn.HOME_PAGE_EVENTS.USER_MENU_EVENTS.ACCOUNT_SETTING_CLICKED)},hoverIcon:pD,icon:pD,className:"hover:text-opacity-100 hover:bg-[#ffffff10] px-[10px]  w-full gap-3 hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out rounded-[8px]",children:f("menu.accountSettings")}),x?t.jsx(Fc,{"data-testid":Fd.languageButton,onClick:()=>{o?.()},hoverIcon:eg,icon:eg,className:"hover:text-opacity-100 hover:bg-[#ffffff10] px-[10px] w-full gap-3 hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out rounded-[8px]",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("span",{children:f("menu.language")}),t.jsx(Bo,{size:16,className:"opacity-50"})]})}):t.jsxs(Gc,{open:N,onOpenChange:j,children:[t.jsx(qc,{asChild:!0,children:t.jsx("div",{children:t.jsx(Fc,{"data-testid":Fd.languageButton,hoverIcon:eg,icon:eg,className:"hover:text-opacity-100 hover:bg-[#ffffff10] px-[10px] w-full gap-3 hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out rounded-[8px]",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("span",{children:f("menu.language")}),t.jsx(Bo,{size:16,className:"opacity-50"})]})})})}),t.jsx(s$,{side:"left",align:"start",sideOffset:16,alignOffset:0,className:"p-0 border-0 bg-transparent w-auto",children:t.jsx(HEe,{className:"w-[250px]",onClose:()=>{j(!1),c?.(!1)}})})]}),!n&&t.jsx("div",{className:"flex flex-col",children:t.jsx(BEe,{})}),t.jsx(Fc,{"data-testid":Fd.helpCenterButton,onClick:()=>{window.open(ha.helpCenter,"_blank"),H(qn.HOME_PAGE_EVENTS.USER_MENU_EVENTS.HELP_CENTER_CLICKED)},hoverIcon:uD,icon:uD,className:"hover:text-opacity-100 hover:bg-[#ffffff10] px-[10px]  w-full gap-3  hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out  rounded-[8px]",children:f("menu.helpCenter")}),t.jsx(Fc,{"data-testid":Fd.discordButton,onClick:()=>{window.open(ha.socials.discord,"_blank"),H(qn.HOME_PAGE_EVENTS.USER_MENU_EVENTS.JOIN_DISCORD_CLICKED)},hoverIcon:nSe,icon:sSe,hoveringEndIcon:rSe,className:" hover:bg-[#808AFF0F] px-[10px]  w-full gap-3 opacity-70 hover:opacity-100 hover:text-[#808AFF] transition-all rounded-[8px]  ease-in-out  group/rotate ",children:f("menu.joinDiscord")}),t.jsx(Fc,{"data-testid":Fd.logoutButton,onClick:r,hoverIcon:fD,icon:fD,loadingState:i,loadingNode:t.jsx(tn,{className:"animate-spin"}),className:" text-[#CCCCCC] w-full px-[10px] gap-3 hover:bg-[#ffffff10]  hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out  rounded-[8px]  ",children:t.jsx("div",{className:"flex gap-2",children:f("menu.logout")})})]})]})]})}const aSe=({isOpen:e,onClose:n,handleJobClick:s,organizationId:r})=>{const{t:i}=en(["home","common"]),{closeAllPanels:a}=EC();d.useEffect(()=>{e&&a()},[e,a]);const o=u=>{u.target===u.currentTarget&&n()},l=u=>{u.stopPropagation()},c=u=>{a(),setTimeout(()=>{s(u),setTimeout(()=>{a()},200)},100)};return t.jsx(as,{open:e,onOpenChange:u=>{u||n()},children:t.jsx(Cr,{children:t.jsx(Kn,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(fe.div,{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:o}),t.jsxs(fe.div,{className:"fixed inset-0 z-[10000] flex flex-col bg-[#0F0F10] lg:hidden",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"tween",duration:.3,ease:"easeInOut"},onClick:l,children:[t.jsxs("div",{className:"flex items-center justify-between px-2 py-2  md:p-4 border-b border-[#272729]",children:[t.jsx("h1",{className:"text-[18px] font-medium text-white",children:i("sidebar.deployedApps")}),t.jsx("button",{type:"button",title:i("common.closeModal"),onClick:n,className:"p-2 transition-colors rounded-full hover:bg-white/10",children:t.jsx(Ft,{className:"w-6 h-6 text-white"})})]}),t.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:t.jsx("div",{className:"max-w-full",children:t.jsx(aV,{handleJobClick:c,organizationId:r})})})]})]})})})})},oSe=({isOpen:e,onClose:n})=>{const{t:s}=en("showcase"),{closeAllPanels:r}=EC();d.useEffect(()=>{e&&r()},[e,r]);const i=o=>{o.target===o.currentTarget&&n()},a=o=>{o.stopPropagation()};return t.jsx(as,{open:e,onOpenChange:o=>{o||n()},children:t.jsx(Cr,{children:t.jsx(Kn,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(fe.div,{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:i}),t.jsxs(fe.div,{className:"fixed inset-0 z-[10000] flex flex-col bg-[#0F0F10] lg:hidden",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"tween",duration:.3,ease:"easeInOut"},onClick:a,children:[t.jsxs("div",{className:"flex items-center justify-between px-2 py-2 md:p-4 border-b border-[#272729]",children:[t.jsxs("div",{className:"flex gap-[4px] ml-2",children:[t.jsx(pC,{}),t.jsx("h1",{className:"text-[16px] font-medium text-white",children:s("showcase.title")})]}),t.jsx("button",{type:"button",title:"Close Modal",onClick:n,className:"p-2 transition-colors rounded-full hover:bg-white/10",children:t.jsx(Ft,{className:"w-6 h-6 text-[#C4C4CC]"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsx("div",{className:"max-w-full",children:t.jsx(jV,{onModalClose:n})})})]})]})})})})},lSe=({isOpen:e,onClose:n,onAction:s,taskName:r,showMoveToProject:i=!0,showDelete:a=!0})=>{const l=[{id:"rename",label:"Rename",icon:t.jsx(Vf,{width:20,height:20})},{id:"moveToProject",label:"Move to project",icon:t.jsx(lV,{width:20,height:16})},{id:"delete",label:"Delete",icon:t.jsx(oV,{width:20,height:20})}].filter(c=>!(c.id==="moveToProject"&&!i||c.id==="delete"&&!a));return t.jsx(Kn,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(fe.div,{className:"fixed inset-0 z-[1000] bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:n},"context-menu-backdrop"),t.jsxs(fe.div,{className:"fixed bottom-0 left-0 right-0 z-[1001] px-3 pb-8",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},children:[t.jsxs("div",{className:"bg-[#2C2C2E] rounded-2xl mb-2 overflow-hidden",children:[t.jsx("div",{className:"px-4 py-3 border-b border-[#3A3A3C]",children:t.jsx("p",{className:"text-[#62ECFE] text-[15px] font-medium text-center truncate",children:r})}),l.map((c,u)=>t.jsxs("button",{onClick:()=>{s(c.id),n()},className:`w-full flex items-center justify-between px-4 py-3.5 active:bg-[#3A3A3C] transition-colors ${u<l.length-1?"border-b border-[#3A3A3C]":""}`,children:[t.jsx("span",{className:"text-[17px] font-normal text-white",children:c.label}),t.jsx("span",{className:"text-white",children:c.icon})]},c.id))]}),t.jsx("button",{onClick:n,className:"w-full bg-[#2C2C2E] rounded-2xl py-3.5 active:bg-[#3A3A3C] transition-colors",children:t.jsx("span",{className:"text-[#62ECFE] text-[17px] font-semibold",children:"Cancel"})})]},"context-menu-sheet")]})})},cSe=({size:e=24,width:n,height:s,color:r="#224BC6",className:i})=>{const a=n||e,o=s||e;return t.jsx("svg",{width:a,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:t.jsx("path",{d:"M12 4.8C12.225 4.8 12.675 5.4082 13.0687 6.6C13.2375 7.0957 13.3852 7.70391 13.5082 8.4C13.6102 8.94141 13.6875 9.53555 13.7332 10.2C13.7789 10.7625 13.8 11.3602 13.8 12H15.6C15.6 11.4023 15.5789 10.7977 15.5332 10.2C15.4875 9.5918 15.4207 8.98359 15.3293 8.4C15.2273 7.7707 15.1043 7.1625 14.9461 6.6C14.8125 6.11484 14.6648 5.66484 14.4855 5.25C13.902 3.88945 13.0793 3 12 3C10.9207 3 10.098 3.88945 9.51445 5.25C9.33516 5.6543 9.1875 6.11484 9.05391 6.6H10.9453C11.3391 5.4082 11.7785 4.8 12.0141 4.8H12ZM12 19.2C11.775 19.2 11.325 18.5918 10.9313 17.4C10.7625 16.9043 10.6148 16.2961 10.4918 15.6C10.3898 15.0586 10.3125 14.4645 10.2668 13.8C10.2211 13.2375 10.2 12.6398 10.2 12H8.4C8.4 12.5977 8.42109 13.2023 8.4668 13.8C8.5125 14.4082 8.5793 15.0164 8.6707 15.6C8.77266 16.2293 8.8957 16.8375 9.05391 17.4C9.1875 17.8852 9.33516 18.3352 9.51445 18.75C10.098 20.1105 10.9207 21 12 21C13.0793 21 13.902 20.1105 14.4855 18.75C14.6648 18.3457 14.8125 17.8852 14.9461 17.4H13.0582C12.6645 18.5918 12.225 19.2 11.9895 19.2H12ZM20.1 8.1082C19.8398 7.58086 19.5375 7.07461 19.1789 6.6C18.3 5.43984 17.1539 4.49766 15.825 3.86484C14.6648 3.31641 13.3711 3 12 3C10.6289 3 9.33516 3.31641 8.175 3.86484C6.84609 4.49414 5.7 5.43984 4.82109 6.6C4.47305 7.07109 4.15664 7.5668 3.9 8.1082C3.32695 9.28945 3 10.6043 3 12C3 13.3957 3.32695 14.7105 3.9 15.8918C4.16016 16.4191 4.4625 16.9254 4.82109 17.4C5.7 18.5602 6.84609 19.5023 8.175 20.1352C9.33516 20.6836 10.6289 21 12 21C13.3711 21 14.6648 20.6836 15.825 20.1352C17.1539 19.5059 18.3 18.5602 19.1789 17.4C19.527 16.9289 19.8434 16.4332 20.1 15.8918C20.673 14.7105 21 13.3957 21 12C21 10.6043 20.673 9.28945 20.1 8.1082ZM14.4855 18.75C13.7086 19.0418 12.8754 19.2 12 19.2C11.1246 19.2 10.2914 19.0312 9.51445 18.75C8.68125 18.4336 7.91836 17.9836 7.25391 17.4C7.21875 17.3789 7.19766 17.3438 7.1625 17.3227C6.61055 16.827 6.13945 16.2434 5.7668 15.6H6.83555C6.7582 15.0164 6.68789 14.4082 6.65625 13.8H5.03555C4.88789 13.227 4.8 12.6187 4.8 12C4.8 11.3813 4.89141 10.773 5.03555 10.2H12V8.4H5.77734C6.15 7.76016 6.62109 7.17305 7.17305 6.67734C7.2082 6.65625 7.2293 6.62109 7.26445 6.6C7.92891 6.02695 8.68125 5.56641 9.525 5.25C10.302 4.9582 11.1352 4.8 12.0105 4.8C12.8859 4.8 13.7191 4.96875 14.4961 5.25C15.3293 5.56641 16.0922 6.01641 16.7566 6.6C16.7918 6.62109 16.8129 6.65625 16.848 6.67734C17.4 7.17305 17.8711 7.75664 18.2438 8.4H17.175C17.2523 8.98359 17.3227 9.5918 17.3543 10.2H18.975C19.1227 10.773 19.2105 11.3813 19.2105 12C19.2105 12.6187 19.1191 13.227 18.975 13.8H12.0105V15.6H18.2332C17.8605 16.2398 17.3895 16.827 16.8375 17.3227C16.8023 17.3438 16.7812 17.3789 16.7461 17.4C16.0816 17.973 15.3293 18.4336 14.4855 18.75Z",fill:r})})},Rl=100,dSe=K.logo.logo,uSe=K.common.buyCredit,pSe=K.buy.buyCoin,Dy=e=>{if(e?.state!=="ENV_INITIATED"||!e?.created_at)return!1;const n=new Date(e.created_at).getTime();return(Date.now()-n)/(1e3*60)<10},fSe=({isOpen:e,onClose:n,tabs:s,activeTab:r,onTabClick:i,onTabClose:a})=>{const[o,l]=d.useState({isMenuOpen:!1,isDeployedAppsModalOpen:!1,isShowcaseModalOpen:!1,isLanguageBottomSheetOpen:!1,contextMenuState:{isOpen:!1,job:null},renameModalState:{isOpen:!1,job:null},deleteModalState:{isOpen:!1,job:null},moveToProjectModalState:{isOpen:!1,job:null}}),{t:c}=en("home"),u=et.useRef(null),p=et.useRef(!1),f=$O(),m=ku(),{currentWorkspace:h,isPersonalWorkspace:x,getCurrentOrganizationId:g}=hs(),{newToast:v}=Ga(),b=Ea(),[y]=VP(),[w,_]=d.useState([]),[N,j]=d.useState(0),[C,S]=d.useState(!0),[F,E]=d.useState(!1),[I,T]=d.useState(!0),A=g(),D=d.useRef(void 0);d.useEffect(()=>{if(D.current===A&&D.current!==void 0)return;D.current=A,(async()=>{T(!0),_([]),j(0),S(!0);try{const nt=await y({organization_id:A,limit:Rl,offset:0}).unwrap();_(nt||[]),j(Rl),S((nt||[]).length===Rl)}catch{_([]),S(!1)}finally{T(!1)}})()},[A,y]);const O=d.useCallback(async()=>{if(!(!C||F)){E(!0);try{const nt=await y({organization_id:A,limit:Rl,offset:N}).unwrap()||[];_(We=>[...We,...nt]),j(We=>We+Rl),S(nt.length===Rl)}catch{S(!1)}finally{E(!1)}}},[C,F,A,N,y]),M=d.useCallback(async()=>{T(!0),_([]),j(0),S(!0);try{const Ie=await y({organization_id:A,limit:Rl,offset:0}).unwrap();_(Ie||[]),j(Rl),S((Ie||[]).length===Rl)}catch{_([]),S(!1)}finally{T(!1)}},[A,y]),L=d.useMemo(()=>w.filter(nt=>x()?!(nt.organization_id||nt.payload?.organization_id):(nt.organization_id||nt.payload?.organization_id)===h),[w,h,x]),{setTabs:P,setActiveTab:B,updateTabState:G,getTabByJobId:$}=hi(),{credits:te,personalTier:U,orgTier:oe}=xs(),{restrictedFree:Y,isCurrentWorkspaceOwner:W}=gi(),Z=Hr(),le=r0(),q=Sa(),Q=Y&&W,he={background:`
      linear-gradient(90deg, #ffffff30, #00000050),
      #F3CA5F
    `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal",boxShadow:`
      0px 0px 20px 0px #F3CA5F66,
      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,
      0px -1.45px 0px 0px #00000033 inset,
      0px 0.73px 0.73px 0.73px #0000001A
    `},me=Ie=>{Ie.stopPropagation();const nt="personal";if(q&&Y){const We=U,Lt=We!=="free",pt="upgrade-tier",{title:ft,description:Tt}=Ro(pt);zi("TRIGGER_SUBSCRIPTION",{planType:nt,organizationId:void 0,triggerLocation:pt,currentTier:We,hasActiveSubscription:Lt,title:ft,description:Tt,...Lt&&{modalType:"proFeature"}}),H(qn.CREDIT_EVENTS.BUY_CREDITS_BUTTON_CLICKED,{planType:nt});return}Y?Z.open({planType:nt}):le.open(),H(qn.CREDIT_EVENTS.BUY_CREDITS_BUTTON_CLICKED,{planType:nt})},ce=Ie=>t.jsx("div",{className:"truncate text-[15px] text-[#C2C2CC]",children:Ie.title?Ie.title:t.jsx("span",{className:"opacity-60",children:Ie.payload.task?.slice(0,50)})}),ee=Ie=>{if(!Ie.payload?.task||!(Ie.payload?.container_id||Ie.id))return;const We=$(Ie.id);if(We){B(We.id),n();return}const Lt=`tab-${crypto.randomUUID()}`,pt=`/root/runs/${Ie.id}/trajectory.json`,ft=g(),Tt=Ie.organization_id||Ie.payload?.organization_id,{tabLevel:Gt,organizationId:Ze}=hf(Tt,ft),ut=Ie.organization_name||Ie.payload?.organization_name,Qt=ft?`/workspace/${ft}/chat`:"/chat",Sn={containerId:Ie.payload.container_id||Ie.id,initial_commit_id:Ie.payload.initial_commit_id,task:Ie.payload?.original_task||Ie.payload.task,jobId:Ie.id,trajPath:pt,tabId:Lt,fromJobList:!0,isCloudFlow:Ie.payload?.is_cloud,clientRefId:Ie.client_ref_id,modelName:Ie.payload.model_name,promptName:Ie.payload.prompt_name,promptVersion:Ie.payload.prompt_version,costLimit:Ie.payload.per_instance_cost_limit,agentName:Ie.payload.agent_name,portMapping:Ie.payload.portMapping,created_by:Ie.created_by,createdAt:Ie.created_at,organization_id:Tt||null,isActive:!0,dynamic_preview_subdomain:Ie.payload?.dynamic_preview_subdomain},yn=Ie.title||Ie.payload?.original_task||Ie.payload.task;P(Ee=>[...Ee,{id:Lt,title:`${Ie.payload?.original_task||Ie.payload.task}`,tabHeading:yn,path:Qt,level:Gt,organization_id:Ze,organization_name:ut,state:Sn}]),G(Lt,Sn),B(Lt),b(`${Qt}?id=${Ie.id}`),l(Ee=>({...Ee,isDeployedAppsModalOpen:!1})),n()},J=d.useCallback(()=>{n()},[n]),re=d.useCallback(Ie=>{Ie.stopPropagation()},[]),{isConnected:xe,checkGitHubConnection:ae,setIsConnected:Fe}=Du(),{user:se,signOut:_e,session:Re}=os(),[Se,Ne]=d.useState(!1),ge=async()=>{if(Ne(!0),P(Ie=>Ie.filter(nt=>nt.id==="home")),Fe(!1),B("home"),q)try{window?.ReactNativeWebView?.postMessage(JSON.stringify({type:"LOGOUT_EVENT",timestamp:new Date().toISOString()}))}catch{}await _e().then(()=>{Ne(!1)})},Ce=()=>{if(q){const nt=`${th.appUrl}?state=mobile_app`;zi("OPEN_GITHUB_CONNECT",{url:nt});return}const Ie=th.appUrl;window.open(Ie,"_blank")},$e=()=>{n(),f.open()},dt=()=>{n(),m.open({initialTab:"account"})},Me=()=>{l(Ie=>({...Ie,isLanguageBottomSheetOpen:!0}))};d.useEffect(()=>{Re&&ae()},[Re]),d.useEffect(()=>{e||l(Ie=>({...Ie,isMenuOpen:!1}))},[e]),d.useEffect(()=>{const Ie=()=>{l(nt=>({...nt,isShowcaseModalOpen:!0}))};return window.addEventListener("openShowcaseModal",Ie),()=>{window.removeEventListener("openShowcaseModal",Ie)}},[]);const we=()=>{l(Ie=>({...Ie,contextMenuState:{isOpen:!1,job:null}}))},Te=()=>{l(Ie=>({...Ie,renameModalState:{isOpen:!1,job:null}}))},ze=()=>{l(Ie=>({...Ie,deleteModalState:{isOpen:!1,job:null}}))},_t=()=>{l(Ie=>({...Ie,moveToProjectModalState:{isOpen:!1,job:null}}))},Bt=async Ie=>{o.moveToProjectModalState.job&&(v.success(c("recentTasks.moveToProject.success","Task moved successfully")),_t(),M())},qe=Ie=>Ie&&(Ie.organization_id||Ie.payload?.organization_id)||null,[Ae]=QP(),Le=async()=>{if(o.deleteModalState.job)try{const Ie=await Ae({jobId:o.deleteModalState.job.id,deletedBy:se?.id||""}).unwrap();Ie?.success?(v.success(Ie?.message||"Task Deleted successfully"),M(),H(vp.JOB_REMOVED,{jobId:o.deleteModalState.job.id,deletedBy:se?.id||""})):v.error(Ie?.message||"Unable to delete this task.")}catch(Ie){v.error(Ie?.data?.message||Ie?.message||"Failed to Delete the job. Please try again.")}finally{ze()}},[Ut]=XP(),tt=async Ie=>{const nt=o.renameModalState.job;if(nt){if(nt.id)try{await Ut({job_id:nt.id,title:Ie}).unwrap(),await M();const We=$(nt.id);P(Lt=>Lt.map(pt=>pt.id===We?.id?{...pt,tabHeading:Ie}:pt)),v.success("Renamed Successfully."),H(vp.JOB_NAME_UPDATED,{jobId:nt.id,newName:Ie})}catch{v.error("Renamed Failed.")}Te()}};d.useEffect(()=>{if(!q)return;const Ie=async nt=>{try{const We=typeof nt.data=="string"?JSON.parse(nt.data):nt.data;if(We.type==="RENAME_TASK_RESPONSE"&&We.jobId&&We.newName)try{await Ut({job_id:We.jobId,title:We.newName}).unwrap(),await M();const Lt=$(We.jobId);Lt&&P(pt=>pt.map(ft=>ft.id===Lt.id?{...ft,tabHeading:We.newName}:ft)),v.success("Renamed Successfully."),H(vp.JOB_NAME_UPDATED,{jobId:We.jobId,newName:We.newName})}catch{v.error("Rename Failed.")}if(We.type==="DELETE_TASK_RESPONSE"&&We.jobId&&We.confirmed)try{const Lt=await Ae({jobId:We.jobId,deletedBy:se?.id||""}).unwrap();Lt?.success?(v.success(Lt?.message||"Task Deleted successfully"),M(),H(vp.JOB_REMOVED,{jobId:We.jobId,deletedBy:se?.id||""})):v.error(Lt?.message||"Unable to delete this task.")}catch(Lt){v.error(Lt?.data?.message||Lt?.message||"Failed to Delete the job. Please try again.")}}catch{}};return window.addEventListener("message",Ie),document.addEventListener("message",Ie),()=>{window.removeEventListener("message",Ie),document.removeEventListener("message",Ie)}},[q,Ut,Ae,M,$,P,v,se?.id]);const xt=Ie=>{Dy(Ie)||(p.current=!1,u.current=setTimeout(()=>{p.current=!0,navigator.vibrate&&navigator.vibrate(50),l(nt=>({...nt,contextMenuState:{isOpen:!0,job:Ie}}))},500))},St=()=>{u.current&&(clearTimeout(u.current),u.current=null)},It=Ie=>{if(p.current){p.current=!1;return}ee(Ie)},kt=Ie=>{const nt=o.contextMenuState.job;if(nt)switch(we(),Ie){case"rename":if(q){zi("RENAME_TASK",{jobId:nt.id,currentName:nt.title||nt.payload?.original_task||nt.payload?.task||""});return}l(We=>({...We,renameModalState:{isOpen:!0,job:nt}}));break;case"moveToProject":if(q){zi("MOVE_TO_PROJECT",{jobId:nt.id,taskName:nt.title||nt.payload?.original_task||nt.payload?.task||""});return}l(We=>({...We,moveToProjectModalState:{isOpen:!0,job:nt}}));break;case"preview":break;case"share":break;case"delete":if(q){zi("DELETE_TASK",{jobId:nt.id,taskName:nt.title||nt.payload?.original_task||nt.payload?.task||""});return}l(We=>({...We,deleteModalState:{isOpen:!0,job:nt}}));break}},Ot=()=>{const Ie=o.deleteModalState.job?.id,nt=!!Ie&&w?.some(Tt=>Tt?.payload?.forked_from===Ie),Lt=o.deleteModalState.job?.payload?.forked_from,pt=Lt?w?.find(Tt=>Tt.id===Lt):null,ft=!!(Lt&&pt);return t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-sm md:text-base font-['Inter'] font-medium leading-5 md:leading-6 break-words",children:[t.jsx("span",{className:"text-white opacity-60 font-['Inter']",children:"Are you sure you want to delete "}),t.jsxs("span",{className:"text-[#80FFF9] font-['Inter']",children:['"',o.deleteModalState.job?.title,'"']}),t.jsx("span",{className:"text-white opacity-60 font-['Inter']",children:"? This action cannot be undone."})]}),nt&&!ft&&t.jsxs("div",{className:"flex flex-col w-full rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Sp,{className:"p-1",width:24,height:24}),t.jsx("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:"This task has been forked. Deleting it won't affect the forked versions, but you'll lose the original context."})]}),ft&&t.jsxs("div",{className:"flex flex-col w-full rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Sp,{className:"p-1",width:24,height:24}),t.jsxs("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:["This is a forked task continuing from"," ",t.jsxs("span",{className:"text-white font-['Inter']",children:['"',pt.title||pt.payload?.original_task||pt.payload?.task,'"']}),". Deleting it won't affect the parent task."]})]})]})};return t.jsxs(t.Fragment,{children:[t.jsx(Kn,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(fe.div,{className:"fixed inset-0 z-[999] lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:J},"mobile-sidebar-backdrop"),t.jsxs(fe.div,{className:"fixed top-0 left-0 z-[999] flex h-full w-[305px] backdrop-blur-[20px] flex-col overflow-hidden border-r border-[#272729] bg-[#1D1E1FCC] lg:hidden",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"tween",duration:.3,ease:"easeInOut"},onClick:re,onAnimationStart:()=>{try{window.dispatchEvent(new Event("close-workspace-switcher"))}catch{}},children:[t.jsxs("div",{className:"relative flex items-center justify-between w-full h-[64px] p-4",children:[t.jsx("div",{className:"flex items-center",children:t.jsx("img",{onClick:()=>{i(s.find(Ie=>Ie.id==="home")),n()},src:dSe,alt:"Logo",className:" h-[24px] w-[110px]"})}),t.jsx("button",{type:"button",title:"Close Sidebar",onClick:n,className:"p-1 rounded-[8px] bg-[#FFFFFF0A] w-[32px] h-[32px] flex justify-center items-center",children:t.jsx(gme,{className:"text-[#999999] w-[16px] stroke-[3]"})})]}),t.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[t.jsx("div",{className:k("flex cursor-pointer items-center justify-between px-4 py-3 rounded-[8px]"),onClick:()=>{i(s.find(Ie=>Ie.id==="home")),n()},children:t.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[t.jsx("div",{className:"w-[24px] h-[24px] flex items-center justify-center rounded-full",style:{background:"linear-gradient(149.04deg, #00FF66 -6.51%, #62ECFE 117.45%)"},children:t.jsx(ma,{className:"w-[18px] h-[18px] text-black"})}),t.jsx("span",{className:k("truncate font-medium bg-gradient-to-br from-[#00FF66] to-[#62ECFE] bg-clip-text text-transparent",r==="home"?"text-[#80fff9]/90":"text-[#80fff9]/70"),children:c("sidebar.newTask")})]})}),se&&t.jsx("div",{className:k("flex cursor-pointer items-center opacity-50 hover:opacity-100 transition-all duration-150 ease-in-out justify-between px-4 py-3 rounded-[8px]"),onClick:()=>{n(),l(Ie=>({...Ie,isDeployedAppsModalOpen:!0}))},children:t.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(cSe,{color:"#E6E6E6",size:24})}),t.jsx("span",{className:k("truncate text-[#E6E6E6] font-medium"),children:c("sidebar.deployedApps")})]})}),se&&t.jsx("div",{className:k("flex cursor-pointer items-center opacity-50 hover:opacity-100 transition-all duration-150 ease-in-out justify-between px-4 py-3 rounded-[8px]"),onClick:()=>{n(),l(Ie=>({...Ie,isShowcaseModalOpen:!0}))},children:t.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[t.jsx(pC,{color:"#E6E6E6",size:24,className:""}),t.jsx("span",{className:k("truncate text-[#E6E6E6] font-medium"),children:c("sidebar.showcase")})]})}),t.jsxs("div",{className:"",children:[s.length>2&&t.jsx("div",{className:"p-4",children:t.jsx("span",{className:"text-sm text-[#797B80] font-brockmann opacity-65",children:c("sidebar.activeTasks")})}),t.jsx("div",{className:"flex flex-col px-4 text-[#CCCCCC] max-h-[40dvh] overflow-y-scroll",children:s.map(Ie=>{if(localStorage.getItem("embeddedTaskTabId")===Ie.id||Ie.path==="/not-defined")return null;const nt=Ie.id==="home",We=Ie.id===r;return nt?null:t.jsxs("div",{className:k("cursor-pointer text-[14px] py-[4px] hover:bg-[#1E1E1F]/50 flex items-center justify-between group",We?"bg-[#1E1E1F]":"hover:bg-[#1E1E1F]/50"),onClick:()=>{i(Ie),n()},children:[t.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[We&&t.jsx("span",{className:"h-2 w-2 flex-shrink-0 rounded-full bg-[#00CCAF]"}),t.jsx("span",{className:k("truncate text-sm font-medium",We?"text-white":"text-[#B3B3B3]"),children:nt?"Home":Ie.tabHeading?Ie.tabHeading:t.jsx("span",{className:"opacity-60",children:"Untitled"})})]}),!nt&&t.jsx("button",{type:"button",title:"Close Tab",onClick:Lt=>{Lt.stopPropagation(),a(Lt,Ie)},className:"p-1 rounded-full hover:bg-destructive/10",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#7B7B80]",children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]},Ie.id)})})]}),t.jsxs("div",{className:"px-4 pt-[12px] pb-0 flex-1 min-h-0 flex flex-col overflow-hidden",children:[t.jsx("span",{className:"text-sm text-[#797B80] font-brockmann opacity-65 flex-shrink-0 pb-[10px]",children:c("sidebar.recentTasks")}),t.jsx("div",{className:"flex flex-col pb-[140px] text-[#CCCCCC] flex-1 overflow-y-auto hide-scrollbar",children:I?Array(5).fill(0).map((Ie,nt)=>t.jsxs("div",{className:"border-b border-[#272729]/50 px-3 py-2",children:[t.jsx("div",{className:"mb-2 h-4 w-24 animate-pulse rounded bg-[#272729]"}),t.jsx("div",{className:"h-4 w-full animate-pulse rounded bg-[#272729]"})]},`loading-${nt}`)):L.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[t.jsx("div",{className:"mb-2 text-sm text-[#8F8F98]",children:"No tasks yet"}),t.jsx("div",{className:"max-w-[200px] text-xs text-[#92929A]",children:"Create your first task to start building"})]}):t.jsxs(t.Fragment,{children:[L.map(Ie=>t.jsx("div",{className:k(`cursor-pointer py-[8px] flex items-center justify-between group select-none 
                                `,Dy(Ie)?"opacity-50":""),onClick:()=>It(Ie),onTouchStart:()=>xt(Ie),onTouchEnd:St,onTouchCancel:St,onMouseDown:()=>xt(Ie),onMouseUp:St,onMouseLeave:St,onContextMenu:nt=>{nt.preventDefault(),Dy(Ie)||l(We=>({...We,contextMenuState:{isOpen:!0,job:Ie}}))},children:t.jsx("div",{className:"flex-1 min-w-0",children:ce(Ie)})},Ie.id)),C&&t.jsx("button",{onClick:O,disabled:F,className:"w-full py-3 mt-2 text-sm text-[#80FFF9] hover:bg-[#272729] rounded-lg transition-colors disabled:opacity-50",children:F?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("span",{className:"w-4 h-4 border-2 border-[#80FFF9] border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Load More"})]})})]})]}),se&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 w-full p-2",children:t.jsxs("div",{className:"w-full rounded-[12px] flex flex-col  border border-[#FFFFFF1F] bg-[#1D1D1E] ",children:[t.jsxs("div",{className:"flex items-center justify-between p-2",children:[t.jsxs("div",{className:"flex items-center justify-center gap-[10px]",children:[t.jsx("img",{alt:"",src:pSe}),t.jsx("span",{className:"text-[#F3CA5F] font-semibold ",children:typeof te=="number"?te.toFixed(2):te})]}),Q&&t.jsxs("button",{type:"button",onClick:me,title:c("sidebar.buyCredits"),style:he,className:k("relative flex max-md:min-h-[36px] justify-center max-md:min-w-[36px] items-center p-[8px] gap-1 rounded-full font-[600] text-[14px] text-[#0F0F10] pl-[12px]"),children:[t.jsx("span",{className:"tracking-[-0.2px]md:hidden",children:c("sidebar.buy")}),t.jsx("img",{src:uSe,alt:"right arrow",className:"w-5 h-5"}),t.jsx("span",{className:"tracking-[-0.2px] max-md:hidden",children:c("sidebar.buyCredits")})]})]}),t.jsxs("div",{onClick:Ie=>{Ie.stopPropagation(),l(nt=>({...nt,isMenuOpen:!nt.isMenuOpen}))},className:k("flex items-center justify-between p-2 bg-[#FFFFFF0F] rounded-b-[12px]"),children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(DW,{isLoggingOut:Se,user:se,handleGitHubConfigClick:Ce,handleLogout:ge,isGitHubConnected:xe,isOpen:o.isMenuOpen,onOpenChange:Ie=>l(nt=>({...nt,isMenuOpen:Ie})),handleUniversalKeyClick:$e,openAccountSettingsModal:dt,openLanguageBottomSheet:Me,isMobileApp:q,popoverClassName:"bg-[#18181a] border-[#1f1f1f] mt-4 mb-[11px] ml-2 p-0 rounded-[16px] shadow-md"}),t.jsxs("div",{className:k("flex flex-col items-start rounded-md cursor-pointer transition-all duration-300 ease-in-out"),children:[t.jsx("span",{className:"text-[15px] font-medium",children:se?.user_metadata?.name}),t.jsx("span",{className:"text-[13px] text-[#797B80]",children:se?.email})]})]}),t.jsx("div",{className:"bg-[#FFFFFF14] w-8 h-8 flex items-center justify-center rounded-[8px]",children:t.jsx(Ur,{className:k("transition-transform text-white opacity-60 duration-300",o.isMenuOpen&&"rotate-180")})})]})]})})]},"mobile-sidebar-panel")]})}),t.jsx(aSe,{isOpen:o.isDeployedAppsModalOpen,onClose:()=>l(Ie=>({...Ie,isDeployedAppsModalOpen:!1})),handleJobClick:ee,organizationId:x()?void 0:h}),t.jsx(oSe,{isOpen:o.isShowcaseModalOpen,onClose:()=>l(Ie=>({...Ie,isShowcaseModalOpen:!1}))}),t.jsx(lSe,{isOpen:o.contextMenuState.isOpen,onClose:we,onAction:kt,taskName:o.contextMenuState.job?.title||o.contextMenuState.job?.payload?.original_task||o.contextMenuState.job?.payload?.task||"Untitled",showMoveToProject:W,showDelete:W}),t.jsx("div",{style:{zIndex:9999},children:t.jsx(cV,{isOpen:o.renameModalState.isOpen,onClose:Te,onSave:tt,currentName:o.renameModalState.job?.title||""})}),t.jsx(dV,{isOpen:o.deleteModalState.isOpen,onClose:ze,onConfirm:Le,title:"Delete this task?",bodyContent:Ot(),primaryButton:{text:"Confirm",variant:"danger"},secondaryButton:{text:"Nevermind",variant:"secondary"}}),t.jsx(fV,{isOpen:o.moveToProjectModalState.isOpen,onClose:_t,onSave:Bt,jobId:o.moveToProjectModalState.job?.id||"",jobName:o.moveToProjectModalState.job?.title||o.moveToProjectModalState.job?.payload?.original_task||o.moveToProjectModalState.job?.payload?.task||"",currentProjectId:h,jobOrganizationId:qe(o.moveToProjectModalState.job)}),t.jsx(TW,{open:o.isLanguageBottomSheetOpen,onOpenChange:Ie=>l(nt=>({...nt,isLanguageBottomSheetOpen:Ie}))})]})},My={minWidth:60,layout:{homeTabWidth:100,plusButtonWidth:50}};function mSe(e,n,s="home",r={}){const[i,a]=d.useState(170),o={minWidth:r.minWidth??My.minWidth,layout:{homeTabWidth:r.layout?.homeTabWidth??My.layout.homeTabWidth,plusButtonWidth:r.layout?.plusButtonWidth??My.layout.plusButtonWidth}},l=d.useCallback(()=>{if(!n.current)return;const u=e.filter(y=>y.id!=="home"&&y.path!=="/not-defined"&&localStorage.getItem("embeddedTaskTabId")!==y.id).length,p=n.current.clientWidth,m=s!=="home"?o.layout.plusButtonWidth:0,h=12,x=93,g=u*8,v=u,b=p-x-m-h-g-v;if(u>0){const y=Math.floor(b/u);a(Math.max(40,y))}},[e,n,s,o]);return d.useEffect(()=>{l();const c=new ResizeObserver(()=>{l()});return n.current&&c.observe(n.current),()=>{c.disconnect()}},[l]),{tabWidth:i}}function hSe({onSwipeRight:e,onSwipeLeft:n,edgeThreshold:s=30,minSwipeDistance:r=50,minVelocity:i=200,enabled:a=!0}={}){const o=d.useRef(null),l=d.useRef(null),c=d.useRef(null),u=d.useRef(null),p=d.useRef(!1),f=d.useRef(!1),m=d.useCallback(g=>{if(!a)return;const v=g.touches[0];o.current=v.clientX,l.current=v.clientY,u.current=v.clientX,c.current=Date.now(),p.current=v.clientX<=s,f.current=!0},[a,s]),h=d.useCallback(g=>{if(!a||o.current===null||l.current===null)return;const v=g.touches[0];u.current=v.clientX;const b=Math.abs(v.clientX-o.current),y=Math.abs(v.clientY-l.current);y>b&&y>10&&(f.current=!1)},[a]),x=d.useCallback(()=>{if(!a||o.current===null||u.current===null||c.current===null||!f.current){o.current=null,l.current=null,u.current=null,c.current=null,p.current=!1,f.current=!1;return}const g=u.current-o.current,v=Date.now()-c.current,b=Math.abs(g)/(v/1e3);p.current&&g>=r&&b>=i&&e&&e(),g<=-r&&b>=i&&n&&n(),o.current=null,l.current=null,u.current=null,c.current=null,p.current=!1,f.current=!1},[a,r,i,e,n]);d.useEffect(()=>{if(a)return document.addEventListener("touchstart",m,{passive:!0}),document.addEventListener("touchmove",h,{passive:!0}),document.addEventListener("touchend",x),()=>{document.removeEventListener("touchstart",m),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",x)}},[a,m,h,x])}const xSe=({size:e=13,color:n="currentColor",className:s=""})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 13 13",fill:"none",className:s,children:t.jsx("path",{opacity:"0.8",d:"M6.59375 0.254883C7.05596 0.301849 7.41699 0.692389 7.41699 1.16699V5.58301H11.833C12.3393 5.58306 12.7499 5.99373 12.75 6.5L12.7451 6.59375C12.6981 7.05595 12.3076 7.41698 11.833 7.41699H7.41699V11.833C7.41693 12.3076 7.05597 12.6981 6.59375 12.7451L6.5 12.75C5.99374 12.7499 5.58307 12.3393 5.58301 11.833V7.41699H1.16699C0.660749 7.41697 0.250019 7.00624 0.25 6.5L0.254883 6.40625C0.301867 5.94402 0.692365 5.58306 1.16699 5.58301H5.58301V1.16699C5.58301 0.660735 5.99374 0.250006 6.5 0.25L6.59375 0.254883Z",fill:n,stroke:n,strokeWidth:"0.5"})}),gSe=K.menuIcons.menu,bSe=X8([e=>e.tabs.tabStates],e=>{const n={};return Object.entries(e).forEach(([s,r])=>{r.pendingMessage&&(n[s]=r.pendingMessage)}),n}),MW=et.createContext(null);function hi(){const e=et.useContext(MW);if(!e)throw new Error("useTabState must be used within a TabProvider");return e}function ySe({children:e}){const n=zf(),s=jr(A=>A.tabs.tabStates),r=jr(bSe),i=jr(RX),a=jr(A=>A.tabs.tabs),o=jr(P5),l=jr(DX),c=jr(A=>A.tabs.isActive),{guardAction:u}=T3(),[p,f]=d.useState(!1),[m,h]=d.useState(null),x=d.useCallback(()=>{n(jL())},[n]),g=d.useMemo(()=>({activeTab:o,tabs:l,isActive:c}),[o,l,c]),v=d.useCallback(A=>{n(wL(A))},[n]),b=d.useCallback(A=>{const D=typeof A=="function"?Qi.getState().tabs.tabs:l,O=typeof A=="function"?A(D):A;n(CL(O))},[n,l]),y=d.useCallback(()=>l,[l]),w=d.useCallback((A,D)=>{n(yX({tabId:A,state:D}))},[n]),_=d.useCallback(A=>s[A]||{},[s]),N=d.useCallback(A=>a.find(D=>D.state?.jobId===A),[a]),j=d.useCallback(A=>{n(vX(A))},[n]),C=d.useCallback((A,D,O,M,L)=>{n(wX({tabId:A,messageId:D,content:O,base64_image_list:M,artifacts:L}))},[n]),S=d.useCallback(()=>i,[i]),F=d.useCallback((A,D)=>{if(D){const O=r[A];if(!O||O.content!==D)return!1}return n(CX({tabId:A,content:D})),!0},[n,r]),E=d.useCallback((A,D)=>{n(_L({tabId:A,content:D}))},[n]),I=d.useCallback(A=>r[A],[r]),T=d.useMemo(()=>({state:g,activeTab:o,setActiveTab:v,setTabs:b,updateTabState:w,getTabState:_,setPendingMessage:C,clearPendingMessage:F,getPendingMessage:I,getActiveTab:S,removeTab:j,getTabByJobId:N,removePendingMessage:E,getAllTabs:y,isActive:c,cleanupTabStates:x}),[g,o,c,v,b,w,_,C,F,I,j,S,N,E,y,x]);return d.useEffect(()=>{o&&l.length>0&&(l.some(D=>D.id===o)?l.forEach(D=>{const O=D.id===o;_(D.id).isActive!==O&&w(D.id,{isActive:O})}):setTimeout(()=>{!l.some(M=>M.id===o)&&u(()=>v("home"),{modalTitle:"You have unsaved changes",modalDescription:"The current tab is no longer available. Switching to home will discard your unsaved visual edit changes.",confirmText:"Switch to Home",showModal:M=>{h(M),f(!0)}})},100)),x()},[o,l,v,_,w,x,u]),t.jsxs(MW.Provider,{value:T,children:[e,p&&m&&t.jsx(x0,{isOpen:p,onClose:()=>f(!1),onConfirm:m.onConfirm,title:m.title,description:m.description,confirmButton:m.confirmButton,cancelButton:m.cancelText})]})}function vSe(){const{state:{activeTab:e,tabs:n}}=hi(),{getCurrentOrganizationId:s}=hs(),{totalBannerHeight:r}=ka(),i=d.useMemo(()=>{const a=s();return n.filter(o=>o.id==="home"||o.state?.isAdminModeJob?!0:a?o.organization_id===a&&o.level==="organization":!o.organization_id&&(!o.level||o.level==="user"))},[n,s]);return t.jsx(t.Fragment,{children:i.map(a=>t.jsx("div",{className:k("absolute inset-0",{hidden:a.id!==e}),style:{top:`${56+r}px`},children:t.jsx(TEe,{path:a.path,tabId:a.id})},a.id))})}function wSe(){const{state:{activeTab:e,tabs:n},setActiveTab:s,setTabs:r,getTabState:i}=hi(),a=Ea(),o=Mi(),{getCurrentOrganizationId:l}=hs(),c=d.useRef(null),u=d.useRef(new Map),[p,f]=d.useState(!1),m=d.useMemo(()=>{const M=l();return n.filter(P=>P.id==="home"||P.state?.isAdminModeJob?!0:M?P.organization_id===M&&P.level==="organization":!P.organization_id&&(!P.level||P.level==="user"))},[n,l]),h=(M,L=18)=>{const P=m.find(B=>B.id===M)?.title||"";return P.length>L?P.substring(0,L)+"...":P},{tabWidth:x}=mSe(m,c,e),{setActiveTabId:g,checkDeployStatus:v,handleTabClosed:b}=AEe(),y=d.useRef({tabId:"",jobId:void 0}),{isMobile:w}=ts(),_=Sa();hSe({onSwipeRight:()=>{p||f(!0)},onSwipeLeft:()=>{p&&f(!1)},edgeThreshold:30,minSwipeDistance:50,enabled:w||_});const{guardAction:N}=T3(),[j,C]=d.useState(!1),[S,F]=d.useState(null);d.useEffect(()=>{const M=n.find(L=>L.id===e);if(M){const L=l();let P=M.path;M.path==="/chat"?P=L?`/workspace/${L}/chat`:"/chat":M.path==="/create-agent"||M.path==="/create-subagent"?M.level==="organization"&&M.organization_id&&(P=`/workspace/${M.organization_id}${M.path}`):M.id==="home"&&o.pathname==="/home"&&(P="/home"),a(P)}},[e,a,n,l,o.pathname]);const E=d.useCallback(M=>{M.id!==e&&N(()=>{Am(Fm.TAB_SWITCHED,{tabId:M.id,jobId:M.state?.jobId,containerId:M.state?.containerId,path:M.path,title:M.title,reason:"user_clicked"}),s(M.id),g(M.id),y.current={tabId:"",jobId:void 0},M.state?.jobId&&!M.state?.showCase&&M.tabType!=="ShowCasePreview"&&setTimeout(()=>{v(M.state.jobId,!1)},100)},{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:L=>{F(L),C(!0)}})},[s,e,g,v,N]),I=d.useCallback((M,L)=>{M.stopPropagation(),N(()=>{const P=n.filter(B=>B.id!==L.id);if(r(P),Am(Fm.TAB_CLOSED,{tabId:L.id,jobId:L.state?.jobId,containerId:L.state?.containerId,path:L.path,title:L.title,isActive:L.id===e,remainingTabCount:P.length}),L.state?.jobId,b(L.id),L.id===e&&P.length>0){const B=P.filter(G=>G.path!=="/not-defined");if(B.length>0){const G=B[B.length-1];s(G.id),y.current={tabId:"",jobId:void 0},Am(Fm.TAB_SWITCHED,{tabId:G.id,jobId:G.state?.jobId,containerId:G.state?.containerId,path:G.path,title:G.title,reason:"active_tab_closed"})}else if(P.length>0){const G=P[P.length-1];s(G.id),y.current={tabId:"",jobId:void 0},Am(Fm.TAB_SWITCHED,{tabId:G.id,jobId:G.state?.jobId,containerId:G.state?.containerId,path:G.path,title:G.title,reason:"active_tab_closed"})}}},{modalTitle:"You have unsaved changes",modalDescription:"Closing this tab will discard your unsaved visual edit changes.",confirmText:"Close Tab",showModal:P=>{F(P),C(!0)}})},[e,s,r,a,n,b,N]),T=d.useCallback(()=>{C(!1)},[]),A=d.useCallback(()=>{N(()=>{s("home"),y.current={tabId:"",jobId:void 0}},{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:M=>{F(M),C(!0)}})},[N,n,s]),D=d.useCallback(()=>{if(e!=="home"){const M=n.find(L=>L.id===e);if(M){const L=M.tabType==="ShowCasePreview",P=n.filter(B=>B.id!==e);r(P),Am(Fm.TAB_CLOSED,{tabId:M.id,jobId:M.state?.jobId,containerId:M.state?.containerId,path:M.path,title:M.title,isActive:!0,remainingTabCount:P.length,reason:"back_button_clicked"}),M.state?.jobId&&b(M.id),L&&window.dispatchEvent(new CustomEvent("openShowcaseModal"))}}s("home"),y.current={tabId:"",jobId:void 0}},[n,e,r,s,b]);d.useEffect(()=>{const M=m.find(P=>P.id===e),L=n.find(P=>P.id===e);if(!M&&e!=="home"){if(L?.state?.isAdminModeJob)return;N(()=>s("home"),{modalTitle:"You have unsaved changes",modalDescription:"Switching workspaces will discard your unsaved visual edit changes.",confirmText:"Switch Workspace",showModal:B=>{F(B),C(!0)}})}},[m,e,s,n,N]),d.useEffect(()=>{const M=L=>{if((L.metaKey||L.ctrlKey)&&!L.altKey&&!L.shiftKey){const P=parseInt(L.key),B=m.filter(G=>G.path!=="/not-defined"&&localStorage.getItem("embeddedTaskTabId")!==G.id);if(!isNaN(P)&&P>=0&&P<=9){if(L.preventDefault(),P===0){const G=m.find($=>$.id==="home");G&&G.id!==e&&N(()=>s(G.id),{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:$=>{F($),C(!0)}})}else if(P<=B.length){const G=B[P-1];G&&G.id!==e&&N(()=>s(G.id),{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:$=>{F($),C(!0)}})}}}};return window.addEventListener("keydown",M),()=>{window.removeEventListener("keydown",M)}},[m,s,e,N]);const O=d.useMemo(()=>m.map((M,L)=>{const P=M.id===e,B=L<m.length-1&&m[L+1].id===e,G=!P&&!B,$=L===m.length-1,te=i(M.id),U=te?.agentStatus,oe=te?.subagentName,Y=te?.isSubagentActive;return t.jsxs(Rn.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:"easeOut",layout:{duration:.2,ease:[.25,.1,.25,1]}},className:"flex items-center",children:[t.jsx(REe,{tab:M,isActive:P,tabWidth:x,onTabClick:E,onTabClose:I,tabRef:W=>{W?u.current.set(M.id,W):u.current.delete(M.id)},agentStatus:U,subagentName:oe,isSubagentActive:Y}),!$&&t.jsx(Rn.div,{layout:!0,transition:{layout:{duration:.2,ease:[.25,.1,.25,1]}},className:k("h-5 w-[1px] bg-white/20 flex-shrink-0 mb-1 self-center transition-opacity duration-200",!G&&"opacity-0")})]},M.id)}),[m,e,x,E,I,i]);return t.jsxs(t.Fragment,{children:[w&&t.jsx(fSe,{isOpen:p,onClose:()=>f(!1),tabs:m,activeTab:e,onTabClick:E,onTabClose:I,onNewTab:A}),t.jsxs("div",{className:"relative flex items-center w-full max-md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[o.pathname==="/chat"||o.pathname.includes("/workspace/")&&o.pathname.endsWith("/chat")?t.jsx("button",{type:"button",title:"Back to Home",onClick:D,className:"z-10 bg-[#FFFFFF14] flex-shrink-0 h-9 w-9 flex items-center justify-center rounded-full hover:bg-secondary/50 md:hidden",children:t.jsx(Ur,{className:"w-5 h-5 text-white rotate-90"})}):t.jsx("button",{type:"button",title:"Show Tabs",onClick:()=>f(!0),className:"z-10 bg-[#FFFFFF14] flex-shrink-0 h-9 w-9 flex items-center justify-center rounded-full hover:bg-secondary/50 md:hidden",children:t.jsx("img",{src:gSe,alt:"Menu",className:"w-5 h-5"})}),e!=="home"&&t.jsx("div",{className:"inset-0 flex items-center justify-center gap-1 pointer-events-none md:hidden",children:t.jsx("div",{className:"pb-1 text-[15px] font-medium capitalize text-white/50 text-center",children:h(e)})})]}),t.jsx("div",{ref:c,className:"relative items-center flex-1 hidden space-x-0 overflow-hidden md:flex px-[6px] pt-[3px]",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:t.jsxs(Vce,{children:[t.jsx(xa,{mode:"popLayout",children:O}),e!=="home"&&t.jsx(Rn.div,{layout:!0,"data-testid":Nr.newTabButton,className:"flex items-center cursor-pointer ml-1 mb-1",onClick:A,transition:{duration:.2,ease:[.25,.1,.25,1]},children:t.jsx("div",{className:"ml-1 flex items-center justify-center w-9 h-9 rounded-md transition-all duration-200 hover:bg-white/10 text-[#7B7B80] hover:text-white",children:t.jsx(xSe,{})})})]})})]}),t.jsx(x0,{isOpen:j,onClose:T,onConfirm:()=>{S?.onConfirm?.(),T()},onCancel:T,title:S?.title||"You have unsaved changes",description:S?.description||"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:S?.confirmButton||{text:"Confirm",variant:"default"},cancelButton:S?.cancelButton||{text:"Cancel",variant:"outline"},includeNavBarOffset:!0})]})}const CSe=(e,n,s)=>{const r=d.useRef(null),{data:i=[],isLoading:a}=HP({organization_id:n??null},{skip:!e}),{data:o=[],isLoading:l}=V9({organization_id:n},{skip:!e}),c=i.length,u=o.length;d.useEffect(()=>{if(!e||a||l)return;const p=r.current;(!p||p.userId!==e||p.jobCount!==c||p.deploymentCount!==u||p.tier!==s||p.orgId!==n)&&(jse(e,c,u,s,n),r.current={userId:e,jobCount:c,deploymentCount:u,tier:s,orgId:n})},[e,c,u,s,n,a,l])},_Se=({children:e,className:n="",containerClassName:s="",dotConfig:r})=>t.jsx("div",{className:`relative h-full md:min-h-screen w-full ${n}`,children:t.jsx("div",{className:`relative h-full md:min-h-screen z-10 ${s}`,children:e})}),jSe=K.common.copperCoin;function NSe({showBuyButton:e=!1}){const{credits:n,loading:s,error:r,refreshCredits:i}=xs(),{isTrulyFreeUser:a,pro:o,isCurrentWorkspaceOwner:l}=gi(),{isMobile:c}=ts(),u=Mi(),p=d.useMemo(()=>u.pathname.includes("chat"),[u.pathname]),f=c&&p&&n<5&&!e||n>5&&o&&p,m=a()&&c,[h,x]=d.useState(!1);if(d.useEffect(()=>{x(u.pathname.includes("chat")&&c)},[u,c]),h&&c||m)return null;if(s)return t.jsxs("div",{className:" md:flex items-center bg-[#111111] rounded-full px-4 py-2",children:[t.jsx(tn,{className:"h-4 w-4 mr-2 text-[#F3CA5F] animate-spin"}),t.jsx("span",{className:"text-[#8A8B91] text-sm",children:"Loading..."})]});if(r)return t.jsx("div",{onClick:i,className:" md:flex items-center bg-[#111111] rounded-full px-4 py-2",children:t.jsx("span",{className:"text-sm text-destructive",children:"Error loading credits"})});if(n===null)return null;const g=()=>{i(),H(qn.CREDIT_EVENTS.CREDIT_BALANCE_BUTTON_CLICKED)},v=t.jsxs("div",{onClick:l?g:void 0,className:k("flex items-center space-x-2 bg-[#F3CA5F]/[.10] rounded-full px-[10px] h-8 transition-colors",l?"cursor-pointer hover:bg-[#F3CA5F]/[.20]":"cursor-default",f?"max-md:mr-[40px]":""),children:[t.jsx("img",{alt:"Balance Coin",src:jSe,className:"w-5 h-5"}),t.jsx("div",{className:"flex items-center space-x-1",children:t.jsx("span",{className:"text-[#F3CA5F] text-sm font-medium",children:n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})})]});return l?t.jsx("div",{className:"relative",children:t.jsxs(Gc,{children:[t.jsx(qc,{className:" md:flex",asChild:!0,children:v}),t.jsx(td,{className:"w-[350px] p-0 border-[#2E2F34] rounded-xl bg-transparent shadow-xl mt-3",align:"end",children:t.jsx(AW,{})})]})}):t.jsx("div",{className:"relative",children:v})}const FSe=({size:e=20,width:n,height:s,fill:r="#E8E8E6",className:i,onClick:a,style:o})=>{const l=n||e,c=s||e;return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:i,onClick:a,style:o,children:t.jsx("path",{d:"M10 2C11.0505 2 12.091 2.20643 13.0615 2.6084C14.0321 3.01046 14.9144 3.59991 15.6572 4.34277C16.4001 5.08563 16.9895 5.96789 17.3916 6.93848C17.7936 7.90904 18 8.94949 18 10C18 11.0505 17.7936 12.091 17.3916 13.0615C16.9895 14.0321 16.4001 14.9144 15.6572 15.6572C14.9144 16.4001 14.0321 16.9895 13.0615 17.3916C12.091 17.7936 11.0505 18 10 18C8.94949 18 7.90904 17.7936 6.93848 17.3916C5.96789 16.9895 5.08563 16.4001 4.34277 15.6572C3.59991 14.9144 3.01046 14.0321 2.6084 13.0615C2.20643 12.091 2 11.0505 2 10C2 8.94949 2.20643 7.90904 2.6084 6.93848C3.01046 5.96789 3.59991 5.08563 4.34277 4.34277C5.08563 3.59991 5.96789 3.01046 6.93848 2.6084C7.90904 2.20643 8.94949 2 10 2ZM8.38379 13.958C7.8454 13.9578 7.32084 14.1311 6.88867 14.4521C6.58483 14.6781 6.33815 14.9697 6.16406 15.3018C6.57664 15.6004 7.02248 15.8521 7.49512 16.0479C8.28923 16.3768 9.14047 16.5459 10 16.5459C10.8595 16.5459 11.7108 16.3768 12.5049 16.0479C12.9773 15.8522 13.4226 15.6002 13.835 15.3018C13.6616 14.9705 13.4173 14.6788 13.1143 14.4531C12.6817 14.131 12.1555 13.9579 11.6162 13.958H8.38379ZM10 3.4541C9.14047 3.4541 8.28923 3.62325 7.49512 3.95215C6.70095 4.28111 5.97892 4.76326 5.37109 5.37109C4.76326 5.97892 4.28111 6.70095 3.95215 7.49512C3.62325 8.28923 3.4541 9.14047 3.4541 10C3.4541 10.8595 3.62325 11.7108 3.95215 12.5049C4.22415 13.1615 4.60234 13.7676 5.06836 14.3018C5.32216 13.9121 5.64166 13.5661 6.01953 13.2852C6.70283 12.7771 7.53234 12.5037 8.38379 12.5039H11.6162V12.5049C12.4683 12.5047 13.2979 12.7783 13.9814 13.2871C14.3581 13.5676 14.6792 13.9115 14.9326 14.2998C15.398 13.766 15.7761 13.1609 16.0479 12.5049C16.3768 11.7108 16.5459 10.8595 16.5459 10C16.5459 9.14047 16.3768 8.28923 16.0479 7.49512C15.7189 6.70095 15.2367 5.97892 14.6289 5.37109C14.0211 4.76326 13.299 4.28111 12.5049 3.95215C11.7108 3.62325 10.8595 3.4541 10 3.4541ZM10 5.23047C10.8359 5.23047 11.6384 5.56129 12.2295 6.15234C12.8205 6.7434 13.1514 7.54599 13.1514 8.38184C13.1513 9.21747 12.8203 10.0194 12.2295 10.6104C11.6384 11.2014 10.8359 11.5332 10 11.5332C9.16412 11.5332 8.36157 11.2014 7.77051 10.6104C7.17974 10.0194 6.84867 9.21748 6.84863 8.38184C6.84863 7.54598 7.17949 6.7434 7.77051 6.15234C8.36157 5.56129 9.16412 5.23047 10 5.23047ZM10 6.68457C9.54991 6.68457 9.11807 6.86338 8.7998 7.18164C8.48158 7.4999 8.30273 7.93177 8.30273 8.38184C8.30277 8.83188 8.48158 9.2638 8.7998 9.58203C9.11806 9.90024 9.54995 10.0791 10 10.0791C10.4501 10.0791 10.8819 9.90025 11.2002 9.58203C11.5184 9.2638 11.6972 8.83188 11.6973 8.38184C11.6973 7.93178 11.5184 7.4999 11.2002 7.18164C10.8819 6.86338 10.4501 6.68457 10 6.68457Z",fill:r})})};function ESe({isMobile:e=!1,className:n,hideOnCondition:s=!1}){const r=br(o=>o.admin.isAdminMode),i=ba(),a=()=>{i(lie())};return t.jsxs("button",{type:"button",onClick:a,className:k(`${e?"px-2 py-2":"px-3 py-1.5"} text-[13px] rounded-full w-9 h-9 transition-colors font-mono flex items-center justify-center`,s&&"hidden",n),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(63, 243, 200, 0.1) 0%, rgba(63, 243, 200, 0.05) 100%)"},children:[e?r?t.jsx(za,{size:16,color:"url(#adminGradient)",opacity:1}):t.jsx(FSe,{size:16,fill:"url(#adminGradient)"}):t.jsx("span",{style:{background:"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",filter:"drop-shadow(0px 0px 17.94px #00FF6680) drop-shadow(0px 0px 17.94px #62ECFE33)"},children:r?"Admin Mode":"User Mode"}),t.jsx("svg",{width:"0",height:"0",children:t.jsx("defs",{children:t.jsxs("linearGradient",{id:"adminGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[t.jsx("stop",{offset:"0%",style:{stopColor:"#00FF66",stopOpacity:1}}),t.jsx("stop",{offset:"100%",style:{stopColor:"#62ECFE",stopOpacity:1}})]})})})]})}const Ry=K.common.alertFill,Ly=K.common.alertOrange,SSe={info:"bg-[#1BB4CC29] text-[#1BB4CC]",warning:"bg-[#E38F4529] text-[#E38F45]",error:"bg-[#FF808029] text-[#FF8080]",success:"bg-green-600 text-white"},kSe=({level:e,content:n,iconUrl:s,onDismiss:r,dismissible:i=!1,className:a})=>{const o=n.length>30;return t.jsx("div",{id:"alert-banner",className:k("sticky top-0 z-50 relative flex items-center justify-center h-12 md:h-14 text-sm font-medium overflow-hidden",SSe[e],a),children:t.jsxs("div",{className:"relative w-full md:px-4",children:[t.jsxs("div",{className:k("flex items-center gap-1 md:gap-[10px] px-4 md:px-0",o?"md:justify-center md:mx-auto md:max-w-7xl":"justify-center mx-auto max-w-7xl"),children:[t.jsxs("div",{className:k("flex items-center gap-1 md:gap-[10px]",o&&"md:hidden animate-marquee"),children:[e!="info"&&t.jsx("img",{src:e==="error"?Ry:Ly,alt:"Alert",className:"flex-shrink-0 w-5 h-5"}),t.jsx("div",{className:"font-medium whitespace-nowrap tracking-[-0.2px]",children:n})]}),o&&t.jsxs("div",{className:"flex items-center gap-1 md:gap-[10px] md:hidden animate-marquee","aria-hidden":"true",children:[e!="info"&&t.jsx("img",{src:e==="error"?Ry:Ly,alt:"Alert",className:"flex-shrink-0 w-5 h-5"}),t.jsx("div",{className:"font-medium whitespace-nowrap tracking-[-0.2px]",children:n})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-[10px]",children:[e!="info"&&t.jsx("img",{src:e==="error"?Ry:Ly,alt:"Alert",className:"flex-shrink-0 w-5 h-5"}),t.jsx("div",{className:"font-medium text-center tracking-[-0.2px]",children:n})]})]}),i&&r&&t.jsx("button",{onClick:r,className:"absolute z-10 flex-shrink-0 p-1 transition-colors -translate-y-1/2 rounded top-1/2 right-2 md:right-4 hover:bg-black/10","aria-label":"Dismiss alert",children:t.jsx(Ft,{className:"w-4 h-4"})})]})})};function ISe({...e}){return t.jsx(S5,{"data-slot":"sheet",...e})}function KPe({...e}){return t.jsx(F5,{"data-slot":"sheet-close",...e})}function TSe({...e}){return t.jsx(Yh,{"data-slot":"sheet-portal",...e})}function ASe({className:e,...n}){return t.jsx(Ff,{"data-slot":"sheet-overlay",className:k("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...n})}function DSe({className:e,children:n,side:s="right",overlayClassName:r,hideOverlay:i=!1,...a}){return t.jsxs(TSe,{children:[!i&&t.jsx(ASe,{className:r}),t.jsx(Ef,{"data-slot":"sheet-content",className:k("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...a,children:n})]})}function MSe({className:e,...n}){return t.jsx(E5,{"data-slot":"sheet-title",className:k("text-foreground font-semibold",e),...n})}const RW=({size:e=20,className:n,color:s})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 12 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[t.jsx("path",{d:"M6.11491 0.00488281C6.37772 0.0285338 6.60485 0.136754 6.79688 0.328776C6.98522 0.517126 7.09152 0.73919 7.11751 0.99528C7.12188 1.0375 7.12483 1.08058 7.12484 1.12467V1.65039C8.12479 1.90089 8.93719 2.42889 9.56217 3.23486C10.1872 4.04086 10.4997 4.96266 10.4997 6.00016V11.25H11.9995V12.7498H0V11.25H1.49984V6.00016C1.49984 4.96272 1.81241 4.04083 2.43734 3.23486C3.06226 2.42896 3.87484 1.90093 4.87467 1.65039V1.12467C4.87468 1.08599 4.87619 1.04799 4.87956 1.01074C4.90272 0.748136 5.01057 0.520907 5.20264 0.328776C5.39478 0.136626 5.62238 0.0284414 5.88542 0.00488281C5.92285 0.00143509 5.96128 6.23086e-05 6.00016 0L6.11491 0.00488281Z",fill:s}),t.jsx("path",{d:"M7.59814 14.167C7.59811 14.5794 7.45131 14.9326 7.15788 15.2266C6.86444 15.5205 6.5112 15.6673 6.09831 15.6668C6.04674 15.6668 5.99583 15.6649 5.94613 15.6603C5.59775 15.6286 5.29478 15.4839 5.03792 15.2266C4.7446 14.9326 4.59769 14.5793 4.59766 14.167H7.59814Z",fill:s,stroke:s,strokeWidth:"0.833333"})]}),RSe=({squareSize:e=4,gridGap:n=6,flickerChance:s=.3,color:r="rgb(0, 0, 0)",width:i,height:a,className:o,maxOpacity:l=.3})=>{const c=d.useRef(null),u=d.useRef(null),[p,f]=d.useState(!1),[m,h]=d.useState({width:0,height:0}),x=d.useMemo(()=>(w=>{if(typeof window>"u")return"rgba(0, 0, 0,";const _=document.createElement("canvas");_.width=_.height=1;const N=_.getContext("2d");if(!N)return"rgba(255, 0, 0,";N.fillStyle=w,N.fillRect(0,0,1,1);const[j,C,S]=Array.from(N.getImageData(0,0,1,1).data);return`rgba(${j}, ${C}, ${S},`})(r),[r]),g=d.useCallback((y,w,_)=>{const N=window.devicePixelRatio||1;y.width=w*N,y.height=_*N,y.style.width=`${w}px`,y.style.height=`${_}px`;const j=Math.floor(w/(e+n)),C=Math.floor(_/(e+n)),S=new Float32Array(j*C);for(let F=0;F<S.length;F++)S[F]=Math.random()*l;return{cols:j,rows:C,squares:S,dpr:N}},[e,n,l]),v=d.useCallback((y,w)=>{for(let _=0;_<y.length;_++)Math.random()<s*w&&(y[_]=Math.random()*l)},[s,l]),b=d.useCallback((y,w,_,N,j,C,S)=>{y.clearRect(0,0,w,_),y.fillStyle="transparent",y.fillRect(0,0,w,_);for(let F=0;F<N;F++)for(let E=0;E<j;E++){const I=C[F*j+E];y.fillStyle=`${x}${I})`,y.fillRect(F*(e+n)*S,E*(e+n)*S,e*S,e*S)}},[x,e,n]);return d.useEffect(()=>{const y=c.current,w=u.current;if(!y||!w)return;const _=y.getContext("2d");if(!_)return;let N,j;const C=()=>{const T=i||w.clientWidth,A=a||w.clientHeight;h({width:T,height:A}),j=g(y,T,A)};C();let S=0;const F=T=>{if(!p)return;const A=(T-S)/1e3;S=T,v(j.squares,A),b(_,y.width,y.height,j.cols,j.rows,j.squares,j.dpr),N=requestAnimationFrame(F)},E=new ResizeObserver(()=>{C()});E.observe(w);const I=new IntersectionObserver(([T])=>{f(T.isIntersecting)},{threshold:0});return I.observe(y),p&&(N=requestAnimationFrame(F)),()=>{cancelAnimationFrame(N),E.disconnect(),I.disconnect()}},[g,v,b,i,a,p]),t.jsx("div",{ref:u,className:`w-full h-full ${o}`,children:t.jsx("canvas",{ref:c,className:"pointer-events-none",style:{width:m.width,height:m.height}})})},LSe=({size:e=24,color:n="#CCCCCC",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M2 12L6 16L14 8M14 16L22 8",stroke:n,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})}),LW=({open:e,onOpenChange:n,invitation:s,onAccept:r,onDecline:i})=>{const[a,{isLoading:o}]=z5(),[l,{isLoading:c}]=W5(),{toast:u}=ns(),{newToast:p}=Ga(),f={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},m={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},h=async()=>{try{const b=await a({invitation_id:s.id}).unwrap();p.success("Invitation Accepted"),hN(s.organization_id),localStorage.removeItem("pending_invitation"),r?.(),n(!1)}catch(b){u({title:"Error",description:b?.data?.detail||b?.error||"Failed to accept invitation. Please try again.",variant:"destructive"})}},x=async()=>{try{await l({invitation_id:s.id}).unwrap(),u({title:"Invitation Rejected",description:`Successfully rejected invitation to "${s.organization_name}"`,variant:"default"}),hN(s.organization_id),i?.(),n(!1)}catch(b){u({title:"Error",description:b?.data?.detail||"Failed to reject invitation. Please try again.",variant:"destructive"})}},g=()=>{kL(s.organization_id),n(!1)},v=b=>{const y=new Date(b),w=new Date,_=y.getTime()-w.getTime(),N=Math.ceil(_/(1e3*3600*24));return N<=0?"expired":N===1?"1 day":`${N} days`};return e?t.jsx("div",{className:"fixed inset-0 z-[10000] bg-black/50 backdrop-blur-sm pointer-events-auto",children:t.jsx("div",{className:"flex items-center justify-center w-full h-full p-4 pointer-events-none",children:t.jsx("div",{className:"pointer-events-auto",children:t.jsxs(fe.div,{variants:f,initial:"hidden",animate:"visible",className:"max-w-[95vw] md:w-[600px] overflow-clip md:max-w-[600px] rounded-2xl bg-[#18181A] border border-[#242424] shadow-xl relative",children:[t.jsx("button",{type:"button",onClick:g,className:"absolute z-[999] flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-5 md:top-5 bg-white/10 hover:bg-white/20","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5 pointer-events-none md:w-5 md:h-5"})}),t.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none -right-8 -bottom-4",children:t.jsx(RSe,{color:"#ffffff",squareSize:4,gridGap:6,flickerChance:.3,maxOpacity:.08,className:"w-full h-full bg-[#131314] "})}),t.jsxs("div",{className:"relative z-10 p-6 max-md:mt-10 md:p-[64px] md:pb-9",children:[t.jsxs(fe.div,{variants:m,initial:"hidden",animate:"visible",className:"space-y-5 text-center",children:[t.jsx("div",{className:"flex items-center justify-center w-16 h-16 md:w-20 md:h-20 mx-auto rounded-full bg-[#80FFF908] bg-gradient-to-b from-[#364D36] via-[#2F422E97] to-[#24332400]",children:t.jsx(UH,{color:"#37FF33",className:"w-8 h-8 md:w-10 md:h-10"})}),t.jsxs("h2",{className:"mt-4 text-[20px] md:text-[32px] max-md:leading-[24px] md:leading-[40px] font-medium tracking-[-0.2px] text-white",children:[t.jsxs("span",{className:"text-[#7BFF78] capitalize",children:[s.inviter_name," ",""]}),"invited you to join ","",t.jsxs("span",{className:"text-[#7BFF78] capitalize",children:[s.organization_name,"'s workspace"]})]}),t.jsxs("p",{className:"mt-2 font-medium text-[#666666] max-md:text-[16px] text-[18px] leading-6",children:["Invitation Expires in ",v(s.expires_at)]})]}),t.jsxs(fe.div,{variants:m,initial:"hidden",animate:"visible",transition:{delay:.2},className:"flex max-md:flex-col-reverse max-md:mt-12 md:mt-[64px] justify-center gap-4 md:flex-row",children:[t.jsx("button",{type:"button",onClick:x,disabled:o||c,className:" h-12 md:h-14 px-6 text-[16px] min-w-[234px] font-semibold text-white/50 hover:text-white rounded-[16px] border border-[#1F1F1F] hover:bg-[#333333] bg-[#292929] transition-all duration-200 transform hover:-translate-y-1 disabled:opacity-50 disabled:hover:transform-none",children:c?"Rejecting...":"Decline"}),t.jsxs("button",{type:"button",onClick:h,disabled:o||c,className:" h-12 md:h-14 flex justify-center items-center gap-2  px-[44px] min-w-[234px] py-4 text-[16px] font-semibold text-[#000000] bg-[#7BFF78] rounded-[16px] hover:bg-[#7BFF78]/90 transition-all duration-200 transform hover:shadow-xl hover:-translate-y-1 disabled:opacity-50 disabled:hover:transform-none",children:[t.jsx(LSe,{size:24,color:"#000000"}),o?"Accepting...":"Accept Invite"]})]}),t.jsx("div",{className:"flex items-center justify-center w-full cursor-pointer max-md:pt-9 md:pt-10",onClick:g,children:t.jsx("span",{className:"text-[#808080] text-center text-[16px] px-4 py-1 rounded-full hover:text-white/80 font-semibold hover:bg-[#292929] hover:backdrop-blur-lg",children:"I'll do it later"})})]})]})})})}):null},PSe=Object.freeze(Object.defineProperty({__proto__:null,PendingInvitationModal:LW},Symbol.toStringTag,{value:"Module"})),OSe=({tabs:e,activeTab:n,unreadCounts:s,tabsContainerRef:r,tabRefs:i,onTabClick:a})=>{const o=e.findIndex(u=>u.tab===n),c=100/e.length;return t.jsxs("div",{ref:r,className:"relative flex border-b border-[#1E2224]",children:[e.map(({tab:u,label:p})=>t.jsx("button",{ref:f=>{f&&i.current?.set(u,f)},onClick:()=>a(u),className:k("relative flex-1 text-[13px] font-medium transition-colors",n===u?"text-white":"text-[#6B7280] hover:text-white"),children:t.jsxs("span",{className:"flex items-center justify-center p-2 gap-2.5 font-['Inter']",children:[p,s[u]>0&&t.jsx("span",{className:k("min-w-[14px] h-[14px] px-1 font-['Inter'] flex items-center justify-center text-[11px] font-medium rounded-full",n===u?"bg-[#FC635F] text-[#151819]":"bg-white/10 text-white/80"),children:s[u]})]})},u)),t.jsx(fe.div,{className:"absolute bottom-0 h-0.5 bg-[#F2F5F7]",initial:!1,animate:{left:`calc(${o*c}% + 12px)`,width:`calc(${c}% - 24px)`},transition:{type:"spring",stiffness:400,damping:28}})]})},BSe=({size:e=42,className:n})=>{const s=e*35/42;return t.jsxs("svg",{width:e,height:s,viewBox:"0 0 42 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[t.jsx("path",{opacity:"0.5",d:"M41.5011 11.1647C41.4649 10.5952 40.8336 10.2913 40.3521 10.5977L29.6349 17.4178C26.9833 19.1063 25.2523 20.2085 23.3499 20.6473C21.672 21.0343 19.928 21.0343 18.25 20.6473C16.3476 20.2085 14.6167 19.1063 11.965 17.4178L1.24781 10.5977C0.76635 10.2913 0.135102 10.5952 0.0988692 11.1647C-0.000226069 12.7223 -0.000119248 14.5623 9.15705e-06 16.775L1.81736e-05 17.0996C8.01585e-08 19.677 -9.32649e-06 21.7268 0.135109 23.3805C0.273473 25.074 0.562898 26.5181 1.2366 27.8403C2.32432 29.9751 4.05996 31.7107 6.19474 32.7984C7.51695 33.4721 8.96098 33.7616 10.6545 33.8999C12.3082 34.035 14.3579 34.035 16.9352 34.035H24.6646C27.2419 34.035 29.2918 34.035 30.9455 33.8999C32.639 33.7616 34.083 33.4721 35.4053 32.7984C37.54 31.7107 39.2757 29.9751 40.3634 27.8403C41.0371 26.5181 41.3265 25.074 41.4649 23.3805C41.6 21.7268 41.6 19.6771 41.6 17.0998L41.6 16.7749C41.6001 14.5623 41.6002 12.7223 41.5011 11.1647Z",fill:"url(#paint0_linear_426_16436)"}),t.jsx("path",{d:"M24.663 3.05402e-07H16.9339C14.3565 -1.43862e-05 12.3067 -2.60635e-05 10.653 0.135092C8.95945 0.273456 7.51542 0.56288 6.19321 1.23658C4.33762 2.18205 2.78361 3.61704 1.69453 5.37817C1.43705 5.79455 1.58469 6.33172 1.99771 6.59455L13.6922 14.0365C16.7547 15.9854 17.9089 16.6891 19.0985 16.9635C20.2171 17.2215 21.3798 17.2215 22.4984 16.9635C23.688 16.6891 24.8421 15.9854 27.9047 14.0365L39.5992 6.59453C40.0122 6.3317 40.1599 5.79452 39.9024 5.37815C38.8133 3.61702 37.2593 2.18204 35.4037 1.23658C34.0815 0.56288 32.6375 0.273456 30.944 0.135092C29.2902 -2.60635e-05 27.2404 -1.43862e-05 24.663 3.05402e-07Z",fill:"url(#paint1_linear_426_16436)"}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_426_16436",x1:"3.64",y1:"6.35336",x2:"13.5325",y2:"40.6044",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0.5"})]}),t.jsxs("linearGradient",{id:"paint1_linear_426_16436",x1:"4.93242",y1:"-3.00249",x2:"10.7778",y2:"22.6922",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0.5"})]})]})]})},WC=e=>{const n=new Date(e),r=new Date().getTime()-n.getTime(),i=Math.floor(r/(1e3*60)),a=Math.floor(r/(1e3*60*60)),o=Math.floor(r/(1e3*60*60*24)),l=Math.floor(o/7),c=Math.floor(o/30);return i<1?"now":a<1?`${i}m`:o<1?`${a}h`:l<1?`${o}d`:c<1?`${l}w`:`${c}mo`},USe=(e,n)=>{const s=new Date(e),r=new Date,i=s.getTime()-r.getTime(),a=Math.ceil(i/(1e3*3600*24));return a<=0?n("notifications.workspaceInvite.expired"):a===1?n("notifications.workspaceInvite.expiresInOneDay"):n("notifications.workspaceInvite.expiresInDays",{days:a})},HSe=({invitation:e,isUnread:n,isSelected:s,onSelect:r,onAccept:i,onDecline:a,onMarkAsRead:o,isLoading:l})=>{const{t:c}=en("common"),u=()=>{o(e.id),r(e)},p=h=>{h.stopPropagation(),o(e.id),i(e.id,e.organization_name)},f=h=>{h.stopPropagation(),o(e.id),a(e.id,e.organization_name)},m=new Date(e.expires_at).getTime()<Date.now();return t.jsxs("div",{onClick:u,className:k("relative flex gap-3 p-3 pb-4 rounded-[12px] cursor-pointer transition-colors duration-200",n&&"bg-[rgba(255,255,255,0.04)] hover:bg-[rgba(255,255,255,0.08)]",!n&&"hover:bg-[rgba(255,255,255,0.04)]"),children:[n&&t.jsx("div",{className:"absolute bottom-[16px] right-[12px] w-2 h-2 border border-[#151819] rounded-full bg-[#FC6460]"}),t.jsxs("div",{className:"relative w-9 h-9 rounded-full flex-shrink-0",children:[t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(to bottom, rgba(55, 255, 51, 0.5) 0%, rgba(55, 255, 51, 0) 100%)"}}),t.jsx("div",{className:"relative w-full h-full p-[7px] rounded-full flex items-center justify-center",children:t.jsx("img",{src:K.teams.org,alt:"Organization",className:"w-6 h-6"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsx("p",{className:"text-sm font-['Inter'] font-medium text-[#F2F5F7]",children:e.inviter_name?c("notifications.workspaceInvite.invitedByUser",{inviterName:e.inviter_name,organizationName:e.organization_name}):c("notifications.workspaceInvite.invitedGeneric",{organizationName:e.organization_name})}),t.jsx("span",{className:"min-w-[32px] text-right text-[13px] font-['Inter'] text-[#696E70] flex-shrink-0",children:e.created_at?WC(e.created_at):""})]}),t.jsx("p",{className:"text-sm font-['Inter'] font-medium text-[#989EA0] mt-1",children:USe(e.expires_at,c)}),!m&&t.jsxs("div",{className:"flex gap-2 mt-3",children:[t.jsx("button",{onClick:p,disabled:l,className:"px-2 py-1 text-sm h-[32px] font-semibold text-[#151819] bg-[#F2F5F7] rounded-[8px] transition-colors disabled:opacity-50",children:c("notifications.workspaceInvite.accept")}),t.jsx("button",{onClick:f,disabled:l,className:"px-2 py-1 text-sm h-[32px] font-medium text-[#F2F5F7] bg-[rgba(255,255,255,0.06)] hover:bg-[rgba(255,255,255,0.1)] border border-[rgba(255,255,255,0.12)] rounded-[8px] transition-colors disabled:opacity-50",children:c("notifications.workspaceInvite.decline")})]})]})]})},VSe=({credits:e,deployedApps:n,isUnread:s,onMarkAsRead:r,onAddCredits:i,creditsPerDeployment:a=50})=>{const{t:o}=en("common"),l=n.length,c=Math.max(0,Math.floor(e/a)),u=Math.max(0,l-c);if(u===0||l===0)return null;const p=()=>{H(Ll.ALERTS.LOW_CREDITS_CLICKED,{credits:e,apps_at_risk:u,total_deployments:l}),r()},f=h=>{h.stopPropagation(),r(),i()},m=()=>{if(l===1)return t.jsxs(t.Fragment,{children:[o("notifications.lowCredits.singleAppShutdown",{appName:n[0].app_name}).split(n[0].app_name)[0],t.jsx("span",{className:"font-semibold",children:n[0].app_name}),o("notifications.lowCredits.singleAppShutdown",{appName:n[0].app_name}).split(n[0].app_name)[1]]});if(u===l)return t.jsxs(t.Fragment,{children:[o("notifications.lowCredits.allAppsShutdown",{count:l}).split(String(l))[0],t.jsx("span",{className:"font-semibold",children:l}),o("notifications.lowCredits.allAppsShutdown",{count:l}).split(String(l))[1]]});{const x=o("notifications.lowCredits.someAppsShutdown",{atRisk:u,total:l}).split(/(\d+)/);return t.jsx(t.Fragment,{children:x.map((g,v)=>g===String(u)||g===String(l)?t.jsx("span",{className:"font-semibold",children:g},v):g)})}};return t.jsxs("div",{onClick:p,className:k("flex gap-3 p-3 pb-4 mb-1 rounded-[12px] relative cursor-pointer transition-colors duration-200",s&&"bg-[rgba(255,255,255,0.04)] hover:bg-[rgba(255,255,255,0.08)]",!s&&"hover:bg-[rgba(255,255,255,0.04)]"),children:[s&&t.jsx("div",{className:"absolute bottom-[16px] right-[12px] w-2 h-2 border border-[#151819] rounded-full bg-[#FC6460]"}),t.jsxs("div",{className:"relative w-9 h-9 rounded-full flex-shrink-0",children:[t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(to bottom, rgba(252, 99, 95, 0.4) 0%, rgba(252, 99, 95, 0) 100%)"}}),t.jsx("div",{className:"relative w-full h-full rounded-full flex items-center justify-center",children:t.jsx("img",{src:K.notifications.lowCredits,alt:"Low Credits",className:"w-9 h-9"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"flex items-start justify-between gap-2",children:t.jsx("p",{className:"text-sm font-['Inter'] font-medium text-[#F2F5F7]",children:m()})}),t.jsx("p",{className:"text-sm font-['Inter'] font-medium text-[#989EA0] mt-1",children:e<0?o("notifications.lowCredits.creditsOverdrawn",{credits:Math.abs(e).toFixed(2)}):o("notifications.lowCredits.creditsRemaining",{credits:e.toFixed(2)})}),t.jsx("div",{className:"flex gap-2 mt-3 mb-1",children:t.jsx("button",{onClick:f,className:"px-2 py-1 text-sm h-[32px] font-semibold text-[#151819] bg-[#F2F5F7] rounded-[8px] transition-colors",children:o("notifications.lowCredits.addCredits")})})]})]})},$Se=({credits:e,showLowCreditsAlert:n,lowCreditsAlertId:s,activeDeployments:r,pendingInvitations:i,readNotificationIds:a,selectedInvitation:o,isLoading:l,onLowCreditsMarkAsRead:c,onAddCredits:u,onSelectInvitation:p,onAcceptInvitation:f,onDeclineInvitation:m,onInvitationMarkAsRead:h,creditsPerDeployment:x=50})=>{const{t:g}=en("common"),v=!n&&i.length===0;return t.jsxs(fe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{type:"spring",stiffness:400,damping:25,mass:.8},className:v?"h-full":"",children:[n&&s&&t.jsx(VSe,{credits:e,deployedApps:r.map(b=>({id:b.id,app_name:b.app_name})),isUnread:!a.has(s),onMarkAsRead:c,onAddCredits:u,creditsPerDeployment:x}),i.map(b=>t.jsx(HSe,{invitation:b,isUnread:!a.has(`invitation-${b.id}`),isSelected:o?.id===b.id,onSelect:p,onAccept:f,onDecline:m,onMarkAsRead:h,isLoading:l},b.id)),v&&t.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-16 opacity-60",children:[t.jsx(BSe,{size:45}),t.jsx("h3",{className:"text-white mt-[10px] mb-1",children:g("notifications.empty.inboxTitle")}),t.jsx("p",{className:"text-white/50 font-['Inter'] font-medium text-sm text-center",children:g("notifications.empty.inboxDescription")})]})]},"alerts")},zSe=({size:e=52,className:n})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[t.jsx("path",{d:"M20.6089 3.1019C23.0131 -1.03399 28.9869 -1.03392 31.3911 3.1019C32.8026 5.53037 35.6641 6.71553 38.3794 5.99643C43.004 4.77191 47.2282 8.99676 46.0034 13.6214C45.2845 16.3366 46.4696 19.1973 48.8979 20.6087C53.0341 23.0129 53.034 28.9868 48.8979 31.391C46.4695 32.8025 45.2843 35.664 46.0034 38.3792C47.228 43.0039 43.004 47.2278 38.3794 46.0033C35.6641 45.2842 32.8026 46.4693 31.3911 48.8978C28.9869 53.0339 23.013 53.034 20.6089 48.8978C19.1975 46.4695 16.3367 45.2844 13.6216 46.0033C8.9969 47.228 4.77203 43.0039 5.99658 38.3792C6.71568 35.664 5.53052 32.8025 3.10205 31.391C-1.03379 28.9867 -1.03388 23.0129 3.10205 20.6087C5.53043 19.1973 6.71551 16.3366 5.99658 13.6214C4.77178 8.99665 8.9968 4.77162 13.6216 5.99643C16.3368 6.71534 19.1974 5.53027 20.6089 3.1019ZM31.4653 27.7835C29.0553 27.7836 27.1012 29.7378 27.1011 32.1478C27.1011 34.5579 29.0552 36.5119 31.4653 36.5121C33.8756 36.5121 35.8296 34.558 35.8296 32.1478C35.8294 29.7377 33.8755 27.7835 31.4653 27.7835ZM33.9204 17.6165C33.178 16.8747 31.9742 16.8744 31.2319 17.6165L16.9331 31.9154C16.1909 32.6576 16.1912 33.8614 16.9331 34.6039C17.6755 35.3463 18.8801 35.3463 19.6226 34.6039L26.771 27.4544L33.9204 20.306C34.6628 19.5636 34.6628 18.359 33.9204 17.6165ZM18.9595 15.2728C16.5494 15.2729 14.5954 17.227 14.5952 19.6371C14.5952 22.0472 16.5493 24.0012 18.9595 24.0013C21.3697 24.0013 23.3237 22.0473 23.3237 19.6371C23.3236 17.227 21.3696 15.2728 18.9595 15.2728Z",fill:"url(#paint0_linear_426_16473)"}),t.jsx("path",{d:"M20.6089 3.1019C23.0131 -1.03399 28.9869 -1.03392 31.3911 3.1019C32.8026 5.53037 35.6641 6.71553 38.3794 5.99643C43.004 4.77191 47.2282 8.99676 46.0034 13.6214C45.2845 16.3366 46.4696 19.1973 48.8979 20.6087C53.0341 23.0129 53.034 28.9868 48.8979 31.391C46.4695 32.8025 45.2843 35.664 46.0034 38.3792C47.228 43.0039 43.004 47.2278 38.3794 46.0033C35.6641 45.2842 32.8026 46.4693 31.3911 48.8978C28.9869 53.0339 23.013 53.034 20.6089 48.8978C19.1975 46.4695 16.3367 45.2844 13.6216 46.0033C8.9969 47.228 4.77203 43.0039 5.99658 38.3792C6.71568 35.664 5.53052 32.8025 3.10205 31.391C-1.03379 28.9867 -1.03388 23.0129 3.10205 20.6087C5.53043 19.1973 6.71551 16.3366 5.99658 13.6214C4.77178 8.99665 8.9968 4.77162 13.6216 5.99643C16.3368 6.71534 19.1974 5.53027 20.6089 3.1019ZM31.4653 27.7835C29.0553 27.7836 27.1012 29.7378 27.1011 32.1478C27.1011 34.5579 29.0552 36.5119 31.4653 36.5121C33.8756 36.5121 35.8296 34.558 35.8296 32.1478C35.8294 29.7377 33.8755 27.7835 31.4653 27.7835ZM33.9204 17.6165C33.178 16.8747 31.9742 16.8744 31.2319 17.6165L16.9331 31.9154C16.1909 32.6576 16.1912 33.8614 16.9331 34.6039C17.6755 35.3463 18.8801 35.3463 19.6226 34.6039L26.771 27.4544L33.9204 20.306C34.6628 19.5636 34.6628 18.359 33.9204 17.6165ZM18.9595 15.2728C16.5494 15.2729 14.5954 17.227 14.5952 19.6371C14.5952 22.0472 16.5493 24.0012 18.9595 24.0013C21.3697 24.0013 23.3237 22.0473 23.3237 19.6371C23.3236 17.227 21.3696 15.2728 18.9595 15.2728Z",fill:"url(#paint1_linear_426_16473)",fillOpacity:"0.35"}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_426_16473",x1:"0.649608",y1:"-14.2089",x2:"38.7339",y2:"61.8038",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0.2"})]}),t.jsxs("linearGradient",{id:"paint1_linear_426_16473",x1:"25.9988",y1:"-1.83806",x2:"25.9993",y2:"56.7274",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopOpacity:"0"}),t.jsx("stop",{offset:"1"})]})]})]}),WSe=()=>t.jsx("div",{className:"w-full h-[140px] rounded-[4px] bg-[#242424]"}),GSe=({offer:e,isUnread:n,onMarkAsRead:s,onClick:r})=>{const{t:i}=en("common"),[a,o]=d.useState(!1),[l,c]=d.useState(!1),[u,p]=d.useState(!1),f=()=>{s(),r()},m=g=>{g.stopPropagation(),e.promoCode&&(navigator.clipboard.writeText(e.promoCode),c(!0),setTimeout(()=>c(!1),5e3))},h=d.useMemo(()=>e.publishedAt?WC(e.publishedAt):null,[e.publishedAt]),x=!!e.promoCode;return t.jsxs("div",{onClick:f,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:k("flex flex-col gap-3 p-3 pb-4 mb-1 last:mb-0 rounded-[12px] relative cursor-pointer transition-colors group duration-200",n&&"bg-[rgba(255,255,255,0.04)] hover:bg-[rgba(255,255,255,0.08)]",!n&&"hover:bg-[rgba(255,255,255,0.04)]"),children:[n&&t.jsx("div",{className:"absolute bottom-[16px] right-[12px] w-2 h-2 border border-[#151819] rounded-full bg-[#FC6460]"}),e.backgroundImage&&t.jsxs("div",{className:"rounded-[4px] max-h-[140px] overflow-hidden relative",children:[!u&&t.jsx(WSe,{}),t.jsx("img",{src:e.backgroundImage,alt:e.title,className:k("w-full h-full object-cover object-center",!u&&"absolute inset-0 opacity-0"),onLoad:()=>p(!0)})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("p",{className:"font-['Inter'] font-medium text-[#F2F5F7] text-sm truncate",children:e.title}),t.jsx(fe.div,{className:"shrink-0",initial:{opacity:0,x:-4},animate:{opacity:a?1:0,x:a?0:-4},transition:{type:"spring",stiffness:400,damping:25},children:t.jsx($p,{className:"w-6 h-6 text-white"})})]}),h&&t.jsx("span",{className:"text-[13px] font-['Inter'] text-[#696E70] shrink-0",children:h})]}),e.description&&t.jsx("p",{className:"text-sm text-[#989EA0] font-['Inter'] font-medium mt-1 line-clamp-2",children:e.description}),x&&t.jsx("div",{className:"flex items-center gap-2 mt-3 mb-1",children:t.jsx("button",{type:"button",onClick:m,className:"px-2 py-1 text-sm h-[32px] font-semibold text-[#151819] bg-[#F2F5F7] rounded-[8px] transition-colors",children:l?t.jsx(t.Fragment,{children:t.jsx("span",{children:i("notifications.offers.copied")})}):t.jsx(t.Fragment,{children:t.jsx("span",{children:i("notifications.offers.copyCode")})})})}),!x&&t.jsx("div",{className:"flex gap-2 mt-3 mb-1",children:t.jsx("button",{type:"button",onClick:f,className:"px-2 py-1 text-sm h-[32px] font-semibold text-[#151819] bg-[#F2F5F7] rounded-[8px] transition-colors",children:t.jsx("span",{children:i("notifications.offers.redeemNow")})})})]})]})},qSe=({offerNotifications:e,readNotificationIds:n,onOfferMarkAsRead:s,onOfferClick:r})=>{const{t:i}=en("common"),a=e.length===0;return t.jsx(fe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{type:"spring",stiffness:400,damping:25,mass:.8},className:a?"h-full":"",children:e.length>0?e.map(o=>t.jsx(GSe,{offer:o,isUnread:!n.has(`offer-${o.key}`),onMarkAsRead:()=>s(o.key),onClick:()=>r(o)},o.id)):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-16 opacity-60",children:[t.jsx(zSe,{size:45}),t.jsx("h3",{className:"text-white mt-[10px] mb-1",children:i("notifications.empty.offersTitle")}),t.jsx("p",{className:"text-white/50 font-['Inter'] font-medium text-sm text-center",children:i("notifications.empty.offersDescription")})]})},"offers")},KSe=()=>t.jsx("div",{className:"w-full h-[180px] rounded-[4px] bg-[#242424]"}),YSe=({update:e,isUnread:n,onMarkAsRead:s,onClick:r})=>{const[i,a]=d.useState(!1),[o,l]=d.useState(!1),c=()=>{s(),r()},u=d.useMemo(()=>e.publishedAt?WC(e.publishedAt):null,[e.publishedAt]);return t.jsxs("div",{onClick:c,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),className:k("flex flex-col gap-3 p-3 pb-4 mb-1 last:mb-0 rounded-[12px] relative cursor-pointer transition-colors group duration-200",n&&"bg-[rgba(255,255,255,0.04)] hover:bg-[rgba(255,255,255,0.08)]",!n&&"hover:bg-[rgba(255,255,255,0.04)]"),children:[n&&t.jsx("div",{className:"absolute bottom-[16px] right-[12px] w-2 h-2 border border-[#151819] rounded-full bg-[#FC6460]"}),e.media&&t.jsxs("div",{className:"rounded-[4px] max-h-[217px] overflow-hidden relative",children:[!o&&t.jsx(KSe,{}),e.media.type==="video"?t.jsx("video",{src:e.media.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:k("w-full h-full",!o&&"absolute inset-0 opacity-0"),onLoadedData:()=>l(!0)}):t.jsx("img",{src:e.media.url,alt:e.title,className:k("w-full h-full object-cover object-center",!o&&"absolute inset-0 opacity-0"),onLoad:()=>l(!0)})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("p",{className:"font-['Inter'] font-medium text-[#F2F5F7] text-sm truncate",children:e.title}),t.jsx(fe.div,{className:"shrink-0",initial:{opacity:0,x:-4},animate:{opacity:i?1:0,x:i?0:-4},transition:{type:"spring",stiffness:400,damping:25},children:t.jsx($p,{className:"w-6 h-6 text-white"})})]}),u&&t.jsx("span",{className:"text-[13px] font-['Inter'] text-[#696E70] shrink-0",children:u})]}),t.jsx("p",{className:"text-sm text-[#989EA0] font-['Inter'] font-medium mt-1",children:e.description})]})]})},ZSe=({updateNotifications:e,readNotificationIds:n,onUpdateMarkAsRead:s,onUpdateClick:r})=>{const{t:i}=en("common");return t.jsx(fe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:e.length>0?e.map(a=>t.jsx(YSe,{update:a,isUnread:!n.has(`update-${a.key}`),onMarkAsRead:()=>s(a.key),onClick:()=>r(a)},a.id)):t.jsx("div",{className:"p-8 text-center text-[#6B7280]",children:i("notifications.empty.noUpdates")})},"updates")},hD=({isMobileSheet:e,activeTab:n,tabsContainerRef:s,tabRefs:r,unreadCounts:i,onTabClick:a,onClose:o,credits:l,showLowCreditsAlert:c,lowCreditsAlertId:u,activeDeployments:p,pendingInvitations:f,readNotificationIds:m,selectedInvitation:h,isLoading:x,onLowCreditsMarkAsRead:g,onAddCredits:v,onSelectInvitation:b,onAcceptInvitation:y,onDeclineInvitation:w,onInvitationMarkAsRead:_,creditsPerDeployment:N=50,offerNotifications:j,onOfferMarkAsRead:C,onOfferClick:S,updateNotifications:F,onUpdateMarkAsRead:E,onUpdateClick:I})=>{const{t:T}=en("common"),A=[{tab:"alerts",label:T("notifications.tabs.inbox")},{tab:"offers",label:T("notifications.tabs.offers")},{tab:"updates",label:T("notifications.tabs.updates")}];return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:k("w-full px-4 flex items-center justify-between",e?"pt-4 pb-2":"pt-3 pb-1"),children:t.jsxs("div",{className:"relative flex items-center gap-3 w-full",children:[e&&t.jsx("button",{type:"button",onClick:o,className:"absolute -top-1 left-0 p-1 -ml-1 rounded-full hover:bg-white/10 transition-colors",children:t.jsx(V7,{})}),t.jsxs("div",{className:"w-full flex gap-1 items-center max-md:justify-center",children:[e&&t.jsx(RW,{size:16,color:"#FFFFFF80"}),t.jsx("h2",{className:k("font-medium",e?"text-white/50":"text-[#989EA0]"),children:T("notifications.title")})]})]})}),t.jsx(OSe,{tabs:A,activeTab:n,unreadCounts:i,tabsContainerRef:s,tabRefs:r,onTabClick:a}),t.jsx("div",{className:"overflow-y-auto p-1 flex-1 hide-scrollbar",children:t.jsxs(Kn,{mode:"wait",children:[n==="alerts"&&t.jsx($Se,{credits:l,showLowCreditsAlert:c,lowCreditsAlertId:u,activeDeployments:p,pendingInvitations:f,readNotificationIds:m,selectedInvitation:h,isLoading:x,onLowCreditsMarkAsRead:g,onAddCredits:v,onSelectInvitation:b,onAcceptInvitation:y,onDeclineInvitation:w,onInvitationMarkAsRead:_,creditsPerDeployment:N}),n==="offers"&&t.jsx(qSe,{offerNotifications:j,readNotificationIds:m,onOfferMarkAsRead:C,onOfferClick:S}),n==="updates"&&t.jsx(ZSe,{updateNotifications:F,readNotificationIds:m,onUpdateMarkAsRead:E,onUpdateClick:I})]})})]})};function JSe(e){return!(!e||typeof e!="object")}function XSe(e,n){if(!e||typeof e!="object")return!1;const s=e;if(typeof s.id!="string"||typeof s.key!="string"||typeof s.title!="string"||typeof s.description!="string"||typeof s.shouldBeVisible!="boolean")return!1;if(s.media){const r=s.media;if(!["video","image"].includes(r.type)||typeof r.url!="string")return!1}return!0}function QSe(e,n){if(!e||typeof e!="object")return!1;const s=e;return!(typeof s.id!="string"||typeof s.key!="string"||typeof s.title!="string"||typeof s.description!="string"||typeof s.shouldBeVisible!="boolean")}function eke(){const{tier:e,loading:n}=xs(),{user:s}=os(),{data:r,isSuccess:i}=Kr(void 0,{skip:!s}),{data:a}=Wa(void 0,{skip:!i}),{isMobile:o}=ts(),[l,c]=d.useState([]),[u,p]=d.useState([]);return d.useEffect(()=>{n||Mf(()=>{if(!Kie()){c([]),p([]);return}const f=Yie();if(!f){c([]),p([]);return}try{if(!JSe(f)){c([]),p([]);return}const m=f,h=[];m.updates&&Array.isArray(m.updates)&&m.updates.forEach(v=>{!v||!XSe(v,v.id)||v.shouldBeVisible&&(v.targeting?.desktopOnly&&o||v.targeting?.mobileOnly&&!o||v.targeting?.countries&&v.targeting.countries.length>0&&(!r?.country_code||!v.targeting.countries.includes(r.country_code))||v.targeting?.notAllowedCountries&&v.targeting.notAllowedCountries.length>0&&r?.country_code&&v.targeting.notAllowedCountries.includes(r.country_code)||v.targeting?.tiers&&v.targeting.tiers.length>0&&!v.targeting.tiers.includes(e)||h.push(v))});const x=[];m.offers&&Array.isArray(m.offers)&&m.offers.forEach(v=>{!v||!QSe(v,v.id)||v.shouldBeVisible&&(v.cohortFlag&&(!a||a[v.cohortFlag]!==!0)||v.targeting?.desktopOnly&&o||v.targeting?.mobileOnly&&!o||v.targeting?.countries&&v.targeting.countries.length>0&&(!r?.country_code||!v.targeting.countries.includes(r.country_code))||v.targeting?.notAllowedCountries&&v.targeting.notAllowedCountries.length>0&&r?.country_code&&v.targeting.notAllowedCountries.includes(r.country_code)||v.targeting?.tiers&&v.targeting.tiers.length>0&&!v.targeting.tiers.includes(e)||x.push(v))});let g=x;if(x.length>0){const v=Math.max(...x.map(b=>b.priority??0));g=x.filter(b=>(b.priority??0)===v)}c(h),p(g)}catch{c([]),p([])}})},[e,n,r?.country_code,o,a]),{updates:l,offers:u}}const PW="emergent_notifications_read",GC="emergent_low_credits_alert_id",_u={INVITATION:"invitation",LOW_CREDITS:"low-credits",UPDATE:"update",OFFER:"offer"},xD=e=>`${_u.INVITATION}-${e}`,gD=e=>`${_u.LOW_CREDITS}-${e}`,T8=e=>`${_u.OFFER}-${e}`,A8=e=>`${_u.UPDATE}-${e}`,tke=()=>{try{const e=localStorage.getItem(PW);return e?new Set(JSON.parse(e)):new Set}catch{return new Set}},qC=e=>{try{localStorage.setItem(PW,JSON.stringify([...e]))}catch{}},nke=()=>{try{return localStorage.getItem(GC)}catch{return null}},bD=e=>{try{localStorage.setItem(GC,e)}catch{}},ske=()=>{try{localStorage.removeItem(GC)}catch{}},rke=(e,n)=>{const s=new Set(e);let r=!1;for(const i of e)i.startsWith(`${_u.LOW_CREDITS}-`)&&i!==n&&(s.delete(i),r=!0);return r&&qC(s),r?s:e},ike=(e,n,s)=>{const r=new Set(e);let i=!1;const a=new Set(n.map(l=>A8(l))),o=new Set(s.map(l=>T8(l)));for(const l of e)l.startsWith(`${_u.UPDATE}-`)&&!a.has(l)&&(r.delete(l),i=!0),l.startsWith(`${_u.OFFER}-`)&&!o.has(l)&&(r.delete(l),i=!0);return i&&qC(r),i?r:e},ake=()=>{const e=Ea(),{t:n}=en("common"),[s,r]=d.useState(!1),[i,a]=d.useState("alerts"),[o,l]=d.useState(tke),[c,u]=d.useState(null),[p,f]=d.useState(!1),m=d.useRef(null),h=d.useRef(new Map),{user:x}=os(),{toast:g}=ns(),{credits:v}=xs(),{getCurrentOrganizationId:b}=hs(),y=r0(),w=Rle(),_=Hr(),N=Mle(),j=JO(),C=eB(),S=YO(),F=QO(),E=ZO(),I=tB(),T=sB(),A=nB(),{updates:D,offers:O}=eke(),M=gxe(),L=b(),{data:P,refetch:B}=Kr(void 0,{skip:!x}),{data:G=[]}=V9(L?{organization_id:L}:void 0,{skip:!x}),{data:$}=nO(void 0,{skip:!x}),te=$?.tiers?.[$?.default_tier]?.CreditCostPerMonth||50,[U,{isLoading:oe}]=z5(),[Y,{isLoading:W}]=W5(),Z=oe||W,le=P?.pending_invitations||[],q=d.useMemo(()=>G.filter(Ae=>Ae.deployStatus==="success"),[G]),Q=d.useRef(null),[he,me]=d.useState(nke),ce=d.useMemo(()=>q.length===0?!1:Math.floor(v/te)<q.length,[v,q,te]);d.useEffect(()=>{if(Q.current===null){if(Q.current=ce,ce&&!he){const Ae=gD(Date.now().toString());me(Ae),bD(Ae)}return}if(!Q.current&&ce){const Ae=gD(Date.now().toString());me(Ae),bD(Ae),l(Le=>rke(Le,Ae))}else Q.current&&!ce&&(ske(),me(null));Q.current=ce},[ce,he]),d.useEffect(()=>{if(D.length===0&&O.length===0)return;const Ae=D.map(Ut=>Ut.key),Le=O.map(Ut=>Ut.key);l(Ut=>ike(Ut,Ae,Le))},[D,O]);const ee=d.useMemo(()=>{const Ae=le.filter(xt=>!o.has(xD(xt.id))).length,Le=ce&&he&&!o.has(he)?1:0,Ut=D.filter(xt=>!o.has(A8(xt.key))).length,tt=O.filter(xt=>!o.has(T8(xt.key))).length;return{alerts:Ae+Le,offers:tt,updates:Ut}},[le,o,ce,he,D,O]),J=ee.alerts+ee.offers+ee.updates,re=d.useCallback(Ae=>{l(Le=>{const Ut=new Set(Le);return Ut.add(Ae),qC(Ut),Ut})},[]),xe=d.useCallback(Ae=>{H(Ll.ALERTS.WORKSPACE_INVITE_CLICKED,{invitation_id:Ae.id,organization_name:Ae.organization_name}),u(Ae),f(!0)},[]),ae=d.useCallback(Ae=>{f(Ae),Ae||u(null)},[]),Fe=d.useCallback(async(Ae,Le)=>{H(Ll.ALERTS.WORKSPACE_INVITE_ACCEPTED,{invitation_id:Ae,organization_name:Le});try{await U({invitation_id:Ae}).unwrap(),g({title:n("notifications.toast.invitationAccepted"),description:n("notifications.toast.invitationAcceptedDesc",{organizationName:Le}),variant:"default"}),B()}catch(Ut){g({title:n("notifications.toast.error"),description:Ut?.data?.detail||Ut?.error||n("notifications.toast.failedToAccept"),variant:"destructive"})}},[U,g,n,B]),se=d.useCallback(async(Ae,Le)=>{H(Ll.ALERTS.WORKSPACE_INVITE_DECLINED,{invitation_id:Ae,organization_name:Le});try{await Y({invitation_id:Ae}).unwrap(),g({title:n("notifications.toast.invitationDeclined"),description:n("notifications.toast.invitationDeclinedDesc",{organizationName:Le}),variant:"default"}),B()}catch(Ut){g({title:n("notifications.toast.error"),description:Ut?.data?.detail||Ut?.error||n("notifications.toast.failedToDecline"),variant:"destructive"})}},[Y,g,n,B]),_e=d.useCallback(()=>{B(),u(null)},[B]),Re=d.useCallback(Ae=>{H(Ll.TAB_CHANGED,{tab:Ae}),a(Ae)},[]),Se=d.useCallback(()=>{H(Ll.ALERTS.LOW_CREDITS_ADD_CREDITS_CLICKED),y.open({location:"low-credit"})},[y]),Ne=d.useCallback(()=>{he&&re(he)},[he,re]),ge=d.useCallback((Ae,Le,Ut,tt)=>{if(Ae)switch(H(`${Le}_notification_clicked`,{[`${Le}_id`]:Ut,[`${Le}_key`]:tt,action_type:Ae.type}),Ae.type){case"close":break;case"open-modal":switch(Ae.modalType){case"visual-edits":r(!1),w.open();break;case"upgrade-tier":r(!1),_.open(Ae.modalConfig||{});break;case"pro":r(!1),N.open(Ae.modalConfig);break;case"buy-credits":r(!1),y.open(Ae.modalConfig);break;case"free-credits":r(!1),j.open(Ae.modalConfig);break;case"gifting":r(!1),C.open(Ae.modalConfig);break;case"pix":S.open(Ae.modalConfig);break;case"one-dollar":F.open(Ae.modalConfig);break;case"gff":I.open(Ae.modalConfig);break;case"gffin":T.open(Ae.modalConfig);break;case"pagbrasil":A.open(Ae.modalConfig);break;case"promotional":const xt=Ae.modalConfig?.schema||M.get(tt);xt&&E.open({schema:xt,skipShowOnceCheck:!0,skipDelay:!0});break}break;case"navigate":Ae.url&&(Ae.newTab?window.open(Ae.url,"_blank"):Ae.url.startsWith("http")?window.location.href=Ae.url:(e(Ae.url),r(!1)));break;case"custom-event":Ae.eventName&&H(Ae.eventName,Ae.eventData);break}},[w,_,N,y,j,C,S,F,I,T,A,E,M,e]),Ce=d.useCallback(Ae=>{H(Ll.UPDATE_CLICKED,{update_id:Ae.id,update_key:Ae.key,update_title:Ae.title}),ge(Ae.action,"update",Ae.id,Ae.key)},[ge]),$e=d.useCallback(Ae=>{H(Ll.OFFER_CLICKED,{offer_id:Ae.id,offer_key:Ae.key,offer_title:Ae.title}),ge(Ae.action,"offer",Ae.id,Ae.key)},[ge]),dt=d.useCallback(Ae=>{re(T8(Ae))},[re]),Me=d.useCallback(Ae=>{re(A8(Ae))},[re]),we=d.useCallback(Ae=>{re(xD(Ae))},[re]),Te=p||y.isOpen||S.isOpen||F.isOpen||E.isOpen||I.isOpen||T.isOpen||A.isOpen||_.isOpen,ze=d.useRef(!1),_t=d.useRef(Te);d.useEffect(()=>{_t.current&&!Te&&(ze.current=!0,setTimeout(()=>{ze.current=!1},100)),_t.current=Te},[Te]);const Bt=d.useCallback(Ae=>{!Ae&&(Te||ze.current)||r(Ae)},[Te]),qe=d.useCallback(()=>{s||H(Ll.ICON_CLICKED,{unread_count:J,unread_alerts:ee.alerts,unread_offers:ee.offers,unread_updates:ee.updates})},[s,J,ee]);return{isOpen:s,setIsOpen:r,activeTab:i,selectedInvitation:c,isModalOpen:p,tabsContainerRef:m,tabRefs:h,isLoading:Z,isAnyModalOpen:Te,credits:v,pendingInvitations:le,activeDeployments:q,showLowCreditsAlert:ce,lowCreditsAlertId:he,readNotificationIds:o,updateNotifications:D,offerNotifications:O,unreadCounts:ee,totalUnread:J,defaultTierCredits:te,handleMarkAsRead:re,handleSelectInvitation:xe,handleModalClose:ae,handleAcceptInvitation:Fe,handleDeclineInvitation:se,handleInvitationAction:_e,handleTabClick:Re,handleAddCredits:Se,handleLowCreditsMarkAsRead:Ne,handleUpdateClick:Ce,handleOfferClick:$e,handleOfferMarkAsRead:dt,handleUpdateMarkAsRead:Me,handleInvitationMarkAsRead:we,handleOpenChange:Bt,handleTriggerClick:qe}},oke=({className:e})=>{const{t:n}=en("common"),{isMobile:s}=ts(),{isOpen:r,setIsOpen:i,activeTab:a,selectedInvitation:o,isModalOpen:l,tabsContainerRef:c,tabRefs:u,isLoading:p,isAnyModalOpen:f,credits:m,pendingInvitations:h,activeDeployments:x,showLowCreditsAlert:g,lowCreditsAlertId:v,readNotificationIds:b,updateNotifications:y,offerNotifications:w,unreadCounts:_,totalUnread:N,defaultTierCredits:j,handleSelectInvitation:C,handleModalClose:S,handleAcceptInvitation:F,handleDeclineInvitation:E,handleInvitationAction:I,handleTabClick:T,handleAddCredits:A,handleLowCreditsMarkAsRead:D,handleUpdateClick:O,handleOfferClick:M,handleOfferMarkAsRead:L,handleUpdateMarkAsRead:P,handleInvitationMarkAsRead:B,handleOpenChange:G,handleTriggerClick:$}=ake(),te=t.jsxs(t.Fragment,{children:[t.jsx(RW,{size:16,color:"#fff"}),N>0&&t.jsx("div",{className:"absolute top-[7px] right-[6px] flex items-center justify-center",children:t.jsx("span",{className:"relative inline-flex h-[8.3px] w-[8.3px] rounded-full bg-[#FC635F] border-[0.8px] border-[#323233]"})})]}),U={activeTab:a,tabsContainerRef:c,tabRefs:u,unreadCounts:_,onTabClick:T,onClose:()=>i(!1),credits:m,showLowCreditsAlert:g,lowCreditsAlertId:v,activeDeployments:x,pendingInvitations:h,readNotificationIds:b,selectedInvitation:o,isLoading:p,onLowCreditsMarkAsRead:D,onAddCredits:A,onSelectInvitation:C,onAcceptInvitation:F,onDeclineInvitation:E,onInvitationMarkAsRead:B,creditsPerDeployment:j,offerNotifications:w,onOfferMarkAsRead:L,onOfferClick:M,updateNotifications:y,onUpdateMarkAsRead:P,onUpdateClick:O};return t.jsxs(t.Fragment,{children:[s?t.jsxs(ISe,{open:r,onOpenChange:G,modal:!1,children:[t.jsx("button",{type:"button",title:"Notifications",onClick:()=>{$(),i(!0)},className:k("relative bg-white/10 rounded-full h-8 w-8 flex items-center justify-center hover:bg-white/20 transition-colors",e),children:te}),t.jsxs(DSe,{side:"right",className:"p-0 bg-[#131314] border-l border-[#1f1f1f] w-full sm:max-w-full flex flex-col !z-40",hideOverlay:f,children:[t.jsx(SK,{children:t.jsx(MSe,{children:n("notifications.title")})}),t.jsx(hD,{isMobileSheet:!0,...U})]})]}):t.jsxs(Gc,{open:r,onOpenChange:G,children:[t.jsx(qc,{asChild:!0,children:t.jsx("button",{type:"button",title:"Notifications",onClick:$,className:k("relative bg-white/10 rounded-full h-8 w-8 flex items-center justify-center hover:bg-white/20 transition-colors",e),children:te})}),t.jsx(td,{side:"bottom",align:"end",sideOffset:20,className:"p-0 bg-[#131314] border-[#1f1f1f] shadow-md overflow-hidden z-[40] flex flex-col w-[380px] h-[640px] rounded-[16px]",children:t.jsx(hD,{isMobileSheet:!1,...U})})]}),o&&Lp.createPortal(t.jsx(LW,{open:l,onOpenChange:S,invitation:o,onAccept:I,onDecline:I}),document.body)]})},lke="/assets/project_introduction_folder-BOIAuC9-.png",cke="/assets/project_introduction_collab-BliWAEKT.png",OW="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.24414%202.10059C5.34001%201.81581%205.74788%201.81581%205.84375%202.10059L6.4248%203.82715C6.71389%204.6859%207.39649%205.35986%208.26562%205.64551L10.0127%206.21973C10.3009%206.31442%2010.3009%206.71677%2010.0127%206.81152L8.26562%207.38672C7.39657%207.67232%206.71393%208.34546%206.4248%209.2041L5.84375%2010.9307C5.74788%2011.2155%205.34001%2011.2155%205.24414%2010.9307L4.66309%209.2041C4.37395%208.34565%203.69207%207.67237%202.82324%207.38672L1.0752%206.81152C0.787451%206.71656%200.787364%206.31453%201.0752%206.21973L2.82324%205.64551C3.69226%205.35982%204.374%204.68581%204.66309%203.82715L5.24414%202.10059ZM9.15234%200.942383C9.19087%200.828894%209.35412%200.828826%209.39258%200.942383L9.6084%201.58594C9.73411%201.95931%2010.0313%202.25276%2010.4092%202.37695L11.0596%202.59082C11.1749%202.62871%2011.1749%202.78926%2011.0596%202.82715L10.4092%203.04102C10.0313%203.16521%209.73411%203.45866%209.6084%203.83203L9.39258%204.47461C9.35423%204.58852%209.19069%204.58852%209.15234%204.47461L8.93555%203.83203C8.80983%203.45866%208.51364%203.16521%208.13574%203.04102L7.48438%202.82715C7.36974%202.78903%207.36977%202.62897%207.48438%202.59082L8.13574%202.37695C8.51363%202.25277%208.80982%201.95928%208.93555%201.58594L9.15234%200.942383Z'%20fill='black'/%3e%3c/svg%3e",dke=()=>t.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 rounded-xl flex items-center justify-center",children:t.jsx("img",{src:lke,alt:"folder",className:"w-16 h-16"})}),uke=()=>t.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 rounded-xl flex items-center justify-center",children:t.jsx("img",{src:cke,alt:"collaborate",className:"w-16 h-16"})}),pke=({onNext:e,onLearnMore:n})=>{const{t:s}=en("home");return t.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex flex-col items-center w-full h-full px-4 py-6 md:px-12 md:pt-[52px] md:pb-10",children:[t.jsxs("div",{className:"flex items-center gap-1 rounded-[18px] mb-[10px] md:mb-[10px] pt-2 pr-2.5 pb-1.5 pl-2",style:{background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",boxShadow:"0 0 40px 0 rgba(59, 221, 255, 0.20)"},children:[t.jsx("img",{src:OW,alt:"sparkles",className:"w-3 h-3"}),t.jsx("span",{className:"text-black text-center font-inter text-[12px] font-semibold leading-[12px] tracking-[0.36px]",children:s("projectsIntroduction.new","NEW")})]}),t.jsx("h1",{className:"text-[24px] md:text-[36px] font-semibold text-center font-brockmann leading-[32px] md:leading-[44px] tracking-[-0.96px] md:tracking-[-1.44px] bg-clip-text text-transparent",style:{background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(59, 221, 255, 0.20)"},children:s("projectsIntroduction.title","Introducing Projects")}),t.jsx("h2",{className:"text-[24px] md:text-[36px] font-semibold text-white text-center mb-4 md:mb-12 font-brockmann leading-[32px] md:leading-[44px] tracking-[-0.96px] md:tracking-[-1.44px]",children:s("projectsIntroduction.subtitle","& free collaboration for everyone.")}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-[30px] w-full max-w-[700px] mb-4 md:mb-12",children:[t.jsxs("div",{className:"flex-1 bg-[#1E1E20] border border-[#2A2A2C] rounded-2xl px-4 py-4 md:py-[32px] md:px-[37px] flex flex-col items-center text-center",children:[t.jsx(uke,{}),t.jsx("h3",{className:"text-[16px] md:text-[20px] font-medium text-white text-center mt-2 md:mt-4 mb-1 md:mb-2 font-brockmann leading-[20px] md:leading-[24px]",children:s("projectsIntroduction.organizeTitle","Organize your tasks")}),t.jsx("p",{className:"text-[12px] md:text-[14px] text-white/40 font-inter font-medium leading-[16px] md:leading-[20px] text-center",children:s("projectsIntroduction.organizeDescription","Group all related tasks and forks into one place.")})]}),t.jsxs("div",{className:"flex-1 bg-[#1E1E20] border border-[#2A2A2C] rounded-2xl px-4 py-4 md:px-[32px] md:py-[37px] flex flex-col items-center text-center",children:[t.jsx(dke,{}),t.jsx("h3",{className:"text-[16px] md:text-[20px] font-medium text-white text-center mt-2 md:mt-6 mb-1 md:mb-2 font-brockmann leading-[20px] md:leading-[24px]",children:s("projectsIntroduction.collaborateTitle","Collaborate for free")}),t.jsx("p",{className:"text-[12px] md:text-[14px] text-white/40 font-inter font-medium leading-[16px] md:leading-[20px] text-center",children:s("projectsIntroduction.collaborateDescription","Invite teammates to your projects and work together seamlessly.")})]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-3 w-full max-w-[500px] mt-auto",children:[t.jsx("button",{type:"button",onClick:n,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-white/[0.12] text-white font-brockmann text-[14px] md:text-[16px] font-medium leading-[20px] md:leading-[24px] tracking-[-0.2px] hover:bg-white/5 transition-colors order-2 md:order-1",children:s("projectsIntroduction.learnMore","Learn more")}),t.jsxs("button",{type:"button",onClick:e,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl bg-white text-black font-semibold text-[14px] md:text-[16px] hover:bg-white/90 transition-colors order-1 md:order-2",children:[s("projectsIntroduction.createFirstProject","Create your first project"),t.jsx(Cl,{className:"w-4 h-4 md:w-5 md:h-5"})]})]})]},"intro")},fke=["#3FF3C8","#62ECFE","#00FF66","#FF8C66","#9B59B6"],mke=({projectName:e,setProjectName:n,avatarSeed:s,setAvatarSeed:r,projectNameError:i,setProjectNameError:a,onCreateProject:o,isLoading:l=!1,isDuplicateName:c=!1})=>{const{t:u}=en("home"),{t:p}=en("teams"),f=()=>{const x=Math.random().toString(36).substring(2,15)+Date.now().toString(36);r(x)},m=()=>{if(!e.trim()){a(u("projectsIntroduction.projectNameRequired","Please enter a project name"));return}if(c){a(p("teams.createWorkspace.duplicateName","A project with this name already exists"));return}a(""),o()},h=i||(c&&e.trim()?p("teams.createWorkspace.duplicateName","A project with this name already exists"):"");return t.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex flex-col items-center w-full h-full px-4 pt-8 pb-6 md:px-[32px] md:pt-[56px] md:pb-[40px]",children:[t.jsx("h1",{className:"text-[20px] md:text-[24px] font-medium text-[#E6E6E6] text-center mb-2 font-brockmann leading-[28px] md:leading-[32px] tracking-[-0.5px]",children:u("projectsIntroduction.enterDetails","Enter Project details")}),t.jsx("p",{className:"text-[13px] md:text-[14px] text-[#E6E6E6] text-center font-inter font-medium leading-[18px] md:leading-[20px] opacity-40 px-2 md:px-0",children:u("projectsIntroduction.detailsDescription","Projects allow you to collaborate on tasks and track usage per idea.")}),t.jsxs("div",{className:"flex flex-col items-center w-full mt-6 md:mt-[98px]",children:[t.jsxs("div",{className:"relative mb-6",children:[t.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden",children:t.jsx(Wc,{size:56,name:s,variant:"marble",colors:fke})}),t.jsx("button",{type:"button",onClick:f,disabled:l,className:"absolute -right-2 -bottom-1 w-7 h-7 flex items-center justify-center rounded-full bg-[#303030] hover:bg-[#404040] border border-[#404040] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":u("projectsIntroduction.randomizeAvatar","Randomize avatar gradient"),title:u("projectsIntroduction.randomizeGradient","Randomize gradient"),children:t.jsx(JU,{className:"w-3.5 h-3.5 text-white/80"})})]}),t.jsxs("div",{className:"w-full max-w-[500px] px-4 md:px-0",children:[t.jsx("label",{className:"text-[14px] text-white font-medium mb-2 block",children:u("projectsIntroduction.projectName","Project name")}),t.jsx("input",{type:"text",value:e,onChange:x=>{n(x.target.value),i&&a("")},placeholder:u("projectsIntroduction.projectNamePlaceholder","ex : Resume analyzer, Client A, Side project"),className:`w-full h-12 px-4 bg-[#1D1D1F] border rounded-xl text-white placeholder-[#6B6B6B] focus:outline-none transition-colors ${h?"border-red-500":"border-[#3A3A3C] focus:border-[#555]"}`,disabled:l,maxLength:100}),h&&t.jsx("p",{className:"text-red-500 text-[13px] mt-2",children:h})]})]}),t.jsx("div",{className:"flex justify-center w-full px-4 md:px-0 mt-auto",children:t.jsx("button",{type:"button",onClick:m,disabled:l,className:"flex items-center justify-center gap-2 py-3 px-5 rounded-xl font-semibold text-black transition-colors w-full md:w-[216px] disabled:opacity-70 disabled:cursor-not-allowed",style:{borderRadius:"12px",background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",boxShadow:"0 0 40px 0 rgba(59, 221, 255, 0.20)"},children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-current rounded-full border-t-transparent animate-spin"}),p("teams.createWorkspace.creating","Creating...")]}):u("projectsIntroduction.createProject","Create Project")})})]},"details")},hke=({projectName:e,tasks:n,selectedTaskIds:s,setSelectedTaskIds:r,taskSearchQuery:i,setTaskSearchQuery:a,onNext:o,onBack:l})=>{const{t:c}=en("home"),u=d.useMemo(()=>{if(!i.trim())return n;const m=i.toLowerCase();return n.filter(h=>h.title.toLowerCase().includes(m)||h.description?.toLowerCase().includes(m))},[n,i]),p=m=>{r(h=>h.includes(m)?h.filter(x=>x!==m):[...h,m])},f=()=>{o()};return t.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex flex-col items-center w-full h-full px-6 py-8 md:px-12 md:py-10",children:[t.jsxs("h1",{className:"text-[24px] font-medium text-center mb-2 font-brockmann leading-[32px] tracking-[-0.5px]",children:[t.jsxs("span",{className:"text-white",children:[c("projectsIntroduction.moveTasksTo","Move tasks to ")," "]}),t.jsx("span",{className:"bg-clip-text text-transparent",style:{background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(59, 221, 255, 0.20)"},children:e})]}),t.jsx("p",{className:"text-[14px] text-[#8A8F98] text-center mb-6 font-inter",children:c("projectsIntroduction.selectTasks","Select tasks to move to this project.")}),t.jsxs("div",{className:"w-full max-w-[600px] flex-1 flex flex-col min-h-0",children:[t.jsxs("div",{className:"relative mb-4",children:[t.jsx($o,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#6B6B6B]"}),t.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),placeholder:c("projectsIntroduction.searchTasks","Search tasks"),className:"w-full h-12 pl-12 pr-4 bg-[#1D1D1F] border border-[#3A3A3C] rounded-xl text-white placeholder-[#6B6B6B] focus:outline-none focus:border-[#555] transition-colors"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto bg-[#1D1D1F] border border-[#3A3A3C] rounded-xl",children:u.length===0?t.jsx("div",{className:"flex items-center justify-center h-full text-[#6B6B6B] p-8",children:n.length===0?c("projectsIntroduction.noTasksAvailable","No tasks available"):c("projectsIntroduction.noTasksMatch","No tasks match your search")}):u.map(m=>t.jsxs("button",{type:"button",onClick:()=>p(m.id),className:"w-full flex items-center justify-between p-4 border-b border-[#2A2A2C] last:border-b-0 hover:bg-white/5 transition-colors text-left",children:[t.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[t.jsx("div",{className:"text-white font-medium truncate",children:m.title}),m.description&&t.jsxs("div",{className:"text-[13px] text-[#8A8F98] truncate mt-0.5",children:[m.isFork&&t.jsx("span",{className:"text-[#80FFF9] mr-1",children:c("projectsIntroduction.forkFrom","Fork {{number}} from ",{number:m.forkNumber})}),m.description]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[t.jsx("span",{className:"text-[13px] text-[#6B6B6B]",children:m.timestamp}),t.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${s.includes(m.id)?"bg-[#80FFF9] border-[#80FFF9]":"border-[#3A3A3C]"}`,children:s.includes(m.id)&&t.jsx(xn,{className:"w-4 h-4 text-black"})})]})]},m.id))})]}),t.jsxs("div",{className:"flex justify-between w-full max-w-[600px] mt-6",children:[t.jsx("button",{type:"button",onClick:l,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-white/[0.12] text-white font-brockmann text-[16px] font-medium leading-[24px] tracking-[-0.2px] hover:bg-white/5 transition-colors",children:c("projectsIntroduction.back","Back")}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:f,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl bg-white/[0.06] text-white font-brockmann text-[16px] font-medium leading-[24px] tracking-[-0.2px] hover:bg-white/10 transition-colors",children:c("projectsIntroduction.skip","Skip")}),t.jsxs("button",{type:"button",onClick:o,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl bg-white text-black font-semibold hover:bg-white/90 transition-colors",children:[c("projectsIntroduction.continueToInvite","Continue to invite members"),t.jsx(Cl,{className:"w-5 h-5"})]})]})]})]},"tasks")},xke=({projectName:e,emails:n,setEmails:s,memberRole:r,setMemberRole:i,onBack:a,onCreateProject:o})=>{const{t:l}=en("home"),[c,u]=d.useState(!1),p=d.useRef(null);return d.useEffect(()=>{const f=m=>{p.current&&!p.current.contains(m.target)&&u(!1)};if(c)return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[c]),t.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex flex-col items-center w-full h-full px-6 py-8 md:px-12 md:py-10",children:[t.jsxs("h1",{className:"text-[24px] font-medium text-center mb-2 font-brockmann leading-[32px] tracking-[-0.5px]",children:[t.jsxs("span",{className:"text-white",children:[l("projectsIntroduction.inviteMembersTo","Invite members to ")," "]}),t.jsx("span",{className:"bg-clip-text text-transparent",style:{background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(59, 221, 255, 0.20)"},children:e})]}),t.jsx("p",{className:"text-[14px] text-[#8A8F98] text-center mb-8 font-inter",children:l("projectsIntroduction.inviteDescription","Invite teammates to collaborate on this project.")}),t.jsxs("div",{className:"w-full max-w-[500px] mb-6",children:[t.jsx("label",{className:"text-[14px] text-white font-medium mb-2 block",children:l("projectsIntroduction.emailAddresses","Email addresses")}),t.jsx("textarea",{value:n,onChange:f=>s(f.target.value),placeholder:l("projectsIntroduction.emailPlaceholder","example@example.com, example2@example.com"),className:"w-full h-32 px-4 py-3 bg-[#1D1D1F] border border-[#3A3A3C] rounded-xl text-white placeholder-[#6B6B6B] focus:outline-none focus:border-[#555] transition-colors resize-none"})]}),t.jsxs("div",{className:"w-full max-w-[500px] mb-auto",children:[t.jsx("label",{className:"text-[#E6E6E6] font-medium text-[16px] leading-[24px] font-brockmann mb-2 block",children:l("projectsIntroduction.role","Role")}),t.jsxs("div",{className:"relative",ref:p,children:[t.jsxs("button",{type:"button",onClick:()=>u(!c),className:"w-full bg-[#1D1D1F] border border-[#333] rounded-lg p-4 text-white text-left flex justify-between items-center focus:outline-none focus:border-[#555] transition-colors",children:[t.jsx("span",{children:r==="ADMIN"?l("projectsIntroduction.admin","Admin"):l("projectsIntroduction.member","Member")}),t.jsx(Ur,{className:k("w-4 h-4 transition-transform duration-200",c&&"rotate-180")})]}),c&&t.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-[#18181A] border border-[#262626] rounded-[10px] shadow-lg z-10 w-full p-2",children:[t.jsxs("div",{className:k("items-center cursor-pointer p-2 rounded-[8px]",r==="ADMIN"?"bg-[#5CD2E5] bg-opacity-5 hover:bg-opacity-10":"hover:bg-opacity-5 hover:bg-white"),onClick:()=>{i("ADMIN"),u(!1)},children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("p",{className:k("font-brockmann text-[14px] leading-[20px]",r==="ADMIN"?"font-semibold text-[#5CD2E5]":"font-medium text-[#E6E6E6]"),children:l("projectsIntroduction.admin","Admin")}),r!=="ADMIN"&&t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-[#45474D]"}),r==="ADMIN"&&t.jsx("div",{className:"w-4 h-4",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.5C3.85775 0.5 0.5 3.85775 0.5 8C0.5 12.1423 3.85775 15.5 8 15.5C12.1423 15.5 15.5 12.1423 15.5 8C15.5 3.85775 12.1423 0.5 8 0.5ZM8 5C7.20435 5 6.44129 5.31607 5.87868 5.87868C5.31607 6.44129 5 7.20435 5 8C5 8.79565 5.31607 9.55871 5.87868 10.1213C6.44129 10.6839 7.20435 11 8 11C8.79565 11 9.55871 10.6839 10.1213 10.1213C10.6839 9.55871 11 8.79565 11 8C11 7.20435 10.6839 6.44129 10.1213 5.87868C9.55871 5.31607 8.79565 5 8 5Z",fill:"#5CD2E5"})})})]}),t.jsx("div",{className:k("mt-1 font-inter font-medium text-[12px] leading-[16px]",r==="ADMIN"?"text-opacity-80 text-[#5CD2E5]":"text-[#FFF] text-opacity-50"),children:l("projectsIntroduction.adminDescription","Manage team settings, members and billings")})]}),t.jsxs("div",{className:k("mt-2 items-center cursor-pointer p-2 rounded-[8px]",r==="MEMBER"?"bg-[#5CD2E5] bg-opacity-5 hover:bg-opacity-10":"hover:bg-opacity-5 hover:bg-white"),onClick:()=>{i("MEMBER"),u(!1)},children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("p",{className:k("font-brockmann text-[14px] leading-[20px]",r==="MEMBER"?"font-semibold text-[#5CD2E5]":"font-medium text-[#E6E6E6]"),children:l("projectsIntroduction.member","Member")}),r!=="MEMBER"&&t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-[#45474D]"}),r==="MEMBER"&&t.jsx("div",{className:"w-4 h-4",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.5C3.85775 0.5 0.5 3.85775 0.5 8C0.5 12.1423 3.85775 15.5 8 15.5C12.1423 15.5 15.5 12.1423 15.5 8C15.5 3.85775 12.1423 0.5 8 0.5ZM8 5C7.20435 5 6.44129 5.31607 5.87868 5.87868C5.31607 6.44129 5 7.20435 5 8C5 8.79565 5.31607 9.55871 5.87868 10.1213C6.44129 10.6839 7.20435 11 8 11C8.79565 11 9.55871 10.6839 10.1213 10.1213C10.6839 9.55871 11 8.79565 11 8C11 7.20435 10.6839 6.44129 10.1213 5.87868C9.55871 5.31607 8.79565 5 8 5Z",fill:"#5CD2E5"})})})]}),t.jsx("div",{className:k("mt-1 font-inter font-medium text-[12px] leading-[16px]",r==="MEMBER"?"text-opacity-80 text-[#5CD2E5]":"text-[#FFF] text-opacity-50"),children:l("projectsIntroduction.memberDescription","Can create tasks and see what others are building")})]})]})]})]}),t.jsxs("div",{className:"flex justify-between w-full max-w-[500px] mt-8",children:[t.jsx("button",{type:"button",onClick:a,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-white/[0.12] text-white font-brockmann text-[16px] font-medium leading-[24px] tracking-[-0.2px] hover:bg-white/5 transition-colors",children:l("projectsIntroduction.back","Back")}),t.jsx("button",{type:"button",onClick:o,className:"flex items-center justify-center gap-2 py-3 px-5 rounded-xl font-semibold text-black transition-colors",style:{background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",boxShadow:"0 0 40px 0 rgba(59, 221, 255, 0.20)"},children:l("projectsIntroduction.createProject","Create Project")})]})]},"invite")},gke=({onSeeWhatsNew:e})=>{const{t:n}=en("home");return t.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex flex-col items-center justify-center w-full h-full min-h-[500px] px-4 py-6 md:px-12 md:py-16",children:[t.jsxs("div",{className:"flex items-center gap-1 rounded-[18px] mb-2.5 pt-2 pr-2.5 pb-1.5 pl-2 bg-gradient-to-br from-cyan-400 to-white shadow-[0_0_40px_0_rgba(59,221,255,0.20)]",children:[t.jsx("img",{src:OW,alt:"sparkles",className:"w-3 h-3"}),t.jsx("span",{className:"text-black text-center font-inter text-xs font-semibold leading-3 tracking-wide",children:n("teamsIntroduction.new","NEW")})]}),t.jsx("h1",{className:"text-[36px] font-semibold text-center font-brockmann leading-[44px] tracking-[-1.44px] bg-[linear-gradient(229deg,#00D1FF_-17.18%,#FFF_82.02%)] bg-clip-text text-transparent drop-shadow-[0_0_40px_rgba(59,221,255,0.20)]",children:n("teamsIntroduction.title","Introducing Projects")}),t.jsx("h2",{className:"text-2xl md:text-4xl font-semibold text-white text-center mb-4 md:mb-6 font-brockmann leading-8 md:leading-[44px] tracking-tight",children:n("teamsIntroduction.subtitle","A new chapter for your team")}),t.jsx("p",{className:"text-[15px] text-white/60 text-center max-w-[500px] mb-12 font-inter font-medium leading-7",children:n("teamsIntroduction.description","As one of our first Team plan users, your feedback shaped how collaboration works. Today, we're making collaboration free for everyone by evolving Teams into Projects.")}),t.jsxs("button",{type:"button",onClick:e,className:"flex items-center justify-center gap-1.5 py-3 px-4 rounded-xl bg-white text-[#18181A] font-brockmann text-[16px] font-semibold leading-6 tracking-[-0.2px] hover:bg-white/90 transition-colors shadow-[0px_0px_20px_0px_rgba(255,255,255,0.4),inset_0px_2px_4px_1px_rgba(255,255,255,0.4),inset_0px_-1px_0px_0px_rgba(0,0,0,0.2)]",children:[n("teamsIntroduction.seeWhatsNew","See what's new"),t.jsx(Hme,{className:"w-4 h-4"})]})]},"teams_intro")},bke="/assets/project_introduction_move_tasks-Dp5av0zG.png",yke="/assets/project_introduction_collaboration-BkCkJKbj.png",vke="/assets/project_introduction_credits-K6PViokX.png",wke="/assets/project_introduction_thumbs_up-Co__IpER.png",Cke=({src:e,alt:n})=>t.jsx("div",{className:"w-16 h-16 flex items-center justify-center flex-shrink-0",children:t.jsx("img",{src:e,alt:n,className:"w-16 h-16 object-contain"})}),_ke=[{titleKey:"teamsFeatures.moveTasks.title",titleDefault:"Organise Tasks Cleanly",descriptionKey:"teamsFeatures.moveTasks.description",descriptionDefault:"As a much-requested feature, you can now move tasks and all connected forks into one place.",icon:bke},{titleKey:"teamsFeatures.collaboration.title",titleDefault:"No limit on collaboration",descriptionKey:"teamsFeatures.collaboration.description",descriptionDefault:"You can now create unlimited Projects and add unlimited collaborators per Project.",icon:yke},{titleKey:"teamsFeatures.credits.title",titleDefault:"What happens to my credits?",descriptionKey:"teamsFeatures.credits.description",descriptionDefault:"We've retired Team plan and moved all your credits to your personal plan. You now have one central balance to manage and track your usage.",icon:vke},{titleKey:"teamsFeatures.staysSame.title",titleDefault:"Everything stays same",descriptionKey:"teamsFeatures.staysSame.description",descriptionDefault:"We are moving your subscription to Pro plan next billing cycle, all the same benefits",icon:wke}],jke=({onOkayGotIt:e,onLearnMore:n})=>{const{t:s}=en("home");return t.jsxs("div",{className:"flex flex-col w-full h-[600px]",children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-12",style:{maxHeight:"calc(600px - 100px)"},children:[t.jsx("h2",{className:"text-[15px] text-white/60 font-inter font-medium leading-7 mb-6 md:mb-8",children:s("teamsFeatures.header","Here's what's new:")}),t.jsx("div",{className:"space-y-8",children:_ke.map((i,a)=>t.jsxs("div",{className:"flex items-start gap-5",children:[t.jsx(Cke,{src:i.icon,alt:s(i.titleKey,i.titleDefault)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-[18px] font-medium text-white font-brockmann leading-8",children:s(i.titleKey,i.titleDefault)}),t.jsx("p",{className:"text-[14px] text-white/50 font-inter font-medium leading-6",children:s(i.descriptionKey,i.descriptionDefault)})]})]},a))})]}),t.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3 py-6 border-t border-[#333] px-4 md:px-12 bg-[#151517]",children:[t.jsx("button",{type:"button",onClick:e,className:"flex w-[160px] py-3 px-4 justify-center items-center gap-2 shrink-0 rounded-xl bg-white text-[#18181A] font-brockmann text-[16px] font-semibold leading-6 tracking-[-0.2px] hover:bg-white/90 transition-colors",children:s("teamsFeatures.okayGotIt","Okay, got it")}),t.jsxs("button",{type:"button",onClick:n,className:"flex w-[160px] py-3 px-4 justify-center items-center gap-2 shrink-0 rounded-xl border border-white/[0.12] text-white font-brockmann text-[16px] font-medium leading-6 tracking-[-0.2px] hover:bg-white/5 transition-colors opacity-60",children:[s("teamsFeatures.learnMore","Learn more"),t.jsx(Uo,{className:"w-4 h-4"})]})]})]})},yD={steps:[{id:"intro",enabled:!0},{id:"details",enabled:!0},{id:"tasks",enabled:!1},{id:"invite",enabled:!1},{id:"teams_intro",enabled:!1},{id:"teams_features",enabled:!1}]},vD={steps:[{id:"intro",enabled:!1},{id:"details",enabled:!1},{id:"tasks",enabled:!1},{id:"invite",enabled:!1},{id:"teams_intro",enabled:!0},{id:"teams_features",enabled:!0}]},g0=e=>e.steps.filter(n=>n.enabled).map(n=>n.id),wD=(e,n)=>{const s=g0(e),r=s.indexOf(n);return r===-1||r===s.length-1?null:s[r+1]},Nke=(e,n)=>{const s=g0(e),r=s.indexOf(n);return r<=0?null:s[r-1]},Fke=(e,n)=>{const s=g0(e);return s[s.length-1]===n},CD=e=>g0(e)[0]||"intro",Eke=({isOpen:e,onOpenChange:n,onProjectCreated:s,tasks:r=[],onLearnMore:i,config:a})=>{const{t:o}=en("teams"),{newToast:l}=Ga(),{workspaces:c}=hs(),[u,{isLoading:p}]=ZP(),{isMobile:f}=ts(),[m,h]=d.useState(!1),[x,g]=d.useState(!1),v=d.useRef(!1);d.useEffect(()=>{if(!e||f)return;v.current=!1;const Q=ce=>{g(ce);const J=CD(ce?vD:a||yD);N(J),h(!0),v.current=!0},he=Xie();if(he!==void 0){Q(he===!0);return}Mf(()=>{if(!v.current){const ce=gO();Q(ce)}});const me=setTimeout(()=>{v.current||Q(!1)},3e3);return()=>clearTimeout(me)},[e,f,a]),d.useEffect(()=>{e||(h(!1),v.current=!1)},[e]);const b=x?vD:a||yD,y=g0(b),w=CD(b),[_,N]=d.useState(w),[j,C]=d.useState(""),[S,F]=d.useState("New Project"),[E,I]=d.useState([]),[T,A]=d.useState(""),[D,O]=d.useState(""),[M,L]=d.useState("MEMBER"),[P,B]=d.useState(""),G=c.some(Q=>Q.name.toLowerCase().trim()===j.toLowerCase().trim());d.useEffect(()=>{e&&!f&&(H(qn.MODAL_EVENTS.PROJECTS_INTRODUCTION_MODAL_OPENED),C(""),F("New Project"),I([]),A(""),O(""),L("MEMBER"),B(""))},[e,f]);const $=()=>{ex(),n(!1),H(qn.MODAL_EVENTS.PROJECTS_INTRODUCTION_MODAL_CLOSED),Gp.emit(Wp.PROJECTS_INTRO_CLOSED)},te=()=>{H(ki.ONBOARDING_LEARN_MORE_CLICKED),ex(),i?.(),$()},U=()=>{H(ki.TEAMS_INTRO_SEE_WHATS_NEW_CLICKED);const Q=wD(b,"teams_intro");Q&&N(Q)},oe=()=>{H(ki.TEAMS_INTRO_OKAY_GOT_IT_CLICKED),ex(),n(!1),Gp.emit(Wp.PROJECTS_INTRO_CLOSED)},Y=()=>{H(ki.TEAMS_INTRO_LEARN_MORE_CLICKED),te()},W=()=>{const Q=wD(b,_);Q&&(_==="intro"&&H(ki.ONBOARDING_CREATE_FIRST_PROJECT_CLICKED),N(Q),H(`projects_intro_navigate_to_${Q}`))},Z=()=>{const Q=Nke(b,_);Q&&(N(Q),H(`projects_intro_navigate_back_to_${Q}`))},le=async()=>{if(!j.trim()){B(o("teams.createWorkspace.projectNameRequired","Please enter a project name"));return}if(G){B(o("teams.createWorkspace.duplicateName","A project with this name already exists"));return}H(ki.CREATE_PROJECT_SUBMIT_CLICKED,{workspaceName:j.trim(),source:"projects_introduction_modal"});try{const Q=await u({name:j.trim(),description:""}).unwrap();ex(),l.success(o("teams.createWorkspace.workspaceCreated","Project created successfully")),H(ki.WORKSPACE_CREATED_SUCCESSFULLY,{workspaceId:Q.id,workspaceName:Q.name,source:"projects_introduction_modal",hasTasksMoved:E.length>0,hasInvites:D.trim().length>0}),Bp()||v9(),AL(),n(!1),Gp.emit(Wp.PROJECTS_INTRO_CLOSED),s?.(Q.id,Q.name)}catch(Q){l.error(Q?.error||o("teams.createWorkspace.failedToCreate","Failed to create project"))}};if(!e||f)return null;const q=Q=>y.includes(Q);return t.jsx("div",{className:"fixed inset-0 z-[99999] bg-black/60 backdrop-blur-sm",children:t.jsx("div",{className:"flex items-center justify-center w-full h-full p-4",children:t.jsxs("div",{className:"w-full max-w-[95vw] md:max-w-[750px] md:w-[750px] h-[90dvh] md:h-[602px] bg-[#151517] border border-[#1F1F1F] rounded-2xl relative flex flex-col overflow-hidden",children:[t.jsx("button",{type:"button",onClick:$,disabled:p||!m,className:"absolute z-10 flex items-center justify-center w-10 h-10 text-white transition-all duration-200 rounded-[24px] top-4 right-4 bg-white/[0.04] hover:bg-white/[0.08] disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Close modal",children:t.jsx(Ft,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:[!m&&t.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-[500px]",children:t.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}),t.jsx(Kn,{mode:"wait",children:m&&t.jsxs(t.Fragment,{children:[_==="intro"&&q("intro")&&t.jsx(pke,{onNext:W,onClose:$,onLearnMore:te}),_==="details"&&q("details")&&t.jsx(mke,{projectName:j,setProjectName:C,avatarSeed:S,setAvatarSeed:F,projectNameError:P,setProjectNameError:B,onNext:W,onBack:Z,onClose:$,onCreateProject:le,isLastStep:Fke(b,"details"),isLoading:p,isDuplicateName:G}),_==="tasks"&&q("tasks")&&t.jsx(hke,{projectName:j,tasks:r,selectedTaskIds:E,setSelectedTaskIds:I,taskSearchQuery:T,setTaskSearchQuery:A,onNext:W,onBack:Z,onClose:$}),_==="invite"&&q("invite")&&t.jsx(xke,{projectName:j,emails:D,setEmails:O,memberRole:M,setMemberRole:L,onNext:W,onBack:Z,onClose:$,onCreateProject:le}),_==="teams_intro"&&q("teams_intro")&&t.jsx(gke,{onSeeWhatsNew:U}),_==="teams_features"&&q("teams_features")&&t.jsx(jke,{onOkayGotIt:oe,onLearnMore:Y})]})})]})]})})})},Ske=K.common.buyCredit,kke=K.panels.phone;function _D({hideNav:e=!1,className:n}){const{t:s}=en(["home","common"]),[r,i]=d.useState(!1),[a,o]=d.useState(!0),[l,c]=d.useState(!1),[u,p]=d.useState(!1),[f,m]=d.useState(!1),[h,x]=d.useState(!1),g=br(pt=>pt.menu?.showModelSelectorTooltip),v=$O(),b=Hr(),y=r0(),w=ku(),_=WO(),N=s7(),{isMobile:j}=ts(),[C,S]=d.useState(!1),F={background:`
      linear-gradient(90deg, #ffffff30, #00000050),
      #F3CA5F
    `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal",boxShadow:`
      0px 0px 20px 0px #F3CA5F66,
      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,
      0px -1.45px 0px 0px #00000033 inset,
      0px 0.73px 0.73px 0.73px #0000001A
    `},{user:E,signOut:I,session:T}=os(),{setTabs:A,setActiveTab:D}=hi(),{config:O}=sc(),{isConnected:M,checkGitHubConnection:L,setIsConnected:P}=Du(),{personalTier:B}=xs(),{isTrulyFreeUser:G,isOrganizationWorkspace:$,restrictedFree:te,isCurrentWorkspaceOwner:U}=gi(),{sendMessage:oe,isMobileApp:Y}=K9(),W=hs(),Z=C1e();CSe(E?.id,W.getCurrentOrganizationId(),B);const{isEligible:le,isLoading:q}=Uf(),Q=(pt,ft)=>{Bp()||v9();const Ze=`${hh(pt)}?switching=${encodeURIComponent(ft)}`;a7.show(void 0,s("teams:teams.switchingToWorkspace",{workspaceName:ft,defaultValue:`Switching to ${ft}...`})),setTimeout(()=>{window.location.href=Ze},100)},he=()=>{window.open("https://help.emergent.sh/articles/205415-getting-started-with-projects","_blank")};d.useEffect(()=>{const pt=()=>m(!0),ft=()=>m(!1);return window.addEventListener("tour-started",pt),window.addEventListener("tour-ended",ft),()=>{window.removeEventListener("tour-started",pt),window.removeEventListener("tour-ended",ft)}},[]);const[me,ce]=d.useState(!1),{guardAction:ee}=T3(),[J,re]=d.useState(!1),[xe,ae]=d.useState(null),Fe=Iie(),se=()=>{v.open()},_e=pt=>{pt.stopPropagation();const ft="personal";if(Y&&te){const Tt=B,Gt=Tt!=="free",Ze="upgrade-tier",{title:ut,description:Qt}=Ro(Ze);oe("TRIGGER_SUBSCRIPTION",{planType:ft,organizationId:void 0,triggerLocation:Ze,currentTier:Tt,hasActiveSubscription:Gt,title:ut,description:Qt,...Gt&&{modalType:"proFeature"}}),H(qn.CREDIT_EVENTS.BUY_CREDITS_BUTTON_CLICKED,{planType:ft});return}te?b.open({planType:ft}):y.open(),H(qn.CREDIT_EVENTS.BUY_CREDITS_BUTTON_CLICKED,{planType:ft})},Re=()=>{w.open({initialTab:"account"})},Se=()=>{S(!0)},Ne=()=>{_.open(),H(qn.HOME_PAGE_EVENTS.REFERRAL_ICON_CLICKED),l||c(!0)},ge=()=>{const pt=W.getCurrentOrganizationId();H(ki.PROJECT_INVITE_MEMBER_CLICKED,{currentWorkspace:pt,source:"protected_layout"}),N.open({organizationId:pt})};d.useEffect(()=>{Y&&o(!1)},[Y]);const Ce=d.useRef(!1),$e=d.useRef(g);d.useEffect(()=>{if(j||Y||!E||Ce.current||q||fg()||!pg()&&!G()||g||$e.current||k1()||le&&!TL())return;if(Ce.current=!0,gO()){p(!0);return}const pt="projects_intro_page_load_count",Tt=parseInt(localStorage.getItem(pt)||"0",10)+1;localStorage.setItem(pt,Tt.toString()),Tt>=2&&p(!0)},[j,Y,E,le,q,g]),d.useEffect(()=>{if($e.current&&!g){const pt=setTimeout(()=>{j||Y||E&&(fg()||!pg()&&!G()||k1()||p(!0))},3e3);return $e.current=g,()=>clearTimeout(pt)}$e.current=g},[g,j,Y,E]),d.useEffect(()=>{if(!le)return;const pt=()=>{j||Y||!pg()&&!G()||g||!fg()&&!k1()&&x(!0)};return Gp.on(Wp.FREE_STANDARD_PLAN_CLOSED,pt),()=>Gp.off(Wp.FREE_STANDARD_PLAN_CLOSED,pt)},[le,j,Y,g]),d.useEffect(()=>{h&&(p(!0),x(!1))},[h]);const{bannerConfig:dt,hideBanner:Me,showWarning:we,showInfo:Te,showError:ze,showSuccess:_t,externalBannersHeight:Bt}=ka(),qe=Iz();d.useEffect(()=>{const pt=kie();let ft=null;if(pt?ft=pt:O?.info_banner&&O.info_banner.show&&(ft=O.info_banner),ft){const{level:Tt,content:Gt,dismissible:Ze}=ft;switch(Tt){case"info":Te(Gt,Ze);break;case"warning":we(Gt,Ze);break;case"error":ze(Gt,Ze);break;case"success":_t(Gt,Ze);break;default:we(Gt,Ze)}}},[O,we,Te,ze,_t]);const Ae=async()=>{ee(async()=>{i(!0),A(pt=>pt.filter(ft=>ft.id==="home")),P(!1),D("home"),sessionStorage.removeItem("persist:tabs"),await I().then(()=>{i(!1)})},{modalTitle:"You have unsaved changes",modalDescription:"Logging out will discard your unsaved visual edit changes.",confirmText:"Logout",showModal:pt=>{ae(pt),re(!0)}})},Le=()=>{Me()},Ut=()=>{const pt=th.appUrl;window.open(pt,"_blank")};d.useEffect(()=>{T&&L()},[T]);const{getActiveTab:tt}=hi(),xt=tt(),St=xt?.id!=="home",It=xt?.tabType==="ShowCasePreview",kt=!!xt?.state?.isPhishingBlocked,Ot=W.getCurrentWorkspaceData(),Ie=Dh(Ot),nt=te&&a&&U,{members:We,pending_members:Lt}=rz();return t.jsx(_Se,{children:t.jsxs("div",{className:k("flex h-full flex-col",j&&"overscroll-none",n),children:[!e&&t.jsxs("header",{className:k("z-[10000] md:bg-[rgba(30,30,31,0.8)] max-md:bg-transparent",Y?"fixed left-0 right-0":"sticky"),style:{top:Bt},children:[t.jsx(Kn,{children:dt.show&&t.jsx(fe.div,{ref:qe,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:[.25,.1,.25,1]},style:{overflow:"hidden"},children:t.jsx(kSe,{level:dt.level,content:dt.content,iconUrl:dt.iconUrl,dismissible:dt.dismissible,onDismiss:Le})})}),t.jsxs("div",{className:"flex items-center justify-between px-2 h-[56px] md:h-[56px] md:max-h-[56px] md:px-4 container-fluid",children:[t.jsx("div",{className:"flex-1 h-full flex md:items-end overflow-hidden md:mr-4 w-full md:max-w-[calc(100%-280px)]",children:t.jsx(wSe,{})}),!T&&t.jsxs("div",{className:"flex items-center gap-[10px] ",children:[t.jsxs(H_,{to:Pa,className:k(yu({variant:"outline"}),"text-white border-[1px] border-[#3D3D3D] px-[20px] py-[8px] h-[36px]"),children:[" ",s("common.logIn")]}),t.jsxs(H_,{to:Pa,className:k(yu({variant:"default"}),"text-[#1A1A1A]  bg-white  px-[20px] py-[8px] h-[36px]"),children:[" ",s("common.signUp")]})]}),T&&t.jsxs("div",{className:"flex items-center gap-2 justify-end flex-shrink-0 md:min-w-[180px]",children:[Z&&t.jsx(ESe,{isMobile:j,hideOnCondition:St}),$()&&t.jsxs("div",{className:"flex items-center -space-x-[14px] max-md:hidden",children:[We&&Lt&&Ie&&t.jsx("button",{title:"Add member",type:"button",className:k("w-9 h-9 bg-[#333333] border-[3px] border-[#1B1B1C] rounded-full flex items-center justify-center transition-colors",f?"z-[10001]":"z-50"),onClick:ge,"data-tour":"add-member-button",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M11.0526 17.0526C11.0526 17.3039 11.1524 17.5449 11.3301 17.7225C11.5078 17.9002 11.7487 18 12 18C12.2513 18 12.4922 17.9002 12.6699 17.7225C12.8476 17.5449 12.9474 17.3039 12.9474 17.0526V13.9474C12.9474 13.3951 13.3951 12.9474 13.9474 12.9474H17.0526C17.3039 12.9474 17.5449 12.8476 17.7225 12.6699C17.9002 12.4922 18 12.2513 18 12C18 11.7487 17.9002 11.5078 17.7225 11.3301C17.5449 11.1524 17.3039 11.0526 17.0526 11.0526H13.9474C13.3951 11.0526 12.9474 10.6049 12.9474 10.0526V6.94737C12.9474 6.69611 12.8476 6.45514 12.6699 6.27748C12.4922 6.09981 12.2513 6 12 6C11.7487 6 11.5078 6.09981 11.3301 6.27748C11.1524 6.45514 11.0526 6.69611 11.0526 6.94737V10.0526C11.0526 10.6049 10.6049 11.0526 10.0526 11.0526H6.94737C6.69611 11.0526 6.45514 11.1524 6.27748 11.3301C6.09981 11.5078 6 11.7487 6 12C6 12.2513 6.09981 12.4922 6.27748 12.6699C6.45514 12.8476 6.69611 12.9474 6.94737 12.9474H10.0526C10.6049 12.9474 11.0526 13.3951 11.0526 13.9474V17.0526Z",fill:"white"})})}),(()=>{if(!We)return null;const ft=We.filter(Ze=>Ze.user_id!==E?.id).slice(0,2),Tt=We.find(Ze=>Ze.user_id===E?.id);return(Tt?[...ft,Tt]:ft).map((Ze,ut)=>t.jsx("div",{className:`w-9 h-9 rounded-full border-[3px] border-[#1B1B1C] overflow-hidden mr-[2px] z-${40-ut*10}`,children:Ze.avatar_url?t.jsx("img",{src:Ze.avatar_url,alt:Ze.name||Ze.email,className:"object-cover w-full h-full"}):t.jsx("div",{className:"flex items-center justify-center w-full h-full",style:{backgroundColor:hB(Ze.user_id||"")},children:t.jsx("span",{className:"text-sm font-medium text-white",children:Ze.name?.charAt(0).toUpperCase()||Ze.email?.charAt(0).toUpperCase()||"U"})})},Ze.user_id||ut))})()]}),(!G()||$())&&t.jsx(NSe,{showBuyButton:nt}),(nt||St&&U)&&!It?t.jsxs("button",{type:"button",onClick:_e,title:s("sidebar.buyCredits"),style:F,className:k("relative flex h-8 justify-center items-center gap-1 rounded-full font-[600] text-[14px] text-[#0F0F10]",St&&j?"pl-[8px] pr-[8px] min-w-8":"pl-[8px] pr-[12px] gap-[4px]"),children:[St&&j&&t.jsx("span",{className:"tracking-[-0.2px]",children:s("sidebar.buy")}),t.jsx("img",{src:Ske,alt:"right arrow",className:"w-5 h-5"}),(!St||!j)&&t.jsx("span",{className:"tracking-[-0.2px]",children:s("sidebar.buyCredits")})]}):null,t.jsx(oke,{className:k(St&&"max-md:hidden")}),G()&&!$()&&Fe&&t.jsx(r$,{title:Fe.title,description:Fe.description,qrCodeUrl:Fe.qrCodeUrl,align:"end",source:"topnav",children:pt=>t.jsx("button",{type:"button",title:"Get Mobile App",className:k("rounded-full h-8 w-8 flex items-center justify-center max-md:hidden transition-colors",pt?"bg-white":"bg-[#FFFFFF1A]"),children:t.jsx("img",{src:kke,alt:"Phone Icon",className:k("w-5 h-5",!pt&&"invert")})})}),!$()&&t.jsx("button",{type:"button","data-testid":er.referral.giftIconButton,title:"Gift Icon",onClick:Ne,className:k("relative bg-[#80FFF9]/10 rounded-full h-8 w-8 flex items-center justify-center",St&&"max-md:hidden"),children:t.jsx(Gr,{})}),t.jsx("div",{className:"items-center justify-end hidden gap-4 md:flex",children:t.jsx(DW,{isLoggingOut:r,user:E,handleGitHubConfigClick:Ut,handleLogout:Ae,isGitHubConnected:M,isOpen:me,onOpenChange:()=>{ce(!me)},handleUniversalKeyClick:se,openAccountSettingsModal:Re,openLanguageBottomSheet:Se,popoverClassName:"w-[300px] bg-[#131314] border-[#1f1f1f] mt-4 mb-2 -mr-[15px] p-0 rounded-[16px] shadow-md"})})]}),j&&St&&!It&&t.jsx("div",{className:" right-2 min-h-[40px] min-w-[40px] ml-2",children:t.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("openMobileMenu")),className:"min-h-10 min-w-10 rounded-full flex items-center justify-center bg-[#FFFFFF0A] pb-0 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Open menu",disabled:kt,children:t.jsx(Eme,{className:"w-6 h-6"})})}),j&&It&&t.jsx(ms,{children:t.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[t.jsxs(Ss,{delayDuration:100,children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{title:"Open in new tab",type:"button",onClick:()=>{window.dispatchEvent(new CustomEvent("openShowcaseInNewTab"))},className:"w-8 h-8 border-[1.48px] border-[#FFFFFF1F] bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx("img",{src:K.panels.link,alt:"Open in new tab",className:"w-5 h-5"})})}),t.jsx(Ns,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:s("common.openInNewTab")})]}),t.jsxs(Ss,{delayDuration:100,children:[t.jsx(ks,{asChild:!0,children:t.jsx("button",{title:s("common.refresh"),type:"button",onClick:()=>{window.dispatchEvent(new CustomEvent("refreshShowcaseIframe"))},className:"w-8 h-8 border-[1.48px] border-[#FFFFFF1F] bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx(x3,{width:20,height:20,spinning:!1})})}),t.jsx(Ns,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:s("common.refresh")})]}),t.jsx("button",{title:"Show info",type:"button",onClick:()=>window.dispatchEvent(new CustomEvent("openMobileMenu")),className:"w-8 h-8 border-[1.48px] border-[#FFFFFF1F] bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px] disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Show info",disabled:kt,children:t.jsx(s3,{className:"w-5 h-5 text-[#737380]"})})]})})]})]}),!e&&Y&&t.jsx("div",{className:"h-[70px] flex-shrink-0"}),t.jsx(vSe,{}),t.jsx(as,{open:J&&xe,onOpenChange:re,children:t.jsx(Cr,{children:t.jsx(x0,{isOpen:J,onClose:()=>re(!1),onConfirm:xe?.onConfirm,title:xe?.title,description:xe?.description,confirmButton:xe?.confirmButton,cancelButton:xe?.cancelButton})})}),t.jsx(TW,{open:C,onOpenChange:S}),t.jsx(Eke,{isOpen:u,onOpenChange:p,onProjectCreated:Q,onLearnMore:he})]})})}function Ike({description:e,error:n,steps:s=[]}){return t.jsxs("div",{className:"w-full",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:e}),n&&t.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-destructive",children:[t.jsx(_me,{className:"h-4 w-4"}),t.jsx("span",{children:n})]})]}),s.length>0&&t.jsx("div",{className:"mb-4 space-y-2",children:s.map((r,i)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.status==="completed"?t.jsx(Cme,{className:"h-4 w-4 text-green-500"}):r.status==="in_progress"?t.jsx(Cl,{className:"h-4 w-4 text-blue-500 animate-pulse"}):t.jsx(YU,{className:"h-4 w-4 text-gray-300"}),t.jsx("span",{className:r.status==="completed"?"text-green-500":r.status==="in_progress"?"text-blue-500":"text-gray-400",children:r.name})]},i))})]})}function Tke(){const{toast:e}=ns(),n=br(s=>s.progress);return d.useEffect(()=>{n.isVisible&&e({title:n.title,description:t.jsx(Ike,{title:n.title,description:n.description,progress:n.progress,error:n.error,steps:n.steps,currentStep:n.currentStep}),duration:n.error?1/0:n.progress===100?3e3:1/0})},[n.isVisible,n.progress,n.title,n.description,n.error,n.steps,n.currentStep]),null}const jD=[K.gifting.carouselImage1,K.gifting.carouselImage2,K.gifting.carouselImage3,K.gifting.carouselImage4,K.gifting.carouselImage5],KC=({isOpen:e,onOpenChange:n,recipientName:s="John",recipientEmail:r="johndoewho@gmail.com",senderEmail:i="nagar@emergent.sh",selectedCardIndex:a=3,onClose:o,onSendAnother:l})=>{const c=eB(),u=jD[a]??jD[3],p=()=>{H("gifting_success_modal_closed",{recipientName:s,recipientEmail:r}),o?.(),n(!1)},f=()=>{H("gifting_success_send_another_clicked",{recipientName:s,recipientEmail:r}),n(!1),l?.(),c.open()},m=h=>{h?n(h):p()};return t.jsx(S5,{open:e,onOpenChange:m,children:t.jsxs(Yh,{children:[t.jsx(Ff,{className:"fixed inset-0 z-[999] bg-[rgba(15,15,16,0.6)] backdrop-blur-[6px]"}),t.jsxs(Ef,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] z-[999] max-w-[calc(100vw-24px)] w-full md:max-w-[700px] h-[550px] md:h-[700px] bg-[rgba(28,28,31,1)] rounded-[16px] shadow-2xl overflow-hidden border border-[rgba(36,36,36,1)] focus-visible:outline-none",children:[t.jsx("button",{onClick:p,className:"absolute top-[16px] right-[16px] md:top-[22px] md:right-[22px] w-8 h-8 md:w-9 md:h-9 flex items-center justify-center bg-[rgba(255,255,255,0.04)] hover:bg-white/10 rounded-full transition-colors z-20",title:"Close",children:t.jsx(Ft,{className:"w-5 h-5 md:w-[22px] md:h-[22px] text-white"})}),t.jsx(fe.div,{className:"w-full h-full flex justify-center items-center py-8 md:py-0",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.2,ease:"easeOut"},children:t.jsxs("div",{className:"relative max-w-[400px] px-4 md:px-0",children:[t.jsx("div",{className:"mb-4 md:mb-6 flex justify-center h-[200px] md:h-[272px]",children:t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:u,alt:"",className:"absolute left-1/2 -translate-x-1/2 bottom-[0px] w-[80%] rounded-[20px] opacity-50 blur-[25px]"}),t.jsx("img",{src:u,alt:"Gift card",className:"relative z-10 rounded-[16px] md:rounded-[23px] rotate-[-2deg] hover:rotate-0 hover:scale-[105%] transition-all duration-200 max-w-[290px] max-h-[176px] md:max-w-[380px] md:max-h-[300px] md:translate-y-[-15px]"})]})}),t.jsx("div",{className:"relative text-center mb-3 md:mb-4",children:t.jsx("h1",{className:"text-[24px] md:text-[30px] font-medium leading-[32px] md:leading-[40px] bg-clip-text text-transparent",style:{backgroundImage:`url(${K.gifting.bgWeb})`,backgroundSize:"cover",backgroundPosition:"center"},children:"Your gift's on the way"})}),t.jsxs("p",{className:"relative text-center text-[14px] text-white/60 font-medium leading-[18px] md:leading-[24px] mb-6 md:mb-[40px] font-[Inter]",children:["Weve emailed ",t.jsxs("span",{className:"text-white",children:[s,"'s"]})," gift to"," ",t.jsx("span",{className:"text-white",children:r}),". ",t.jsx("br",{})," Theyll receive a code to redeem the gift."]}),t.jsxs("div",{className:"relative flex flex-col sm:flex-row items-center justify-center gap-3 md:gap-4",children:[t.jsx("button",{onClick:f,className:"w-full sm:w-auto px-6 py-2.5 md:py-2 bg-white text-black font-semibold rounded-[10px] text-[14px] md:text-[16px] transition-all duration-200 border-none shadow-[0_0_20px_rgba(255,255,255,0.2)] hover:shadow-[0_0_25px_rgba(255,255,255,0.3)]",children:"Send another gift"}),t.jsx("button",{onClick:p,className:"w-full sm:w-auto px-6 py-2.5 md:py-2 bg-[rgba(28,28,31,1)] hover:bg-[rgba(44,44,48,0.74)] text-white opacity-60 font-medium rounded-[10px] text-[14px] md:text-[16px] transition-colors border border-[rgba(255,255,255,0.12)]",children:"Done"})]})]})})]})]})})};KC.displayName="GiftingSuccessModal";const Ake=Object.freeze(Object.defineProperty({__proto__:null,GiftingSuccessModal:KC},Symbol.toStringTag,{value:"Module"}));function Dke(){const[e,n]=d.useState(!1),[s,r]=d.useState(!1),[i,a]=d.useState(!1),[o,l]=d.useState(null),[c,u]=d.useState(null),[p,f]=d.useState(null),[m,h]=d.useState(null),[x,g]=d.useState(null),[v,b]=d.useState(null),y=Mi(),w=d.useRef(!1);return d.useEffect(()=>{if(w.current)return;const _=new URLSearchParams(y.search),N=_.get("payment_status"),j=_.get("subscription_status"),C=_.get("payment_id"),S=_.get("plan_name"),F=_.get("mode");let E=_.get("organization_id");const I=y.pathname.match(/\/workspace\/(org_[a-f0-9-]+)/i);if(I&&I[1]){const L=I[1];(!E||E.length<L.length&&L.startsWith(E.replace(/-/g,"")?.slice(0,10)||""))&&(E=L)}const T=_.get("plan_id"),A=_.get("is_subscription"),D=N||j,O=localStorage.getItem("giftingDetails");let M="payment";if(O?M="gift":(j||T||A==="true"||F==="subscription")&&(M="subscription"),D&&C&&(D==="success"||D==="cancelled"||D==="failed"||D==="expired")){if(u(D),l(C),h(E),g(S),M==="gift"){if(f("gift"),O)try{const P=JSON.parse(O);b(P),localStorage.removeItem("giftingDetails")}catch{}n(!0)}else M==="subscription"?(f("subscription"),r(!0)):(f("payment"),n(!0));w.current=!0;const L=window.location.pathname;window.history.replaceState({},document.title,L)}},[y.search]),{isPaymentModalOpen:e,setPaymentModalOpen:n,isSubscriptionModalOpen:s,setSubscriptionModalOpen:r,isGiftingSuccessModalOpen:i,setGiftingSuccessModalOpen:a,paymentId:o,paymentStatus:c,paymentType:p,organizationId:m,planName:x,giftingDetails:v}}const Mke=()=>{if(document.querySelector('meta[name="google"]'))return;const n=document.createElement("meta");n.name="google",n.content="notranslate",document.head.appendChild(n)},Rke=()=>{document.body.classList.add("notranslate")},Lke=()=>{Mke(),Rke()},Pke=IM,BW=d.forwardRef(({className:e,...n},s)=>t.jsx(q8,{ref:s,className:k("fixed top-0 z-[99999] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:left-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...n}));BW.displayName=q8.displayName;const Oke=r3("group pointer-events-auto relative flex w-full z-[9999] items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-left-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),UW=d.forwardRef(({className:e,variant:n,...s},r)=>t.jsx(K8,{ref:r,className:k(Oke({variant:n}),e),...s}));UW.displayName=K8.displayName;const Bke=d.forwardRef(({className:e,...n},s)=>t.jsx($M,{ref:s,className:k("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...n}));Bke.displayName=$M.displayName;const HW=d.forwardRef(({className:e,...n},s)=>t.jsx(Z8,{ref:s,className:k("absolute right-4 top-4 rounded-md p-0 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...n,children:t.jsx(Ft,{className:"w-5 h-5"})}));HW.displayName=Z8.displayName;const VW=d.forwardRef(({className:e,...n},s)=>t.jsx(zM,{ref:s,className:k("text-sm font-semibold",e),...n}));VW.displayName=zM.displayName;const $W=d.forwardRef(({className:e,...n},s)=>t.jsx(Y8,{ref:s,className:k("text-sm opacity-90",e),...n}));$W.displayName=Y8.displayName;function Uke(){const{toasts:e}=ns();return t.jsxs(Pke,{children:[e.map(function({id:n,title:s,description:r,action:i,...a}){return t.jsxs(UW,{...a,children:[t.jsxs("div",{className:"grid gap-1",children:[s&&t.jsx(VW,{children:s}),r&&t.jsx($W,{children:r})]}),i,t.jsx(HW,{})]},n)}),t.jsx(BW,{})]})}function Hke(){const e=d.useCallback((u,p)=>{try{window.localStorage.setItem(u,JSON.stringify(p))}catch{}},[]),n=d.useCallback((u,p)=>{try{const f=window.localStorage.getItem(u);return f?JSON.parse(f):p||null}catch{return p||null}},[]),s=d.useCallback(u=>{try{window.localStorage.removeItem(u)}catch{}},[]),r=d.useCallback(u=>{u.forEach(p=>s(p))},[s]),i=d.useCallback(()=>{try{w9()}catch{window.localStorage.clear()}},[]),a=d.useCallback(u=>{try{return window.localStorage.getItem(u)!==null}catch{return!1}},[]),o=d.useCallback(()=>{try{return Object.keys(window.localStorage)}catch{return[]}},[]),l=d.useCallback(u=>{try{const p={};return o().forEach(m=>{m.startsWith(u)&&(p[m]=n(m))}),p}catch{return{}}},[o,n]),c=d.useCallback(u=>{try{o().forEach(f=>{f.startsWith(u)&&s(f)})}catch{}},[o,s]);return{setItem:e,getItem:n,removeItem:s,removeItems:r,clearAll:i,hasItem:a,getAllKeys:o,getItemsByPrefix:l,removeItemsByPrefix:c}}function zW(){const{removeItems:e,getItem:n,hasItem:s}=Hke(),r=d.useCallback(()=>{e(["pending_referral_code","referral_applied","referral_modal_data"])},[e]),i=d.useCallback(()=>s("pending_referral_code")||s("referral_applied")||s("referral_modal_data"),[s]),a=d.useCallback(()=>({pendingReferralCode:n("pending_referral_code"),referralApplied:n("referral_applied"),referralModalData:n("referral_modal_data")}),[n]),o=d.useCallback(()=>{const c=n("referral_modal_data");if(!c||!c.shouldShow)return null;const u=1440*60*1e3;return Date.now()-c.timestamp>u?(e(["referral_modal_data"]),null):c},[n,e]),l=d.useCallback(()=>{e(["referral_modal_data"])},[e]);return{clearReferralData:r,hasReferralData:i,getReferralData:a,getReferralModalData:o,clearReferralModalData:l}}const Vke=K.referral.credited;function $ke({isOpen:e,onOpenChange:n,reward:s=5}){const{refreshCredits:r}=xs(),{clearReferralData:i}=zW();d.useEffect(()=>{r()},[e]);const a=()=>{i(),n(!1)},o={background:`
      linear-gradient(180deg, rgba(255, 255, 255, 1), rgba(0, 0, 0, 1)),
      rgba(243, 202, 95, 1)
    `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",color:"transparent"};return t.jsx(as,{open:e,onOpenChange:a,children:t.jsxs(Er,{className:"max-w-[95%]  md:max-w-[600px] bg-[#1C1C1F] text-white border-[#2E2F34] p-6 md:p-12",children:[t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"button",title:"Close",onClick:a,className:"text-gray-400 hover:text-white",children:t.jsx(Ft,{size:24})})}),t.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[t.jsx("img",{src:Vke,alt:"Credited",className:"w-20 h-20 max-md:w-12 max-md:h-12"}),t.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 mb-[3rem] max-md:mb-[1rem]",children:[t.jsxs("h3",{className:"text-[20px] md:text-[32px] text-center font-medium text-white",children:["You have earned ",t.jsx("br",{})," ",t.jsxs("span",{className:"",style:o,children:[s," credits"]})]}),t.jsx("p",{className:"text-[14px] md:text-[16px] text-[#737780]",children:"Thanks to the user that referred you."})]}),t.jsx(d3,{onClick:a,className:"w-full h-[45px]  md:h-full max-w-[200px] text-nowrap  md:max-w-[250px] mx-auto",type:"button",variant:"light",children:"Start Building"})]})]})})}const Py="pending_referral_code",Oy="referral_applied";class WW{static storePendingReferralCode(n,s="url"){if(!n||typeof n!="string")return;const r={code:n.trim(),timestamp:Date.now(),source:s};try{localStorage.setItem(Py,JSON.stringify(r))}catch{}}static getPendingReferralCode(){try{const n=localStorage.getItem(Py);if(!n)return null;const s=JSON.parse(n),r=1440*60*1e3;return Date.now()-s.timestamp>r?(this.clearPendingReferralCode(),null):s}catch{return this.clearPendingReferralCode(),null}}static clearPendingReferralCode(){try{localStorage.removeItem(Py)}catch{}}static markReferralAsApplied(n,s){try{const r={code:n,timestamp:Date.now(),reward:s||5};localStorage.setItem(Oy,JSON.stringify(r))}catch{}}static wasReferralRecentlyApplied(){try{const n=localStorage.getItem(Oy);if(!n)return{applied:!1};const s=JSON.parse(n),r=300*1e3;return Date.now()-s.timestamp<=r?{applied:!0,code:s.code,reward:s.reward||5}:(this.clearAppliedReferralData(),{applied:!1})}catch{return this.clearAppliedReferralData(),{applied:!1}}}static clearAppliedReferralData(){try{localStorage.removeItem(Oy)}catch{}}static extractReferralCodeFromUrl(n=window.location.href){try{const s=new URL(n);return s.searchParams.get("referral")||s.searchParams.get("ref")}catch{return null}}static cleanUrlParameters(){try{const n=new URL(window.location.href);(n.searchParams.has("referral")||n.searchParams.has("ref"))&&(n.searchParams.delete("referral"),n.searchParams.delete("ref"),window.history.replaceState({},document.title,n.toString()))}catch{}}static initializeReferralHandling(){const n=this.extractReferralCodeFromUrl();n?(this.storePendingReferralCode(n,"url"),this.cleanUrlParameters()):this.getPendingReferralCode()}static getReferralShareUrl(n,s=window.location.origin){if(!n)return s;try{const r=new URL(s);return r.searchParams.set("ref",n),r.toString()}catch{return`${s}?ref=${encodeURIComponent(n)}`}}}const{storePendingReferralCode:YPe,getPendingReferralCode:ZPe,clearPendingReferralCode:JPe,markReferralAsApplied:XPe,wasReferralRecentlyApplied:QPe,clearAppliedReferralData:eOe,extractReferralCodeFromUrl:tOe,cleanUrlParameters:nOe,initializeReferralHandling:sOe,getReferralShareUrl:rOe}=WW,fp=K.fork.matrixCode,zke=()=>{const{t:e}=en("teams"),[n,s]=d.useState(!1),[r,i]=d.useState("");d.useEffect(()=>a7.subscribe((c,u)=>{s(c),i(u||"")}),[]);const a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},o={hidden:{opacity:0,y:0,scale:1},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}}};return n?t.jsxs("div",{className:"fixed inset-0 z-[9999] bg-[#0E0E0F] flex items-center justify-center min-h-screen",children:[t.jsxs("div",{className:"absolute inset-0 grid w-full h-full grid-cols-3 pointer-events-none z-[1] opacity-[0.15] overflow-hidden",children:[t.jsx("img",{src:fp,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:fp,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:fp,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:fp,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),t.jsx("img",{src:fp,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),t.jsx("img",{src:fp,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"})]}),t.jsx("div",{className:"absolute inset-0 bg-[#80fff908] z-[2]"}),t.jsx(fe.div,{variants:a,initial:"hidden",animate:"visible",className:"relative z-[15] flex items-center justify-center",children:t.jsx(fe.div,{variants:o,children:t.jsx("div",{className:"p-3 border border-[#80fff908] rounded-[24px]",children:t.jsx("div",{className:"p-3 border border-[#80fff90d] rounded-[20px]",children:t.jsx("div",{className:"p-[9px] border border-[#80fff91a] rounded-[14px]",children:t.jsxs("div",{className:"flex items-center bg-[radial-gradient(50%_50%_at_50%_50%,rgba(128,255,249,0.15)_0%,rgba(128,255,249,0.08)_100%)] backdrop-blur-xl border border-gray-700/50 rounded-[12px] px-6 py-4 shadow-2xl",children:[t.jsx("div",{className:"w-6 h-6 object-contain",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M14.25 21V18.75H17.175L13.6031 15.1781L15.2063 13.575L18.75 17.1188V14.25H21V21H14.25ZM4.575 21L3 19.425L17.175 5.25H14.25V3H21V9.75H18.75V6.825L4.575 21ZM8.82188 10.3969L3 4.575L4.575 3L10.3969 8.82188L8.82188 10.3969Z",fill:"#80FFF9"})})}),t.jsx("p",{className:"ml-3 text-[#80FFF9] [text-shadow:0_0_30px_rgba(128,255,249,0.60)] max-md:text-[16px] md:text-[20px] font-medium leading-6 tracking-tight font-brockmann",children:r||e("teams.switchingWorkspace")})]})})})})})})]}):null};function Wke(){const{t:e}=en("teams"),[n]=Fu(),s=Ea();return d.useEffect(()=>{const r=n.get("invitation_id"),i=n.get("email");if(!r||!i){s("/");return}const a={invitation_id:r,email:decodeURIComponent(i),timestamp:Date.now()};try{localStorage.setItem("pending_invitation",JSON.stringify(a)),s(Pa)}catch{s("/")}},[n,s]),t.jsx("div",{className:"flex items-center justify-center h-screen bg-background",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[t.jsx(Pc,{className:"mx-auto"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e("teams.invitation.processing")})]})})}const Gke=d.lazy(()=>vn(()=>Promise.resolve().then(()=>Uxe),void 0).then(e=>({default:e.UpgradeTierModal}))),qke=d.lazy(()=>vn(()=>Promise.resolve().then(()=>w2e),void 0).then(e=>({default:e.CreateWorkspaceModal}))),Kke=d.lazy(()=>vn(()=>import("./chunks/index.tsx-BY8TQO2K.js"),__vite__mapDeps([37,2,3,38,39,9,10,4,5,6,7,8,11,12,40,41])).then(e=>({default:e.AccountSettingsModal}))),Yke=d.lazy(()=>vn(()=>Promise.resolve().then(()=>Cge),void 0).then(e=>({default:e.BuyCreditsModal}))),Zke=d.lazy(()=>vn(()=>import("./chunks/TeamWorkspaceModal.tsx-CjlpQ-7C.js"),__vite__mapDeps([42,2,3,39,43,9,10,4,5,6,7,8,11,12])).then(e=>({default:e.TeamWorkspaceModal}))),Jke=d.lazy(()=>vn(()=>Promise.resolve().then(()=>PSe),void 0).then(e=>({default:e.PendingInvitationModal}))),Xke=d.lazy(()=>vn(()=>import("./chunks/OneMillionModal.tsx-bsw1GTmz.js"),__vite__mapDeps([44,2,3,7,10,4,5,6,8,9,11,12])).then(e=>({default:e.OneMillionIntroduction}))),Qke=d.lazy(()=>vn(()=>import("./chunks/JobIDModal.tsx-CVFwlyHM.js"),__vite__mapDeps([45,2,3,4,5,6,7,8,9,10,11,12]))),eIe=d.lazy(()=>vn(()=>import("./chunks/ReferralModal.tsx-nq-MY1dc.js"),__vite__mapDeps([46,2,3,47,9,10,4,5,6,7,8,11,12])).then(e=>({default:e.ReferralModal}))),tIe=d.lazy(()=>vn(()=>import("./chunks/TeamIntroduction.tsx-Bgvk_H4n.js"),__vite__mapDeps([48,2,3,43,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.TeamIntroduction}))),nIe=d.lazy(()=>vn(()=>import("./chunks/DataDetailsModal.tsx-Dp-z9J1M.js"),__vite__mapDeps([49,2,3,4,5,6,7,8,9,10,11,12])).then(e=>({default:e.DataDetailsModal}))),sIe=d.lazy(()=>vn(()=>import("./chunks/UltraThinkingModal.tsx-ebfmsx5y.js"),__vite__mapDeps([50,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.UltraThinkingIntroduction}))),rIe=d.lazy(()=>vn(()=>import("./chunks/NewMCPServerModal.tsx-DCcuhLja.js"),__vite__mapDeps([51,2,3,7,4,5,10,6,8,9,11,12,52])).then(e=>({default:e.NewMCPServerModal}))),iIe=d.lazy(()=>vn(()=>import("./chunks/MCPToolsModal.tsx-HTJ24CIs.js"),__vite__mapDeps([53,2,3,7,4,5,6,8,9,10,11,12])).then(e=>({default:e.MCPToolsModal}))),aIe=d.lazy(()=>vn(()=>import("./chunks/AddMemberModal.tsx-Cp2NsI6n.js"),__vite__mapDeps([38,2,3,39,9,10,4,5,6,7,8,11,12])).then(e=>({default:e.AddMemberModal}))),oIe=d.lazy(()=>vn(()=>import("./chunks/MCPIntroductionModal.tsx-Bj1ed51h.js"),__vite__mapDeps([54,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.MCPIntroductionModal}))),lIe=d.lazy(()=>vn(()=>import("./chunks/BroModeIntroductionModal.tsx-Cz_eI475.js"),__vite__mapDeps([55,2,3,7,10,4,5,6,8,9,11,12])).then(e=>({default:e.BroModeIntroductionModal}))),cIe=d.lazy(()=>vn(()=>import("./chunks/DailyCreditModal.tsx-iSxLRSSi.js"),__vite__mapDeps([56,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.DailyCreditModal}))),dIe=d.lazy(()=>vn(()=>import("./chunks/ShareModal.tsx-yzYmZ2co.js"),__vite__mapDeps([57,2,3,58,47,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.ShareModal}))),uIe=d.lazy(()=>vn(()=>import("./chunks/FundingIntroduction.tsx-B_8GZ9BR.js"),__vite__mapDeps([59,2,3,60,43,4,5,6,7,8,9,10,11,12])).then(e=>({default:e.FundingIntroduction}))),pIe=d.lazy(()=>vn(()=>import("./chunks/ProModal.tsx-DSndqWab.js"),__vite__mapDeps([61,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.ProModal}))),fIe=d.lazy(()=>vn(()=>import("./chunks/LockinPriceModal.tsx-CECok7lL.js"),__vite__mapDeps([62,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.LockinPriceModal}))),mIe=d.lazy(()=>vn(()=>import("./chunks/TestModeModal.tsx-D-PyNXcJ.js"),__vite__mapDeps([63,2,3,4,5,6,7,8,9,10,11,12])).then(e=>({default:e.TestModeModal}))),hIe=d.lazy(()=>vn(()=>import("./chunks/AllWorkspacesModal.tsx-CMIo-pgU.js"),__vite__mapDeps([64,2,3,40,9,10,4,5,6,7,8,11,12])).then(e=>({default:e.AllWorkspacesModal}))),xIe=d.lazy(()=>vn(()=>import("./chunks/BetaThankYouModal.tsx-l9VZo6zs.js"),__vite__mapDeps([65,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.BetaThankYouModal}))),gIe=d.lazy(()=>vn(()=>import("./chunks/PromotionalModalManager.tsx-BbwpamM0.js"),__vite__mapDeps([66,2,3,60,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.PromotionalModalManager}))),ND=d.lazy(()=>vn(()=>import("./chunks/FreeWeekendModal.tsx-CYUWZMGY.js"),__vite__mapDeps([67,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.FreeWeekendModal}))),bIe=d.lazy(()=>vn(()=>Promise.resolve().then(()=>mxe),void 0).then(e=>({default:e.PixModal}))),yIe=d.lazy(()=>vn(()=>import("./chunks/DeploymentSuccessModal.tsx-Ddqdl8IF.js"),__vite__mapDeps([68,2,3,58,47,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.DeploymentSuccessModal}))),vIe=d.lazy(()=>vn(()=>import("./chunks/OpusIntroduction.tsx-CR3FpxTY.js"),__vite__mapDeps([69,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.OpusIntroduction}))),wIe=d.lazy(()=>vn(()=>import("./chunks/Opus46Introduction.tsx-B6hqlIDl.js"),__vite__mapDeps([70,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.Opus46Introduction}))),CIe=d.lazy(()=>vn(()=>Promise.resolve().then(()=>Ake),void 0).then(e=>({default:e.GiftingSuccessModal}))),_Ie=d.lazy(()=>vn(()=>import("./chunks/GiftingModal.tsx-D1KfWKIi.js"),__vite__mapDeps([71,2,3,4,5,6,7,8,9,10,11,12])).then(e=>({default:e.GiftingModal}))),jIe=d.lazy(()=>vn(()=>import("./chunks/DnsDetailsModal.tsx-D53Hz9z7.js"),__vite__mapDeps([72,2,3,4,5,6,7,8,9,10,11,12])).then(e=>({default:e.DnsDetailsModal}))),NIe=d.lazy(()=>vn(()=>import("./chunks/RepositorySelectorModal.tsx-CuzW6PM8.js"),__vite__mapDeps([73,2,3,9,4,5,6,7,8,10,11,12])).then(e=>({default:e.RepositorySelectorModal}))),FIe=d.lazy(()=>vn(()=>import("./chunks/PublishMoltbotModal.tsx-BZPjM8WG.js"),__vite__mapDeps([74,2,3,41,4,5,6,7,8,9,10,11,12]))),EIe=d.lazy(()=>vn(()=>import("./chunks/MoltbotPublishedModal.tsx-BG0wswRa.js"),__vite__mapDeps([75,2,3,4,5,6,7,8,9,10,11,12]))),SIe=()=>null;function FD(){const{activeModals:e,closeModal:n,openModal:s}=Ms();return t.jsx(d.Suspense,{fallback:t.jsx(SIe,{}),children:Array.from(e.entries()).map(([r,i])=>{switch(i.type){case"upgrade-tier":return t.jsx(Gke,{isOpen:!0,onOpenChange:o=>{o||n(r)},triggerLocation:i.triggerLocation,shouldShowModelSelectorTooltipAfterClose:i.shouldShowModelSelectorTooltipAfterClose,organizationId:i.organizationId,organizationName:i.organizationName,planType:i.planType||"personal",onReturnFlow:i.onReturnFlow},r);case"one-million":return t.jsx(Xke,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),onGetStarted:i.onGetStarted,onShowUpgradeModal:i.onShowUpgradeModal,onPreventOtherModals:i.onPreventOtherModals},r);case"create-workspace":return t.jsx(qke,{isOpen:!0,onOpenChange:o=>{o||n(r)},onWorkspaceCreated:(o,l)=>{i.onWorkspaceCreated?.(o,l),n(r)},onCloseMenu:i.onCloseMenu},r);case"referral":return t.jsx(eIe,{isOpen:!0,onOpenChange:o=>{o||n(r)}},r);case"account-settings":return t.jsx(Kke,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),initialTab:i.initialTab},r);case"buy-credits":const a=i;return t.jsx(Yke,{isOpen:!0,location:a.location,onOpenChange:o=>{o||n(r)}},r);case"team-workspace":return t.jsx(Zke,{isOpen:!0,onOpenChange:o=>{o||n(r)},organizationId:i.organizationId,organizationName:i.organizationName,paymentId:i.paymentId,initialStatus:i.initialStatus,mode:i.mode,onCloseMenu:i.onCloseMenu,backendEnabled:i.backendEnabled},r);case"pending-invitation":return t.jsx(Jke,{open:!0,onOpenChange:o=>{o||n(r)},invitation:i.invitation,onAccept:()=>{i.onAccept?.(),n(r)},onDecline:()=>{i.onDecline?.(),n(r)}},r);case"job-id":return t.jsx(Qke,{isJobIdDialogOpen:!0,setIsJobIdDialogOpen:o=>{o||n(r)},jobIdInput:i.jobIdInput,setJobIdInput:i.setJobIdInput,handleJobClick:i.handleJobClick},r);case"team-introduction":return t.jsx(tIe,{isOpen:!0,onOpenChange:o=>{o||n(r)},onGetStarted:i.onGetStarted},r);case"data-details":return t.jsx(nIe,{isOpen:!0,onClose:()=>n(r),type:i.modalType,data:i.data},r);case"ultra-thinking":return t.jsx(sIe,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),onGetStarted:i.onGetStarted,onShowUpgradeModal:i.onShowUpgradeModal,onPreventOtherModals:i.onPreventOtherModals},r);case"new-mcp-server":return t.jsx(rIe,{isOpen:!0,onOpenChange:o=>{o||n(r)},onServerAdded:i.onServerAdded,organizationId:i.organizationId,editMode:i.editMode,serverData:i.serverData,triggerLocation:i.triggerLocation,onClose:i.onClose,reopenAccountSettings:i.reopenAccountSettings},r);case"mcp-tools":return t.jsx(iIe,{isOpen:!0,onOpenChange:o=>{o||n(r)}},r);case"add-member":return t.jsx(aIe,{open:!0,onOpenChange:o=>{o||n(r)},organizationId:i.organizationId},r);case"mcp-introduction":return t.jsx(oIe,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),onGetStarted:i.onGetStarted,onShowUpgradeModal:i.onShowUpgradeModal},r);case"daily-credit":return t.jsx(cIe,{isOpen:!0,onOpenChange:o=>{o||n(r)},pusherData:i.pusherData||{}},r);case"share-preview":return t.jsx(dIe,{isOpen:!0,onOpenChange:o=>{o||n(r)},shareableLink:i.shareableLink,fromShowcase:i.fromShowcase,previewUrl:i.previewUrl,isExpoApp:i.isExpoApp},r);case"funding-introduction":return t.jsx(uIe,{isOpen:!0,onOpenChange:o=>{o||n(r)},onGetStarted:i.onGetStarted},r);case"pro":return t.jsx(pIe,{isOpen:!0,onOpenChange:o=>{o||n(r)},shouldShowThankYou:i.shouldShowThankYou,isBookedUserFlow:i.isBookedUserFlow},r);case"bro-mode-introduction":return t.jsx(lIe,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),onTryBroMode:i.onTryBroMode},r);case"lockin-price":return t.jsx(fIe,{isOpen:!0,onOpenChange:o=>{o||n(r)}},r);case"test-mode":return t.jsx(mIe,{open:!0,onOpenChange:o=>{o||n(r)},isPro:i.isPro},r);case"all-workspaces":return t.jsx(hIe,{open:!0,onOpenChange:o=>{o||n(r)},organizations:i.organizations,currentWorkspace:i.currentWorkspace,onWorkspaceSelect:i.onWorkspaceSelect},r);case"beta-thank-you":return t.jsx(xIe,{isOpen:!0,onOpenChange:o=>{o||n(r)}},r);case"free-weekend-turkey":return t.jsx(ND,{isOpen:!0,onOpenChange:o=>{o||n(r)},country:"turkey",desktopImageUrl:i.desktopImageUrl,mobileImageUrl:i.mobileImageUrl,couponCode:i.couponCode,triggerLocation:"home"},r);case"free-weekend-canada":return t.jsx(ND,{isOpen:!0,onOpenChange:o=>{o||n(r)},country:"canada",desktopImageUrl:i.desktopImageUrl,mobileImageUrl:i.mobileImageUrl,couponCode:i.couponCode,triggerLocation:"home"},r);case"promotional":return t.jsx(gIe,{schema:i.schema,isOpen:!0,onOpenChange:o=>{o||n(r)},skipShowOnceCheck:i.skipShowOnceCheck,skipDelay:i.skipDelay},r);case"opus-introduction":return t.jsx(vIe,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),onGetStarted:i.onGetStarted,onShowUpgradeModal:i.onShowUpgradeModal,onPreventOtherModals:i.onPreventOtherModals},r);case"opus46-introduction":return t.jsx(wIe,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),onGetStarted:i.onGetStarted,onShowUpgradeModal:i.onShowUpgradeModal,onPreventOtherModals:i.onPreventOtherModals},r);case"pix":return t.jsx(bIe,{isOpen:!0,onOpenChange:o=>{o||n(r)},desktopImageUrl:i.desktopImageUrl||K.modals.pixDesktop,mobileImageUrl:i.mobileImageUrl||K.modals.pixMobile,couponCode:i.couponCode||"PIX90",triggerLocation:i.triggerLocation||"home"},r);case"deployment-success":return t.jsx(yIe,{isOpen:!0,onOpenChange:o=>{o||n(r)},deployUrl:i.deployUrl,customDomain:i.customDomain,onClose:i.onClose,onLinkCustomDomain:i.onLinkCustomDomain,isExpoApp:i.isExpoApp,mobileUrl:i.mobileUrl,previewUrl:i.previewUrl},r);case"gifting-success":return t.jsx(CIe,{isOpen:!0,onOpenChange:o=>{o||n(r)},recipientName:i.recipientName,recipientEmail:i.recipientEmail,senderEmail:i.senderEmail,onClose:i.onClose,onSendAnother:i.onSendAnother},r);case"gifting":return t.jsx(_Ie,{isOpen:!0,onOpenChange:o=>{o||n(r)},onClose:i.onClose},r);case"dns-details":return t.jsx(jIe,{isOpen:!0,onClose:()=>{i.onClose?.(),n(r)},onAutoLink:()=>{i.onAutoLink?.(),n(r)},domain:i.domain,jobId:i.jobId,data:i.data},r);case"repository-selector":{const o=l=>{l||(i.onClose?.(),n(r))};return t.jsx(NIe,{isOpen:!0,onOpenChange:o,githubUrl:i.githubUrl,branchName:i.branchName,onGithubUrlChange:i.onGithubUrlChange,onBranchNameChange:i.onBranchNameChange},r)}case"publish-moltbot":return t.jsx(FIe,{isOpen:!0,onOpenChange:o=>{o||n(r)},jobId:i.jobId,source:i.source,onPublishSuccess:()=>{i.onPublishSuccess?.(),n(r),s({type:"moltbot-published",previewUrl:i.previewUrl||""})}},r);case"moltbot-published":return t.jsx(EIe,{isOpen:!0,onOpenChange:o=>{o||n(r)},previewUrl:i.previewUrl},r);default:return null}})})}const kIe={top:"0",left:"0",right:"0"},IIe=/^\d+(\.\d+)?(px|%|em|rem|vh|vw)$/;function tg(e){if(!e||e==="auto")return;const n=e.trim();if(n!==""){if(n==="0")return n;if(IIe.test(n))return n}}function ng(e){return!!e&&e!=="auto"&&e.trim()!==""}function TIe(e){const n={position:"fixed",zIndex:ni.BANNER_Z_INDEX},s=tg(e.left),r=tg(e.right),i=tg(e.top),a=tg(e.bottom),o=!!s,l=!!r,c=!!i,u=!!a;if(!o&&!l&&!c&&!u)return n.left="50%",n.top=ni.BANNER_DEFAULT_TOP,n.transform="translateX(-50%)",n;const p=!o&&!l,f=!c&&!u,m=[];return p?(n.left="50%",m.push("translateX(-50%)")):(o&&(n.left=s),l&&(n.right=r)),f?(n.top="50%",m.push("translateY(-50%)")):(c&&(n.top=i),u&&(n.bottom=a)),m.length>0&&(n.transform=m.join(" ")),n}function AIe(e){return ng(e.bottom)?{initial:{y:20},exit:{y:20}}:ng(e.top)?{initial:{y:-20},exit:{y:-20}}:ng(e.right)?{initial:{x:20},exit:{x:20}}:ng(e.left)?{initial:{x:-20},exit:{x:-20}}:{initial:{y:-20},exit:{y:-20}}}const DIe=({modal:e,position:n})=>{const s=n&&Object.keys(n).length>0?n:kIe,[r,i]=d.useState(null),[a,o]=d.useState(ni.MIN_HEIGHT),[l,c]=d.useState(!1),u=d.useMemo(()=>TIe(s),[s]),p=d.useMemo(()=>AIe(s),[s]);d.useEffect(()=>{const b=y=>{if(!t7(y.data)||!D2(y.origin,e.srcUrl))return;const w=y.data;if(w.type!=="resize"||w.modalId!==e.id)return;const _=window.innerWidth*ni.VIEWPORT_PADDING_FACTOR,N=window.innerHeight*ni.VIEWPORT_PADDING_FACTOR;typeof w.height=="number"&&w.height>0&&o(Math.min(Math.max(w.height,ni.MIN_HEIGHT),N)),typeof w.width=="number"&&w.width>0&&i(Math.min(w.width,_))};return window.addEventListener("message",b),()=>window.removeEventListener("message",b)},[e.id,e.srcUrl]),d.useEffect(()=>{if(l)return;const b=setTimeout(()=>c(!0),ni.LOAD_TIMEOUT_MS);return()=>clearTimeout(b)},[l]);const f=d.useCallback(()=>c(!0),[]),m=d.useCallback(()=>{c(!0),jt(Zt.DYNAMO.IFRAME_LOAD,new Error("Dynamo banner iframe failed to load"),{modalId:e.id}),H(hr.IFRAME_ERROR,{modal_id:e.id,modal_name:e.jobName,type:"banner",experiment_id:e.experimentId,experiment_name:e.experimentName,variant_id:e.variantId,variant_name:e.variantName})},[e.id,e.jobName,e.experimentId,e.experimentName,e.variantId,e.variantName]),h=!!e.srcUrl,x=h?{src:e.srcUrl}:{srcDoc:e.html},g=h?ni.SANDBOX_ATTRIBUTES_SRC:ni.SANDBOX_ATTRIBUTES_SRCDOC,v={height:a,...r?{width:r}:{},transition:"width 0.2s ease-out, height 0.2s ease-out"};return t.jsx("div",{style:u,children:t.jsx(Rn.div,{"data-testid":er.dynamo.bannerContainer,className:"shadow-lg",initial:{opacity:0,...p.initial},animate:{opacity:1,x:0,y:0},exit:{opacity:0,...p.exit},transition:{duration:.3,ease:"easeOut"},children:t.jsxs("div",{className:"relative overflow-hidden",children:[!l&&t.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center",children:t.jsx("div",{className:"w-6 h-6 border-2 border-gray-200 border-t-gray-600 rounded-full animate-spin"})}),t.jsx("div",{className:"overflow-hidden",style:v,children:t.jsx("iframe",{...x,"data-testid":er.dynamo.bannerIframe,"data-dynamo-id":e.id,sandbox:g,title:`Dynamo Banner: ${e.jobName}`,className:"block w-full h-full border-0 bg-transparent",onLoad:f,onError:m})})]})})})},MIe=({modal:e,onDismiss:n})=>{const s=e.fullscreen??!1,[r,i]=d.useState(ni.MIN_HEIGHT),[a,o]=d.useState(null),[l,c]=d.useState(!1),[u,p]=d.useState(!1);d.useEffect(()=>{if(s)return;const w=_=>{if(!t7(_.data)||!D2(_.origin,e.srcUrl))return;const N=_.data;if(N.type!=="resize"||N.modalId!==e.id)return;const j=window.innerWidth*.9,C=window.innerHeight*.9;typeof N.height=="number"&&N.height>0&&i(Math.min(Math.max(N.height,ni.MIN_HEIGHT),C)),typeof N.width=="number"&&N.width>0&&o(Math.min(N.width,j))};return window.addEventListener("message",w),()=>window.removeEventListener("message",w)},[e.id,e.srcUrl,s]),d.useEffect(()=>{if(l)return;const w=setTimeout(()=>c(!0),ni.LOAD_TIMEOUT_MS);return()=>clearTimeout(w)},[l]);const f=d.useCallback(()=>c(!0),[]),m=d.useCallback(()=>{c(!0),jt(Zt.DYNAMO.IFRAME_LOAD,new Error("Dynamo modal iframe failed to load"),{modalId:e.id}),H(hr.IFRAME_ERROR,{modal_id:e.id,modal_name:e.jobName,experiment_id:e.experimentId,experiment_name:e.experimentName,variant_id:e.variantId,variant_name:e.variantName})},[e.id,e.jobName,e.experimentId,e.experimentName,e.variantId,e.variantName]);d.useEffect(()=>{const w=_=>{_.key==="Escape"&&(e.dismissible||u)&&n()};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[n,e.dismissible,u]),d.useEffect(()=>{if(e.dismissible||l)return;const w=setTimeout(()=>p(!0),ni.LOAD_TIMEOUT_MS);return()=>clearTimeout(w)},[e.dismissible,l]);const h=d.useCallback(()=>{e.dismissible&&n()},[e.dismissible,n]),x=!!e.srcUrl,g=x?{src:e.srcUrl}:{srcDoc:e.html},v=x?ni.SANDBOX_ATTRIBUTES_SRC:ni.SANDBOX_ATTRIBUTES_SRCDOC,b=s?{width:"100vw",height:"100vh"}:{borderRadius:ni.BORDER_RADIUS,width:a??"90vw",maxWidth:"90vw",maxHeight:"90vh"},y=s?{height:"100%"}:{borderRadius:ni.BORDER_RADIUS,height:r,transition:"height 0.2s ease-out"};return t.jsxs(Rn.div,{"data-testid":er.dynamo.modalOverlay,role:"dialog","aria-modal":"true","aria-label":`Dynamo Modal: ${e.jobName}`,className:k("fixed inset-0 z-[1000] flex items-center justify-center",!s&&"p-4 md:p-8"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[!s&&t.jsx(Rn.div,{"aria-hidden":"true",className:"absolute inset-0 bg-black/70 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:h}),t.jsxs(Rn.div,{"data-testid":er.dynamo.modalContainer,className:k("relative z-10 overflow-hidden",!s&&"shadow-2xl"),style:b,initial:{opacity:0,scale:s?1:.95,y:s?0:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:s?1:.95,y:s?0:20},transition:{duration:.3,ease:"easeOut"},children:[!l&&t.jsx("div",{"data-testid":er.dynamo.loadingSpinner,className:"absolute inset-0 z-10 flex items-center justify-center bg-neutral-900",style:{borderRadius:s?0:ni.BORDER_RADIUS},children:t.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white/80 rounded-full animate-spin"})}),u&&!e.dismissible&&t.jsx("button",{onClick:n,className:"absolute top-2 right-2 z-20 flex items-center justify-center w-8 h-8 rounded-full bg-white/90 text-neutral-700 hover:bg-white shadow-md transition-opacity","aria-label":"Close modal",children:""}),t.jsx("div",{className:"w-full overflow-hidden bg-white",style:y,children:t.jsx("iframe",{...g,"data-testid":er.dynamo.iframe,"data-dynamo-id":e.id,sandbox:v,title:`Dynamo Modal: ${e.jobName}`,className:"block w-full h-full border-0",onLoad:f,onError:m})})]})]})};class Og extends d.Component{constructor(){super(...arguments);Vt(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(s,r){try{jt(Zt.DYNAMO.CONFIG_INIT,s,{componentStack:r.componentStack??void 0}),zc(s,{errorInfo:r.componentStack??void 0,context:"dynamo_error_boundary"})}catch{}this.props.onError?.()}componentDidUpdate(s){this.state.hasError&&s.resetKey!==this.props.resetKey&&this.setState({hasError:!1})}render(){return this.state.hasError?this.props.fallback??null:this.props.children}}const RIe={ALLOWED_TAGS:["div","span","p","a","img","h1","h2","h3","h4","h5","h6","ul","ol","li","br","hr","strong","em","b","i","u","s","table","thead","tbody","tr","th","td","caption","section","article","header","footer","nav","main","aside","figure","figcaption","blockquote","pre","code","button","label","picture","svg","path","circle","rect","line","polyline","polygon","g","defs","text","tspan"],ALLOWED_ATTR:["class","id","href","src","alt","title","target","rel","width","height","role","aria-label","aria-hidden","data-action","data-href","data-eventname","viewBox","fill","stroke","stroke-width","d","cx","cy","r","x","y","x1","y1","x2","y2","points","transform","xmlns","xmlns:xlink"],ALLOW_DATA_ATTR:!1,ADD_ATTR:["target"]};let g5=null,sg=null;async function LIe(){g5||(sg||(sg=vn(()=>import("./chunks/purify.es.mjs-8cgQ8pEC.js"),[]).then(e=>{g5=n=>e.default.sanitize(n,RIe)}).catch(e=>{throw sg=null,e})),await sg)}async function PIe(e){if(await LIe(),!g5)throw new Error("DOMPurify failed to initialize");return g5(e)}const OIe=/^(class|id|role|title|alt|rel|target|width|height|hidden|tabindex|lang|dir)$|^(data-|aria-)/i;function BIe(e){return e.toLowerCase().startsWith("on")?!1:OIe.test(e)}const UIe=new Set(["color","background-color","font-size","font-weight","font-family","font-style","line-height","letter-spacing","text-align","text-decoration","text-transform","margin","margin-top","margin-right","margin-bottom","margin-left","padding","padding-top","padding-right","padding-bottom","padding-left","border","border-radius","border-color","border-width","border-style","width","max-width","min-width","height","max-height","min-height","display","visibility","opacity","overflow","gap","flex","flex-direction","flex-wrap","align-items","justify-content","flex-grow","flex-shrink","grid-template-columns","grid-template-rows","grid-gap","box-shadow","cursor","pointer-events","transition","transform"]),ED=/url\s*\(|expression\s*\(|javascript:|import\s|var\s*\(\s*--/i;function HIe(e){return e.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\\([0-9a-fA-F]{1,6})\s?/g,(n,s)=>String.fromCodePoint(parseInt(s,16))).replace(/\\([a-zA-Z])/g,"$1")}function VIe(e,n){const s=e.toLowerCase().trim();return UIe.has(s)?!ED.test(n)&&!ED.test(HIe(n)):!1}const $Ie=[/password/i,/data-auth/i,/data-token/i,/data-secret/i],zIe=["body","html","head","form","script"],WIe=new RegExp(`(?:^|[\\s>+~,(])(?:${zIe.join("|")})(?:$|[\\s>+~.#:\\[,)])`,"i"),GIe=/:(?:is|where|not|has)\s*\(|:root/i,qIe=10;function KIe(e){const n=e.trim();return!!(!n||n==="*"||$Ie.some(s=>s.test(n))||WIe.test(n)||GIe.test(n))}function YIe(e){if(e.split(",").some(KIe))return null;try{const s=document.querySelectorAll(e);return s.length>qIe?null:s}catch{return null}}function ZIe(e){const n=e.nodes;return Array.isArray(n)?n.filter(s=>typeof s=="object"&&s!==null&&typeof s.selector=="string").map(s=>({selector:s.selector,position:s.position||"append",html:s.html,attributes:s.attributes,styles:s.styles,className:s.className})):[]}const JIe=({modal:e,jsonConfig:n})=>{const s=d.useRef([]),r=d.useRef([]),i=d.useCallback(async o=>{if(!n)return;const l=ZIe(n);if(l.length!==0)for(const c of l){if(o.current)return;try{const u=YIe(c.selector);if(!u||u.length===0)continue;let p;if(c.html&&(p=await PIe(c.html)),o.current)return;u.forEach(f=>{if(!(f instanceof HTMLElement))return;const m={element:f,originalClassName:f.className,originalStyles:{},originalAttributes:{},originalInnerHTML:null};if(c.className){m.originalClassName=f.className;const h=c.className.split(" ").filter(Boolean);h.length>0&&f.classList.add(...h)}if(c.styles&&Object.entries(c.styles).forEach(([h,x])=>{VIe(h,x)&&(m.originalStyles[h]=f.style.getPropertyValue(h),f.style.setProperty(h,x))}),c.attributes&&Object.entries(c.attributes).forEach(([h,x])=>{BIe(h)&&(m.originalAttributes[h]=f.getAttribute(h),f.setAttribute(h,x))}),r.current.push(m),p){const h=document.createElement("div");h.innerHTML=p;const x=document.createDocumentFragment();for(;h.firstChild;){const g=h.firstChild;x.appendChild(g),s.current.push(g)}switch(c.position){case"prepend":f.insertBefore(x,f.firstChild);break;case"replace":m.originalInnerHTML=f.innerHTML,f.innerHTML="",f.appendChild(x);break;case"before":f.parentNode?.insertBefore(x,f);break;case"after":f.parentNode?.insertBefore(x,f.nextSibling);break;case"append":default:f.appendChild(x);break}}}),H(hr.MODAL_VIEWED,{modal_id:e.id,modal_name:e.jobName,type:"page_nodes",selector:c.selector,elements_found:u.length,experiment_id:e.experimentId,experiment_name:e.experimentName,variant_id:e.variantId,variant_name:e.variantName})}catch(u){jt(Zt.DYNAMO.PAGE_NODE_INJECT,u,{modalId:e.id,selector:c.selector}),H(hr.CONFIG_ERROR,{modal_id:e.id,selector:c.selector,error:String(u),experiment_id:e.experimentId,experiment_name:e.experimentName,variant_id:e.variantId,variant_name:e.variantName})}}},[n,e.id,e.jobName,e.experimentId,e.experimentName,e.variantId,e.variantName]),a=d.useCallback(()=>{s.current.forEach(o=>{o.remove()}),s.current=[],r.current.forEach(({element:o,originalClassName:l,originalStyles:c,originalAttributes:u,originalInnerHTML:p})=>{p!==null&&(o.innerHTML=p),o.className=l,Object.entries(c).forEach(([f,m])=>{m?o.style.setProperty(f,m):o.style.removeProperty(f)}),Object.entries(u).forEach(([f,m])=>{m!==null?o.setAttribute(f,m):o.removeAttribute(f)})}),r.current=[]},[]);return d.useEffect(()=>{const o={current:!1};return i(o),e.onViewEvent&&H(e.onViewEvent,{modal_id:e.id,modal_name:e.jobName,type:"page_nodes",experiment_id:e.experimentId,experiment_name:e.experimentName,variant_id:e.variantId,variant_name:e.variantName}),()=>{o.current=!0,a()}},[i,a,e.onViewEvent,e.id,e.jobName,e.experimentId,e.experimentName,e.variantId,e.variantName]),null},XIe=()=>{const{activeModal:e,activeBanner:n,activePageNodes:s,dismissModal:r,dismissBanner:i}=Y5(),a=d.useCallback(()=>{e&&r()},[e,r]),o=d.useCallback(()=>{n&&i()},[n,i]),l=e?.id??"",c=n?.id??"";return t.jsxs(t.Fragment,{children:[s.map(u=>t.jsx(Og,{resetKey:u.id,children:t.jsx(JIe,{modal:u,jsonConfig:u.jsonConfig})},u.id)),t.jsx(Og,{onError:o,resetKey:c,children:t.jsx(xa,{children:n&&t.jsx(DIe,{modal:n,position:n.bannerPosition},n.id)})}),t.jsx(Og,{onError:a,resetKey:l,children:t.jsx(xa,{children:e&&t.jsx(MIe,{modal:e,onDismiss:r},e.id)})})]})};var By={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var SD;function QIe(){return SD||(SD=1,(function(e,n){(function(r,i){e.exports=i()})(window,function(){return(function(s){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return s[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=s,i.c=r,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:l})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(o&1&&(a=i(a)),o&8||o&4&&typeof a=="object"&&a&&a.__esModule)return a;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:a}),o&2&&typeof a!="string")for(var c in a)i.d(l,c,function(u){return a[u]}.bind(null,c));return l},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=2)})([(function(s,r,i){var a=this&&this.__extends||(function(){var g=function(v,b){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var _ in w)w.hasOwnProperty(_)&&(y[_]=w[_])},g(v,b)};return function(v,b){g(v,b);function y(){this.constructor=v}v.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=256,l=(function(){function g(v){v===void 0&&(v="="),this._paddingCharacter=v}return g.prototype.encodedLength=function(v){return this._paddingCharacter?(v+2)/3*4|0:(v*8+5)/6|0},g.prototype.encode=function(v){for(var b="",y=0;y<v.length-2;y+=3){var w=v[y]<<16|v[y+1]<<8|v[y+2];b+=this._encodeByte(w>>>18&63),b+=this._encodeByte(w>>>12&63),b+=this._encodeByte(w>>>6&63),b+=this._encodeByte(w>>>0&63)}var _=v.length-y;if(_>0){var w=v[y]<<16|(_===2?v[y+1]<<8:0);b+=this._encodeByte(w>>>18&63),b+=this._encodeByte(w>>>12&63),_===2?b+=this._encodeByte(w>>>6&63):b+=this._paddingCharacter||"",b+=this._paddingCharacter||""}return b},g.prototype.maxDecodedLength=function(v){return this._paddingCharacter?v/4*3|0:(v*6+7)/8|0},g.prototype.decodedLength=function(v){return this.maxDecodedLength(v.length-this._getPaddingLength(v))},g.prototype.decode=function(v){if(v.length===0)return new Uint8Array(0);for(var b=this._getPaddingLength(v),y=v.length-b,w=new Uint8Array(this.maxDecodedLength(y)),_=0,N=0,j=0,C=0,S=0,F=0,E=0;N<y-4;N+=4)C=this._decodeChar(v.charCodeAt(N+0)),S=this._decodeChar(v.charCodeAt(N+1)),F=this._decodeChar(v.charCodeAt(N+2)),E=this._decodeChar(v.charCodeAt(N+3)),w[_++]=C<<2|S>>>4,w[_++]=S<<4|F>>>2,w[_++]=F<<6|E,j|=C&o,j|=S&o,j|=F&o,j|=E&o;if(N<y-1&&(C=this._decodeChar(v.charCodeAt(N)),S=this._decodeChar(v.charCodeAt(N+1)),w[_++]=C<<2|S>>>4,j|=C&o,j|=S&o),N<y-2&&(F=this._decodeChar(v.charCodeAt(N+2)),w[_++]=S<<4|F>>>2,j|=F&o),N<y-3&&(E=this._decodeChar(v.charCodeAt(N+3)),w[_++]=F<<6|E,j|=E&o),j!==0)throw new Error("Base64Coder: incorrect characters for decoding");return w},g.prototype._encodeByte=function(v){var b=v;return b+=65,b+=25-v>>>8&6,b+=51-v>>>8&-75,b+=61-v>>>8&-15,b+=62-v>>>8&3,String.fromCharCode(b)},g.prototype._decodeChar=function(v){var b=o;return b+=(42-v&v-44)>>>8&-o+v-43+62,b+=(46-v&v-48)>>>8&-o+v-47+63,b+=(47-v&v-58)>>>8&-o+v-48+52,b+=(64-v&v-91)>>>8&-o+v-65+0,b+=(96-v&v-123)>>>8&-o+v-97+26,b},g.prototype._getPaddingLength=function(v){var b=0;if(this._paddingCharacter){for(var y=v.length-1;y>=0&&v[y]===this._paddingCharacter;y--)b++;if(v.length<4||b>2)throw new Error("Base64Coder: incorrect padding")}return b},g})();r.Coder=l;var c=new l;function u(g){return c.encode(g)}r.encode=u;function p(g){return c.decode(g)}r.decode=p;var f=(function(g){a(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype._encodeByte=function(b){var y=b;return y+=65,y+=25-b>>>8&6,y+=51-b>>>8&-75,y+=61-b>>>8&-13,y+=62-b>>>8&49,String.fromCharCode(y)},v.prototype._decodeChar=function(b){var y=o;return y+=(44-b&b-46)>>>8&-o+b-45+62,y+=(94-b&b-96)>>>8&-o+b-95+63,y+=(47-b&b-58)>>>8&-o+b-48+52,y+=(64-b&b-91)>>>8&-o+b-65+0,y+=(96-b&b-123)>>>8&-o+b-97+26,y},v})(l);r.URLSafeCoder=f;var m=new f;function h(g){return m.encode(g)}r.encodeURLSafe=h;function x(g){return m.decode(g)}r.decodeURLSafe=x,r.encodedLength=function(g){return c.encodedLength(g)},r.maxDecodedLength=function(g){return c.maxDecodedLength(g)},r.decodedLength=function(g){return c.decodedLength(g)}}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a="utf8: invalid string",o="utf8: invalid source encoding";function l(p){for(var f=new Uint8Array(c(p)),m=0,h=0;h<p.length;h++){var x=p.charCodeAt(h);x<128?f[m++]=x:x<2048?(f[m++]=192|x>>6,f[m++]=128|x&63):x<55296?(f[m++]=224|x>>12,f[m++]=128|x>>6&63,f[m++]=128|x&63):(h++,x=(x&1023)<<10,x|=p.charCodeAt(h)&1023,x+=65536,f[m++]=240|x>>18,f[m++]=128|x>>12&63,f[m++]=128|x>>6&63,f[m++]=128|x&63)}return f}r.encode=l;function c(p){for(var f=0,m=0;m<p.length;m++){var h=p.charCodeAt(m);if(h<128)f+=1;else if(h<2048)f+=2;else if(h<55296)f+=3;else if(h<=57343){if(m>=p.length-1)throw new Error(a);m++,f+=4}else throw new Error(a)}return f}r.encodedLength=c;function u(p){for(var f=[],m=0;m<p.length;m++){var h=p[m];if(h&128){var x=void 0;if(h<224){if(m>=p.length)throw new Error(o);var g=p[++m];if((g&192)!==128)throw new Error(o);h=(h&31)<<6|g&63,x=128}else if(h<240){if(m>=p.length-1)throw new Error(o);var g=p[++m],v=p[++m];if((g&192)!==128||(v&192)!==128)throw new Error(o);h=(h&15)<<12|(g&63)<<6|v&63,x=2048}else if(h<248){if(m>=p.length-2)throw new Error(o);var g=p[++m],v=p[++m],b=p[++m];if((g&192)!==128||(v&192)!==128||(b&192)!==128)throw new Error(o);h=(h&15)<<18|(g&63)<<12|(v&63)<<6|b&63,x=65536}else throw new Error(o);if(h<x||h>=55296&&h<=57343)throw new Error(o);if(h>=65536){if(h>1114111)throw new Error(o);h-=65536,f.push(String.fromCharCode(55296|h>>10)),h=56320|h&1023}}f.push(String.fromCharCode(h))}return f.join("")}r.decode=u}),(function(s,r,i){s.exports=i(3).default}),(function(s,r,i){i.r(r);class a{constructor(R,V){this.lastId=0,this.prefix=R,this.name=V}create(R){this.lastId++;var V=this.lastId,pe=this.prefix+V,je=this.name+"["+V+"]",ot=!1,Pt=function(){ot||(R.apply(null,arguments),ot=!0)};return this[V]=Pt,{number:V,id:pe,name:je,callback:Pt}}remove(R){delete this[R.number]}}var o=new a("_pusher_script_","Pusher.ScriptReceivers"),l={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},c=l;class u{constructor(R){this.options=R,this.receivers=R.receivers||o,this.loading={}}load(R,V,pe){var je=this;if(je.loading[R]&&je.loading[R].length>0)je.loading[R].push(pe);else{je.loading[R]=[pe];var ot=it.createScriptRequest(je.getPath(R,V)),Pt=je.receivers.create(function(jn){if(je.receivers.remove(Pt),je.loading[R]){var is=je.loading[R];delete je.loading[R];for(var ne=function(Ye){Ye||ot.cleanup()},De=0;De<is.length;De++)is[De](jn,ne)}});ot.send(Pt)}}getRoot(R){var V,pe=it.getDocument().location.protocol;return R&&R.useTLS||pe==="https:"?V=this.options.cdn_https:V=this.options.cdn_http,V.replace(/\/*$/,"")+"/"+this.options.version}getPath(R,V){return this.getRoot(V)+"/"+R+this.options.suffix+".js"}}var p=new a("_pusher_dependencies","Pusher.DependenciesReceivers"),f=new u({cdn_http:c.cdn_http,cdn_https:c.cdn_https,version:c.VERSION,suffix:c.dependency_suffix,receivers:p});const m={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var x={buildLogSuffix:function(z){const R="See:",V=m.urls[z];if(!V)return"";let pe;return V.fullUrl?pe=V.fullUrl:V.path&&(pe=m.baseUrl+V.path),pe?`${R} ${pe}`:""}},g;(function(z){z.UserAuthentication="user-authentication",z.ChannelAuthorization="channel-authorization"})(g||(g={}));class v extends Error{constructor(R){super(R),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(R){super(R),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(R){super(R),Object.setPrototypeOf(this,new.target.prototype)}}class w extends Error{constructor(R){super(R),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(R){super(R),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor(R){super(R),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(R){super(R),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(R){super(R),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(R,V){super(V),this.status=R,Object.setPrototypeOf(this,new.target.prototype)}}var E=function(z,R,V,pe,je){const ot=it.createXHR();ot.open("POST",V.endpoint,!0),ot.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Pt in V.headers)ot.setRequestHeader(Pt,V.headers[Pt]);if(V.headersProvider!=null){let jn=V.headersProvider();for(var Pt in jn)ot.setRequestHeader(Pt,jn[Pt])}return ot.onreadystatechange=function(){if(ot.readyState===4)if(ot.status===200){let jn,is=!1;try{jn=JSON.parse(ot.responseText),is=!0}catch{je(new S(200,`JSON returned from ${pe.toString()} endpoint was invalid, yet status code was 200. Data was: ${ot.responseText}`),null)}is&&je(null,jn)}else{let jn="";switch(pe){case g.UserAuthentication:jn=x.buildLogSuffix("authenticationEndpoint");break;case g.ChannelAuthorization:jn=`Clients must be authorized to join private or presence channels. ${x.buildLogSuffix("authorizationEndpoint")}`;break}je(new S(ot.status,`Unable to retrieve auth string from ${pe.toString()} endpoint - received status: ${ot.status} from ${V.endpoint}. ${jn}`),null)}},ot.send(R),ot};function I(z){return L(O(z))}var T=String.fromCharCode,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=function(z){var R=z.charCodeAt(0);return R<128?z:R<2048?T(192|R>>>6)+T(128|R&63):T(224|R>>>12&15)+T(128|R>>>6&63)+T(128|R&63)},O=function(z){return z.replace(/[^\x00-\x7F]/g,D)},M=function(z){var R=[0,2,1][z.length%3],V=z.charCodeAt(0)<<16|(z.length>1?z.charCodeAt(1):0)<<8|(z.length>2?z.charCodeAt(2):0),pe=[A.charAt(V>>>18),A.charAt(V>>>12&63),R>=2?"=":A.charAt(V>>>6&63),R>=1?"=":A.charAt(V&63)];return pe.join("")},L=window.btoa||function(z){return z.replace(/[\s\S]{1,3}/g,M)};class P{constructor(R,V,pe,je){this.clear=V,this.timer=R(()=>{this.timer&&(this.timer=je(this.timer))},pe)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var B=P;function G(z){window.clearTimeout(z)}function $(z){window.clearInterval(z)}class te extends B{constructor(R,V){super(setTimeout,G,R,function(pe){return V(),null})}}class U extends B{constructor(R,V){super(setInterval,$,R,function(pe){return V(),pe})}}var oe={now(){return Date.now?Date.now():new Date().valueOf()},defer(z){return new te(0,z)},method(z,...R){var V=Array.prototype.slice.call(arguments,1);return function(pe){return pe[z].apply(pe,V.concat(arguments))}}},Y=oe;function W(z,...R){for(var V=0;V<R.length;V++){var pe=R[V];for(var je in pe)pe[je]&&pe[je].constructor&&pe[je].constructor===Object?z[je]=W(z[je]||{},pe[je]):z[je]=pe[je]}return z}function Z(){for(var z=["Pusher"],R=0;R<arguments.length;R++)typeof arguments[R]=="string"?z.push(arguments[R]):z.push(Se(arguments[R]));return z.join(" : ")}function le(z,R){var V=Array.prototype.indexOf;if(z===null)return-1;if(V&&z.indexOf===V)return z.indexOf(R);for(var pe=0,je=z.length;pe<je;pe++)if(z[pe]===R)return pe;return-1}function q(z,R){for(var V in z)Object.prototype.hasOwnProperty.call(z,V)&&R(z[V],V,z)}function Q(z){var R=[];return q(z,function(V,pe){R.push(pe)}),R}function he(z){var R=[];return q(z,function(V){R.push(V)}),R}function me(z,R,V){for(var pe=0;pe<z.length;pe++)R.call(V||window,z[pe],pe,z)}function ce(z,R){for(var V=[],pe=0;pe<z.length;pe++)V.push(R(z[pe],pe,z,V));return V}function ee(z,R){var V={};return q(z,function(pe,je){V[je]=R(pe)}),V}function J(z,R){R=R||function(je){return!!je};for(var V=[],pe=0;pe<z.length;pe++)R(z[pe],pe,z,V)&&V.push(z[pe]);return V}function re(z,R){var V={};return q(z,function(pe,je){(R&&R(pe,je,z,V)||pe)&&(V[je]=pe)}),V}function xe(z){var R=[];return q(z,function(V,pe){R.push([pe,V])}),R}function ae(z,R){for(var V=0;V<z.length;V++)if(R(z[V],V,z))return!0;return!1}function Fe(z,R){for(var V=0;V<z.length;V++)if(!R(z[V],V,z))return!1;return!0}function se(z){return ee(z,function(R){return typeof R=="object"&&(R=Se(R)),encodeURIComponent(I(R.toString()))})}function _e(z){var R=re(z,function(pe){return pe!==void 0}),V=ce(xe(se(R)),Y.method("join","=")).join("&");return V}function Re(z){var R=[],V=[];return(function pe(je,ot){var Pt,jn,is;switch(typeof je){case"object":if(!je)return null;for(Pt=0;Pt<R.length;Pt+=1)if(R[Pt]===je)return{$ref:V[Pt]};if(R.push(je),V.push(ot),Object.prototype.toString.apply(je)==="[object Array]")for(is=[],Pt=0;Pt<je.length;Pt+=1)is[Pt]=pe(je[Pt],ot+"["+Pt+"]");else{is={};for(jn in je)Object.prototype.hasOwnProperty.call(je,jn)&&(is[jn]=pe(je[jn],ot+"["+JSON.stringify(jn)+"]"))}return is;case"number":case"string":case"boolean":return je}})(z,"$")}function Se(z){try{return JSON.stringify(z)}catch{return JSON.stringify(Re(z))}}class Ne{constructor(){this.globalLog=R=>{window.console&&window.console.log&&window.console.log(R)}}debug(...R){this.log(this.globalLog,R)}warn(...R){this.log(this.globalLogWarn,R)}error(...R){this.log(this.globalLogError,R)}globalLogWarn(R){window.console&&window.console.warn?window.console.warn(R):this.globalLog(R)}globalLogError(R){window.console&&window.console.error?window.console.error(R):this.globalLogWarn(R)}log(R,...V){var pe=Z.apply(this,arguments);qo.log?qo.log(pe):qo.logToConsole&&R.bind(this)(pe)}}var ge=new Ne,Ce=function(z,R,V,pe,je){(V.headers!==void 0||V.headersProvider!=null)&&ge.warn(`To send headers with the ${pe.toString()} request, you must use AJAX, rather than JSONP.`);var ot=z.nextAuthCallbackID.toString();z.nextAuthCallbackID++;var Pt=z.getDocument(),jn=Pt.createElement("script");z.auth_callbacks[ot]=function(De){je(null,De)};var is="Pusher.auth_callbacks['"+ot+"']";jn.src=V.endpoint+"?callback="+encodeURIComponent(is)+"&"+R;var ne=Pt.getElementsByTagName("head")[0]||Pt.documentElement;ne.insertBefore(jn,ne.firstChild)},$e=Ce;class dt{constructor(R){this.src=R}send(R){var V=this,pe="Error loading "+V.src;V.script=document.createElement("script"),V.script.id=R.id,V.script.src=V.src,V.script.type="text/javascript",V.script.charset="UTF-8",V.script.addEventListener?(V.script.onerror=function(){R.callback(pe)},V.script.onload=function(){R.callback(null)}):V.script.onreadystatechange=function(){(V.script.readyState==="loaded"||V.script.readyState==="complete")&&R.callback(null)},V.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(V.errorScript=document.createElement("script"),V.errorScript.id=R.id+"_error",V.errorScript.text=R.name+"('"+pe+"');",V.script.async=V.errorScript.async=!1):V.script.async=!0;var je=document.getElementsByTagName("head")[0];je.insertBefore(V.script,je.firstChild),V.errorScript&&je.insertBefore(V.errorScript,V.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Me{constructor(R,V){this.url=R,this.data=V}send(R){if(!this.request){var V=_e(this.data),pe=this.url+"/"+R.number+"?"+V;this.request=it.createScriptRequest(pe),this.request.send(R)}}cleanup(){this.request&&this.request.cleanup()}}var we=function(z,R){return function(V,pe){var je="http"+(R?"s":"")+"://",ot=je+(z.host||z.options.host)+z.options.path,Pt=it.createJSONPRequest(ot,V),jn=it.ScriptReceivers.create(function(is,ne){o.remove(jn),Pt.cleanup(),ne&&ne.host&&(z.host=ne.host),pe&&pe(is,ne)});Pt.send(jn)}},Te={name:"jsonp",getAgent:we},ze=Te;function _t(z,R,V){var pe=z+(R.useTLS?"s":""),je=R.useTLS?R.hostTLS:R.hostNonTLS;return pe+"://"+je+V}function Bt(z,R){var V="/app/"+z,pe="?protocol="+c.PROTOCOL+"&client=js&version="+c.VERSION+(R?"&"+R:"");return V+pe}var qe={getInitial:function(z,R){var V=(R.httpPath||"")+Bt(z,"flash=false");return _t("ws",R,V)}},Ae={getInitial:function(z,R){var V=(R.httpPath||"/pusher")+Bt(z);return _t("http",R,V)}},Le={getInitial:function(z,R){return _t("http",R,R.httpPath||"/pusher")},getPath:function(z,R){return Bt(z)}};class Ut{constructor(){this._callbacks={}}get(R){return this._callbacks[tt(R)]}add(R,V,pe){var je=tt(R);this._callbacks[je]=this._callbacks[je]||[],this._callbacks[je].push({fn:V,context:pe})}remove(R,V,pe){if(!R&&!V&&!pe){this._callbacks={};return}var je=R?[tt(R)]:Q(this._callbacks);V||pe?this.removeCallback(je,V,pe):this.removeAllCallbacks(je)}removeCallback(R,V,pe){me(R,function(je){this._callbacks[je]=J(this._callbacks[je]||[],function(ot){return V&&V!==ot.fn||pe&&pe!==ot.context}),this._callbacks[je].length===0&&delete this._callbacks[je]},this)}removeAllCallbacks(R){me(R,function(V){delete this._callbacks[V]},this)}}function tt(z){return"_"+z}class xt{constructor(R){this.callbacks=new Ut,this.global_callbacks=[],this.failThrough=R}bind(R,V,pe){return this.callbacks.add(R,V,pe),this}bind_global(R){return this.global_callbacks.push(R),this}unbind(R,V,pe){return this.callbacks.remove(R,V,pe),this}unbind_global(R){return R?(this.global_callbacks=J(this.global_callbacks||[],V=>V!==R),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(R,V,pe){for(var je=0;je<this.global_callbacks.length;je++)this.global_callbacks[je](R,V);var ot=this.callbacks.get(R),Pt=[];if(pe?Pt.push(V,pe):V&&Pt.push(V),ot&&ot.length>0)for(var je=0;je<ot.length;je++)ot[je].fn.apply(ot[je].context||window,Pt);else this.failThrough&&this.failThrough(R,V);return this}}class St extends xt{constructor(R,V,pe,je,ot){super(),this.initialize=it.transportConnectionInitializer,this.hooks=R,this.name=V,this.priority=pe,this.key=je,this.options=ot,this.state="new",this.timeline=ot.timeline,this.activityTimeout=ot.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var R=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(R,this.options)}catch(V){return Y.defer(()=>{this.onError(V),this.changeState("closed")}),!1}return this.bindListeners(),ge.debug("Connecting",{transport:this.name,url:R}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(R){return this.state==="open"?(Y.defer(()=>{this.socket&&this.socket.send(R)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(R){this.emit("error",{type:"WebSocketError",error:R}),this.timeline.error(this.buildTimelineMessage({error:R.toString()}))}onClose(R){R?this.changeState("closed",{code:R.code,reason:R.reason,wasClean:R.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(R){this.emit("message",R)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=R=>{this.onError(R)},this.socket.onclose=R=>{this.onClose(R)},this.socket.onmessage=R=>{this.onMessage(R)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(R,V){this.state=R,this.timeline.info(this.buildTimelineMessage({state:R,params:V})),this.emit(R,V)}buildTimelineMessage(R){return W({cid:this.id},R)}}class It{constructor(R){this.hooks=R}isSupported(R){return this.hooks.isSupported(R)}createConnection(R,V,pe,je){return new St(this.hooks,R,V,pe,je)}}var kt=new It({urls:qe,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!it.getWebSocketAPI()},isSupported:function(){return!!it.getWebSocketAPI()},getSocket:function(z){return it.createWebSocket(z)}}),Ot={urls:Ae,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Ie=W({getSocket:function(z){return it.HTTPFactory.createStreamingSocket(z)}},Ot),nt=W({getSocket:function(z){return it.HTTPFactory.createPollingSocket(z)}},Ot),We={isSupported:function(){return it.isXHRSupported()}},Lt=new It(W({},Ie,We)),pt=new It(W({},nt,We)),ft={ws:kt,xhr_streaming:Lt,xhr_polling:pt},Tt=ft,Gt=new It({file:"sockjs",urls:Le,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(z,R){return new window.SockJS(z,null,{js_path:f.getPath("sockjs",{useTLS:R.useTLS}),ignore_null_origin:R.ignoreNullOrigin})},beforeOpen:function(z,R){z.send(JSON.stringify({path:R}))}}),Ze={isSupported:function(z){var R=it.isXDRSupported(z.useTLS);return R}},ut=new It(W({},Ie,Ze)),Qt=new It(W({},nt,Ze));Tt.xdr_streaming=ut,Tt.xdr_polling=Qt,Tt.sockjs=Gt;var Sn=Tt;class yn extends xt{constructor(){super();var R=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){R.emit("online")},!1),window.addEventListener("offline",function(){R.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Ee=new yn;class Ke{constructor(R,V,pe){this.manager=R,this.transport=V,this.minPingDelay=pe.minPingDelay,this.maxPingDelay=pe.maxPingDelay,this.pingDelay=void 0}createConnection(R,V,pe,je){je=W({},je,{activityTimeout:this.pingDelay});var ot=this.transport.createConnection(R,V,pe,je),Pt=null,jn=function(){ot.unbind("open",jn),ot.bind("closed",is),Pt=Y.now()},is=ne=>{if(ot.unbind("closed",is),ne.code===1002||ne.code===1003)this.manager.reportDeath();else if(!ne.wasClean&&Pt){var De=Y.now()-Pt;De<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(De/2,this.minPingDelay))}};return ot.bind("open",jn),ot}isSupported(R){return this.manager.isAlive()&&this.transport.isSupported(R)}}const mt={decodeMessage:function(z){try{var R=JSON.parse(z.data),V=R.data;if(typeof V=="string")try{V=JSON.parse(R.data)}catch{}var pe={event:R.event,channel:R.channel,data:V};return R.user_id&&(pe.user_id=R.user_id),pe}catch(je){throw{type:"MessageParseError",error:je,data:z.data}}},encodeMessage:function(z){return JSON.stringify(z)},processHandshake:function(z){var R=mt.decodeMessage(z);if(R.event==="pusher:connection_established"){if(!R.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:R.data.socket_id,activityTimeout:R.data.activity_timeout*1e3}}else{if(R.event==="pusher:error")return{action:this.getCloseAction(R.data),error:this.getCloseError(R.data)};throw"Invalid handshake"}},getCloseAction:function(z){return z.code<4e3?z.code>=1002&&z.code<=1004?"backoff":null:z.code===4e3?"tls_only":z.code<4100?"refused":z.code<4200?"backoff":z.code<4300?"retry":"refused"},getCloseError:function(z){return z.code!==1e3&&z.code!==1001?{type:"PusherError",data:{code:z.code,message:z.reason||z.message}}:null}};var Ge=mt;class At extends xt{constructor(R,V){super(),this.id=R,this.transport=V,this.activityTimeout=V.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(R){return this.transport.send(R)}send_event(R,V,pe){var je={event:R,data:V};return pe&&(je.channel=pe),ge.debug("Event sent",je),this.send(Ge.encodeMessage(je))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var R={message:pe=>{var je;try{je=Ge.decodeMessage(pe)}catch(ot){this.emit("error",{type:"MessageParseError",error:ot,data:pe.data})}if(je!==void 0){switch(ge.debug("Event recd",je),je.event){case"pusher:error":this.emit("error",{type:"PusherError",data:je.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",je)}},activity:()=>{this.emit("activity")},error:pe=>{this.emit("error",pe)},closed:pe=>{V(),pe&&pe.code&&this.handleCloseEvent(pe),this.transport=null,this.emit("closed")}},V=()=>{q(R,(pe,je)=>{this.transport.unbind(je,pe)})};q(R,(pe,je)=>{this.transport.bind(je,pe)})}handleCloseEvent(R){var V=Ge.getCloseAction(R),pe=Ge.getCloseError(R);pe&&this.emit("error",pe),V&&this.emit(V,{action:V,error:pe})}}class Cn{constructor(R,V){this.transport=R,this.callback=V,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=R=>{this.unbindListeners();var V;try{V=Ge.processHandshake(R)}catch(pe){this.finish("error",{error:pe}),this.transport.close();return}V.action==="connected"?this.finish("connected",{connection:new At(V.id,this.transport),activityTimeout:V.activityTimeout}):(this.finish(V.action,{error:V.error}),this.transport.close())},this.onClosed=R=>{this.unbindListeners();var V=Ge.getCloseAction(R)||"backoff",pe=Ge.getCloseError(R);this.finish(V,{error:pe})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(R,V){this.callback(W({transport:this.transport,action:R},V))}}class Mt{constructor(R,V){this.timeline=R,this.options=V||{}}send(R,V){this.timeline.isEmpty()||this.timeline.send(it.TimelineTransport.getAgent(this,R),V)}}class Pn extends xt{constructor(R,V){super(function(pe,je){ge.debug("No callbacks on "+R+" for "+pe)}),this.name=R,this.pusher=V,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(R,V){return V(null,{auth:""})}trigger(R,V){if(R.indexOf("client-")!==0)throw new v("Event '"+R+"' does not start with 'client-'");if(!this.subscribed){var pe=x.buildLogSuffix("triggeringClientEvents");ge.warn(`Client event triggered before channel 'subscription_succeeded' event . ${pe}`)}return this.pusher.send_event(R,V,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(R){var V=R.event,pe=R.data;if(V==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(R);else if(V==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(R);else if(V.indexOf("pusher_internal:")!==0){var je={};this.emit(V,pe,je)}}handleSubscriptionSucceededEvent(R){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",R.data)}handleSubscriptionCountEvent(R){R.data.subscription_count&&(this.subscriptionCount=R.data.subscription_count),this.emit("pusher:subscription_count",R.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(R,V)=>{R?(this.subscriptionPending=!1,ge.error(R.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:R.message},R instanceof S?{status:R.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:V.auth,channel_data:V.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class wn extends Pn{authorize(R,V){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:R},V)}}class In{constructor(){this.reset()}get(R){return Object.prototype.hasOwnProperty.call(this.members,R)?{id:R,info:this.members[R]}:null}each(R){q(this.members,(V,pe)=>{R(this.get(pe))})}setMyID(R){this.myID=R}onSubscription(R){this.members=R.presence.hash,this.count=R.presence.count,this.me=this.get(this.myID)}addMember(R){return this.get(R.user_id)===null&&this.count++,this.members[R.user_id]=R.user_info,this.get(R.user_id)}removeMember(R){var V=this.get(R.user_id);return V&&(delete this.members[R.user_id],this.count--),V}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var us=function(z,R,V,pe){function je(ot){return ot instanceof V?ot:new V(function(Pt){Pt(ot)})}return new(V||(V=Promise))(function(ot,Pt){function jn(De){try{ne(pe.next(De))}catch(Ye){Pt(Ye)}}function is(De){try{ne(pe.throw(De))}catch(Ye){Pt(Ye)}}function ne(De){De.done?ot(De.value):je(De.value).then(jn,is)}ne((pe=pe.apply(z,R||[])).next())})};class Kt extends wn{constructor(R,V){super(R,V),this.members=new In}authorize(R,V){super.authorize(R,(pe,je)=>us(this,void 0,void 0,function*(){if(!pe)if(je=je,je.channel_data!=null){var ot=JSON.parse(je.channel_data);this.members.setMyID(ot.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let Pt=x.buildLogSuffix("authorizationEndpoint");ge.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${Pt}, or the user should be signed in.`),V("Invalid auth response");return}V(pe,je)}))}handleEvent(R){var V=R.event;if(V.indexOf("pusher_internal:")===0)this.handleInternalEvent(R);else{var pe=R.data,je={};R.user_id&&(je.user_id=R.user_id),this.emit(V,pe,je)}}handleInternalEvent(R){var V=R.event,pe=R.data;switch(V){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(R);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(R);break;case"pusher_internal:member_added":var je=this.members.addMember(pe);this.emit("pusher:member_added",je);break;case"pusher_internal:member_removed":var ot=this.members.removeMember(pe);ot&&this.emit("pusher:member_removed",ot);break}}handleSubscriptionSucceededEvent(R){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(R.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var dn=i(1),gt=i(0);class ps extends wn{constructor(R,V,pe){super(R,V),this.key=null,this.nacl=pe}authorize(R,V){super.authorize(R,(pe,je)=>{if(pe){V(pe,je);return}let ot=je.shared_secret;if(!ot){V(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(gt.decode)(ot),delete je.shared_secret,V(null,je)})}trigger(R,V){throw new N("Client events are not currently supported for encrypted channels")}handleEvent(R){var V=R.event,pe=R.data;if(V.indexOf("pusher_internal:")===0||V.indexOf("pusher:")===0){super.handleEvent(R);return}this.handleEncryptedEvent(V,pe)}handleEncryptedEvent(R,V){if(!this.key){ge.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!V.ciphertext||!V.nonce){ge.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+V);return}let pe=Object(gt.decode)(V.ciphertext);if(pe.length<this.nacl.secretbox.overheadLength){ge.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${pe.length}`);return}let je=Object(gt.decode)(V.nonce);if(je.length<this.nacl.secretbox.nonceLength){ge.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${je.length}`);return}let ot=this.nacl.secretbox.open(pe,je,this.key);if(ot===null){ge.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(Pt,jn)=>{if(Pt){ge.error(`Failed to make a request to the authEndpoint: ${jn}. Unable to fetch new key, so dropping encrypted event`);return}if(ot=this.nacl.secretbox.open(pe,je,this.key),ot===null){ge.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(R,this.getDataToEmit(ot))});return}this.emit(R,this.getDataToEmit(ot))}getDataToEmit(R){let V=Object(dn.decode)(R);try{return JSON.parse(V)}catch{return V}}}class Zn extends xt{constructor(R,V){super(),this.state="initialized",this.connection=null,this.key=R,this.options=V,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var pe=it.getNetwork();pe.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),pe.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(R){return this.connection?this.connection.send(R):!1}send_event(R,V,pe){return this.connection?this.connection.send_event(R,V,pe):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var R=(V,pe)=>{V?this.runner=this.strategy.connect(0,R):pe.action==="error"?(this.emit("error",{type:"HandshakeError",error:pe.error}),this.timeline.error({handshakeError:pe.error})):(this.abortConnecting(),this.handshakeCallbacks[pe.action](pe))};this.runner=this.strategy.connect(0,R)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var R=this.abandonConnection();R.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(R){this.timeline.info({action:"retry",delay:R}),R>0&&this.emit("connecting_in",Math.round(R/1e3)),this.retryTimer=new te(R||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new te(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new te(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new te(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(R){return W({},R,{message:V=>{this.resetActivityCheck(),this.emit("message",V)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:V=>{this.emit("error",V)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(R){return W({},R,{connected:V=>{this.activityTimeout=Math.min(this.options.activityTimeout,V.activityTimeout,V.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(V.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let R=V=>pe=>{pe.error&&this.emit("error",{type:"WebSocketError",error:pe.error}),V(pe)};return{tls_only:R(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:R(()=>{this.disconnect()}),backoff:R(()=>{this.retryIn(1e3)}),retry:R(()=>{this.retryIn(0)})}}setConnection(R){this.connection=R;for(var V in this.connectionCallbacks)this.connection.bind(V,this.connectionCallbacks[V]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var R in this.connectionCallbacks)this.connection.unbind(R,this.connectionCallbacks[R]);var V=this.connection;return this.connection=null,V}}updateState(R,V){var pe=this.state;if(this.state=R,pe!==R){var je=R;je==="connected"&&(je+=" with new socket ID "+V.socket_id),ge.debug("State changed",pe+" -> "+je),this.timeline.info({state:R,params:V}),this.emit("state_change",{previous:pe,current:R}),this.emit(R,V)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class $s{constructor(){this.channels={}}add(R,V){return this.channels[R]||(this.channels[R]=Ls(R,V)),this.channels[R]}all(){return he(this.channels)}find(R){return this.channels[R]}remove(R){var V=this.channels[R];return delete this.channels[R],V}disconnect(){q(this.channels,function(R){R.disconnect()})}}function Ls(z,R){if(z.indexOf("private-encrypted-")===0){if(R.config.nacl)return zn.createEncryptedChannel(z,R,R.config.nacl);let V="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",pe=x.buildLogSuffix("encryptedChannelSupport");throw new N(`${V}. ${pe}`)}else{if(z.indexOf("private-")===0)return zn.createPrivateChannel(z,R);if(z.indexOf("presence-")===0)return zn.createPresenceChannel(z,R);if(z.indexOf("#")===0)throw new b('Cannot create a channel with name "'+z+'".');return zn.createChannel(z,R)}}var ys={createChannels(){return new $s},createConnectionManager(z,R){return new Zn(z,R)},createChannel(z,R){return new Pn(z,R)},createPrivateChannel(z,R){return new wn(z,R)},createPresenceChannel(z,R){return new Kt(z,R)},createEncryptedChannel(z,R,V){return new ps(z,R,V)},createTimelineSender(z,R){return new Mt(z,R)},createHandshake(z,R){return new Cn(z,R)},createAssistantToTheTransportManager(z,R,V){return new Ke(z,R,V)}},zn=ys;class _n{constructor(R){this.options=R||{},this.livesLeft=this.options.lives||1/0}getAssistant(R){return zn.createAssistantToTheTransportManager(this,R,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Wn{constructor(R,V){this.strategies=R,this.loop=!!V.loop,this.failFast=!!V.failFast,this.timeout=V.timeout,this.timeoutLimit=V.timeoutLimit}isSupported(){return ae(this.strategies,Y.method("isSupported"))}connect(R,V){var pe=this.strategies,je=0,ot=this.timeout,Pt=null,jn=(is,ne)=>{ne?V(null,ne):(je=je+1,this.loop&&(je=je%pe.length),je<pe.length?(ot&&(ot=ot*2,this.timeoutLimit&&(ot=Math.min(ot,this.timeoutLimit))),Pt=this.tryStrategy(pe[je],R,{timeout:ot,failFast:this.failFast},jn)):V(!0))};return Pt=this.tryStrategy(pe[je],R,{timeout:ot,failFast:this.failFast},jn),{abort:function(){Pt.abort()},forceMinPriority:function(is){R=is,Pt&&Pt.forceMinPriority(is)}}}tryStrategy(R,V,pe,je){var ot=null,Pt=null;return pe.timeout>0&&(ot=new te(pe.timeout,function(){Pt.abort(),je(!0)})),Pt=R.connect(V,function(jn,is){jn&&ot&&ot.isRunning()&&!pe.failFast||(ot&&ot.ensureAborted(),je(jn,is))}),{abort:function(){ot&&ot.ensureAborted(),Pt.abort()},forceMinPriority:function(jn){Pt.forceMinPriority(jn)}}}}class As{constructor(R){this.strategies=R}isSupported(){return ae(this.strategies,Y.method("isSupported"))}connect(R,V){return tr(this.strategies,R,function(pe,je){return function(ot,Pt){if(je[pe].error=ot,ot){Ht(je)&&V(!0);return}me(je,function(jn){jn.forceMinPriority(Pt.transport.priority)}),V(null,Pt)}})}}function tr(z,R,V){var pe=ce(z,function(je,ot,Pt,jn){return je.connect(R,V(ot,jn))});return{abort:function(){me(pe,zs)},forceMinPriority:function(je){me(pe,function(ot){ot.forceMinPriority(je)})}}}function Ht(z){return Fe(z,function(R){return!!R.error})}function zs(z){!z.error&&!z.aborted&&(z.abort(),z.aborted=!0)}class Ve{constructor(R,V,pe){this.strategy=R,this.transports=V,this.ttl=pe.ttl||1800*1e3,this.usingTLS=pe.useTLS,this.timeline=pe.timeline}isSupported(){return this.strategy.isSupported()}connect(R,V){var pe=this.usingTLS,je=$t(pe),ot=je&&je.cacheSkipCount?je.cacheSkipCount:0,Pt=[this.strategy];if(je&&je.timestamp+this.ttl>=Y.now()){var jn=this.transports[je.transport];jn&&(["ws","wss"].includes(je.transport)||ot>3?(this.timeline.info({cached:!0,transport:je.transport,latency:je.latency}),Pt.push(new Wn([jn],{timeout:je.latency*2+1e3,failFast:!0}))):ot++)}var is=Y.now(),ne=Pt.pop().connect(R,function De(Ye,ue){Ye?(Yt(pe),Pt.length>0?(is=Y.now(),ne=Pt.pop().connect(R,De)):V(Ye)):(Tn(pe,ue.transport.name,Y.now()-is,ot),V(null,ue))});return{abort:function(){ne.abort()},forceMinPriority:function(De){R=De,ne&&ne.forceMinPriority(De)}}}}function lt(z){return"pusherTransport"+(z?"TLS":"NonTLS")}function $t(z){var R=it.getLocalStorage();if(R)try{var V=R[lt(z)];if(V)return JSON.parse(V)}catch{Yt(z)}return null}function Tn(z,R,V,pe){var je=it.getLocalStorage();if(je)try{je[lt(z)]=Se({timestamp:Y.now(),transport:R,latency:V,cacheSkipCount:pe})}catch{}}function Yt(z){var R=it.getLocalStorage();if(R)try{delete R[lt(z)]}catch{}}class Is{constructor(R,{delay:V}){this.strategy=R,this.options={delay:V}}isSupported(){return this.strategy.isSupported()}connect(R,V){var pe=this.strategy,je,ot=new te(this.options.delay,function(){je=pe.connect(R,V)});return{abort:function(){ot.ensureAborted(),je&&je.abort()},forceMinPriority:function(Pt){R=Pt,je&&je.forceMinPriority(Pt)}}}}class nn{constructor(R,V,pe){this.test=R,this.trueBranch=V,this.falseBranch=pe}isSupported(){var R=this.test()?this.trueBranch:this.falseBranch;return R.isSupported()}connect(R,V){var pe=this.test()?this.trueBranch:this.falseBranch;return pe.connect(R,V)}}class Ue{constructor(R){this.strategy=R}isSupported(){return this.strategy.isSupported()}connect(R,V){var pe=this.strategy.connect(R,function(je,ot){ot&&pe.abort(),V(je,ot)});return pe}}function Nt(z){return function(){return z.isSupported()}}var bn=function(z,R,V){var pe={};function je(Qs,io,Nl,Ko,Ia){var Fl=V(z,Qs,io,Nl,Ko,Ia);return pe[Qs]=Fl,Fl}var ot=Object.assign({},R,{hostNonTLS:z.wsHost+":"+z.wsPort,hostTLS:z.wsHost+":"+z.wssPort,httpPath:z.wsPath}),Pt=Object.assign({},ot,{useTLS:!0}),jn=Object.assign({},R,{hostNonTLS:z.httpHost+":"+z.httpPort,hostTLS:z.httpHost+":"+z.httpsPort,httpPath:z.httpPath}),is={loop:!0,timeout:15e3,timeoutLimit:6e4},ne=new _n({minPingDelay:1e4,maxPingDelay:z.activityTimeout}),De=new _n({lives:2,minPingDelay:1e4,maxPingDelay:z.activityTimeout}),Ye=je("ws","ws",3,ot,ne),ue=je("wss","ws",3,Pt,ne),be=je("sockjs","sockjs",1,jn),ht=je("xhr_streaming","xhr_streaming",1,jn,De),yt=je("xdr_streaming","xdr_streaming",1,jn,De),mn=je("xhr_polling","xhr_polling",1,jn),Nn=je("xdr_polling","xdr_polling",1,jn),Mn=new Wn([Ye],is),Qn=new Wn([ue],is),sr=new Wn([be],is),qs=new Wn([new nn(Nt(ht),ht,yt)],is),Xs=new Wn([new nn(Nt(mn),mn,Nn)],is),vi=new Wn([new nn(Nt(qs),new As([qs,new Is(Xs,{delay:4e3})]),Xs)],is),es=new nn(Nt(vi),vi,sr),Lr;return R.useTLS?Lr=new As([Mn,new Is(es,{delay:2e3})]):Lr=new As([Mn,new Is(Qn,{delay:2e3}),new Is(es,{delay:5e3})]),new Ve(new Ue(new nn(Nt(Ye),Lr,es)),pe,{ttl:18e5,timeline:R.timeline,useTLS:R.useTLS})},Yn=bn,Jn=(function(){var z=this;z.timeline.info(z.buildTimelineMessage({transport:z.name+(z.options.useTLS?"s":"")})),z.hooks.isInitialized()?z.changeState("initialized"):z.hooks.file?(z.changeState("initializing"),f.load(z.hooks.file,{useTLS:z.options.useTLS},function(R,V){z.hooks.isInitialized()?(z.changeState("initialized"),V(!0)):(R&&z.onError(R),z.onClose(),V(!1))})):z.onClose()}),fs={getRequest:function(z){var R=new window.XDomainRequest;return R.ontimeout=function(){z.emit("error",new y),z.close()},R.onerror=function(V){z.emit("error",V),z.close()},R.onprogress=function(){R.responseText&&R.responseText.length>0&&z.onChunk(200,R.responseText)},R.onload=function(){R.responseText&&R.responseText.length>0&&z.onChunk(200,R.responseText),z.emit("finished",200),z.close()},R},abortRequest:function(z){z.ontimeout=z.onerror=z.onprogress=z.onload=null,z.abort()}},Gn=fs;const Fs=256*1024;class nr extends xt{constructor(R,V,pe){super(),this.hooks=R,this.method=V,this.url=pe}start(R){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},it.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(R)}close(){this.unloader&&(it.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(R,V){for(;;){var pe=this.advanceBuffer(V);if(pe)this.emit("chunk",{status:R,data:pe});else break}this.isBufferTooLong(V)&&this.emit("buffer_too_long")}advanceBuffer(R){var V=R.slice(this.position),pe=V.indexOf(`
`);return pe!==-1?(this.position+=pe+1,V.slice(0,pe)):null}isBufferTooLong(R){return this.position===R.length&&R.length>Fs}}var an;(function(z){z[z.CONNECTING=0]="CONNECTING",z[z.OPEN=1]="OPEN",z[z.CLOSED=3]="CLOSED"})(an||(an={}));var Ws=an,ir=1;class vr{constructor(R,V){this.hooks=R,this.session=Gs(1e3)+"/"+Sr(8),this.location=rs(V),this.readyState=Ws.CONNECTING,this.openStream()}send(R){return this.sendRaw(JSON.stringify([R]))}ping(){this.hooks.sendHeartbeat(this)}close(R,V){this.onClose(R,V,!0)}sendRaw(R){if(this.readyState===Ws.OPEN)try{return it.createSocketRequest("POST",_s(Bs(this.location,this.session))).start(R),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(R,V,pe){this.closeStream(),this.readyState=Ws.CLOSED,this.onclose&&this.onclose({code:R,reason:V,wasClean:pe})}onChunk(R){if(R.status===200){this.readyState===Ws.OPEN&&this.onActivity();var V,pe=R.data.slice(0,1);switch(pe){case"o":V=JSON.parse(R.data.slice(1)||"{}"),this.onOpen(V);break;case"a":V=JSON.parse(R.data.slice(1)||"[]");for(var je=0;je<V.length;je++)this.onEvent(V[je]);break;case"m":V=JSON.parse(R.data.slice(1)||"null"),this.onEvent(V);break;case"h":this.hooks.onHeartbeat(this);break;case"c":V=JSON.parse(R.data.slice(1)||"[]"),this.onClose(V[0],V[1],!0);break}}}onOpen(R){this.readyState===Ws.CONNECTING?(R&&R.hostname&&(this.location.base=wr(this.location.base,R.hostname)),this.readyState=Ws.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(R){this.readyState===Ws.OPEN&&this.onmessage&&this.onmessage({data:R})}onActivity(){this.onactivity&&this.onactivity()}onError(R){this.onerror&&this.onerror(R)}openStream(){this.stream=it.createSocketRequest("POST",_s(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",R=>{this.onChunk(R)}),this.stream.bind("finished",R=>{this.hooks.onFinished(this,R)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(R){Y.defer(()=>{this.onError(R),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function rs(z){var R=/([^\?]*)\/*(\??.*)/.exec(z);return{base:R[1],queryString:R[2]}}function Bs(z,R){return z.base+"/"+R+"/xhr_send"}function _s(z){var R=z.indexOf("?")===-1?"?":"&";return z+R+"t="+ +new Date+"&n="+ir++}function wr(z,R){var V=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(z);return V[1]+R+V[3]}function Gs(z){return it.randomInt(z)}function Sr(z){for(var R=[],V=0;V<z;V++)R.push(Gs(32).toString(32));return R.join("")}var ve=vr,Xe={getReceiveURL:function(z,R){return z.base+"/"+R+"/xhr_streaming"+z.queryString},onHeartbeat:function(z){z.sendRaw("[]")},sendHeartbeat:function(z){z.sendRaw("[]")},onFinished:function(z,R){z.onClose(1006,"Connection interrupted ("+R+")",!1)}},at=Xe,un={getReceiveURL:function(z,R){return z.base+"/"+R+"/xhr"+z.queryString},onHeartbeat:function(){},sendHeartbeat:function(z){z.sendRaw("[]")},onFinished:function(z,R){R===200?z.reconnect():z.onClose(1006,"Connection interrupted ("+R+")",!1)}},Xn=un,ke={getRequest:function(z){var R=it.getXHRAPI(),V=new R;return V.onreadystatechange=V.onprogress=function(){switch(V.readyState){case 3:V.responseText&&V.responseText.length>0&&z.onChunk(V.status,V.responseText);break;case 4:V.responseText&&V.responseText.length>0&&z.onChunk(V.status,V.responseText),z.emit("finished",V.status),z.close();break}},V},abortRequest:function(z){z.onreadystatechange=null,z.abort()}},ye=ke,Et={createStreamingSocket(z){return this.createSocket(at,z)},createPollingSocket(z){return this.createSocket(Xn,z)},createSocket(z,R){return new ve(z,R)},createXHR(z,R){return this.createRequest(ye,z,R)},createRequest(z,R,V){return new nr(z,R,V)}},qt=Et;qt.createXDR=function(z,R){return this.createRequest(Gn,z,R)};var Oe=qt,He={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:p,getDefaultStrategy:Yn,Transports:Sn,transportConnectionInitializer:Jn,HTTPFactory:Oe,TimelineTransport:ze,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(z){window.Pusher=z;var R=()=>{this.onDocumentBody(z.ready)};window.JSON?R():f.load("json2",{},R)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:E,jsonp:$e}},onDocumentBody(z){document.body?z():setTimeout(()=>{this.onDocumentBody(z)},0)},createJSONPRequest(z,R){return new Me(z,R)},createScriptRequest(z){return new dt(z)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var z=this.getXHRAPI();return new z},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Ee},createWebSocket(z){var R=this.getWebSocketAPI();return new R(z)},createSocketRequest(z,R){if(this.isXHRSupported())return this.HTTPFactory.createXHR(z,R);if(this.isXDRSupported(R.indexOf("https:")===0))return this.HTTPFactory.createXDR(z,R);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var z=this.getXHRAPI();return!!z&&new z().withCredentials!==void 0},isXDRSupported(z){var R=z?"https:":"http:",V=this.getProtocol();return!!window.XDomainRequest&&V===R},addUnloadListener(z){window.addEventListener!==void 0?window.addEventListener("unload",z,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",z)},removeUnloadListener(z){window.addEventListener!==void 0?window.removeEventListener("unload",z,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",z)},randomInt(z){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*z)}},it=He,Ln;(function(z){z[z.ERROR=3]="ERROR",z[z.INFO=6]="INFO",z[z.DEBUG=7]="DEBUG"})(Ln||(Ln={}));var js=Ln;class Un{constructor(R,V,pe){this.key=R,this.session=V,this.events=[],this.options=pe||{},this.sent=0,this.uniqueID=0}log(R,V){R<=this.options.level&&(this.events.push(W({},V,{timestamp:Y.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(R){this.log(js.ERROR,R)}info(R){this.log(js.INFO,R)}debug(R){this.log(js.DEBUG,R)}isEmpty(){return this.events.length===0}send(R,V){var pe=W({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],R(pe,(je,ot)=>{je||this.sent++,V&&V(je,ot)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class on{constructor(R,V,pe,je){this.name=R,this.priority=V,this.transport=pe,this.options=je||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(R,V){if(this.isSupported()){if(this.priority<R)return sn(new w,V)}else return sn(new C,V);var pe=!1,je=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),ot=null,Pt=function(){je.unbind("initialized",Pt),je.connect()},jn=function(){ot=zn.createHandshake(je,function(Ye){pe=!0,De(),V(null,Ye)})},is=function(Ye){De(),V(Ye)},ne=function(){De();var Ye;Ye=Se(je),V(new _(Ye))},De=function(){je.unbind("initialized",Pt),je.unbind("open",jn),je.unbind("error",is),je.unbind("closed",ne)};return je.bind("initialized",Pt),je.bind("open",jn),je.bind("error",is),je.bind("closed",ne),je.initialize(),{abort:()=>{pe||(De(),ot?ot.close():je.close())},forceMinPriority:Ye=>{pe||this.priority<Ye&&(ot?ot.close():je.close())}}}}function sn(z,R){return Y.defer(function(){R(z)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:On}=it;var rt=function(z,R,V,pe,je,ot){var Pt=On[V];if(!Pt)throw new j(V);var jn=(!z.enabledTransports||le(z.enabledTransports,R)!==-1)&&(!z.disabledTransports||le(z.disabledTransports,R)===-1),is;return jn?(je=Object.assign({ignoreNullOrigin:z.ignoreNullOrigin},je),is=new on(R,pe,ot?ot.getAssistant(Pt):Pt,je)):is=gr,is},gr={isSupported:function(){return!1},connect:function(z,R){var V=Y.defer(function(){R(new C)});return{abort:function(){V.ensureAborted()},forceMinPriority:function(){}}}};function Es(z){if(z==null)throw"You must pass an options object";if(z.cluster==null)throw"Options object must provide a cluster";"disableStats"in z&&ge.warn("The disableStats option is deprecated in favor of enableStats")}const ar=(z,R)=>{var V="socket_id="+encodeURIComponent(z.socketId);for(var pe in R.params)V+="&"+encodeURIComponent(pe)+"="+encodeURIComponent(R.params[pe]);if(R.paramsProvider!=null){let je=R.paramsProvider();for(var pe in je)V+="&"+encodeURIComponent(pe)+"="+encodeURIComponent(je[pe])}return V};var Ct=z=>{if(typeof it.getAuthorizers()[z.transport]>"u")throw`'${z.transport}' is not a recognized auth transport`;return(R,V)=>{const pe=ar(R,z);it.getAuthorizers()[z.transport](it,pe,z,g.UserAuthentication,V)}};const An=(z,R)=>{var V="socket_id="+encodeURIComponent(z.socketId);V+="&channel_name="+encodeURIComponent(z.channelName);for(var pe in R.params)V+="&"+encodeURIComponent(pe)+"="+encodeURIComponent(R.params[pe]);if(R.paramsProvider!=null){let je=R.paramsProvider();for(var pe in je)V+="&"+encodeURIComponent(pe)+"="+encodeURIComponent(je[pe])}return V};var ls=z=>{if(typeof it.getAuthorizers()[z.transport]>"u")throw`'${z.transport}' is not a recognized auth transport`;return(R,V)=>{const pe=An(R,z);it.getAuthorizers()[z.transport](it,pe,z,g.ChannelAuthorization,V)}};const Rr=(z,R,V)=>{const pe={authTransport:R.transport,authEndpoint:R.endpoint,auth:{params:R.params,headers:R.headers}};return(je,ot)=>{const Pt=z.channel(je.channelName);V(Pt,pe).authorize(je.socketId,ot)}};function Jt(z,R){let V={activityTimeout:z.activityTimeout||c.activityTimeout,cluster:z.cluster,httpPath:z.httpPath||c.httpPath,httpPort:z.httpPort||c.httpPort,httpsPort:z.httpsPort||c.httpsPort,pongTimeout:z.pongTimeout||c.pongTimeout,statsHost:z.statsHost||c.stats_host,unavailableTimeout:z.unavailableTimeout||c.unavailableTimeout,wsPath:z.wsPath||c.wsPath,wsPort:z.wsPort||c.wsPort,wssPort:z.wssPort||c.wssPort,enableStats:Yr(z),httpHost:bi(z),useTLS:kr(z),wsHost:Ri(z),userAuthenticator:Ps(z),channelAuthorizer:_l(z,R)};return"disabledTransports"in z&&(V.disabledTransports=z.disabledTransports),"enabledTransports"in z&&(V.enabledTransports=z.enabledTransports),"ignoreNullOrigin"in z&&(V.ignoreNullOrigin=z.ignoreNullOrigin),"timelineParams"in z&&(V.timelineParams=z.timelineParams),"nacl"in z&&(V.nacl=z.nacl),V}function bi(z){return z.httpHost?z.httpHost:z.cluster?`sockjs-${z.cluster}.pusher.com`:c.httpHost}function Ri(z){return z.wsHost?z.wsHost:Je(z.cluster)}function Je(z){return`ws-${z}.pusher.com`}function kr(z){return it.getProtocol()==="https:"?!0:z.forceTLS!==!1}function Yr(z){return"enableStats"in z?z.enableStats:"disableStats"in z?!z.disableStats:!1}function Ps(z){const R=Object.assign(Object.assign({},c.userAuthentication),z.userAuthentication);return"customHandler"in R&&R.customHandler!=null?R.customHandler:Ct(R)}function yi(z,R){let V;return"channelAuthorization"in z?V=Object.assign(Object.assign({},c.channelAuthorization),z.channelAuthorization):(V={transport:z.authTransport||c.authTransport,endpoint:z.authEndpoint||c.authEndpoint},"auth"in z&&("params"in z.auth&&(V.params=z.auth.params),"headers"in z.auth&&(V.headers=z.auth.headers)),"authorizer"in z&&(V.customHandler=Rr(R,V,z.authorizer))),V}function _l(z,R){const V=yi(z,R);return"customHandler"in V&&V.customHandler!=null?V.customHandler:ls(V)}class _o extends xt{constructor(R){super(function(V,pe){ge.debug(`No callbacks on watchlist events for ${V}`)}),this.pusher=R,this.bindWatchlistInternalEvent()}handleEvent(R){R.data.events.forEach(V=>{this.emit(V.name,V)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",R=>{var V=R.event;V==="pusher_internal:watchlist_events"&&this.handleEvent(R)})}}function pc(){let z,R;return{promise:new Promise((pe,je)=>{z=pe,R=je}),resolve:z,reject:R}}var fc=pc;class jl extends xt{constructor(R){super(function(V,pe){ge.debug("No callbacks on user for "+V)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(V,pe)=>{if(V){ge.warn(`Error during signin: ${V}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:pe.auth,user_data:pe.user_data})},this.pusher=R,this.pusher.connection.bind("state_change",({previous:V,current:pe})=>{V!=="connected"&&pe==="connected"&&this._signin(),V==="connected"&&pe!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new _o(R),this.pusher.connection.bind("message",V=>{var pe=V.event;pe==="pusher:signin_success"&&this._onSigninSuccess(V.data),this.serverToUserChannel&&this.serverToUserChannel.name===V.channel&&this.serverToUserChannel.handleEvent(V)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(R){try{this.user_data=JSON.parse(R.user_data)}catch{ge.error(`Failed parsing user data after signin: ${R.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){ge.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const R=V=>{V.subscriptionPending&&V.subscriptionCancelled?V.reinstateSubscription():!V.subscriptionPending&&this.pusher.connection.state==="connected"&&V.subscribe()};this.serverToUserChannel=new Pn(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((V,pe)=>{V.indexOf("pusher_internal:")===0||V.indexOf("pusher:")===0||this.emit(V,pe)}),R(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:R,resolve:V}=fc();R.done=!1;const pe=()=>{R.done=!0};R.then(pe).catch(pe),this.signinDonePromise=R,this._signinDoneResolve=V}}class Vr{static ready(){Vr.isReady=!0;for(var R=0,V=Vr.instances.length;R<V;R++)Vr.instances[R].connect()}static getClientFeatures(){return Q(re({ws:it.Transports.ws},function(R){return R.isSupported({})}))}constructor(R,V){vs(R),Es(V),this.key=R,this.config=Jt(V,this),this.channels=zn.createChannels(),this.global_emitter=new xt,this.sessionID=it.randomInt(1e9),this.timeline=new Un(this.key,this.sessionID,{cluster:this.config.cluster,features:Vr.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:js.INFO,version:c.VERSION}),this.config.enableStats&&(this.timelineSender=zn.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+it.TimelineTransport.name}));var pe=je=>it.getDefaultStrategy(this.config,je,rt);this.connection=zn.createConnectionManager(this.key,{getStrategy:pe,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",je=>{var ot=je.event,Pt=ot.indexOf("pusher_internal:")===0;if(je.channel){var jn=this.channel(je.channel);jn&&jn.handleEvent(je)}Pt||this.global_emitter.emit(je.event,je.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",je=>{ge.warn(je)}),Vr.instances.push(this),this.timeline.info({instances:Vr.instances.length}),this.user=new jl(this),Vr.isReady&&this.connect()}channel(R){return this.channels.find(R)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var R=this.connection.isUsingTLS(),V=this.timelineSender;this.timelineSenderTimer=new U(6e4,function(){V.send(R)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(R,V,pe){return this.global_emitter.bind(R,V,pe),this}unbind(R,V,pe){return this.global_emitter.unbind(R,V,pe),this}bind_global(R){return this.global_emitter.bind_global(R),this}unbind_global(R){return this.global_emitter.unbind_global(R),this}unbind_all(R){return this.global_emitter.unbind_all(),this}subscribeAll(){var R;for(R in this.channels.channels)this.channels.channels.hasOwnProperty(R)&&this.subscribe(R)}subscribe(R){var V=this.channels.add(R,this);return V.subscriptionPending&&V.subscriptionCancelled?V.reinstateSubscription():!V.subscriptionPending&&this.connection.state==="connected"&&V.subscribe(),V}unsubscribe(R){var V=this.channels.find(R);V&&V.subscriptionPending?V.cancelSubscription():(V=this.channels.remove(R),V&&V.subscribed&&V.unsubscribe())}send_event(R,V,pe){return this.connection.send_event(R,V,pe)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Vr.instances=[],Vr.isReady=!1,Vr.logToConsole=!1,Vr.Runtime=it,Vr.ScriptReceivers=it.ScriptReceivers,Vr.DependenciesReceivers=it.DependenciesReceivers,Vr.auth_callbacks=it.auth_callbacks;var qo=r.default=Vr;function vs(z){if(z==null)throw"You must pass your app key when you instantiate Pusher."}it.setup(Vr)})])})})(By)),By.exports}var eTe=QIe();const tTe=ga(eTe),nTe=K.common.notificationSound,sTe="6c79f46bf9937b9d82df",rTe="us2",iTe=()=>{const{user:e}=os(),n=d.useRef(null);Tle();const s=ts(),r=d.useRef(null),i=d.useRef(null),a=d.useRef(!1),o=d.useRef(null),l=d.useRef(null),c=d.useRef(0),u=d.useRef(null),p=async()=>{typeof window>"u"||!("Notification"in window)||Notification.permission==="default"&&await Notification.requestPermission()},f=y=>{if(["default_tool","ask_human","finish","agent-stopped"].includes(y.terminal_state)&&(["finish"].includes(y.terminal_state)&&!s&&Kl.triggerEvent("agent-finished",{job_id:y.job_id}),["ask_human"].includes(y.terminal_state)&&!s&&Kl.triggerEvent("ask-human-triggered",{job_id:y.job_id}),v(),document.hidden)){const w={body:"Agent has a question for you",vibrate:[200,100,200],icon:"src/assets/notification_icon.png",badge:"src/assets/notification_icon.png"};typeof window>"u"||!("Notification"in window)||new Notification("Agent Update",w),h()}},m=()=>{if(a.current){if(u.current&&(clearInterval(u.current),u.current=null),c.current=0,r.current&&(document.title=r.current),i.current){const y=document.querySelector('link[rel*="icon"]');y&&(y.href=i.current)}a.current=!1,g()}},h=()=>{if(c.current++,c.current===1){r.current=document.title;const C=document.querySelector('link[rel*="icon"]');i.current=C?.href||"/favicon.ico";let S=C;S||(S=document.createElement("link"),S.rel="icon",document.head.appendChild(S)),S.href="/notification_favicon.ico",a.current=!0,x()}const y=`(${c.current}) ${r.current}`;u.current&&clearInterval(u.current);let w=0;const _=10,j=1e4/(_*2);u.current=setInterval(()=>{document.title=w%2===0?y:r.current,w++,w>=_*2&&(clearInterval(u.current),u.current=null,document.title=y)},j)},x=()=>{g(),o.current=()=>{document.hidden||m()},l.current=()=>{m()},document.addEventListener("visibilitychange",o.current),window.addEventListener("focus",l.current)},g=()=>{o.current&&(document.removeEventListener("visibilitychange",o.current),o.current=null),l.current&&(window.removeEventListener("focus",l.current),l.current=null)},v=()=>{try{const y=new Audio(nTe);y.volume=.5,y.play().catch(w=>{const _=new(window.AudioContext||window.webkitAudioContext),N=_.createOscillator(),j=_.createGain();N.connect(j),j.connect(_.destination),N.frequency.setValueAtTime(800,_.currentTime),N.frequency.setValueAtTime(600,_.currentTime+.1),j.gain.setValueAtTime(.2,_.currentTime),j.gain.exponentialRampToValueAtTime(.01,_.currentTime+.2),N.start(_.currentTime),N.stop(_.currentTime+.2)})}catch{}},b=()=>{g(),m()};d.useEffect(()=>{if(e?.id&&!n.current){try{const y=new tTe(sTe,{cluster:rTe,encrypted:!0});n.current=y;const w=`user-${e.id}`;y.subscribe(w).bind("terminal-state",N=>{f(N)}),y.connection.bind("connected",()=>{p()}),y.connection.bind("error",N=>{})}catch{}return()=>{n.current&&(n.current.disconnect(),n.current=null),b()}}},[e?.id])};function aTe(){const[e]=Fu(),n=d.useRef(!1);d.useEffect(()=>{if(n.current)return;const s=e.get("utm_source"),r=e.get("via");let i=null;if(s||r)i=s||r;else{const l=ho("utm_source"),c=ho("via");i=l||c}if(!i)return;const a=()=>{const l=$ie(i);if(!l)return;const c=document.createRange();c.setStart(document.head,0),document.head.appendChild(c.createContextualFragment(l)),n.current=!0},o=Wt.onFeatureFlags(()=>{n.current||a()});return()=>{o&&o()}},[e])}function GW(e){return n=>typeof n===e}var oTe=GW("function"),lTe=e=>e===null,kD=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",ID=e=>!cTe(e)&&!lTe(e)&&(oTe(e)||typeof e=="object"),cTe=GW("undefined");function dTe(e,n){const{length:s}=e;if(s!==n.length)return!1;for(let r=s;r--!==0;)if(!Na(e[r],n[r]))return!1;return!0}function uTe(e,n){if(e.byteLength!==n.byteLength)return!1;const s=new DataView(e.buffer),r=new DataView(n.buffer);let i=e.byteLength;for(;i--;)if(s.getUint8(i)!==r.getUint8(i))return!1;return!0}function pTe(e,n){if(e.size!==n.size)return!1;for(const s of e.entries())if(!n.has(s[0]))return!1;for(const s of e.entries())if(!Na(s[1],n.get(s[0])))return!1;return!0}function fTe(e,n){if(e.size!==n.size)return!1;for(const s of e.entries())if(!n.has(s[0]))return!1;return!0}function Na(e,n){if(e===n)return!0;if(e&&ID(e)&&n&&ID(n)){if(e.constructor!==n.constructor)return!1;if(Array.isArray(e)&&Array.isArray(n))return dTe(e,n);if(e instanceof Map&&n instanceof Map)return pTe(e,n);if(e instanceof Set&&n instanceof Set)return fTe(e,n);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return uTe(e,n);if(kD(e)&&kD(n))return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();const s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(let i=s.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(let i=s.length;i--!==0;){const a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!Na(e[a],n[a]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(n)?!0:e===n}var mTe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],hTe=["bigint","boolean","null","number","string","symbol","undefined"];function A3(e){const n=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(n))return"HTMLElement";if(xTe(n))return n}function zo(e){return n=>A3(n)===e}function xTe(e){return mTe.includes(e)}function qf(e){return n=>typeof n===e}function gTe(e){return hTe.includes(e)}var bTe=["innerHTML","ownerDocument","style","attributes","nodeValue"];function Fn(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Fn.array(e))return"Array";if(Fn.plainFunction(e))return"Function";const n=A3(e);return n||"Object"}Fn.array=Array.isArray;Fn.arrayOf=(e,n)=>!Fn.array(e)&&!Fn.function(n)?!1:e.every(s=>n(s));Fn.asyncGeneratorFunction=e=>A3(e)==="AsyncGeneratorFunction";Fn.asyncFunction=zo("AsyncFunction");Fn.bigint=qf("bigint");Fn.boolean=e=>e===!0||e===!1;Fn.date=zo("Date");Fn.defined=e=>!Fn.undefined(e);Fn.domElement=e=>Fn.object(e)&&!Fn.plainObject(e)&&e.nodeType===1&&Fn.string(e.nodeName)&&bTe.every(n=>n in e);Fn.empty=e=>Fn.string(e)&&e.length===0||Fn.array(e)&&e.length===0||Fn.object(e)&&!Fn.map(e)&&!Fn.set(e)&&Object.keys(e).length===0||Fn.set(e)&&e.size===0||Fn.map(e)&&e.size===0;Fn.error=zo("Error");Fn.function=qf("function");Fn.generator=e=>Fn.iterable(e)&&Fn.function(e.next)&&Fn.function(e.throw);Fn.generatorFunction=zo("GeneratorFunction");Fn.instanceOf=(e,n)=>!e||!n?!1:Object.getPrototypeOf(e)===n.prototype;Fn.iterable=e=>!Fn.nullOrUndefined(e)&&Fn.function(e[Symbol.iterator]);Fn.map=zo("Map");Fn.nan=e=>Number.isNaN(e);Fn.null=e=>e===null;Fn.nullOrUndefined=e=>Fn.null(e)||Fn.undefined(e);Fn.number=e=>qf("number")(e)&&!Fn.nan(e);Fn.numericString=e=>Fn.string(e)&&e.length>0&&!Number.isNaN(Number(e));Fn.object=e=>!Fn.nullOrUndefined(e)&&(Fn.function(e)||typeof e=="object");Fn.oneOf=(e,n)=>Fn.array(e)?e.indexOf(n)>-1:!1;Fn.plainFunction=zo("Function");Fn.plainObject=e=>{if(A3(e)!=="Object")return!1;const n=Object.getPrototypeOf(e);return n===null||n===Object.getPrototypeOf({})};Fn.primitive=e=>Fn.null(e)||gTe(typeof e);Fn.promise=zo("Promise");Fn.propertyOf=(e,n,s)=>{if(!Fn.object(e)||!n)return!1;const r=e[n];return Fn.function(s)?s(r):Fn.defined(r)};Fn.regexp=zo("RegExp");Fn.set=zo("Set");Fn.string=qf("string");Fn.symbol=qf("symbol");Fn.undefined=qf("undefined");Fn.weakMap=zo("WeakMap");Fn.weakSet=zo("WeakSet");var qi=Fn,yTe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],vTe=["bigint","boolean","null","number","string","symbol","undefined"];function D3(e){const n=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(n))return"HTMLElement";if(wTe(n))return n}function Wo(e){return n=>D3(n)===e}function wTe(e){return yTe.includes(e)}function Kf(e){return n=>typeof n===e}function CTe(e){return vTe.includes(e)}var _Te=["innerHTML","ownerDocument","style","attributes","nodeValue"];function En(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(En.array(e))return"Array";if(En.plainFunction(e))return"Function";const n=D3(e);return n||"Object"}En.array=Array.isArray;En.arrayOf=(e,n)=>!En.array(e)&&!En.function(n)?!1:e.every(s=>n(s));En.asyncGeneratorFunction=e=>D3(e)==="AsyncGeneratorFunction";En.asyncFunction=Wo("AsyncFunction");En.bigint=Kf("bigint");En.boolean=e=>e===!0||e===!1;En.date=Wo("Date");En.defined=e=>!En.undefined(e);En.domElement=e=>En.object(e)&&!En.plainObject(e)&&e.nodeType===1&&En.string(e.nodeName)&&_Te.every(n=>n in e);En.empty=e=>En.string(e)&&e.length===0||En.array(e)&&e.length===0||En.object(e)&&!En.map(e)&&!En.set(e)&&Object.keys(e).length===0||En.set(e)&&e.size===0||En.map(e)&&e.size===0;En.error=Wo("Error");En.function=Kf("function");En.generator=e=>En.iterable(e)&&En.function(e.next)&&En.function(e.throw);En.generatorFunction=Wo("GeneratorFunction");En.instanceOf=(e,n)=>!e||!n?!1:Object.getPrototypeOf(e)===n.prototype;En.iterable=e=>!En.nullOrUndefined(e)&&En.function(e[Symbol.iterator]);En.map=Wo("Map");En.nan=e=>Number.isNaN(e);En.null=e=>e===null;En.nullOrUndefined=e=>En.null(e)||En.undefined(e);En.number=e=>Kf("number")(e)&&!En.nan(e);En.numericString=e=>En.string(e)&&e.length>0&&!Number.isNaN(Number(e));En.object=e=>!En.nullOrUndefined(e)&&(En.function(e)||typeof e=="object");En.oneOf=(e,n)=>En.array(e)?e.indexOf(n)>-1:!1;En.plainFunction=Wo("Function");En.plainObject=e=>{if(D3(e)!=="Object")return!1;const n=Object.getPrototypeOf(e);return n===null||n===Object.getPrototypeOf({})};En.primitive=e=>En.null(e)||CTe(typeof e);En.promise=Wo("Promise");En.propertyOf=(e,n,s)=>{if(!En.object(e)||!n)return!1;const r=e[n];return En.function(s)?s(r):En.defined(r)};En.regexp=Wo("RegExp");En.set=Wo("Set");En.string=Kf("string");En.symbol=Kf("symbol");En.undefined=Kf("undefined");En.weakMap=Wo("WeakMap");En.weakSet=Wo("WeakSet");var ws=En;function jTe(...e){return e.every(n=>ws.string(n)||ws.array(n)||ws.plainObject(n))}function NTe(e,n,s){return qW(e,n)?[e,n].every(ws.array)?!e.some(RD(s))&&n.some(RD(s)):[e,n].every(ws.plainObject)?!Object.entries(e).some(MD(s))&&Object.entries(n).some(MD(s)):n===s:!1}function TD(e,n,s){const{actual:r,key:i,previous:a,type:o}=s,l=ul(e,i),c=ul(n,i);let u=[l,c].every(ws.number)&&(o==="increased"?l<c:l>c);return ws.undefined(r)||(u=u&&c===r),ws.undefined(a)||(u=u&&l===a),u}function AD(e,n,s){const{key:r,type:i,value:a}=s,o=ul(e,r),l=ul(n,r),c=i==="added"?o:l,u=i==="added"?l:o;if(!ws.nullOrUndefined(a)){if(ws.defined(c)){if(ws.array(c)||ws.plainObject(c))return NTe(c,u,a)}else return Na(u,a);return!1}return[o,l].every(ws.array)?!u.every(YC(c)):[o,l].every(ws.plainObject)?FTe(Object.keys(c),Object.keys(u)):![o,l].every(p=>ws.primitive(p)&&ws.defined(p))&&(i==="added"?!ws.defined(o)&&ws.defined(l):ws.defined(o)&&!ws.defined(l))}function DD(e,n,{key:s}={}){let r=ul(e,s),i=ul(n,s);if(!qW(r,i))throw new TypeError("Inputs have different types");if(!jTe(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(ws.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function MD(e){return([n,s])=>ws.array(e)?Na(e,s)||e.some(r=>Na(r,s)||ws.array(s)&&YC(s)(r)):ws.plainObject(e)&&e[n]?!!e[n]&&Na(e[n],s):Na(e,s)}function FTe(e,n){return n.some(s=>!e.includes(s))}function RD(e){return n=>ws.array(e)?e.some(s=>Na(s,n)||ws.array(n)&&YC(n)(s)):Na(e,n)}function Qm(e,n){return ws.array(e)?e.some(s=>Na(s,n)):Na(e,n)}function YC(e){return n=>e.some(s=>Na(s,n))}function qW(...e){return e.every(ws.array)||e.every(ws.number)||e.every(ws.plainObject)||e.every(ws.string)}function ul(e,n){return ws.plainObject(e)||ws.array(e)?ws.string(n)?n.split(".").reduce((r,i)=>r&&r[i],e):ws.number(n)?e[n]:e:e}function b5(e,n){if([e,n].some(ws.nullOrUndefined))throw new Error("Missing required parameters");if(![e,n].every(p=>ws.plainObject(p)||ws.array(p)))throw new Error("Expected plain objects or array");return{added:(p,f)=>{try{return AD(e,n,{key:p,type:"added",value:f})}catch{return!1}},changed:(p,f,m)=>{try{const h=ul(e,p),x=ul(n,p),g=ws.defined(f),v=ws.defined(m);if(g||v){const b=v?Qm(m,h):!Qm(f,h),y=Qm(f,x);return b&&y}return[h,x].every(ws.array)||[h,x].every(ws.plainObject)?!Na(h,x):h!==x}catch{return!1}},changedFrom:(p,f,m)=>{if(!ws.defined(p))return!1;try{const h=ul(e,p),x=ul(n,p),g=ws.defined(m);return Qm(f,h)&&(g?Qm(m,x):!g)}catch{return!1}},decreased:(p,f,m)=>{if(!ws.defined(p))return!1;try{return TD(e,n,{key:p,actual:f,previous:m,type:"decreased"})}catch{return!1}},emptied:p=>{try{const[f,m]=DD(e,n,{key:p});return!!f.length&&!m.length}catch{return!1}},filled:p=>{try{const[f,m]=DD(e,n,{key:p});return!f.length&&!!m.length}catch{return!1}},increased:(p,f,m)=>{if(!ws.defined(p))return!1;try{return TD(e,n,{key:p,actual:f,previous:m,type:"increased"})}catch{return!1}},removed:(p,f)=>{try{return AD(e,n,{key:p,type:"removed",value:f})}catch{return!1}}}}var Uy,LD;function ETe(){if(LD)return Uy;LD=1;var e=new Error("Element already at target scroll position"),n=new Error("Scroll cancelled"),s=Math.min,r=Date.now;Uy={left:i("scrollLeft"),top:i("scrollTop")};function i(l){return function(u,p,f,m){f=f||{},typeof f=="function"&&(m=f,f={}),typeof m!="function"&&(m=o);var h=r(),x=u[l],g=f.ease||a,v=isNaN(f.duration)?350:+f.duration,b=!1;return x===p?m(e,u[l]):requestAnimationFrame(w),y;function y(){b=!0}function w(_){if(b)return m(n,u[l]);var N=r(),j=s(1,(N-h)/v),C=g(j);u[l]=C*(p-x)+x,j<1?requestAnimationFrame(w):requestAnimationFrame(function(){m(null,u[l])})}}}function a(l){return .5*(1-Math.cos(Math.PI*l))}function o(){}return Uy}var STe=ETe();const kTe=ga(STe);var Bg={exports:{}},ITe=Bg.exports,PD;function TTe(){return PD||(PD=1,(function(e){(function(n,s){e.exports?e.exports=s():n.Scrollparent=s()})(ITe,function(){function n(r){var i=getComputedStyle(r,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function s(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var i=r.parentNode;i.parentNode;){if(n(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return s})})(Bg)),Bg.exports}var ATe=TTe();const KW=ga(ATe);var Hy,OD;function DTe(){if(OD)return Hy;OD=1;var e=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},n=function(r,i){return r+s(i)},s=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(n,""):e(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?s(r.props.children):""};return s.default=s,Hy=s,Hy}var MTe=DTe();const BD=ga(MTe);var Vy,UD;function RTe(){if(UD)return Vy;UD=1;var e=function(y){return n(y)&&!s(y)};function n(b){return!!b&&typeof b=="object"}function s(b){var y=Object.prototype.toString.call(b);return y==="[object RegExp]"||y==="[object Date]"||a(b)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function a(b){return b.$$typeof===i}function o(b){return Array.isArray(b)?[]:{}}function l(b,y){return y.clone!==!1&&y.isMergeableObject(b)?g(o(b),b,y):b}function c(b,y,w){return b.concat(y).map(function(_){return l(_,w)})}function u(b,y){if(!y.customMerge)return g;var w=y.customMerge(b);return typeof w=="function"?w:g}function p(b){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b).filter(function(y){return Object.propertyIsEnumerable.call(b,y)}):[]}function f(b){return Object.keys(b).concat(p(b))}function m(b,y){try{return y in b}catch{return!1}}function h(b,y){return m(b,y)&&!(Object.hasOwnProperty.call(b,y)&&Object.propertyIsEnumerable.call(b,y))}function x(b,y,w){var _={};return w.isMergeableObject(b)&&f(b).forEach(function(N){_[N]=l(b[N],w)}),f(y).forEach(function(N){h(b,N)||(m(b,N)&&w.isMergeableObject(y[N])?_[N]=u(N,w)(b[N],y[N],w):_[N]=l(y[N],w))}),_}function g(b,y,w){w=w||{},w.arrayMerge=w.arrayMerge||c,w.isMergeableObject=w.isMergeableObject||e,w.cloneUnlessOtherwiseSpecified=l;var _=Array.isArray(y),N=Array.isArray(b),j=_===N;return j?_?w.arrayMerge(b,y,w):x(b,y,w):l(y,w)}g.all=function(y,w){if(!Array.isArray(y))throw new Error("first argument should be an array");return y.reduce(function(_,N){return g(_,N,w)},{})};var v=g;return Vy=v,Vy}var LTe=RTe();const Mo=ga(LTe);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var b0=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",PTe=(function(){for(var e=["Edge","Trident","Firefox"],n=0;n<e.length;n+=1)if(b0&&navigator.userAgent.indexOf(e[n])>=0)return 1;return 0})();function OTe(e){var n=!1;return function(){n||(n=!0,window.Promise.resolve().then(function(){n=!1,e()}))}}function BTe(e){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,e()},PTe))}}var UTe=b0&&window.Promise,HTe=UTe?OTe:BTe;function YW(e){var n={};return e&&n.toString.call(e)==="[object Function]"}function Pu(e,n){if(e.nodeType!==1)return[];var s=e.ownerDocument.defaultView,r=s.getComputedStyle(e,null);return n?r[n]:r}function ZC(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function y0(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var n=Pu(e),s=n.overflow,r=n.overflowX,i=n.overflowY;return/(auto|scroll|overlay)/.test(s+i+r)?e:y0(ZC(e))}function ZW(e){return e&&e.referenceNode?e.referenceNode:e}var HD=b0&&!!(window.MSInputMethodContext&&document.documentMode),VD=b0&&/MSIE 10/.test(navigator.userAgent);function Yf(e){return e===11?HD:e===10?VD:HD||VD}function vf(e){if(!e)return document.documentElement;for(var n=Yf(10)?document.body:null,s=e.offsetParent||null;s===n&&e.nextElementSibling;)s=(e=e.nextElementSibling).offsetParent;var r=s&&s.nodeName;return!r||r==="BODY"||r==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(s.nodeName)!==-1&&Pu(s,"position")==="static"?vf(s):s}function VTe(e){var n=e.nodeName;return n==="BODY"?!1:n==="HTML"||vf(e.firstElementChild)===e}function D8(e){return e.parentNode!==null?D8(e.parentNode):e}function y5(e,n){if(!e||!e.nodeType||!n||!n.nodeType)return document.documentElement;var s=e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,r=s?e:n,i=s?n:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&n!==o||r.contains(i))return VTe(o)?o:vf(o);var l=D8(e);return l.host?y5(l.host,n):y5(e,D8(n).host)}function wf(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",s=n==="top"?"scrollTop":"scrollLeft",r=e.nodeName;if(r==="BODY"||r==="HTML"){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[s]}return e[s]}function $Te(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=wf(n,"top"),i=wf(n,"left"),a=s?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function $D(e,n){var s=n==="x"?"Left":"Top",r=s==="Left"?"Right":"Bottom";return parseFloat(e["border"+s+"Width"])+parseFloat(e["border"+r+"Width"])}function zD(e,n,s,r){return Math.max(n["offset"+e],n["scroll"+e],s["client"+e],s["offset"+e],s["scroll"+e],Yf(10)?parseInt(s["offset"+e])+parseInt(r["margin"+(e==="Height"?"Top":"Left")])+parseInt(r["margin"+(e==="Height"?"Bottom":"Right")]):0)}function JW(e){var n=e.body,s=e.documentElement,r=Yf(10)&&getComputedStyle(s);return{height:zD("Height",n,s,r),width:zD("Width",n,s,r)}}var zTe=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},WTe=(function(){function e(n,s){for(var r=0;r<s.length;r++){var i=s[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,s,r){return s&&e(n.prototype,s),r&&e(n,r),n}})(),Cf=function(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e},go=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e};function nd(e){return go({},e,{right:e.left+e.width,bottom:e.top+e.height})}function M8(e){var n={};try{if(Yf(10)){n=e.getBoundingClientRect();var s=wf(e,"top"),r=wf(e,"left");n.top+=s,n.left+=r,n.bottom+=s,n.right+=r}else n=e.getBoundingClientRect()}catch{}var i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},a=e.nodeName==="HTML"?JW(e.ownerDocument):{},o=a.width||e.clientWidth||i.width,l=a.height||e.clientHeight||i.height,c=e.offsetWidth-o,u=e.offsetHeight-l;if(c||u){var p=Pu(e);c-=$D(p,"x"),u-=$D(p,"y"),i.width-=c,i.height-=u}return nd(i)}function JC(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Yf(10),i=n.nodeName==="HTML",a=M8(e),o=M8(n),l=y0(e),c=Pu(n),u=parseFloat(c.borderTopWidth),p=parseFloat(c.borderLeftWidth);s&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=nd({top:a.top-o.top-u,left:a.left-o.left-p,width:a.width,height:a.height});if(f.marginTop=0,f.marginLeft=0,!r&&i){var m=parseFloat(c.marginTop),h=parseFloat(c.marginLeft);f.top-=u-m,f.bottom-=u-m,f.left-=p-h,f.right-=p-h,f.marginTop=m,f.marginLeft=h}return(r&&!s?n.contains(l):n===l&&l.nodeName!=="BODY")&&(f=$Te(f,n)),f}function GTe(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=e.ownerDocument.documentElement,r=JC(e,s),i=Math.max(s.clientWidth,window.innerWidth||0),a=Math.max(s.clientHeight,window.innerHeight||0),o=n?0:wf(s),l=n?0:wf(s,"left"),c={top:o-r.top+r.marginTop,left:l-r.left+r.marginLeft,width:i,height:a};return nd(c)}function XW(e){var n=e.nodeName;if(n==="BODY"||n==="HTML")return!1;if(Pu(e,"position")==="fixed")return!0;var s=ZC(e);return s?XW(s):!1}function QW(e){if(!e||!e.parentElement||Yf())return document.documentElement;for(var n=e.parentElement;n&&Pu(n,"transform")==="none";)n=n.parentElement;return n||document.documentElement}function XC(e,n,s,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a={top:0,left:0},o=i?QW(e):y5(e,ZW(n));if(r==="viewport")a=GTe(o,i);else{var l=void 0;r==="scrollParent"?(l=y0(ZC(n)),l.nodeName==="BODY"&&(l=e.ownerDocument.documentElement)):r==="window"?l=e.ownerDocument.documentElement:l=r;var c=JC(l,o,i);if(l.nodeName==="HTML"&&!XW(o)){var u=JW(e.ownerDocument),p=u.height,f=u.width;a.top+=c.top-c.marginTop,a.bottom=p+c.top,a.left+=c.left-c.marginLeft,a.right=f+c.left}else a=c}s=s||0;var m=typeof s=="number";return a.left+=m?s:s.left||0,a.top+=m?s:s.top||0,a.right-=m?s:s.right||0,a.bottom-=m?s:s.bottom||0,a}function qTe(e){var n=e.width,s=e.height;return n*s}function eG(e,n,s,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var o=XC(s,r,a,i),l={top:{width:o.width,height:n.top-o.top},right:{width:o.right-n.right,height:o.height},bottom:{width:o.width,height:o.bottom-n.bottom},left:{width:n.left-o.left,height:o.height}},c=Object.keys(l).map(function(m){return go({key:m},l[m],{area:qTe(l[m])})}).sort(function(m,h){return h.area-m.area}),u=c.filter(function(m){var h=m.width,x=m.height;return h>=s.clientWidth&&x>=s.clientHeight}),p=u.length>0?u[0].key:c[0].key,f=e.split("-")[1];return p+(f?"-"+f:"")}function tG(e,n,s){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?QW(n):y5(n,ZW(s));return JC(s,i,r)}function nG(e){var n=e.ownerDocument.defaultView,s=n.getComputedStyle(e),r=parseFloat(s.marginTop||0)+parseFloat(s.marginBottom||0),i=parseFloat(s.marginLeft||0)+parseFloat(s.marginRight||0),a={width:e.offsetWidth+i,height:e.offsetHeight+r};return a}function v5(e){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(s){return n[s]})}function sG(e,n,s){s=s.split("-")[0];var r=nG(e),i={width:r.width,height:r.height},a=["right","left"].indexOf(s)!==-1,o=a?"top":"left",l=a?"left":"top",c=a?"height":"width",u=a?"width":"height";return i[o]=n[o]+n[c]/2-r[c]/2,s===l?i[l]=n[l]-r[u]:i[l]=n[v5(l)],i}function v0(e,n){return Array.prototype.find?e.find(n):e.filter(n)[0]}function KTe(e,n,s){if(Array.prototype.findIndex)return e.findIndex(function(i){return i[n]===s});var r=v0(e,function(i){return i[n]===s});return e.indexOf(r)}function rG(e,n,s){var r=s===void 0?e:e.slice(0,KTe(e,"name",s));return r.forEach(function(i){i.function;var a=i.function||i.fn;i.enabled&&YW(a)&&(n.offsets.popper=nd(n.offsets.popper),n.offsets.reference=nd(n.offsets.reference),n=a(n,i))}),n}function YTe(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=tG(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=eG(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=sG(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=rG(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function iG(e,n){return e.some(function(s){var r=s.name,i=s.enabled;return i&&r===n})}function QC(e){for(var n=[!1,"ms","Webkit","Moz","O"],s=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<n.length;r++){var i=n[r],a=i?""+i+s:e;if(typeof document.body.style[a]<"u")return a}return null}function ZTe(){return this.state.isDestroyed=!0,iG(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[QC("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function aG(e){var n=e.ownerDocument;return n?n.defaultView:window}function oG(e,n,s,r){var i=e.nodeName==="BODY",a=i?e.ownerDocument.defaultView:e;a.addEventListener(n,s,{passive:!0}),i||oG(y0(a.parentNode),n,s,r),r.push(a)}function JTe(e,n,s,r){s.updateBound=r,aG(e).addEventListener("resize",s.updateBound,{passive:!0});var i=y0(e);return oG(i,"scroll",s.updateBound,s.scrollParents),s.scrollElement=i,s.eventsEnabled=!0,s}function XTe(){this.state.eventsEnabled||(this.state=JTe(this.reference,this.options,this.state,this.scheduleUpdate))}function QTe(e,n){return aG(e).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(s){s.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n}function eAe(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=QTe(this.reference,this.state))}function e_(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function R8(e,n){Object.keys(n).forEach(function(s){var r="";["width","height","top","right","bottom","left"].indexOf(s)!==-1&&e_(n[s])&&(r="px"),e.style[s]=n[s]+r})}function tAe(e,n){Object.keys(n).forEach(function(s){var r=n[s];r!==!1?e.setAttribute(s,n[s]):e.removeAttribute(s)})}function nAe(e){return R8(e.instance.popper,e.styles),tAe(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&R8(e.arrowElement,e.arrowStyles),e}function sAe(e,n,s,r,i){var a=tG(i,n,e,s.positionFixed),o=eG(s.placement,a,n,e,s.modifiers.flip.boundariesElement,s.modifiers.flip.padding);return n.setAttribute("x-placement",o),R8(n,{position:s.positionFixed?"fixed":"absolute"}),s}function rAe(e,n){var s=e.offsets,r=s.popper,i=s.reference,a=Math.round,o=Math.floor,l=function(b){return b},c=a(i.width),u=a(r.width),p=["left","right"].indexOf(e.placement)!==-1,f=e.placement.indexOf("-")!==-1,m=c%2===u%2,h=c%2===1&&u%2===1,x=n?p||f||m?a:o:l,g=n?a:l;return{left:x(h&&!f&&n?r.left-1:r.left),top:g(r.top),bottom:g(r.bottom),right:x(r.right)}}var iAe=b0&&/Firefox/i.test(navigator.userAgent);function aAe(e,n){var s=n.x,r=n.y,i=e.offsets.popper,a=v0(e.instance.modifiers,function(w){return w.name==="applyStyle"}).gpuAcceleration,o=a!==void 0?a:n.gpuAcceleration,l=vf(e.instance.popper),c=M8(l),u={position:i.position},p=rAe(e,window.devicePixelRatio<2||!iAe),f=s==="bottom"?"top":"bottom",m=r==="right"?"left":"right",h=QC("transform"),x=void 0,g=void 0;if(f==="bottom"?l.nodeName==="HTML"?g=-l.clientHeight+p.bottom:g=-c.height+p.bottom:g=p.top,m==="right"?l.nodeName==="HTML"?x=-l.clientWidth+p.right:x=-c.width+p.right:x=p.left,o&&h)u[h]="translate3d("+x+"px, "+g+"px, 0)",u[f]=0,u[m]=0,u.willChange="transform";else{var v=f==="bottom"?-1:1,b=m==="right"?-1:1;u[f]=g*v,u[m]=x*b,u.willChange=f+", "+m}var y={"x-placement":e.placement};return e.attributes=go({},y,e.attributes),e.styles=go({},u,e.styles),e.arrowStyles=go({},e.offsets.arrow,e.arrowStyles),e}function lG(e,n,s){var r=v0(e,function(l){var c=l.name;return c===n}),i=!!r&&e.some(function(l){return l.name===s&&l.enabled&&l.order<r.order});if(!i)var a="`"+n+"`",o="`"+s+"`";return i}function oAe(e,n){var s;if(!lG(e.instance.modifiers,"arrow","keepTogether"))return e;var r=n.element;if(typeof r=="string"){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return e;var i=e.placement.split("-")[0],a=e.offsets,o=a.popper,l=a.reference,c=["left","right"].indexOf(i)!==-1,u=c?"height":"width",p=c?"Top":"Left",f=p.toLowerCase(),m=c?"left":"top",h=c?"bottom":"right",x=nG(r)[u];l[h]-x<o[f]&&(e.offsets.popper[f]-=o[f]-(l[h]-x)),l[f]+x>o[h]&&(e.offsets.popper[f]+=l[f]+x-o[h]),e.offsets.popper=nd(e.offsets.popper);var g=l[f]+l[u]/2-x/2,v=Pu(e.instance.popper),b=parseFloat(v["margin"+p]),y=parseFloat(v["border"+p+"Width"]),w=g-e.offsets.popper[f]-b-y;return w=Math.max(Math.min(o[u]-x,w),0),e.arrowElement=r,e.offsets.arrow=(s={},Cf(s,f,Math.round(w)),Cf(s,m,""),s),e}function lAe(e){return e==="end"?"start":e==="start"?"end":e}var cG=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$y=cG.slice(3);function WD(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=$y.indexOf(e),r=$y.slice(s+1).concat($y.slice(0,s));return n?r.reverse():r}var zy={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function cAe(e,n){if(iG(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var s=XC(e.instance.popper,e.instance.reference,n.padding,n.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=v5(r),a=e.placement.split("-")[1]||"",o=[];switch(n.behavior){case zy.FLIP:o=[r,i];break;case zy.CLOCKWISE:o=WD(r);break;case zy.COUNTERCLOCKWISE:o=WD(r,!0);break;default:o=n.behavior}return o.forEach(function(l,c){if(r!==l||o.length===c+1)return e;r=e.placement.split("-")[0],i=v5(r);var u=e.offsets.popper,p=e.offsets.reference,f=Math.floor,m=r==="left"&&f(u.right)>f(p.left)||r==="right"&&f(u.left)<f(p.right)||r==="top"&&f(u.bottom)>f(p.top)||r==="bottom"&&f(u.top)<f(p.bottom),h=f(u.left)<f(s.left),x=f(u.right)>f(s.right),g=f(u.top)<f(s.top),v=f(u.bottom)>f(s.bottom),b=r==="left"&&h||r==="right"&&x||r==="top"&&g||r==="bottom"&&v,y=["top","bottom"].indexOf(r)!==-1,w=!!n.flipVariations&&(y&&a==="start"&&h||y&&a==="end"&&x||!y&&a==="start"&&g||!y&&a==="end"&&v),_=!!n.flipVariationsByContent&&(y&&a==="start"&&x||y&&a==="end"&&h||!y&&a==="start"&&v||!y&&a==="end"&&g),N=w||_;(m||b||N)&&(e.flipped=!0,(m||b)&&(r=o[c+1]),N&&(a=lAe(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=go({},e.offsets.popper,sG(e.instance.popper,e.offsets.reference,e.placement)),e=rG(e.instance.modifiers,e,"flip"))}),e}function dAe(e){var n=e.offsets,s=n.popper,r=n.reference,i=e.placement.split("-")[0],a=Math.floor,o=["top","bottom"].indexOf(i)!==-1,l=o?"right":"bottom",c=o?"left":"top",u=o?"width":"height";return s[l]<a(r[c])&&(e.offsets.popper[c]=a(r[c])-s[u]),s[c]>a(r[l])&&(e.offsets.popper[c]=a(r[l])),e}function uAe(e,n,s,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(o.indexOf("%")===0){var l=void 0;switch(o){case"%p":l=s;break;case"%":case"%r":default:l=r}var c=nd(l);return c[n]/100*a}else if(o==="vh"||o==="vw"){var u=void 0;return o==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*a}else return a}function pAe(e,n,s,r){var i=[0,0],a=["right","left"].indexOf(r)!==-1,o=e.split(/(\+|\-)/).map(function(p){return p.trim()}),l=o.indexOf(v0(o,function(p){return p.search(/,|\s/)!==-1}));o[l]&&o[l].indexOf(",");var c=/\s*,\s*|\s+/,u=l!==-1?[o.slice(0,l).concat([o[l].split(c)[0]]),[o[l].split(c)[1]].concat(o.slice(l+1))]:[o];return u=u.map(function(p,f){var m=(f===1?!a:a)?"height":"width",h=!1;return p.reduce(function(x,g){return x[x.length-1]===""&&["+","-"].indexOf(g)!==-1?(x[x.length-1]=g,h=!0,x):h?(x[x.length-1]+=g,h=!1,x):x.concat(g)},[]).map(function(x){return uAe(x,m,n,s)})}),u.forEach(function(p,f){p.forEach(function(m,h){e_(m)&&(i[f]+=m*(p[h-1]==="-"?-1:1))})}),i}function fAe(e,n){var s=n.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,l=r.split("-")[0],c=void 0;return e_(+s)?c=[+s,0]:c=pAe(s,a,o,l),l==="left"?(a.top+=c[0],a.left-=c[1]):l==="right"?(a.top+=c[0],a.left+=c[1]):l==="top"?(a.left+=c[0],a.top-=c[1]):l==="bottom"&&(a.left+=c[0],a.top+=c[1]),e.popper=a,e}function mAe(e,n){var s=n.boundariesElement||vf(e.instance.popper);e.instance.reference===s&&(s=vf(s));var r=QC("transform"),i=e.instance.popper.style,a=i.top,o=i.left,l=i[r];i.top="",i.left="",i[r]="";var c=XC(e.instance.popper,e.instance.reference,n.padding,s,e.positionFixed);i.top=a,i.left=o,i[r]=l,n.boundaries=c;var u=n.priority,p=e.offsets.popper,f={primary:function(h){var x=p[h];return p[h]<c[h]&&!n.escapeWithReference&&(x=Math.max(p[h],c[h])),Cf({},h,x)},secondary:function(h){var x=h==="right"?"left":"top",g=p[x];return p[h]>c[h]&&!n.escapeWithReference&&(g=Math.min(p[x],c[h]-(h==="right"?p.width:p.height))),Cf({},x,g)}};return u.forEach(function(m){var h=["left","top"].indexOf(m)!==-1?"primary":"secondary";p=go({},p,f[h](m))}),e.offsets.popper=p,e}function hAe(e){var n=e.placement,s=n.split("-")[0],r=n.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,l=["bottom","top"].indexOf(s)!==-1,c=l?"left":"top",u=l?"width":"height",p={start:Cf({},c,a[c]),end:Cf({},c,a[c]+a[u]-o[u])};e.offsets.popper=go({},o,p[r])}return e}function xAe(e){if(!lG(e.instance.modifiers,"hide","preventOverflow"))return e;var n=e.offsets.reference,s=v0(e.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(n.bottom<s.top||n.left>s.right||n.top>s.bottom||n.right<s.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function gAe(e){var n=e.placement,s=n.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=["left","right"].indexOf(s)!==-1,l=["top","left"].indexOf(s)===-1;return i[o?"left":"top"]=a[s]-(l?i[o?"width":"height"]:0),e.placement=v5(n),e.offsets.popper=nd(i),e}var bAe={shift:{order:100,enabled:!0,fn:hAe},offset:{order:200,enabled:!0,fn:fAe,offset:0},preventOverflow:{order:300,enabled:!0,fn:mAe,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:dAe},arrow:{order:500,enabled:!0,fn:oAe,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:cAe,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:gAe},hide:{order:800,enabled:!0,fn:xAe},computeStyle:{order:850,enabled:!0,fn:aAe,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:nAe,onLoad:sAe,gpuAcceleration:void 0}},yAe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:bAe},Wh=(function(){function e(n,s){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};zTe(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=HTe(this.update.bind(this)),this.options=go({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=s&&s.jquery?s[0]:s,this.options.modifiers={},Object.keys(go({},e.Defaults.modifiers,i.modifiers)).forEach(function(o){r.options.modifiers[o]=go({},e.Defaults.modifiers[o]||{},i.modifiers?i.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return go({name:o},r.options.modifiers[o])}).sort(function(o,l){return o.order-l.order}),this.modifiers.forEach(function(o){o.enabled&&YW(o.onLoad)&&o.onLoad(r.reference,r.popper,r.options,o,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return WTe(e,[{key:"update",value:function(){return YTe.call(this)}},{key:"destroy",value:function(){return ZTe.call(this)}},{key:"enableEventListeners",value:function(){return XTe.call(this)}},{key:"disableEventListeners",value:function(){return eAe.call(this)}}]),e})();Wh.Utils=(typeof window<"u"?window:global).PopperUtils;Wh.placements=cG;Wh.Defaults=yAe;var vAe=["innerHTML","ownerDocument","style","attributes","nodeValue"],wAe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],CAe=["bigint","boolean","null","number","string","symbol","undefined"];function M3(e){var n=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(n))return"HTMLElement";if(_Ae(n))return n}function Go(e){return function(n){return M3(n)===e}}function _Ae(e){return wAe.includes(e)}function Zf(e){return function(n){return typeof n===e}}function jAe(e){return CAe.includes(e)}function ct(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(ct.array(e))return"Array";if(ct.plainFunction(e))return"Function";var n=M3(e);return n||"Object"}ct.array=Array.isArray;ct.arrayOf=function(e,n){return!ct.array(e)&&!ct.function(n)?!1:e.every(function(s){return n(s)})};ct.asyncGeneratorFunction=function(e){return M3(e)==="AsyncGeneratorFunction"};ct.asyncFunction=Go("AsyncFunction");ct.bigint=Zf("bigint");ct.boolean=function(e){return e===!0||e===!1};ct.date=Go("Date");ct.defined=function(e){return!ct.undefined(e)};ct.domElement=function(e){return ct.object(e)&&!ct.plainObject(e)&&e.nodeType===1&&ct.string(e.nodeName)&&vAe.every(function(n){return n in e})};ct.empty=function(e){return ct.string(e)&&e.length===0||ct.array(e)&&e.length===0||ct.object(e)&&!ct.map(e)&&!ct.set(e)&&Object.keys(e).length===0||ct.set(e)&&e.size===0||ct.map(e)&&e.size===0};ct.error=Go("Error");ct.function=Zf("function");ct.generator=function(e){return ct.iterable(e)&&ct.function(e.next)&&ct.function(e.throw)};ct.generatorFunction=Go("GeneratorFunction");ct.instanceOf=function(e,n){return!e||!n?!1:Object.getPrototypeOf(e)===n.prototype};ct.iterable=function(e){return!ct.nullOrUndefined(e)&&ct.function(e[Symbol.iterator])};ct.map=Go("Map");ct.nan=function(e){return Number.isNaN(e)};ct.null=function(e){return e===null};ct.nullOrUndefined=function(e){return ct.null(e)||ct.undefined(e)};ct.number=function(e){return Zf("number")(e)&&!ct.nan(e)};ct.numericString=function(e){return ct.string(e)&&e.length>0&&!Number.isNaN(Number(e))};ct.object=function(e){return!ct.nullOrUndefined(e)&&(ct.function(e)||typeof e=="object")};ct.oneOf=function(e,n){return ct.array(e)?e.indexOf(n)>-1:!1};ct.plainFunction=Go("Function");ct.plainObject=function(e){if(M3(e)!=="Object")return!1;var n=Object.getPrototypeOf(e);return n===null||n===Object.getPrototypeOf({})};ct.primitive=function(e){return ct.null(e)||jAe(typeof e)};ct.promise=Go("Promise");ct.propertyOf=function(e,n,s){if(!ct.object(e)||!n)return!1;var r=e[n];return ct.function(s)?s(r):ct.defined(r)};ct.regexp=Go("RegExp");ct.set=Go("Set");ct.string=Zf("string");ct.symbol=Zf("symbol");ct.undefined=Zf("undefined");ct.weakMap=Go("WeakMap");ct.weakSet=Go("WeakSet");function dG(e){return function(n){return typeof n===e}}var NAe=dG("function"),FAe=function(e){return e===null},GD=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},qD=function(e){return!EAe(e)&&!FAe(e)&&(NAe(e)||typeof e=="object")},EAe=dG("undefined"),L8=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&e[n],r=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};function SAe(e,n){var s=e.length;if(s!==n.length)return!1;for(var r=s;r--!==0;)if(!Va(e[r],n[r]))return!1;return!0}function kAe(e,n){if(e.byteLength!==n.byteLength)return!1;for(var s=new DataView(e.buffer),r=new DataView(n.buffer),i=e.byteLength;i--;)if(s.getUint8(i)!==r.getUint8(i))return!1;return!0}function IAe(e,n){var s,r,i,a;if(e.size!==n.size)return!1;try{for(var o=L8(e.entries()),l=o.next();!l.done;l=o.next()){var c=l.value;if(!n.has(c[0]))return!1}}catch(f){s={error:f}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(s)throw s.error}}try{for(var u=L8(e.entries()),p=u.next();!p.done;p=u.next()){var c=p.value;if(!Va(c[1],n.get(c[0])))return!1}}catch(f){i={error:f}}finally{try{p&&!p.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return!0}function TAe(e,n){var s,r;if(e.size!==n.size)return!1;try{for(var i=L8(e.entries()),a=i.next();!a.done;a=i.next()){var o=a.value;if(!n.has(o[0]))return!1}}catch(l){s={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return!0}function Va(e,n){if(e===n)return!0;if(e&&qD(e)&&n&&qD(n)){if(e.constructor!==n.constructor)return!1;if(Array.isArray(e)&&Array.isArray(n))return SAe(e,n);if(e instanceof Map&&n instanceof Map)return IAe(e,n);if(e instanceof Set&&n instanceof Set)return TAe(e,n);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return kAe(e,n);if(GD(e)&&GD(n))return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(var i=s.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(var i=s.length;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!Va(e[a],n[a]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(n)?!0:e===n}function AAe(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.every(function(s){return ct.string(s)||ct.array(s)||ct.plainObject(s)})}function DAe(e,n,s){return uG(e,n)?[e,n].every(ct.array)?!e.some(XD(s))&&n.some(XD(s)):[e,n].every(ct.plainObject)?!Object.entries(e).some(JD(s))&&Object.entries(n).some(JD(s)):n===s:!1}function KD(e,n,s){var r=s.actual,i=s.key,a=s.previous,o=s.type,l=pl(e,i),c=pl(n,i),u=[l,c].every(ct.number)&&(o==="increased"?l<c:l>c);return ct.undefined(r)||(u=u&&c===r),ct.undefined(a)||(u=u&&l===a),u}function YD(e,n,s){var r=s.key,i=s.type,a=s.value,o=pl(e,r),l=pl(n,r),c=i==="added"?o:l,u=i==="added"?l:o;if(!ct.nullOrUndefined(a)){if(ct.defined(c)){if(ct.array(c)||ct.plainObject(c))return DAe(c,u,a)}else return Va(u,a);return!1}return[o,l].every(ct.array)?!u.every(t_(c)):[o,l].every(ct.plainObject)?MAe(Object.keys(c),Object.keys(u)):![o,l].every(function(p){return ct.primitive(p)&&ct.defined(p)})&&(i==="added"?!ct.defined(o)&&ct.defined(l):ct.defined(o)&&!ct.defined(l))}function ZD(e,n,s){var r=s===void 0?{}:s,i=r.key,a=pl(e,i),o=pl(n,i);if(!uG(a,o))throw new TypeError("Inputs have different types");if(!AAe(a,o))throw new TypeError("Inputs don't have length");return[a,o].every(ct.plainObject)&&(a=Object.keys(a),o=Object.keys(o)),[a,o]}function JD(e){return function(n){var s=n[0],r=n[1];return ct.array(e)?Va(e,r)||e.some(function(i){return Va(i,r)||ct.array(r)&&t_(r)(i)}):ct.plainObject(e)&&e[s]?!!e[s]&&Va(e[s],r):Va(e,r)}}function MAe(e,n){return n.some(function(s){return!e.includes(s)})}function XD(e){return function(n){return ct.array(e)?e.some(function(s){return Va(s,n)||ct.array(n)&&t_(n)(s)}):Va(e,n)}}function e1(e,n){return ct.array(e)?e.some(function(s){return Va(s,n)}):Va(e,n)}function t_(e){return function(n){return e.some(function(s){return Va(s,n)})}}function uG(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.every(ct.array)||e.every(ct.number)||e.every(ct.plainObject)||e.every(ct.string)}function pl(e,n){if(ct.plainObject(e)||ct.array(e)){if(ct.string(n)){var s=n.split(".");return s.reduce(function(r,i){return r&&r[i]},e)}return ct.number(n)?e[n]:e}return e}function RAe(e,n){if([e,n].some(ct.nullOrUndefined))throw new Error("Missing required parameters");if(![e,n].every(function(f){return ct.plainObject(f)||ct.array(f)}))throw new Error("Expected plain objects or array");var s=function(f,m){try{return YD(e,n,{key:f,type:"added",value:m})}catch{return!1}},r=function(f,m,h){try{var x=pl(e,f),g=pl(n,f),v=ct.defined(m),b=ct.defined(h);if(v||b){var y=b?e1(h,x):!e1(m,x),w=e1(m,g);return y&&w}return[x,g].every(ct.array)||[x,g].every(ct.plainObject)?!Va(x,g):x!==g}catch{return!1}},i=function(f,m,h){if(!ct.defined(f))return!1;try{var x=pl(e,f),g=pl(n,f),v=ct.defined(h);return e1(m,x)&&(v?e1(h,g):!v)}catch{return!1}},a=function(f,m){return ct.defined(f)?r(f,m):!1},o=function(f,m,h){if(!ct.defined(f))return!1;try{return KD(e,n,{key:f,actual:m,previous:h,type:"decreased"})}catch{return!1}},l=function(f){try{var m=ZD(e,n,{key:f}),h=m[0],x=m[1];return!!h.length&&!x.length}catch{return!1}},c=function(f){try{var m=ZD(e,n,{key:f}),h=m[0],x=m[1];return!h.length&&!!x.length}catch{return!1}},u=function(f,m,h){if(!ct.defined(f))return!1;try{return KD(e,n,{key:f,actual:m,previous:h,type:"increased"})}catch{return!1}},p=function(f,m){try{return YD(e,n,{key:f,type:"removed",value:m})}catch{return!1}};return{added:s,changed:r,changedFrom:i,changedTo:a,decreased:o,emptied:l,filled:c,increased:u,removed:p}}function QD(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function zr(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?QD(Object(s),!0).forEach(function(r){ca(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):QD(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function w0(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function LAe(e,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fG(r.key),r)}}function C0(e,n,s){return n&&LAe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ca(e,n,s){return n=fG(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function _0(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&P8(e,n)}function w5(e){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},w5(e)}function P8(e,n){return P8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P8(e,n)}function PAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function OAe(e,n){if(e==null)return{};var s={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(s[i]=e[i]);return s}function pG(e,n){if(e==null)return{};var s=OAe(e,n),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Pl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BAe(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pl(e)}function j0(e){var n=PAe();return function(){var r=w5(e),i;if(n){var a=w5(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return BAe(this,i)}}function UAe(e,n){if(typeof e!="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function fG(e){var n=UAe(e,"string");return typeof n=="symbol"?n:String(n)}var HAe={flip:{padding:20},preventOverflow:{padding:10}},VAe="The typeValidator argument must be a function with the signature function(props, propName, componentName).",$Ae="The error message is optional, but must be a string if provided.";function zAe(e,n,s,r){return typeof e=="boolean"?e:typeof e=="function"?e(n,s,r):e?!!e:!1}function WAe(e,n){return Object.hasOwnProperty.call(e,n)}function GAe(e,n,s,r){return new Error("Required ".concat(e[n]," `").concat(n,"` was not specified in `").concat(s,"`."))}function qAe(e,n){if(typeof e!="function")throw new TypeError(VAe);if(n&&typeof n!="string")throw new TypeError($Ae)}function eM(e,n,s){return qAe(e,s),function(r,i,a){for(var o=arguments.length,l=new Array(o>3?o-3:0),c=3;c<o;c++)l[c-3]=arguments[c];return zAe(n,r,i,a)?WAe(r,i)?e.apply(void 0,[r,i,a].concat(l)):GAe(r,i,a):e.apply(void 0,[r,i,a].concat(l))}}var rr={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},t1=ig.createPortal!==void 0;function sl(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Wy(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function rg(e){var n=e.title,s=e.data,r=e.warn,i=r===void 0?!1:r,a=e.debug,o=a===void 0?!1:a,l=i?console.warn||console.error:console.log;o&&n&&s&&(Array.isArray(s)?s.forEach(function(c){ct.plainObject(c)&&c.key?l.apply(console,[c.key,c.value]):l.apply(console,[c])}):l.apply(console,[s]))}function KAe(e,n,s){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.addEventListener(n,s,r)}function YAe(e,n,s){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.removeEventListener(n,s,r)}function ZAe(e,n,s){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(o){s(o),YAe(e,n,i)},KAe(e,n,i,r)}function tM(){}var mG=(function(e){_0(s,e);var n=j0(s);function s(){return w0(this,s),n.apply(this,arguments)}return C0(s,[{key:"componentDidMount",value:function(){sl()&&(this.node||this.appendNode(),t1||this.renderPortal())}},{key:"componentDidUpdate",value:function(){sl()&&(t1||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!sl()||!this.node||(t1||ig.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,a=i.id,o=i.zIndex;this.node||(this.node=document.createElement("div"),a&&(this.node.id=a),o&&(this.node.style.zIndex=o),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!sl())return null;var i=this.props,a=i.children,o=i.setRef;if(this.node||this.appendNode(),t1)return ig.createPortal(a,this.node);var l=ig.unstable_renderSubtreeIntoContainer(this,a.length>1?et.createElement("div",null,a):a[0],this.node);return o(l),null}},{key:"renderReact16",value:function(){var i=this.props,a=i.hasChildren,o=i.placement,l=i.target;return a?this.renderPortal():l||o==="center"?this.renderPortal():null}},{key:"render",value:function(){return t1?this.renderReact16():null}}]),s})(et.Component);ca(mG,"propTypes",{children:Qe.oneOfType([Qe.element,Qe.array]),hasChildren:Qe.bool,id:Qe.oneOfType([Qe.string,Qe.number]),placement:Qe.string,setRef:Qe.func.isRequired,target:Qe.oneOfType([Qe.object,Qe.string]),zIndex:Qe.number});var hG=(function(e){_0(s,e);var n=j0(s);function s(){return w0(this,s),n.apply(this,arguments)}return C0(s,[{key:"parentStyle",get:function(){var i=this.props,a=i.placement,o=i.styles,l=o.arrow.length,c={pointerEvents:"none",position:"absolute",width:"100%"};return a.startsWith("top")?(c.bottom=0,c.left=0,c.right=0,c.height=l):a.startsWith("bottom")?(c.left=0,c.right=0,c.top=0,c.height=l):a.startsWith("left")?(c.right=0,c.top=0,c.bottom=0):a.startsWith("right")&&(c.left=0,c.top=0),c}},{key:"render",value:function(){var i=this.props,a=i.placement,o=i.setArrowRef,l=i.styles,c=l.arrow,u=c.color,p=c.display,f=c.length,m=c.margin,h=c.position,x=c.spread,g={display:p,position:h},v,b=x,y=f;return a.startsWith("top")?(v="0,0 ".concat(b/2,",").concat(y," ").concat(b,",0"),g.bottom=0,g.marginLeft=m,g.marginRight=m):a.startsWith("bottom")?(v="".concat(b,",").concat(y," ").concat(b/2,",0 0,").concat(y),g.top=0,g.marginLeft=m,g.marginRight=m):a.startsWith("left")?(y=x,b=f,v="0,0 ".concat(b,",").concat(y/2," 0,").concat(y),g.right=0,g.marginTop=m,g.marginBottom=m):a.startsWith("right")&&(y=x,b=f,v="".concat(b,",").concat(y," ").concat(b,",0 0,").concat(y/2),g.left=0,g.marginTop=m,g.marginBottom=m),et.createElement("div",{className:"__floater__arrow",style:this.parentStyle},et.createElement("span",{ref:o,style:g},et.createElement("svg",{width:b,height:y,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},et.createElement("polygon",{points:v,fill:u}))))}}]),s})(et.Component);ca(hG,"propTypes",{placement:Qe.string.isRequired,setArrowRef:Qe.func.isRequired,styles:Qe.object.isRequired});var JAe=["color","height","width"];function xG(e){var n=e.handleClick,s=e.styles,r=s.color,i=s.height,a=s.width,o=pG(s,JAe);return et.createElement("button",{"aria-label":"close",onClick:n,style:o,type:"button"},et.createElement("svg",{width:"".concat(a,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},et.createElement("g",null,et.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}xG.propTypes={handleClick:Qe.func.isRequired,styles:Qe.object.isRequired};function gG(e){var n=e.content,s=e.footer,r=e.handleClick,i=e.open,a=e.positionWrapper,o=e.showCloseButton,l=e.title,c=e.styles,u={content:et.isValidElement(n)?n:et.createElement("div",{className:"__floater__content",style:c.content},n)};return l&&(u.title=et.isValidElement(l)?l:et.createElement("div",{className:"__floater__title",style:c.title},l)),s&&(u.footer=et.isValidElement(s)?s:et.createElement("div",{className:"__floater__footer",style:c.footer},s)),(o||a)&&!ct.boolean(i)&&(u.close=et.createElement(xG,{styles:c.close,handleClick:r})),et.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)}gG.propTypes={content:Qe.node.isRequired,footer:Qe.node,handleClick:Qe.func.isRequired,open:Qe.bool,positionWrapper:Qe.bool.isRequired,showCloseButton:Qe.bool.isRequired,styles:Qe.object.isRequired,title:Qe.node};var bG=(function(e){_0(s,e);var n=j0(s);function s(){return w0(this,s),n.apply(this,arguments)}return C0(s,[{key:"style",get:function(){var i=this.props,a=i.disableAnimation,o=i.component,l=i.placement,c=i.hideArrow,u=i.status,p=i.styles,f=p.arrow.length,m=p.floater,h=p.floaterCentered,x=p.floaterClosing,g=p.floaterOpening,v=p.floaterWithAnimation,b=p.floaterWithComponent,y={};return c||(l.startsWith("top")?y.padding="0 0 ".concat(f,"px"):l.startsWith("bottom")?y.padding="".concat(f,"px 0 0"):l.startsWith("left")?y.padding="0 ".concat(f,"px 0 0"):l.startsWith("right")&&(y.padding="0 0 0 ".concat(f,"px"))),[rr.OPENING,rr.OPEN].indexOf(u)!==-1&&(y=zr(zr({},y),g)),u===rr.CLOSING&&(y=zr(zr({},y),x)),u===rr.OPEN&&!a&&(y=zr(zr({},y),v)),l==="center"&&(y=zr(zr({},y),h)),o&&(y=zr(zr({},y),b)),zr(zr({},m),y)}},{key:"render",value:function(){var i=this.props,a=i.component,o=i.handleClick,l=i.hideArrow,c=i.setFloaterRef,u=i.status,p={},f=["__floater"];return a?et.isValidElement(a)?p.content=et.cloneElement(a,{closeFn:o}):p.content=a({closeFn:o}):p.content=et.createElement(gG,this.props),u===rr.OPEN&&f.push("__floater__open"),l||(p.arrow=et.createElement(hG,this.props)),et.createElement("div",{ref:c,className:f.join(" "),style:this.style},et.createElement("div",{className:"__floater__body"},p.content,p.arrow))}}]),s})(et.Component);ca(bG,"propTypes",{component:Qe.oneOfType([Qe.func,Qe.element]),content:Qe.node,disableAnimation:Qe.bool.isRequired,footer:Qe.node,handleClick:Qe.func.isRequired,hideArrow:Qe.bool.isRequired,open:Qe.bool,placement:Qe.string.isRequired,positionWrapper:Qe.bool.isRequired,setArrowRef:Qe.func.isRequired,setFloaterRef:Qe.func.isRequired,showCloseButton:Qe.bool,status:Qe.string.isRequired,styles:Qe.object.isRequired,title:Qe.node});var yG=(function(e){_0(s,e);var n=j0(s);function s(){return w0(this,s),n.apply(this,arguments)}return C0(s,[{key:"render",value:function(){var i=this.props,a=i.children,o=i.handleClick,l=i.handleMouseEnter,c=i.handleMouseLeave,u=i.setChildRef,p=i.setWrapperRef,f=i.style,m=i.styles,h;if(a)if(et.Children.count(a)===1)if(!et.isValidElement(a))h=et.createElement("span",null,a);else{var x=ct.function(a.type)?"innerRef":"ref";h=et.cloneElement(et.Children.only(a),ca({},x,u))}else h=a;return h?et.createElement("span",{ref:p,style:zr(zr({},m),f),onClick:o,onMouseEnter:l,onMouseLeave:c},h):null}}]),s})(et.Component);ca(yG,"propTypes",{children:Qe.node,handleClick:Qe.func.isRequired,handleMouseEnter:Qe.func.isRequired,handleMouseLeave:Qe.func.isRequired,setChildRef:Qe.func.isRequired,setWrapperRef:Qe.func.isRequired,style:Qe.object,styles:Qe.object.isRequired});var XAe={zIndex:100};function QAe(e){var n=Mo(XAe,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:n.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:n.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:n}}var eDe=["arrow","flip","offset"],tDe=["position","top","right","bottom","left"],n_=(function(e){_0(s,e);var n=j0(s);function s(r){var i;return w0(this,s),i=n.call(this,r),ca(Pl(i),"setArrowRef",function(a){i.arrowRef=a}),ca(Pl(i),"setChildRef",function(a){i.childRef=a}),ca(Pl(i),"setFloaterRef",function(a){i.floaterRef=a}),ca(Pl(i),"setWrapperRef",function(a){i.wrapperRef=a}),ca(Pl(i),"handleTransitionEnd",function(){var a=i.state.status,o=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:a===rr.OPENING?rr.OPEN:rr.IDLE},function(){var l=i.state.status;o(l===rr.OPEN?"open":"close",i.props)})}),ca(Pl(i),"handleClick",function(){var a=i.props,o=a.event,l=a.open;if(!ct.boolean(l)){var c=i.state,u=c.positionWrapper,p=c.status;(i.event==="click"||i.event==="hover"&&u)&&(rg({title:"click",data:[{event:o,status:p===rr.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),ca(Pl(i),"handleMouseEnter",function(){var a=i.props,o=a.event,l=a.open;if(!(ct.boolean(l)||Wy())){var c=i.state.status;i.event==="hover"&&c===rr.IDLE&&(rg({title:"mouseEnter",data:[{key:"originalEvent",value:o}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),ca(Pl(i),"handleMouseLeave",function(){var a=i.props,o=a.event,l=a.eventDelay,c=a.open;if(!(ct.boolean(c)||Wy())){var u=i.state,p=u.status,f=u.positionWrapper;i.event==="hover"&&(rg({title:"mouseLeave",data:[{key:"originalEvent",value:o}],debug:i.debug}),l?[rr.OPENING,rr.OPEN].indexOf(p)!==-1&&!f&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},l*1e3)):i.toggle(rr.IDLE))}}),i.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:rr.INIT,statusWrapper:rr.INIT},i._isMounted=!1,i.hasMounted=!1,sl()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return C0(s,[{key:"componentDidMount",value:function(){if(sl()){var i=this.state.positionWrapper,a=this.props,o=a.children,l=a.open,c=a.target;this._isMounted=!0,rg({title:"init",data:{hasChildren:!!o,hasTarget:!!c,isControlled:ct.boolean(l),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!o&&c&&ct.boolean(l)}}},{key:"componentDidUpdate",value:function(i,a){if(sl()){var o=this.props,l=o.autoOpen,c=o.open,u=o.target,p=o.wrapperOptions,f=RAe(a,this.state),m=f.changedFrom,h=f.changed;if(i.open!==c){var x;ct.boolean(c)&&(x=c?rr.OPENING:rr.CLOSING),this.toggle(x)}(i.wrapperOptions.position!==p.position||i.target!==u)&&this.changeWrapperPosition(this.props),h("status",rr.IDLE)&&c?this.toggle(rr.OPEN):m("status",rr.INIT,rr.IDLE)&&l&&this.toggle(rr.OPEN),this.popper&&h("status",rr.OPENING)&&this.popper.instance.update(),this.floaterRef&&(h("status",rr.OPENING)||h("status",rr.CLOSING))&&ZAe(this.floaterRef,"transitionend",this.handleTransitionEnd),h("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){sl()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,o=this.state.positionWrapper,l=this.props,c=l.disableFlip,u=l.getPopper,p=l.hideArrow,f=l.offset,m=l.placement,h=l.wrapperOptions,x=m==="top"||m==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(m==="center")this.setState({status:rr.IDLE});else if(a&&this.floaterRef){var g=this.options,v=g.arrow,b=g.flip,y=g.offset,w=pG(g,eDe);new Wh(a,this.floaterRef,{placement:m,modifiers:zr({arrow:zr({enabled:!p,element:this.arrowRef},v),flip:zr({enabled:!c,behavior:x},b),offset:zr({offset:"0, ".concat(f,"px")},y)},w),onCreate:function(j){var C;if(i.popper=j,!((C=i.floaterRef)!==null&&C!==void 0&&C.isConnected)){i.setState({needsUpdate:!0});return}u(j,"floater"),i._isMounted&&i.setState({currentPlacement:j.placement,status:rr.IDLE}),m!==j.placement&&setTimeout(function(){j.instance.update()},1)},onUpdate:function(j){i.popper=j;var C=i.state.currentPlacement;i._isMounted&&j.placement!==C&&i.setState({currentPlacement:j.placement})}})}if(o){var _=ct.undefined(h.offset)?0:h.offset;new Wh(this.target,this.wrapperRef,{placement:h.placement||m,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(_,"px")},flip:{enabled:!1}},onCreate:function(j){i.wrapperPopper=j,i._isMounted&&i.setState({statusWrapper:rr.IDLE}),u(j,"wrapper"),m!==j.placement&&setTimeout(function(){j.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var a;(a=i.floaterRef)!==null&&a!==void 0&&a.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var a=i.target,o=i.wrapperOptions;this.setState({positionWrapper:o.position&&!!a})}},{key:"toggle",value:function(i){var a=this.state.status,o=a===rr.OPEN?rr.CLOSING:rr.OPENING;ct.undefined(i)||(o=i),this.setState({status:o})}},{key:"debug",get:function(){var i=this.props.debug;return i||sl()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,a=i.disableHoverToClick,o=i.event;return o==="hover"&&Wy()&&!a?"click":o}},{key:"options",get:function(){var i=this.props.options;return Mo(HAe,i||{})}},{key:"styles",get:function(){var i=this,a=this.state,o=a.status,l=a.positionWrapper,c=a.statusWrapper,u=this.props.styles,p=Mo(QAe(u),u);if(l){var f;[rr.IDLE].indexOf(o)===-1||[rr.IDLE].indexOf(c)===-1?f=p.wrapperPosition:f=this.wrapperPopper.styles,p.wrapper=zr(zr({},p.wrapper),f)}if(this.target){var m=window.getComputedStyle(this.target);this.wrapperStyles?p.wrapper=zr(zr({},p.wrapper),this.wrapperStyles):["relative","static"].indexOf(m.position)===-1&&(this.wrapperStyles={},l||(tDe.forEach(function(h){i.wrapperStyles[h]=m[h]}),p.wrapper=zr(zr({},p.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return p}},{key:"target",get:function(){if(!sl())return null;var i=this.props.target;return i?ct.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,a=i.currentPlacement,o=i.positionWrapper,l=i.status,c=this.props,u=c.children,p=c.component,f=c.content,m=c.disableAnimation,h=c.footer,x=c.hideArrow,g=c.id,v=c.open,b=c.showCloseButton,y=c.style,w=c.target,_=c.title,N=et.createElement(yG,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:y,styles:this.styles.wrapper},u),j={};return o?j.wrapperInPortal=N:j.wrapperAsChildren=N,et.createElement("span",null,et.createElement(mG,{hasChildren:!!u,id:g,placement:a,setRef:this.setFloaterRef,target:w,zIndex:this.styles.options.zIndex},et.createElement(bG,{component:p,content:f,disableAnimation:m,footer:h,handleClick:this.handleClick,hideArrow:x||a==="center",open:v,placement:a,positionWrapper:o,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:b,status:l,styles:this.styles,title:_}),j.wrapperInPortal),j.wrapperAsChildren)}}]),s})(et.Component);ca(n_,"propTypes",{autoOpen:Qe.bool,callback:Qe.func,children:Qe.node,component:eM(Qe.oneOfType([Qe.func,Qe.element]),function(e){return!e.content}),content:eM(Qe.node,function(e){return!e.component}),debug:Qe.bool,disableAnimation:Qe.bool,disableFlip:Qe.bool,disableHoverToClick:Qe.bool,event:Qe.oneOf(["hover","click"]),eventDelay:Qe.number,footer:Qe.node,getPopper:Qe.func,hideArrow:Qe.bool,id:Qe.oneOfType([Qe.string,Qe.number]),offset:Qe.number,open:Qe.bool,options:Qe.object,placement:Qe.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:Qe.bool,style:Qe.object,styles:Qe.object,target:Qe.oneOfType([Qe.object,Qe.string]),title:Qe.node,wrapperOptions:Qe.shape({offset:Qe.number,placement:Qe.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:Qe.bool})});ca(n_,"defaultProps",{autoOpen:!1,callback:tM,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:tM,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var nDe=Object.defineProperty,sDe=(e,n,s)=>n in e?nDe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,Bn=(e,n,s)=>sDe(e,typeof n!="symbol"?n+"":n,s),xr={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Ba={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},Ts={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Us={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function Ic(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function vG(e){return e?e.getBoundingClientRect():null}function rDe(e=!1){const{body:n,documentElement:s}=document;if(!n||!s)return 0;if(e){const r=[n.scrollHeight,n.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight].sort((a,o)=>a-o),i=Math.floor(r.length/2);return r.length%2===0?(r[i-1]+r[i])/2:r[i]}return Math.max(n.scrollHeight,n.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight)}function Gl(e){if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function iDe(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function Gh(e,n,s){if(!e)return ru();const r=KW(e);if(r){if(r.isSameNode(ru()))return s?document:ru();if(!(r.scrollHeight>r.offsetHeight)&&!n)return r.style.overflow="initial",ru()}return r}function R3(e,n){if(!e)return!1;const s=Gh(e,n);return s?!s.isSameNode(ru()):!1}function aDe(e){return e.offsetParent!==document.body}function _f(e,n="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:s}=e,r=iDe(e);return s==="BODY"||s==="HTML"?!1:r&&r.position===n?!0:e.parentNode?_f(e.parentNode,n):!1}function oDe(e){var n;if(!e)return!1;let s=e;for(;s&&s!==document.body;){if(s instanceof HTMLElement){const{display:r,visibility:i}=getComputedStyle(s);if(r==="none"||i==="hidden")return!1}s=(n=s.parentElement)!=null?n:null}return!0}function lDe(e,n,s){var r,i,a;const o=vG(e),l=Gh(e,s),c=R3(e,s),u=_f(e);let p=0,f=(r=o?.top)!=null?r:0;if(c&&u){const m=(i=e?.offsetTop)!=null?i:0,h=(a=l?.scrollTop)!=null?a:0;f=m-h}else l instanceof HTMLElement&&(p=l.scrollTop,!c&&!_f(e)&&(f+=p),l.isSameNode(ru())||(f+=ru().scrollTop));return Math.floor(f-n)}function cDe(e,n,s){var r;if(!e)return 0;const{offsetTop:i=0,scrollTop:a=0}=(r=KW(e))!=null?r:{};let o=e.getBoundingClientRect().top+a;i&&(R3(e,s)||aDe(e))&&(o-=i);const l=Math.floor(o-n);return l<0?0:l}function ru(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function dDe(e,n){const{duration:s,element:r}=n;return new Promise((i,a)=>{const{scrollTop:o}=r,l=e>o?e-o:o-e;kTe.top(r,e,{duration:l<100?50:s},c=>c&&c.message!=="Element already at target scroll position"?a(c):i())})}var n1=Lp.createPortal!==void 0;function wG(e=navigator.userAgent){let n=e;return typeof window>"u"?n="node":document.documentMode?n="ie":/Edge/.test(e)?n="edge":window.opera||e.includes(" OPR/")?n="opera":typeof window.InstallTrigger<"u"?n="firefox":window.chrome?n="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(n="safari"),n}function Ug(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function rl(e,n={}){const{defaultValue:s,step:r,steps:i}=n;let a=BD(e);if(a)(a.includes("{step}")||a.includes("{steps}"))&&r&&i&&(a=a.replace("{step}",r.toString()).replace("{steps}",i.toString()));else if(d.isValidElement(e)&&!Object.values(e.props).length&&Ug(e.type)==="function"){const o=e.type({});a=rl(o,n)}else a=BD(s);return a}function uDe(e,n){return!qi.plainObject(e)||!qi.array(n)?!1:Object.keys(e).every(s=>n.includes(s))}function pDe(e){const n=/^#?([\da-f])([\da-f])([\da-f])$/i,s=e.replace(n,(i,a,o,l)=>a+a+o+o+l+l),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(s);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function nM(e){return e.disableBeacon||e.placement==="center"}function sM(){return!["chrome","safari","firefox","opera"].includes(wG())}function ju({data:e,debug:n=!1,title:s,warn:r=!1}){const i=r?console.warn||console.error:console.log;n&&s&&e&&(Array.isArray(e)?e.forEach(a=>{qi.plainObject(a)&&a.key?i.apply(console,[a.key,a.value]):i.apply(console,[a])}):i.apply(console,[e]))}function fDe(e){return Object.keys(e)}function CG(e,...n){if(!qi.plainObject(e))throw new TypeError("Expected an object");const s={};for(const r in e)({}).hasOwnProperty.call(e,r)&&(n.includes(r)||(s[r]=e[r]));return s}function mDe(e,...n){if(!qi.plainObject(e))throw new TypeError("Expected an object");if(!n.length)return e;const s={};for(const r in e)({}).hasOwnProperty.call(e,r)&&n.includes(r)&&(s[r]=e[r]);return s}function O8(e,n,s){const r=a=>a.replace("{step}",String(n)).replace("{steps}",String(s));if(Ug(e)==="string")return r(e);if(!d.isValidElement(e))return e;const{children:i}=e.props;if(Ug(i)==="string"&&i.includes("{step}"))return d.cloneElement(e,{children:r(i)});if(Array.isArray(i))return d.cloneElement(e,{children:i.map(a=>typeof a=="string"?r(a):O8(a,n,s))});if(Ug(e.type)==="function"&&!Object.values(e.props).length){const a=e.type({});return O8(a,n,s)}return e}function hDe(e){const{isFirstStep:n,lifecycle:s,previousLifecycle:r,scrollToFirstStep:i,step:a,target:o}=e;return!a.disableScrolling&&(!n||i||s===Ts.TOOLTIP)&&a.placement!=="center"&&(!a.isFixed||!_f(o))&&r!==s&&[Ts.BEACON,Ts.TOOLTIP].includes(s)}var xDe={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},_G={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},gDe={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:_G,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},bDe={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},yDe={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},s1={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},rM={borderRadius:4,position:"absolute"};function vDe(e,n){var s,r,i,a,o;const{floaterProps:l,styles:c}=e,u=Mo((s=n.floaterProps)!=null?s:{},l??{}),p=Mo(c??{},(r=n.styles)!=null?r:{}),f=Mo(yDe,p.options||{}),m=n.placement==="center"||n.disableBeacon;let{width:h}=f;window.innerWidth>480&&(h=380),"width"in f&&(h=typeof f.width=="number"&&window.innerWidth<f.width?window.innerWidth-30:f.width);const x={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:f.zIndex},g={beacon:{...s1,display:m?"none":"inline-block",height:f.beaconSize,position:"relative",width:f.beaconSize,zIndex:f.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:f.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${pDe(f.primaryColor).join(",")}, 0.2)`,border:`2px solid ${f.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:f.backgroundColor,borderRadius:5,boxSizing:"border-box",color:f.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:h},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...s1,backgroundColor:f.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...s1,color:f.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...s1,color:f.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...s1,color:f.textColor,fontSize:14},overlay:{...x,backgroundColor:f.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...x},overlayLegacyCenter:{...x,backgroundColor:f.overlayColor},spotlight:{...rM,backgroundColor:"gray"},spotlightLegacy:{...rM,boxShadow:`0 0 0 9999px ${f.overlayColor}, ${f.spotlightShadow}`},floaterStyles:{arrow:{color:(o=(a=(i=u?.styles)==null?void 0:i.arrow)==null?void 0:a.color)!=null?o:f.arrowColor},options:{zIndex:f.zIndex+100}},options:f};return Mo(g,p)}function wDe(e){return mDe(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function mp(e,n){var s,r,i,a,o,l;const c=n??{},u=Mo.all([gDe,wDe(e),c],{isMergeableObject:qi.plainObject}),p=vDe(e,u),f=R3(Gl(u.target),u.disableScrollParentFix),m=Mo.all([xDe,(s=e.floaterProps)!=null?s:{},(r=u.floaterProps)!=null?r:{}]);return m.offset=u.offset,m.styles=Mo((i=m.styles)!=null?i:{},p.floaterStyles),m.offset+=(o=(a=e.spotlightPadding)!=null?a:u.spotlightPadding)!=null?o:0,u.placementBeacon&&m.wrapperOptions&&(m.wrapperOptions.placement=u.placementBeacon),f&&m.options.preventOverflow&&(m.options.preventOverflow.boundariesElement="window"),{...u,locale:Mo.all([_G,(l=e.locale)!=null?l:{},u.locale||{}]),floaterProps:m,styles:CG(p,"floaterStyles")}}function jG(e,n=!1){return qi.plainObject(e)?e.target?!0:(ju({title:"validateStep",data:"target is missing from the step",warn:!0,debug:n}),!1):(ju({title:"validateStep",data:"step must be an object",warn:!0,debug:n}),!1)}function iM(e,n=!1){return qi.array(e)?e.every(s=>jG(s,n)):(ju({title:"validateSteps",data:"steps must be an array",warn:!0,debug:n}),!1)}var NG={action:"init",controlled:!1,index:0,lifecycle:Ts.INIT,origin:null,size:0,status:Us.IDLE},aM=fDe(CG(NG,"controlled","size")),CDe=class{constructor(e){Bn(this,"beaconPopper"),Bn(this,"tooltipPopper"),Bn(this,"data",new Map),Bn(this,"listener"),Bn(this,"store",new Map),Bn(this,"addListener",i=>{this.listener=i}),Bn(this,"setSteps",i=>{const{size:a,status:o}=this.getState(),l={size:i.length,status:o};this.data.set("steps",i),o===Us.WAITING&&!a&&i.length&&(l.status=Us.RUNNING),this.setState(l)}),Bn(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),Bn(this,"setPopper",(i,a)=>{i==="beacon"?this.beaconPopper=a:this.tooltipPopper=a}),Bn(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),Bn(this,"close",(i=null)=>{const{index:a,status:o}=this.getState();o===Us.RUNNING&&this.setState({...this.getNextState({action:xr.CLOSE,index:a+1,origin:i})})}),Bn(this,"go",i=>{const{controlled:a,status:o}=this.getState();if(a||o!==Us.RUNNING)return;const l=this.getSteps()[i];this.setState({...this.getNextState({action:xr.GO,index:i}),status:l?o:Us.FINISHED})}),Bn(this,"info",()=>this.getState()),Bn(this,"next",()=>{const{index:i,status:a}=this.getState();a===Us.RUNNING&&this.setState(this.getNextState({action:xr.NEXT,index:i+1}))}),Bn(this,"open",()=>{const{status:i}=this.getState();i===Us.RUNNING&&this.setState({...this.getNextState({action:xr.UPDATE,lifecycle:Ts.TOOLTIP})})}),Bn(this,"prev",()=>{const{index:i,status:a}=this.getState();a===Us.RUNNING&&this.setState({...this.getNextState({action:xr.PREV,index:i-1})})}),Bn(this,"reset",(i=!1)=>{const{controlled:a}=this.getState();a||this.setState({...this.getNextState({action:xr.RESET,index:0}),status:i?Us.RUNNING:Us.READY})}),Bn(this,"skip",()=>{const{status:i}=this.getState();i===Us.RUNNING&&this.setState({action:xr.SKIP,lifecycle:Ts.INIT,status:Us.SKIPPED})}),Bn(this,"start",i=>{const{index:a,size:o}=this.getState();this.setState({...this.getNextState({action:xr.START,index:qi.number(i)?i:a},!0),status:o?Us.RUNNING:Us.WAITING})}),Bn(this,"stop",(i=!1)=>{const{index:a,status:o}=this.getState();[Us.FINISHED,Us.SKIPPED].includes(o)||this.setState({...this.getNextState({action:xr.STOP,index:a+(i?1:0)}),status:Us.PAUSED})}),Bn(this,"update",i=>{var a,o;if(!uDe(i,aM))throw new Error(`State is not valid. Valid keys: ${aM.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(a=i.action)!=null?a:xr.UPDATE,origin:(o=i.origin)!=null?o:null},!0)})});const{continuous:n=!1,stepIndex:s,steps:r=[]}=e??{};this.setState({action:xr.INIT,controlled:qi.number(s),continuous:n,index:qi.number(s)?s:0,lifecycle:Ts.INIT,origin:null,status:r.length?Us.READY:Us.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...NG}}getNextState(e,n=!1){var s,r,i,a,o;const{action:l,controlled:c,index:u,size:p,status:f}=this.getState(),m=qi.number(e.index)?e.index:u,h=c&&!n?u:Math.min(Math.max(m,0),p);return{action:(s=e.action)!=null?s:l,controlled:c,index:h,lifecycle:(r=e.lifecycle)!=null?r:Ts.INIT,origin:(i=e.origin)!=null?i:null,size:(a=e.size)!=null?a:p,status:h===p?Us.FINISHED:(o=e.status)!=null?o:f}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){const n=JSON.stringify(e),s=JSON.stringify(this.getState());return n!==s}setState(e,n=!1){const s=this.getState(),{action:r,index:i,lifecycle:a,origin:o=null,size:l,status:c}={...s,...e};this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",a),this.store.set("origin",o),this.store.set("size",l),this.store.set("status",c),n&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(s)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function _De(e){return new CDe(e)}function jDe({styles:e}){return d.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})}var NDe=jDe,FDe=class extends d.Component{constructor(){super(...arguments),Bn(this,"isActive",!1),Bn(this,"resizeTimeout"),Bn(this,"scrollTimeout"),Bn(this,"scrollParent"),Bn(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),Bn(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:n,lifecycle:s}=this.props,r=[Ts.INIT,Ts.BEACON,Ts.COMPLETE,Ts.ERROR];return n||(e?r.includes(s):s!==Ts.TOOLTIP)}),Bn(this,"handleMouseMove",e=>{const{mouseOverSpotlight:n}=this.state,{height:s,left:r,position:i,top:a,width:o}=this.spotlightStyles,l=i==="fixed"?e.clientY:e.pageY,c=i==="fixed"?e.clientX:e.pageX,u=l>=a&&l<=a+s,f=c>=r&&c<=r+o&&u;f!==n&&this.updateState({mouseOverSpotlight:f})}),Bn(this,"handleScroll",()=>{const{target:e}=this.props,n=Gl(e);if(this.scrollParent!==document){const{isScrolling:s}=this.state;s||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else _f(n,"sticky")&&this.updateState({})}),Bn(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:n,disableScrollParentFix:s=!1,target:r}=this.props,i=Gl(r);this.scrollParent=Gh(i??document.body,s,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var n;const{disableScrollParentFix:s,lifecycle:r,spotlightClicks:i,target:a}=this.props,{changed:o}=b5(e,this.props);if(o("target")||o("disableScrollParentFix")){const l=Gl(a);this.scrollParent=Gh(l??document.body,s,!0)}o("lifecycle",Ts.TOOLTIP)&&((n=this.scrollParent)==null||n.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:l}=this.state;l||this.updateState({showSpotlight:!0})},100)),(o("spotlightClicks")||o("disableOverlay")||o("lifecycle"))&&(i&&r===Ts.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Ts.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(e=this.scrollParent)==null||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:n,placement:s,styles:r}=this.props;let i=r.overlay;return sM()&&(i=s==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:n?"default":"pointer",height:rDe(),pointerEvents:e?"none":"auto",...i}}get spotlightStyles(){var e,n,s;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:a,spotlightPadding:o=0,styles:l,target:c}=this.props,u=Gl(c),p=vG(u),f=_f(u),m=lDe(u,o,i);return{...sM()?l.spotlightLegacy:l.spotlight,height:Math.round(((e=p?.height)!=null?e:0)+o*2),left:Math.round(((n=p?.left)!=null?n:0)-o),opacity:r?1:0,pointerEvents:a?"none":"auto",position:f?"fixed":"absolute",top:m,transition:"opacity 0.2s",width:Math.round(((s=p?.width)!=null?s:0)+o*2)}}updateState(e){this.isActive&&this.setState(n=>({...n,...e}))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:n,placement:s}=this.props,{hideSpotlight:r,overlayStyles:i,spotlightStyles:a}=this;if(r())return null;let o=s!=="center"&&e&&d.createElement(NDe,{styles:a});if(wG()==="safari"){const{mixBlendMode:l,zIndex:c,...u}=i;o=d.createElement("div",{style:{...u}},o),delete i.backgroundColor}return d.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:n,role:"presentation",style:i},o)}},EDe=class extends d.Component{constructor(){super(...arguments),Bn(this,"node",null)}componentDidMount(){const{id:e}=this.props;Ic()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),n1||this.renderReact15())}componentDidUpdate(){Ic()&&(n1||this.renderReact15())}componentWillUnmount(){!Ic()||!this.node||(n1||Lp.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!Ic())return;const{children:e}=this.props;this.node&&Lp.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!Ic()||!n1)return null;const{children:e}=this.props;return this.node?Lp.createPortal(e,this.node):null}render(){return n1?this.renderReact16():null}},SDe=class{constructor(e,n){if(Bn(this,"element"),Bn(this,"options"),Bn(this,"canBeTabbed",s=>{const{tabIndex:r}=s;return r===null||r<0?!1:this.canHaveFocus(s)}),Bn(this,"canHaveFocus",s=>{const r=/input|select|textarea|button|object/,i=s.nodeName.toLowerCase();return(r.test(i)&&!s.getAttribute("disabled")||i==="a"&&!!s.getAttribute("href"))&&this.isVisible(s)}),Bn(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),Bn(this,"handleKeyDown",s=>{const{code:r="Tab"}=this.options;s.code===r&&this.interceptTab(s)}),Bn(this,"interceptTab",s=>{s.preventDefault();const r=this.findValidTabElements(),{shiftKey:i}=s;if(!r.length)return;let a=document.activeElement?r.indexOf(document.activeElement):0;a===-1||!i&&a+1===r.length?a=0:i&&a===0?a=r.length-1:a+=i?-1:1,r[a].focus()}),Bn(this,"isHidden",s=>{const r=s.offsetWidth<=0&&s.offsetHeight<=0,i=window.getComputedStyle(s);return r&&!s.innerHTML?!0:r&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),Bn(this,"isVisible",s=>{let r=s;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),Bn(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),Bn(this,"checkFocus",s=>{document.activeElement!==s&&(s.focus(),window.requestAnimationFrame(()=>this.checkFocus(s)))}),Bn(this,"setFocus",()=>{const{selector:s}=this.options;if(!s)return;const r=this.element.querySelector(s);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=n,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},kDe=class extends d.Component{constructor(e){if(super(e),Bn(this,"beacon",null),Bn(this,"setBeaconRef",i=>{this.beacon=i}),e.beaconComponent)return;const n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.id="joyride-beacon-animation",e.nonce&&s.setAttribute("nonce",e.nonce),s.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),n.appendChild(s)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{qi.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");e?.parentNode&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:n,index:s,isLastStep:r,locale:i,onClickOrHover:a,size:o,step:l,styles:c}=this.props,u=rl(i.open),p={"aria-label":u,onClick:a,onMouseEnter:a,ref:this.setBeaconRef,title:u};let f;if(e){const m=e;f=d.createElement(m,{continuous:n,index:s,isLastStep:r,size:o,step:l,...p})}else f=d.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button",...p},d.createElement("span",{style:c.beaconInner}),d.createElement("span",{style:c.beaconOuter}));return f}};function IDe({styles:e,...n}){const{color:s,height:r,width:i,...a}=e;return et.createElement("button",{style:a,type:"button",...n},et.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},et.createElement("g",null,et.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:s}))))}var TDe=IDe;function ADe(e){const{backProps:n,closeProps:s,index:r,isLastStep:i,primaryProps:a,skipProps:o,step:l,tooltipProps:c}=e,{content:u,hideBackButton:p,hideCloseButton:f,hideFooter:m,showSkipButton:h,styles:x,title:g}=l,v={};return v.primary=d.createElement("button",{"data-test-id":"button-primary",style:x.buttonNext,type:"button",...a}),h&&!i&&(v.skip=d.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:x.buttonSkip,type:"button",...o})),!p&&r>0&&(v.back=d.createElement("button",{"data-test-id":"button-back",style:x.buttonBack,type:"button",...n})),v.close=!f&&d.createElement(TDe,{"data-test-id":"button-close",styles:x.buttonClose,...s}),d.createElement("div",{key:"JoyrideTooltip","aria-label":rl(g??u),className:"react-joyride__tooltip",style:x.tooltip,...c},d.createElement("div",{style:x.tooltipContainer},g&&d.createElement("h1",{"aria-label":rl(g),style:x.tooltipTitle},g),d.createElement("div",{style:x.tooltipContent},u)),!m&&d.createElement("div",{style:x.tooltipFooter},d.createElement("div",{style:x.tooltipFooterSpacer},v.skip),v.back,v.primary),v.close)}var DDe=ADe,MDe=class extends d.Component{constructor(){super(...arguments),Bn(this,"handleClickBack",e=>{e.preventDefault();const{helpers:n}=this.props;n.prev()}),Bn(this,"handleClickClose",e=>{e.preventDefault();const{helpers:n}=this.props;n.close("button_close")}),Bn(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:n,helpers:s}=this.props;if(!n){s.close("button_primary");return}s.next()}),Bn(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:n}=this.props;n.skip()}),Bn(this,"getElementsProps",()=>{const{continuous:e,index:n,isLastStep:s,setTooltipRef:r,size:i,step:a}=this.props,{back:o,close:l,last:c,next:u,nextLabelWithProgress:p,skip:f}=a.locale,m=rl(o),h=rl(l),x=rl(c),g=rl(u),v=rl(f);let b=l,y=h;if(e){if(b=u,y=g,a.showProgress&&!s){const w=rl(p,{step:n+1,steps:i});b=O8(p,n+1,i),y=w}s&&(b=c,y=x)}return{backProps:{"aria-label":m,children:o,"data-action":"back",onClick:this.handleClickBack,role:"button",title:m},closeProps:{"aria-label":h,children:l,"data-action":"close",onClick:this.handleClickClose,role:"button",title:h},primaryProps:{"aria-label":y,children:b,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:y},skipProps:{"aria-label":v,children:f,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:v},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:e,index:n,isLastStep:s,setTooltipRef:r,size:i,step:a}=this.props,{beaconComponent:o,tooltipComponent:l,...c}=a;let u;if(l){const p={...this.getElementsProps(),continuous:e,index:n,isLastStep:s,size:i,step:c,setTooltipRef:r},f=l;u=d.createElement(f,{...p})}else u=d.createElement(DDe,{...this.getElementsProps(),continuous:e,index:n,isLastStep:s,size:i,step:a});return u}},RDe=class extends d.Component{constructor(){super(...arguments),Bn(this,"scope",null),Bn(this,"tooltip",null),Bn(this,"handleClickHoverBeacon",e=>{const{step:n,store:s}=this.props;e.type==="mouseenter"&&n.event!=="hover"||s.update({lifecycle:Ts.TOOLTIP})}),Bn(this,"setTooltipRef",e=>{this.tooltip=e}),Bn(this,"setPopper",(e,n)=>{var s;const{action:r,lifecycle:i,step:a,store:o}=this.props;n==="wrapper"?o.setPopper("beacon",e):o.setPopper("tooltip",e),o.getPopper("beacon")&&(o.getPopper("tooltip")||a.placement==="center")&&i===Ts.INIT&&o.update({action:r,lifecycle:Ts.READY}),(s=a.floaterProps)!=null&&s.getPopper&&a.floaterProps.getPopper(e,n)}),Bn(this,"renderTooltip",e=>{const{continuous:n,helpers:s,index:r,size:i,step:a}=this.props;return d.createElement(MDe,{continuous:n,helpers:s,index:r,isLastStep:r+1===i,setTooltipRef:this.setTooltipRef,size:i,step:a,...e})})}componentDidMount(){const{debug:e,index:n}=this.props;ju({title:`step:${n}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var n;const{action:s,callback:r,continuous:i,controlled:a,debug:o,helpers:l,index:c,lifecycle:u,shouldScroll:p,status:f,step:m,store:h}=this.props,{changed:x,changedFrom:g}=b5(e,this.props),v=l.info(),b=i&&s!==xr.CLOSE&&(c>0||s===xr.PREV),y=x("action")||x("index")||x("lifecycle")||x("status"),w=g("lifecycle",[Ts.TOOLTIP,Ts.INIT],Ts.INIT),_=x("action",[xr.NEXT,xr.PREV,xr.SKIP,xr.CLOSE]),N=a&&c===e.index;if(_&&(w||N)&&r({...v,index:e.index,lifecycle:Ts.COMPLETE,step:e.step,type:Ba.STEP_AFTER}),m.placement==="center"&&f===Us.RUNNING&&x("index")&&s!==xr.START&&u===Ts.INIT&&h.update({lifecycle:Ts.READY}),y){const j=Gl(m.target);!!j&&oDe(j)?(g("status",Us.READY,Us.RUNNING)||g("lifecycle",Ts.INIT,Ts.READY))&&r({...v,step:m,type:Ba.STEP_BEFORE}):(r({...v,type:Ba.TARGET_NOT_FOUND,step:m}),a||h.update({index:c+(s===xr.PREV?-1:1)}))}g("lifecycle",Ts.INIT,Ts.READY)&&h.update({lifecycle:nM(m)||b?Ts.TOOLTIP:Ts.BEACON}),x("index")&&ju({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:o}),x("lifecycle",Ts.BEACON)&&r({...v,step:m,type:Ba.BEACON}),x("lifecycle",Ts.TOOLTIP)&&(r({...v,step:m,type:Ba.TOOLTIP}),p&&this.tooltip&&(this.scope=new SDe(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),g("lifecycle",[Ts.TOOLTIP,Ts.INIT],Ts.INIT)&&((n=this.scope)==null||n.removeScope(),h.cleanupPoppers())}componentWillUnmount(){var e;(e=this.scope)==null||e.removeScope()}get open(){const{lifecycle:e,step:n}=this.props;return nM(n)||e===Ts.TOOLTIP}render(){const{continuous:e,debug:n,index:s,nonce:r,shouldScroll:i,size:a,step:o}=this.props,l=Gl(o.target);return!jG(o)||!qi.domElement(l)?null:d.createElement("div",{key:`JoyrideStep-${s}`,className:"react-joyride__step"},d.createElement(n_,{...o.floaterProps,component:this.renderTooltip,debug:n,getPopper:this.setPopper,id:`react-joyride-step-${s}`,open:this.open,placement:o.placement,target:o.target},d.createElement(kDe,{beaconComponent:o.beaconComponent,continuous:e,index:s,isLastStep:s+1===a,locale:o.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:a,step:o,styles:o.styles})))}},FG=class extends d.Component{constructor(e){super(e),Bn(this,"helpers"),Bn(this,"store"),Bn(this,"callback",o=>{const{callback:l}=this.props;qi.function(l)&&l(o)}),Bn(this,"handleKeyboard",o=>{const{index:l,lifecycle:c}=this.state,{steps:u}=this.props,p=u[l];c===Ts.TOOLTIP&&o.code==="Escape"&&p&&!p.disableCloseOnEsc&&this.store.close("keyboard")}),Bn(this,"handleClickOverlay",()=>{const{index:o}=this.state,{steps:l}=this.props;mp(this.props,l[o]).disableOverlayClose||this.helpers.close("overlay")}),Bn(this,"syncState",o=>{this.setState(o)});const{debug:n,getHelpers:s,run:r=!0,stepIndex:i}=e;this.store=_De({...e,controlled:r&&qi.number(i)}),this.helpers=this.store.getHelpers();const{addListener:a}=this.store;ju({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:n}),a(this.syncState),s&&s(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!Ic())return;const{debug:e,disableCloseOnEsc:n,run:s,steps:r}=this.props,{start:i}=this.store;iM(r,e)&&s&&i(),n||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,n){if(!Ic())return;const{action:s,controlled:r,index:i,status:a}=this.state,{debug:o,run:l,stepIndex:c,steps:u}=this.props,{stepIndex:p,steps:f}=e,{reset:m,setSteps:h,start:x,stop:g,update:v}=this.store,{changed:b}=b5(e,this.props),{changed:y,changedFrom:w}=b5(n,this.state),_=mp(this.props,u[i]),N=!Na(f,u),j=qi.number(c)&&b("stepIndex"),C=Gl(_.target);if(N&&iM(u,o)&&h(u),b("run")&&(l?x(c):g()),j){let E=qi.number(p)&&p<c?xr.NEXT:xr.PREV;s===xr.STOP&&(E=xr.START),[Us.FINISHED,Us.SKIPPED].includes(a)||v({action:s===xr.CLOSE?xr.CLOSE:E,index:c,lifecycle:Ts.INIT})}!r&&a===Us.RUNNING&&i===0&&!C&&(this.store.update({index:i+1}),this.callback({...this.state,type:Ba.TARGET_NOT_FOUND,step:_}));const S={...this.state,index:i,step:_};if(y("action",[xr.NEXT,xr.PREV,xr.SKIP,xr.CLOSE])&&y("status",Us.PAUSED)){const E=mp(this.props,u[n.index]);this.callback({...S,index:n.index,lifecycle:Ts.COMPLETE,step:E,type:Ba.STEP_AFTER})}if(y("status",[Us.FINISHED,Us.SKIPPED])){const E=mp(this.props,u[n.index]);r||this.callback({...S,index:n.index,lifecycle:Ts.COMPLETE,step:E,type:Ba.STEP_AFTER}),this.callback({...S,type:Ba.TOUR_END,step:E,index:n.index}),m()}else w("status",[Us.IDLE,Us.READY],Us.RUNNING)?this.callback({...S,type:Ba.TOUR_START}):(y("status")||y("action",xr.RESET))&&this.callback({...S,type:Ba.TOUR_STATUS});this.scrollToStep(n)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:n,lifecycle:s,status:r}=this.state,{debug:i,disableScrollParentFix:a=!1,scrollDuration:o,scrollOffset:l=20,scrollToFirstStep:c=!1,steps:u}=this.props,p=mp(this.props,u[n]),f=Gl(p.target),m=hDe({isFirstStep:n===0,lifecycle:s,previousLifecycle:e.lifecycle,scrollToFirstStep:c,step:p,target:f});if(r===Us.RUNNING&&m){const h=R3(f,a),x=Gh(f,a);let g=Math.floor(cDe(f,l,a))||0;ju({title:"scrollToStep",data:[{key:"index",value:n},{key:"lifecycle",value:s},{key:"status",value:r}],debug:i});const v=this.store.getPopper("beacon"),b=this.store.getPopper("tooltip");if(s===Ts.BEACON&&v){const{offsets:y,placement:w}=v;!["bottom"].includes(w)&&!h&&(g=Math.floor(y.popper.top-l))}else if(s===Ts.TOOLTIP&&b){const{flipped:y,offsets:w,placement:_}=b;["top","right","left"].includes(_)&&!y&&!h?g=Math.floor(w.popper.top-l):g-=p.spotlightPadding}g=g>=0?g:0,r===Us.RUNNING&&dDe(g,{element:x,duration:o}).then(()=>{setTimeout(()=>{var y;(y=this.store.getPopper("tooltip"))==null||y.instance.update()},10)})}}render(){if(!Ic())return null;const{index:e,lifecycle:n,status:s}=this.state,{continuous:r=!1,debug:i=!1,nonce:a,scrollToFirstStep:o=!1,steps:l}=this.props,c=s===Us.RUNNING,u={};if(c&&l[e]){const p=mp(this.props,l[e]);u.step=d.createElement(RDe,{...this.state,callback:this.callback,continuous:r,debug:i,helpers:this.helpers,nonce:a,shouldScroll:!p.disableScrolling&&(e!==0||o),step:p,store:this.store}),u.overlay=d.createElement(EDe,{id:"react-joyride-portal"},d.createElement(FDe,{...p,continuous:r,debug:i,lifecycle:n,onClickOverlay:this.handleClickOverlay}))}return d.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};Bn(FG,"defaultProps",bDe);var LDe=FG;function PDe({continuous:e,index:n,step:s,backProps:r,primaryProps:i,skipProps:a,tooltipProps:o,size:l}){const{t:c}=en("teams");return t.jsxs("div",{...o,style:{backgroundColor:"#ffffff",borderRadius:12,padding:0,boxShadow:"0 4px 24px rgba(0, 0, 0, 0.2)",maxWidth:320,minWidth:280,height:n===0?150:140,display:"flex",flexDirection:"column"},children:[t.jsxs("div",{style:{padding:"12px 12px 8px 12px"},children:[s.title&&t.jsx("h4",{className:"text-[#0F0F10] font-['Inter'] text-[15px] font-semibold leading-[20px] m-0 mb-[4px]",children:s.title}),t.jsx("p",{className:"text-[#0F0F10] font-['Inter'] text-[13px] font-medium leading-[18px] opacity-60 m-0",children:s.content})]}),t.jsxs("div",{style:{padding:"4px 12px 12px 12px",marginTop:"auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{display:"flex",gap:6,alignItems:"center"},children:Array.from({length:l},(u,p)=>t.jsx("div",{style:{width:p===n?20:8,height:8,borderRadius:4,backgroundColor:p===n?"#0F0F0F":"#E0E0E0",transition:"all 0.2s ease"}},p))}),t.jsxs("div",{className:"flex gap-2 items-center",children:[n<l-1&&t.jsx("button",{...a,className:"flex py-[2px] px-[8px] justify-center items-center gap-[10px] rounded-[5px] bg-[#0B0B0B]/10 text-black font-['Inter'] text-[12px] font-medium leading-[20px] border-none cursor-pointer",children:c("guidedTour.skip","Skip")}),t.jsx("button",{...i,className:"flex py-[2px] px-[8px] justify-center items-center gap-[10px] rounded-[5px] bg-[#0B0B0B] text-white font-['Inter'] text-[12px] font-medium leading-[20px] border-none cursor-pointer",children:n===l-1?c("guidedTour.gotIt","Okay, got it"):c("guidedTour.next","Next")})]})]})]})}const ODe={options:{arrowColor:"#ffffff",backgroundColor:"#ffffff",overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#0F0F0F",textColor:"#0F0F0F",spotlightShadow:"0 0 0 2px rgba(255, 255, 255, 0.3), 0 0 20px rgba(255, 255, 255, 0.15)",zIndex:1e4,width:320},tooltip:{borderRadius:12,padding:0,boxShadow:"0 4px 24px rgba(0, 0, 0, 0.2)"},tooltipContainer:{textAlign:"left"},tooltipTitle:{fontSize:16,fontWeight:600,color:"#0F0F0F",marginBottom:4,padding:"16px 16px 0 16px"},tooltipContent:{fontSize:14,color:"#666666",lineHeight:1.5,padding:"4px 16px 12px 16px"},tooltipFooter:{borderTop:"none",padding:"8px 16px 16px 16px",marginTop:0,display:"flex",justifyContent:"space-between",alignItems:"center"},buttonNext:{backgroundColor:"#0F0F0F",borderRadius:8,color:"#ffffff",fontSize:14,fontWeight:500,padding:"8px 16px",outline:"none",border:"none",cursor:"pointer"},buttonBack:{color:"#666666",fontSize:14,fontWeight:500,marginRight:8,background:"transparent",border:"none",cursor:"pointer"},buttonSkip:{color:"#666666",fontSize:14,fontWeight:500,background:"transparent",border:"none",padding:"8px 12px",cursor:"pointer"},buttonClose:{display:"none"},spotlight:{borderRadius:12,boxShadow:"none"},beacon:{display:"none"}};function BDe({run:e,onFinish:n}){const{t:s}=en("teams"),{isMobile:r}=ts(),[i,a]=d.useState(!1),[o,l]=d.useState(0),c=Bp(),u=[{target:'[data-tour="workspace-switcher"]',title:s("guidedTour.switchProject.title","Switch your project"),content:s("guidedTour.switchProject.description","Use this menu to jump between your different projects or create a new one."),disableBeacon:!0,placement:"right",placementBeacon:"right",spotlightPadding:6,offset:16,styles:{spotlight:{borderRadius:24}}},{target:'[data-tour="add-member-button"]',title:s("guidedTour.inviteTeam.title","Invite Your Team"),content:s("guidedTour.inviteTeam.description","Click here to invite team members and start collaborating on this project."),disableBeacon:!0,placement:"bottom",spotlightPadding:0,offset:8,styles:{spotlight:{borderRadius:100}}}],p=(h,x=1e4)=>new Promise(g=>{const v=document.querySelector(h);if(v){g(v);return}const b=new MutationObserver(()=>{const y=document.querySelector(h);y&&(b.disconnect(),g(y))});b.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{b.disconnect(),g(document.querySelector(h))},x)});d.useEffect(()=>{if(i)return window.dispatchEvent(new CustomEvent("tour-started")),()=>{window.dispatchEvent(new CustomEvent("tour-ended")),setTimeout(()=>{window.dispatchEvent(new CustomEvent("close-workspace-switcher"))},100)}},[i]),d.useEffect(()=>{if(i&&o===0){window.dispatchEvent(new CustomEvent("open-workspace-switcher"));const h=setInterval(()=>{o===0&&window.dispatchEvent(new CustomEvent("open-workspace-switcher"))},300);return()=>{clearInterval(h)}}},[i,o]),d.useEffect(()=>{const h=KQ(),x=Bp(),g=fg(),v=k1();if(!h||x)return;if(!(g||v)){vN();return}vN(),(async()=>{await new Promise(_=>setTimeout(_,2e3)),await p('[data-tour="workspace-switcher"]',5e3)&&(window.dispatchEvent(new CustomEvent("open-workspace-switcher")),await new Promise(_=>setTimeout(_,400)),a(!0))})()},[]),d.useEffect(()=>{e!==void 0&&(e&&!Bp()?(window.dispatchEvent(new CustomEvent("open-workspace-switcher")),setTimeout(()=>a(!0),300)):a(e))},[e]);const f=d.useCallback(h=>{const{status:x,type:g,index:v,action:b}=h;if(g===Ba.TARGET_NOT_FOUND){v===1&&($4(),window.dispatchEvent(new CustomEvent("close-workspace-switcher")),a(!1),l(0),n?.());return}if(g===Ba.STEP_AFTER){if(H(qn.TOUR_EVENTS?.TOUR_STEP_COMPLETED,{tourId:"project-onboarding",stepIndex:v,stepId:u[v]?.target}),v===0&&b===xr.NEXT){window.dispatchEvent(new CustomEvent("close-workspace-switcher")),setTimeout(()=>{document.querySelector('[data-tour="add-member-button"]')?l(1):($4(),a(!1),l(0),n?.())},300);return}l(v+1)}if(x===Us.FINISHED||x===Us.SKIPPED){const y=x===Us.SKIPPED;H(y?qn.TOUR_EVENTS?.TOUR_SKIPPED:qn.TOUR_EVENTS?.TOUR_COMPLETED,{tourId:"project-onboarding",totalSteps:u.length,...y&&{skippedAtStep:v}}),$4(),a(!1),l(0),setTimeout(()=>{window.dispatchEvent(new CustomEvent("close-workspace-switcher"))},150),n?.()}g===Ba.TOUR_START&&H(qn.TOUR_EVENTS?.TOUR_STARTED,{tourId:"project-onboarding",totalSteps:u.length})},[u,n]);return r||!(!c||e||i)?null:t.jsx(LDe,{steps:u,run:i,stepIndex:o,continuous:!0,showSkipButton:!0,disableOverlayClose:!0,disableCloseOnEsc:!1,spotlightClicks:!1,disableScrolling:!0,callback:f,styles:ODe,tooltipComponent:PDe,floaterProps:{disableAnimation:!1,hideArrow:!1,offset:12,placement:"right",styles:{floater:{filter:"drop-shadow(0 4px 20px rgba(0, 0, 0, 0.15))"},arrow:{length:14,spread:18}}}})}function B8(e){"@babel/helpers - typeof";return B8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},B8(e)}function EG(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":B8(XMLHttpRequest))==="object"}function UDe(e){return!!e&&typeof e.then=="function"}function HDe(e){return UDe(e)?e:Promise.resolve(e)}function oM(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function lM(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?oM(Object(s),!0).forEach(function(r){VDe(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oM(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function VDe(e,n,s){return(n=$De(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function $De(e){var n=zDe(e,"string");return Nu(n)=="symbol"?n:n+""}function zDe(e,n){if(Nu(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,n);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nu(e)}var sd=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?sd=global.fetch:typeof window<"u"&&window.fetch&&(sd=window.fetch);var qh;EG()&&(typeof global<"u"&&global.XMLHttpRequest?qh=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(qh=window.XMLHttpRequest));var C5;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?C5=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(C5=window.ActiveXObject));typeof sd!="function"&&(sd=void 0);if(!sd&&!qh&&!C5)try{vn(()=>import("./chunks/chunk-CHHHtuWd.js").then(e=>e.b),__vite__mapDeps([76,3])).then(function(e){sd=e.default}).catch(function(){})}catch{}var U8=function(n,s){if(s&&Nu(s)==="object"){var r="";for(var i in s)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(s[i]);if(!r)return n;n=n+(n.indexOf("?")!==-1?"&":"?")+r.slice(1)}return n},cM=function(n,s,r,i){var a=function(c){if(!c.ok)return r(c.statusText||"Error",{status:c.status});c.text().then(function(u){r(null,{status:c.status,data:u})}).catch(r)};if(i){var o=i(n,s);if(o instanceof Promise){o.then(a).catch(r);return}}typeof fetch=="function"?fetch(n,s).then(a).catch(r):sd(n,s).then(a).catch(r)},dM=!1,WDe=function(n,s,r,i){n.queryStringParams&&(s=U8(s,n.queryStringParams));var a=lM({},typeof n.customHeaders=="function"?n.customHeaders():n.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(a["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(a["Content-Type"]="application/json");var o=typeof n.requestOptions=="function"?n.requestOptions(r):n.requestOptions,l=lM({method:r?"POST":"GET",body:r?n.stringify(r):void 0,headers:a},dM?{}:o),c=typeof n.alternateFetch=="function"&&n.alternateFetch.length>=1?n.alternateFetch:void 0;try{cM(s,l,i,c)}catch(u){if(!o||Object.keys(o).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(o).forEach(function(p){delete l[p]}),cM(s,l,i,c),dM=!0}catch(p){i(p)}}},GDe=function(n,s,r,i){r&&Nu(r)==="object"&&(r=U8("",r).slice(1)),n.queryStringParams&&(s=U8(s,n.queryStringParams));try{var a=qh?new qh:new C5("MSXML2.XMLHTTP.3.0");a.open(r?"POST":"GET",s,1),n.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!n.withCredentials,r&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var o=n.customHeaders;if(o=typeof o=="function"?o():o,o)for(var l in o)a.setRequestHeader(l,o[l]);a.onreadystatechange=function(){a.readyState>3&&i(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(r)}catch{}},qDe=function(n,s,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},sd&&s.indexOf("file:")!==0)return WDe(n,s,r,i);if(EG()||typeof ActiveXObject=="function")return GDe(n,s,r,i);i(new Error("No fetch and no xhr implementation found!"))};function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jf(e)}function uM(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function Gy(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?uM(Object(s),!0).forEach(function(r){SG(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uM(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function KDe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function YDe(e,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kG(r.key),r)}}function ZDe(e,n,s){return n&&YDe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SG(e,n,s){return(n=kG(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function kG(e){var n=JDe(e,"string");return jf(n)=="symbol"?n:n+""}function JDe(e,n){if(jf(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,n);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XDe=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(s){return JSON.parse(s)},stringify:JSON.stringify,parsePayload:function(s,r,i){return SG({},r,i||"")},parseLoadPayload:function(s,r){},request:qDe,reloadInterval:typeof window<"u"?!1:3600*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},IG=(function(){function e(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};KDe(this,e),this.services=n,this.options=s,this.allOptions=r,this.type="backend",this.init(n,s,r)}return ZDe(e,[{key:"init",value:function(s){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=s,this.options=Gy(Gy(Gy({},XDe()),this.options||{}),i),this.allOptions=a,this.services&&this.options.reloadInterval){var o=setInterval(function(){return r.reload()},this.options.reloadInterval);jf(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(s,r,i){this._readAny(s,s,r,r,i)}},{key:"read",value:function(s,r,i){this._readAny([s],s,[r],r,i)}},{key:"_readAny",value:function(s,r,i,a,o){var l=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(s,i)),c=HDe(c),c.then(function(u){if(!u)return o(null,{});var p=l.services.interpolator.interpolate(u,{lng:s.join("+"),ns:i.join("+")});l.loadUrl(p,o,r,a)})}},{key:"loadUrl",value:function(s,r,i,a){var o=this,l=typeof i=="string"?[i]:i,c=typeof a=="string"?[a]:a,u=this.options.parseLoadPayload(l,c);this.options.request(this.options,s,u,function(p,f){if(f&&(f.status>=500&&f.status<600||!f.status))return r("failed loading "+s+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return r("failed loading "+s+"; status code: "+f.status,!1);if(!f&&p&&p.message){var m=p.message.toLowerCase(),h=["failed","fetch","network","load"].find(function(v){return m.indexOf(v)>-1});if(h)return r("failed loading "+s+": "+p.message,!0)}if(p)return r(p,!1);var x,g;try{typeof f.data=="string"?x=o.options.parse(f.data,i,a):x=f.data}catch{g="failed parsing "+s+" to json"}if(g)return r(g,!1);r(null,x)})}},{key:"create",value:function(s,r,i,a,o){var l=this;if(this.options.addPath){typeof s=="string"&&(s=[s]);var c=this.options.parsePayload(r,i,a),u=0,p=[],f=[];s.forEach(function(m){var h=l.options.addPath;typeof l.options.addPath=="function"&&(h=l.options.addPath(m,r));var x=l.services.interpolator.interpolate(h,{lng:m,ns:r});l.options.request(l.options,x,c,function(g,v){u+=1,p.push(g),f.push(v),u===s.length&&typeof o=="function"&&o(p,f)})})}}},{key:"reload",value:function(){var s=this,r=this.services,i=r.backendConnector,a=r.languageUtils,o=r.logger,l=i.language;if(!(l&&l.toLowerCase()==="cimode")){var c=[],u=function(f){var m=a.toResolveHierarchy(f);m.forEach(function(h){c.indexOf(h)<0&&c.push(h)})};u(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(p){return u(p)}),c.forEach(function(p){s.allOptions.ns.forEach(function(f){i.read(p,f,"read",null,null,function(m,h){m&&o.warn("loading namespace ".concat(f," for language ").concat(p," failed"),m),!m&&h&&o.log("loaded namespace ".concat(f," for language ").concat(p),h),i.loaded("".concat(p,"|").concat(f),m,h)})})})}}}])})();IG.type="backend";const QDe={home:"Home",tagline:`Build production-ready apps through conversation.
Chat with AI agents that design, code, and deploy your application from start to finish.`,product:"Product",build:"Build",integrations:"Integrations",company:"Company",legal:"Legal",features:"Features",pricing:"Pricing",faqs:"FAQs",affiliates:"Affiliates",enterprise:"Enterprise",careers:"Careers",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",ipAddresses:"IP Addresses",copyright:"Copyright",companyName:"EMERGENTLABS 2025",designedBy:"DESIGNED AND BUILT BY",awesomePeople:"THE AWESOME PEOPLE OF EMERGENT",solutions:"Solutions",smbOwners:"SMB Owners",itAgencies:"IT Agencies",productManagers:"Product Managers",operationsTeam:"Operations Team",resources:"Resources",docs:"Docs",tutorials:"Tutorials",learn:"Learn",caseStudies:"Case Studies",blog:"Blog",helpCenter:"Help Center",pricingTooltipAuth:"Go to home to view pricing",pricingTooltipUnauth:"Log in to explore plans"},eMe={credits:"Credits",upgrade:"Upgrade",accountSettings:"Account Settings",language:"Language",helpCenter:"Help Center",joinDiscord:"Join Discord",logout:"Logout"},tMe={title:"Language",search:"Search",noLanguagesFound:"No languages found"},nMe={startBuilding:"Start building with",emergentToday:"Emergent Today",getStarted:"Get Started",keepBuilding:"Keep Building"},sMe={closeModal:"Close Modal",logIn:"Log in",signUp:"Sign up",openInNewTab:"Open in new tab",refresh:"Refresh",error:"Error",goBack:"Go back",externalLink:"External link"},rMe={tryMobileApp:"Try Emergent mobile app",previewDescription:"Preview on your device and keep working without interruptions.",openInMobileApp:"Open in mobile app",continueWithWeb:"Continue with web",getTheApp:"Get the Emergent App",openingApp:"Opening Emergent...",pleaseWait:"Please wait while we try to open the app.",downloadAppStore:"Download on App Store",downloadPlayStore:"Get it on Google Play",learnMoreAt:"Learn more at"},iMe={title:"Notifications",tabs:{alerts:"Alerts",inbox:"Inbox",offers:"Offers",updates:"Updates"},empty:{noAlerts:"No alerts",noOffers:"No offers available",noUpdates:"No updates available",inboxTitle:"You are up to date",inboxDescription:"Messages and important alerts will appear here",offersTitle:"Offers coming soon",offersDescription:"New offers are added here from time to time"},lowCredits:{singleAppShutdown:"Your {{appName}} app might shutdown",allAppsShutdown:"All {{count}} of your deployed apps might shutdown",someAppsShutdown:"{{atRisk}} of your {{total}} deployed apps might shutdown",creditsRemaining:"You have {{credits}} credits remaining. Add more credits to keep your apps running.",creditsOverdrawn:"Your account is {{credits}} credits overdrawn. Add credits immediately to keep your apps running.",addCredits:"Add credits"},workspaceInvite:{invitedByUser:"{{inviterName}} invited you to {{organizationName}}'s workspace",invitedGeneric:"You're invited to {{organizationName}}'s workspace",expired:"Expired",expiresInOneDay:"Invitation Expires in 1 day",expiresInDays:"Invitation Expires in {{days}} days",accept:"Accept",decline:"Decline"},offers:{copyCode:"Copy Code",copied:"Copied!",redeemNow:"Redeem now"},toast:{invitationAccepted:"Invitation accepted",invitationAcceptedDesc:"You have successfully joined {{organizationName}}",invitationDeclined:"Invitation declined",invitationDeclinedDesc:"You have declined the invitation to {{organizationName}}",error:"Error",failedToAccept:"Failed to accept invitation",failedToDecline:"Failed to decline invitation"}},aMe={footer:QDe,menu:eMe,languageBottomSheet:tMe,downloadSection:nMe,common:sMe,mobileApp:rMe,notifications:iMe},oMe=JSON.parse(`{"title":"Terms of Service","lastUpdated":"Last updated: {{date}}","returnToHome":"Return to Home","content":"## 1. Introduction\\n### 1.1 Agreement Overview\\nThese Terms of Service (\\"Terms\\") constitute a legal agreement between you and Emergent Labs Inc. (\\"we,\\" \\"our,\\" or \\"us\\"). Your use of emergent.sh (the \\"site\\") and related services (collectively, the \\"Services\\") is subject to these Terms. By downloading, installing, accessing, or using our Services, you:\\nAcknowledge that you have read and understood these Terms\\nAgree to be bound by these Terms\\nAgree to our Privacy Policy (available at emergent.sh/privacy)\\nCommit to comply with all applicable laws and regulations If you do not agree with these Terms, you must not download, install, access, or use our Services.\\n### 1.2 Definitions\\n\\"Site\\" refers to our website and associated tools for developing software.\\n\\"Content\\" means code, projects, data, files, and other materials that you create, modify, or access through our Services.\\n\\"User\\" means any individual who downloads, installs, accesses, or uses our Services.\\n\\"Authorized User\\" means a User who is authorized by you to access and use the Services under your account.\\n\\"Input\\" means the prompts, commands, and instructions you provide to the Services.\\n\\"Output\\" means the code, responses, and other content generated by the Services based on your Input.\\n## 2. License to Use Our Services\\n### 2.1 Rights Granted\\nSubject to your compliance with these Terms, Emergent grants you a limited, personal, non-exclusive, non-transferable license to download, install, and use our Services for their intended purpose. Depending on your subscription plan:\\nFree Plan: Limited to personal, non-commercial use\\nPaid Plans: May be used for commercial purposes according to the terms of your subscription\\n### 2.2 Restrictions\\nYou may not, and you may not permit others to:\\nDistribute, sell, rent, lease, or sublicense our Services\\nRemove or alter any proprietary notices or labels on our Services\\nUse our Services in a way that could harm, disable, overburden, or impair our systems\\nUse automated scripts to collect information from or interact with our Services\\nUse our Services for any illegal purpose or in violation of any applicable laws\\n### 2.3 Reservation of Rights\\nAll rights not expressly granted to you in these Terms are reserved by Emergent. You acknowledge that you do not acquire any ownership rights in the Services by downloading, installing, or using them.\\n## 3. User Accounts and Content\\n### 3.1 Account Creation and Management\\nYou may be required to create an account to use certain features of our Services\\nYou must provide accurate, current, and complete information when creating your account\\nYou are responsible for maintaining the confidentiality of your account credentials\\nYou are responsible for all activities that occur under your account\\nYou must notify us immediately of any unauthorized use of your account\\n### 3.2 Minimum Age\\nYou must be an adult to use the Service. If you are younger than 13 we will allow you to use the Service if you first provide us with your parent or guardians written consent. If you are a parent or legal guardian of a user under the age of 18, by allowing your child to use the Service, you are subject to these Terms and responsible for your childs activity on the Service.\\n### 3.3 Account Deletion Process\\nYou may request deletion of your account by contacting support@emergent.sh. Upon account deletion:\\nYour user profile will be removed\\nYour access to the Services will be terminated\\nContent stored on our servers will be deleted within 90 days\\nWe may retain certain information as required by law or for legitimate business purposes\\nWe will handle any remaining content according to our Privacy Policy\\n### 3.4 User Content\\nBy using our Services, you may create, modify, or upload Content. You retain all ownership rights to your Content, subject to the licenses granted herein.\\n### 3.5 Licenses to User Content\\nYou grant Emergent a non-exclusive, worldwide, royalty-free license to access, use, process, copy, distribute, perform, export, and display your Content, only as reasonably necessary:\\nTo provide and maintain the Services\\nTo address service or technical issues\\nTo comply with legal obligations\\nAs otherwise permitted by these Terms This license does not grant us the right to sell your Content or otherwise distribute it outside our Services.\\n### 3.6 Content Backups\\nYou are responsible for backing up your Content. While we implement reasonable measures to protect your Content, we do not guarantee that your Content will not be lost or corrupted.\\n## 4. Services and Pricing\\n### 4.1 Plans and Limits\\nWe offer various subscription plans that provide different features, usage limits, and capabilities. Current plan details and pricing are available at emergent.sh/pricing. Each plan has specific usage limitations, including but not limited to:\\nNumber of projects\\nCompute resources\\nStorage capacity\\nDatabase connections\\nIntegration capabilities We reserve the right to modify our plans and pricing at any time.\\n### 4.2 Subscription and Payment Terms\\nOur service is subscription-based with recurring billing (monthly or annual)\\nSubscriptions automatically renew unless canceled before the renewal date\\nPayments are non-refundable unless otherwise specified\\nYou authorize us to charge your payment method for all fees due\\nWe may suspend or terminate your access if payment fails\\n### 4.3 Support Services\\nTechnical support availability depends on your subscription plan:\\nFree Plan: Limited community support\\nPaid Plans: Priority email support\\nEnterprise Plans: Dedicated support and service level agreements Support is limited to platform-related issues and does not include application debugging or development consulting.\\nOur team would reach back within 24 hours time.\\n### 4.4 Detailed Service Delivery Information\\nAccess to our platform is granted immediately upon successful payment processing\\nYou will receive login credentials via email\\nIf you experience any issues with access, contact support@emergent.sh\\nWe strive to maintain continuous availability of our Services, but we do not guarantee uninterrupted access. Scheduled maintenance, updates, or unforeseen technical issues may result in temporary service interruptions. We will make reasonable efforts to notify users of planned maintenance when possible.\\n### 4.5 Refund Policies\\nAll payments are non-refundable unless otherwise determined by us\\nIn cases where refunds are approved, they will be processed to the original payment method\\nRefunds may be considered in cases of:\\nBilling errors\\nDuplicate charges\\nOther circumstances at our sole discretion.\\nFor cases considered, the TAT would be 14 days.\\n### 4.6 Cancellation Policy\\nYou can cancel your subscription at any time by:\\nClicking on the Credits button\\nClicking Manage your Subscriptions button\\nClicking on Edit billing\\nClicking on Cancel Subscription button Cancellation Terms:\\nYour subscription remains active until the end of the current billing period\\nYou will continue to have full access until the end of your paid period\\nYour subscription will not automatically renew after cancellation\\nAny unused credits expire at the end of the subscription\\nNo partial refunds are provided for unused portions of the billing period\\n## 5. Acceptable Use\\n### 5.1 Prohibited Conduct\\nWhile using our Services, you agree not to:\\nViolate any applicable laws or regulations\\nInfringe the intellectual property rights of others\\nTransmit harmful code or attempt to compromise our systems\\nInterfere with other users' use of the Services\\nConduct unauthorized penetration testing or security assessments\\nCircumvent or attempt to defeat usage limits or monitoring\\nMisuse computational resources or APIs\\nAttempt to gain unauthorized access to any part of our Services\\n### 5.2 Content Restrictions\\nYou agree not to use our Services to create, upload, or process Content that:\\nIs unlawful, harmful, threatening, abusive, or harassing\\nIs defamatory, vulgar, obscene, or otherwise objectionable\\nContains malware, viruses, or malicious code\\nInfringes any patent, trademark, copyright, or other proprietary rights\\nContains unsolicited or unauthorized advertising\\nPromotes illegal activities\\nViolates third-party terms of service\\n### 5.3 Resource Usage\\nWe may establish quotas and limits on your usage of our Services, including computational resources, storage, and API calls. You agree to comply with these limits, which may vary based on your subscription plan. Excessive or abusive usage that negatively impacts our Services or other users may result in throttling, suspension, or termination of your access.\\n### 5.4 Export Controls and Sanctions Compliance\\nEmergent's Services may never be used to develop anything subjected to sanctions or other export restrictions, or in any way that is not compliant with the laws of the jurisdiction that Emergent or the user operates in. The Services may also never be used in regions, or by anyone subject to sanctions or export restrictions.\\nUsers are responsible for ensuring their use of our Services complies with all applicable export control laws and regulations, including those of the United States and other jurisdictions. By using our Services, you represent and warrant that you are not located in any country or territory subject to U.S. or other applicable trade sanctions or embargoes, and that you are not on any denied persons list or similar restricted party list.\\n## 6. Data Usage, Training, and Learning\\n### 6.1 Service Improvement and Training\\nWe collect and analyze usage data to improve our Services. This includes:\\nPerformance metrics and error patterns\\nFeature usage statistics and patterns\\nUser interface interactions\\nCommand execution patterns We may use this data to enhance our AI systems, improve code generation accuracy, and optimize platform performance.\\n### 6.2 AI Features and Training\\nOur Services include AI-powered features that analyze your code and generate suggestions. By default:\\nWe do not use your proprietary code to train our general AI models without consent\\nWe process your code and commands within our secure environment\\nYou can control AI assistance features through application settings\\nEnterprise plan users may have additional controls and restrictions regarding AI training.\\n### 6.3 Training Data Biases\\nEmergent acknowledges that AI systems may exhibit biases inherent in their training data. While we strive to minimize such biases, we cannot guarantee that our Services are entirely free from them. Emergent specifically disclaims liability for:\\nTraining data biases affecting code generation\\nUnintended bias in generated content\\nAI outputs that reflect historical, social, or cultural biases\\nUnintended consequences of using AI-generated code that may contain inherent biases\\nUsers should review and test all generated code to ensure it meets their requirements and values.\\n### 6.4 Enterprise Considerations\\nFor Enterprise users, we provide enhanced data protection:\\nWe explicitly waive our right to use their data for training purposes\\nCustom data handling agreements are available\\nNo sharing with third parties occurs without explicit consent\\nData residency options may be available upon request\\nEnhanced security measures are implemented\\nDedicated support for data protection concerns is provided\\nEnterprise customers seeking additional information about these protections should contact support@emergent.sh.\\n### 6.5 Data Retention and Management\\nFor Enterprise users, we provide enhanced data protection:\\nOptions to opt out of certain data collection\\nCustom data handling agreements available\\nStrict controls on third-party data sharing\\nData residency options where available\\n## 7. Intellectual Property Rights\\n### 7.1 Emergent Ownership\\nEmergent owns and retains all rights, title, and interest in and to: Brand Elements:\\nThe \\"Emergent\\" name and brand\\nEmergent logos, designs, and visual elements\\nThe \\"emergent.sh\\" domain and related domains Platform Elements:\\nApplication architecture and design\\nAll platform features and functionalities\\nOur proprietary algorithms and systems\\nUser interface and experience design\\nDocumentation and supporting materials These elements are protected by copyright, trademark, trade dress, patent laws, and other intellectual property rights.\\n### 7.2 User Rights\\nTo be explicitly clear, while Emergent owns all rights to the platform and brand elements described above, this ownership is entirely separate from and does not extend to:\\nCode generated using our Services\\nApplications built with our tools\\nCustom configurations and implementations\\nModified or derivative works created from generated code\\nYour own code commits and changes You retain all ownership rights to code created using our Services, subject to any third-party open source licenses that may apply to components used.\\n### 7.3 Usage Rights\\nYou may freely:\\nUse generated code commercially\\nModify and adapt generated code\\nDistribute generated code in any form\\nSell applications built using our platform\\nOpen source your implementations Emergent places no restrictions on your use of generated code and makes no claim to ownership of applications you develop.\\n## 8. Security and Privacy\\n### 8.1 Data Security\\nWe implement reasonable security measures to protect your Content and account information. These measures include:\\nEncryption of sensitive data\\nSecure development practices\\nAccess controls and authentication\\nRegular security assessments However, no method of transmission or storage is 100% secure. You acknowledge and accept this risk when using our Services.\\n### 8.2 Personal Data\\nOur collection, use, and protection of personal data is governed by our Privacy Policy, available at emergent.sh/privacy. By using our Services, you consent to the data practices described in our Privacy Policy. If you use our Services to process personal data of others, you must:\\nObtain necessary consents for processing such data\\nProcess such data in accordance with applicable data protection laws\\nNot use our Services to process sensitive personal data without appropriate safeguards\\n### 8.3 Data Processing Agreement\\nIf you are subject to data protection regulations such as GDPR and process personal data through our Services, you may request our Data Processing Agreement by contacting support@emergent.sh.\\n## 9. Term and Termination\\n### 9.1 Term\\nThese Terms will commence when you download, install, or first use our Services and will continue until terminated as described below.\\n### 9.2 Termination by You\\nYou may terminate these Terms at any time by:\\nCanceling your subscription\\nDeleting your account (by contacting support@emergent.sh)\\n### 9.3 Termination by Emergent\\nWe may suspend or terminate your access to the Services at any time if:\\nYou violate these Terms\\nYou fail to pay any fees when due\\nWe are required to do so by law\\nWe decide to discontinue the Services We will make reasonable efforts to notify you of any suspension or termination.\\n### 9.4 Effect of Termination\\nUpon termination:\\nYour license to use our Services will end\\nYou must cease all use of our Services\\nYou will lose access to your account and Content stored on our servers\\nEmergent will delete your Content within 90 days after termination (unless legally required to retain it)\\nYou will not receive a refund for any prepaid fees\\n### 9.5 Survival\\nThe following sections will survive termination: Intellectual Property Rights, Disclaimer of Warranties, Limitation of Liability, Indemnification, and any other provisions that by their nature should survive termination.\\n## 10. Disclaimer of Warranties\\nYOUR USE OF THE SERVICES IS ENTIRELY AT YOUR OWN RISK. THE SERVICES ARE PROVIDED \\"AS IS\\" AND \\"AS AVAILABLE\\" WITHOUT ANY GUARANTEES OR WARRANTIES OF ANY KIND. TO THE FULLEST EXTENT PERMITTED BY LAW, EMERGENT AND OUR SUPPLIERS AND LICENSORS EXPLICITLY DISCLAIM ALL WARRANTIES, WHETHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.\\nWE MAKE NO GUARANTEES REGARDING THE ACCURACY, RELIABILITY, OR USEFULNESS OF THE SERVICES OR ANY CONTENT GENERATED THROUGH THE SERVICES, AND YOUR USE OF THESE IS ENTIRELY AT YOUR OWN RISK.\\nSPECIFICALLY, WE DO NOT WARRANT THAT:\\nTHE SERVICES WILL MEET YOUR REQUIREMENTS\\nTHE SERVICES WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE\\nTHE RESULTS FROM THE USE OF THE SERVICES WILL BE ACCURATE OR RELIABLE\\nTHE QUALITY OF THE SERVICES WILL MEET YOUR EXPECTATIONS\\nANY ERRORS IN THE SERVICES WILL BE CORRECTED\\nEMERGENT SPECIFICALLY DISCLAIMS ALL LIABILITY FOR:\\nAI-GENERATED CODE THAT CONTAINS BUGS, ERRORS, OR SECURITY VULNERABILITIES\\nCODE THAT FAILS TO MEET YOUR SPECIFIC REQUIREMENTS OR EXPECTATIONS\\nGENERATED CODE THAT BECOMES OBSOLETE OR INCOMPATIBLE WITH OTHER SYSTEMS\\nANY ISSUES RESULTING FROM INTEGRATION WITH OTHER SOFTWARE OR SERVICES\\nANY FORM OF DATA LOSS OR CORRUPTION\\nSOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF IMPLIED WARRANTIES, SO SOME OR ALL OF THE ABOVE EXCLUSIONS MAY NOT APPLY TO YOU.\\n## 11. Limitation of Liability\\nTO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, EMERGENT, ITS AFFILIATES, OFFICERS, EMPLOYEES, AGENTS, SUPPLIERS AND LICENSORS WILL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR EXEMPLARY DAMAGES, INCLUDING BUT NOT LIMITED TO DAMAGES FOR LOSS OF PROFITS, GOODWILL, USE, DATA, OR OTHER INTANGIBLE LOSSES (EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES), RESULTING FROM:\\nYOUR USE OF OR INABILITY TO USE THE SERVICES\\nANY CHANGES TO THE SERVICES OR TERMINATION OF THE SERVICES\\nUNAUTHORIZED ACCESS TO OR ALTERATION OF YOUR CONTENT\\nSTATEMENTS OR CONDUCT OF ANY THIRD PARTY ON THE SERVICES\\nANY OTHER MATTER RELATING TO THE SERVICES\\nIN NO EVENT SHALL OUR TOTAL LIABILITY TO YOU FOR ALL CLAIMS ARISING FROM OR RELATED TO THE SERVICES EXCEED THE AMOUNT PAID BY YOU TO EMERGENT DURING THE TWELVE (12) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM.\\n### 11.1 AI-Generated Code Liability Details\\nEmergent Labs Inc. accepts no liability or responsibility for:\\nAI-generated code that:\\nContains bugs, errors, or security vulnerabilities\\nFails to meet your specific requirements or expectations\\nDoes not achieve your intended business or technical goals\\nBecomes obsolete or incompatible with other systems\\nCauses issues when integrated with other software\\nResults in any form of data loss or corruption\\nAI system limitations or failures, including:\\nIncorrect or incomplete code generation\\nMisunderstanding of your requirements or prompts\\nGeneration of non-optimal or inefficient solutions\\nInconsistencies in code output quality\\nFailures to follow best practices or coding standards\\n### 11.2 Business Impact Liability\\nEmergent Labs Inc. accepts no liability or responsibility for business impact resulting from:\\nReliance on generated code in production systems\\nTime or resources spent modifying generated code\\nProject delays or missed deadlines\\nAdditional development costs or technical debt\\nIntegration challenges with existing systems\\nCustomer or user dissatisfaction\\nFurthermore, we disclaim liability for third-party related issues:\\nCompatibility problems with external services\\nLicensing issues in generated code\\nSecurity vulnerabilities in recommended dependencies\\nChanges in external APIs or services\\nConflicts with other development tools\\nTHIS LIST IS NOT EXHAUSTIVE, AND EMERGENT'S LIMITATION OF LIABILITY EXTENDS TO ALL POSSIBLE ISSUES, WHETHER LISTED HERE OR NOT, ARISING FROM THE USE OF OUR AI-POWERED PLATFORM AND SERVICES.\\nTHESE LIMITATIONS WILL APPLY EVEN IF THE ABOVE STATED REMEDY FAILS OF ITS ESSENTIAL PURPOSE.\\n## 12. Indemnification\\nYou agree to defend, indemnify, and hold harmless Emergent, its affiliates, officers, directors, employees, and agents from and against any claims, liabilities, damages, losses, costs, expenses, or fees (including reasonable attorneys' fees) arising from:\\nYour use of the Services\\nYour Content\\nYour violation of these Terms\\nYour violation of any rights of another person or entity\\nApplications, websites, or services you create using our Services\\n## 13. Miscellaneous\\n### 13.1 Governing Law\\nThese Terms shall be governed by and construed in accordance with the laws of the State of California, without regard to its conflict of law principles.\\n### 13.2 Dispute Resolution\\nAny dispute arising from or relating to these Terms or your use of the Services shall be resolved exclusively in the state or federal courts located in Alameda County, California, and you consent to the personal jurisdiction of such courts.\\n### 13.3 Entire Agreement\\nThese Terms, together with our Privacy Policy and any other legal notices or additional terms and conditions provided by Emergent, constitute the entire agreement between you and Emergent relating to your use of the Services.\\n### 13.4 Severability\\nIf any provision of these Terms is found to be invalid or unenforceable, the remaining provisions will remain in full force and effect.\\n### 13.5 Waiver\\nOur failure to enforce any right or provision of these Terms will not be considered a waiver of such right or provision.\\n### 13.6 Assignment\\nYou may not assign or transfer these Terms or your rights under these Terms without our prior written consent. Emergent may assign these Terms without restriction.\\n### 13.7 Modifications to Terms\\nWe may modify these Terms at any time by posting the revised Terms on our website and/or within the desktop application. Your continued use of the Services after any changes will constitute your acceptance of such changes. For significant changes, we will make reasonable efforts to notify you through the Services or via email. If you do not agree to the updated Terms, you must stop using the Services.\\n### 13.8 Force Majeure\\nWe will not be liable for any failure or delay in performance resulting from causes beyond our reasonable control, including but not limited to acts of God, natural disasters, pandemic, war, terrorism, riots, civil unrest, government actions, labor disputes, Internet service provider failures or any other unforeseen events.\\n## 14. Contact Information\\nIf you have any questions about these Terms, please contact us at: Email: support@emergent.sh Address: 2380 Via Espada, Pleasanton, CA 94566, USA\\n## 15. Promotions and User Feedback\\n### 15.1 Promotions\\nWe may offer promotions, contests, or sweepstakes, which may have additional terms and conditions.\\n### 15.2 User Feedback\\nWe welcome feedback and suggestions\\nWe may implement any feedback without compensation\\nProviding feedback grants us a perpetual, worldwide license to use it\\nNo credit or compensation is due for implemented suggestions\\nBy submitting feedback, you grant Emergent a royalty-free, worldwide, transferable, sub-licensable, irrevocable, perpetual license to use, implement, modify, and distribute your feedback in any way and for any purpose.\\n## 16. DMCA Compliance\\nWe respect intellectual property rights and comply with the Digital Millennium Copyright Act (DMCA). For any DMCA-related issues, contact us at support@emergent.sh with:\\nIdentification of the copyrighted work claimed to be infringed\\nIdentification of the allegedly infringing material\\nYour contact information\\nA statement of good faith belief in the infringement\\nA statement of accuracy under penalty of perjury\\nUpon receipt of a valid DMCA notice, we will take appropriate action, which may include removing or disabling access to the allegedly infringing material.\\n## 17. Abuse Reporting\\nIf you encounter abuse of our Services, violations of these Terms, or other concerning behavior, please report it to support@emergent.sh. Reports should include:\\nDescription of the abusive or concerning behavior\\nRelevant dates and times\\nAny supporting information or evidence\\nYour contact information (optional)\\nWe take abuse reports seriously and will investigate promptly, taking appropriate action as necessary."}`),lMe=JSON.parse(`{"title":"Privacy Policy","lastUpdated":"Last updated: {{date}}","returnToHome":"Return to Home","content":"# Emergent Labs Inc. Privacy Policy\\n## Introduction\\nEmergent Labs Inc. (\\"we,\\" \\"our,\\" or \\"us\\") values your privacy. This Privacy Policy explains how we collect, use, and protect your information when you use our site and related services (collectively, our \\"Services\\"). This Privacy Policy is incorporated into and is subject to our Terms of Service. Your use of our Services and any personal information you provide remains subject to this Privacy Policy and our Terms of Service.\\n\\n## Information We Collect\\n\\n### Information You Provide to Us\\n\\n#### Account Information\\n- Name\\n- Email address\\n- Password\\n- GitHub credentials (when you connect your GitHub account)\\n- Other development platform credentials (when integrated)\\n- Payment information (for paid plans)\\n- Professional information (optional)\\n\\n#### User Content\\n- Code and projects you create or import\\n- Files you upload or generate\\n- Commands you execute through the site\\n- Database queries, configurations, and connection strings\\n- Repository connections and metadata\\n- Application builds and deployment configurations\\n- Test data and testing configurations\\n- Development environment settings\\n\\n#### Communications\\n- Customer support communications\\n- Feedback you provide\\n- Survey responses\\n- Bug reports and feature requests\\n\\n### Information We Collect Automatically\\n\\n#### Device Information\\n- Device type and identifiers\\n- Operating system version and environment details\\n- IP address and geolocation data (country/region level)\\n- Connection information\\n- Application installation and version data\\n- Hardware specifications relevant to application performance\\n- Clipboard content (only when explicitly using paste functionality)\\n\\n#### Usage Information\\n- Features and tools used\\n- Commands executed through the site\\n- Performance metrics and resource utilization\\n- Error logs and debugging information\\n- Session duration and frequency\\n- Code execution patterns and outputs\\n- AI agent interactions and prompts\\n- Database operations (types, not content)\\n- Build and compilation events\\n\\n#### Analytics Information\\nWe use analytics tools to help us measure application usage and performance. This information is collected in aggregate form and used to improve our Services, including:\\n- Feature adoption rates\\n- Common error patterns\\n- Performance benchmarks\\n- User journey flows\\n- Agent effectiveness and accuracy\\n\\n#### Analytics and Tracking\\nWe use the following analytics and tracking tools:\\n- PostHog\\n  - We use PostHog for product analytics and user behavior tracking\\n  - For details about PostHog's data handling, please see their Privacy policy\\n- We also use other analytics tools to help us measure application usage and performance. This information is collected in aggregate form and used to improve our Services, as detailed in our \\"Analytics Information\\" section.\\n- You can manage analytics participation preferences through your application settings.\\n\\n## How We Use Your Information\\nWe use the information we collect for the following purposes:\\n\\n### To Provide and Improve Our Services\\n- Deliver the core functionality of our site\\n- Authenticate your identity and maintain your account\\n- Process your transactions and subscription management\\n- Connect to third-party services (GitHub, MongoDB, etc.)\\n- Execute code and commands on your behalf\\n- Build, test, and deploy your applications\\n- Train and improve our AI agents to better assist with development tasks\\n- Fix bugs and improve features\\n- Develop new features and services\\n- Optimize application performance on your device\\n\\n### For Communications\\n- Respond to your inquiries and support requests\\n- Send service and security announcements\\n- Provide updates about our Services and features\\n- Send marketing communications (with your consent)\\n- Notify you about important changes to connected services\\n\\n### For Security and Compliance\\n- Maintain the security of our Services\\n- Detect and prevent fraud, abuse, and unauthorized access\\n- Scan for and prevent security vulnerabilities in your code (when enabled)\\n- Monitor for unusual patterns that may indicate security issues\\n- Comply with legal obligations\\n- Enforce our Terms of Service\\n\\n### For Analytics and Research\\n- Understand how users interact with our Services\\n- Generate aggregated insights about application usage\\n- Improve user experience and workflow efficiency\\n- Enhance AI assistance capabilities\\n- Research development patterns to create better automation\\n\\n## How We Share Your Information\\nWe do not sell your personal information. We may share your information in the following circumstances:\\n\\n### With Service Providers\\nWe share information with trusted service providers who help us deliver our Services, including:\\n- Payment processors\\n- Cloud hosting providers in the USA and India\\n- Analytics providers\\n- Customer support tools\\n- AI and machine learning infrastructure providers\\n- Database service providers\\n- Security and monitoring services\\n\\n### With Connected Services\\nWhen you choose to connect third-party services (like GitHub or MongoDB), we share information necessary to facilitate that connection:\\n- Authentication tokens (with your permission)\\n- Repository and project metadata\\n- Commit and pull request information\\n- Database connection information\\n\\n### For Legal Purposes\\nWe may disclose information if required to do so by law or in the good-faith belief that such action is necessary to:\\n- Comply with legal obligations in the jurisdictions where we operate\\n- Respond to valid legal process (such as a court order or subpoena)\\n- Protect our rights, property, or safety\\n- Protect the rights, property, or safety of our users or others\\n- Investigate and prevent potential violations of our Terms of Service\\n\\n### In Business Transfers\\nIn the event of a merger, acquisition, bankruptcy, or other sale of all or a portion of our assets, user information may be transferred as part of the business transaction. We will notify you via email or a prominent notice on our application of any change in ownership or uses of your personal information.\\n\\n### With Your Consent\\nWe may share information with third parties when you explicitly consent to such sharing.\\n\\n### Enterprise Plan Users\\nEnterprise users enjoy additional data protection and privacy rights, including:\\n- Data training restrictions: We do not use Enterprise users' proprietary code and data to train our general AI models without explicit consent\\n- Custom agreements: Enterprise customers may negotiate custom data handling agreements\\n- Third-party sharing limitations: Additional restrictions on how Enterprise data is shared with service providers\\n\\nFor complete details about Enterprise plan protections, please contact our support team at support@emergent.sh.\\n\\n## Your Rights and Choices\\nYou have several rights regarding your personal information:\\n\\n### Account Information\\nYou can review and update your account information through the application settings. You may also delete your account, though certain information may be retained as required for legitimate business purposes or to comply with legal obligations.\\n\\n### Application Data\\nYou can control what data is stored locally on your device versus in our cloud infrastructure through application settings.\\n\\n### Communication Preferences\\nYou can manage your communication preferences in your account settings or by following the unsubscribe instructions included in our marketing emails.\\n\\n### Privacy Settings\\nOur application includes settings that allow you to control your privacy preferences, including:\\n- Repository visibility settings\\n- Code sharing and collaboration preferences\\n- Third-party integrations management\\n- AI assistance and data processing options\\n- Analytics participation preferences\\n- Local vs. cloud execution preferences\\n\\n### Data Access and Portability\\nYou may request a copy of your personal information in a structured, commonly used, and machine-readable format.\\n\\nDepending on your location, you may have additional rights, including:\\n- The right to request deletion of your personal information\\n- The right to restrict or object to our processing of your personal information\\n- The right to withdraw consent\\n- The right to lodge a complaint with a supervisory authority\\n\\nTo exercise these rights, please contact us at privacy@emergent.sh.\\n\\n### Response Times\\nWe aim to respond to privacy-related inquiries within 7 business days. Support requests are handled according to your plan's service level agreement. For urgent matters related to data protection or security incidents, please mark your email as \\"PRIVACY URGENT\\" in the subject line of your email, as noted in our \\"Contact Us\\" section.\\n\\n## Security\\nWe implement appropriate technical and organizational measures to protect your personal information. These measures include:\\n- Encryption of sensitive data in transit and at rest\\n- Secure application development practices and code signing\\n- Regular security assessments and penetration testing\\n- Access controls and multi-factor authentication\\n- Employee training on data security and privacy\\n- Secure development and deployment pipelines\\n- Monitoring for unusual or unauthorized access attempts\\n- Vulnerability scanning and management\\n\\nHowever, no method of transmission or storage is 100% secure. While we strive to protect your personal information, we cannot guarantee its absolute security.\\n\\n## Desktop Application Specifics\\nOur Services are primarily delivered through a desktop application (DMG or installer package). This has specific privacy implications:\\n- Local Storage: Some of your data, including code, configuration files, and local databases, may be stored locally on your device\\n- Installation Data: We collect information about the installation process to troubleshoot issues\\n- Updates: We may automatically check for and download updates to ensure you have the latest security features\\n- System Integration: Our application may integrate with your system's development tools and environments\\n- Resource Usage: We monitor resource usage (CPU, memory, disk) to optimize performance\\n\\nYou can adjust many of these behaviors through application settings.\\n\\n## Data Retention\\nWe retain your personal information for as long as necessary to provide you with our Services and for legitimate business purposes, such as maintaining your account, resolving disputes, establishing legal defenses, conducting audits, pursuing legitimate business purposes, and complying with applicable laws.\\n\\nWhen personal information is no longer needed, we will securely delete or anonymize it. Typically:\\n- Account information is retained while your account is active\\n- Usage data is retained for up to 24 months\\n- Backup data is retained according to our backup rotation policy\\n- Payment information is retained as required by financial regulations\\n\\n## Third-Party Connections\\nOur Services may allow you to connect to third-party services (such as GitHub, MongoDB, and other development tools). When you connect to these services:\\n- You may be allowing them to access your information on our Services\\n- We may receive and store authentication tokens to maintain the connection\\n- We may sync data between our Services and these third-party services\\n- Code repositories, database content, and other development artifacts may be transferred between services\\n\\nWe recommend that you review the privacy policies of these third-party services to understand how they collect and use your information.\\n\\n## AI Features and Code Analysis\\nOur site includes AI-powered features that may:\\n- Analyze your code to provide suggestions\\n- Generate code based on your specifications\\n- Automate repetitive development tasks\\n- Help troubleshoot errors and bugs\\n\\nThese features require processing your code and commands. By default:\\n- This processing occurs within our secure environment\\n- We do not use your proprietary code to train our general AI models without explicit consent\\n- You can control the level of AI assistance through application settings\\n\\n## Children's Privacy\\nOur Services are not directed to children under the age of 13 (or the applicable age requirement in your jurisdiction). We do not knowingly collect personal information from children. If you believe we have inadvertently collected information from a child, please contact us at privacy@emergent.sh.\\n\\n## International Data Transfers\\nEmergent Labs Inc. is based in the United States with operations in India. We process and store information on servers located in the United States and India. If you are located outside of these regions, we may transfer your personal information to these or other countries where our service providers are located.\\n\\nWhen we transfer your information internationally, we take appropriate safeguards to ensure your information receives adequate protection, which may include:\\n- Standard contractual clauses approved by relevant authorities\\n- Data processing agreements with our service providers\\n- Security measures to protect data during transfer and storage\\n\\nBy using our Services, you consent to the international transfer of your information as described in this policy.\\n\\n## State-Specific Privacy Rights\\n\\n### California Residents\\nIf you are a California resident, the California Consumer Privacy Act (CCPA) provides you with specific rights regarding your personal information. These include the right to:\\n- Know what personal information we collect about you and how we use it\\n- Request deletion of your personal information\\n- Opt-out of the sale of your personal information (note that we do not sell personal information)\\n- Non-discrimination for exercising your CCPA rights\\n\\n### Other States\\nResidents of Colorado, Connecticut, Utah, and Virginia may have similar rights under their respective state privacy laws. Please contact us at privacy@emergent.sh to exercise any applicable state privacy rights.\\n\\n## Legal Framework\\nThis Privacy Policy is part of and subject to our Terms of Service. In case of any conflict between this Privacy Policy and our Terms of Service, the Terms of Service shall prevail.\\n\\n## Changes to This Privacy Policy\\nWe may update this Privacy Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will post the revised policy on our website with an updated \\"Last Updated\\" date.\\n\\nFor significant changes, we will notify you through the application or by email prior to the change becoming effective. We will provide at least 30 days' notice for material changes to this Privacy Policy, during which time you may contact us with any questions.\\n\\nYour continued use of our Services after any changes to this Privacy Policy constitutes your acceptance of the revised policy. If you do not agree with the changes, you should discontinue using our Services and contact us to delete your account.\\n\\n## Contact Us\\nIf you have any questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us at:\\n\\nEmail: support@emergent.sh\\nAddress: 2380 Via Espada, Pleasanton, CA 94566, USA\\n\\nFor urgent matters related to your personal information, please include \\"PRIVACY URGENT\\" in the subject line of your email."}`),cMe={title:"Support & Configuration",subtitle:"IP Addresses",returnToHome:"Return to Home",pageTitle:"IP Addresses",description:"Emergent services use fixed IP addresses for outbound connections. You can use these addresses to configure your firewall rules for secure access. These addresses will not change without notice.",outboundTitle:"Outbound IP Addresses",outboundDescription:"These are the stable IP addresses that Emergent uses for outbound requests (for example, when connecting to your GitHub repositories or external services)."},dMe={termsAndService:oMe,privacyPolicy:lMe,ipAddresses:cMe},uMe=JSON.parse(`{"tiers":{"free":"Free Tier","starter":"Starter Tier","standard":"Standard","proMode":"Pro Mode","teamPlan":"Team Plan","pro":"Pro Tier"},"availableCredits":"Available Credits","aboutCredits":"About Credits","learnMore":"Learn more","manageAccount":"Manage Account","credits":"credits","dailyCredits":"Daily Credits","freeCredits":"Free Credits","monthlyCredits":"Monthly Credits","bonusCredits":"Bonus Credits","topUpCredits":"Top up Credits","refreshesOn":"Refreshes on","monthly":"monthly","refreshesDaily":"refreshes daily","uptoMonthly":"(upto {{max}} monthly)","creditsTooltip":{"priority":"Emergent prioritizes credit usage by first drawing from your monthly allocation, then top-up balance you've purchased, followed by {{creditType}}.","reset":"Subscription-based credits reset monthly according to your account's billing cycle date.","permanent":"Any top-up credits you purchase will remain in your account permanently."},"freeTierMessage":{"onFreeTier":"You're on the Free tier","with":" with ","period":". ","monthlyCreditsCount":"{{count}} monthly credits","dailyCreditsCount":"{{count}} daily credits (upto {{max}} per month)","upgradePrompt":"Unlock additional features and credits by upgrading your plan."},"buyMoreCredits":"Buy More Credits","manageSubscriptions":"Manage your Subscriptions","manageSubscriptionsTitle":"Manage Subscriptions","loading":"Loading...","upgradeTierModal":{"loadingPlans":"Loading latest plans...","loadingPlansDescription":"Please wait while we fetch the most up-to-date pricing","chooseYourPlan":"Choose your plan","claimYourFreeTrial":"Claim your free trial","manageYourPlan":"Manage your plan","choosePlanFor":"Choose plan for {{organizationName}}","managePlanFor":"Manage plan for {{organizationName}}","planCancelsOn":"Plan cancels on","monthlyCreditsRefreshesOn":"Monthly credits refreshes on","selectTeamPlanFor":"Select a team plan for {{organizationName}} workspace.","pickPlanDescription":"Pick a plan that best suits you. Upgrade or downgrade at any time.","revenueCatSubscriptionMessage":"You have an active subscription via App/Play Store. To upgrade/change your plan on web,\\n you'll need to cancel your current subscription in the store and return here to select your new plan.","monthly":"Monthly","annually":"Annually","save":"Save {{percentage}}%","havePromoCode":"Have a promo code?","enterCode":"Enter code","remove":"Remove","processing":"Processing...","currentActivePlan":"Current Active Plan","upgradeToAnnual":"Upgrade to Annual","downgradeToMonthly":"Downgrade to Monthly","currentPlan":"Current Plan","upgradeCurrentPlan":"Upgrade Current Plan","downgradeCurrentPlan":"Downgrade Current Plan","downgradeTo":"Downgrade to {{tier}}","upgradeTo":"Upgrade to {{tier}}","paymentPending":"Payment Pending","creditsPerMonth":"credits/month","everythingInStandard":"Everything in Standard","contextWindow":"1M context window","ultraThinking":"Ultra thinking","systemPromptEdit":"System Prompt Edit","customAgents":"Ability to build Custom Agents","mobileAppDevelopment":"Mobile App Development","biggerMachine":"2x Bigger Machine","monthlyCredits":"{{count}} Monthly Credits","prioritySupport":"Priority Support","everythingInPro":"Everything in Pro","sharedTeamPool":"Shared team pool: {{credits}} credits per month","centralBilling":"Central billing and administration","collaborativeWorkspace":"Collaborative workspace","teamMembers":"Upto 5 members in a team","additionalMembers":"For additional members and team support, contact us","everythingInTeams":"Everything in Teams","singleSignOn":"Single sign-on (SSO)","enterpriseSupport":"Dedicated Enterprise Support","privateApps":"Private Apps","buyAdditionalCredits":"Ability to buy additional credits","saveToGithub":"Save to Github","fork":"Fork","basicAccess":"Basic access to all features","free":"Free","perMonth":"/ month","perYear":"/ year","startBuilding":"Start Building","needHelp":"Need help?","contactUs":"Contact Us","cancel":"Cancel","resume":"Resume","subscription":"Subscription","bookDemo":"Book a demo","enterpriseFeatures":"Enterprise-grade features for your entire organization","enterprise":"Enterprise","useCode":"Use code","inCheckout":"in the checkout","sessionToRedeem":"session to redeem the offer","flatDiscount":"Flat 50% off on all our subscriptions.","codeCopied":"Code Copied","pleaseEnterCoupon":"Please enter a coupon code","invalidCoupon":"Invalid coupon code","couponApplied":"Coupon Applied! The discount will be auto applied at the checkout","failedToValidateCoupon":"Failed to validate coupon. Please try again.","dailyCreditsMonthly":"{{count}} free monthly credits","dailyCreditsDaily":"{{count}} daily credits (upto {{max}} per month)","e2Agent":"E2 Agent","designedForTeams":"Designed for teams building at scale","builtForCreators":"Built for serious creators and brands","perfectForBuilders":"Perfect for first-time builders","firstMonthPrice":"$1 for the first month","thenRegularPrice":"Then $20/mo with 100 credits","startStandardTrial":"Start Standard Trial","firstMonthFree":"Free","freeFor1stMonth":"Free for 1st month, cancel anytime","startFreeTrialNow":"Start Free Trial Now","freeTrialSubtitle":"Free trial for 1st month, then {{price}}/mo","everythingInProPlus":"Everything in Pro, plus:","everythingInStandardPlus":"Everything in Standard, plus:","includes":"Includes:","bestValue":"BEST VALUE","privateProjectHosting":"Private project hosting","githubIntegration":"Github integration","forkTasks":"Fork tasks","unlockE2Agent":"Unlock E2 Agent with Pro","saveAmount":"Save {{amount}}","perMonthText":"per month","firstMonthOffer":"1st month offer","specialOffer":"Special Offer","oneMonthFreeStandard":"1 month of Standard Plan, completely free."},"buyCreditsModal":{"purchaseCredits":"Purchase Credits","subtitle":"Choose a bundle or enter a custom amount and complete your payment.","runningLowOnCredits":"Running low on credits ?","upgradeTo":"Upgrade to {{tier}}","buyMoreCredits":"Buy more credits","get":"Get ","credits":"Credits","forJust":" for just ","getBestValueBundle":" ! Get our best value bundle with ","percentOff":"20% OFF","orEnterCustomAmount":" or enter a custom amount.","creditsLabel":"credits","customAmountLabel":"Custom amount","customAmountPlaceholder":"Enter custom amount","closeModal":"Close modal","paying":"Paying...","buyNow":"Buy Now","enterCustomAmount":" + Enter custom amount ({{symbol}})","processing":"Processing...","buyCredits":"Buy {{count}} Credits","buy":"Buy","minimumAmount":"Minimum amount is {{amount}}","maximumAmount":"For amounts over {{amount}}, use our premium bundle above for better value!","paymentFailed":"Failed to process payment. Please try again.","howDoCreditsWork":"How do credits work?","useSavedCard":"Use saved card?","savedCardDescription":"We'll charge {{amount}} to your saved card for {{credits}} credits.","savedCardDescriptionSimple":"Charge {{amount}} for {{credits}} credits.","cancel":"Cancel","confirmPurchase":"Confirm Purchase","paymentSuccessful":"Payment Successful!","creditsAdded":"{{credits}} credits have been added to your account.","done":"Done","confirmCreditPurchase":"Confirm credit purchase","totalCredits":"Total credits","creditPack":"Credit pack","totalPrice":"Total price","payVia":"Pay via","useLastPaymentMethod":"Use your last payment method for 1-click checkout","lastUsedOn":"Last used on {{date}}","changePaymentMethod":"Change payment method","confirmAndPay":"Confirm and pay {{amount}}","securePaymentsViaStripe":"Secure payments via Stripe","priceAfterDiscount":"{{price}} after discount","havePromoCode":"Have a promo code?","enterPromoCode":"Enter promo code","apply":"Apply","invalidPromoCode":"Invalid promo code","promoDiscount":"Promo discount"},"quickUpgradeModal":{"confirmUpgradeTo":"Confirm Upgrade to {{tier}}","planName":"{{tier}} Plan","creditsCount":"{{count}} credits","useSavedPaymentMethod":"Use your saved payment method","upgradeFor":"Upgrade for {{amount}} {{period}}"},"paymentResultModal":{"loading":{"processingTeamSubscription":"Processing Team Subscription","processingSubscription":"Processing Subscription","processingPayment":"Processing Payment","processingGiftPayment":"Processing Gift Payment","verifyingTeamSubscription":"Verifying team subscription, please wait...","verifyingSubscription":"Verifying your subscription, please wait...","verifyingPayment":"Verifying your payment, please wait..."},"success":{"youHaveReceived":"You have received","giftPaymentSuccessful":"Gift Payment Successful","activated":"{{plan}} Activated","teamActivated":"{{team}} {{plan}} Activated","giftSentSuccessfully":"Your gift has been sent successfully.","teamCreditsAccess":"{{teamName}} now has access to <1>{{credits}}</1> credits per month.","creditsAccess":"You now have access to <1>{{credits}}</1> credits per month.","subscriptionActiveWithPlan":"Your {{plan}} subscription is now active and ready to use.","subscriptionActive":"Your subscription is now active and ready to use.","addOnCredits":"{{credits}} add-on Credits","topUpComplete":"Top-up complete - you're all set to build.","continueBuilding":"Continue Building","keepBuilding":"Keep Building","keepVibing":"Keep Vibing","startVibing":"Start Vibing","freeMonthUnlocked":"Free Month Unlocked","creditsAddedToAccount":"{{credits}} credits added to your account"},"pending":{"teamSubscriptionPending":"Team Subscription Pending","subscriptionPending":"Subscription Pending","paymentPending":"Payment Pending","teamSubscriptionProcessing":"Your team subscription is being processed. This may take a few minutes.","subscriptionProcessing":"Your subscription is being processed. This may take a few minutes.","paymentProcessing":"Your payment is being processed. This may take a few minutes.","continue":"Continue"},"error":{"paymentCancelled":"Payment Cancelled","paymentFailed":"Payment Failed","cancelledMessage":"Your payment could not be processed. Please try again","failedMessage":"There was an issue processing your payment. Please try again.","retryPayment":"Retry Payment","close":"Close"}}}`),pMe={credits:uMe},fMe={title:"Account settings",settings:"Settings",personalSettings:"Account",workspaceSettings:"Project Settings",tabs:{account:"Account",universalKey:"Universal Key",manageAgents:"Manage Agents",general:"General",members:"Members",sharedKey:"Shared Key",sharedAgents:"Shared Agents",usageBilling:"Usage & Billing",preferences:"Preferences"},removeMember:{remove:"Remove",from:"from",confirmMessage:"Are you sure you want to remove {{name}}?",nevermind:"Nevermind",removing:"Removing...",confirm:"Confirm"},leaveWorkspace:{leaveTitle:"Leave",deleteTitle:"Delete",leaveConfirm:"Are you sure you want to leave {{name}}?",deleteConfirm:"Are you sure you want to delete {{name}}?",leaveDescription:"You will lose access to all tasks and resources in this project.",deleteDescription:"This action cannot be undone. All members will lose access to this project.",nevermind:"Nevermind",leaving:"Leaving...",deleting:"Deleting...",confirmLeave:"Leave Project",confirmDelete:"Delete Project"},toast:{organizationDeleted:"Project Deleted",leftOrganization:"Left Project",successfullyDeleted:"Successfully deleted {{organizationName}}",successfullyLeft:"Successfully left {{organizationName}}",error:"Error",failedToCompleteAction:"Failed to complete action. Please try again.",orgNameUpdated:"Project name updated successfully",nameUpdated:"Name updated successfully",contactSupportBilling:"Please contact support to manage your subscription",contactSupportDelete:"Please contact support to delete your project",adminOnlyMessage:"Only admins can manage subscription for this project. Please contact an admin."},membersTab:{totalMembers:"Total Members",pendingInvites:"Pending Invites",searchMembers:"Search members",allMembers:"All Members",admin:"Admin",owner:"Owner",member:"Member",pending:"Pending",addMembers:"Add members",name:"Name",email:"Email",role:"Role",adminDescription:"Manage team settings, members and billings",memberDescription:"Can create tasks and see what others are building",moreOptions:"More options",removeFromTeam:"Remove from team",mustBeAdmin:"You must be an admin to change user roles",roleUpdated:"Role Updated",failedToChangeRole:"Failed to change user role. Please try again.",memberRemoved:"{{name}} has been removed from the team",failedToRemoveMember:"Failed to remove member from team"},organizationSpace:"{{name}}'s Project",thisOrganization:"this project",defaultSpaceName:"Emergent project",workspace:"Project",generalTab:{icon:"Icon",workspaceName:"Project Name",personalWorkspace:"Personal Project",enterOrgName:"Enter project name",duplicateName:"A project with this name already exists",dangerZone:"Danger Zone",deleteWarning:"Permanently delete {{name}}'s Project and all of its data.",leaveWarning:"Leave {{name}}'s Project and lose access to all team resources.",notReversible:"This action is not reversible!",processing:"Processing...",deleteSpace:"Delete Project",leaveSpace:"Leave Project",contactSupport:"Contact Support",accessibility:{editOrgName:"Edit project name",organizationName:"Project name",saveChanges:"Save changes",cancelChanges:"Cancel changes",clickToEditWorkspaceName:"Click to edit project name",editWorkspaceName:"Edit project name"}},account:{preferredName:"Preferred Name",enterYourName:"Enter your name",email:"Email",emailDescription:"The email address linked to your current account",profilePicture:"Choose your profile picture",profilePictureDescription:"This image will be displayed publicly",name:"Name",nameDescription:"Your full name, as displayed everywhere",language:"Language",languageDescription:"Select your preferred language on Emergent",personalPlan:"Personal Plan",upgradePlan:"Upgrade Plan",managePlan:"Manage Plan",deleteAccount:{title:"Delete Account",description:"Permanently delete your account and all associated data.",warning:"This action cannot be undone.",button:"Delete My Account"}},agents:{loadError:"Failed to load agents. Please try again.",mcpLoadError:"Failed to load MCP servers. Please try again.",createAgent:"Create New Agent",createSubagent:"Create New Subagent",createSharedAgent:"Create New Shared Agent",createSharedSubagent:"Create New Shared Subagent",editAgent:"Edit {{name}}"},preferencesTab:{title:"Preferences",subtitle:"Customize how Emergent works for you",newBadge:"New",autoSummarisation:{title:"Auto-summarisation in chat",description:"Keep working in the same chat by summarising conversations when context fills up",learnMore:"Learn more",ariaLabel:"Toggle auto-summarisation in chat"}}},mMe={title:"Universal Key",description:"One key for all your LLM needs - no more juggling multiple provider keys.",tabs:{keyDetails:"Key Details",llmProviders:"LLM Providers"},keyDetails:{yourKey:"Your Key",keyTooltip:"Works on Emergent Apps, Keep confidential",loading:"Loading...",noKeyAvailable:"No key available",disable:"Disable",enable:"Enable",regenerate:"Regenerate",apiKeyBalance:"API Key Balance",balanceTooltip:"Universal Key need balance to work, please add accordingly",credits:"Credits",addBalance:"Add Balance",autoRecharge:"Auto Recharge",autoRechargeTooltip:"Auto-recharge ensures your balance never runs low",whenBalanceHitsZero:"When balance hits zero, auto-recharge by",credit:"Credit",enabled:"Enabled",disabled:"Disabled",saving:"Saving...",saveAndConfirm:"Save & Confirm",regenerateTitle:"Regenerate API Key?",regenerateWarning:"Your current key will be <1>permanently deleted</1> and stop working immediately. Update the new key in all your applications to restore functionality.",regenerateWarningBefore:"Your current key will be",permanentlyDeleted:"permanently deleted",regenerateWarningAfter:"and stop working immediately. Update the new key in all your applications to restore functionality.",cancel:"Cancel",regenerating:"Regenerating...",regenerateAndCopy:"Regenerate & Copy",enableAutoRechargeTitle:"Enable Auto recharge?",enableAutoRechargeDescription:"You're about to enable automatic recharging for your API key.",autoRechargeCredits:"Your API key will automatically recharge with <1>{{amount}} credits</1> when the balance hits zero.",autoRechargeCreditsPrefix:"Your API key will automatically recharge with",autoRechargeCreditsSuffix:"when the balance hits zero.",oneWayTransfer:"This is a one-way transfer",oneWayTransferWarning:"Credits cannot be transferred back once moved to your API key. Only enable if you plan to use these credits for API calls.",enabling:"Enabling...",enableAutoRecharge:"Enable Auto Recharge",addBalanceModal:{title:"Add Balance",apiKeyBalance:"API Key balance",availableCredits:"Available Credits:",ecu:"ECU",transferWarning:"Credits transferred to your API key cannot be moved back to your account balance",processing:"Processing...",transferCredits:"Transfer {{amount}} Credits"},errors:{toggleKey:"Failed to toggle universal key. Please try again.",toggleSharedKey:"Failed to toggle shared key. Please try again.",regenerateKey:"Failed to regenerate universal key. Please try again.",regenerateSharedKey:"Failed to regenerate shared key. Please try again.",transferCredits:"Failed to transfer credits. Please try again.",updateAutoRecharge:"Failed to update auto-recharge settings. Please try again.",confirmAutoRecharge:"Failed to confirm auto-recharge. Please try again.",saveAutoRechargeAmount:"Failed to save auto-recharge amount. Please try again."}},llmProviders:{description:"Select which AI models this key can access. You only pay for what you use.",enableKeyTooltip:"Enable your Universal Key to configure providers",claude:"Anthropic's advanced model",openai:"OpenAI's advanced model",gemini:"Google's advanced model"}},hMe={title:"Manage Agents",description:"Create, edit and manage your custom agents",tabs:{mainAgents:"Main agents",subAgents:"Sub-agents",mcpTools:"MCP Tools"},newAgent:"New Agent",newSubAgent:"New Sub-agent",newMCPServer:"New MCP Server",addCustomMCP:"Add a Custom MCP server",configure:"Configure",edit:"Edit",keyNeeded:"Key needed",unlockMCPTools:"Unlock MCP Tools",mcpToolsProPlan:"MCP Tools are available with our pro plan. Upgrade your account to create and use mcp tools.",upgradeAccount:"Upgrade Account",switchToPersonalAgents:"Switch to personal project to manage personal agents",switchToPersonalMCP:"Switch to personal project to manage personal MCP tools",configNotAvailable:"Configuration Not Available",configNotAvailableMobile:"Configuration is not available on mobile. Please use the desktop or web version to configure this MCP server.",mcpCreated:"MCP server created successfully!",mcpUpdated:"MCP server updated successfully!",noMCPToolsYet:"No MCP Tools Yet",noMCPToolsDescription:"Create your first MCP tool to enable advanced interactions with external applications and services.",createMCPTool:"Create MCP Tool",unlockCustomAgents:"Unlock Custom Agents",customAgentsPremium:"Custom agents are available with our premium plans. Upgrade your account to create and manage your own AI agents."},xMe={title:"MCP Tools",description:"Create, configure and manage your Model Context Protocol tools",failedToLoad:"Failed to load MCP tools",tryAgain:"Try Again",newMCPTool:"New MCP Tool",noMCPToolsYet:"No MCP Tools Yet",noMCPToolsDescription:"Create your first MCP tool to enable advanced interactions with external applications and services.",createMCPTool:"Create MCP Tool",unlockMCPTools:"Unlock MCP Tools",unlockMCPToolsDescription:"Model Context Protocol tools are available with our premium plans. Upgrade your account to create and manage MCP integrations.",upgradeAccount:"Upgrade Account",editMCPServer:"Edit MCP server"},gMe={currentPlan:"Current Plan",renews:"Renews",notAvailable:"Not Available",manageSubscription:"Manage Subscription",availableCredits:"Available Credits",addOnCredits:"Add on Credits",buyNow:"Buy Now",task:"Task",date:"Date",creditsUsed:"Credits used",noUsageData:"No usage data available"},bMe={accountSettings:fMe,universalKey:mMe,manageAgents:hMe,mcpTools:xMe,usageBilling:gMe},yMe={personalSpace:"Personal Space",workspaceSpace:"{{name}}'s Space",workspace:"workspace",user:"User",paymentPending:"Payment pending",member:"member",members:"members",owner:"Owner",admin:"Admin",memberRole:"Member",memberCount:"{{role}}  {{count}} {{memberText}}",searchProjects:"Search projects",settings:"Settings",inviteMembers:"Invite members",createNewProject:"Create new project",unsavedChanges:{title:"You have unsaved changes",description:"Switching workspaces will discard your unsaved visual edit changes.",confirm:"Switch Workspace",cancel:"Cancel"},toast:{invitationAccepted:"Invitation Accepted",successfullyJoined:'Successfully joined "{{name}}" workspace',invitationDeclined:"Invitation Declined",successfullyDeclined:'Successfully declined invitation to "{{name}}" workspace',error:"Error",failedToAccept:"Failed to accept invitation. Please try again.",failedToDecline:"Failed to decline invitation. Please try again."}},vMe={team:"Team",workspaceInfo:{seamlessCollaboration:"Seamless team collaboration",sharedCredits:"Shared team pool credits",centralBilling:"Central billing and administration"},welcome:{welcomeTo:"Welcome to",workspaceName:"{{name}}'s Workspace",yourTeamWorkspace:"Your Team's Workspace"},invite:{inviteMembersTo:"Invite members to",spaceName:"{{name}}'s Space",emailAddresses:"Email Addresses",emailPlaceholder:"e.g. john@company.com, sarah@company.com",role:"Role",selectRole:"Select role",member:"Member",admin:"Admin",doItLater:"I'll do it later",sendingInvitations:"Sending Invitations...",sendInvites:"Send Invites"},processing:{title:"Processing Team Subscription",verifyingWithName:"Verifying {{name}} subscription, please wait...",verifyingDefault:"Verifying team subscription, please wait..."},startCollaborating:"Start Collaborating",goToWorkspace:"Go to Workspace",toast:{invitationsSent:"Invitations Sent",successfullySent:"Successfully sent {{count}} invitation to {{name}}",successfullySentPlural:"Successfully sent {{count}} invitations to {{name}}",error:"Error",failedToSend:"Failed to send invitations. Please try again.",invalidEmail:"Invalid email address. Please enter a valid email address.",alreadyInvitedTitle:"Already Invited",alreadyInvited:"The following users already have a pending invite: {{emails}}",alreadyMembersTitle:"Already Members",alreadyMembers:"The following users are already members of this project: {{emails}}"}},wMe={createWorkspace:{title:"Create a project",description:"Projects allow you to collaborate on tasks and track usage per idea.",learnMore:"Learn more",projectName:"Project name",workspaceName:"Project name",placeholder:"ex : Resume analyzer, Client A, Side project",creating:"Creating...",cancel:"Cancel",createProject:"Create Project",continueToPlan:"Create Project",workspaceCreated:"Project created successfully",error:"Error",failedToCreate:"Failed to create project. Please try again.",duplicateName:"A project with this name already exists",projectNameRequired:"Please enter a project name"},allWorkspaces:{title:"All Workspaces",description:"Select a workspace to switch to",paymentPending:"Payment pending",member:"member",members:"members"},invitation:{processing:"Processing invitation..."},newWorkspace:"New Workspace",showMore:"Show {{count}} more",switchingWorkspace:"Switching to project...",switchingToWorkspace:"Switching to {{workspaceName}}...",loading:"Loading...",loadingWorkspaces:"Loading workspaces...",switchWorkspace:"SWITCH WORKSPACE",personalSpace:"Personal Space",pending:"Pending"},CMe={switchProject:{title:"Switch your project",description:"Use this menu to jump between your different projects or create a new one."},inviteTeam:{title:"Invite Your Team",description:"Click here to invite team members and start collaborating on this project."},skip:"Skip",next:"Next",back:"Back",close:"Close",gotIt:"Okay, got it"},_Me={workspaceSelector:yMe,teamWorkspace:vMe,teams:wMe,guidedTour:CMe},jMe={greeting:"Welcome",greetingWithName:"Welcome, {{name}}",taglineFree:"Where ideas become reality",taglinePaid:"What will you build today?",descriptionFree:"Build fully functional apps and websites through simple conversations"},NMe={fullStackApp:"Full Stack App",landingPage:"Landing Page",mobileApp:"Mobile App",chips:{fullstack:{myCounterPart:{label:"My Counter Part",prompt:`Build a simple chat app where users talk to an alternate version of themselves. Single page with a setup section at the top: one text input asking "Describe a major life decision and the path you didn't take" with example placeholder "I chose to study engineering instead of pursuing music", and a "Start Chat" button. Below that, a chat interface appears after setup. User messages on right, alter ego messages on left with different background color. Text input at bottom to send messages. "Reset & Start New" button to clear and start over. The alter ego responds based on living the alternate path the user described. Alter ego stays in character and references their different life experience. No saving conversations, just live chat for current session. Clean, minimal design.`},billGenerator:{label:"Bill Generator",prompt:"Make a bill generator software for a cafe. Users should be able to add/subtract items from the menu and it should generate the bill."},wordOfTheDay:{label:"Word of the Day",prompt:"Please make me an app which teaches Word of the Day Vocabulary Builder. Frontend: Daily new word with definition, quiz mode, track learned words. Backend: Scheduled word rotation, quiz generation, progress tracking"}},landing:{consultPlus:{label:"Consult Plus",prompt:"Create a landing page for a consulting service with an appointment calendar, video testimonials, downloadable case studies, blog previews, and sleek corporate UI."},eliteFootwear:{label:"Elite Footwear",prompt:"Create a landing page for a luxury shoe brand with a sleek product carousel, size guide popup, live chat, testimonials, newsletter signup, and elegant minimal ui. use only relevant images."},smartCourse:{label:"Smart Course",prompt:"Create a landing page for an AI & Machine Learning course featuring syllabus, interactive preview, enrollment countdown, FAQ accordion, chatbot, and a clean modern responsive design."}},mobile:{flappyBirdGame:{label:"Flappy Bird Game",prompt:"Build a mobile-friendly, realistic Flappy Bird game with beautiful color accents, featuring Play, Pause, Resume, and High Score functionality."},recipeGenerator:{label:"Recipe Generator",prompt:"Build a mobile-first recipe generator app. No login required - users can add ingredients they have on hand and the app generates recipes based on those ingredients."},habitTracker:{label:"Habit Tracker",prompt:"Build a dopamine-boosting biohacker habit tracker mobile-first app for powerlifters, ravers, and professional athletes. Include daily checkboxes, streak tracking, calendar view, healthy recipe generator, share to social media button, and local storage. Use a clean, mobile-friendly Notion-style UI with soft colors, progress indicators, and light/dark mode toggle."}}}},FMe={newTask:"New Task",deployedApps:"Deployed Apps",showcase:"Showcase",activeTasks:"Active Tasks",recentTasks:"Recent Tasks",buy:"Buy",buyCredits:"Buy Credits"},EMe={unnamedApp:"Unnamed App",noTaskAvailable:"No task available",untitled:"Untitled",emptyState:{title:"0 apps deployed",description:"Deploy your application to a production-ready environment. This will make it publicly accessible with managed infrastructure",deploymentCosts:"Deployment costs",creditsPerMonth:"50 credits/month"},alt:{globe:"Globe",credits:"Credits"},card:{status:{deploying:"Deploying",live:"Live",failed:"Failed",unknown:"Unknown"},time:{secsAgo:"{{count}} sec ago",secsAgo_plural:"{{count}} secs ago",minsAgo:"{{count}} min ago",minsAgo_plural:"{{count}} mins ago",hrsAgo:"{{count}} hr ago",hrsAgo_plural:"{{count}} hrs ago",daysAgo:"{{count}} day ago",daysAgo_plural:"{{count}} days ago",monthsAgo:"{{count}} month ago",monthsAgo_plural:"{{count}} months ago",yearsAgo:"{{count}} year ago",yearsAgo_plural:"{{count}} years ago",deployed:"Deployed {{time}}",unknown:"Unknown"},visit:"Visit",replace:"Replace",viewTask:"View Task",alt:{loading:"Loading...",visit:"Visit",deployTime:"Deploy Time"}}},SMe={title:"Recent Tasks",deployedApps:"Deployed Apps",tableHeaders:{id:"ID",task:"TASK",lastModified:"LAST MODIFIED"},noTasks:"No tasks yet",noTasksDescription:"Click the plus button at the top to create your first task and start building",untitled:"Untitled",fork:"Fork",remixed:"Remixed",from:"from",time:{fewSecondsAgo:"Few seconds ago",minAgo:"{{count}} min ago",hrsAgo:"{{count}} hrs ago",dayAgo:"{{count}} day ago",daysAgo:"{{count}} days ago"},pagination:{showing:"Showing {{start}}-{{end}} out of {{total}}",tasksPerPage:"Tasks per page :"},deleteTask:{title:"Delete this task?",confirmMessage:"Are you sure you want to delete",cannotUndo:"? This action cannot be undone.",forkWarning:"This task has been forked. Deleting it won't affect the forked versions, but you'll lose the original context.",remixWarning:"This task has been remixed. Deleting it won't affect the remixed versions, but you'll lose the original context.",forkedFromWarning:"This is a forked task continuing from",remixedFromWarning:"This is a remixed task based on",parentUnaffected:"Deleting it won't affect the parent task.",originalUnaffected:"Deleting it won't affect the original task.",confirm:"Confirm",nevermind:"Nevermind"},toast:{renameSuccess:"Task Renamed Successfully",renameFailed:"Task Renamed Failed",deleteSuccess:"Job deleted successfully",deleteFailed:"Unable to delete this job.",deleteError:"Failed to delete the job. Please try again."},accessibility:{recentTasksIcon:"Recent tasks",deployedAppsIcon:"Deployed apps",options:"Options",previousPage:"Previous page",nextPage:"Next page",selectTasksPerPage:"Select tasks per page"},thisTask:"this task",moveToProject:{title:"Move to project",subtitle:"Select a project to move the",subtitleEnd:"into.",searchPlaceholder:"Search projects",current:"Current",noProjectsFound:"No projects found",createNewProject:"Create new project",cancel:"Cancel",saveChanges:"Save Changes",moving:"Moving...",success:"Task moved successfully",createAndMove:"Create project and move job",creatingAndMoving:"Creating...",errors:{noPermission:"You don't have permission to move this task",notMember:"You must be a member of the target project",alreadyPersonal:"This task is already in your personal workspace",notFound:"Task not found",serverError:"Something went wrong. Please try again",generic:"Failed to move task. Please try again",noUser:"User not found"}}},kMe={placeholder:{buildMe:"Build me",phrases:{fullstack:{dashboard:"a dashboard for",ecommerce:"an e-commerce platform with",saas:"a SaaS app for",netflix:"a clone of netflix",crm:"a CRM system with"},landing:{landingPage:"a beautiful landing page for",productShowcase:"a product showcase for",startup:"a startup homepage with",portfolio:"a portfolio site for",comingSoon:"a coming soon page for"},mobile:{fitness:"a fitness tracking app",foodDelivery:"a food delivery app like",socialMedia:"a social media app with",habitTracker:"a habit tracker app",messaging:"a messaging app with"}}},assets:{attachTooltip:{filesAndImages:"Attach files & images",imagesOnly:"Attach images (max 5 images, 5MB each)"},tooManyAttachments:{title:"Too many attachments",description:"Maximum {{maxFiles}} attachments allowed. Currently have {{currentTotalAttachments}} ({{uploadedCount}} uploaded + {{selectedCount}} selected), trying to add {{tryingToAddCount}}."},compressionError:{title:"Compression Error",description:"Some files could not be compressed and were not added."},filesTooLarge:{title:"Files too large",description:"The following files exceed limits: {{fileList}}. Maximum file size is 200MB."},tooManyFiles:{title:"Too many files",description:"You can only select up to {{maxFiles}} assets at a time. Only the first {{maxFiles}} files will be added."},uploadFailed:{title:"Upload Failed",description:"Failed to upload {{fileName}}"},filesUploaded:{title:"Files Uploaded",description:"{{count}} file(s) uploaded and ready to share with agent"},modal:{title:"Attach Files",description:"Upload assets and media files that your agent can access and integrate into your code.",closeModal:"Close modal",uploadFiles:"Upload Files",filesUploadedHeader:"{{count}} Files Uploaded",uploadInProgress:"Upload in progress...",maxAttachmentsTooltip:"Maximum 5 attachments allowed ({{current}}/5)",addComment:"Add comment",editComment:"Edit comment",comment:"Comment",commented:"Commented",commentActive:"Comment Active",delete:"Delete",deleteActive:"Delete Active",agentCannotRead:"Agent cannot read",agentWillRead:"Agent will read",agentWillNotRead:"Agent will not read",agentCannotReadTooltip:"The agent can't read this file type, but it can use the file in your application.",agentWillReadTooltip:"This file will be added to the agent's context and will use credits based on its size.",agentWillNotReadTooltip:"This file will not be added to the agent's context.",addCommentsPlaceholder:"Add comments for agent",cancel:"Cancel",attaching:"Attaching...",attachFiles:"Attach {{count}} Files",uploadFilesAriaLabel:"Upload files",upload:"Upload",share:"Share",info:"Info",goldCoin:"Gold Coin",file:"File"}},dragDrop:{dropFilesHere:"Drop files here"},agents:{e1:"E-1",e11:"E-1.1",e15:"E-1.5",e2:"E-2",mobile:"Mobile",nextjs:"NextJS",prototype:"Prototype",customAgent:"Custom Agent",broMode:"Bro Mode",descriptions:{e1:"Stable & thorough",e11:"Fast & flexible",e15:"Focused & Diligent",e2:"Thorough & Relentless",mobile:"Agent for mobile apps",nextjs:"Agent for NextJS apps",prototype:"Frontend Only Apps",broMode:"Advanced AI with enhanced reasoning"},types:{reactFastapi:"React + FastAPI Agent",nextjs:"NextJS Agent",mobileAgent:"Mobile Agent",python:"Python Agent",custom:"Custom Agent",prototype:"Experimental Agent"},loading:"Loading custom agents...",createNew:"Create New Agent",manage:"Manage Agents",selectAgent:"Select Agent",beta:"Beta"},ultra:{label:"Ultra",title:"Ultra thinking with 16k thinking tokens",description:"Allow agent to reason deeply through complex problems"},privacy:{settings:"Privacy Settings",public:"Public",private:"Private",publicDescription:"Anyone can view and explore",privateDescription:"Only visible to yourself, unless shared"},drawer:{selectModel:"Select Model",selectTemplate:"Select Template",selectMcpTools:"Select MCP Tools",customAgents:"Custom Agents",close:"Close"},voice:{transcribing:"Transcribing audio...",stopRecording:"Stop recording",startRecording:"Start voice recording"},mobileAgentIntro:{title:"Introducing Mobile agent",description:'Select "Mobile" agent from the agent dropdown and start building mobile apps.',learnMore:"Learn More",gotIt:"Okay, Got it"},advancedControls:{title:"Advanced Controls",close:"Close",mcp:{selectMcpsToUse:"Select MCPs to use",new:"New",selectMcpTools:"Select MCP Tools",more:"+{{count}} more"},template:{selectTemplate:"Select Template",defaultTemplate:"Default template"},github:{label:"GitHub",connectToGitHub:"Connect to GitHub",selectRepository:"Select repository"},budget:{label:"Budget (Credits)",decreaseBudget:"Decrease budget",increaseBudget:"Increase budget",loading:"Loading...",placeholder:" - - ",defaultPlaceholder:"5"},privacy:{label:"Privacy"},model:{label:"Model",loadingModels:"Loading models...",selectModel:"Select Model"},agent:{label:"Agent",loadingAgents:"Loading agents...",selectAgent:"Select Agent"},skills:{label:"Skills"}}},IMe={tabs:{private:"Private Repository",public:"Public Repository"},icons:{lock:"Lock",arrow:"Arrow"},labels:{repositoryUrl:"Repository URL",branch:"Branch",connectedOrganizations:"Connected Organizations",selectRepo:"Select Repo",selectBranch:"Select Branch"},placeholders:{enterRepositoryUrl:"Enter a GitHub repository URL",loadingBranches:"Loading branches...",noBranchesFound:"No branches found",selectRepositoryFirst:"Select a repository first",enterOrSelectBranch:"Enter or select branch name",loadingRepositories:"Loading repositories...",noRepositoriesFound:"No repositories found",selectedRepository:"Selected: {{repo}}",searchForRepository:"Search for a repository"},helpText:{repositoryUrlExample:"Enter a GitHub repository URL (e.g., https://github.com/username/repo)",repositoryUrlNote:"Only GitHub URLs are supported. .git suffix will be automatically removed."},messages:{noBranchesAvailable:"No branches available for this repository",noMatchingBranches:"No matching branches found",noBranchesFound:"No branches found",noBranchesFoundForRepository:"No branches found for this repository. Please check if the repository is empty or has any branches.",loadingRepositories:"Loading repositories...",noRepositoriesMatchSearch:"No repositories match your search",noRepositoriesFound:"No repositories found",noRepositoriesFoundForAccount:"No repositories found for this account"},actions:{clearRepository:"Clear selected repository",submit:"Submit"},errors:{failedToFetchBranches:"Failed to fetch branches. Please try again.",invalidRepositoryNameFormat:"Invalid repository name format",unexpectedError:"An unexpected error occurred",invalidGitHubUrl:"Please enter a valid GitHub repository URL",failedToProcessInstallations:"Failed to process GitHub installations. Please try again."},authentication:{title:"Github Authentication Required",description:"Connect your GitHub account to access all your private and public repositories."},account:{primaryAccount:"Primary Account",selectGitHubAccount:"Select a GitHub account",collaborator:"Collaborator",addingAccount:"Adding Account...",addNewGithubOrganizations:"Add New Github Organizations"},connectGitHub:{button:"Connect to Github",success:{title:"Success",description:"Successfully connected to GitHub"},error:{title:"Error",description:"Failed to connect to GitHub"}}},TMe={emergentLogo:"Emergent Logo",exploreShowcases:"Explore showcases"},AMe={surprise:"Surprise",surpriseMe:"Surprise Me",refreshSuggestions:"Refresh suggestions",introducing:"Introducing {{name}}",new:"New"},DMe={label:"Skills",loadingSkills:"Loading skills...",selectSkills:"Select skills",selected:"{{count}} selected",version:"Version: {{version}}",noSkillsAvailable:"No skills available",remove:"Remove {{skill}}"},MMe={message:"Hey, welcome to Emergent! I know starting something new can feel like a blank page, so let me make it easy. Just tell me what you want to build, even if it's rough. Got an app you've been dreaming about? A website for your business? An AI tool that would actually be useful? Whatever it is, just describe it and we'll start building. What do you want to create?"},RMe={title:"Add new members",close:"Close",description:"Type or paste in emails below, separated by commas",emailAddress:"Email address",emailPlaceholder:"example@example.com, example2@example.com",role:"Role",admin:"Admin",member:"Member",adminDescription:"Manage team settings, members and billings",memberDescription:"Can create tasks and see what others are building",sending:"Sending...",sendInvite:"Send Invite",errors:{emailRequired:{title:"Email Required",description:"Please enter a valid email address."},organizationIdRequired:{title:"Error",description:"Organization ID is required."},invalidEmail:{title:"Invalid Email Address"},noValidEmails:{title:"No Valid Emails",description:"Please enter at least one valid email address."},invitationFailed:"Invitation Failed",alreadyInvited:"Already have a pending invite: {{emails}}",alreadyMembers:"Already members of this project: {{emails}}"},success:{invitationSent:"Invitation Sent",invitationsSentCount:"Successfully sent {{count}} invitations"}},LMe={new:"NEW",title:"Introducing Projects",subtitle:"& free collaboration for everyone.",organizeTitle:"Organize your tasks",organizeDescription:"Group all related tasks and forks into one place.",collaborateTitle:"Collaborate for free",collaborateDescription:"Invite teammates to your projects and work together seamlessly.",learnMore:"Learn more",createFirstProject:"Create your first project",enterDetails:"Enter Project details",detailsDescription:"Projects allow you to collaborate on tasks and track usage per idea.",randomizeAvatar:"Randomize avatar gradient",randomizeGradient:"Randomize gradient",projectName:"Project name",projectNamePlaceholder:"ex : Resume analyzer, Client A, Side project",projectNameRequired:"Please enter a project name",back:"Back",continueToTasks:"Continue to add tasks",moveTasksTo:"Move tasks to",selectTasks:"Select tasks to move to this project.",searchTasks:"Search tasks",noTasksAvailable:"No tasks available",noTasksMatch:"No tasks match your search",forkFrom:"Fork {{number}} from ",skip:"Skip",continueToInvite:"Continue to invite members",inviteMembersTo:"Invite members to",inviteDescription:"Invite teammates to collaborate on this project.",emailAddresses:"Email addresses",emailPlaceholder:"example@example.com, example2@example.com",role:"Role",member:"Member",admin:"Admin",adminDescription:"Manage team settings, members and billings",memberDescription:"Can create tasks and see what others are building",createProject:"Create Project"},PMe={new:"NEW",title:"Introducing Projects",subtitle:"A new chapter for your team",description:"As one of our first Team plan users, your feedback shaped how collaboration works. Today, we're making collaboration free for everyone by evolving Teams into Projects.",seeWhatsNew:"See what's new"},OMe={header:"Here's what's new:",okayGotIt:"Okay, got it",learnMore:"Learn more",moveTasks:{title:"Organise Tasks Cleanly",description:"As a much-requested feature, you can now move tasks and all connected forks into one place."},collaboration:{title:"No limit on collaboration",description:"You can now create unlimited Projects and add unlimited collaborators per Project."},credits:{title:"What happens to my credits?",description:"We've retired Team plan and moved all your credits to your personal plan. You now have one central balance to manage and track your usage."},staysSame:{title:"Everything stays same",description:"We are moving your subscription to Pro plan next billing cycle, all the same benefits"}},BMe={welcome:jMe,tabs:NMe,sidebar:FMe,deployedApps:EMe,recentTasks:SMe,textarea:kMe,repositorySelector:IMe,bottomPageElements:TMe,suggestionChips:AMe,skillsSelector:DMe,perceivedUX:MMe,addMemberModal:RMe,projectsIntroduction:LMe,teamsIntroduction:PMe,teamsFeatures:OMe},UMe={title:"Showcase",description:"Explore what the community is building with Emergent.",all:"All",remix:"(Remix)",selectCategory:"Select Category",preview:"Preview",remixButton:"Remix",remixing:"Remixing..."},HMe={showcase:UMe},VMe={termsAndConditions:"Terms & Conditions",yourReferralLink:"Your referral link :",loading:"Loading...",notAvailable:"Not Available",copyLink:"Copy Link",copied:"Copied",shareYour:"Share your",referralLink:"referral link",theyGet:"They get",extraCredits:"extra 5 credits",whenTheyJoin:"when they join.",youEarn:"You earn",credits:"{{credits}} credits",onFirstSubscription:"on their first subscription.",yourReferrals:"Your referrals :",creditEarned:"Referral credit earned",totalInvitations:"Total invitations",viewTerms:"View Terms & Conditions",terms:{newUsersOnly:{title:"New users only",description:"This referral program is exclusively for first-time users who haven't previously created an account."},rewardEligibility:{title:"Reward eligibility",description:"You earn credits when someone signs up using your referral code and purchases their first subscription."},programFlexibility:{title:"Program flexibility",description:"We may modify, suspend, or discontinue this referral program at any time without prior notice."},appropriateSharing:{title:"Appropriate sharing",description:"Share your referral link responsibly in relevant contexts. Spam, misleading promotions, or inappropriate distribution may result in account penalties."},qualityControl:{title:"Quality control",description:"We monitor for fraudulent activity and may withhold rewards or suspend accounts that violate our community standards."},oneRewardPerReferral:{title:"One reward per referral",description:"Each successfully referred user earns you credits once. Multiple referrals from the same user are not eligible for additional rewards."}},accessibility:{referralBackground:"Referral background",coinIcon:"Credit coin"}},$Me={referral:VMe},zMe=localStorage.getItem("i18nextLng");zMe==="pt"&&localStorage.setItem("i18nextLng","pt-BR");const WMe={en:{common:aMe,legal:dMe,billing:pMe,settings:bMe,teams:_Me,home:BMe,showcase:HMe,referral:$Me}};N1.isInitialized||N1.use(IG).use(eY).use(tY).init({resources:WMe,partialBundledLanguages:!0,fallbackLng:"en",supportedLngs:["en","fr","es","de","it","pt-BR","pt-PT"],defaultNS:"common",ns:["common","legal","billing","settings","teams","home","showcase","referral"],interpolation:{escapeValue:!1},detection:{order:["localStorage","cookie"],caches:["localStorage","cookie"]},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},react:{useSuspense:!1},load:"currentOnly"}).catch(()=>{jt(jP.INIT,new Error("Failed to initialize i18n"))});const GMe=d.lazy(()=>vn(()=>import("./chunks/LandingIndex.tsx-BErU3-l4.js"),__vite__mapDeps([77,4,3,5,2,78,36,10,6,7,8,9,11,12]))),qy=d.lazy(()=>vn(()=>import("./chunks/authentication.tsx-C7KnWedc.js"),__vite__mapDeps([79,2,3,78,36,10,4,5,6,7,8,9,11,12]))),qMe=d.lazy(()=>vn(()=>import("./chunks/email-verfication.tsx-CEeQytBn.js"),__vite__mapDeps([80,2,3,4,5,6,7,8,9,10,11,12]))),KMe=d.lazy(()=>vn(()=>import("./chunks/passwordReset.tsx-CwVUnTz0.js"),__vite__mapDeps([81,2,3,4,5,6,7,8,9,10,11,12]))),YMe=d.lazy(()=>vn(()=>import("./chunks/privacy-policy.tsx-D5N8edev.js"),__vite__mapDeps([82,2,3,9,4,5,6,7,8,10,11,12]))),ZMe=d.lazy(()=>vn(()=>import("./chunks/terms-and-service.tsx-mWeEbt8S.js"),__vite__mapDeps([83,2,3,9,4,5,6,7,8,10,11,12]))),JMe=d.lazy(()=>vn(()=>import("./chunks/oauth.tsx-BCBDDzxC.js"),__vite__mapDeps([84,2,3,4,5,6,7,8,9,10,11,12]))),XMe=d.lazy(()=>vn(()=>import("./chunks/PreviewLoading.tsx-B1yfO-Mx.js"),__vite__mapDeps([85,2,3,8,10,4,5,6,7,9,11,12]))),QMe=d.lazy(()=>vn(()=>import("./chunks/PreviewNotFound.tsx-Ch_zgsib.js"),__vite__mapDeps([86,2,3]))),eRe=d.lazy(()=>vn(()=>import("./chunks/GitHubCallback.tsx-CIK5mPAB.js"),__vite__mapDeps([87,2,3,4,5,6,7,8,9,10,11,12]))),tRe=d.lazy(()=>vn(()=>import("./chunks/MobileGitHubCallback.tsx-BBtevhOf.js"),__vite__mapDeps([88,2,3,4,5,6,7,8,9,10,11,12]))),nRe=d.lazy(()=>vn(()=>import("./chunks/PartnersTerms.tsx-lvdu-VX9.js"),__vite__mapDeps([89,2,3,4,5,6,7,8,9,10,11,12]))),sRe=d.lazy(()=>vn(()=>import("./chunks/share-app.tsx-D8pxeGjx.js"),__vite__mapDeps([90,2,3,91,4,5,6,7,8,9,10,11,12]))),rRe=d.lazy(()=>vn(()=>import("./chunks/share-preview.tsx-BES5e9RT.js"),__vite__mapDeps([92,2,3,91,4,5,6,7,8,9,10,11,12]))),iRe=d.lazy(()=>vn(()=>import("./chunks/mobile-app-redirect.tsx-CJFHIuAI.js"),__vite__mapDeps([93,2,3,4,5,6,7,8,9,10,11,12]))),aRe=d.lazy(()=>vn(()=>import("./chunks/mobile-app-download.tsx-BetZDzeO.js"),__vite__mapDeps([94,2,3,9,4,5,6,7,8,10,11,12]))),oRe=()=>t.jsx("div",{className:"flex items-center justify-center w-full h-screen bg-background",children:t.jsx(Pc,{className:"w-8 h-8"})});if(window.location.pathname==="/domain-success"||window.location.pathname==="/domain-exit"){const n=new URLSearchParams(window.location.search).get("returnPath");n?window.location.replace(window.location.origin+decodeURIComponent(n)):window.location.replace(window.location.origin+bu)}const lRe=e=>{const n=e.split("/");return n.includes("chat")?null:n.length>=3?n[2]:null};function cRe({to:e}){return d.useEffect(()=>{window.location.href=e},[e]),null}function dRe({children:e}){return iTe(),t.jsx(t.Fragment,{children:e})}function uRe({children:e}){const{user:n,session:s,loading:r}=os(),{updateTabState:i,setActiveTab:a,setTabs:o,getTabByJobId:l}=hi(),c=Mi(),[u]=Fu(),p=Ea(),[f,m]=d.useState(new Set),h=d.useRef(null);d.useEffect(()=>{const v=u.get("chip");if(v)try{localStorage.setItem(kg,v)}catch{}},[u]),d.useEffect(()=>{const v=c.pathname==="/",b=c.pathname===bu,y=/^\/workspace\/[^\/]+$/.test(c.pathname);if(v||b||y){if(r)return;if(!n){if(window.location.pathname===Pa)return;if(window.location.pathname===""){const _=new URLSearchParams(window.location.search),N=_.toString()?`${Pa}?${_.toString()}`:Pa;window.location.href=N}else P9("You are unauthorized to use this application",!1);return}a("home")}},[c.pathname,a,r,n,p]),d.useEffect(()=>{if(c.pathname.includes("/chat")||c.pathname.match(/\/workspace\/[^\/]+\/chat/)){const b=lRe(c.pathname);if(b&&!f.has(c.pathname)&&h.current===null){const y=l(b);y?(a(y.id),m(w=>new Set([...w,c.pathname]))):(h.current=b,x(b))}}},[c.pathname,f]),d.useEffect(()=>{const v=u.get("job_id");if(v&&h.current===null){const b=l(v);if(b){a(b.id);const y=new URLSearchParams(u);y.delete("job_id"),window.history.replaceState(null,"",`${c.pathname}${y.toString()?`?${y.toString()}`:""}`)}else h.current=v,x(v)}},[u,l,a]);const x=async v=>{try{const b=l(v);if(b){a(b.id),m(_=>new Set([..._,c.pathname])),h.current=null;return}const w=(await vt.getJob(v)).data;if(!w){h.current=null;return}if(g(w),m(_=>new Set([..._,c.pathname])),u.has("job_id")){const _=new URLSearchParams(u);_.delete("job_id"),window.history.replaceState(null,"",`${c.pathname}${_.toString()?`?${_.toString()}`:""}`)}}catch{}finally{h.current=null}},g=v=>{if(!v.payload.task)return;const b=v.payload.container_id||v.id;if(!b)return;const y=l(v.id);if(y){a(y.id),ss("tab_switched",{jobId:v.id,containerId:b,tabId:y.id,taskLength:v.payload.task?.length||0});return}const w=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,_=`/root/runs/${v.id}/trajectory.json`,N={containerId:v.payload.container_id||v.id,initial_commit_id:v.payload.initial_commit_id,task:v.payload.task,jobId:v.id,trajPath:_,tabId:w,fromJobList:!0,isCloudFlow:v.payload?.is_cloud,clientRefId:v.client_ref_id,modelName:v.payload.model_name,promptName:v.payload.prompt_name,promptVersion:v.payload.prompt_version,costLimit:v.payload.per_instance_cost_limit,agentName:v.payload.agent_name,portMapping:v.payload.portMapping,created_by:v.created_by};o(j=>[...j,{id:w,title:`${v.payload.task}`,path:"/chat",level:v.organization_id?"organization":"user",organization_id:v.organization_id,organization_name:v.organization_name,created_by:v.created_by,state:N,tabHeading:v.payload.task||"Untitled"}]),ss("tab_opened",{jobId:v.id,containerId:b,tabId:w,isCloudFlow:v.payload?.is_cloud||!1,modelName:v.payload.model_name,taskLength:v.payload.task?.length||0}),i(w,N),a(w)};if(r)return t.jsx("div",{className:"flex items-center justify-center h-full pt-[76px]"});if(!s||!n){if(c.pathname===Pa)return t.jsx(t.Fragment,{children:e});const b=new URLSearchParams(u).toString(),y=b?`${Pa}?${b}`:Pa;return t.jsx(AK,{to:y,replace:!0})}return t.jsx(t.Fragment,{children:e})}function pRe(){const{user:e}=os(),n=Mi(),[s]=Fu(),{getReferralModalData:r,clearReferralModalData:i}=zW(),a=zO(),[o,l]=d.useState(!1),{credits:c}=xs(),u=Sa(),{t:p}=en("teams");d.useEffect(()=>(u?(document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.webkitTouchCallout="none"):(document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.webkitTouchCallout=""),()=>{document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.webkitTouchCallout=""}),[u]),aTe(),d.useEffect(()=>{s.get("utm_source")!=="emergent-badge"&&xse(s)},[s]),d.useEffect(()=>{const O=()=>{bse()};O(),typeof window<"u"&&window.rewardful&&window.rewardful("ready",()=>{O()});const M=setInterval(()=>{(window.Rewardful?.affiliate||window.Rewardful?.referral)&&(O(),clearInterval(M))},500),L=setTimeout(()=>{clearInterval(M)},5e3);return()=>{clearInterval(M),clearTimeout(L)}},[]),d.useEffect(()=>{const O=s.get("switching");if(O){const M=decodeURIComponent(O);a7.show(2e3,p("teams.switchingToWorkspace",{workspaceName:M,defaultValue:`Switching to ${M}...`}));const L=new URLSearchParams(s);L.delete("switching");const P=`${n.pathname}${L.toString()?`?${L.toString()}`:""}`;window.history.replaceState(null,"",P)}},[s,n.pathname]);const f=e7(n.pathname);Kr(void 0,{skip:!e||f});const{isPaymentModalOpen:m,setPaymentModalOpen:h,isSubscriptionModalOpen:x,setSubscriptionModalOpen:g,isGiftingSuccessModalOpen:v,setGiftingSuccessModalOpen:b,paymentId:y,paymentStatus:w,paymentType:_,organizationId:N,giftingDetails:j}=Dke(),C=_==="gift",S=O=>{g(O),!O&&w==="success"&&N&&!o&&y&&(a.open({organizationId:N,organizationName:void 0,paymentId:y,initialStatus:w,mode:"welcome"}),l(!0))};d.useEffect(()=>{if(e&&e.user_metadata)if(e.user_metadata.email_verified!==!0){const O=e.email;O?window.location.href=`/verify?email=${encodeURIComponent(O)}`:window.location.href="/"}else e.user_metadata.needs_invite_code&&n.pathname!=="/activate"&&(window.location.href="/activate")},[e,n.pathname]),d.useEffect(()=>{Lke(),WW.initializeReferralHandling()},[]),d.useEffect(()=>{const O=s.get("mobile");s.get("utm_term")==="pro_mode"&&localStorage.setItem("showThankYou","pro_mode"),O==="true"&&localStorage.setItem("mobile","true")},[s]);const[F]=UP();d.useEffect(()=>{const O=async M=>{try{const L=typeof M.data=="string"?JSON.parse(M.data):M.data;if(L.type==="GITHUB_INSTALLATION_CALLBACK"&&L.installation_id)try{await F({installationId:L.installation_id,code:L.code||""}).unwrap(),zi("GITHUB_INSTALLATION_RESULT",{success:!0,installationId:L.installation_id})}catch(P){zi("GITHUB_INSTALLATION_RESULT",{success:!1,error:P?.message||"Failed to save GitHub installation"})}}catch{}};return window.addEventListener("message",O),document.addEventListener("message",O),()=>{window.removeEventListener("message",O),document.removeEventListener("message",O)}},[F]);const[E,I]=d.useState(!1),[T,A]=d.useState(5);d.useEffect(()=>{if(e&&n.pathname==="/"&&!f){const O=r();O&&O.shouldShow&&(A(O.reward),I(!0))}},[e,n.pathname,f,r,c]);const D=O=>{I(O),O||i()};return d.useEffect(()=>{if(!localStorage.getItem("userSelectedLanguage")&&AF()){const O=navigator.language,M=O.split("-")[0],L=x5.find(B=>B.code===O);if(L){N1.changeLanguage(L.code);return}const P=x5.find(B=>B.code===M||B.code.startsWith(M+"-"));P&&N1.changeLanguage(P.code)}},[AF,N1]),t.jsx(x0e,{children:t.jsxs(dRe,{children:[" ",t.jsxs("div",{className:"font-sans antialiased h-dvh md:h-screen dark",children:[y&&w&&t.jsx(aC,{isOpen:_==="subscription"?x:m,onOpenChange:_==="subscription"?S:h,paymentId:y,initialStatus:w,paymentType:C?"gift":_==="subscription"?"subscription":"topup",organizationId:N||void 0,onGiftSuccess:()=>b(!0),navigationStrategy:N?"workspace":"none"}),C&&j&&t.jsx(KC,{isOpen:v,onOpenChange:b,recipientName:j.recipientName,recipientEmail:j.recipientEmail,senderEmail:j.senderEmail,selectedCardIndex:j.selectedCardIndex}),t.jsx($ke,{isOpen:E,onOpenChange:D,reward:T}),t.jsx(d.Suspense,{fallback:t.jsx(oRe,{}),children:t.jsxs(TK,{children:[t.jsx(Ci,{path:Pa,element:t.jsx(GMe,{view:"login"})}),t.jsx(Ci,{path:"/login",element:t.jsx(qy,{view:"login"})}),t.jsx(Ci,{path:"/register",element:t.jsx(qy,{view:"signup"})}),t.jsx(Ci,{path:"/oauth",element:t.jsx(JMe,{})}),t.jsx(Ci,{path:"/activate",element:t.jsx(qy,{view:"activate"})}),t.jsx(Ci,{path:"/loading-preview",element:t.jsx(XMe,{})}),t.jsx(Ci,{path:"/preview-not-found",element:t.jsx(QMe,{})}),t.jsx(Ci,{path:"/verify",element:t.jsx(qMe,{})}),t.jsx(Ci,{path:"/reset-password",element:t.jsx(KMe,{})}),t.jsx(Ci,{path:"/github-callback",element:t.jsx(eRe,{})}),t.jsx(Ci,{path:"/mobile-github-callback",element:t.jsx(tRe,{})}),t.jsx(Ci,{path:"/affiliates",element:t.jsx(cRe,{to:"https://emergent.sh/affiliates"})}),t.jsx(Ci,{path:"/affiliates/terms",element:t.jsx(nRe,{})}),t.jsx(Ci,{path:"/accept-invitation",element:t.jsx(Wke,{})}),t.jsx(Ci,{path:"/privacy-policy",element:t.jsx(YMe,{})}),t.jsx(Ci,{path:"/terms-of-service",element:t.jsx(ZMe,{})}),t.jsx(Ci,{path:"/share",element:t.jsx(sRe,{})}),t.jsx(Ci,{path:"/share-preview",element:t.jsx(rRe,{})}),t.jsx(Ci,{path:"/mobile/*",element:t.jsx(iRe,{})}),t.jsx(Ci,{path:"/mobile-app",element:t.jsx(aRe,{})}),t.jsx(Ci,{path:"*",element:t.jsx(uRe,{children:t.jsx(Og,{resetKey:n.pathname,fallback:t.jsxs(t.Fragment,{children:[t.jsx(_D,{}),t.jsx(FD,{})]}),children:t.jsxs(Kle,{children:[t.jsx(_D,{}),t.jsx(FD,{}),t.jsx(XIe,{})]})})})})]})}),t.jsx(Uke,{}),t.jsx(Tke,{}),t.jsx(zke,{}),t.jsx(BDe,{})]})]})})}const fRe=d.createContext(void 0);function mRe({children:e}){const[n,s]=d.useState("dark");return d.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";H(pse.SYSTEM_THEME_DETECTED,{systemTheme:r,appTheme:n,themeMismatch:r!==n})},[]),d.useEffect(()=>{const r=window.document.documentElement;r.classList.remove("light","dark"),r.classList.add(n)},[n]),t.jsx(fRe.Provider,{value:{theme:n,setTheme:s},children:e})}function Hg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hg=function(s){return typeof s}:Hg=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Hg(e)}function hRe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function xRe(e,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gRe(e,n,s){return n&&xRe(e.prototype,n),e}function bRe(e,n){return n&&(Hg(n)==="object"||typeof n=="function")?n:Vg(e)}function H8(e){return H8=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},H8(e)}function Vg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yRe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&V8(e,n)}function V8(e,n){return V8=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},V8(e,n)}function $g(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}var TG=(function(e){yRe(n,e);function n(){var s,r;hRe(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=bRe(this,(s=H8(n)).call.apply(s,[this].concat(a))),$g(Vg(r),"state",{bootstrapped:!1}),$g(Vg(r),"_unsubscribe",void 0),$g(Vg(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),u=c.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return gRe(n,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),n})(d.PureComponent);$g(TG,"defaultProps",{children:null,loading:null});var AG=d.createContext({client:Wt,bootstrap:void 0});function DG(e,n,s){if(s===void 0&&(s=new WeakMap),e===n)return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(s.has(e)&&s.get(e)===n)return!0;s.set(e,n);var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(var a=0,o=r;a<o.length;a++){var l=o[a];if(!i.includes(l)||!DG(e[l],n[l],s))return!1}return!0}function vRe(e){var n,s,r=e.children,i=e.client,a=e.apiKey,o=e.options,l=d.useRef(null),c=d.useMemo(function(){return i||Wt},[i,a,JSON.stringify(o)]);return d.useEffect(function(){if(!i){var u=l.current;u?(u.apiKey,o&&!DG(o,u.options)&&Wt.set_config(o),l.current={apiKey:a,options:o??{}}):(Wt.__loaded,Wt.init(a,o),l.current={apiKey:a,options:o??{}})}},[i,a,JSON.stringify(o)]),et.createElement(AG.Provider,{value:{client:c,bootstrap:(n=o?.bootstrap)!==null&&n!==void 0?n:(s=i?.config)===null||s===void 0?void 0:s.bootstrap}},r)}var Ky=function(e){return typeof e=="function"},$8=function(e,n){return $8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])},$8(e,n)};function wRe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");$8(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var CRe={componentStack:null,exceptionEvent:null,error:null};(function(e){wRe(n,e);function n(s){var r=e.call(this,s)||this;return r.state=CRe,r}return n.prototype.componentDidCatch=function(s,r){var i=this.props.additionalProperties,a;Ky(i)?a=i(s):typeof i=="object"&&(a=i);var o=this.context.client,l=o.captureException(s,a),c=r.componentStack;this.setState({error:s,componentStack:c,exceptionEvent:l})},n.prototype.render=function(){var s=this.props,r=s.children,i=s.fallback,a=this.state;if(a.componentStack==null)return Ky(r)?r():r;var o=Ky(i)?et.createElement(i,{error:a.error,componentStack:a.componentStack,exceptionEvent:a.exceptionEvent}):i;return et.isValidElement(o)?o:et.createElement(et.Fragment,null)},n.contextType=AG,n})(et.Component);window.__BUILD_TIME__="2026-02-21T12:00:45.811Z";window.__APP_VERSION__="1.0.466";try{$ne()}catch{}try{yie()}catch{}try{}catch{}try{e0e()}catch{}const _Re={api_host:QM.apiHost,session_recording:{recordCrossOriginIframes:!0}};oY.createRoot(document.getElementById("root")).render(t.jsx(et.StrictMode,{children:t.jsx(DK,{children:t.jsx(vRe,{apiKey:QM.apiKey,options:_Re,children:t.jsx(hoe,{apiKey:K_.apiKey,endpoints:[K_.endpoint],children:t.jsx(ZK,{store:Qi,children:t.jsx(TG,{loading:null,persistor:hie,children:t.jsx(nY,{features:sY,children:t.jsx(mRe,{children:t.jsx(Eoe,{children:t.jsx(Noe,{children:t.jsx(_le,{children:t.jsx(Soe,{children:t.jsx(Doe,{children:t.jsx(Uoe,{children:t.jsx(fxe,{children:t.jsx(ySe,{children:t.jsx(pRe,{})})})})})})})})})})})})})})})})}));export{lLe as $,Au as A,zt as B,cd as C,as as D,d3 as E,Hge as F,wo as G,UH as H,K as I,Df as J,cc as K,Pa as L,wp as M,vCe as N,Er as O,V8e as P,lc as Q,eC as R,Pc as S,Lo as T,ha as U,xh as V,Gi as W,Ft as X,ad as Y,vp as Z,ts as _,os as a,WN as a$,pxe as a0,ud as a1,uf as a2,Yl as a3,n5 as a4,Oi as a5,cLe as a6,qO as a7,KO as a8,G5 as a9,uLe as aA,qn as aB,mLe as aC,BPe as aD,xxe as aE,vt as aF,oi as aG,P0e as aH,Uo as aI,Yx as aJ,h3 as aK,mf as aL,m2 as aM,xn as aN,ro as aO,JQ as aP,Vn as aQ,c2 as aR,Zc as aS,sc as aT,S0e as aU,LPe as aV,WW as aW,$7 as aX,z7 as aY,Y8e as aZ,so as a_,Qre as aa,DPe as ab,er as ac,fa as ad,_W as ae,nEe as af,A9 as ag,ALe as ah,Ga as ai,Ur as aj,bPe as ak,_Pe as al,yPe as am,jPe as an,vPe as ao,wPe as ap,CPe as aq,NPe as ar,e7 as as,ka as at,nc as au,y8 as av,aPe as aw,Hr as ax,pLe as ay,Di as az,dl as b,kLe as b$,HLe as b0,S9 as b1,ULe as b2,rn as b3,Cs as b4,oLe as b5,yp as b6,_a as b7,gi as b8,ku as b9,B5 as bA,bLe as bB,DN as bC,PLe as bD,cte as bE,OLe as bF,lte as bG,BP as bH,bre as bI,gre as bJ,xl as bK,Fa as bL,bl as bM,$o as bN,BEe as bO,Qc as bP,ma as bQ,T4e as bR,oc as bS,GL as bT,TN as bU,wLe as bV,SLe as bW,EN as bX,t0 as bY,Bee as bZ,Oee as b_,FPe as ba,Xre as bb,jW as bc,MPe as bd,lf as be,APe as bf,jt as bg,Zt as bh,Ms as bi,xQ as bj,Gr as bk,q9 as bl,fLe as bm,aF as bn,Ec as bo,I9 as bp,Cee as bq,KLe as br,tb as bs,FLe as bt,oF as bu,yr as bv,GLe as bw,Js as bx,YLe as by,ELe as bz,Du as c,i5e as c$,Lee as c0,ZQ as c1,hu as c2,Wee as c3,Gee as c4,qLe as c5,ILe as c6,TLe as c7,WLe as c8,OPe as c9,RPe as cA,tP as cB,dP as cC,j9 as cD,vee as cE,wee as cF,e0 as cG,bee as cH,yee as cI,hee as cJ,kN as cK,yLe as cL,rPe as cM,iPe as cN,QLe as cO,tPe as cP,ePe as cQ,sPe as cR,cF as cS,Bne as cT,nPe as cU,One as cV,vu as cW,dLe as cX,L1 as cY,ss as cZ,v2 as c_,PPe as ca,pi as cb,ORe as cc,KX as cd,Cl as ce,hLe as cf,UPe as cg,gLe as ch,nx as ci,Xee as cj,Ute as ck,U5 as cl,Hte as cm,Mte as cn,bne as co,Ai as cp,KL as cq,xLe as cr,Ii as cs,eee as ct,CLe as cu,_Le as cv,gee as cw,jLe as cx,CN as cy,NLe as cz,ns as d,EPe as d$,d0,Hf as d1,aC as d2,kn as d3,aw as d4,Ho as d5,AN as d6,DLe as d7,vLe as d8,ree as d9,F2e as dA,mV as dB,Gc as dC,qc as dD,td as dE,HEe as dF,Vf as dG,Of as dH,x5 as dI,Qme as dJ,e1e as dK,nH as dL,s1e as dM,xV as dN,Eme as dO,ms as dP,Ss as dQ,ks as dR,Ns as dS,G7 as dT,FSe as dU,oD as dV,uPe as dW,mPe as dX,hPe as dY,hi as dZ,Jre as d_,tx as da,wN as db,mu as dc,qd as dd,Gv as de,iee as df,Nee as dg,zee as dh,qL as di,Mee as dj,VFe as dk,WPe as dl,z6 as dm,i5 as dn,GPe as dp,w7e as dq,GT as dr,cf as ds,S9e as dt,DSe as du,KPe as dv,$ve as dw,ISe as dx,K9 as dy,Lm as dz,va as e,Qne as e0,r0 as e1,JP as e2,HP as e3,fPe as e4,xPe as e5,Wa as e6,gPe as e7,qPe as e8,Az as f,wT as g,Z$ as h,k as i,gn as j,H as k,xs as l,hs as m,rz as n,pPe as o,Kr as p,Nre as q,$Pe as r,zi as s,yb as t,Vve as u,Cr as v,RSe as w,tn as x,Tu as y,ld as z};
